/*! For license information please see main.3c72a91f.js.LICENSE.txt */
(()=>{var e={4:(e,t,n)=>{"use strict";var i=n(853),o=n(43),r=n(950);function s(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function l(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function u(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function c(e){if(l(e)!==e)throw Error(s(188))}function d(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=d(e)))return t;e=e.sibling}return null}var h=Object.assign,p=Symbol.for("react.element"),g=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),v=Symbol.for("react.fragment"),f=Symbol.for("react.strict_mode"),w=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),b=Symbol.for("react.consumer"),y=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),E=Symbol.for("react.memo"),F=Symbol.for("react.lazy");Symbol.for("react.scope");var k=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var A=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var R=Symbol.iterator;function P(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=R&&e[R]||e["@@iterator"])?e:null}var T=Symbol.for("react.client.reference");function _(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===T?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case v:return"Fragment";case w:return"Profiler";case f:return"StrictMode";case x:return"Suspense";case D:return"SuspenseList";case k:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case m:return"Portal";case y:return(e.displayName||"Context")+".Provider";case b:return(e._context.displayName||"Context")+".Consumer";case S:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case E:return null!==(t=e.displayName||null)?t:_(e.type)||"Memo";case F:t=e._payload,e=e._init;try{return _(e(t))}catch(n){}}return null}var M=Array.isArray,I=o.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,N={pending:!1,data:null,method:null,action:null},B=[],O=-1;function G(e){return{current:e}}function z(e){0>O||(e.current=B[O],B[O]=null,O--)}function V(e,t){O++,B[O]=e.current,e.current=t}var H=G(null),j=G(null),W=G(null),U=G(null);function K(e,t){switch(V(W,t),V(j,e),V(H,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?od(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=rd(t=od(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}z(H),V(H,e)}function q(){z(H),z(j),z(W)}function Y(e){null!==e.memoizedState&&V(U,e);var t=H.current,n=rd(t,e.type);t!==n&&(V(j,e),V(H,n))}function Z(e){j.current===e&&(z(H),z(j)),U.current===e&&(z(U),Yd._currentValue=N)}var $=Object.prototype.hasOwnProperty,X=i.unstable_scheduleCallback,Q=i.unstable_cancelCallback,J=i.unstable_shouldYield,ee=i.unstable_requestPaint,te=i.unstable_now,ne=i.unstable_getCurrentPriorityLevel,ie=i.unstable_ImmediatePriority,oe=i.unstable_UserBlockingPriority,re=i.unstable_NormalPriority,se=i.unstable_LowPriority,ae=i.unstable_IdlePriority,le=i.log,ue=i.unstable_setDisableYieldValue,ce=null,de=null;function he(e){if("function"===typeof le&&ue(e),de&&"function"===typeof de.setStrictMode)try{de.setStrictMode(ce,e)}catch(t){}}var pe=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(ge(e)/me|0)|0},ge=Math.log,me=Math.LN2;var ve=256,fe=4194304;function we(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194048&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ce(e,t,n){var i=e.pendingLanes;if(0===i)return 0;var o=0,r=e.suspendedLanes,s=e.pingedLanes;e=e.warmLanes;var a=134217727&i;return 0!==a?0!==(i=a&~r)?o=we(i):0!==(s&=a)?o=we(s):n||0!==(n=a&~e)&&(o=we(n)):0!==(a=i&~r)?o=we(a):0!==s?o=we(s):n||0!==(n=i&~e)&&(o=we(n)),0===o?0:0!==t&&t!==o&&0===(t&r)&&((r=o&-o)>=(n=t&-t)||32===r&&0!==(4194048&n))?t:o}function be(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function ye(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Se(){var e=ve;return 0===(4194048&(ve<<=1))&&(ve=256),e}function xe(){var e=fe;return 0===(62914560&(fe<<=1))&&(fe=4194304),e}function De(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ee(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Fe(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var i=31-pe(t);e.entangledLanes|=t,e.entanglements[i]=1073741824|e.entanglements[i]|4194090&n}function ke(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-pe(n),o=1<<i;o&t|e[i]&t&&(e[i]|=t),n&=~o}}function Ae(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Re(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function Pe(){var e=L.p;return 0!==e?e:void 0===(e=window.event)?32:uh(e.type)}var Te=Math.random().toString(36).slice(2),_e="__reactFiber$"+Te,Me="__reactProps$"+Te,Ie="__reactContainer$"+Te,Le="__reactEvents$"+Te,Ne="__reactListeners$"+Te,Be="__reactHandles$"+Te,Oe="__reactResources$"+Te,Ge="__reactMarker$"+Te;function ze(e){delete e[_e],delete e[Me],delete e[Le],delete e[Ne],delete e[Be]}function Ve(e){var t=e[_e];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ie]||n[_e]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Cd(e);null!==e;){if(n=e[_e])return n;e=Cd(e)}return t}n=(e=n).parentNode}return null}function He(e){if(e=e[_e]||e[Ie]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function je(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(s(33))}function We(e){var t=e[Oe];return t||(t=e[Oe]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Ue(e){e[Ge]=!0}var Ke=new Set,qe={};function Ye(e,t){Ze(e,t),Ze(e+"Capture",t)}function Ze(e,t){for(qe[e]=t,e=0;e<t.length;e++)Ke.add(t[e])}var $e,Xe,Qe=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Je={},et={};function tt(e,t,n){if(o=t,$.call(et,o)||!$.call(Je,o)&&(Qe.test(o)?et[o]=!0:(Je[o]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var i=t.toLowerCase().slice(0,5);if("data-"!==i&&"aria-"!==i)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var o}function nt(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function it(e,t,n,i){if(null===i)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+i)}}function ot(e){if(void 0===$e)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);$e=t&&t[1]||"",Xe=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+$e+e+Xe}var rt=!1;function st(e,t){if(!e||rt)return"";rt=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(o){var i=o}Reflect.construct(e,[],n)}else{try{n.call()}catch(r){i=r}e.call(n.prototype)}}else{try{throw Error()}catch(s){i=s}(n=e())&&"function"===typeof n.catch&&n.catch(function(){})}}catch(a){if(a&&i&&"string"===typeof a.stack)return[a.stack,i.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var r=i.DetermineComponentFrameRoot(),s=r[0],a=r[1];if(s&&a){var l=s.split("\n"),u=a.split("\n");for(o=i=0;i<l.length&&!l[i].includes("DetermineComponentFrameRoot");)i++;for(;o<u.length&&!u[o].includes("DetermineComponentFrameRoot");)o++;if(i===l.length||o===u.length)for(i=l.length-1,o=u.length-1;1<=i&&0<=o&&l[i]!==u[o];)o--;for(;1<=i&&0<=o;i--,o--)if(l[i]!==u[o]){if(1!==i||1!==o)do{if(i--,0>--o||l[i]!==u[o]){var c="\n"+l[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}}while(1<=i&&0<=o);break}}}finally{rt=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?ot(n):""}function at(e){switch(e.tag){case 26:case 27:case 5:return ot(e.type);case 16:return ot("Lazy");case 13:return ot("Suspense");case 19:return ot("SuspenseList");case 0:case 15:return st(e.type,!1);case 11:return st(e.type.render,!1);case 1:return st(e.type,!0);case 31:return ot("Activity");default:return""}}function lt(e){try{var t="";do{t+=at(e),e=e.return}while(e);return t}catch(n){return"\nError generating stack: "+n.message+"\n"+n.stack}}function ut(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ct(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function dt(e){e._valueTracker||(e._valueTracker=function(e){var t=ct(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var o=n.get,r=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(e){i=""+e,r.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(e){i=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function ht(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=ct(e)?e.checked?"true":"false":e.value),(e=i)!==n&&(t.setValue(e),!0)}function pt(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var gt=/[\n"\\]/g;function mt(e){return e.replace(gt,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function vt(e,t,n,i,o,r,s,a){e.name="",null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s?e.type=s:e.removeAttribute("type"),null!=t?"number"===s?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ut(t)):e.value!==""+ut(t)&&(e.value=""+ut(t)):"submit"!==s&&"reset"!==s||e.removeAttribute("value"),null!=t?wt(e,s,ut(t)):null!=n?wt(e,s,ut(n)):null!=i&&e.removeAttribute("value"),null==o&&null!=r&&(e.defaultChecked=!!r),null!=o&&(e.checked=o&&"function"!==typeof o&&"symbol"!==typeof o),null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a?e.name=""+ut(a):e.removeAttribute("name")}function ft(e,t,n,i,o,r,s,a){if(null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&"boolean"!==typeof r&&(e.type=r),null!=t||null!=n){if(!("submit"!==r&&"reset"!==r||void 0!==t&&null!==t))return;n=null!=n?""+ut(n):"",t=null!=t?""+ut(t):n,a||t===e.value||(e.value=t),e.defaultValue=t}i="function"!==typeof(i=null!=i?i:o)&&"symbol"!==typeof i&&!!i,e.checked=a?e.checked:!!i,e.defaultChecked=!!i,null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s&&(e.name=s)}function wt(e,t,n){"number"===t&&pt(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function Ct(e,t,n,i){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&i&&(e[n].defaultSelected=!0)}else{for(n=""+ut(n),t=null,o=0;o<e.length;o++){if(e[o].value===n)return e[o].selected=!0,void(i&&(e[o].defaultSelected=!0));null!==t||e[o].disabled||(t=e[o])}null!==t&&(t.selected=!0)}}function bt(e,t,n){null==t||((t=""+ut(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+ut(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function yt(e,t,n,i){if(null==t){if(null!=i){if(null!=n)throw Error(s(92));if(M(i)){if(1<i.length)throw Error(s(93));i=i[0]}n=i}null==n&&(n=""),t=n}n=ut(t),e.defaultValue=n,(i=e.textContent)===n&&""!==i&&null!==i&&(e.value=i)}function St(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var xt=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Dt(e,t,n){var i=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?i?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":i?e.setProperty(t,n):"number"!==typeof n||0===n||xt.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Et(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(s(62));if(e=e.style,null!=n){for(var i in n)!n.hasOwnProperty(i)||null!=t&&t.hasOwnProperty(i)||(0===i.indexOf("--")?e.setProperty(i,""):"float"===i?e.cssFloat="":e[i]="");for(var o in t)i=t[o],t.hasOwnProperty(o)&&n[o]!==i&&Dt(e,o,i)}else for(var r in t)t.hasOwnProperty(r)&&Dt(e,r,t[r])}function Ft(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var kt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),At=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Rt(e){return At.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Pt=null;function Tt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var _t=null,Mt=null;function It(e){var t=He(e);if(t&&(e=t.stateNode)){var n=e[Me]||null;e:switch(e=t.stateNode,t.type){case"input":if(vt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+mt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var o=i[Me]||null;if(!o)throw Error(s(90));vt(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(t=0;t<n.length;t++)(i=n[t]).form===e.form&&ht(i)}break e;case"textarea":bt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&Ct(e,!!n.multiple,t,!1)}}}var Lt=!1;function Nt(e,t,n){if(Lt)return e(t,n);Lt=!0;try{return e(t)}finally{if(Lt=!1,(null!==_t||null!==Mt)&&(Vu(),_t&&(t=_t,e=Mt,Mt=_t=null,It(t),e)))for(t=0;t<e.length;t++)It(e[t])}}function Bt(e,t){var n=e.stateNode;if(null===n)return null;var i=n[Me]||null;if(null===i)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(i=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!i;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Ot=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),Gt=!1;if(Ot)try{var zt={};Object.defineProperty(zt,"passive",{get:function(){Gt=!0}}),window.addEventListener("test",zt,zt),window.removeEventListener("test",zt,zt)}catch(Mh){Gt=!1}var Vt=null,Ht=null,jt=null;function Wt(){if(jt)return jt;var e,t,n=Ht,i=n.length,o="value"in Vt?Vt.value:Vt.textContent,r=o.length;for(e=0;e<i&&n[e]===o[e];e++);var s=i-e;for(t=1;t<=s&&n[i-t]===o[r-t];t++);return jt=o.slice(e,1<t?1-t:void 0)}function Ut(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Kt(){return!0}function qt(){return!1}function Yt(e){function t(t,n,i,o,r){for(var s in this._reactName=t,this._targetInst=i,this.type=n,this.nativeEvent=o,this.target=r,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(o):o[s]);return this.isDefaultPrevented=(null!=o.defaultPrevented?o.defaultPrevented:!1===o.returnValue)?Kt:qt,this.isPropagationStopped=qt,this}return h(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Kt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Kt)},persist:function(){},isPersistent:Kt}),t}var Zt,$t,Xt,Qt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Jt=Yt(Qt),en=h({},Qt,{view:0,detail:0}),tn=Yt(en),nn=h({},en,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Xt&&(Xt&&"mousemove"===e.type?(Zt=e.screenX-Xt.screenX,$t=e.screenY-Xt.screenY):$t=Zt=0,Xt=e),Zt)},movementY:function(e){return"movementY"in e?e.movementY:$t}}),on=Yt(nn),rn=Yt(h({},nn,{dataTransfer:0})),sn=Yt(h({},en,{relatedTarget:0})),an=Yt(h({},Qt,{animationName:0,elapsedTime:0,pseudoElement:0})),ln=Yt(h({},Qt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),un=Yt(h({},Qt,{data:0})),cn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=hn[e])&&!!t[e]}function gn(){return pn}var mn=Yt(h({},en,{key:function(e){if(e.key){var t=cn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Ut(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?dn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gn,charCode:function(e){return"keypress"===e.type?Ut(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Ut(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),vn=Yt(h({},nn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),fn=Yt(h({},en,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gn})),wn=Yt(h({},Qt,{propertyName:0,elapsedTime:0,pseudoElement:0})),Cn=Yt(h({},nn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),bn=Yt(h({},Qt,{newState:0,oldState:0})),yn=[9,13,27,32],Sn=Ot&&"CompositionEvent"in window,xn=null;Ot&&"documentMode"in document&&(xn=document.documentMode);var Dn=Ot&&"TextEvent"in window&&!xn,En=Ot&&(!Sn||xn&&8<xn&&11>=xn),Fn=String.fromCharCode(32),kn=!1;function An(e,t){switch(e){case"keyup":return-1!==yn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Rn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Pn=!1;var Tn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _n(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Tn[e.type]:"textarea"===t}function Mn(e,t,n,i){_t?Mt?Mt.push(i):Mt=[i]:_t=i,0<(t=Wc(t,"onChange")).length&&(n=new Jt("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var In=null,Ln=null;function Nn(e){Nc(e,0)}function Bn(e){if(ht(je(e)))return e}function On(e,t){if("change"===e)return t}var Gn=!1;if(Ot){var zn;if(Ot){var Vn="oninput"in document;if(!Vn){var Hn=document.createElement("div");Hn.setAttribute("oninput","return;"),Vn="function"===typeof Hn.oninput}zn=Vn}else zn=!1;Gn=zn&&(!document.documentMode||9<document.documentMode)}function jn(){In&&(In.detachEvent("onpropertychange",Wn),Ln=In=null)}function Wn(e){if("value"===e.propertyName&&Bn(Ln)){var t=[];Mn(t,Ln,e,Tt(e)),Nt(Nn,t)}}function Un(e,t,n){"focusin"===e?(jn(),Ln=n,(In=t).attachEvent("onpropertychange",Wn)):"focusout"===e&&jn()}function Kn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Bn(Ln)}function qn(e,t){if("click"===e)return Bn(t)}function Yn(e,t){if("input"===e||"change"===e)return Bn(t)}var Zn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function $n(e,t){if(Zn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var o=n[i];if(!$.call(t,o)||!Zn(e[o],t[o]))return!1}return!0}function Xn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Qn(e,t){var n,i=Xn(e);for(e=0;i;){if(3===i.nodeType){if(n=e+i.textContent.length,e<=t&&n>=t)return{node:i,offset:t-e};e=n}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Xn(i)}}function Jn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Jn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function ei(e){for(var t=pt((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(i){n=!1}if(!n)break;t=pt((e=t.contentWindow).document)}return t}function ti(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var ni=Ot&&"documentMode"in document&&11>=document.documentMode,ii=null,oi=null,ri=null,si=!1;function ai(e,t,n){var i=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;si||null==ii||ii!==pt(i)||("selectionStart"in(i=ii)&&ti(i)?i={start:i.selectionStart,end:i.selectionEnd}:i={anchorNode:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset},ri&&$n(ri,i)||(ri=i,0<(i=Wc(oi,"onSelect")).length&&(t=new Jt("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=ii)))}function li(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ui={animationend:li("Animation","AnimationEnd"),animationiteration:li("Animation","AnimationIteration"),animationstart:li("Animation","AnimationStart"),transitionrun:li("Transition","TransitionRun"),transitionstart:li("Transition","TransitionStart"),transitioncancel:li("Transition","TransitionCancel"),transitionend:li("Transition","TransitionEnd")},ci={},di={};function hi(e){if(ci[e])return ci[e];if(!ui[e])return e;var t,n=ui[e];for(t in n)if(n.hasOwnProperty(t)&&t in di)return ci[e]=n[t];return e}Ot&&(di=document.createElement("div").style,"AnimationEvent"in window||(delete ui.animationend.animation,delete ui.animationiteration.animation,delete ui.animationstart.animation),"TransitionEvent"in window||delete ui.transitionend.transition);var pi=hi("animationend"),gi=hi("animationiteration"),mi=hi("animationstart"),vi=hi("transitionrun"),fi=hi("transitionstart"),wi=hi("transitioncancel"),Ci=hi("transitionend"),bi=new Map,yi="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Si(e,t){bi.set(e,t),Ye(t,[e])}yi.push("scrollEnd");var xi=new WeakMap;function Di(e,t){if("object"===typeof e&&null!==e){var n=xi.get(e);return void 0!==n?n:(t={value:e,source:t,stack:lt(t)},xi.set(e,t),t)}return{value:e,source:t,stack:lt(t)}}var Ei=[],Fi=0,ki=0;function Ai(){for(var e=Fi,t=ki=Fi=0;t<e;){var n=Ei[t];Ei[t++]=null;var i=Ei[t];Ei[t++]=null;var o=Ei[t];Ei[t++]=null;var r=Ei[t];if(Ei[t++]=null,null!==i&&null!==o){var s=i.pending;null===s?o.next=o:(o.next=s.next,s.next=o),i.pending=o}0!==r&&_i(n,o,r)}}function Ri(e,t,n,i){Ei[Fi++]=e,Ei[Fi++]=t,Ei[Fi++]=n,Ei[Fi++]=i,ki|=i,e.lanes|=i,null!==(e=e.alternate)&&(e.lanes|=i)}function Pi(e,t,n,i){return Ri(e,t,n,i),Mi(e)}function Ti(e,t){return Ri(e,null,null,t),Mi(e)}function _i(e,t,n){e.lanes|=n;var i=e.alternate;null!==i&&(i.lanes|=n);for(var o=!1,r=e.return;null!==r;)r.childLanes|=n,null!==(i=r.alternate)&&(i.childLanes|=n),22===r.tag&&(null===(e=r.stateNode)||1&e._visibility||(o=!0)),e=r,r=r.return;return 3===e.tag?(r=e.stateNode,o&&null!==t&&(o=31-pe(n),null===(i=(e=r.hiddenUpdates)[o])?e[o]=[t]:i.push(t),t.lane=536870912|n),r):null}function Mi(e){if(50<_u)throw _u=0,Mu=null,Error(s(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Ii={};function Li(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ni(e,t,n,i){return new Li(e,t,n,i)}function Bi(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Oi(e,t){var n=e.alternate;return null===n?((n=Ni(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Gi(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function zi(e,t,n,i,o,r){var a=0;if(i=e,"function"===typeof e)Bi(e)&&(a=1);else if("string"===typeof e)a=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,H.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case k:return(e=Ni(31,n,t,o)).elementType=k,e.lanes=r,e;case v:return Vi(n.children,o,r,t);case f:a=8,o|=24;break;case w:return(e=Ni(12,n,t,2|o)).elementType=w,e.lanes=r,e;case x:return(e=Ni(13,n,t,o)).elementType=x,e.lanes=r,e;case D:return(e=Ni(19,n,t,o)).elementType=D,e.lanes=r,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:case y:a=10;break e;case b:a=9;break e;case S:a=11;break e;case E:a=14;break e;case F:a=16,i=null;break e}a=29,n=Error(s(130,null===e?"null":typeof e,"")),i=null}return(t=Ni(a,n,t,o)).elementType=e,t.type=i,t.lanes=r,t}function Vi(e,t,n,i){return(e=Ni(7,e,i,t)).lanes=n,e}function Hi(e,t,n){return(e=Ni(6,e,null,t)).lanes=n,e}function ji(e,t,n){return(t=Ni(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Wi=[],Ui=0,Ki=null,qi=0,Yi=[],Zi=0,$i=null,Xi=1,Qi="";function Ji(e,t){Wi[Ui++]=qi,Wi[Ui++]=Ki,Ki=e,qi=t}function eo(e,t,n){Yi[Zi++]=Xi,Yi[Zi++]=Qi,Yi[Zi++]=$i,$i=e;var i=Xi;e=Qi;var o=32-pe(i)-1;i&=~(1<<o),n+=1;var r=32-pe(t)+o;if(30<r){var s=o-o%5;r=(i&(1<<s)-1).toString(32),i>>=s,o-=s,Xi=1<<32-pe(t)+o|n<<o|i,Qi=r+e}else Xi=1<<r|n<<o|i,Qi=e}function to(e){null!==e.return&&(Ji(e,1),eo(e,1,0))}function no(e){for(;e===Ki;)Ki=Wi[--Ui],Wi[Ui]=null,qi=Wi[--Ui],Wi[Ui]=null;for(;e===$i;)$i=Yi[--Zi],Yi[Zi]=null,Qi=Yi[--Zi],Yi[Zi]=null,Xi=Yi[--Zi],Yi[Zi]=null}var io=null,oo=null,ro=!1,so=null,ao=!1,lo=Error(s(519));function uo(e){throw vo(Di(Error(s(418,"")),e)),lo}function co(e){var t=e.stateNode,n=e.type,i=e.memoizedProps;switch(t[_e]=e,t[Me]=i,n){case"dialog":Bc("cancel",t),Bc("close",t);break;case"iframe":case"object":case"embed":Bc("load",t);break;case"video":case"audio":for(n=0;n<Ic.length;n++)Bc(Ic[n],t);break;case"source":Bc("error",t);break;case"img":case"image":case"link":Bc("error",t),Bc("load",t);break;case"details":Bc("toggle",t);break;case"input":Bc("invalid",t),ft(t,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0),dt(t);break;case"select":Bc("invalid",t);break;case"textarea":Bc("invalid",t),yt(t,i.value,i.defaultValue,i.children),dt(t)}"string"!==typeof(n=i.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===i.suppressHydrationWarning||$c(t.textContent,n)?(null!=i.popover&&(Bc("beforetoggle",t),Bc("toggle",t)),null!=i.onScroll&&Bc("scroll",t),null!=i.onScrollEnd&&Bc("scrollend",t),null!=i.onClick&&(t.onclick=Xc),t=!0):t=!1,t||uo(e)}function ho(e){for(io=e.return;io;)switch(io.tag){case 5:case 13:return void(ao=!1);case 27:case 3:return void(ao=!0);default:io=io.return}}function po(e){if(e!==io)return!1;if(!ro)return ho(e),ro=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||sd(e.type,e.memoizedProps)),t=!t),t&&oo&&uo(e),ho(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,n=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===n){oo=fd(e.nextSibling);break e}n--}else"$"!==t&&"$!"!==t&&"$?"!==t||n++;e=e.nextSibling}oo=null}}else 27===n?(n=oo,pd(e.type)?(e=wd,wd=null,oo=e):oo=n):oo=io?fd(e.stateNode.nextSibling):null;return!0}function go(){oo=io=null,ro=!1}function mo(){var e=so;return null!==e&&(null===Cu?Cu=e:Cu.push.apply(Cu,e),so=null),e}function vo(e){null===so?so=[e]:so.push(e)}var fo=G(null),wo=null,Co=null;function bo(e,t,n){V(fo,t._currentValue),t._currentValue=n}function yo(e){e._currentValue=fo.current,z(fo)}function So(e,t,n){for(;null!==e;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==i&&(i.childLanes|=t)):null!==i&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function xo(e,t,n,i){var o=e.child;for(null!==o&&(o.return=e);null!==o;){var r=o.dependencies;if(null!==r){var a=o.child;r=r.firstContext;e:for(;null!==r;){var l=r;r=o;for(var u=0;u<t.length;u++)if(l.context===t[u]){r.lanes|=n,null!==(l=r.alternate)&&(l.lanes|=n),So(r.return,n,e),i||(a=null);break e}r=l.next}}else if(18===o.tag){if(null===(a=o.return))throw Error(s(341));a.lanes|=n,null!==(r=a.alternate)&&(r.lanes|=n),So(a,n,e),a=null}else a=o.child;if(null!==a)a.return=o;else for(a=o;null!==a;){if(a===e){a=null;break}if(null!==(o=a.sibling)){o.return=a.return,a=o;break}a=a.return}o=a}}function Do(e,t,n,i){e=null;for(var o=t,r=!1;null!==o;){if(!r)if(0!==(524288&o.flags))r=!0;else if(0!==(262144&o.flags))break;if(10===o.tag){var a=o.alternate;if(null===a)throw Error(s(387));if(null!==(a=a.memoizedProps)){var l=o.type;Zn(o.pendingProps.value,a.value)||(null!==e?e.push(l):e=[l])}}else if(o===U.current){if(null===(a=o.alternate))throw Error(s(387));a.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(null!==e?e.push(Yd):e=[Yd])}o=o.return}null!==e&&xo(t,e,n,i),t.flags|=262144}function Eo(e){for(e=e.firstContext;null!==e;){if(!Zn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Fo(e){wo=e,Co=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function ko(e){return Ro(wo,e)}function Ao(e,t){return null===wo&&Fo(e),Ro(e,t)}function Ro(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===Co){if(null===e)throw Error(s(308));Co=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Co=Co.next=t;return n}var Po="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},To=i.unstable_scheduleCallback,_o=i.unstable_NormalPriority,Mo={$$typeof:y,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Io(){return{controller:new Po,data:new Map,refCount:0}}function Lo(e){e.refCount--,0===e.refCount&&To(_o,function(){e.controller.abort()})}var No=null,Bo=0,Oo=0,Go=null;function zo(){if(0===--Bo&&null!==No){null!==Go&&(Go.status="fulfilled");var e=No;No=null,Oo=0,Go=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Vo=I.S;I.S=function(e,t){"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===No){var n=No=[];Bo=0,Oo=Rc(),Go={status:"pending",value:void 0,then:function(e){n.push(e)}}}Bo++,t.then(zo,zo)}(0,t),null!==Vo&&Vo(e,t)};var Ho=G(null);function jo(){var e=Ho.current;return null!==e?e:iu.pooledCache}function Wo(e,t){V(Ho,null===t?Ho.current:t.pool)}function Uo(){var e=jo();return null===e?null:{parent:Mo._currentValue,pool:e}}var Ko=Error(s(460)),qo=Error(s(474)),Yo=Error(s(542)),Zo={then:function(){}};function $o(e){return"fulfilled"===(e=e.status)||"rejected"===e}function Xo(){}function Qo(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Xo,Xo),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw tr(e=t.reason),e;default:if("string"===typeof t.status)t.then(Xo,Xo);else{if(null!==(e=iu)&&100<e.shellSuspendCounter)throw Error(s(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw tr(e=t.reason),e}throw Jo=t,Ko}}var Jo=null;function er(){if(null===Jo)throw Error(s(459));var e=Jo;return Jo=null,e}function tr(e){if(e===Ko||e===Yo)throw Error(s(483))}var nr=!1;function ir(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function or(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function rr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function sr(e,t,n){var i=e.updateQueue;if(null===i)return null;if(i=i.shared,0!==(2&nu)){var o=i.pending;return null===o?t.next=t:(t.next=o.next,o.next=t),i.pending=t,t=Mi(e),_i(e,null,n),t}return Ri(e,i,t,n),Mi(e)}function ar(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&n))){var i=t.lanes;n|=i&=e.pendingLanes,t.lanes=n,ke(e,n)}}function lr(e,t){var n=e.updateQueue,i=e.alternate;if(null!==i&&n===(i=i.updateQueue)){var o=null,r=null;if(null!==(n=n.firstBaseUpdate)){do{var s={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===r?o=r=s:r=r.next=s,n=n.next}while(null!==n);null===r?o=r=t:r=r.next=t}else o=r=t;return n={baseState:i.baseState,firstBaseUpdate:o,lastBaseUpdate:r,shared:i.shared,callbacks:i.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var ur=!1;function cr(){if(ur){if(null!==Go)throw Go}}function dr(e,t,n,i){ur=!1;var o=e.updateQueue;nr=!1;var r=o.firstBaseUpdate,s=o.lastBaseUpdate,a=o.shared.pending;if(null!==a){o.shared.pending=null;var l=a,u=l.next;l.next=null,null===s?r=u:s.next=u,s=l;var c=e.alternate;null!==c&&((a=(c=c.updateQueue).lastBaseUpdate)!==s&&(null===a?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(null!==r){var d=o.baseState;for(s=0,c=u=l=null,a=r;;){var p=-536870913&a.lane,g=p!==a.lane;if(g?(ru&p)===p:(i&p)===p){0!==p&&p===Oo&&(ur=!0),null!==c&&(c=c.next={lane:0,tag:a.tag,payload:a.payload,callback:null,next:null});e:{var m=e,v=a;p=t;var f=n;switch(v.tag){case 1:if("function"===typeof(m=v.payload)){d=m.call(f,d,p);break e}d=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null===(p="function"===typeof(m=v.payload)?m.call(f,d,p):m)||void 0===p)break e;d=h({},d,p);break e;case 2:nr=!0}}null!==(p=a.callback)&&(e.flags|=64,g&&(e.flags|=8192),null===(g=o.callbacks)?o.callbacks=[p]:g.push(p))}else g={lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===c?(u=c=g,l=d):c=c.next=g,s|=p;if(null===(a=a.next)){if(null===(a=o.shared.pending))break;a=(g=a).next,g.next=null,o.lastBaseUpdate=g,o.shared.pending=null}}null===c&&(l=d),o.baseState=l,o.firstBaseUpdate=u,o.lastBaseUpdate=c,null===r&&(o.shared.lanes=0),pu|=s,e.lanes=s,e.memoizedState=d}}function hr(e,t){if("function"!==typeof e)throw Error(s(191,e));e.call(t)}function pr(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)hr(n[e],t)}var gr=G(null),mr=G(0);function vr(e,t){V(mr,e=du),V(gr,t),du=e|t.baseLanes}function fr(){V(mr,du),V(gr,gr.current)}function wr(){du=mr.current,z(gr),z(mr)}var Cr=0,br=null,yr=null,Sr=null,xr=!1,Dr=!1,Er=!1,Fr=0,kr=0,Ar=null,Rr=0;function Pr(){throw Error(s(321))}function Tr(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Zn(e[n],t[n]))return!1;return!0}function _r(e,t,n,i,o,r){return Cr=r,br=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,I.H=null===e||null===e.memoizedState?Ks:qs,Er=!1,r=n(i,o),Er=!1,Dr&&(r=Ir(t,n,i,o)),Mr(e),r}function Mr(e){I.H=Us;var t=null!==yr&&null!==yr.next;if(Cr=0,Sr=yr=br=null,xr=!1,kr=0,Ar=null,t)throw Error(s(300));null===e||ka||null!==(e=e.dependencies)&&Eo(e)&&(ka=!0)}function Ir(e,t,n,i){br=e;var o=0;do{if(Dr&&(Ar=null),kr=0,Dr=!1,25<=o)throw Error(s(301));if(o+=1,Sr=yr=null,null!=e.updateQueue){var r=e.updateQueue;r.lastEffect=null,r.events=null,r.stores=null,null!=r.memoCache&&(r.memoCache.index=0)}I.H=Ys,r=t(n,i)}while(Dr);return r}function Lr(){var e=I.H,t=e.useState()[0];return t="function"===typeof t.then?Vr(t):t,e=e.useState()[0],(null!==yr?yr.memoizedState:null)!==e&&(br.flags|=1024),t}function Nr(){var e=0!==Fr;return Fr=0,e}function Br(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Or(e){if(xr){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}xr=!1}Cr=0,Sr=yr=br=null,Dr=!1,kr=Fr=0,Ar=null}function Gr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Sr?br.memoizedState=Sr=e:Sr=Sr.next=e,Sr}function zr(){if(null===yr){var e=br.alternate;e=null!==e?e.memoizedState:null}else e=yr.next;var t=null===Sr?br.memoizedState:Sr.next;if(null!==t)Sr=t,yr=e;else{if(null===e){if(null===br.alternate)throw Error(s(467));throw Error(s(310))}e={memoizedState:(yr=e).memoizedState,baseState:yr.baseState,baseQueue:yr.baseQueue,queue:yr.queue,next:null},null===Sr?br.memoizedState=Sr=e:Sr=Sr.next=e}return Sr}function Vr(e){var t=kr;return kr+=1,null===Ar&&(Ar=[]),e=Qo(Ar,e,t),t=br,null===(null===Sr?t.memoizedState:Sr.next)&&(t=t.alternate,I.H=null===t||null===t.memoizedState?Ks:qs),e}function Hr(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return Vr(e);if(e.$$typeof===y)return ko(e)}throw Error(s(438,String(e)))}function jr(e){var t=null,n=br.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var i=br.alternate;null!==i&&(null!==(i=i.updateQueue)&&(null!=(i=i.memoCache)&&(t={data:i.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},br.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),i=0;i<e;i++)n[i]=A;return t.index++,n}function Wr(e,t){return"function"===typeof t?t(e):t}function Ur(e){return Kr(zr(),yr,e)}function Kr(e,t,n){var i=e.queue;if(null===i)throw Error(s(311));i.lastRenderedReducer=n;var o=e.baseQueue,r=i.pending;if(null!==r){if(null!==o){var a=o.next;o.next=r.next,r.next=a}t.baseQueue=o=r,i.pending=null}if(r=e.baseState,null===o)e.memoizedState=r;else{var l=a=null,u=null,c=t=o.next,d=!1;do{var h=-536870913&c.lane;if(h!==c.lane?(ru&h)===h:(Cr&h)===h){var p=c.revertLane;if(0===p)null!==u&&(u=u.next={lane:0,revertLane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),h===Oo&&(d=!0);else{if((Cr&p)===p){c=c.next,p===Oo&&(d=!0);continue}h={lane:0,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},null===u?(l=u=h,a=r):u=u.next=h,br.lanes|=p,pu|=p}h=c.action,Er&&n(r,h),r=c.hasEagerState?c.eagerState:n(r,h)}else p={lane:h,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},null===u?(l=u=p,a=r):u=u.next=p,br.lanes|=h,pu|=h;c=c.next}while(null!==c&&c!==t);if(null===u?a=r:u.next=l,!Zn(r,e.memoizedState)&&(ka=!0,d&&null!==(n=Go)))throw n;e.memoizedState=r,e.baseState=a,e.baseQueue=u,i.lastRenderedState=r}return null===o&&(i.lanes=0),[e.memoizedState,i.dispatch]}function qr(e){var t=zr(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var i=n.dispatch,o=n.pending,r=t.memoizedState;if(null!==o){n.pending=null;var a=o=o.next;do{r=e(r,a.action),a=a.next}while(a!==o);Zn(r,t.memoizedState)||(ka=!0),t.memoizedState=r,null===t.baseQueue&&(t.baseState=r),n.lastRenderedState=r}return[r,i]}function Yr(e,t,n){var i=br,o=zr(),r=ro;if(r){if(void 0===n)throw Error(s(407));n=n()}else n=t();var a=!Zn((yr||o).memoizedState,n);if(a&&(o.memoizedState=n,ka=!0),o=o.queue,fs(2048,8,Xr.bind(null,i,o,e),[e]),o.getSnapshot!==t||a||null!==Sr&&1&Sr.memoizedState.tag){if(i.flags|=2048,gs(9,{destroy:void 0,resource:void 0},$r.bind(null,i,o,n,t),null),null===iu)throw Error(s(349));r||0!==(124&Cr)||Zr(i,t,n)}return n}function Zr(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=br.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},br.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function $r(e,t,n,i){t.value=n,t.getSnapshot=i,Qr(t)&&Jr(e)}function Xr(e,t,n){return n(function(){Qr(t)&&Jr(e)})}function Qr(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Zn(e,n)}catch(i){return!0}}function Jr(e){var t=Ti(e,2);null!==t&&Nu(t,e,2)}function es(e){var t=Gr();if("function"===typeof e){var n=e;if(e=n(),Er){he(!0);try{n()}finally{he(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wr,lastRenderedState:e},t}function ts(e,t,n,i){return e.baseState=n,Kr(e,yr,"function"===typeof i?i:Wr)}function ns(e,t,n,i,o){if(Hs(e))throw Error(s(485));if(null!==(e=t.action)){var r={payload:o,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){r.listeners.push(e)}};null!==I.T?n(!0):r.isTransition=!1,i(r),null===(n=t.pending)?(r.next=t.pending=r,is(t,r)):(r.next=n.next,t.pending=n.next=r)}}function is(e,t){var n=t.action,i=t.payload,o=e.state;if(t.isTransition){var r=I.T,s={};I.T=s;try{var a=n(o,i),l=I.S;null!==l&&l(s,a),os(e,t,a)}catch(u){ss(e,t,u)}finally{I.T=r}}else try{os(e,t,r=n(o,i))}catch(c){ss(e,t,c)}}function os(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then(function(n){rs(e,t,n)},function(n){return ss(e,t,n)}):rs(e,t,n)}function rs(e,t,n){t.status="fulfilled",t.value=n,as(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,is(e,n)))}function ss(e,t,n){var i=e.pending;if(e.pending=null,null!==i){i=i.next;do{t.status="rejected",t.reason=n,as(t),t=t.next}while(t!==i)}e.action=null}function as(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function ls(e,t){return t}function us(e,t){if(ro){var n=iu.formState;if(null!==n){e:{var i=br;if(ro){if(oo){t:{for(var o=oo,r=ao;8!==o.nodeType;){if(!r){o=null;break t}if(null===(o=fd(o.nextSibling))){o=null;break t}}o="F!"===(r=o.data)||"F"===r?o:null}if(o){oo=fd(o.nextSibling),i="F!"===o.data;break e}}uo(i)}i=!1}i&&(t=n[0])}}return(n=Gr()).memoizedState=n.baseState=t,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ls,lastRenderedState:t},n.queue=i,n=Gs.bind(null,br,i),i.dispatch=n,i=es(!1),r=Vs.bind(null,br,!1,i.queue),o={state:t,dispatch:null,action:e,pending:null},(i=Gr()).queue=o,n=ns.bind(null,br,o,r,n),o.dispatch=n,i.memoizedState=e,[t,n,!1]}function cs(e){return ds(zr(),yr,e)}function ds(e,t,n){if(t=Kr(e,t,ls)[0],e=Ur(Wr)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var i=Vr(t)}catch(s){if(s===Ko)throw Yo;throw s}else i=t;var o=(t=zr()).queue,r=o.dispatch;return n!==t.memoizedState&&(br.flags|=2048,gs(9,{destroy:void 0,resource:void 0},hs.bind(null,o,n),null)),[i,r,e]}function hs(e,t){e.action=t}function ps(e){var t=zr(),n=yr;if(null!==n)return ds(t,n,e);zr(),t=t.memoizedState;var i=(n=zr()).queue.dispatch;return n.memoizedState=e,[t,i,!1]}function gs(e,t,n,i){return e={tag:e,create:n,deps:i,inst:t,next:null},null===(t=br.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},br.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function ms(){return zr().memoizedState}function vs(e,t,n,i){var o=Gr();i=void 0===i?null:i,br.flags|=e,o.memoizedState=gs(1|t,{destroy:void 0,resource:void 0},n,i)}function fs(e,t,n,i){var o=zr();i=void 0===i?null:i;var r=o.memoizedState.inst;null!==yr&&null!==i&&Tr(i,yr.memoizedState.deps)?o.memoizedState=gs(t,r,n,i):(br.flags|=e,o.memoizedState=gs(1|t,r,n,i))}function ws(e,t){vs(8390656,8,e,t)}function Cs(e,t){fs(2048,8,e,t)}function bs(e,t){return fs(4,2,e,t)}function ys(e,t){return fs(4,4,e,t)}function Ss(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function xs(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,fs(4,4,Ss.bind(null,t,e),n)}function Ds(){}function Es(e,t){var n=zr();t=void 0===t?null:t;var i=n.memoizedState;return null!==t&&Tr(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function Fs(e,t){var n=zr();t=void 0===t?null:t;var i=n.memoizedState;if(null!==t&&Tr(t,i[1]))return i[0];if(i=e(),Er){he(!0);try{e()}finally{he(!1)}}return n.memoizedState=[i,t],i}function ks(e,t,n){return void 0===n||0!==(1073741824&Cr)?e.memoizedState=t:(e.memoizedState=n,e=Lu(),br.lanes|=e,pu|=e,n)}function As(e,t,n,i){return Zn(n,t)?n:null!==gr.current?(e=ks(e,n,i),Zn(e,t)||(ka=!0),e):0===(42&Cr)?(ka=!0,e.memoizedState=n):(e=Lu(),br.lanes|=e,pu|=e,t)}function Rs(e,t,n,i,o){var r=L.p;L.p=0!==r&&8>r?r:8;var s=I.T,a={};I.T=a,Vs(e,!1,t,n);try{var l=o(),u=I.S;if(null!==u&&u(a,l),null!==l&&"object"===typeof l&&"function"===typeof l.then)zs(e,t,function(e,t){var n=[],i={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then(function(){i.status="fulfilled",i.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)},function(e){for(i.status="rejected",i.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)}),i}(l,i),Iu());else zs(e,t,i,Iu())}catch(c){zs(e,t,{then:function(){},status:"rejected",reason:c},Iu())}finally{L.p=r,I.T=s}}function Ps(){}function Ts(e,t,n,i){if(5!==e.tag)throw Error(s(476));var o=_s(e).queue;Rs(e,o,t,N,null===n?Ps:function(){return Ms(e),n(i)})}function _s(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:N,baseState:N,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wr,lastRenderedState:N},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wr,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function Ms(e){zs(e,_s(e).next.queue,{},Iu())}function Is(){return ko(Yd)}function Ls(){return zr().memoizedState}function Ns(){return zr().memoizedState}function Bs(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Iu(),i=sr(t,e=rr(n),n);return null!==i&&(Nu(i,t,n),ar(i,t,n)),t={cache:Io()},void(e.payload=t)}t=t.return}}function Os(e,t,n){var i=Iu();n={lane:i,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Hs(e)?js(t,n):null!==(n=Pi(e,t,n,i))&&(Nu(n,e,i),Ws(n,t,i))}function Gs(e,t,n){zs(e,t,n,Iu())}function zs(e,t,n,i){var o={lane:i,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Hs(e))js(t,o);else{var r=e.alternate;if(0===e.lanes&&(null===r||0===r.lanes)&&null!==(r=t.lastRenderedReducer))try{var s=t.lastRenderedState,a=r(s,n);if(o.hasEagerState=!0,o.eagerState=a,Zn(a,s))return Ri(e,t,o,0),null===iu&&Ai(),!1}catch(l){}if(null!==(n=Pi(e,t,o,i)))return Nu(n,e,i),Ws(n,t,i),!0}return!1}function Vs(e,t,n,i){if(i={lane:2,revertLane:Rc(),action:i,hasEagerState:!1,eagerState:null,next:null},Hs(e)){if(t)throw Error(s(479))}else null!==(t=Pi(e,n,i,2))&&Nu(t,e,2)}function Hs(e){var t=e.alternate;return e===br||null!==t&&t===br}function js(e,t){Dr=xr=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ws(e,t,n){if(0!==(4194048&n)){var i=t.lanes;n|=i&=e.pendingLanes,t.lanes=n,ke(e,n)}}var Us={readContext:ko,use:Hr,useCallback:Pr,useContext:Pr,useEffect:Pr,useImperativeHandle:Pr,useLayoutEffect:Pr,useInsertionEffect:Pr,useMemo:Pr,useReducer:Pr,useRef:Pr,useState:Pr,useDebugValue:Pr,useDeferredValue:Pr,useTransition:Pr,useSyncExternalStore:Pr,useId:Pr,useHostTransitionStatus:Pr,useFormState:Pr,useActionState:Pr,useOptimistic:Pr,useMemoCache:Pr,useCacheRefresh:Pr},Ks={readContext:ko,use:Hr,useCallback:function(e,t){return Gr().memoizedState=[e,void 0===t?null:t],e},useContext:ko,useEffect:ws,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,vs(4194308,4,Ss.bind(null,t,e),n)},useLayoutEffect:function(e,t){return vs(4194308,4,e,t)},useInsertionEffect:function(e,t){vs(4,2,e,t)},useMemo:function(e,t){var n=Gr();t=void 0===t?null:t;var i=e();if(Er){he(!0);try{e()}finally{he(!1)}}return n.memoizedState=[i,t],i},useReducer:function(e,t,n){var i=Gr();if(void 0!==n){var o=n(t);if(Er){he(!0);try{n(t)}finally{he(!1)}}}else o=t;return i.memoizedState=i.baseState=o,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},i.queue=e,e=e.dispatch=Os.bind(null,br,e),[i.memoizedState,e]},useRef:function(e){return e={current:e},Gr().memoizedState=e},useState:function(e){var t=(e=es(e)).queue,n=Gs.bind(null,br,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Ds,useDeferredValue:function(e,t){return ks(Gr(),e,t)},useTransition:function(){var e=es(!1);return e=Rs.bind(null,br,e.queue,!0,!1),Gr().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var i=br,o=Gr();if(ro){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===iu)throw Error(s(349));0!==(124&ru)||Zr(i,t,n)}o.memoizedState=n;var r={value:n,getSnapshot:t};return o.queue=r,ws(Xr.bind(null,i,r,e),[e]),i.flags|=2048,gs(9,{destroy:void 0,resource:void 0},$r.bind(null,i,r,n,t),null),n},useId:function(){var e=Gr(),t=iu.identifierPrefix;if(ro){var n=Qi;t="\xab"+t+"R"+(n=(Xi&~(1<<32-pe(Xi)-1)).toString(32)+n),0<(n=Fr++)&&(t+="H"+n.toString(32)),t+="\xbb"}else t="\xab"+t+"r"+(n=Rr++).toString(32)+"\xbb";return e.memoizedState=t},useHostTransitionStatus:Is,useFormState:us,useActionState:us,useOptimistic:function(e){var t=Gr();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Vs.bind(null,br,!0,n),n.dispatch=t,[e,t]},useMemoCache:jr,useCacheRefresh:function(){return Gr().memoizedState=Bs.bind(null,br)}},qs={readContext:ko,use:Hr,useCallback:Es,useContext:ko,useEffect:Cs,useImperativeHandle:xs,useInsertionEffect:bs,useLayoutEffect:ys,useMemo:Fs,useReducer:Ur,useRef:ms,useState:function(){return Ur(Wr)},useDebugValue:Ds,useDeferredValue:function(e,t){return As(zr(),yr.memoizedState,e,t)},useTransition:function(){var e=Ur(Wr)[0],t=zr().memoizedState;return["boolean"===typeof e?e:Vr(e),t]},useSyncExternalStore:Yr,useId:Ls,useHostTransitionStatus:Is,useFormState:cs,useActionState:cs,useOptimistic:function(e,t){return ts(zr(),0,e,t)},useMemoCache:jr,useCacheRefresh:Ns},Ys={readContext:ko,use:Hr,useCallback:Es,useContext:ko,useEffect:Cs,useImperativeHandle:xs,useInsertionEffect:bs,useLayoutEffect:ys,useMemo:Fs,useReducer:qr,useRef:ms,useState:function(){return qr(Wr)},useDebugValue:Ds,useDeferredValue:function(e,t){var n=zr();return null===yr?ks(n,e,t):As(n,yr.memoizedState,e,t)},useTransition:function(){var e=qr(Wr)[0],t=zr().memoizedState;return["boolean"===typeof e?e:Vr(e),t]},useSyncExternalStore:Yr,useId:Ls,useHostTransitionStatus:Is,useFormState:ps,useActionState:ps,useOptimistic:function(e,t){var n=zr();return null!==yr?ts(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:jr,useCacheRefresh:Ns},Zs=null,$s=0;function Xs(e){var t=$s;return $s+=1,null===Zs&&(Zs=[]),Qo(Zs,e,t)}function Qs(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function Js(e,t){if(t.$$typeof===p)throw Error(s(525));throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ea(e){return(0,e._init)(e._payload)}function ta(e){function t(t,n){if(e){var i=t.deletions;null===i?(t.deletions=[n],t.flags|=16):i.push(n)}}function n(n,i){if(!e)return null;for(;null!==i;)t(n,i),i=i.sibling;return null}function i(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function o(e,t){return(e=Oi(e,t)).index=0,e.sibling=null,e}function r(t,n,i){return t.index=i,e?null!==(i=t.alternate)?(i=i.index)<n?(t.flags|=67108866,n):i:(t.flags|=67108866,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,n,i){return null===t||6!==t.tag?((t=Hi(n,e.mode,i)).return=e,t):((t=o(t,n)).return=e,t)}function u(e,t,n,i){var r=n.type;return r===v?d(e,t,n.props.children,i,n.key):null!==t&&(t.elementType===r||"object"===typeof r&&null!==r&&r.$$typeof===F&&ea(r)===t.type)?(Qs(t=o(t,n.props),n),t.return=e,t):(Qs(t=zi(n.type,n.key,n.props,null,e.mode,i),n),t.return=e,t)}function c(e,t,n,i){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=ji(n,e.mode,i)).return=e,t):((t=o(t,n.children||[])).return=e,t)}function d(e,t,n,i,r){return null===t||7!==t.tag?((t=Vi(n,e.mode,i,r)).return=e,t):((t=o(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=Hi(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case g:return Qs(n=zi(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case m:return(t=ji(t,e.mode,n)).return=e,t;case F:return h(e,t=(0,t._init)(t._payload),n)}if(M(t)||P(t))return(t=Vi(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return h(e,Xs(t),n);if(t.$$typeof===y)return h(e,Ao(e,t),n);Js(e,t)}return null}function p(e,t,n,i){var o=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==o?null:l(e,t,""+n,i);if("object"===typeof n&&null!==n){switch(n.$$typeof){case g:return n.key===o?u(e,t,n,i):null;case m:return n.key===o?c(e,t,n,i):null;case F:return p(e,t,n=(o=n._init)(n._payload),i)}if(M(n)||P(n))return null!==o?null:d(e,t,n,i,null);if("function"===typeof n.then)return p(e,t,Xs(n),i);if(n.$$typeof===y)return p(e,t,Ao(e,n),i);Js(e,n)}return null}function f(e,t,n,i,o){if("string"===typeof i&&""!==i||"number"===typeof i||"bigint"===typeof i)return l(t,e=e.get(n)||null,""+i,o);if("object"===typeof i&&null!==i){switch(i.$$typeof){case g:return u(t,e=e.get(null===i.key?n:i.key)||null,i,o);case m:return c(t,e=e.get(null===i.key?n:i.key)||null,i,o);case F:return f(e,t,n,i=(0,i._init)(i._payload),o)}if(M(i)||P(i))return d(t,e=e.get(n)||null,i,o,null);if("function"===typeof i.then)return f(e,t,n,Xs(i),o);if(i.$$typeof===y)return f(e,t,n,Ao(t,i),o);Js(t,i)}return null}function w(l,u,c,d){if("object"===typeof c&&null!==c&&c.type===v&&null===c.key&&(c=c.props.children),"object"===typeof c&&null!==c){switch(c.$$typeof){case g:e:{for(var C=c.key;null!==u;){if(u.key===C){if((C=c.type)===v){if(7===u.tag){n(l,u.sibling),(d=o(u,c.props.children)).return=l,l=d;break e}}else if(u.elementType===C||"object"===typeof C&&null!==C&&C.$$typeof===F&&ea(C)===u.type){n(l,u.sibling),Qs(d=o(u,c.props),c),d.return=l,l=d;break e}n(l,u);break}t(l,u),u=u.sibling}c.type===v?((d=Vi(c.props.children,l.mode,d,c.key)).return=l,l=d):(Qs(d=zi(c.type,c.key,c.props,null,l.mode,d),c),d.return=l,l=d)}return a(l);case m:e:{for(C=c.key;null!==u;){if(u.key===C){if(4===u.tag&&u.stateNode.containerInfo===c.containerInfo&&u.stateNode.implementation===c.implementation){n(l,u.sibling),(d=o(u,c.children||[])).return=l,l=d;break e}n(l,u);break}t(l,u),u=u.sibling}(d=ji(c,l.mode,d)).return=l,l=d}return a(l);case F:return w(l,u,c=(C=c._init)(c._payload),d)}if(M(c))return function(o,s,a,l){for(var u=null,c=null,d=s,g=s=0,m=null;null!==d&&g<a.length;g++){d.index>g?(m=d,d=null):m=d.sibling;var v=p(o,d,a[g],l);if(null===v){null===d&&(d=m);break}e&&d&&null===v.alternate&&t(o,d),s=r(v,s,g),null===c?u=v:c.sibling=v,c=v,d=m}if(g===a.length)return n(o,d),ro&&Ji(o,g),u;if(null===d){for(;g<a.length;g++)null!==(d=h(o,a[g],l))&&(s=r(d,s,g),null===c?u=d:c.sibling=d,c=d);return ro&&Ji(o,g),u}for(d=i(d);g<a.length;g++)null!==(m=f(d,o,g,a[g],l))&&(e&&null!==m.alternate&&d.delete(null===m.key?g:m.key),s=r(m,s,g),null===c?u=m:c.sibling=m,c=m);return e&&d.forEach(function(e){return t(o,e)}),ro&&Ji(o,g),u}(l,u,c,d);if(P(c)){if("function"!==typeof(C=P(c)))throw Error(s(150));return function(o,a,l,u){if(null==l)throw Error(s(151));for(var c=null,d=null,g=a,m=a=0,v=null,w=l.next();null!==g&&!w.done;m++,w=l.next()){g.index>m?(v=g,g=null):v=g.sibling;var C=p(o,g,w.value,u);if(null===C){null===g&&(g=v);break}e&&g&&null===C.alternate&&t(o,g),a=r(C,a,m),null===d?c=C:d.sibling=C,d=C,g=v}if(w.done)return n(o,g),ro&&Ji(o,m),c;if(null===g){for(;!w.done;m++,w=l.next())null!==(w=h(o,w.value,u))&&(a=r(w,a,m),null===d?c=w:d.sibling=w,d=w);return ro&&Ji(o,m),c}for(g=i(g);!w.done;m++,w=l.next())null!==(w=f(g,o,m,w.value,u))&&(e&&null!==w.alternate&&g.delete(null===w.key?m:w.key),a=r(w,a,m),null===d?c=w:d.sibling=w,d=w);return e&&g.forEach(function(e){return t(o,e)}),ro&&Ji(o,m),c}(l,u,c=C.call(c),d)}if("function"===typeof c.then)return w(l,u,Xs(c),d);if(c.$$typeof===y)return w(l,u,Ao(l,c),d);Js(l,c)}return"string"===typeof c&&""!==c||"number"===typeof c||"bigint"===typeof c?(c=""+c,null!==u&&6===u.tag?(n(l,u.sibling),(d=o(u,c)).return=l,l=d):(n(l,u),(d=Hi(c,l.mode,d)).return=l,l=d),a(l)):n(l,u)}return function(e,t,n,i){try{$s=0;var o=w(e,t,n,i);return Zs=null,o}catch(s){if(s===Ko||s===Yo)throw s;var r=Ni(29,s,null,e.mode);return r.lanes=i,r.return=e,r}}}var na=ta(!0),ia=ta(!1),oa=G(null),ra=null;function sa(e){var t=e.alternate;V(ca,1&ca.current),V(oa,e),null===ra&&(null===t||null!==gr.current||null!==t.memoizedState)&&(ra=e)}function aa(e){if(22===e.tag){if(V(ca,ca.current),V(oa,e),null===ra){var t=e.alternate;null!==t&&null!==t.memoizedState&&(ra=e)}}else la()}function la(){V(ca,ca.current),V(oa,oa.current)}function ua(e){z(oa),ra===e&&(ra=null),z(ca)}var ca=G(0);function da(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||vd(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function ha(e,t,n,i){n=null===(n=n(i,t=e.memoizedState))||void 0===n?t:h({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var pa={enqueueSetState:function(e,t,n){e=e._reactInternals;var i=Iu(),o=rr(i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=sr(e,o,i))&&(Nu(t,e,i),ar(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=Iu(),o=rr(i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=sr(e,o,i))&&(Nu(t,e,i),ar(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Iu(),i=rr(n);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=sr(e,i,n))&&(Nu(t,e,n),ar(t,e,n))}};function ga(e,t,n,i,o,r,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(i,r,s):!t.prototype||!t.prototype.isPureReactComponent||(!$n(n,i)||!$n(o,r))}function ma(e,t,n,i){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,i),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&pa.enqueueReplaceState(t,t.state,null)}function va(e,t){var n=t;if("ref"in t)for(var i in n={},t)"ref"!==i&&(n[i]=t[i]);if(e=e.defaultProps)for(var o in n===t&&(n=h({},n)),e)void 0===n[o]&&(n[o]=e[o]);return n}var fa="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function wa(e){fa(e)}function Ca(e){console.error(e)}function ba(e){fa(e)}function ya(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function Sa(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function xa(e,t,n){return(n=rr(n)).tag=3,n.payload={element:null},n.callback=function(){ya(e,t)},n}function Da(e){return(e=rr(e)).tag=3,e}function Ea(e,t,n,i){var o=n.type.getDerivedStateFromError;if("function"===typeof o){var r=i.value;e.payload=function(){return o(r)},e.callback=function(){Sa(t,n,i)}}var s=n.stateNode;null!==s&&"function"===typeof s.componentDidCatch&&(e.callback=function(){Sa(t,n,i),"function"!==typeof o&&(null===Du?Du=new Set([this]):Du.add(this));var e=i.stack;this.componentDidCatch(i.value,{componentStack:null!==e?e:""})})}var Fa=Error(s(461)),ka=!1;function Aa(e,t,n,i){t.child=null===e?ia(t,null,n,i):na(t,e.child,n,i)}function Ra(e,t,n,i,o){n=n.render;var r=t.ref;if("ref"in i){var s={};for(var a in i)"ref"!==a&&(s[a]=i[a])}else s=i;return Fo(t),i=_r(e,t,n,s,r,o),a=Nr(),null===e||ka?(ro&&a&&to(t),t.flags|=1,Aa(e,t,i,o),t.child):(Br(e,t,o),Za(e,t,o))}function Pa(e,t,n,i,o){if(null===e){var r=n.type;return"function"!==typeof r||Bi(r)||void 0!==r.defaultProps||null!==n.compare?((e=zi(n.type,null,i,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=r,Ta(e,t,r,i,o))}if(r=e.child,!$a(e,o)){var s=r.memoizedProps;if((n=null!==(n=n.compare)?n:$n)(s,i)&&e.ref===t.ref)return Za(e,t,o)}return t.flags|=1,(e=Oi(r,i)).ref=t.ref,e.return=t,t.child=e}function Ta(e,t,n,i,o){if(null!==e){var r=e.memoizedProps;if($n(r,i)&&e.ref===t.ref){if(ka=!1,t.pendingProps=i=r,!$a(e,o))return t.lanes=e.lanes,Za(e,t,o);0!==(131072&e.flags)&&(ka=!0)}}return La(e,t,n,i,o)}function _a(e,t,n){var i=t.pendingProps,o=i.children,r=null!==e?e.memoizedState:null;if("hidden"===i.mode){if(0!==(128&t.flags)){if(i=null!==r?r.baseLanes|n:n,null!==e){for(o=t.child=e.child,r=0;null!==o;)r=r|o.lanes|o.childLanes,o=o.sibling;t.childLanes=r&~i}else t.childLanes=0,t.child=null;return Ma(e,t,i,n)}if(0===(536870912&n))return t.lanes=t.childLanes=536870912,Ma(e,t,null!==r?r.baseLanes|n:n,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Wo(0,null!==r?r.cachePool:null),null!==r?vr(t,r):fr(),aa(t)}else null!==r?(Wo(0,r.cachePool),vr(t,r),la(),t.memoizedState=null):(null!==e&&Wo(0,null),fr(),la());return Aa(e,t,o,n),t.child}function Ma(e,t,n,i){var o=jo();return o=null===o?null:{parent:Mo._currentValue,pool:o},t.memoizedState={baseLanes:n,cachePool:o},null!==e&&Wo(0,null),fr(),aa(t),null!==e&&Do(e,t,i,!0),null}function Ia(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(s(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function La(e,t,n,i,o){return Fo(t),n=_r(e,t,n,i,void 0,o),i=Nr(),null===e||ka?(ro&&i&&to(t),t.flags|=1,Aa(e,t,n,o),t.child):(Br(e,t,o),Za(e,t,o))}function Na(e,t,n,i,o,r){return Fo(t),t.updateQueue=null,n=Ir(t,i,n,o),Mr(e),i=Nr(),null===e||ka?(ro&&i&&to(t),t.flags|=1,Aa(e,t,n,r),t.child):(Br(e,t,r),Za(e,t,r))}function Ba(e,t,n,i,o){if(Fo(t),null===t.stateNode){var r=Ii,s=n.contextType;"object"===typeof s&&null!==s&&(r=ko(s)),r=new n(i,r),t.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,r.updater=pa,t.stateNode=r,r._reactInternals=t,(r=t.stateNode).props=i,r.state=t.memoizedState,r.refs={},ir(t),s=n.contextType,r.context="object"===typeof s&&null!==s?ko(s):Ii,r.state=t.memoizedState,"function"===typeof(s=n.getDerivedStateFromProps)&&(ha(t,n,s,i),r.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof r.getSnapshotBeforeUpdate||"function"!==typeof r.UNSAFE_componentWillMount&&"function"!==typeof r.componentWillMount||(s=r.state,"function"===typeof r.componentWillMount&&r.componentWillMount(),"function"===typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),s!==r.state&&pa.enqueueReplaceState(r,r.state,null),dr(t,i,r,o),cr(),r.state=t.memoizedState),"function"===typeof r.componentDidMount&&(t.flags|=4194308),i=!0}else if(null===e){r=t.stateNode;var a=t.memoizedProps,l=va(n,a);r.props=l;var u=r.context,c=n.contextType;s=Ii,"object"===typeof c&&null!==c&&(s=ko(c));var d=n.getDerivedStateFromProps;c="function"===typeof d||"function"===typeof r.getSnapshotBeforeUpdate,a=t.pendingProps!==a,c||"function"!==typeof r.UNSAFE_componentWillReceiveProps&&"function"!==typeof r.componentWillReceiveProps||(a||u!==s)&&ma(t,r,i,s),nr=!1;var h=t.memoizedState;r.state=h,dr(t,i,r,o),cr(),u=t.memoizedState,a||h!==u||nr?("function"===typeof d&&(ha(t,n,d,i),u=t.memoizedState),(l=nr||ga(t,n,l,i,h,u,s))?(c||"function"!==typeof r.UNSAFE_componentWillMount&&"function"!==typeof r.componentWillMount||("function"===typeof r.componentWillMount&&r.componentWillMount(),"function"===typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount()),"function"===typeof r.componentDidMount&&(t.flags|=4194308)):("function"===typeof r.componentDidMount&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=u),r.props=i,r.state=u,r.context=s,i=l):("function"===typeof r.componentDidMount&&(t.flags|=4194308),i=!1)}else{r=t.stateNode,or(e,t),c=va(n,s=t.memoizedProps),r.props=c,d=t.pendingProps,h=r.context,u=n.contextType,l=Ii,"object"===typeof u&&null!==u&&(l=ko(u)),(u="function"===typeof(a=n.getDerivedStateFromProps)||"function"===typeof r.getSnapshotBeforeUpdate)||"function"!==typeof r.UNSAFE_componentWillReceiveProps&&"function"!==typeof r.componentWillReceiveProps||(s!==d||h!==l)&&ma(t,r,i,l),nr=!1,h=t.memoizedState,r.state=h,dr(t,i,r,o),cr();var p=t.memoizedState;s!==d||h!==p||nr||null!==e&&null!==e.dependencies&&Eo(e.dependencies)?("function"===typeof a&&(ha(t,n,a,i),p=t.memoizedState),(c=nr||ga(t,n,c,i,h,p,l)||null!==e&&null!==e.dependencies&&Eo(e.dependencies))?(u||"function"!==typeof r.UNSAFE_componentWillUpdate&&"function"!==typeof r.componentWillUpdate||("function"===typeof r.componentWillUpdate&&r.componentWillUpdate(i,p,l),"function"===typeof r.UNSAFE_componentWillUpdate&&r.UNSAFE_componentWillUpdate(i,p,l)),"function"===typeof r.componentDidUpdate&&(t.flags|=4),"function"===typeof r.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof r.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof r.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=p),r.props=i,r.state=p,r.context=l,i=c):("function"!==typeof r.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof r.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),i=!1)}return r=i,Ia(e,t),i=0!==(128&t.flags),r||i?(r=t.stateNode,n=i&&"function"!==typeof n.getDerivedStateFromError?null:r.render(),t.flags|=1,null!==e&&i?(t.child=na(t,e.child,null,o),t.child=na(t,null,n,o)):Aa(e,t,n,o),t.memoizedState=r.state,e=t.child):e=Za(e,t,o),e}function Oa(e,t,n,i){return go(),t.flags|=256,Aa(e,t,n,i),t.child}var Ga={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function za(e){return{baseLanes:e,cachePool:Uo()}}function Va(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=vu),e}function Ha(e,t,n){var i,o=t.pendingProps,r=!1,a=0!==(128&t.flags);if((i=a)||(i=(null===e||null!==e.memoizedState)&&0!==(2&ca.current)),i&&(r=!0,t.flags&=-129),i=0!==(32&t.flags),t.flags&=-33,null===e){if(ro){if(r?sa(t):la(),ro){var l,u=oo;if(l=u){e:{for(l=u,u=ao;8!==l.nodeType;){if(!u){u=null;break e}if(null===(l=fd(l.nextSibling))){u=null;break e}}u=l}null!==u?(t.memoizedState={dehydrated:u,treeContext:null!==$i?{id:Xi,overflow:Qi}:null,retryLane:536870912,hydrationErrors:null},(l=Ni(18,null,null,0)).stateNode=u,l.return=t,t.child=l,io=t,oo=null,l=!0):l=!1}l||uo(t)}if(null!==(u=t.memoizedState)&&null!==(u=u.dehydrated))return vd(u)?t.lanes=32:t.lanes=536870912,null;ua(t)}return u=o.children,o=o.fallback,r?(la(),u=Wa({mode:"hidden",children:u},r=t.mode),o=Vi(o,r,n,null),u.return=t,o.return=t,u.sibling=o,t.child=u,(r=t.child).memoizedState=za(n),r.childLanes=Va(e,i,n),t.memoizedState=Ga,o):(sa(t),ja(t,u))}if(null!==(l=e.memoizedState)&&null!==(u=l.dehydrated)){if(a)256&t.flags?(sa(t),t.flags&=-257,t=Ua(e,t,n)):null!==t.memoizedState?(la(),t.child=e.child,t.flags|=128,t=null):(la(),r=o.fallback,u=t.mode,o=Wa({mode:"visible",children:o.children},u),(r=Vi(r,u,n,null)).flags|=2,o.return=t,r.return=t,o.sibling=r,t.child=o,na(t,e.child,null,n),(o=t.child).memoizedState=za(n),o.childLanes=Va(e,i,n),t.memoizedState=Ga,t=r);else if(sa(t),vd(u)){if(i=u.nextSibling&&u.nextSibling.dataset)var c=i.dgst;i=c,(o=Error(s(419))).stack="",o.digest=i,vo({value:o,source:null,stack:null}),t=Ua(e,t,n)}else if(ka||Do(e,t,n,!1),i=0!==(n&e.childLanes),ka||i){if(null!==(i=iu)&&(0!==(o=0!==((o=0!==(42&(o=n&-n))?1:Ae(o))&(i.suspendedLanes|n))?0:o)&&o!==l.retryLane))throw l.retryLane=o,Ti(e,o),Nu(i,e,o),Fa;"$?"===u.data||qu(),t=Ua(e,t,n)}else"$?"===u.data?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,oo=fd(u.nextSibling),io=t,ro=!0,so=null,ao=!1,null!==e&&(Yi[Zi++]=Xi,Yi[Zi++]=Qi,Yi[Zi++]=$i,Xi=e.id,Qi=e.overflow,$i=t),(t=ja(t,o.children)).flags|=4096);return t}return r?(la(),r=o.fallback,u=t.mode,c=(l=e.child).sibling,(o=Oi(l,{mode:"hidden",children:o.children})).subtreeFlags=65011712&l.subtreeFlags,null!==c?r=Oi(c,r):(r=Vi(r,u,n,null)).flags|=2,r.return=t,o.return=t,o.sibling=r,t.child=o,o=r,r=t.child,null===(u=e.child.memoizedState)?u=za(n):(null!==(l=u.cachePool)?(c=Mo._currentValue,l=l.parent!==c?{parent:c,pool:c}:l):l=Uo(),u={baseLanes:u.baseLanes|n,cachePool:l}),r.memoizedState=u,r.childLanes=Va(e,i,n),t.memoizedState=Ga,o):(sa(t),e=(n=e.child).sibling,(n=Oi(n,{mode:"visible",children:o.children})).return=t,n.sibling=null,null!==e&&(null===(i=t.deletions)?(t.deletions=[e],t.flags|=16):i.push(e)),t.child=n,t.memoizedState=null,n)}function ja(e,t){return(t=Wa({mode:"visible",children:t},e.mode)).return=e,e.child=t}function Wa(e,t){return(e=Ni(22,e,null,t)).lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Ua(e,t,n){return na(t,e.child,null,n),(e=ja(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ka(e,t,n){e.lanes|=t;var i=e.alternate;null!==i&&(i.lanes|=t),So(e.return,t,n)}function qa(e,t,n,i,o){var r=e.memoizedState;null===r?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:o}:(r.isBackwards=t,r.rendering=null,r.renderingStartTime=0,r.last=i,r.tail=n,r.tailMode=o)}function Ya(e,t,n){var i=t.pendingProps,o=i.revealOrder,r=i.tail;if(Aa(e,t,i.children,n),0!==(2&(i=ca.current)))i=1&i|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ka(e,n,t);else if(19===e.tag)Ka(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}switch(V(ca,i),o){case"forwards":for(n=t.child,o=null;null!==n;)null!==(e=n.alternate)&&null===da(e)&&(o=n),n=n.sibling;null===(n=o)?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),qa(t,!1,o,n,r);break;case"backwards":for(n=null,o=t.child,t.child=null;null!==o;){if(null!==(e=o.alternate)&&null===da(e)){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}qa(t,!0,n,null,r);break;case"together":qa(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Za(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),pu|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(Do(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Oi(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Oi(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function $a(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Eo(e))}function Xa(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)ka=!0;else{if(!$a(e,n)&&0===(128&t.flags))return ka=!1,function(e,t,n){switch(t.tag){case 3:K(t,t.stateNode.containerInfo),bo(0,Mo,e.memoizedState.cache),go();break;case 27:case 5:Y(t);break;case 4:K(t,t.stateNode.containerInfo);break;case 10:bo(0,t.type,t.memoizedProps.value);break;case 13:var i=t.memoizedState;if(null!==i)return null!==i.dehydrated?(sa(t),t.flags|=128,null):0!==(n&t.child.childLanes)?Ha(e,t,n):(sa(t),null!==(e=Za(e,t,n))?e.sibling:null);sa(t);break;case 19:var o=0!==(128&e.flags);if((i=0!==(n&t.childLanes))||(Do(e,t,n,!1),i=0!==(n&t.childLanes)),o){if(i)return Ya(e,t,n);t.flags|=128}if(null!==(o=t.memoizedState)&&(o.rendering=null,o.tail=null,o.lastEffect=null),V(ca,ca.current),i)break;return null;case 22:case 23:return t.lanes=0,_a(e,t,n);case 24:bo(0,Mo,e.memoizedState.cache)}return Za(e,t,n)}(e,t,n);ka=0!==(131072&e.flags)}else ka=!1,ro&&0!==(1048576&t.flags)&&eo(t,qi,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var i=t.elementType,o=i._init;if(i=o(i._payload),t.type=i,"function"!==typeof i){if(void 0!==i&&null!==i){if((o=i.$$typeof)===S){t.tag=11,t=Ra(null,t,i,e,n);break e}if(o===E){t.tag=14,t=Pa(null,t,i,e,n);break e}}throw t=_(i)||i,Error(s(306,t,""))}Bi(i)?(e=va(i,e),t.tag=1,t=Ba(null,t,i,e,n)):(t.tag=0,t=La(null,t,i,e,n))}return t;case 0:return La(e,t,t.type,t.pendingProps,n);case 1:return Ba(e,t,i=t.type,o=va(i,t.pendingProps),n);case 3:e:{if(K(t,t.stateNode.containerInfo),null===e)throw Error(s(387));i=t.pendingProps;var r=t.memoizedState;o=r.element,or(e,t),dr(t,i,null,n);var a=t.memoizedState;if(i=a.cache,bo(0,Mo,i),i!==r.cache&&xo(t,[Mo],n,!0),cr(),i=a.element,r.isDehydrated){if(r={element:i,isDehydrated:!1,cache:a.cache},t.updateQueue.baseState=r,t.memoizedState=r,256&t.flags){t=Oa(e,t,i,n);break e}if(i!==o){vo(o=Di(Error(s(424)),t)),t=Oa(e,t,i,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(oo=fd(e.firstChild),io=t,ro=!0,so=null,ao=!0,n=ia(t,null,i,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(go(),i===o){t=Za(e,t,n);break e}Aa(e,t,i,n)}t=t.child}return t;case 26:return Ia(e,t),null===e?(n=Ad(t.type,null,t.pendingProps,null))?t.memoizedState=n:ro||(n=t.type,e=t.pendingProps,(i=id(W.current).createElement(n))[_e]=t,i[Me]=e,ed(i,n,e),Ue(i),t.stateNode=i):t.memoizedState=Ad(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Y(t),null===e&&ro&&(i=t.stateNode=bd(t.type,t.pendingProps,W.current),io=t,ao=!0,o=oo,pd(t.type)?(wd=o,oo=fd(i.firstChild)):oo=o),Aa(e,t,t.pendingProps.children,n),Ia(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&ro&&((o=i=oo)&&(null!==(i=function(e,t,n,i){for(;1===e.nodeType;){var o=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!i&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(i){if(!e[Ge])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(r=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(r!==o.rel||e.getAttribute("href")!==(null==o.href||""===o.href?null:o.href)||e.getAttribute("crossorigin")!==(null==o.crossOrigin?null:o.crossOrigin)||e.getAttribute("title")!==(null==o.title?null:o.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((r=e.getAttribute("src"))!==(null==o.src?null:o.src)||e.getAttribute("type")!==(null==o.type?null:o.type)||e.getAttribute("crossorigin")!==(null==o.crossOrigin?null:o.crossOrigin))&&r&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var r=null==o.name?null:""+o.name;if("hidden"===o.type&&e.getAttribute("name")===r)return e}if(null===(e=fd(e.nextSibling)))break}return null}(i,t.type,t.pendingProps,ao))?(t.stateNode=i,io=t,oo=fd(i.firstChild),ao=!1,o=!0):o=!1),o||uo(t)),Y(t),o=t.type,r=t.pendingProps,a=null!==e?e.memoizedProps:null,i=r.children,sd(o,r)?i=null:null!==a&&sd(o,a)&&(t.flags|=32),null!==t.memoizedState&&(o=_r(e,t,Lr,null,null,n),Yd._currentValue=o),Ia(e,t),Aa(e,t,i,n),t.child;case 6:return null===e&&ro&&((e=n=oo)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=fd(e.nextSibling)))return null}return e}(n,t.pendingProps,ao))?(t.stateNode=n,io=t,oo=null,e=!0):e=!1),e||uo(t)),null;case 13:return Ha(e,t,n);case 4:return K(t,t.stateNode.containerInfo),i=t.pendingProps,null===e?t.child=na(t,null,i,n):Aa(e,t,i,n),t.child;case 11:return Ra(e,t,t.type,t.pendingProps,n);case 7:return Aa(e,t,t.pendingProps,n),t.child;case 8:case 12:return Aa(e,t,t.pendingProps.children,n),t.child;case 10:return i=t.pendingProps,bo(0,t.type,i.value),Aa(e,t,i.children,n),t.child;case 9:return o=t.type._context,i=t.pendingProps.children,Fo(t),i=i(o=ko(o)),t.flags|=1,Aa(e,t,i,n),t.child;case 14:return Pa(e,t,t.type,t.pendingProps,n);case 15:return Ta(e,t,t.type,t.pendingProps,n);case 19:return Ya(e,t,n);case 31:return i=t.pendingProps,n=t.mode,i={mode:i.mode,children:i.children},null===e?((n=Wa(i,n)).ref=t.ref,t.child=n,n.return=t,t=n):((n=Oi(e.child,i)).ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return _a(e,t,n);case 24:return Fo(t),i=ko(Mo),null===e?(null===(o=jo())&&(o=iu,r=Io(),o.pooledCache=r,r.refCount++,null!==r&&(o.pooledCacheLanes|=n),o=r),t.memoizedState={parent:i,cache:o},ir(t),bo(0,Mo,o)):(0!==(e.lanes&n)&&(or(e,t),dr(t,null,null,n),cr()),o=e.memoizedState,r=t.memoizedState,o.parent!==i?(o={parent:i,cache:i},t.memoizedState=o,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=o),bo(0,Mo,i)):(i=r.cache,bo(0,Mo,i),i!==o.cache&&xo(t,[Mo],n,!0))),Aa(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(s(156,t.tag))}function Qa(e){e.flags|=4}function Ja(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!Vd(t)){if(null!==(t=oa.current)&&((4194048&ru)===ru?null!==ra:(62914560&ru)!==ru&&0===(536870912&ru)||t!==ra))throw Jo=Zo,qo;e.flags|=8192}}function el(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?xe():536870912,e.lanes|=t,fu|=t)}function tl(e,t){if(!ro)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;null!==n;)null!==n.alternate&&(i=n),n=n.sibling;null===i?t||null===e.tail?e.tail=null:e.tail.sibling=null:i.sibling=null}}function nl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,i=0;if(t)for(var o=e.child;null!==o;)n|=o.lanes|o.childLanes,i|=65011712&o.subtreeFlags,i|=65011712&o.flags,o.return=e,o=o.sibling;else for(o=e.child;null!==o;)n|=o.lanes|o.childLanes,i|=o.subtreeFlags,i|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function il(e,t,n){var i=t.pendingProps;switch(no(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return nl(t),null;case 3:return n=t.stateNode,i=null,null!==e&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),yo(Mo),q(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(po(t)?Qa(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,mo())),nl(t),null;case 26:return n=t.memoizedState,null===e?(Qa(t),null!==n?(nl(t),Ja(t,n)):(nl(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Qa(t),nl(t),Ja(t,n)):(nl(t),t.flags&=-16777217):(e.memoizedProps!==i&&Qa(t),nl(t),t.flags&=-16777217),null;case 27:Z(t),n=W.current;var o=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==i&&Qa(t);else{if(!i){if(null===t.stateNode)throw Error(s(166));return nl(t),null}e=H.current,po(t)?co(t):(e=bd(o,i,n),t.stateNode=e,Qa(t))}return nl(t),null;case 5:if(Z(t),n=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==i&&Qa(t);else{if(!i){if(null===t.stateNode)throw Error(s(166));return nl(t),null}if(e=H.current,po(t))co(t);else{switch(o=id(W.current),e){case 1:e=o.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=o.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=o.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=o.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":(e=o.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"===typeof i.is?o.createElement("select",{is:i.is}):o.createElement("select"),i.multiple?e.multiple=!0:i.size&&(e.size=i.size);break;default:e="string"===typeof i.is?o.createElement(n,{is:i.is}):o.createElement(n)}}e[_e]=t,e[Me]=i;e:for(o=t.child;null!==o;){if(5===o.tag||6===o.tag)e.appendChild(o.stateNode);else if(4!==o.tag&&27!==o.tag&&null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break e;for(;null===o.sibling;){if(null===o.return||o.return===t)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}t.stateNode=e;e:switch(ed(e,n,i),n){case"button":case"input":case"select":case"textarea":e=!!i.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Qa(t)}}return nl(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==i&&Qa(t);else{if("string"!==typeof i&&null===t.stateNode)throw Error(s(166));if(e=W.current,po(t)){if(e=t.stateNode,n=t.memoizedProps,i=null,null!==(o=io))switch(o.tag){case 27:case 5:i=o.memoizedProps}e[_e]=t,(e=!!(e.nodeValue===n||null!==i&&!0===i.suppressHydrationWarning||$c(e.nodeValue,n)))||uo(t)}else(e=id(e).createTextNode(i))[_e]=t,t.stateNode=e}return nl(t),null;case 13:if(i=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(o=po(t),null!==i&&null!==i.dehydrated){if(null===e){if(!o)throw Error(s(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(s(317));o[_e]=t}else go(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;nl(t),o=!1}else o=mo(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=o),o=!0;if(!o)return 256&t.flags?(ua(t),t):(ua(t),null)}if(ua(t),0!==(128&t.flags))return t.lanes=n,t;if(n=null!==i,e=null!==e&&null!==e.memoizedState,n){o=null,null!==(i=t.child).alternate&&null!==i.alternate.memoizedState&&null!==i.alternate.memoizedState.cachePool&&(o=i.alternate.memoizedState.cachePool.pool);var r=null;null!==i.memoizedState&&null!==i.memoizedState.cachePool&&(r=i.memoizedState.cachePool.pool),r!==o&&(i.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),el(t,t.updateQueue),nl(t),null;case 4:return q(),null===e&&zc(t.stateNode.containerInfo),nl(t),null;case 10:return yo(t.type),nl(t),null;case 19:if(z(ca),null===(o=t.memoizedState))return nl(t),null;if(i=0!==(128&t.flags),null===(r=o.rendering))if(i)tl(o,!1);else{if(0!==hu||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(r=da(e))){for(t.flags|=128,tl(o,!1),e=r.updateQueue,t.updateQueue=e,el(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Gi(n,e),n=n.sibling;return V(ca,1&ca.current|2),t.child}e=e.sibling}null!==o.tail&&te()>Su&&(t.flags|=128,i=!0,tl(o,!1),t.lanes=4194304)}else{if(!i)if(null!==(e=da(r))){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,el(t,e),tl(o,!0),null===o.tail&&"hidden"===o.tailMode&&!r.alternate&&!ro)return nl(t),null}else 2*te()-o.renderingStartTime>Su&&536870912!==n&&(t.flags|=128,i=!0,tl(o,!1),t.lanes=4194304);o.isBackwards?(r.sibling=t.child,t.child=r):(null!==(e=o.last)?e.sibling=r:t.child=r,o.last=r)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=te(),t.sibling=null,e=ca.current,V(ca,i?1&e|2:1&e),t):(nl(t),null);case 22:case 23:return ua(t),wr(),i=null!==t.memoizedState,null!==e?null!==e.memoizedState!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?0!==(536870912&n)&&0===(128&t.flags)&&(nl(t),6&t.subtreeFlags&&(t.flags|=8192)):nl(t),null!==(n=t.updateQueue)&&el(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),i=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(i=t.memoizedState.cachePool.pool),i!==n&&(t.flags|=2048),null!==e&&z(Ho),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),yo(Mo),nl(t),null;case 25:case 30:return null}throw Error(s(156,t.tag))}function ol(e,t){switch(no(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return yo(Mo),q(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return Z(t),null;case 13:if(ua(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));go()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return z(ca),null;case 4:return q(),null;case 10:return yo(t.type),null;case 22:case 23:return ua(t),wr(),null!==e&&z(Ho),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return yo(Mo),null;default:return null}}function rl(e,t){switch(no(t),t.tag){case 3:yo(Mo),q();break;case 26:case 27:case 5:Z(t);break;case 4:q();break;case 13:ua(t);break;case 19:z(ca);break;case 10:yo(t.type);break;case 22:case 23:ua(t),wr(),null!==e&&z(Ho);break;case 24:yo(Mo)}}function sl(e,t){try{var n=t.updateQueue,i=null!==n?n.lastEffect:null;if(null!==i){var o=i.next;n=o;do{if((n.tag&e)===e){i=void 0;var r=n.create,s=n.inst;i=r(),s.destroy=i}n=n.next}while(n!==o)}}catch(a){cc(t,t.return,a)}}function al(e,t,n){try{var i=t.updateQueue,o=null!==i?i.lastEffect:null;if(null!==o){var r=o.next;i=r;do{if((i.tag&e)===e){var s=i.inst,a=s.destroy;if(void 0!==a){s.destroy=void 0,o=t;var l=n,u=a;try{u()}catch(c){cc(o,l,c)}}}i=i.next}while(i!==r)}}catch(c){cc(t,t.return,c)}}function ll(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{pr(t,n)}catch(i){cc(e,e.return,i)}}}function ul(e,t,n){n.props=va(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(i){cc(e,t,i)}}function cl(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var i=e.stateNode;break;default:i=e.stateNode}"function"===typeof n?e.refCleanup=n(i):n.current=i}}catch(o){cc(e,t,o)}}function dl(e,t){var n=e.ref,i=e.refCleanup;if(null!==n)if("function"===typeof i)try{i()}catch(o){cc(e,t,o)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(r){cc(e,t,r)}else n.current=null}function hl(e){var t=e.type,n=e.memoizedProps,i=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break e;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(o){cc(e,e.return,o)}}function pl(e,t,n){try{var i=e.stateNode;!function(e,t,n,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,r=null,a=null,l=null,u=null,c=null,d=null;for(g in n){var h=n[g];if(n.hasOwnProperty(g)&&null!=h)switch(g){case"checked":case"value":break;case"defaultValue":u=h;default:i.hasOwnProperty(g)||Qc(e,t,g,null,i,h)}}for(var p in i){var g=i[p];if(h=n[p],i.hasOwnProperty(p)&&(null!=g||null!=h))switch(p){case"type":r=g;break;case"name":o=g;break;case"checked":c=g;break;case"defaultChecked":d=g;break;case"value":a=g;break;case"defaultValue":l=g;break;case"children":case"dangerouslySetInnerHTML":if(null!=g)throw Error(s(137,t));break;default:g!==h&&Qc(e,t,p,g,i,h)}}return void vt(e,a,l,u,c,d,r,o);case"select":for(r in g=a=l=p=null,n)if(u=n[r],n.hasOwnProperty(r)&&null!=u)switch(r){case"value":break;case"multiple":g=u;default:i.hasOwnProperty(r)||Qc(e,t,r,null,i,u)}for(o in i)if(r=i[o],u=n[o],i.hasOwnProperty(o)&&(null!=r||null!=u))switch(o){case"value":p=r;break;case"defaultValue":l=r;break;case"multiple":a=r;default:r!==u&&Qc(e,t,o,r,i,u)}return t=l,n=a,i=g,void(null!=p?Ct(e,!!n,p,!1):!!i!==!!n&&(null!=t?Ct(e,!!n,t,!0):Ct(e,!!n,n?[]:"",!1)));case"textarea":for(l in g=p=null,n)if(o=n[l],n.hasOwnProperty(l)&&null!=o&&!i.hasOwnProperty(l))switch(l){case"value":case"children":break;default:Qc(e,t,l,null,i,o)}for(a in i)if(o=i[a],r=n[a],i.hasOwnProperty(a)&&(null!=o||null!=r))switch(a){case"value":p=o;break;case"defaultValue":g=o;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=o)throw Error(s(91));break;default:o!==r&&Qc(e,t,a,o,i,r)}return void bt(e,p,g);case"option":for(var m in n)if(p=n[m],n.hasOwnProperty(m)&&null!=p&&!i.hasOwnProperty(m))if("selected"===m)e.selected=!1;else Qc(e,t,m,null,i,p);for(u in i)if(p=i[u],g=n[u],i.hasOwnProperty(u)&&p!==g&&(null!=p||null!=g))if("selected"===u)e.selected=p&&"function"!==typeof p&&"symbol"!==typeof p;else Qc(e,t,u,p,i,g);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var v in n)p=n[v],n.hasOwnProperty(v)&&null!=p&&!i.hasOwnProperty(v)&&Qc(e,t,v,null,i,p);for(c in i)if(p=i[c],g=n[c],i.hasOwnProperty(c)&&p!==g&&(null!=p||null!=g))switch(c){case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(s(137,t));break;default:Qc(e,t,c,p,i,g)}return;default:if(Ft(t)){for(var f in n)p=n[f],n.hasOwnProperty(f)&&void 0!==p&&!i.hasOwnProperty(f)&&Jc(e,t,f,void 0,i,p);for(d in i)p=i[d],g=n[d],!i.hasOwnProperty(d)||p===g||void 0===p&&void 0===g||Jc(e,t,d,p,i,g);return}}for(var w in n)p=n[w],n.hasOwnProperty(w)&&null!=p&&!i.hasOwnProperty(w)&&Qc(e,t,w,null,i,p);for(h in i)p=i[h],g=n[h],!i.hasOwnProperty(h)||p===g||null==p&&null==g||Qc(e,t,h,p,i,g)}(i,e.type,n,t),i[Me]=t}catch(o){cc(e,e.return,o)}}function gl(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&pd(e.type)||4===e.tag}function ml(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||gl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&pd(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function vl(e,t,n){var i=e.tag;if(5===i||6===i)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Xc));else if(4!==i&&(27===i&&pd(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(vl(e,t,n),e=e.sibling;null!==e;)vl(e,t,n),e=e.sibling}function fl(e,t,n){var i=e.tag;if(5===i||6===i)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==i&&(27===i&&pd(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(fl(e,t,n),e=e.sibling;null!==e;)fl(e,t,n),e=e.sibling}function wl(e){var t=e.stateNode,n=e.memoizedProps;try{for(var i=e.type,o=t.attributes;o.length;)t.removeAttributeNode(o[0]);ed(t,i,n),t[_e]=e,t[Me]=n}catch(r){cc(e,e.return,r)}}var Cl=!1,bl=!1,yl=!1,Sl="function"===typeof WeakSet?WeakSet:Set,xl=null;function Dl(e,t,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:Bl(e,n),4&i&&sl(5,n);break;case 1:if(Bl(e,n),4&i)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(s){cc(n,n.return,s)}else{var o=va(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(o,t,e.__reactInternalSnapshotBeforeUpdate)}catch(a){cc(n,n.return,a)}}64&i&&ll(n),512&i&&cl(n,n.return);break;case 3:if(Bl(e,n),64&i&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{pr(e,t)}catch(s){cc(n,n.return,s)}}break;case 27:null===t&&4&i&&wl(n);case 26:case 5:Bl(e,n),null===t&&4&i&&hl(n),512&i&&cl(n,n.return);break;case 12:Bl(e,n);break;case 13:Bl(e,n),4&i&&Pl(e,n),64&i&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$?"!==e.data||"complete"===n.readyState)t();else{var i=function(){t(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),e._reactRetry=i}}(e,n=gc.bind(null,n))));break;case 22:if(!(i=null!==n.memoizedState||Cl)){t=null!==t&&null!==t.memoizedState||bl,o=Cl;var r=bl;Cl=i,(bl=t)&&!r?Gl(e,n,0!==(8772&n.subtreeFlags)):Bl(e,n),Cl=o,bl=r}break;case 30:break;default:Bl(e,n)}}function El(e){var t=e.alternate;null!==t&&(e.alternate=null,El(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&ze(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Fl=null,kl=!1;function Al(e,t,n){for(n=n.child;null!==n;)Rl(e,t,n),n=n.sibling}function Rl(e,t,n){if(de&&"function"===typeof de.onCommitFiberUnmount)try{de.onCommitFiberUnmount(ce,n)}catch(r){}switch(n.tag){case 26:bl||dl(n,t),Al(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:bl||dl(n,t);var i=Fl,o=kl;pd(n.type)&&(Fl=n.stateNode,kl=!1),Al(e,t,n),yd(n.stateNode),Fl=i,kl=o;break;case 5:bl||dl(n,t);case 6:if(i=Fl,o=kl,Fl=null,Al(e,t,n),kl=o,null!==(Fl=i))if(kl)try{(9===Fl.nodeType?Fl.body:"HTML"===Fl.nodeName?Fl.ownerDocument.body:Fl).removeChild(n.stateNode)}catch(s){cc(n,t,s)}else try{Fl.removeChild(n.stateNode)}catch(s){cc(n,t,s)}break;case 18:null!==Fl&&(kl?(gd(9===(e=Fl).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),kh(e)):gd(Fl,n.stateNode));break;case 4:i=Fl,o=kl,Fl=n.stateNode.containerInfo,kl=!0,Al(e,t,n),Fl=i,kl=o;break;case 0:case 11:case 14:case 15:bl||al(2,n,t),bl||al(4,n,t),Al(e,t,n);break;case 1:bl||(dl(n,t),"function"===typeof(i=n.stateNode).componentWillUnmount&&ul(n,t,i)),Al(e,t,n);break;case 21:Al(e,t,n);break;case 22:bl=(i=bl)||null!==n.memoizedState,Al(e,t,n),bl=i;break;default:Al(e,t,n)}}function Pl(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{kh(e)}catch(n){cc(t,t.return,n)}}function Tl(e,t){var n=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new Sl),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new Sl),t;default:throw Error(s(435,e.tag))}}(e);t.forEach(function(t){var i=mc.bind(null,e,t);n.has(t)||(n.add(t),t.then(i,i))})}function _l(e,t){var n=t.deletions;if(null!==n)for(var i=0;i<n.length;i++){var o=n[i],r=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 27:if(pd(l.type)){Fl=l.stateNode,kl=!1;break e}break;case 5:Fl=l.stateNode,kl=!1;break e;case 3:case 4:Fl=l.stateNode.containerInfo,kl=!0;break e}l=l.return}if(null===Fl)throw Error(s(160));Rl(r,a,o),Fl=null,kl=!1,null!==(r=o.alternate)&&(r.return=null),o.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)Il(t,e),t=t.sibling}var Ml=null;function Il(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:_l(t,e),Ll(e),4&i&&(al(3,e,e.return),sl(3,e),al(5,e,e.return));break;case 1:_l(t,e),Ll(e),512&i&&(bl||null===n||dl(n,n.return)),64&i&&Cl&&(null!==(e=e.updateQueue)&&(null!==(i=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?i:n.concat(i))));break;case 26:var o=Ml;if(_l(t,e),Ll(e),512&i&&(bl||null===n||dl(n,n.return)),4&i){var r=null!==n?n.memoizedState:null;if(i=e.memoizedState,null===n)if(null===i)if(null===e.stateNode){e:{i=e.type,n=e.memoizedProps,o=o.ownerDocument||o;t:switch(i){case"title":(!(r=o.getElementsByTagName("title")[0])||r[Ge]||r[_e]||"http://www.w3.org/2000/svg"===r.namespaceURI||r.hasAttribute("itemprop"))&&(r=o.createElement(i),o.head.insertBefore(r,o.querySelector("head > title"))),ed(r,i,n),r[_e]=e,Ue(r),i=r;break e;case"link":var a=Gd("link","href",o).get(i+(n.href||""));if(a)for(var l=0;l<a.length;l++)if((r=a[l]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&r.getAttribute("rel")===(null==n.rel?null:n.rel)&&r.getAttribute("title")===(null==n.title?null:n.title)&&r.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){a.splice(l,1);break t}ed(r=o.createElement(i),i,n),o.head.appendChild(r);break;case"meta":if(a=Gd("meta","content",o).get(i+(n.content||"")))for(l=0;l<a.length;l++)if((r=a[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&r.getAttribute("name")===(null==n.name?null:n.name)&&r.getAttribute("property")===(null==n.property?null:n.property)&&r.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&r.getAttribute("charset")===(null==n.charSet?null:n.charSet)){a.splice(l,1);break t}ed(r=o.createElement(i),i,n),o.head.appendChild(r);break;default:throw Error(s(468,i))}r[_e]=e,Ue(r),i=r}e.stateNode=i}else zd(o,e.type,e.stateNode);else e.stateNode=Id(o,i,e.memoizedProps);else r!==i?(null===r?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):r.count--,null===i?zd(o,e.type,e.stateNode):Id(o,i,e.memoizedProps)):null===i&&null!==e.stateNode&&pl(e,e.memoizedProps,n.memoizedProps)}break;case 27:_l(t,e),Ll(e),512&i&&(bl||null===n||dl(n,n.return)),null!==n&&4&i&&pl(e,e.memoizedProps,n.memoizedProps);break;case 5:if(_l(t,e),Ll(e),512&i&&(bl||null===n||dl(n,n.return)),32&e.flags){o=e.stateNode;try{St(o,"")}catch(g){cc(e,e.return,g)}}4&i&&null!=e.stateNode&&pl(e,o=e.memoizedProps,null!==n?n.memoizedProps:o),1024&i&&(yl=!0);break;case 6:if(_l(t,e),Ll(e),4&i){if(null===e.stateNode)throw Error(s(162));i=e.memoizedProps,n=e.stateNode;try{n.nodeValue=i}catch(g){cc(e,e.return,g)}}break;case 3:if(Od=null,o=Ml,Ml=Dd(t.containerInfo),_l(t,e),Ml=o,Ll(e),4&i&&null!==n&&n.memoizedState.isDehydrated)try{kh(t.containerInfo)}catch(g){cc(e,e.return,g)}yl&&(yl=!1,Nl(e));break;case 4:i=Ml,Ml=Dd(e.stateNode.containerInfo),_l(t,e),Ll(e),Ml=i;break;case 12:default:_l(t,e),Ll(e);break;case 13:_l(t,e),Ll(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(yu=te()),4&i&&(null!==(i=e.updateQueue)&&(e.updateQueue=null,Tl(e,i)));break;case 22:o=null!==e.memoizedState;var u=null!==n&&null!==n.memoizedState,c=Cl,d=bl;if(Cl=c||o,bl=d||u,_l(t,e),bl=d,Cl=c,Ll(e),8192&i)e:for(t=e.stateNode,t._visibility=o?-2&t._visibility:1|t._visibility,o&&(null===n||u||Cl||bl||Ol(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){u=n=t;try{if(r=u.stateNode,o)"function"===typeof(a=r.style).setProperty?a.setProperty("display","none","important"):a.display="none";else{l=u.stateNode;var h=u.memoizedProps.style,p=void 0!==h&&null!==h&&h.hasOwnProperty("display")?h.display:null;l.style.display=null==p||"boolean"===typeof p?"":(""+p).trim()}}catch(g){cc(u,u.return,g)}}}else if(6===t.tag){if(null===n){u=t;try{u.stateNode.nodeValue=o?"":u.memoizedProps}catch(g){cc(u,u.return,g)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&i&&(null!==(i=e.updateQueue)&&(null!==(n=i.retryQueue)&&(i.retryQueue=null,Tl(e,n))));break;case 19:_l(t,e),Ll(e),4&i&&(null!==(i=e.updateQueue)&&(e.updateQueue=null,Tl(e,i)));case 30:case 21:}}function Ll(e){var t=e.flags;if(2&t){try{for(var n,i=e.return;null!==i;){if(gl(i)){n=i;break}i=i.return}if(null==n)throw Error(s(160));switch(n.tag){case 27:var o=n.stateNode;fl(e,ml(e),o);break;case 5:var r=n.stateNode;32&n.flags&&(St(r,""),n.flags&=-33),fl(e,ml(e),r);break;case 3:case 4:var a=n.stateNode.containerInfo;vl(e,ml(e),a);break;default:throw Error(s(161))}}catch(l){cc(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Nl(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Nl(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Bl(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Dl(e,t.alternate,t),t=t.sibling}function Ol(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:al(4,t,t.return),Ol(t);break;case 1:dl(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&ul(t,t.return,n),Ol(t);break;case 27:yd(t.stateNode);case 26:case 5:dl(t,t.return),Ol(t);break;case 22:null===t.memoizedState&&Ol(t);break;default:Ol(t)}e=e.sibling}}function Gl(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var i=t.alternate,o=e,r=t,s=r.flags;switch(r.tag){case 0:case 11:case 15:Gl(o,r,n),sl(4,r);break;case 1:if(Gl(o,r,n),"function"===typeof(o=(i=r).stateNode).componentDidMount)try{o.componentDidMount()}catch(u){cc(i,i.return,u)}if(null!==(o=(i=r).updateQueue)){var a=i.stateNode;try{var l=o.shared.hiddenCallbacks;if(null!==l)for(o.shared.hiddenCallbacks=null,o=0;o<l.length;o++)hr(l[o],a)}catch(u){cc(i,i.return,u)}}n&&64&s&&ll(r),cl(r,r.return);break;case 27:wl(r);case 26:case 5:Gl(o,r,n),n&&null===i&&4&s&&hl(r),cl(r,r.return);break;case 12:Gl(o,r,n);break;case 13:Gl(o,r,n),n&&4&s&&Pl(o,r);break;case 22:null===r.memoizedState&&Gl(o,r,n),cl(r,r.return);break;case 30:break;default:Gl(o,r,n)}t=t.sibling}}function zl(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Lo(n))}function Vl(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Lo(e))}function Hl(e,t,n,i){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)jl(e,t,n,i),t=t.sibling}function jl(e,t,n,i){var o=t.flags;switch(t.tag){case 0:case 11:case 15:Hl(e,t,n,i),2048&o&&sl(9,t);break;case 1:case 13:default:Hl(e,t,n,i);break;case 3:Hl(e,t,n,i),2048&o&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Lo(e)));break;case 12:if(2048&o){Hl(e,t,n,i),e=t.stateNode;try{var r=t.memoizedProps,s=r.id,a=r.onPostCommit;"function"===typeof a&&a(s,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){cc(t,t.return,l)}}else Hl(e,t,n,i);break;case 23:break;case 22:r=t.stateNode,s=t.alternate,null!==t.memoizedState?2&r._visibility?Hl(e,t,n,i):Ul(e,t):2&r._visibility?Hl(e,t,n,i):(r._visibility|=2,Wl(e,t,n,i,0!==(10256&t.subtreeFlags))),2048&o&&zl(s,t);break;case 24:Hl(e,t,n,i),2048&o&&Vl(t.alternate,t)}}function Wl(e,t,n,i,o){for(o=o&&0!==(10256&t.subtreeFlags),t=t.child;null!==t;){var r=e,s=t,a=n,l=i,u=s.flags;switch(s.tag){case 0:case 11:case 15:Wl(r,s,a,l,o),sl(8,s);break;case 23:break;case 22:var c=s.stateNode;null!==s.memoizedState?2&c._visibility?Wl(r,s,a,l,o):Ul(r,s):(c._visibility|=2,Wl(r,s,a,l,o)),o&&2048&u&&zl(s.alternate,s);break;case 24:Wl(r,s,a,l,o),o&&2048&u&&Vl(s.alternate,s);break;default:Wl(r,s,a,l,o)}t=t.sibling}}function Ul(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,i=t,o=i.flags;switch(i.tag){case 22:Ul(n,i),2048&o&&zl(i.alternate,i);break;case 24:Ul(n,i),2048&o&&Vl(i.alternate,i);break;default:Ul(n,i)}t=t.sibling}}var Kl=8192;function ql(e){if(e.subtreeFlags&Kl)for(e=e.child;null!==e;)Yl(e),e=e.sibling}function Yl(e){switch(e.tag){case 26:ql(e),e.flags&Kl&&null!==e.memoizedState&&function(e,t,n){if(null===Hd)throw Error(s(475));var i=Hd;if("stylesheet"===t.type&&("string"!==typeof n.media||!1!==matchMedia(n.media).matches)&&0===(4&t.state.loading)){if(null===t.instance){var o=Rd(n.href),r=e.querySelector(Pd(o));if(r)return null!==(e=r._p)&&"object"===typeof e&&"function"===typeof e.then&&(i.count++,i=Wd.bind(i),e.then(i,i)),t.state.loading|=4,t.instance=r,void Ue(r);r=e.ownerDocument||e,n=Td(n),(o=Sd.get(o))&&Nd(n,o),Ue(r=r.createElement("link"));var a=r;a._p=new Promise(function(e,t){a.onload=e,a.onerror=t}),ed(r,"link",n),t.instance=r}null===i.stylesheets&&(i.stylesheets=new Map),i.stylesheets.set(t,e),(e=t.state.preload)&&0===(3&t.state.loading)&&(i.count++,t=Wd.bind(i),e.addEventListener("load",t),e.addEventListener("error",t))}}(Ml,e.memoizedState,e.memoizedProps);break;case 5:default:ql(e);break;case 3:case 4:var t=Ml;Ml=Dd(e.stateNode.containerInfo),ql(e),Ml=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=Kl,Kl=16777216,ql(e),Kl=t):ql(e))}}function Zl(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function $l(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var i=t[n];xl=i,Jl(i,e)}Zl(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)Xl(e),e=e.sibling}function Xl(e){switch(e.tag){case 0:case 11:case 15:$l(e),2048&e.flags&&al(9,e,e.return);break;case 3:case 12:default:$l(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,Ql(e)):$l(e)}}function Ql(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var i=t[n];xl=i,Jl(i,e)}Zl(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:al(8,t,t.return),Ql(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,Ql(t));break;default:Ql(t)}e=e.sibling}}function Jl(e,t){for(;null!==xl;){var n=xl;switch(n.tag){case 0:case 11:case 15:al(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var i=n.memoizedState.cachePool.pool;null!=i&&i.refCount++}break;case 24:Lo(n.memoizedState.cache)}if(null!==(i=n.child))i.return=n,xl=i;else e:for(n=e;null!==xl;){var o=(i=xl).sibling,r=i.return;if(El(i),i===n){xl=null;break e}if(null!==o){o.return=r,xl=o;break e}xl=r}}}var eu={getCacheForType:function(e){var t=ko(Mo),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n}},tu="function"===typeof WeakMap?WeakMap:Map,nu=0,iu=null,ou=null,ru=0,su=0,au=null,lu=!1,uu=!1,cu=!1,du=0,hu=0,pu=0,gu=0,mu=0,vu=0,fu=0,wu=null,Cu=null,bu=!1,yu=0,Su=1/0,xu=null,Du=null,Eu=0,Fu=null,ku=null,Au=0,Ru=0,Pu=null,Tu=null,_u=0,Mu=null;function Iu(){if(0!==(2&nu)&&0!==ru)return ru&-ru;if(null!==I.T){return 0!==Oo?Oo:Rc()}return Pe()}function Lu(){0===vu&&(vu=0===(536870912&ru)||ro?Se():536870912);var e=oa.current;return null!==e&&(e.flags|=32),vu}function Nu(e,t,n){(e!==iu||2!==su&&9!==su)&&null===e.cancelPendingCommit||(ju(e,0),zu(e,ru,vu,!1)),Ee(e,n),0!==(2&nu)&&e===iu||(e===iu&&(0===(2&nu)&&(gu|=n),4===hu&&zu(e,ru,vu,!1)),Sc(e))}function Bu(e,t,n){if(0!==(6&nu))throw Error(s(327));for(var i=!n&&0===(124&t)&&0===(t&e.expiredLanes)||be(e,t),o=i?function(e,t){var n=nu;nu|=2;var i=Uu(),o=Ku();iu!==e||ru!==t?(xu=null,Su=te()+500,ju(e,t)):uu=be(e,t);e:for(;;)try{if(0!==su&&null!==ou){t=ou;var r=au;t:switch(su){case 1:su=0,au=null,Ju(e,t,r,1);break;case 2:case 9:if($o(r)){su=0,au=null,Qu(t);break}t=function(){2!==su&&9!==su||iu!==e||(su=7),Sc(e)},r.then(t,t);break e;case 3:su=7;break e;case 4:su=5;break e;case 7:$o(r)?(su=0,au=null,Qu(t)):(su=0,au=null,Ju(e,t,r,7));break;case 5:var a=null;switch(ou.tag){case 26:a=ou.memoizedState;case 5:case 27:var l=ou;if(!a||Vd(a)){su=0,au=null;var u=l.sibling;if(null!==u)ou=u;else{var c=l.return;null!==c?(ou=c,ec(c)):ou=null}break t}}su=0,au=null,Ju(e,t,r,5);break;case 6:su=0,au=null,Ju(e,t,r,6);break;case 8:Hu(),hu=6;break e;default:throw Error(s(462))}}$u();break}catch(d){Wu(e,d)}return Co=wo=null,I.H=i,I.A=o,nu=n,null!==ou?0:(iu=null,ru=0,Ai(),hu)}(e,t):Yu(e,t,!0),r=i;;){if(0===o){uu&&!i&&zu(e,t,0,!1);break}if(n=e.current.alternate,!r||Gu(n)){if(2===o){if(r=t,e.errorRecoveryDisabledLanes&r)var a=0;else a=0!==(a=-536870913&e.pendingLanes)?a:536870912&a?536870912:0;if(0!==a){t=a;e:{var l=e;o=wu;var u=l.current.memoizedState.isDehydrated;if(u&&(ju(l,a).flags|=256),2!==(a=Yu(l,a,!1))){if(cu&&!u){l.errorRecoveryDisabledLanes|=r,gu|=r,o=4;break e}r=Cu,Cu=o,null!==r&&(null===Cu?Cu=r:Cu.push.apply(Cu,r))}o=a}if(r=!1,2!==o)continue}}if(1===o){ju(e,0),zu(e,t,0,!0);break}e:{switch(i=e,r=o){case 0:case 1:throw Error(s(345));case 4:if((4194048&t)!==t)break;case 6:zu(i,t,vu,!lu);break e;case 2:Cu=null;break;case 3:case 5:break;default:throw Error(s(329))}if((62914560&t)===t&&10<(o=yu+300-te())){if(zu(i,t,vu,!lu),0!==Ce(i,0,!0))break e;i.timeoutHandle=ld(Ou.bind(null,i,n,Cu,xu,bu,t,vu,gu,fu,lu,r,2,-0,0),o)}else Ou(i,n,Cu,xu,bu,t,vu,gu,fu,lu,r,0,-0,0)}break}o=Yu(e,t,!1),r=!1}Sc(e)}function Ou(e,t,n,i,o,r,a,l,u,c,d,h,p,g){if(e.timeoutHandle=-1,(8192&(h=t.subtreeFlags)||16785408===(16785408&h))&&(Hd={stylesheets:null,count:0,unsuspend:jd},Yl(t),null!==(h=function(){if(null===Hd)throw Error(s(475));var e=Hd;return e.stylesheets&&0===e.count&&Kd(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&Kd(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}())))return e.cancelPendingCommit=h(nc.bind(null,e,t,r,n,i,o,a,l,u,d,1,p,g)),void zu(e,r,a,!c);nc(e,t,r,n,i,o,a,l,u)}function Gu(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var i=0;i<n.length;i++){var o=n[i],r=o.getSnapshot;o=o.value;try{if(!Zn(r(),o))return!1}catch(s){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function zu(e,t,n,i){t&=~mu,t&=~gu,e.suspendedLanes|=t,e.pingedLanes&=~t,i&&(e.warmLanes|=t),i=e.expirationTimes;for(var o=t;0<o;){var r=31-pe(o),s=1<<r;i[r]=-1,o&=~s}0!==n&&Fe(e,n,t)}function Vu(){return 0!==(6&nu)||(xc(0,!1),!1)}function Hu(){if(null!==ou){if(0===su)var e=ou.return;else Co=wo=null,Or(e=ou),Zs=null,$s=0,e=ou;for(;null!==e;)rl(e.alternate,e),e=e.return;ou=null}}function ju(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,ud(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Hu(),iu=e,ou=n=Oi(e.current,null),ru=t,su=0,au=null,lu=!1,uu=be(e,t),cu=!1,fu=vu=mu=gu=pu=hu=0,Cu=wu=null,bu=!1,0!==(8&t)&&(t|=32&t);var i=e.entangledLanes;if(0!==i)for(e=e.entanglements,i&=t;0<i;){var o=31-pe(i),r=1<<o;t|=e[o],i&=~r}return du=t,Ai(),n}function Wu(e,t){br=null,I.H=Us,t===Ko||t===Yo?(t=er(),su=3):t===qo?(t=er(),su=4):su=t===Fa?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,au=t,null===ou&&(hu=1,ya(e,Di(t,e.current)))}function Uu(){var e=I.H;return I.H=Us,null===e?Us:e}function Ku(){var e=I.A;return I.A=eu,e}function qu(){hu=4,lu||(4194048&ru)!==ru&&null!==oa.current||(uu=!0),0===(134217727&pu)&&0===(134217727&gu)||null===iu||zu(iu,ru,vu,!1)}function Yu(e,t,n){var i=nu;nu|=2;var o=Uu(),r=Ku();iu===e&&ru===t||(xu=null,ju(e,t)),t=!1;var s=hu;e:for(;;)try{if(0!==su&&null!==ou){var a=ou,l=au;switch(su){case 8:Hu(),s=6;break e;case 3:case 2:case 9:case 6:null===oa.current&&(t=!0);var u=su;if(su=0,au=null,Ju(e,a,l,u),n&&uu){s=0;break e}break;default:u=su,su=0,au=null,Ju(e,a,l,u)}}Zu(),s=hu;break}catch(c){Wu(e,c)}return t&&e.shellSuspendCounter++,Co=wo=null,nu=i,I.H=o,I.A=r,null===ou&&(iu=null,ru=0,Ai()),s}function Zu(){for(;null!==ou;)Xu(ou)}function $u(){for(;null!==ou&&!J();)Xu(ou)}function Xu(e){var t=Xa(e.alternate,e,du);e.memoizedProps=e.pendingProps,null===t?ec(e):ou=t}function Qu(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Na(n,t,t.pendingProps,t.type,void 0,ru);break;case 11:t=Na(n,t,t.pendingProps,t.type.render,t.ref,ru);break;case 5:Or(t);default:rl(n,t),t=Xa(n,t=ou=Gi(t,du),du)}e.memoizedProps=e.pendingProps,null===t?ec(e):ou=t}function Ju(e,t,n,i){Co=wo=null,Or(t),Zs=null,$s=0;var o=t.return;try{if(function(e,t,n,i,o){if(n.flags|=32768,null!==i&&"object"===typeof i&&"function"===typeof i.then){if(null!==(t=n.alternate)&&Do(t,n,o,!0),null!==(n=oa.current)){switch(n.tag){case 13:return null===ra?qu():null===n.alternate&&0===hu&&(hu=3),n.flags&=-257,n.flags|=65536,n.lanes=o,i===Zo?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([i]):t.add(i),dc(e,i,o)),!1;case 22:return n.flags|=65536,i===Zo?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([i]):n.add(i),dc(e,i,o)),!1}throw Error(s(435,n.tag))}return dc(e,i,o),qu(),!1}if(ro)return null!==(t=oa.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=o,i!==lo&&vo(Di(e=Error(s(422),{cause:i}),n))):(i!==lo&&vo(Di(t=Error(s(423),{cause:i}),n)),(e=e.current.alternate).flags|=65536,o&=-o,e.lanes|=o,i=Di(i,n),lr(e,o=xa(e.stateNode,i,o)),4!==hu&&(hu=2)),!1;var r=Error(s(520),{cause:i});if(r=Di(r,n),null===wu?wu=[r]:wu.push(r),4!==hu&&(hu=2),null===t)return!0;i=Di(i,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=o&-o,n.lanes|=e,lr(n,e=xa(n.stateNode,i,e)),!1;case 1:if(t=n.type,r=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==r&&"function"===typeof r.componentDidCatch&&(null===Du||!Du.has(r))))return n.flags|=65536,o&=-o,n.lanes|=o,Ea(o=Da(o),e,n,i),lr(n,o),!1}n=n.return}while(null!==n);return!1}(e,o,t,n,ru))return hu=1,ya(e,Di(n,e.current)),void(ou=null)}catch(r){if(null!==o)throw ou=o,r;return hu=1,ya(e,Di(n,e.current)),void(ou=null)}32768&t.flags?(ro||1===i?e=!0:uu||0!==(536870912&ru)?e=!1:(lu=e=!0,(2===i||9===i||3===i||6===i)&&(null!==(i=oa.current)&&13===i.tag&&(i.flags|=16384))),tc(t,e)):ec(t)}function ec(e){var t=e;do{if(0!==(32768&t.flags))return void tc(t,lu);e=t.return;var n=il(t.alternate,t,du);if(null!==n)return void(ou=n);if(null!==(t=t.sibling))return void(ou=t);ou=t=e}while(null!==t);0===hu&&(hu=5)}function tc(e,t){do{var n=ol(e.alternate,e);if(null!==n)return n.flags&=32767,void(ou=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(ou=e);ou=e=n}while(null!==e);hu=6,ou=null}function nc(e,t,n,i,o,r,a,l,u){e.cancelPendingCommit=null;do{ac()}while(0!==Eu);if(0!==(6&nu))throw Error(s(327));if(null!==t){if(t===e.current)throw Error(s(177));if(r=t.lanes|t.childLanes,function(e,t,n,i,o,r){var s=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var a=e.entanglements,l=e.expirationTimes,u=e.hiddenUpdates;for(n=s&~n;0<n;){var c=31-pe(n),d=1<<c;a[c]=0,l[c]=-1;var h=u[c];if(null!==h)for(u[c]=null,c=0;c<h.length;c++){var p=h[c];null!==p&&(p.lane&=-536870913)}n&=~d}0!==i&&Fe(e,i,0),0!==r&&0===o&&0!==e.tag&&(e.suspendedLanes|=r&~(s&~t))}(e,n,r|=ki,a,l,u),e===iu&&(ou=iu=null,ru=0),ku=t,Fu=e,Au=n,Ru=r,Pu=o,Tu=i,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,X(re,function(){return lc(),null})):(e.callbackNode=null,e.callbackPriority=0),i=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||i){i=I.T,I.T=null,o=L.p,L.p=2,a=nu,nu|=4;try{!function(e,t){if(e=e.containerInfo,td=nh,ti(e=ei(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var i=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(i&&0!==i.rangeCount){n=i.anchorNode;var o=i.anchorOffset,r=i.focusNode;i=i.focusOffset;try{n.nodeType,r.nodeType}catch(v){n=null;break e}var a=0,l=-1,u=-1,c=0,d=0,h=e,p=null;t:for(;;){for(var g;h!==n||0!==o&&3!==h.nodeType||(l=a+o),h!==r||0!==i&&3!==h.nodeType||(u=a+i),3===h.nodeType&&(a+=h.nodeValue.length),null!==(g=h.firstChild);)p=h,h=g;for(;;){if(h===e)break t;if(p===n&&++c===o&&(l=a),p===r&&++d===i&&(u=a),null!==(g=h.nextSibling))break;p=(h=p).parentNode}h=g}n=-1===l||-1===u?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(nd={focusedElem:e,selectionRange:n},nh=!1,xl=t;null!==xl;)if(e=(t=xl).child,0!==(1024&t.subtreeFlags)&&null!==e)e.return=t,xl=e;else for(;null!==xl;){switch(r=(t=xl).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==r){e=void 0,n=t,o=r.memoizedProps,r=r.memoizedState,i=n.stateNode;try{var m=va(n.type,o,(n.elementType,n.type));e=i.getSnapshotBeforeUpdate(m,r),i.__reactInternalSnapshotBeforeUpdate=e}catch(f){cc(n,n.return,f)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))md(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":md(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(s(163))}if(null!==(e=t.sibling)){e.return=t.return,xl=e;break}xl=t.return}}(e,t)}finally{nu=a,L.p=o,I.T=i}}Eu=1,ic(),oc(),rc()}}function ic(){if(1===Eu){Eu=0;var e=Fu,t=ku,n=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||n){n=I.T,I.T=null;var i=L.p;L.p=2;var o=nu;nu|=4;try{Il(t,e);var r=nd,s=ei(e.containerInfo),a=r.focusedElem,l=r.selectionRange;if(s!==a&&a&&a.ownerDocument&&Jn(a.ownerDocument.documentElement,a)){if(null!==l&&ti(a)){var u=l.start,c=l.end;if(void 0===c&&(c=u),"selectionStart"in a)a.selectionStart=u,a.selectionEnd=Math.min(c,a.value.length);else{var d=a.ownerDocument||document,h=d&&d.defaultView||window;if(h.getSelection){var p=h.getSelection(),g=a.textContent.length,m=Math.min(l.start,g),v=void 0===l.end?m:Math.min(l.end,g);!p.extend&&m>v&&(s=v,v=m,m=s);var f=Qn(a,m),w=Qn(a,v);if(f&&w&&(1!==p.rangeCount||p.anchorNode!==f.node||p.anchorOffset!==f.offset||p.focusNode!==w.node||p.focusOffset!==w.offset)){var C=d.createRange();C.setStart(f.node,f.offset),p.removeAllRanges(),m>v?(p.addRange(C),p.extend(w.node,w.offset)):(C.setEnd(w.node,w.offset),p.addRange(C))}}}}for(d=[],p=a;p=p.parentNode;)1===p.nodeType&&d.push({element:p,left:p.scrollLeft,top:p.scrollTop});for("function"===typeof a.focus&&a.focus(),a=0;a<d.length;a++){var b=d[a];b.element.scrollLeft=b.left,b.element.scrollTop=b.top}}nh=!!td,nd=td=null}finally{nu=o,L.p=i,I.T=n}}e.current=t,Eu=2}}function oc(){if(2===Eu){Eu=0;var e=Fu,t=ku,n=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||n){n=I.T,I.T=null;var i=L.p;L.p=2;var o=nu;nu|=4;try{Dl(e,t.alternate,t)}finally{nu=o,L.p=i,I.T=n}}Eu=3}}function rc(){if(4===Eu||3===Eu){Eu=0,ee();var e=Fu,t=ku,n=Au,i=Tu;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?Eu=5:(Eu=0,ku=Fu=null,sc(e,e.pendingLanes));var o=e.pendingLanes;if(0===o&&(Du=null),Re(n),t=t.stateNode,de&&"function"===typeof de.onCommitFiberRoot)try{de.onCommitFiberRoot(ce,t,void 0,128===(128&t.current.flags))}catch(l){}if(null!==i){t=I.T,o=L.p,L.p=2,I.T=null;try{for(var r=e.onRecoverableError,s=0;s<i.length;s++){var a=i[s];r(a.value,{componentStack:a.stack})}}finally{I.T=t,L.p=o}}0!==(3&Au)&&ac(),Sc(e),o=e.pendingLanes,0!==(4194090&n)&&0!==(42&o)?e===Mu?_u++:(_u=0,Mu=e):_u=0,xc(0,!1)}}function sc(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Lo(t)))}function ac(e){return ic(),oc(),rc(),lc()}function lc(){if(5!==Eu)return!1;var e=Fu,t=Ru;Ru=0;var n=Re(Au),i=I.T,o=L.p;try{L.p=32>n?32:n,I.T=null,n=Pu,Pu=null;var r=Fu,a=Au;if(Eu=0,ku=Fu=null,Au=0,0!==(6&nu))throw Error(s(331));var l=nu;if(nu|=4,Xl(r.current),jl(r,r.current,a,n),nu=l,xc(0,!1),de&&"function"===typeof de.onPostCommitFiberRoot)try{de.onPostCommitFiberRoot(ce,r)}catch(u){}return!0}finally{L.p=o,I.T=i,sc(e,t)}}function uc(e,t,n){t=Di(n,t),null!==(e=sr(e,t=xa(e.stateNode,t,2),2))&&(Ee(e,2),Sc(e))}function cc(e,t,n){if(3===e.tag)uc(e,e,n);else for(;null!==t;){if(3===t.tag){uc(t,e,n);break}if(1===t.tag){var i=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof i.componentDidCatch&&(null===Du||!Du.has(i))){e=Di(n,e),null!==(i=sr(t,n=Da(2),2))&&(Ea(n,i,t,e),Ee(i,2),Sc(i));break}}t=t.return}}function dc(e,t,n){var i=e.pingCache;if(null===i){i=e.pingCache=new tu;var o=new Set;i.set(t,o)}else void 0===(o=i.get(t))&&(o=new Set,i.set(t,o));o.has(n)||(cu=!0,o.add(n),e=hc.bind(null,e,t,n),t.then(e,e))}function hc(e,t,n){var i=e.pingCache;null!==i&&i.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,iu===e&&(ru&n)===n&&(4===hu||3===hu&&(62914560&ru)===ru&&300>te()-yu?0===(2&nu)&&ju(e,0):mu|=n,fu===ru&&(fu=0)),Sc(e)}function pc(e,t){0===t&&(t=xe()),null!==(e=Ti(e,t))&&(Ee(e,t),Sc(e))}function gc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),pc(e,n)}function mc(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,o=e.memoizedState;null!==o&&(n=o.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(s(314))}null!==i&&i.delete(t),pc(e,n)}var vc=null,fc=null,wc=!1,Cc=!1,bc=!1,yc=0;function Sc(e){e!==fc&&null===e.next&&(null===fc?vc=fc=e:fc=fc.next=e),Cc=!0,wc||(wc=!0,dd(function(){0!==(6&nu)?X(ie,Dc):Ec()}))}function xc(e,t){if(!bc&&Cc){bc=!0;do{for(var n=!1,i=vc;null!==i;){if(!t)if(0!==e){var o=i.pendingLanes;if(0===o)var r=0;else{var s=i.suspendedLanes,a=i.pingedLanes;r=(1<<31-pe(42|e)+1)-1,r=201326741&(r&=o&~(s&~a))?201326741&r|1:r?2|r:0}0!==r&&(n=!0,Ac(i,r))}else r=ru,0===(3&(r=Ce(i,i===iu?r:0,null!==i.cancelPendingCommit||-1!==i.timeoutHandle)))||be(i,r)||(n=!0,Ac(i,r));i=i.next}}while(n);bc=!1}}function Dc(){Ec()}function Ec(){Cc=wc=!1;var e=0;0!==yc&&(function(){var e=window.event;if(e&&"popstate"===e.type)return e!==ad&&(ad=e,!0);return ad=null,!1}()&&(e=yc),yc=0);for(var t=te(),n=null,i=vc;null!==i;){var o=i.next,r=Fc(i,t);0===r?(i.next=null,null===n?vc=o:n.next=o,null===o&&(fc=n)):(n=i,(0!==e||0!==(3&r))&&(Cc=!0)),i=o}xc(e,!1)}function Fc(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,r=-62914561&e.pendingLanes;0<r;){var s=31-pe(r),a=1<<s,l=o[s];-1===l?0!==(a&n)&&0===(a&i)||(o[s]=ye(a,t)):l<=t&&(e.expiredLanes|=a),r&=~a}if(n=ru,n=Ce(e,e===(t=iu)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),i=e.callbackNode,0===n||e===t&&(2===su||9===su)||null!==e.cancelPendingCommit)return null!==i&&null!==i&&Q(i),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||be(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==i&&Q(i),Re(n)){case 2:case 8:n=oe;break;case 32:default:n=re;break;case 268435456:n=ae}return i=kc.bind(null,e),n=X(n,i),e.callbackPriority=t,e.callbackNode=n,t}return null!==i&&null!==i&&Q(i),e.callbackPriority=2,e.callbackNode=null,2}function kc(e,t){if(0!==Eu&&5!==Eu)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(ac()&&e.callbackNode!==n)return null;var i=ru;return 0===(i=Ce(e,e===iu?i:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Bu(e,i,t),Fc(e,te()),null!=e.callbackNode&&e.callbackNode===n?kc.bind(null,e):null)}function Ac(e,t){if(ac())return null;Bu(e,t,!0)}function Rc(){return 0===yc&&(yc=Se()),yc}function Pc(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:Rt(""+e)}function Tc(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var _c=0;_c<yi.length;_c++){var Mc=yi[_c];Si(Mc.toLowerCase(),"on"+(Mc[0].toUpperCase()+Mc.slice(1)))}Si(pi,"onAnimationEnd"),Si(gi,"onAnimationIteration"),Si(mi,"onAnimationStart"),Si("dblclick","onDoubleClick"),Si("focusin","onFocus"),Si("focusout","onBlur"),Si(vi,"onTransitionRun"),Si(fi,"onTransitionStart"),Si(wi,"onTransitionCancel"),Si(Ci,"onTransitionEnd"),Ze("onMouseEnter",["mouseout","mouseover"]),Ze("onMouseLeave",["mouseout","mouseover"]),Ze("onPointerEnter",["pointerout","pointerover"]),Ze("onPointerLeave",["pointerout","pointerover"]),Ye("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ye("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ye("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ye("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ye("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ye("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ic="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lc=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ic));function Nc(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var i=e[n],o=i.event;i=i.listeners;e:{var r=void 0;if(t)for(var s=i.length-1;0<=s;s--){var a=i[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==r&&o.isPropagationStopped())break e;r=a,o.currentTarget=u;try{r(o)}catch(c){fa(c)}o.currentTarget=null,r=l}else for(s=0;s<i.length;s++){if(l=(a=i[s]).instance,u=a.currentTarget,a=a.listener,l!==r&&o.isPropagationStopped())break e;r=a,o.currentTarget=u;try{r(o)}catch(c){fa(c)}o.currentTarget=null,r=l}}}}function Bc(e,t){var n=t[Le];void 0===n&&(n=t[Le]=new Set);var i=e+"__bubble";n.has(i)||(Vc(t,e,2,!1),n.add(i))}function Oc(e,t,n){var i=0;t&&(i|=4),Vc(n,e,i,t)}var Gc="_reactListening"+Math.random().toString(36).slice(2);function zc(e){if(!e[Gc]){e[Gc]=!0,Ke.forEach(function(t){"selectionchange"!==t&&(Lc.has(t)||Oc(t,!1,e),Oc(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Gc]||(t[Gc]=!0,Oc("selectionchange",!1,t))}}function Vc(e,t,n,i){switch(uh(t)){case 2:var o=ih;break;case 8:o=oh;break;default:o=rh}n=o.bind(null,t,n,e),o=void 0,!Gt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(o=!0),i?void 0!==o?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):void 0!==o?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Hc(e,t,n,i,o){var r=i;if(0===(1&t)&&0===(2&t)&&null!==i)e:for(;;){if(null===i)return;var s=i.tag;if(3===s||4===s){var a=i.stateNode.containerInfo;if(a===o)break;if(4===s)for(s=i.return;null!==s;){var u=s.tag;if((3===u||4===u)&&s.stateNode.containerInfo===o)return;s=s.return}for(;null!==a;){if(null===(s=Ve(a)))return;if(5===(u=s.tag)||6===u||26===u||27===u){i=r=s;continue e}a=a.parentNode}}i=i.return}Nt(function(){var i=r,o=Tt(n),s=[];e:{var a=bi.get(e);if(void 0!==a){var u=Jt,c=e;switch(e){case"keypress":if(0===Ut(n))break e;case"keydown":case"keyup":u=mn;break;case"focusin":c="focus",u=sn;break;case"focusout":c="blur",u=sn;break;case"beforeblur":case"afterblur":u=sn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=on;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=rn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=fn;break;case pi:case gi:case mi:u=an;break;case Ci:u=wn;break;case"scroll":case"scrollend":u=tn;break;case"wheel":u=Cn;break;case"copy":case"cut":case"paste":u=ln;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=vn;break;case"toggle":case"beforetoggle":u=bn}var d=0!==(4&t),h=!d&&("scroll"===e||"scrollend"===e),p=d?null!==a?a+"Capture":null:a;d=[];for(var g,m=i;null!==m;){var v=m;if(g=v.stateNode,5!==(v=v.tag)&&26!==v&&27!==v||null===g||null===p||null!=(v=Bt(m,p))&&d.push(jc(m,v,g)),h)break;m=m.return}0<d.length&&(a=new u(a,c,null,n,o),s.push({event:a,listeners:d}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===Pt||!(c=n.relatedTarget||n.fromElement)||!Ve(c)&&!c[Ie])&&(u||a)&&(a=o.window===o?o:(a=o.ownerDocument)?a.defaultView||a.parentWindow:window,u?(u=i,null!==(c=(c=n.relatedTarget||n.toElement)?Ve(c):null)&&(h=l(c),d=c.tag,c!==h||5!==d&&27!==d&&6!==d)&&(c=null)):(u=null,c=i),u!==c)){if(d=on,v="onMouseLeave",p="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(d=vn,v="onPointerLeave",p="onPointerEnter",m="pointer"),h=null==u?a:je(u),g=null==c?a:je(c),(a=new d(v,m+"leave",u,n,o)).target=h,a.relatedTarget=g,v=null,Ve(o)===i&&((d=new d(p,m+"enter",c,n,o)).target=g,d.relatedTarget=h,v=d),h=v,u&&c)e:{for(p=c,m=0,g=d=u;g;g=Uc(g))m++;for(g=0,v=p;v;v=Uc(v))g++;for(;0<m-g;)d=Uc(d),m--;for(;0<g-m;)p=Uc(p),g--;for(;m--;){if(d===p||null!==p&&d===p.alternate)break e;d=Uc(d),p=Uc(p)}d=null}else d=null;null!==u&&Kc(s,a,u,d,!1),null!==c&&null!==h&&Kc(s,h,c,d,!0)}if("select"===(u=(a=i?je(i):window).nodeName&&a.nodeName.toLowerCase())||"input"===u&&"file"===a.type)var f=On;else if(_n(a))if(Gn)f=Yn;else{f=Kn;var w=Un}else!(u=a.nodeName)||"input"!==u.toLowerCase()||"checkbox"!==a.type&&"radio"!==a.type?i&&Ft(i.elementType)&&(f=On):f=qn;switch(f&&(f=f(e,i))?Mn(s,f,n,o):(w&&w(e,a,i),"focusout"===e&&i&&"number"===a.type&&null!=i.memoizedProps.value&&wt(a,"number",a.value)),w=i?je(i):window,e){case"focusin":(_n(w)||"true"===w.contentEditable)&&(ii=w,oi=i,ri=null);break;case"focusout":ri=oi=ii=null;break;case"mousedown":si=!0;break;case"contextmenu":case"mouseup":case"dragend":si=!1,ai(s,n,o);break;case"selectionchange":if(ni)break;case"keydown":case"keyup":ai(s,n,o)}var C;if(Sn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Pn?An(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(En&&"ko"!==n.locale&&(Pn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Pn&&(C=Wt()):(Ht="value"in(Vt=o)?Vt.value:Vt.textContent,Pn=!0)),0<(w=Wc(i,b)).length&&(b=new un(b,e,null,n,o),s.push({event:b,listeners:w}),C?b.data=C:null!==(C=Rn(n))&&(b.data=C))),(C=Dn?function(e,t){switch(e){case"compositionend":return Rn(t);case"keypress":return 32!==t.which?null:(kn=!0,Fn);case"textInput":return(e=t.data)===Fn&&kn?null:e;default:return null}}(e,n):function(e,t){if(Pn)return"compositionend"===e||!Sn&&An(e,t)?(e=Wt(),jt=Ht=Vt=null,Pn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return En&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(b=Wc(i,"onBeforeInput")).length&&(w=new un("onBeforeInput","beforeinput",null,n,o),s.push({event:w,listeners:b}),w.data=C)),function(e,t,n,i,o){if("submit"===t&&n&&n.stateNode===o){var r=Pc((o[Me]||null).action),s=i.submitter;s&&null!==(t=(t=s[Me]||null)?Pc(t.formAction):s.getAttribute("formAction"))&&(r=t,s=null);var a=new Jt("action","action",null,i,o);e.push({event:a,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(0!==yc){var e=s?Tc(o,s):new FormData(o);Ts(n,{pending:!0,data:e,method:o.method,action:r},null,e)}}else"function"===typeof r&&(a.preventDefault(),e=s?Tc(o,s):new FormData(o),Ts(n,{pending:!0,data:e,method:o.method,action:r},r,e))},currentTarget:o}]})}}(s,e,i,n,o)}Nc(s,t)})}function jc(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wc(e,t){for(var n=t+"Capture",i=[];null!==e;){var o=e,r=o.stateNode;if(5!==(o=o.tag)&&26!==o&&27!==o||null===r||(null!=(o=Bt(e,n))&&i.unshift(jc(e,o,r)),null!=(o=Bt(e,t))&&i.push(jc(e,o,r))),3===e.tag)return i;e=e.return}return[]}function Uc(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function Kc(e,t,n,i,o){for(var r=t._reactName,s=[];null!==n&&n!==i;){var a=n,l=a.alternate,u=a.stateNode;if(a=a.tag,null!==l&&l===i)break;5!==a&&26!==a&&27!==a||null===u||(l=u,o?null!=(u=Bt(n,r))&&s.unshift(jc(n,u,l)):o||null!=(u=Bt(n,r))&&s.push(jc(n,u,l))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var qc=/\r\n?/g,Yc=/\u0000|\uFFFD/g;function Zc(e){return("string"===typeof e?e:""+e).replace(qc,"\n").replace(Yc,"")}function $c(e,t){return t=Zc(t),Zc(e)===t}function Xc(){}function Qc(e,t,n,i,o,r){switch(n){case"children":"string"===typeof i?"body"===t||"textarea"===t&&""===i||St(e,i):("number"===typeof i||"bigint"===typeof i)&&"body"!==t&&St(e,""+i);break;case"className":nt(e,"class",i);break;case"tabIndex":nt(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":nt(e,n,i);break;case"style":Et(e,i,r);break;case"data":if("object"!==t){nt(e,"data",i);break}case"src":case"href":if(""===i&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==i||"function"===typeof i||"symbol"===typeof i||"boolean"===typeof i){e.removeAttribute(n);break}i=Rt(""+i),e.setAttribute(n,i);break;case"action":case"formAction":if("function"===typeof i){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof r&&("formAction"===n?("input"!==t&&Qc(e,t,"name",o.name,o,null),Qc(e,t,"formEncType",o.formEncType,o,null),Qc(e,t,"formMethod",o.formMethod,o,null),Qc(e,t,"formTarget",o.formTarget,o,null)):(Qc(e,t,"encType",o.encType,o,null),Qc(e,t,"method",o.method,o,null),Qc(e,t,"target",o.target,o,null))),null==i||"symbol"===typeof i||"boolean"===typeof i){e.removeAttribute(n);break}i=Rt(""+i),e.setAttribute(n,i);break;case"onClick":null!=i&&(e.onclick=Xc);break;case"onScroll":null!=i&&Bc("scroll",e);break;case"onScrollEnd":null!=i&&Bc("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=i){if("object"!==typeof i||!("__html"in i))throw Error(s(61));if(null!=(n=i.__html)){if(null!=o.children)throw Error(s(60));e.innerHTML=n}}break;case"multiple":e.multiple=i&&"function"!==typeof i&&"symbol"!==typeof i;break;case"muted":e.muted=i&&"function"!==typeof i&&"symbol"!==typeof i;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==i||"function"===typeof i||"boolean"===typeof i||"symbol"===typeof i){e.removeAttribute("xlink:href");break}n=Rt(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=i&&"function"!==typeof i&&"symbol"!==typeof i?e.setAttribute(n,""+i):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&"function"!==typeof i&&"symbol"!==typeof i?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===i?e.setAttribute(n,""):!1!==i&&null!=i&&"function"!==typeof i&&"symbol"!==typeof i?e.setAttribute(n,i):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=i&&"function"!==typeof i&&"symbol"!==typeof i&&!isNaN(i)&&1<=i?e.setAttribute(n,i):e.removeAttribute(n);break;case"rowSpan":case"start":null==i||"function"===typeof i||"symbol"===typeof i||isNaN(i)?e.removeAttribute(n):e.setAttribute(n,i);break;case"popover":Bc("beforetoggle",e),Bc("toggle",e),tt(e,"popover",i);break;case"xlinkActuate":it(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":it(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":it(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":it(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":it(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":it(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":it(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":it(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":it(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":tt(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&tt(e,n=kt.get(n)||n,i)}}function Jc(e,t,n,i,o,r){switch(n){case"style":Et(e,i,r);break;case"dangerouslySetInnerHTML":if(null!=i){if("object"!==typeof i||!("__html"in i))throw Error(s(61));if(null!=(n=i.__html)){if(null!=o.children)throw Error(s(60));e.innerHTML=n}}break;case"children":"string"===typeof i?St(e,i):("number"===typeof i||"bigint"===typeof i)&&St(e,""+i);break;case"onScroll":null!=i&&Bc("scroll",e);break;case"onScrollEnd":null!=i&&Bc("scrollend",e);break;case"onClick":null!=i&&(e.onclick=Xc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:qe.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(o=n.endsWith("Capture"),t=n.slice(2,o?n.length-7:void 0),"function"===typeof(r=null!=(r=e[Me]||null)?r[n]:null)&&e.removeEventListener(t,r,o),"function"!==typeof i)?n in e?e[n]=i:!0===i?e.setAttribute(n,""):tt(e,n,i):("function"!==typeof r&&null!==r&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,i,o)))}}function ed(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Bc("error",e),Bc("load",e);var i,o=!1,r=!1;for(i in n)if(n.hasOwnProperty(i)){var a=n[i];if(null!=a)switch(i){case"src":o=!0;break;case"srcSet":r=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:Qc(e,t,i,a,n,null)}}return r&&Qc(e,t,"srcSet",n.srcSet,n,null),void(o&&Qc(e,t,"src",n.src,n,null));case"input":Bc("invalid",e);var l=i=a=r=null,u=null,c=null;for(o in n)if(n.hasOwnProperty(o)){var d=n[o];if(null!=d)switch(o){case"name":r=d;break;case"type":a=d;break;case"checked":u=d;break;case"defaultChecked":c=d;break;case"value":i=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(s(137,t));break;default:Qc(e,t,o,d,n,null)}}return ft(e,i,l,u,c,a,r,!1),void dt(e);case"select":for(r in Bc("invalid",e),o=a=i=null,n)if(n.hasOwnProperty(r)&&null!=(l=n[r]))switch(r){case"value":i=l;break;case"defaultValue":a=l;break;case"multiple":o=l;default:Qc(e,t,r,l,n,null)}return t=i,n=a,e.multiple=!!o,void(null!=t?Ct(e,!!o,t,!1):null!=n&&Ct(e,!!o,n,!0));case"textarea":for(a in Bc("invalid",e),i=r=o=null,n)if(n.hasOwnProperty(a)&&null!=(l=n[a]))switch(a){case"value":o=l;break;case"defaultValue":r=l;break;case"children":i=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(s(91));break;default:Qc(e,t,a,l,n,null)}return yt(e,o,r,i),void dt(e);case"option":for(u in n)if(n.hasOwnProperty(u)&&null!=(o=n[u]))if("selected"===u)e.selected=o&&"function"!==typeof o&&"symbol"!==typeof o;else Qc(e,t,u,o,n,null);return;case"dialog":Bc("beforetoggle",e),Bc("toggle",e),Bc("cancel",e),Bc("close",e);break;case"iframe":case"object":Bc("load",e);break;case"video":case"audio":for(o=0;o<Ic.length;o++)Bc(Ic[o],e);break;case"image":Bc("error",e),Bc("load",e);break;case"details":Bc("toggle",e);break;case"embed":case"source":case"link":Bc("error",e),Bc("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(c in n)if(n.hasOwnProperty(c)&&null!=(o=n[c]))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:Qc(e,t,c,o,n,null)}return;default:if(Ft(t)){for(d in n)n.hasOwnProperty(d)&&(void 0!==(o=n[d])&&Jc(e,t,d,o,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(o=n[l])&&Qc(e,t,l,o,n,null))}var td=null,nd=null;function id(e){return 9===e.nodeType?e:e.ownerDocument}function od(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function rd(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function sd(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ad=null;var ld="function"===typeof setTimeout?setTimeout:void 0,ud="function"===typeof clearTimeout?clearTimeout:void 0,cd="function"===typeof Promise?Promise:void 0,dd="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof cd?function(e){return cd.resolve(null).then(e).catch(hd)}:ld;function hd(e){setTimeout(function(){throw e})}function pd(e){return"head"===e}function gd(e,t){var n=t,i=0,o=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&8===r.nodeType)if("/$"===(n=r.data)){if(0<i&&8>i){n=i;var s=e.ownerDocument;if(1&n&&yd(s.documentElement),2&n&&yd(s.body),4&n)for(yd(n=s.head),s=n.firstChild;s;){var a=s.nextSibling,l=s.nodeName;s[Ge]||"SCRIPT"===l||"STYLE"===l||"LINK"===l&&"stylesheet"===s.rel.toLowerCase()||n.removeChild(s),s=a}}if(0===o)return e.removeChild(r),void kh(t);o--}else"$"===n||"$?"===n||"$!"===n?o++:i=n.charCodeAt(0)-48;else i=0;n=r}while(n);kh(t)}function md(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":md(n),ze(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function vd(e){return"$!"===e.data||"$?"===e.data&&"complete"===e.ownerDocument.readyState}function fd(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}var wd=null;function Cd(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}function bd(e,t,n){switch(t=id(n),e){case"html":if(!(e=t.documentElement))throw Error(s(452));return e;case"head":if(!(e=t.head))throw Error(s(453));return e;case"body":if(!(e=t.body))throw Error(s(454));return e;default:throw Error(s(451))}}function yd(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);ze(e)}var Sd=new Map,xd=new Set;function Dd(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Ed=L.d;L.d={f:function(){var e=Ed.f(),t=Vu();return e||t},r:function(e){var t=He(e);null!==t&&5===t.tag&&"form"===t.type?Ms(t):Ed.r(e)},D:function(e){Ed.D(e),kd("dns-prefetch",e,null)},C:function(e,t){Ed.C(e,t),kd("preconnect",e,t)},L:function(e,t,n){Ed.L(e,t,n);var i=Fd;if(i&&e&&t){var o='link[rel="preload"][as="'+mt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(o+='[imagesrcset="'+mt(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(o+='[imagesizes="'+mt(n.imageSizes)+'"]')):o+='[href="'+mt(e)+'"]';var r=o;switch(t){case"style":r=Rd(e);break;case"script":r=_d(e)}Sd.has(r)||(e=h({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),Sd.set(r,e),null!==i.querySelector(o)||"style"===t&&i.querySelector(Pd(r))||"script"===t&&i.querySelector(Md(r))||(ed(t=i.createElement("link"),"link",e),Ue(t),i.head.appendChild(t)))}},m:function(e,t){Ed.m(e,t);var n=Fd;if(n&&e){var i=t&&"string"===typeof t.as?t.as:"script",o='link[rel="modulepreload"][as="'+mt(i)+'"][href="'+mt(e)+'"]',r=o;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":r=_d(e)}if(!Sd.has(r)&&(e=h({rel:"modulepreload",href:e},t),Sd.set(r,e),null===n.querySelector(o))){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Md(r)))return}ed(i=n.createElement("link"),"link",e),Ue(i),n.head.appendChild(i)}}},X:function(e,t){Ed.X(e,t);var n=Fd;if(n&&e){var i=We(n).hoistableScripts,o=_d(e),r=i.get(o);r||((r=n.querySelector(Md(o)))||(e=h({src:e,async:!0},t),(t=Sd.get(o))&&Bd(e,t),Ue(r=n.createElement("script")),ed(r,"link",e),n.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},i.set(o,r))}},S:function(e,t,n){Ed.S(e,t,n);var i=Fd;if(i&&e){var o=We(i).hoistableStyles,r=Rd(e);t=t||"default";var s=o.get(r);if(!s){var a={loading:0,preload:null};if(s=i.querySelector(Pd(r)))a.loading=5;else{e=h({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Sd.get(r))&&Nd(e,n);var l=s=i.createElement("link");Ue(l),ed(l,"link",e),l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),l.addEventListener("load",function(){a.loading|=1}),l.addEventListener("error",function(){a.loading|=2}),a.loading|=4,Ld(s,t,i)}s={type:"stylesheet",instance:s,count:1,state:a},o.set(r,s)}}},M:function(e,t){Ed.M(e,t);var n=Fd;if(n&&e){var i=We(n).hoistableScripts,o=_d(e),r=i.get(o);r||((r=n.querySelector(Md(o)))||(e=h({src:e,async:!0,type:"module"},t),(t=Sd.get(o))&&Bd(e,t),Ue(r=n.createElement("script")),ed(r,"link",e),n.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},i.set(o,r))}}};var Fd="undefined"===typeof document?null:document;function kd(e,t,n){var i=Fd;if(i&&"string"===typeof t&&t){var o=mt(t);o='link[rel="'+e+'"][href="'+o+'"]',"string"===typeof n&&(o+='[crossorigin="'+n+'"]'),xd.has(o)||(xd.add(o),e={rel:e,crossOrigin:n,href:t},null===i.querySelector(o)&&(ed(t=i.createElement("link"),"link",e),Ue(t),i.head.appendChild(t)))}}function Ad(e,t,n,i){var o,r,a,l,u=(u=W.current)?Dd(u):null;if(!u)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=Rd(n.href),(i=(n=We(u).hoistableStyles).get(t))||(i={type:"style",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=Rd(n.href);var c=We(u).hoistableStyles,d=c.get(e);if(d||(u=u.ownerDocument||u,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},c.set(e,d),(c=u.querySelector(Pd(e)))&&!c._p&&(d.instance=c,d.state.loading=5),Sd.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Sd.set(e,n),c||(o=u,r=e,a=n,l=d.state,o.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=o.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),ed(r,"link",a),Ue(r),o.head.appendChild(r))))),t&&null===i)throw Error(s(528,""));return d}if(t&&null!==i)throw Error(s(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=_d(n),(i=(n=We(u).hoistableScripts).get(t))||(i={type:"script",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Rd(e){return'href="'+mt(e)+'"'}function Pd(e){return'link[rel="stylesheet"]['+e+"]"}function Td(e){return h({},e,{"data-precedence":e.precedence,precedence:null})}function _d(e){return'[src="'+mt(e)+'"]'}function Md(e){return"script[async]"+e}function Id(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var i=e.querySelector('style[data-href~="'+mt(n.href)+'"]');if(i)return t.instance=i,Ue(i),i;var o=h({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return Ue(i=(e.ownerDocument||e).createElement("style")),ed(i,"style",o),Ld(i,n.precedence,e),t.instance=i;case"stylesheet":o=Rd(n.href);var r=e.querySelector(Pd(o));if(r)return t.state.loading|=4,t.instance=r,Ue(r),r;i=Td(n),(o=Sd.get(o))&&Nd(i,o),Ue(r=(e.ownerDocument||e).createElement("link"));var a=r;return a._p=new Promise(function(e,t){a.onload=e,a.onerror=t}),ed(r,"link",i),t.state.loading|=4,Ld(r,n.precedence,e),t.instance=r;case"script":return r=_d(n.src),(o=e.querySelector(Md(r)))?(t.instance=o,Ue(o),o):(i=n,(o=Sd.get(r))&&Bd(i=h({},n),o),Ue(o=(e=e.ownerDocument||e).createElement("script")),ed(o,"link",i),e.head.appendChild(o),t.instance=o);case"void":return null;default:throw Error(s(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(i=t.instance,t.state.loading|=4,Ld(i,n.precedence,e));return t.instance}function Ld(e,t,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=i.length?i[i.length-1]:null,r=o,s=0;s<i.length;s++){var a=i[s];if(a.dataset.precedence===t)r=a;else if(r!==o)break}r?r.parentNode.insertBefore(e,r.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function Nd(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function Bd(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var Od=null;function Gd(e,t,n){if(null===Od){var i=new Map,o=Od=new Map;o.set(n,i)}else(i=(o=Od).get(n))||(i=new Map,o.set(n,i));if(i.has(e))return i;for(i.set(e,null),n=n.getElementsByTagName(e),o=0;o<n.length;o++){var r=n[o];if(!(r[Ge]||r[_e]||"link"===e&&"stylesheet"===r.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==r.namespaceURI){var s=r.getAttribute(t)||"";s=e+s;var a=i.get(s);a?a.push(r):i.set(s,[r])}}return i}function zd(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function Vd(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var Hd=null;function jd(){}function Wd(){if(this.count--,0===this.count)if(this.stylesheets)Kd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var Ud=null;function Kd(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,Ud=new Map,t.forEach(qd,e),Ud=null,Wd.call(e))}function qd(e,t){if(!(4&t.state.loading)){var n=Ud.get(e);if(n)var i=n.get(null);else{n=new Map,Ud.set(e,n);for(var o=e.querySelectorAll("link[data-precedence],style[data-precedence]"),r=0;r<o.length;r++){var s=o[r];"LINK"!==s.nodeName&&"not all"===s.getAttribute("media")||(n.set(s.dataset.precedence,s),i=s)}i&&n.set(null,i)}s=(o=t.instance).getAttribute("data-precedence"),(r=n.get(s)||i)===i&&n.set(null,o),n.set(s,o),this.count++,i=Wd.bind(this),o.addEventListener("load",i),o.addEventListener("error",i),r?r.parentNode.insertBefore(o,r.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(o,e.firstChild),t.state.loading|=4}}var Yd={$$typeof:y,Provider:null,Consumer:null,_currentValue:N,_currentValue2:N,_threadCount:0};function Zd(e,t,n,i,o,r,s,a){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=De(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=De(0),this.hiddenUpdates=De(null),this.identifierPrefix=i,this.onUncaughtError=o,this.onCaughtError=r,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=a,this.incompleteTransitions=new Map}function $d(e,t,n,i,o,r,s,a,l,u,c,d){return e=new Zd(e,t,n,s,a,l,u,d),t=1,!0===r&&(t|=24),r=Ni(3,null,null,t),e.current=r,r.stateNode=e,(t=Io()).refCount++,e.pooledCache=t,t.refCount++,r.memoizedState={element:i,isDehydrated:n,cache:t},ir(r),e}function Xd(e){return e?e=Ii:Ii}function Qd(e,t,n,i,o,r){o=Xd(o),null===i.context?i.context=o:i.pendingContext=o,(i=rr(t)).payload={element:n},null!==(r=void 0===r?null:r)&&(i.callback=r),null!==(n=sr(e,i,t))&&(Nu(n,0,t),ar(n,e,t))}function Jd(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function eh(e,t){Jd(e,t),(e=e.alternate)&&Jd(e,t)}function th(e){if(13===e.tag){var t=Ti(e,67108864);null!==t&&Nu(t,0,67108864),eh(e,67108864)}}var nh=!0;function ih(e,t,n,i){var o=I.T;I.T=null;var r=L.p;try{L.p=2,rh(e,t,n,i)}finally{L.p=r,I.T=o}}function oh(e,t,n,i){var o=I.T;I.T=null;var r=L.p;try{L.p=8,rh(e,t,n,i)}finally{L.p=r,I.T=o}}function rh(e,t,n,i){if(nh){var o=sh(i);if(null===o)Hc(e,t,i,ah,n),wh(e,i);else if(function(e,t,n,i,o){switch(t){case"focusin":return dh=Ch(dh,e,t,n,i,o),!0;case"dragenter":return hh=Ch(hh,e,t,n,i,o),!0;case"mouseover":return ph=Ch(ph,e,t,n,i,o),!0;case"pointerover":var r=o.pointerId;return gh.set(r,Ch(gh.get(r)||null,e,t,n,i,o)),!0;case"gotpointercapture":return r=o.pointerId,mh.set(r,Ch(mh.get(r)||null,e,t,n,i,o)),!0}return!1}(o,e,t,n,i))i.stopPropagation();else if(wh(e,i),4&t&&-1<fh.indexOf(e)){for(;null!==o;){var r=He(o);if(null!==r)switch(r.tag){case 3:if((r=r.stateNode).current.memoizedState.isDehydrated){var s=we(r.pendingLanes);if(0!==s){var a=r;for(a.pendingLanes|=2,a.entangledLanes|=2;s;){var l=1<<31-pe(s);a.entanglements[1]|=l,s&=~l}Sc(r),0===(6&nu)&&(Su=te()+500,xc(0,!1))}}break;case 13:null!==(a=Ti(r,2))&&Nu(a,0,2),Vu(),eh(r,2)}if(null===(r=sh(i))&&Hc(e,t,i,ah,n),r===o)break;o=r}null!==o&&i.stopPropagation()}else Hc(e,t,i,null,n)}}function sh(e){return lh(e=Tt(e))}var ah=null;function lh(e){if(ah=null,null!==(e=Ve(e))){var t=l(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=u(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return ah=e,null}function uh(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ne()){case ie:return 2;case oe:return 8;case re:case se:return 32;case ae:return 268435456;default:return 32}default:return 32}}var ch=!1,dh=null,hh=null,ph=null,gh=new Map,mh=new Map,vh=[],fh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function wh(e,t){switch(e){case"focusin":case"focusout":dh=null;break;case"dragenter":case"dragleave":hh=null;break;case"mouseover":case"mouseout":ph=null;break;case"pointerover":case"pointerout":gh.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":mh.delete(t.pointerId)}}function Ch(e,t,n,i,o,r){return null===e||e.nativeEvent!==r?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:r,targetContainers:[o]},null!==t&&(null!==(t=He(t))&&th(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,null!==o&&-1===t.indexOf(o)&&t.push(o),e)}function bh(e){var t=Ve(e.target);if(null!==t){var n=l(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=u(n)))return e.blockedOn=t,void function(e,t){var n=L.p;try{return L.p=e,t()}finally{L.p=n}}(e.priority,function(){if(13===n.tag){var e=Iu();e=Ae(e);var t=Ti(n,e);null!==t&&Nu(t,0,e),eh(n,e)}})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function yh(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=sh(e.nativeEvent);if(null!==n)return null!==(t=He(n))&&th(t),e.blockedOn=n,!1;var i=new(n=e.nativeEvent).constructor(n.type,n);Pt=i,n.target.dispatchEvent(i),Pt=null,t.shift()}return!0}function Sh(e,t,n){yh(e)&&n.delete(t)}function xh(){ch=!1,null!==dh&&yh(dh)&&(dh=null),null!==hh&&yh(hh)&&(hh=null),null!==ph&&yh(ph)&&(ph=null),gh.forEach(Sh),mh.forEach(Sh)}function Dh(e,t){e.blockedOn===t&&(e.blockedOn=null,ch||(ch=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,xh)))}var Eh=null;function Fh(e){Eh!==e&&(Eh=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Eh===e&&(Eh=null);for(var t=0;t<e.length;t+=3){var n=e[t],i=e[t+1],o=e[t+2];if("function"!==typeof i){if(null===lh(i||n))continue;break}var r=He(n);null!==r&&(e.splice(t,3),t-=3,Ts(r,{pending:!0,data:o,method:n.method,action:i},i,o))}}))}function kh(e){function t(t){return Dh(t,e)}null!==dh&&Dh(dh,e),null!==hh&&Dh(hh,e),null!==ph&&Dh(ph,e),gh.forEach(t),mh.forEach(t);for(var n=0;n<vh.length;n++){var i=vh[n];i.blockedOn===e&&(i.blockedOn=null)}for(;0<vh.length&&null===(n=vh[0]).blockedOn;)bh(n),null===n.blockedOn&&vh.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(i=0;i<n.length;i+=3){var o=n[i],r=n[i+1],s=o[Me]||null;if("function"===typeof r)s||Fh(n);else if(s){var a=null;if(r&&r.hasAttribute("formAction")){if(o=r,s=r[Me]||null)a=s.formAction;else if(null!==lh(o))continue}else a=s.action;"function"===typeof a?n[i+1]=a:(n.splice(i,3),i-=3),Fh(n)}}}function Ah(e){this._internalRoot=e}function Rh(e){this._internalRoot=e}Rh.prototype.render=Ah.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Qd(t.current,Iu(),e,t,null,null)},Rh.prototype.unmount=Ah.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;Qd(e.current,2,null,e,null,null),Vu(),t[Ie]=null}},Rh.prototype.unstable_scheduleHydration=function(e){if(e){var t=Pe();e={blockedOn:null,target:e,priority:t};for(var n=0;n<vh.length&&0!==t&&t<vh[n].priority;n++);vh.splice(n,0,e),0===n&&bh(e)}};var Ph=o.version;if("19.1.1"!==Ph)throw Error(s(527,Ph,"19.1.1"));L.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=l(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,i=t;;){var o=n.return;if(null===o)break;var r=o.alternate;if(null===r){if(null!==(i=o.return)){n=i;continue}break}if(o.child===r.child){for(r=o.child;r;){if(r===n)return c(o),e;if(r===i)return c(o),t;r=r.sibling}throw Error(s(188))}if(n.return!==i.return)n=o,i=r;else{for(var a=!1,u=o.child;u;){if(u===n){a=!0,n=o,i=r;break}if(u===i){a=!0,i=o,n=r;break}u=u.sibling}if(!a){for(u=r.child;u;){if(u===n){a=!0,n=r,i=o;break}if(u===i){a=!0,i=r,n=o;break}u=u.sibling}if(!a)throw Error(s(189))}}if(n.alternate!==i)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?d(e):null)?null:e.stateNode};var Th={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:I,reconcilerVersion:"19.1.1"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var _h=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_h.isDisabled&&_h.supportsFiber)try{ce=_h.inject(Th),de=_h}catch(Ih){}}t.createRoot=function(e,t){if(!a(e))throw Error(s(299));var n=!1,i="",o=wa,r=Ca,l=ba;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(i=t.identifierPrefix),void 0!==t.onUncaughtError&&(o=t.onUncaughtError),void 0!==t.onCaughtError&&(r=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=$d(e,1,!1,null,0,n,i,o,r,l,0,null),e[Ie]=t.current,zc(e),new Ah(t)},t.hydrateRoot=function(e,t,n){if(!a(e))throw Error(s(299));var i=!1,o="",r=wa,l=Ca,u=ba,c=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onUncaughtError&&(r=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(u=n.onRecoverableError),void 0!==n.unstable_transitionCallbacks&&n.unstable_transitionCallbacks,void 0!==n.formState&&(c=n.formState)),(t=$d(e,1,!0,t,0,i,o,r,l,u,0,c)).context=Xd(null),n=t.current,(o=rr(i=Ae(i=Iu()))).callback=null,sr(n,o,i),n=i,t.current.lanes=n,Ee(t,n),Sc(t),e[Ie]=t.current,zc(e),new Rh(t)},t.version="19.1.1"},43:(e,t,n)=>{"use strict";e.exports=n(288)},136:e=>{"use strict";function t(e,t,o){e instanceof RegExp&&(e=n(e,o)),t instanceof RegExp&&(t=n(t,o));var r=i(e,t,o);return r&&{start:r[0],end:r[1],pre:o.slice(0,r[0]),body:o.slice(r[0]+e.length,r[1]),post:o.slice(r[1]+t.length)}}function n(e,t){var n=t.match(e);return n?n[0]:null}function i(e,t,n){var i,o,r,s,a,l=n.indexOf(e),u=n.indexOf(t,l+1),c=l;if(l>=0&&u>0){if(e===t)return[l,u];for(i=[],r=n.length;c>=0&&!a;)c==l?(i.push(c),l=n.indexOf(e,c+1)):1==i.length?a=[i.pop(),u]:((o=i.pop())<r&&(r=o,s=u),u=n.indexOf(t,c+1)),c=l<u&&l>=0?l:u;i.length&&(a=[r,s])}return a}e.exports=t,t.range=i},146:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.camelCase=void 0;var n=/^--[a-zA-Z0-9_-]+$/,i=/-([a-z])/g,o=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,s=/^-(ms)-/,a=function(e,t){return t.toUpperCase()},l=function(e,t){return"".concat(t,"-")};t.camelCase=function(e,t){return void 0===t&&(t={}),function(e){return!e||o.test(e)||n.test(e)}(e)?e:(e=e.toLowerCase(),(e=t.reactCompat?e.replace(s,l):e.replace(r,l)).replace(i,a))}},222:function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=null;if(!e||"string"!==typeof e)return n;var i=(0,o.default)(e),r="function"===typeof t;return i.forEach(function(e){if("declaration"===e.type){var i=e.property,o=e.value;r?t(i,o,e):o&&((n=n||{})[i]=o)}}),n};var o=i(n(403))},240:e=>{"use strict";var t=Object.prototype.hasOwnProperty,n=Object.prototype.toString,i=Object.defineProperty,o=Object.getOwnPropertyDescriptor,r=function(e){return"function"===typeof Array.isArray?Array.isArray(e):"[object Array]"===n.call(e)},s=function(e){if(!e||"[object Object]"!==n.call(e))return!1;var i,o=t.call(e,"constructor"),r=e.constructor&&e.constructor.prototype&&t.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!o&&!r)return!1;for(i in e);return"undefined"===typeof i||t.call(e,i)},a=function(e,t){i&&"__proto__"===t.name?i(e,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):e[t.name]=t.newValue},l=function(e,n){if("__proto__"===n){if(!t.call(e,n))return;if(o)return o(e,n).value}return e[n]};e.exports=function e(){var t,n,i,o,u,c,d=arguments[0],h=1,p=arguments.length,g=!1;for("boolean"===typeof d&&(g=d,d=arguments[1]||{},h=2),(null==d||"object"!==typeof d&&"function"!==typeof d)&&(d={});h<p;++h)if(null!=(t=arguments[h]))for(n in t)i=l(d,n),d!==(o=l(t,n))&&(g&&o&&(s(o)||(u=r(o)))?(u?(u=!1,c=i&&r(i)?i:[]):c=i&&s(i)?i:{},a(d,{name:n,newValue:e(g,c,o)})):"undefined"!==typeof o&&a(d,{name:n,newValue:o}));return d}},288:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),i=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,v={};function f(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||g}function w(){}function C(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||g}f.prototype.isReactComponent={},f.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},f.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},w.prototype=f.prototype;var b=C.prototype=new w;b.constructor=C,m(b,f.prototype),b.isPureReactComponent=!0;var y=Array.isArray,S={H:null,A:null,T:null,S:null,V:null},x=Object.prototype.hasOwnProperty;function D(e,t,i,o,r,s){return i=s.ref,{$$typeof:n,type:e,key:t,ref:void 0!==i?i:null,props:s}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var F=/\/+/g;function k(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function A(){}function R(e,t,o,r,s){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l,u,c=!1;if(null===e)c=!0;else switch(a){case"bigint":case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case n:case i:c=!0;break;case h:return R((c=e._init)(e._payload),t,o,r,s)}}if(c)return s=s(e),c=""===r?"."+k(e,0):r,y(s)?(o="",null!=c&&(o=c.replace(F,"$&/")+"/"),R(s,t,o,"",function(e){return e})):null!=s&&(E(s)&&(l=s,u=o+(null==s.key||e&&e.key===s.key?"":(""+s.key).replace(F,"$&/")+"/")+c,s=D(l.type,u,void 0,0,0,l.props)),t.push(s)),1;c=0;var d,g=""===r?".":r+":";if(y(e))for(var m=0;m<e.length;m++)c+=R(r=e[m],t,o,a=g+k(r,m),s);else if("function"===typeof(m=null===(d=e)||"object"!==typeof d?null:"function"===typeof(d=p&&d[p]||d["@@iterator"])?d:null))for(e=m.call(e),m=0;!(r=e.next()).done;)c+=R(r=r.value,t,o,a=g+k(r,m++),s);else if("object"===a){if("function"===typeof e.then)return R(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(A,A):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,o,r,s);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return c}function P(e,t,n){if(null==e)return e;var i=[],o=0;return R(e,i,"","",function(e){return t.call(n,e,o++)}),i}function T(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var _="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function M(){}t.Children={map:P,forEach:function(e,t,n){P(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return P(e,function(){t++}),t},toArray:function(e){return P(e,function(e){return e})||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=f,t.Fragment=o,t.Profiler=s,t.PureComponent=C,t.StrictMode=r,t.Suspense=c,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=S,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return S.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var i=m({},e.props),o=e.key;if(null!=t)for(r in void 0!==t.ref&&void 0,void 0!==t.key&&(o=""+t.key),t)!x.call(t,r)||"key"===r||"__self"===r||"__source"===r||"ref"===r&&void 0===t.ref||(i[r]=t[r]);var r=arguments.length-2;if(1===r)i.children=n;else if(1<r){for(var s=Array(r),a=0;a<r;a++)s[a]=arguments[a+2];i.children=s}return D(e.type,o,void 0,0,0,i)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:a,_context:e},e},t.createElement=function(e,t,n){var i,o={},r=null;if(null!=t)for(i in void 0!==t.key&&(r=""+t.key),t)x.call(t,i)&&"key"!==i&&"__self"!==i&&"__source"!==i&&(o[i]=t[i]);var s=arguments.length-2;if(1===s)o.children=n;else if(1<s){for(var a=Array(s),l=0;l<s;l++)a[l]=arguments[l+2];o.children=a}if(e&&e.defaultProps)for(i in s=e.defaultProps)void 0===o[i]&&(o[i]=s[i]);return D(e,r,void 0,0,0,o)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:T}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=S.T,n={};S.T=n;try{var i=e(),o=S.S;null!==o&&o(n,i),"object"===typeof i&&null!==i&&"function"===typeof i.then&&i.then(M,_)}catch(r){_(r)}finally{S.T=t}},t.unstable_useCacheRefresh=function(){return S.H.useCacheRefresh()},t.use=function(e){return S.H.use(e)},t.useActionState=function(e,t,n){return S.H.useActionState(e,t,n)},t.useCallback=function(e,t){return S.H.useCallback(e,t)},t.useContext=function(e){return S.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return S.H.useDeferredValue(e,t)},t.useEffect=function(e,t,n){var i=S.H;if("function"===typeof n)throw Error("useEffect CRUD overload is not enabled in this build of React.");return i.useEffect(e,t)},t.useId=function(){return S.H.useId()},t.useImperativeHandle=function(e,t,n){return S.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return S.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return S.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return S.H.useMemo(e,t)},t.useOptimistic=function(e,t){return S.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return S.H.useReducer(e,t,n)},t.useRef=function(e){return S.H.useRef(e)},t.useState=function(e){return S.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return S.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return S.H.useTransition()},t.version="19.1.1"},294:function(e,t,n){"use strict";var i=(this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}})(n(222)),o=n(146);function r(e,t){var n={};return e&&"string"===typeof e?((0,i.default)(e,function(e,i){e&&i&&(n[(0,o.camelCase)(e,t)]=i)}),n):n}r.default=r,e.exports=r},355:(e,t,n)=>{"use strict";e.exports=n(727)},391:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4)},403:e=>{var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,n=/\n/g,i=/^\s*/,o=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,r=/^:\s*/,s=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,a=/^[;\s]*/,l=/^\s+|\s+$/g,u="";function c(e){return e?e.replace(l,u):u}e.exports=function(e,l){if("string"!==typeof e)throw new TypeError("First argument must be a string");if(!e)return[];l=l||{};var d=1,h=1;function p(e){var t=e.match(n);t&&(d+=t.length);var i=e.lastIndexOf("\n");h=~i?e.length-i:h+e.length}function g(){var e={line:d,column:h};return function(t){return t.position=new m(e),C(),t}}function m(e){this.start=e,this.end={line:d,column:h},this.source=l.source}m.prototype.content=e;var v=[];function f(t){var n=new Error(l.source+":"+d+":"+h+": "+t);if(n.reason=t,n.filename=l.source,n.line=d,n.column=h,n.source=e,!l.silent)throw n;v.push(n)}function w(t){var n=t.exec(e);if(n){var i=n[0];return p(i),e=e.slice(i.length),n}}function C(){w(i)}function b(e){var t;for(e=e||[];t=y();)!1!==t&&e.push(t);return e}function y(){var t=g();if("/"==e.charAt(0)&&"*"==e.charAt(1)){for(var n=2;u!=e.charAt(n)&&("*"!=e.charAt(n)||"/"!=e.charAt(n+1));)++n;if(n+=2,u===e.charAt(n-1))return f("End of comment missing");var i=e.slice(2,n-2);return h+=2,p(i),e=e.slice(n),h+=2,t({type:"comment",comment:i})}}function S(){var e=g(),n=w(o);if(n){if(y(),!w(r))return f("property missing ':'");var i=w(s),l=e({type:"declaration",property:c(n[0].replace(t,u)),value:i?c(i[0].replace(t,u)):u});return w(a),l}}return C(),function(){var e,t=[];for(b(t);e=S();)!1!==e&&(t.push(e),b(t));return t}()}},579:(e,t,n)=>{"use strict";e.exports=n(799)},672:(e,t,n)=>{"use strict";var i=n(43);function o(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var s={d:{f:r,r:function(){throw Error(o(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},a=Symbol.for("react.portal");var l=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(o(299));return function(e,t,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:a,key:null==i?null:""+i,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=l.T,n=s.p;try{if(l.T=null,s.p=2,e)return e()}finally{l.T=t,s.p=n,s.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,s.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&s.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,i=u(n,t.crossOrigin),o="string"===typeof t.integrity?t.integrity:void 0,r="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?s.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:i,integrity:o,fetchPriority:r}):"script"===n&&s.d.X(e,{crossOrigin:i,integrity:o,fetchPriority:r,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=u(t.as,t.crossOrigin);s.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&s.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,i=u(n,t.crossOrigin);s.d.L(e,n,{crossOrigin:i,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=u(t.as,t.crossOrigin);s.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else s.d.m(e)},t.requestFormReset=function(e){s.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return l.H.useFormState(e,t,n)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.1.1"},727:(e,t)=>{"use strict";var n,i=Symbol.for("react.element"),o=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),g=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),v=Symbol.for("react.offscreen");function f(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case r:case a:case s:case h:case p:return e;default:switch(e=e&&e.$$typeof){case c:case u:case d:case m:case g:case l:return e;default:return t}}case o:return t}}}n=Symbol.for("react.module.reference"),t.isFragment=function(e){return f(e)===r}},799:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),i=Symbol.for("react.fragment");function o(e,t,i){var o=null;if(void 0!==i&&(o=""+i),void 0!==t.key&&(o=""+t.key),"key"in t)for(var r in i={},t)"key"!==r&&(i[r]=t[r]);else i=t;return t=i.ref,{$$typeof:n,type:e,key:o,ref:void 0!==t?t:null,props:i}}t.Fragment=i,t.jsx=o,t.jsxs=o},853:(e,t,n)=>{"use strict";e.exports=n(896)},896:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var i=n-1>>>1,o=e[i];if(!(0<r(o,t)))break e;e[i]=t,e[n]=o,n=i}}function i(e){return 0===e.length?null:e[0]}function o(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var i=0,o=e.length,s=o>>>1;i<s;){var a=2*(i+1)-1,l=e[a],u=a+1,c=e[u];if(0>r(l,n))u<o&&0>r(c,l)?(e[i]=c,e[u]=n,i=u):(e[i]=l,e[a]=n,i=a);else{if(!(u<o&&0>r(c,n)))break e;e[i]=c,e[u]=n,i=u}}}return t}function r(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var u=[],c=[],d=1,h=null,p=3,g=!1,m=!1,v=!1,f=!1,w="function"===typeof setTimeout?setTimeout:null,C="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function y(e){for(var t=i(c);null!==t;){if(null===t.callback)o(c);else{if(!(t.startTime<=e))break;o(c),t.sortIndex=t.expirationTime,n(u,t)}t=i(c)}}function S(e){if(v=!1,y(e),!m)if(null!==i(u))m=!0,D||(D=!0,x());else{var t=i(c);null!==t&&_(S,t.startTime-e)}}var x,D=!1,E=-1,F=5,k=-1;function A(){return!!f||!(t.unstable_now()-k<F)}function R(){if(f=!1,D){var e=t.unstable_now();k=e;var n=!0;try{e:{m=!1,v&&(v=!1,C(E),E=-1),g=!0;var r=p;try{t:{for(y(e),h=i(u);null!==h&&!(h.expirationTime>e&&A());){var s=h.callback;if("function"===typeof s){h.callback=null,p=h.priorityLevel;var a=s(h.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof a){h.callback=a,y(e),n=!0;break t}h===i(u)&&o(u),y(e)}else o(u);h=i(u)}if(null!==h)n=!0;else{var l=i(c);null!==l&&_(S,l.startTime-e),n=!1}}break e}finally{h=null,p=r,g=!1}n=void 0}}finally{n?x():D=!1}}}if("function"===typeof b)x=function(){b(R)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,T=P.port2;P.port1.onmessage=R,x=function(){T.postMessage(null)}}else x=function(){w(R,0)};function _(e,n){E=w(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_requestPaint=function(){f=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,o,r){var s=t.unstable_now();switch("object"===typeof r&&null!==r?r="number"===typeof(r=r.delay)&&0<r?s+r:s:r=s,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:d++,callback:o,priorityLevel:e,startTime:r,expirationTime:a=r+a,sortIndex:-1},r>s?(e.sortIndex=r,n(c,e),null===i(u)&&e===i(c)&&(v?(C(E),E=-1):v=!0,_(S,r-s))):(e.sortIndex=a,n(u,e),m||g||(m=!0,D||(D=!0,x()))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(672)}},t={};function n(i){var o=t[i];if(void 0!==o)return o.exports;var r=t[i]={exports:{}};return e[i].call(r.exports,r,r.exports,n),r.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce((t,i)=>(n.f[i](e,t),t),[])),n.u=e=>"static/js/"+e+".6a8769e6.chunk.js",n.miniCssF=e=>{},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="supply-chain-performance-coaching-agent:";n.l=(i,o,r,s)=>{if(e[i])e[i].push(o);else{var a,l;if(void 0!==r)for(var u=document.getElementsByTagName("script"),c=0;c<u.length;c++){var d=u[c];if(d.getAttribute("src")==i||d.getAttribute("data-webpack")==t+r){a=d;break}}a||(l=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,n.nc&&a.setAttribute("nonce",n.nc),a.setAttribute("data-webpack",t+r),a.src=i),e[i]=[o];var h=(t,n)=>{a.onerror=a.onload=null,clearTimeout(p);var o=e[i];if(delete e[i],a.parentNode&&a.parentNode.removeChild(a),o&&o.forEach(e=>e(n)),t)return t(n)},p=setTimeout(h.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=h.bind(null,a.onerror),a.onload=h.bind(null,a.onload),l&&document.head.appendChild(a)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/sca-agent/",(()=>{var e={792:0};n.f.j=(t,i)=>{var o=n.o(e,t)?e[t]:void 0;if(0!==o)if(o)i.push(o[2]);else{var r=new Promise((n,i)=>o=e[t]=[n,i]);i.push(o[2]=r);var s=n.p+n.u(t),a=new Error;n.l(s,i=>{if(n.o(e,t)&&(0!==(o=e[t])&&(e[t]=void 0),o)){var r=i&&("load"===i.type?"missing":i.type),s=i&&i.target&&i.target.src;a.message="Loading chunk "+t+" failed.\n("+r+": "+s+")",a.name="ChunkLoadError",a.type=r,a.request=s,o[1](a)}},"chunk-"+t,t)}};var t=(t,i)=>{var o,r,s=i[0],a=i[1],l=i[2],u=0;if(s.some(t=>0!==e[t])){for(o in a)n.o(a,o)&&(n.m[o]=a[o]);if(l)l(n)}for(t&&t(i);u<s.length;u++)r=s[u],n.o(e,r)&&e[r]&&e[r][0](),e[r]=0},i=self.webpackChunksupply_chain_performance_coaching_agent=self.webpackChunksupply_chain_performance_coaching_agent||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))})(),(()=>{"use strict";var e={};n.r(e),n.d(e,{boolean:()=>Koe,booleanish:()=>qoe,commaOrSpaceSeparated:()=>Qoe,commaSeparated:()=>Xoe,number:()=>Zoe,overloadedBoolean:()=>Yoe,spaceSeparated:()=>$oe});var t={};n.r(t),n.d(t,{attentionMarkers:()=>kae,contentInitial:()=>yae,disable:()=>Aae,document:()=>bae,flow:()=>xae,flowInitial:()=>Sae,insideSpan:()=>Fae,string:()=>Dae,text:()=>Eae});var i=n(43),o=n(391);function r(e,t){if(null==e)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(-1!==t.indexOf(i))continue;n[i]=e[i]}return n}function s(e,t){if(null==e)return{};var n,i,o=r(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function l(e){var t=function(e,t){if("object"!=a(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=a(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==a(t)?t:t+""}function u(e,t,n){return(t=l(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach(function(t){u(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}const h=["sri"],p=["page"],g=["page","matches"],m=["onClick","discover","prefetch","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],v=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],f=["discover","fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","viewTransition"];var w="popstate";function C(){return F(function(e,t){let{pathname:n,search:i,hash:o}=e.location;return x("",{pathname:n,search:i,hash:o},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:D(t)},null,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function b(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function y(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function S(e,t){return{usr:e.state,key:e.key,idx:t}}function x(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3?arguments[3]:void 0;return d(d({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?E(t):t),{},{state:n,key:t&&t.key||i||Math.random().toString(36).substring(2,10)})}function D(e){let{pathname:t="/",search:n="",hash:i=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),i&&"#"!==i&&(t+="#"===i.charAt(0)?i:"#"+i),t}function E(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let i=e.indexOf("?");i>=0&&(t.search=e.substring(i),e=e.substring(0,i)),e&&(t.pathname=e)}return t}function F(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:o=document.defaultView,v5Compat:r=!1}=i,s=o.history,a="POP",l=null,u=c();function c(){return(s.state||{idx:null}).idx}function h(){a="POP";let e=c(),t=null==e?null:e-u;u=e,l&&l({action:a,location:g.location,delta:t})}function p(e){return k(e)}null==u&&(u=0,s.replaceState(d(d({},s.state),{},{idx:u}),""));let g={get action(){return a},get location(){return e(o,s)},listen(e){if(l)throw new Error("A history only accepts one active listener");return o.addEventListener(w,h),l=e,()=>{o.removeEventListener(w,h),l=null}},createHref:e=>t(o,e),createURL:p,encodeLocation(e){let t=p(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){a="PUSH";let i=x(g.location,e,t);n&&n(i,e),u=c()+1;let d=S(i,u),h=g.createHref(i);try{s.pushState(d,"",h)}catch(p){if(p instanceof DOMException&&"DataCloneError"===p.name)throw p;o.location.assign(h)}r&&l&&l({action:a,location:g.location,delta:1})},replace:function(e,t){a="REPLACE";let i=x(g.location,e,t);n&&n(i,e),u=c();let o=S(i,u),d=g.createHref(i);s.replaceState(o,"",d),r&&l&&l({action:a,location:g.location,delta:0})},go:e=>s.go(e)};return g}function k(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n="http://localhost";"undefined"!==typeof window&&(n="null"!==window.location.origin?window.location.origin:window.location.href),b(n,"No window.location.(origin|href) available to create URL");let i="string"===typeof e?e:D(e);return i=i.replace(/ $/,"%20"),!t&&i.startsWith("//")&&(i=n+i),new URL(i,n)}new WeakMap;function A(e,t){return R(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function R(e,t,n,i){let o=W(("string"===typeof t?E(t):t).pathname||"/",n);if(null==o)return null;let r=P(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(r);let s=null;for(let a=0;null==s&&a<r.length;++a){let e=j(o);s=z(r[a],e,i)}return s}function P(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],r=function(e,r){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o,a=arguments.length>3?arguments[3]:void 0,l={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:r,route:e};if(l.relativePath.startsWith("/")){if(!l.relativePath.startsWith(i)&&s)return;b(l.relativePath.startsWith(i),'Absolute route path "'.concat(l.relativePath,'" nested under path "').concat(i,'" is not valid. An absolute child route path must start with the combined path of all its parent routes.')),l.relativePath=l.relativePath.slice(i.length)}let u=Z([i,l.relativePath]),c=n.concat(l);e.children&&e.children.length>0&&(b(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'.concat(u,'".')),P(e.children,t,c,u,s)),(null!=e.path||e.index)&&t.push({path:u,score:G(u,e.index),routesMeta:c})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!==(n=e.path)&&void 0!==n&&n.includes("?"))for(let i of T(e.path))r(e,t,!0,i);else r(e,t)}),t}function T(e){let t=e.split("/");if(0===t.length)return[];let[n,...i]=t,o=n.endsWith("?"),r=n.replace(/\?$/,"");if(0===i.length)return o?[r,""]:[r];let s=T(i.join("/")),a=[];return a.push(...s.map(e=>""===e?r:[r,e].join("/"))),o&&a.push(...s),a.map(t=>e.startsWith("/")&&""===t?"/":t)}var _=/^:[\w-]+$/,M=3,I=2,L=1,N=10,B=-2,O=e=>"*"===e;function G(e,t){let n=e.split("/"),i=n.length;return n.some(O)&&(i+=B),t&&(i+=I),n.filter(e=>!O(e)).reduce((e,t)=>e+(_.test(t)?M:""===t?L:N),i)}function z(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:i}=e,o={},r="/",s=[];for(let a=0;a<i.length;++a){let e=i[a],l=a===i.length-1,u="/"===r?t:t.slice(r.length)||"/",c=V({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},u),d=e.route;if(!c&&l&&n&&!i[i.length-1].route.index&&(c=V({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},u)),!c)return null;Object.assign(o,c.params),s.push({params:o,pathname:Z([r,c.pathname]),pathnameBase:$(Z([r,c.pathnameBase])),route:d}),"/"!==c.pathnameBase&&(r=Z([r,c.pathnameBase]))}return s}function V(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,i]=H(e.path,e.caseSensitive,e.end),o=t.match(n);if(!o)return null;let r=o[0],s=r.replace(/(.)\/+$/,"$1"),a=o.slice(1),l=i.reduce((e,t,n)=>{let{paramName:i,isOptional:o}=t;if("*"===i){let e=a[n]||"";s=r.slice(0,r.length-e.length).replace(/(.)\/+$/,"$1")}const l=a[n];return e[i]=o&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{});return{params:l,pathname:r,pathnameBase:s,pattern:e}}function H(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];y("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'.concat(e,'" will be treated as if it were "').concat(e.replace(/\*$/,"/*"),'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "').concat(e.replace(/\*$/,"/*"),'".'));let i=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(i.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(i.push({paramName:"*"}),o+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":""!==e&&"/"!==e&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),i]}function j(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return y(!1,'The URL path "'.concat(e,'" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (').concat(t,").")),e}}function W(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,i=e.charAt(n);return i&&"/"!==i?null:e.slice(n)||"/"}function U(e,t,n,i){return"Cannot include a '".concat(e,"' character in a manually specified `to.").concat(t,"` field [").concat(JSON.stringify(i),"].  Please separate it out to the `to.").concat(n,'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.')}function K(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function q(e){let t=K(e);return t.map((e,n)=>n===t.length-1?e.pathname:e.pathnameBase)}function Y(e,t,n){let i,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof e?i=E(e):(i=d({},e),b(!i.pathname||!i.pathname.includes("?"),U("?","pathname","search",i)),b(!i.pathname||!i.pathname.includes("#"),U("#","pathname","hash",i)),b(!i.search||!i.search.includes("#"),U("#","search","hash",i)));let r,s=""===e||""===i.pathname,a=s?"/":i.pathname;if(null==a)r=n;else{let e=t.length-1;if(!o&&a.startsWith("..")){let t=a.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}r=e>=0?t[e]:"/"}let l=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:n,search:i="",hash:o=""}="string"===typeof e?E(e):e,r=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:r,search:X(i),hash:Q(o)}}(i,r),u=a&&"/"!==a&&a.endsWith("/"),c=(s||"."===a)&&n.endsWith("/");return l.pathname.endsWith("/")||!u&&!c||(l.pathname+="/"),l}var Z=e=>e.join("/").replace(/\/\/+/g,"/"),$=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),X=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",Q=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";function J(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var ee=["POST","PUT","PATCH","DELETE"],te=(new Set(ee),["GET",...ee]);new Set(te),Symbol("ResetLoaderData");var ne=i.createContext(null);ne.displayName="DataRouter";var ie=i.createContext(null);ie.displayName="DataRouterState";var oe=i.createContext(!1);var re=i.createContext({isTransitioning:!1});re.displayName="ViewTransition";var se=i.createContext(new Map);se.displayName="Fetchers";var ae=i.createContext(null);ae.displayName="Await";var le=i.createContext(null);le.displayName="Navigation";var ue=i.createContext(null);ue.displayName="Location";var ce=i.createContext({outlet:null,matches:[],isDataRoute:!1});ce.displayName="Route";var de=i.createContext(null);de.displayName="RouteError";function he(){return null!=i.useContext(ue)}function pe(){return b(he(),"useLocation() may be used only in the context of a <Router> component."),i.useContext(ue).location}var ge="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function me(e){i.useContext(le).static||i.useLayoutEffect(e)}function ve(){let{isDataRoute:e}=i.useContext(ce);return e?function(){let{router:e}=Ee("useNavigate"),t=ke("useNavigate"),n=i.useRef(!1);me(()=>{n.current=!0});let o=i.useCallback(async function(i){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};y(n.current,ge),n.current&&("number"===typeof i?e.navigate(i):await e.navigate(i,d({fromRouteId:t},o)))},[e,t]);return o}():function(){b(he(),"useNavigate() may be used only in the context of a <Router> component.");let e=i.useContext(ne),{basename:t,navigator:n}=i.useContext(le),{matches:o}=i.useContext(ce),{pathname:r}=pe(),s=JSON.stringify(q(o)),a=i.useRef(!1);me(()=>{a.current=!0});let l=i.useCallback(function(i){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(y(a.current,ge),!a.current)return;if("number"===typeof i)return void n.go(i);let l=Y(i,JSON.parse(s),r,"path"===o.relative);null==e&&"/"!==t&&(l.pathname="/"===l.pathname?t:Z([t,l.pathname])),(o.replace?n.replace:n.push)(l,o.state,o)},[t,n,s,r,e]);return l}()}i.createContext(null);function fe(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:n}=i.useContext(ce),{pathname:o}=pe(),r=JSON.stringify(q(n));return i.useMemo(()=>Y(e,JSON.parse(r),o,"path"===t),[e,r,o,t])}function we(e,t,n,o,r){b(he(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=i.useContext(le),{matches:a}=i.useContext(ce),l=a[a.length-1],u=l?l.params:{},c=l?l.pathname:"/",h=l?l.pathnameBase:"/",p=l&&l.route;{let e=p&&p.path||"";Pe(c,!p||e.endsWith("*")||e.endsWith("*?"),'You rendered descendant <Routes> (or called `useRoutes()`) at "'.concat(c,'" (under <Route path="').concat(e,'">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won\'t match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="').concat(e,'"> to <Route path="').concat("/"===e?"*":"".concat(e,"/*"),'">.'))}let g,m=pe();if(t){var v;let e="string"===typeof t?E(t):t;b("/"===h||(null===(v=e.pathname)||void 0===v?void 0:v.startsWith(h)),'When overriding the location using `<Routes location>` or `useRoutes(routes, location)`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "'.concat(h,'" but pathname "').concat(e.pathname,'" was given in the `location` prop.')),g=e}else g=m;let f=g.pathname||"/",w=f;if("/"!==h){let e=h.replace(/^\//,"").split("/");w="/"+f.replace(/^\//,"").split("/").slice(e.length).join("/")}let C=A(e,{pathname:w});y(p||null!=C,'No routes matched location "'.concat(g.pathname).concat(g.search).concat(g.hash,'" ')),y(null==C||void 0!==C[C.length-1].route.element||void 0!==C[C.length-1].route.Component||void 0!==C[C.length-1].route.lazy,'Matched leaf route at location "'.concat(g.pathname).concat(g.search).concat(g.hash,'" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.'));let S=xe(C&&C.map(e=>Object.assign({},e,{params:Object.assign({},u,e.params),pathname:Z([h,s.encodeLocation?s.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?h:Z([h,s.encodeLocation?s.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),a,n,o,r);return t&&S?i.createElement(ue.Provider,{value:{location:d({pathname:"/",search:"",hash:"",state:null,key:"default"},g),navigationType:"POP"}},S):S}function Ce(){let e=Ae(),t=J(e)?"".concat(e.status," ").concat(e.statusText):e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,o="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:o},s={padding:"2px 4px",backgroundColor:o},a=null;return console.error("Error handled by React Router default ErrorBoundary:",e),a=i.createElement(i.Fragment,null,i.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),i.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",i.createElement("code",{style:s},"ErrorBoundary")," or"," ",i.createElement("code",{style:s},"errorElement")," prop on your route.")),i.createElement(i.Fragment,null,i.createElement("h2",null,"Unexpected Application Error!"),i.createElement("h3",{style:{fontStyle:"italic"}},t),n?i.createElement("pre",{style:r},n):null,a)}var be=i.createElement(Ce,null),ye=class extends i.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return void 0!==this.state.error?i.createElement(ce.Provider,{value:this.props.routeContext},i.createElement(de.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Se(e){let{routeContext:t,match:n,children:o}=e,r=i.useContext(ne);return r&&r.static&&r.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=n.route.id),i.createElement(ce.Provider,{value:t},o)}function xe(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(null==e){if(!n)return null;if(n.errors)e=n.matches;else{if(0!==t.length||n.initialized||!(n.matches.length>0))return null;e=n.matches}}let r=e,s=null===n||void 0===n?void 0:n.errors;if(null!=s){let e=r.findIndex(e=>e.route.id&&void 0!==(null===s||void 0===s?void 0:s[e.route.id]));b(e>=0,"Could not find a matching route for errors on route IDs: ".concat(Object.keys(s).join(","))),r=r.slice(0,Math.min(r.length,e+1))}let a=!1,l=-1;if(n)for(let i=0;i<r.length;i++){let e=r[i];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(l=i),e.route.id){let{loaderData:t,errors:i}=n,o=e.route.loader&&!t.hasOwnProperty(e.route.id)&&(!i||void 0===i[e.route.id]);if(e.route.lazy||o){a=!0,r=l>=0?r.slice(0,l+1):[r[0]];break}}}return r.reduceRight((e,u,c)=>{let d,h=!1,p=null,g=null;n&&(d=s&&u.route.id?s[u.route.id]:void 0,p=u.route.errorElement||be,a&&(l<0&&0===c?(Pe("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),h=!0,g=null):l===c&&(h=!0,g=u.route.hydrateFallbackElement||null)));let m=t.concat(r.slice(0,c+1)),v=()=>{let t;return t=d?p:h?g:u.route.Component?i.createElement(u.route.Component,null):u.route.element?u.route.element:e,i.createElement(Se,{match:u,routeContext:{outlet:e,matches:m,isDataRoute:null!=n},children:t})};return n&&(u.route.ErrorBoundary||u.route.errorElement||0===c)?i.createElement(ye,{location:n.location,revalidation:n.revalidation,component:p,error:d,children:v(),routeContext:{outlet:null,matches:m,isDataRoute:!0},unstable_onError:o}):v()},null)}function De(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function Ee(e){let t=i.useContext(ne);return b(t,De(e)),t}function Fe(e){let t=i.useContext(ie);return b(t,De(e)),t}function ke(e){let t=function(e){let t=i.useContext(ce);return b(t,De(e)),t}(e),n=t.matches[t.matches.length-1];return b(n.route.id,"".concat(e,' can only be used on routes that contain a unique "id"')),n.route.id}function Ae(){var e;let t=i.useContext(de),n=Fe("useRouteError"),o=ke("useRouteError");return void 0!==t?t:null===(e=n.errors)||void 0===e?void 0:e[o]}var Re={};function Pe(e,t,n){t||Re[e]||(Re[e]=!0,y(!1,n))}var Te={};function _e(e,t){e||Te[t]||(Te[t]=!0,console.warn(t))}i.memo(function(e){let{routes:t,future:n,state:i,unstable_onError:o}=e;return we(t,void 0,i,o,n)});function Me(e){b(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Ie(e){let{basename:t="/",children:n=null,location:o,navigationType:r="POP",navigator:s,static:a=!1}=e;b(!he(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),u=i.useMemo(()=>({basename:l,navigator:s,static:a,future:{}}),[l,s,a]);"string"===typeof o&&(o=E(o));let{pathname:c="/",search:d="",hash:h="",state:p=null,key:g="default"}=o,m=i.useMemo(()=>{let e=W(c,l);return null==e?null:{location:{pathname:e,search:d,hash:h,state:p,key:g},navigationType:r}},[l,c,d,h,p,g,r]);return y(null!=m,'<Router basename="'.concat(l,'"> is not able to match the URL "').concat(c).concat(d).concat(h,"\" because it does not start with the basename, so the <Router> won't render anything.")),null==m?null:i.createElement(le.Provider,{value:u},i.createElement(ue.Provider,{children:n,value:m}))}function Le(e){let{children:t,location:n}=e;return we(Ne(t),n)}i.Component;function Ne(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[];return i.Children.forEach(e,(e,o)=>{if(!i.isValidElement(e))return;let r=[...t,o];if(e.type===i.Fragment)return void n.push.apply(n,Ne(e.props.children,r));b(e.type===Me,"[".concat("string"===typeof e.type?e.type:e.type.name,"] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>")),b(!e.props.index||!e.props.children,"An index route cannot have child routes.");let s={id:e.props.id||r.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,hydrateFallbackElement:e.props.hydrateFallbackElement,HydrateFallback:e.props.HydrateFallback,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:!0===e.props.hasErrorBoundary||null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(s.children=Ne(e.props.children,r)),n.push(s)}),n}var Be="get",Oe="application/x-www-form-urlencoded";function Ge(e){return null!=e&&"string"===typeof e.tagName}var ze=null;var Ve=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function He(e){return null==e||Ve.has(e)?e:(y(!1,'"'.concat(e,'" is not a valid `encType` for `<Form>`/`<fetcher.Form>` and will default to "').concat(Oe,'"')),null)}function je(e,t){let n,i,o,r,s;if(function(e){return Ge(e)&&"form"===e.tagName.toLowerCase()}(e)){let s=e.getAttribute("action");i=s?W(s,t):null,n=e.getAttribute("method")||Be,o=He(e.getAttribute("enctype"))||Oe,r=new FormData(e)}else if(function(e){return Ge(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return Ge(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let s=e.form;if(null==s)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let a=e.getAttribute("formaction")||s.getAttribute("action");if(i=a?W(a,t):null,n=e.getAttribute("formmethod")||s.getAttribute("method")||Be,o=He(e.getAttribute("formenctype"))||He(s.getAttribute("enctype"))||Oe,r=new FormData(s,e),!function(){if(null===ze)try{new FormData(document.createElement("form"),0),ze=!1}catch(e){ze=!0}return ze}()){let{name:t,type:n,value:i}=e;if("image"===n){let e=t?"".concat(t,"."):"";r.append("".concat(e,"x"),"0"),r.append("".concat(e,"y"),"0")}else t&&r.append(t,i)}}else{if(Ge(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Be,i=null,o=Oe,s=e}return r&&"text/plain"===o&&(s=r,r=void 0),{action:i,method:n.toLowerCase(),encType:o,formData:r,body:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");"undefined"!==typeof window?window:"undefined"!==typeof globalThis&&globalThis;function We(e){return{__html:e}}function Ue(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}Symbol("SingleFetchRedirect");function Ke(e,t,n){let i="string"===typeof e?new URL(e,"undefined"===typeof window?"server://singlefetch/":window.location.origin):e;return"/"===i.pathname?i.pathname="_root.".concat(n):t&&"/"===W(i.pathname,t)?i.pathname="".concat(t.replace(/\/$/,""),"/_root.").concat(n):i.pathname="".concat(i.pathname.replace(/\/$/,""),".").concat(n),i}async function qe(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error("Error loading route module `".concat(e.module,"`, reloading page...")),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Ye(e){return null!=e&&"string"===typeof e.page}function Ze(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"===typeof e.imageSrcSet&&"string"===typeof e.imageSizes:"string"===typeof e.rel&&"string"===typeof e.href)}function $e(e,t,n,i,o,r){let s=(e,t)=>!n[t]||e.route.id!==n[t].route.id,a=(e,t)=>{var i;return n[t].pathname!==e.pathname||(null===(i=n[t].route.path)||void 0===i?void 0:i.endsWith("*"))&&n[t].params["*"]!==e.params["*"]};return"assets"===r?t.filter((e,t)=>s(e,t)||a(e,t)):"data"===r?t.filter((t,r)=>{let l=i.routes[t.route.id];if(!l||!l.hasLoader)return!1;if(s(t,r)||a(t,r))return!0;if(t.route.shouldRevalidate){var u;let i=t.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:(null===(u=n[0])||void 0===u?void 0:u.params)||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"===typeof i)return i}return!0}):[]}function Xe(e,t){let{includeHydrateFallback:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return i=e.map(e=>{let i=t.routes[e.route.id];if(!i)return[];let o=[i.module];return i.clientActionModule&&(o=o.concat(i.clientActionModule)),i.clientLoaderModule&&(o=o.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(o=o.concat(i.hydrateFallbackModule)),i.imports&&(o=o.concat(i.imports)),o}).flat(1),[...new Set(i)];var i}function Qe(e,t){let n=new Set,i=new Set(t);return e.reduce((e,o)=>{if(t&&!Ye(o)&&"script"===o.as&&o.href&&i.has(o.href))return e;let r=JSON.stringify(function(e){let t={},n=Object.keys(e).sort();for(let i of n)t[i]=e[i];return t}(o));return n.has(r)||(n.add(r),e.push({key:r,link:o})),e},[])}function Je(e,t){return"lazy"===e.mode&&!0===t}function et(){let e=i.useContext(ne);return Ue(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function tt(){let e=i.useContext(ie);return Ue(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var nt=i.createContext(void 0);function it(){let e=i.useContext(nt);return Ue(e,"You must render this element inside a <HydratedRouter> element"),e}function ot(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function rt(e,t,n){if(n&&!ut)return[e[0]];if(t){let n=e.findIndex(e=>void 0!==t[e.route.id]);return e.slice(0,n+1)}return e}nt.displayName="FrameworkContext";function st(e){let{page:t}=e,n=s(e,p),{router:o}=et(),r=i.useMemo(()=>A(o.routes,t,o.basename),[o.routes,t,o.basename]);return r?i.createElement(lt,d({page:t,matches:r},n)):null}function at(e){let{manifest:t,routeModules:n}=it(),[o,r]=i.useState([]);return i.useEffect(()=>{let i=!1;return async function(e,t,n){let i=await Promise.all(e.map(async e=>{let i=t.routes[e.route.id];if(i){let e=await qe(i,n);return e.links?e.links():[]}return[]}));return Qe(i.flat(1).filter(Ze).filter(e=>"stylesheet"===e.rel||"preload"===e.rel).map(e=>"stylesheet"===e.rel?d(d({},e),{},{rel:"prefetch",as:"style"}):d(d({},e),{},{rel:"prefetch"})))}(e,t,n).then(e=>{i||r(e)}),()=>{i=!0}},[e,t,n]),o}function lt(e){let{page:t,matches:n}=e,o=s(e,g),r=pe(),{manifest:a,routeModules:l}=it(),{basename:u}=et(),{loaderData:c,matches:h}=tt(),p=i.useMemo(()=>$e(t,n,h,a,r,"data"),[t,n,h,a,r]),m=i.useMemo(()=>$e(t,n,h,a,r,"assets"),[t,n,h,a,r]),v=i.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let e=new Set,i=!1;if(n.forEach(t=>{var n;let o=a.routes[t.route.id];o&&o.hasLoader&&(!p.some(e=>e.route.id===t.route.id)&&t.route.id in c&&null!==(n=l[t.route.id])&&void 0!==n&&n.shouldRevalidate||o.hasClientLoader?i=!0:e.add(t.route.id))}),0===e.size)return[];let o=Ke(t,u,"data");return i&&e.size>0&&o.searchParams.set("_routes",n.filter(t=>e.has(t.route.id)).map(e=>e.route.id).join(",")),[o.pathname+o.search]},[u,c,r,a,p,n,t,l]),f=i.useMemo(()=>Xe(m,a),[m,a]),w=at(m);return i.createElement(i.Fragment,null,v.map(e=>i.createElement("link",d({key:e,rel:"prefetch",as:"fetch",href:e},o))),f.map(e=>i.createElement("link",d({key:e,rel:"modulepreload",href:e},o))),w.map(e=>{let{key:t,link:n}=e;return i.createElement("link",d({key:t,nonce:o.nonce},n))}))}var ut=!1;function ct(e){let{manifest:t,serverHandoffString:n,isSpaMode:o,renderMeta:r,routeDiscovery:a,ssr:l}=it(),{router:u,static:c,staticContext:p}=et(),{matches:g}=tt(),m=i.useContext(oe),v=Je(a,l);r&&(r.didRenderScripts=!0);let f=rt(g,null,o);i.useEffect(()=>{0},[]);let w=i.useMemo(()=>{var o;if(m)return null;let r=p?"window.__reactRouterContext = ".concat(n,";").concat("window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());"):" ",a=c?"".concat(null!==t.hmr&&void 0!==o&&o.runtime?"import ".concat(JSON.stringify(t.hmr.runtime),";"):"").concat(v?"":"import ".concat(JSON.stringify(t.url)),";\n").concat(f.map((e,n)=>{let i="route".concat(n),o=t.routes[e.route.id];Ue(o,"Route ".concat(e.route.id," not found in manifest"));let{clientActionModule:r,clientLoaderModule:s,clientMiddlewareModule:a,hydrateFallbackModule:l,module:u}=o,c=[...r?[{module:r,varName:"".concat(i,"_clientAction")}]:[],...s?[{module:s,varName:"".concat(i,"_clientLoader")}]:[],...a?[{module:a,varName:"".concat(i,"_clientMiddleware")}]:[],...l?[{module:l,varName:"".concat(i,"_HydrateFallback")}]:[],{module:u,varName:"".concat(i,"_main")}];return 1===c.length?"import * as ".concat(i," from ").concat(JSON.stringify(u),";"):[c.map(e=>"import * as ".concat(e.varName,' from "').concat(e.module,'";')).join("\n"),"const ".concat(i," = {").concat(c.map(e=>"...".concat(e.varName)).join(","),"};")].join("\n")}).join("\n"),"\n  ").concat(v?"window.__reactRouterManifest = ".concat(JSON.stringify(function(e,t){let{sri:n}=e,i=s(e,h),o=new Set(t.state.matches.map(e=>e.route.id)),r=t.state.location.pathname.split("/").filter(Boolean),a=["/"];for(r.pop();r.length>0;)a.push("/".concat(r.join("/"))),r.pop();a.forEach(e=>{let n=A(t.routes,e,t.basename);n&&n.forEach(e=>o.add(e.route.id))});let l=[...o].reduce((e,t)=>Object.assign(e,{[t]:i.routes[t]}),{});return d(d({},i),{},{routes:l,sri:!!n||void 0})}(t,u),null,2),";"):"","\n  window.__reactRouterRouteModules = {").concat(f.map((e,t)=>"".concat(JSON.stringify(e.route.id),":route").concat(t)).join(","),"};\n\nimport(").concat(JSON.stringify(t.entry.module),");"):" ";return i.createElement(i.Fragment,null,i.createElement("script",d(d({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:We(r),type:void 0})),i.createElement("script",d(d({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:We(a),type:"module",async:!0})))},[]),C=ut||m?[]:(t.entry.imports.concat(Xe(f,t,{includeHydrateFallback:!0})),[...new Set(b)]);var b;let y="object"===typeof t.sri?t.sri:{};return _e(!m,"The <Scripts /> element is a no-op when using RSC and can be safely removed."),ut||m?null:i.createElement(i.Fragment,null,"object"===typeof t.sri?i.createElement("script",{"rr-importmap":"",type:"importmap",suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:JSON.stringify({integrity:y})}}):null,v?null:i.createElement("link",{rel:"modulepreload",href:t.url,crossOrigin:e.crossOrigin,integrity:y[t.url],suppressHydrationWarning:!0}),i.createElement("link",{rel:"modulepreload",href:t.entry.module,crossOrigin:e.crossOrigin,integrity:y[t.entry.module],suppressHydrationWarning:!0}),C.map(t=>i.createElement("link",{key:t,rel:"modulepreload",href:t,crossOrigin:e.crossOrigin,integrity:y[t],suppressHydrationWarning:!0})),w)}function dt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{t.forEach(t=>{"function"===typeof t?t(e):null!=t&&(t.current=e)})}}i.Component;function ht(e){let{error:t,isOutsideRemixApp:n}=e;console.error(t);let o,r=i.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://reactrouter.com/how-to/error-boundary for more information."\n        );\n      '}});if(J(t))return i.createElement(pt,{title:"Unhandled Thrown Response!"},i.createElement("h1",{style:{fontSize:"24px"}},t.status," ",t.statusText),r);if(t instanceof Error)0;else{let e=null==t?"Unknown Error":"object"===typeof t&&"toString"in t?t.toString():JSON.stringify(t);new Error(e)}return i.createElement(pt,{title:"Application Error!",isOutsideRemixApp:n},i.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),i.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},o.stack),r)}function pt(e){var t;let{title:n,renderScripts:o,isOutsideRemixApp:r,children:s}=e,{routeModules:a}=it();return null!==a.root&&void 0!==t&&t.Layout&&!r?s:i.createElement("html",{lang:"en"},i.createElement("head",null,i.createElement("meta",{charSet:"utf-8"}),i.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),i.createElement("title",null,n)),i.createElement("body",null,i.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},s,o?i.createElement(ct,null):null)))}var gt="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{gt&&(window.__reactRouterVersion="7.8.2")}catch(nce){}function mt(e){let{basename:t,children:n,window:o}=e,r=i.useRef();null==r.current&&(r.current=C({window:o,v5Compat:!0}));let s=r.current,[a,l]=i.useState({action:s.action,location:s.location}),u=i.useCallback(e=>{i.startTransition(()=>l(e))},[l]);return i.useLayoutEffect(()=>s.listen(u),[s,u]),i.createElement(Ie,{basename:t,children:n,location:a.location,navigationType:a.action,navigator:s})}var vt=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ft=i.forwardRef(function(e,t){let n,{onClick:o,discover:r="render",prefetch:a="none",relative:l,reloadDocument:u,replace:c,state:h,target:p,to:g,preventScrollReset:v,viewTransition:f}=e,w=s(e,m),{basename:C}=i.useContext(le),S="string"===typeof g&&vt.test(g),x=!1;if("string"===typeof g&&S&&(n=g,gt))try{let e=new URL(window.location.href),t=g.startsWith("//")?new URL(e.protocol+g):new URL(g),n=W(t.pathname,C);t.origin===e.origin&&null!=n?g=n+t.search+t.hash:x=!0}catch(nce){y(!1,'<Link to="'.concat(g,'"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.'))}let E=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};b(he(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:o}=i.useContext(le),{hash:r,pathname:s,search:a}=fe(e,{relative:t}),l=s;return"/"!==n&&(l="/"===s?n:Z([n,s])),o.createHref({pathname:l,search:a,hash:r})}(g,{relative:l}),[F,k,A]=function(e,t){let n=i.useContext(nt),[o,r]=i.useState(!1),[s,a]=i.useState(!1),{onFocus:l,onBlur:u,onMouseEnter:c,onMouseLeave:d,onTouchStart:h}=t,p=i.useRef(null);i.useEffect(()=>{if("render"===e&&a(!0),"viewport"===e){let e=new IntersectionObserver(e=>{e.forEach(e=>{a(e.isIntersecting)})},{threshold:.5});return p.current&&e.observe(p.current),()=>{e.disconnect()}}},[e]),i.useEffect(()=>{if(o){let e=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(e)}}},[o]);let g=()=>{r(!0)},m=()=>{r(!1),a(!1)};return n?"intent"!==e?[s,p,{}]:[s,p,{onFocus:ot(l,g),onBlur:ot(u,m),onMouseEnter:ot(c,g),onMouseLeave:ot(d,m),onTouchStart:ot(h,g)}]:[!1,p,{}]}(a,w),R=function(e){let{target:t,replace:n,state:o,preventScrollReset:r,relative:s,viewTransition:a}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=ve(),u=pe(),c=fe(e,{relative:s});return i.useCallback(i=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(i,t)){i.preventDefault();let t=void 0!==n?n:D(u)===D(c);l(e,{replace:t,state:o,preventScrollReset:r,relative:s,viewTransition:a})}},[u,l,c,n,o,t,e,r,s,a])}(g,{replace:c,state:h,target:p,preventScrollReset:v,relative:l,viewTransition:f});let P=i.createElement("a",d(d(d({},w),A),{},{href:n||E,onClick:x||u?o:function(e){o&&o(e),e.defaultPrevented||R(e)},ref:dt(t,k),target:p,"data-discover":S||"render"!==r?void 0:"true"}));return F&&!S?i.createElement(i.Fragment,null,P,i.createElement(st,{page:E})):P});ft.displayName="Link";var wt=i.forwardRef(function(e,t){let{"aria-current":n="page",caseSensitive:o=!1,className:r="",end:a=!1,style:l,to:u,viewTransition:c,children:h}=e,p=s(e,v),g=fe(u,{relative:p.relative}),m=pe(),f=i.useContext(ie),{navigator:w,basename:C}=i.useContext(le),y=null!=f&&function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=i.useContext(re);b(null!=n,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:o}=yt("useViewTransitionState"),r=fe(e,{relative:t});if(!n.isTransitioning)return!1;let s=W(n.currentLocation.pathname,o)||n.currentLocation.pathname,a=W(n.nextLocation.pathname,o)||n.nextLocation.pathname;return null!=V(r.pathname,a)||null!=V(r.pathname,s)}(g)&&!0===c,S=w.encodeLocation?w.encodeLocation(g).pathname:g.pathname,x=m.pathname,D=f&&f.navigation&&f.navigation.location?f.navigation.location.pathname:null;o||(x=x.toLowerCase(),D=D?D.toLowerCase():null,S=S.toLowerCase()),D&&C&&(D=W(D,C)||D);const E="/"!==S&&S.endsWith("/")?S.length-1:S.length;let F,k=x===S||!a&&x.startsWith(S)&&"/"===x.charAt(E),A=null!=D&&(D===S||!a&&D.startsWith(S)&&"/"===D.charAt(S.length)),R={isActive:k,isPending:A,isTransitioning:y},P=k?n:void 0;F="function"===typeof r?r(R):[r,k?"active":null,A?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let T="function"===typeof l?l(R):l;return i.createElement(ft,d(d({},p),{},{"aria-current":P,className:F,ref:t,style:T,to:u,viewTransition:c}),"function"===typeof h?h(R):h)});wt.displayName="NavLink";var Ct=i.forwardRef((e,t)=>{let{discover:n="render",fetcherKey:o,navigate:r,reloadDocument:a,replace:l,state:u,method:c=Be,action:h,onSubmit:p,relative:g,preventScrollReset:m,viewTransition:v}=e,w=s(e,f),C=Dt(),y=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:n}=i.useContext(le),o=i.useContext(ce);b(o,"useFormAction must be used inside a RouteContext");let[r]=o.matches.slice(-1),s=d({},fe(e||".",{relative:t})),a=pe();if(null==e){s.search=a.search;let e=new URLSearchParams(s.search),t=e.getAll("index");if(t.some(e=>""===e)){e.delete("index"),t.filter(e=>e).forEach(t=>e.append("index",t));let n=e.toString();s.search=n?"?".concat(n):""}}e&&"."!==e||!r.route.index||(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index");"/"!==n&&(s.pathname="/"===s.pathname?n:Z([n,s.pathname]));return D(s)}(h,{relative:g}),S="get"===c.toLowerCase()?"get":"post",x="string"===typeof h&&vt.test(h);return i.createElement("form",d(d({ref:t,method:S,action:y,onSubmit:a?p:e=>{if(p&&p(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,n=(null===t||void 0===t?void 0:t.getAttribute("formmethod"))||c;C(t||e.currentTarget,{fetcherKey:o,method:n,navigate:r,replace:l,state:u,relative:g,preventScrollReset:m,viewTransition:v})}},w),{},{"data-discover":x||"render"!==n?void 0:"true"}))});function bt(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function yt(e){let t=i.useContext(ne);return b(t,bt(e)),t}Ct.displayName="Form";var St=0,xt=()=>"__".concat(String(++St),"__");function Dt(){let{router:e}=yt("useSubmit"),{basename:t}=i.useContext(le),n=ke("useRouteId");return i.useCallback(async function(i){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:r,method:s,encType:a,formData:l,body:u}=je(i,t);if(!1===o.navigate){let t=o.fetcherKey||xt();await e.fetch(t,n,o.action||r,{preventScrollReset:o.preventScrollReset,formData:l,body:u,formMethod:o.method||s,formEncType:o.encType||a,flushSync:o.flushSync})}else await e.navigate(o.action||r,{preventScrollReset:o.preventScrollReset,formData:l,body:u,formMethod:o.method||s,formEncType:o.encType||a,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[e,t,n])}function Et(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]])}return n}function Ft(e,t,n,i){return new(n||(n=Promise))(function(o,r){function s(e){try{l(i.next(e))}catch(nce){r(nce)}}function a(e){try{l(i.throw(e))}catch(nce){r(nce)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,a)}l((i=i.apply(e,t||[])).next())})}Object.create;Object.create;function kt(e,t,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(e):i?i.value:t.get(e)}function At(e,t,n,i,o){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?o.call(e,n):o?o.value=n:t.set(e,n),n}"function"===typeof SuppressedError&&SuppressedError;const Rt=!1;new Set;function Pt(e,t){Rt}function Tt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,i.useMemo)(()=>t.every(e=>null===e||void 0===e)?null:e=>{t.forEach(t=>{"function"===typeof t?t(e):null!==t&&void 0!==t&&(t.current=e)})},t)}const _t=i.createContext({locale:null,format:(e,t,n,i)=>i});function Mt(e){const{format:t}=(0,i.useContext)(_t);return(n,i,o)=>t("@cloudscape-design/components",e,n,i,o)}var It,Lt,Nt="components",Bt="3.0.0 (2212c219)",Ot="2212c219",Gt="open-source-visual-refresh";function zt(e){const t={};return Object.keys(e).forEach(n=>{("id"===n||"className"===n||n.match(/^data-/))&&(t[n]=e[n])}),t}function Vt(e){return Object.assign(Object.assign({},null===e||void 0===e?void 0:e.analyticsMetadata),null===e||void 0===e?void 0:e.__analyticsMetadata)}It=Nt,Lt=Bt,"undefined"!==typeof window&&(window.awsuiVersions||(window.awsuiVersions={}),window.awsuiVersions[It]||(window.awsuiVersions[It]=[]),window.awsuiVersions[It].push(Lt));const Ht="awsui";function jt(e,t){return!e||e.length<=t}class Wt{sendMetric(e,t,n){if(!e||!/^[a-zA-Z0-9_-]+$/.test(e))return void console.error("Invalid metric name: ".concat(e));if(!jt(e,1e3))return void console.error("Metric name ".concat(e," is too long"));if(!jt(n,4e3))return void console.error("Detail for metric ".concat(e," is too long: ").concat(n));if((new Ut).sendMetric({eventContext:e,eventDetail:n,eventValue:"".concat(t),timestamp:Date.now()}))return;const i=this.findAWSC(window);"object"===typeof i&&"object"===typeof i.Clog&&"function"===typeof i.Clog.log&&i.Clog.log(e,t,n)}findAWSC(e){try{if("object"===typeof(null===e||void 0===e?void 0:e.AWSC))return null===e||void 0===e?void 0:e.AWSC;if(!e||e.parent===e)return;return this.findAWSC(e.parent)}catch(t){return}}}class Ut{sendMetric(e){const t=this.findPanorama(window);if(!t)return!1;const n=Object.assign(Object.assign({eventType:Ht,timestamp:Date.now()},e),{eventDetail:"object"===typeof e.eventDetail?JSON.stringify(e.eventDetail):e.eventDetail,eventValue:"object"===typeof e.eventValue?JSON.stringify(e.eventValue):e.eventValue});return jt(n.eventDetail,4e3)?jt(n.eventValue,4e3)?jt(n.eventContext,4e3)?(t("trackCustomEvent",n),!0):(this.onMetricError("Event context for metric is too long: ".concat(n.eventContext)),!0):(this.onMetricError("Event value for metric is too long: ".concat(n.eventValue)),!0):(this.onMetricError("Event detail for metric is too long: ".concat(n.eventDetail)),!0)}onMetricError(e){console.error(e);const t=this.findPanorama(window);t&&t("trackCustomEvent",{eventType:Ht,eventContext:"awsui-metric-error",eventDetail:e.slice(0,4e3),timestamp:Date.now()})}findPanorama(e){try{if("function"===typeof(null===e||void 0===e?void 0:e.panorama))return null===e||void 0===e?void 0:e.panorama;const t=Symbol.for("panorama"),n=null===e||void 0===e?void 0:e[t];if("function"===typeof n)return n;if(!e||e.parent===e)return;return this.findPanorama(e.parent)}catch(t){return}}}function Kt(e,t){const n="undefined"!==typeof AWSUI_METRIC_ORIGIN?AWSUI_METRIC_ORIGIN:"main";return function(e){return JSON.stringify(e,qt)}(Object.assign({o:n,t:t.theme,f:"react",v:t.packageVersion.replace(/\s/g,"")},e))}function qt(e,t){return"number"!==typeof t||Number.isFinite(t)?t:"".concat(t)}const Yt=new Set;class Zt{constructor(){this.clog=new Wt,this.panorama=new Ut;for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(1===t.length)this.context=t[0];else{const[e,n]=t;this.context={packageSource:e,packageVersion:n,theme:"unknown"}}}sendComponentMetric(e){this.sendMetricOnce("awsui_".concat(e.componentName,"_").concat(this.context.theme.charAt(0)).concat(function(e){const t=e.match(/^(\d+\.\d+)/);return t?t[1].replace(".",""):""}(this.context.packageVersion)),1,function(e,t){let{componentName:n,action:i,configuration:o}=e;return Kt({a:i,s:n,c:o},t)}(e,this.context))}sendMetricOnce(e,t,n){const i=[e+t+n].join("|");Yt.has(i)||(this.clog.sendMetric(e,t,n),Yt.add(i))}sendPanoramaMetric(e){this.panorama.sendMetric(e)}sendOpsMetricObject(e,t){this.sendMetricOnce(e,1,Kt(t,this.context))}sendOpsMetricValue(e,t){this.sendMetricOnce(e,t)}logComponentsLoaded(){this.sendComponentMetric({componentName:this.context.packageSource,action:"loaded"})}logComponentUsed(e,t){this.sendComponentMetric({action:"used",componentName:e,configuration:t})}}var $t;function Xt(e){return[$t.shift,$t.alt,$t.control,$t.meta].indexOf(e.keyCode)>-1}!function(e){e[e.pageUp=33]="pageUp",e[e.pageDown=34]="pageDown",e[e.end=35]="end",e[e.home=36]="home",e[e.backspace=8]="backspace",e[e.space=32]="space",e[e.down=40]="down",e[e.left=37]="left",e[e.right=39]="right",e[e.up=38]="up",e[e.escape=27]="escape",e[e.enter=13]="enter",e[e.tab=9]="tab",e[e.shift=16]="shift",e[e.control=17]="control",e[e.alt=18]="alt",e[e.meta=91]="meta"}($t||($t={}));const Qt=new Map;function Jt(e){if(e)for(const t of Qt.keys())t.body.setAttribute("data-awsui-focus-visible","true");else for(const t of Qt.keys())t.body.removeAttribute("data-awsui-focus-visible")}function en(){Jt(!1)}function tn(e){Xt(e)||Jt(!0)}function nn(e){(0,i.useEffect)(()=>{var t,n;const i=null!==(n=null===(t=null===e||void 0===e?void 0:e.current)||void 0===t?void 0:t.ownerDocument)&&void 0!==n?n:document;let o=Qt.get(i);if(o)o.componentsCount++;else{const e=function(e){const t=new AbortController;return e.addEventListener("mousedown",en,{signal:t.signal}),e.addEventListener("keydown",tn,{signal:t.signal}),t}(i);o={componentsCount:1,abortController:e},Qt.set(i,o)}return()=>{o.componentsCount--,0===o.componentsCount&&(o.abortController.abort(),Qt.delete(i))}},[e])}function on(e){return e instanceof Node||null!==e&&"object"===typeof e&&"nodeType"in e&&"number"===typeof e.nodeType&&"nodeName"in e&&"string"===typeof e.nodeName&&"parentNode"in e&&"object"===typeof e.parentNode}function rn(e){return e instanceof HTMLElement||on(e)&&e.nodeType===Node.ELEMENT_NODE&&"style"in e&&"object"===typeof e.style&&"object"===typeof e.ownerDocument&&!function(e){return e instanceof SVGElement||on(e)&&e.nodeType===Node.ELEMENT_NODE&&"ownerSVGElement"in e&&"object"===typeof e.ownerSVGElement}(e)}function sn(e,t){let n=e;for(;n&&!t(n);)for(n=n.parentElement;n&&!rn(n);)n=n.parentElement;return n}var an=n(950);function ln(e){const t=[],n=e=>{(0,an.unstable_batchedUpdates)(()=>{for(const n of t)n(e)})};let o;return function(r){(0,i.useEffect)(()=>(0===t.length&&(o=e(n)),t.push(r),()=>{t.splice(t.indexOf(r),1),0===t.length&&(o(),o=void 0)}),[])}}function un(e){const t=(0,i.useRef)();return(0,i.useEffect)(()=>{t.current=e}),(0,i.useCallback)(function(){for(var e,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return null===(e=t.current)||void 0===e?void 0:e.apply(void 0,i)},[])}Symbol.for("awsui-visual-refresh-flag");const cn=Symbol.for("awsui-global-flags");function dn(){return"undefined"!==typeof window?window:globalThis}function hn(e,t){var n;return null===(n=null===e||void 0===e?void 0:e[cn])||void 0===n?void 0:n[t]}const pn=e=>{try{const t=hn(dn(),e);return void 0!==t?t:hn(window.top,e)}catch(nce){return}};function gn(e){return!!sn(e,e=>e.classList.contains("awsui-motion-disabled"))||function(e,t){var n,i,o,r;try{const s=null!==(i=null===(n=e.ownerDocument)||void 0===n?void 0:n.defaultView)&&void 0!==i?i:window;return null!==(r=null===(o=s.matchMedia)||void 0===o?void 0:o.call(s,t).matches)&&void 0!==r&&r}catch(s){return console.warn(s),!1}}(e,"(prefers-reduced-motion: reduce)")}function mn(e){const[t,n]=(0,i.useState)("comfortable");return wn(e,e=>{const i=sn(e,e=>e.classList.contains("awsui-polaris-compact-mode")||e.classList.contains("awsui-compact-mode")),o=i?"compact":"comfortable";o!==t&&n(o)}),t}function vn(e){const[t,n]=(0,i.useState)(!1);return wn(e,e=>{const i=gn(e);i!==t&&n(i)}),t}const fn=ln(e=>{const t=new MutationObserver(()=>e());return t.observe(document.body,{attributes:!0,subtree:!0}),()=>t.disconnect()});function wn(e,t){const n=un(()=>{e.current&&t(e.current)});fn(n),(0,i.useEffect)(()=>{n()},[n])}const Cn=()=>!0,bn=new Zt({packageSource:Nt,packageVersion:Bt,theme:Gt});const yn=new WeakMap,Sn=e=>{var t,n;const i=null!==(n=null===(t=e.current)||void 0===t?void 0:t.ownerDocument)&&void 0!==n?n:document;yn.get(i)||(!function(e){getComputedStyle(e.body).getPropertyValue("--awsui-version-info-".concat(Ot))||(console.error('Missing AWS-UI CSS for theme "'.concat(Gt,'", version "').concat(Bt,'", and git sha "').concat(Ot,'".')),bn.sendOpsMetricObject("awsui-missing-css-asset",{}))}(i),yn.set(i,!0))};function xn(e){(0,i.useEffect)(()=>function(e){if("function"!==typeof requestIdleCallback)return;let t=!1;return setTimeout(()=>{t||requestIdleCallback(()=>{t||e()})},1e3),()=>{t=!0}}(()=>Sn(e)),[e])}function Dn(e,t,n){const o=Cn(),r=((e,t)=>"polaris"===e&&t?"vr":e)(Gt,o);!function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{props:{}};(0,i.useEffect)(()=>{const i=new Zt(t);"undefined"!==typeof window&&(i.sendOpsMetricValue("awsui-viewport-width",window.innerWidth||0),i.sendOpsMetricValue("awsui-viewport-height",window.innerHeight||0)),i.logComponentsLoaded(),i.logComponentUsed(e.toLowerCase(),n)},[])}(e,{packageSource:Nt,packageVersion:Bt,theme:r},t);const s=function(e,t,n){const o=(0,i.useRef)(null);return(0,i.useEffect)(()=>{if(o.current){const i="string"===typeof t?{version:t}:t,r=o.current,s=Object.assign(Object.assign({},i),{name:e});n&&Object.keys(n).length>0&&(s.analytics=n),Object.freeze(s),Object.defineProperty(r,"__awsuiMetadata__",{value:s,writable:!1,configurable:!0})}}),o}(e,{packageName:Nt,version:Bt,theme:r},n);return xn(s),nn(s),{__internalRootRef:s}}const En=!1;function Fn(e,t,n,o){let{componentName:r,changeHandler:s,controlledProp:a}=o;const l=i.useState(void 0!==e)[0];const[u,c]=i.useState(n),[d,h]=i.useState(!1),p=d?u:n,g=i.useCallback(e=>{c(e),h(!0)},[c,h]);return l?[e,kn]:[p,g]}function kn(){}const An=[["xl",1840],["l",1320],["m",1120],["s",912],["xs",688],["xxs",465],["default",-1]],Rn=An.filter(e=>"xs"===e[0])[0][1],Pn=An.map(e=>{let[t]=e;return t});function Tn(e,t){for(const[n,i]of An)if(e>i&&(!t||-1!==t.indexOf(n)))return n;return"default"}const _n=Symbol.for("awsui-force-mobile-mode");function Mn(){const e=globalThis[_n];return"undefined"!==typeof e?e:"undefined"!==typeof window&&(window.matchMedia?window.matchMedia("(max-width: ".concat(Rn,"px)")).matches:"xs"!==Tn(window.innerWidth,["xs"]))}const In=function(e){let{factory:t,initialState:n}=e;const o=ln(t);return function(){const[e,t]=(0,i.useState)(n);return o(t),e}}({initialState:()=>Mn(),factory:e=>{const t=()=>e(Mn());return window.addEventListener("resize",t),()=>{window.removeEventListener("resize",t)}}});function Ln(e,t){e.displayName=t}const Nn={navigationOpen:!0,minContentWidth:280,maxContentWidth:void 0},Bn={default:Object.assign({},Nn),dashboard:Object.assign({},Nn),cards:{navigationOpen:!0,minContentWidth:280,maxContentWidth:void 0},form:{navigationOpen:!1,minContentWidth:280,maxContentWidth:800},table:{navigationOpen:!0,minContentWidth:280,maxContentWidth:void 0},wizard:{navigationOpen:!1,minContentWidth:280,maxContentWidth:1080}};function On(e){var t,n,i="";if("string"==typeof e||"number"==typeof e)i+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=On(e[t]))&&(i&&(i+=" "),i+=n);else for(t in e)e[t]&&(i&&(i+=" "),i+=t);return i}const Gn=function(){for(var e,t,n=0,i="";n<arguments.length;)(e=arguments[n++])&&(t=On(e))&&(i&&(i+=" "),i+=t);return i};var zn,Vn=[],Hn=function(){return Vn.some(function(e){return e.activeTargets.length>0})},jn="ResizeObserver loop completed with undelivered notifications.";!function(e){e.BORDER_BOX="border-box",e.CONTENT_BOX="content-box",e.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"}(zn||(zn={}));var Wn,Un=function(e){return Object.freeze(e)},Kn=function(e,t){this.inlineSize=e,this.blockSize=t,Un(this)},qn=function(){function e(e,t,n,i){return this.x=e,this.y=t,this.width=n,this.height=i,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,Un(this)}return e.prototype.toJSON=function(){var e=this;return{x:e.x,y:e.y,top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height}},e.fromRect=function(t){return new e(t.x,t.y,t.width,t.height)},e}(),Yn=function(e){return e instanceof SVGElement&&"getBBox"in e},Zn=function(e){if(Yn(e)){var t=e.getBBox(),n=t.width,i=t.height;return!n&&!i}var o=e,r=o.offsetWidth,s=o.offsetHeight;return!(r||s||e.getClientRects().length)},$n=function(e){var t;if(e instanceof Element)return!0;var n=null===(t=null===e||void 0===e?void 0:e.ownerDocument)||void 0===t?void 0:t.defaultView;return!!(n&&e instanceof n.Element)},Xn="undefined"!==typeof window?window:{},Qn=new WeakMap,Jn=/auto|scroll/,ei=/^tb|vertical/,ti=/msie|trident/i.test(Xn.navigator&&Xn.navigator.userAgent),ni=function(e){return parseFloat(e||"0")},ii=function(e,t,n){return void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=!1),new Kn((n?t:e)||0,(n?e:t)||0)},oi=Un({devicePixelContentBoxSize:ii(),borderBoxSize:ii(),contentBoxSize:ii(),contentRect:new qn(0,0,0,0)}),ri=function(e,t){if(void 0===t&&(t=!1),Qn.has(e)&&!t)return Qn.get(e);if(Zn(e))return Qn.set(e,oi),oi;var n=getComputedStyle(e),i=Yn(e)&&e.ownerSVGElement&&e.getBBox(),o=!ti&&"border-box"===n.boxSizing,r=ei.test(n.writingMode||""),s=!i&&Jn.test(n.overflowY||""),a=!i&&Jn.test(n.overflowX||""),l=i?0:ni(n.paddingTop),u=i?0:ni(n.paddingRight),c=i?0:ni(n.paddingBottom),d=i?0:ni(n.paddingLeft),h=i?0:ni(n.borderTopWidth),p=i?0:ni(n.borderRightWidth),g=i?0:ni(n.borderBottomWidth),m=d+u,v=l+c,f=(i?0:ni(n.borderLeftWidth))+p,w=h+g,C=a?e.offsetHeight-w-e.clientHeight:0,b=s?e.offsetWidth-f-e.clientWidth:0,y=o?m+f:0,S=o?v+w:0,x=i?i.width:ni(n.width)-y-b,D=i?i.height:ni(n.height)-S-C,E=x+m+b+f,F=D+v+C+w,k=Un({devicePixelContentBoxSize:ii(Math.round(x*devicePixelRatio),Math.round(D*devicePixelRatio),r),borderBoxSize:ii(E,F,r),contentBoxSize:ii(x,D,r),contentRect:new qn(d,l,x,D)});return Qn.set(e,k),k},si=function(e,t,n){var i=ri(e,n),o=i.borderBoxSize,r=i.contentBoxSize,s=i.devicePixelContentBoxSize;switch(t){case zn.DEVICE_PIXEL_CONTENT_BOX:return s;case zn.BORDER_BOX:return o;default:return r}},ai=function(e){var t=ri(e);this.target=e,this.contentRect=t.contentRect,this.borderBoxSize=Un([t.borderBoxSize]),this.contentBoxSize=Un([t.contentBoxSize]),this.devicePixelContentBoxSize=Un([t.devicePixelContentBoxSize])},li=function(e){if(Zn(e))return 1/0;for(var t=0,n=e.parentNode;n;)t+=1,n=n.parentNode;return t},ui=function(){var e=1/0,t=[];Vn.forEach(function(n){if(0!==n.activeTargets.length){var i=[];n.activeTargets.forEach(function(t){var n=new ai(t.target),o=li(t.target);i.push(n),t.lastReportedSize=si(t.target,t.observedBox),o<e&&(e=o)}),t.push(function(){n.callback.call(n.observer,i,n.observer)}),n.activeTargets.splice(0,n.activeTargets.length)}});for(var n=0,i=t;n<i.length;n++){(0,i[n])()}return e},ci=function(e){Vn.forEach(function(t){t.activeTargets.splice(0,t.activeTargets.length),t.skippedTargets.splice(0,t.skippedTargets.length),t.observationTargets.forEach(function(n){n.isActive()&&(li(n.target)>e?t.activeTargets.push(n):t.skippedTargets.push(n))})})},di=function(){var e=0;for(ci(e);Hn();)e=ui(),ci(e);return Vn.some(function(e){return e.skippedTargets.length>0})&&function(){var e;"function"===typeof ErrorEvent?e=new ErrorEvent("error",{message:jn}):((e=document.createEvent("Event")).initEvent("error",!1,!1),e.message=jn),window.dispatchEvent(e)}(),e>0},hi=[],pi=function(e){if(!Wn){var t=0,n=document.createTextNode("");new MutationObserver(function(){return hi.splice(0).forEach(function(e){return e()})}).observe(n,{characterData:!0}),Wn=function(){n.textContent="".concat(t?t--:t++)}}hi.push(e),Wn()},gi=0,mi={attributes:!0,characterData:!0,childList:!0,subtree:!0},vi=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],fi=function(e){return void 0===e&&(e=0),Date.now()+e},wi=!1,Ci=new(function(){function e(){var e=this;this.stopped=!0,this.listener=function(){return e.schedule()}}return e.prototype.run=function(e){var t=this;if(void 0===e&&(e=250),!wi){wi=!0;var n,i=fi(e);n=function(){var n=!1;try{n=di()}finally{if(wi=!1,e=i-fi(),!gi)return;n?t.run(1e3):e>0?t.run(e):t.start()}},pi(function(){requestAnimationFrame(n)})}},e.prototype.schedule=function(){this.stop(),this.run()},e.prototype.observe=function(){var e=this,t=function(){return e.observer&&e.observer.observe(document.body,mi)};document.body?t():Xn.addEventListener("DOMContentLoaded",t)},e.prototype.start=function(){var e=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),vi.forEach(function(t){return Xn.addEventListener(t,e.listener,!0)}))},e.prototype.stop=function(){var e=this;this.stopped||(this.observer&&this.observer.disconnect(),vi.forEach(function(t){return Xn.removeEventListener(t,e.listener,!0)}),this.stopped=!0)},e}()),bi=function(e){!gi&&e>0&&Ci.start(),!(gi+=e)&&Ci.stop()},yi=function(){function e(e,t){this.target=e,this.observedBox=t||zn.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return e.prototype.isActive=function(){var e,t=si(this.target,this.observedBox,!0);return e=this.target,Yn(e)||function(e){switch(e.tagName){case"INPUT":if("image"!==e.type)break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1}(e)||"inline"!==getComputedStyle(e).display||(this.lastReportedSize=t),this.lastReportedSize.inlineSize!==t.inlineSize||this.lastReportedSize.blockSize!==t.blockSize},e}(),Si=function(e,t){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=e,this.callback=t},xi=new WeakMap,Di=function(e,t){for(var n=0;n<e.length;n+=1)if(e[n].target===t)return n;return-1},Ei=function(){function e(){}return e.connect=function(e,t){var n=new Si(e,t);xi.set(e,n)},e.observe=function(e,t,n){var i=xi.get(e),o=0===i.observationTargets.length;Di(i.observationTargets,t)<0&&(o&&Vn.push(i),i.observationTargets.push(new yi(t,n&&n.box)),bi(1),Ci.schedule())},e.unobserve=function(e,t){var n=xi.get(e),i=Di(n.observationTargets,t),o=1===n.observationTargets.length;i>=0&&(o&&Vn.splice(Vn.indexOf(n),1),n.observationTargets.splice(i,1),bi(-1))},e.disconnect=function(e){var t=this,n=xi.get(e);n.observationTargets.slice().forEach(function(n){return t.unobserve(e,n.target)}),n.activeTargets.splice(0,n.activeTargets.length)},e}(),Fi=function(){function e(e){if(0===arguments.length)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if("function"!==typeof e)throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");Ei.connect(this,e)}return e.prototype.observe=function(e,t){if(0===arguments.length)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!$n(e))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");Ei.observe(this,e,t)},e.prototype.unobserve=function(e){if(0===arguments.length)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!$n(e))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");Ei.unobserve(this,e)},e.prototype.disconnect=function(){Ei.disconnect(this)},e.toString=function(){return"function ResizeObserver () { [polyfill code] }"},e}();function ki(e,t){const n=un(t);(0,i.useLayoutEffect)(()=>{const n="function"===typeof e?e():null===e||void 0===e?void 0:e.current;n&&t(Ai(new ai(n)))},[]),(0,i.useEffect)(()=>{const t="function"===typeof e?e():null===e||void 0===e?void 0:e.current;if(t){let e=!0;const i=new Fi(t=>{e&&(0,an.unstable_batchedUpdates)(()=>{n(Ai(t[0]))})});return i.observe(t),()=>{e=!1,i.disconnect()}}},[e,n])}function Ai(e){return{target:e.target,contentBoxWidth:e.contentBoxSize[0].inlineSize,contentBoxHeight:e.contentBoxSize[0].blockSize,borderBoxWidth:e.borderBoxSize[0].inlineSize,borderBoxHeight:e.borderBoxSize[0].blockSize}}function Ri(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const n=(0,i.useRef)(null),[o,r]=(0,i.useState)(null);return ki((0,i.useCallback)(()=>n.current,t),t=>r(n=>e(t,n))),[o,n]}class Pi{constructor(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.cancelable=e,this.detail=t,this.defaultPrevented=!1,this.cancelBubble=!1}preventDefault(){this.defaultPrevented=!0}stopPropagation(){this.cancelBubble=!0}}function Ti(e){let{cancelable:t,detail:n}=e;return new Pi(t,n)}function _i(e,t){if(!e)return;e(Ti({cancelable:!1,detail:t}))}function Mi(e,t,n){if(!e)return!1;const i=Ti({cancelable:!0,detail:t});return e(i),i.defaultPrevented&&n&&n.preventDefault(),i.cancelBubble&&n&&n.stopPropagation(),i.defaultPrevented}function Ii(e,t){return Mi(e,{keyCode:t.keyCode,key:t.key,ctrlKey:t.ctrlKey,shiftKey:t.shiftKey,altKey:t.altKey,metaKey:t.metaKey,isComposing:t.nativeEvent.isComposing},t)}function Li(e){return e.ctrlKey||e.altKey||e.shiftKey||e.metaKey}function Ni(e){return e&&(!(void 0!==e.button)||0===e.button)&&!Li(e)}function Bi(e){return"undefined"===typeof document?0:"side"===e?document.documentElement.clientWidth/3:document.documentElement.clientHeight/2}function Oi(e,t,n){return e>n||t<e?e:t>n?n:t}const Gi={"content-wrapper":"awsui_content-wrapper_zycdx_mfqbj_153","content-wrapper-mobile":"awsui_content-wrapper-mobile_zycdx_mfqbj_157","content-type-dashboard":"awsui_content-type-dashboard_zycdx_mfqbj_162"},zi=i.forwardRef((e,t)=>{let{className:n,style:o,contentType:r,children:s,toolsPadding:a,disablePaddings:l,navigationPadding:u,isMobile:c,contentWidthStyles:d}=e;return l?i.createElement("div",{className:n,ref:t,style:o},s):i.createElement("div",{ref:t,className:Gn(Gi["content-wrapper"],!u&&Gi["content-wrapper-no-navigation-padding"],!a&&Gi["content-wrapper-no-tools-padding"],c&&Gi["content-wrapper-mobile"]),style:o},i.createElement("div",{style:d,className:Gn(n,Gi["content-type-".concat(r)])},s))}),Vi=/awsui-context-([\w-]+)/;function Hi(e){return"awsui-context-".concat(e)}function ji(e){let{contextName:t,className:n,children:o}=e;return i.createElement("div",{className:Gn(Hi(t),n)},o)}var Wi;let Ui=0;const Ki=()=>{const e=(0,i.useRef)(null);return e.current||(e.current="".concat(Ui++,"-").concat(Date.now(),"-").concat(Math.round(1e4*Math.random()))),e.current},qi=null!==(Wi=i.useId)&&void 0!==Wi?Wi:Ki;function Yi(e){return"".concat(e||"")+qi()}const Zi="data-awsui-analytics",$i="data-awsui-analytics-label";let Xi=pn("analyticsMetadata");const Qi=e=>Xi?{[Zi]:JSON.stringify(e)}:{},Ji=e=>Xi?{[Zi]:e[Zi]}:{},eo=e=>Xi?{[$i]:e}:{},to={"add-plus":i.createElement("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",focusable:"false","aria-hidden":"true"},i.createElement("path",{d:"M2.01 8h12M8 14l.01-12"})),"anchor-link":i.createElement("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",focusable:"false","aria-hidden":"true"},i.createElement("path",{d:"M5 8h6M7 12H5c-2.21 0-4-1.79-4-4s1.79-4 4-4h2M9 12h2c2.21 0 4-1.79 4-4s-1.79-4-4-4H9",className:"stroke-linejoin-round"})),"angle-down":i.createElement("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",focusable:"false","aria-hidden":"true"},i.createElement("path",{d:"m2 5 6 6 6-6",className:"stroke-linejoin-round"})),"angle-left-double":i.createElement("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",focusable:"false","aria-hidden":"true"},i.createElement("path",{d:"M8 2 2 8l6 6",className:"stroke-linejoin-round"}),i.createElement("path",{d:"M13 2 7 8l6 6",className:"stroke-linejoin-round"})),"angle-left":i.createElement("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",focusable:"false","aria-hidden":"true"},i.createElement("path",{d:"M11 2 5 8l6 6",className:"stroke-linejoin-round"})),"angle-right-double":i.createElement("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",focusable:"false","aria-hidden":"true"},i.createElement("path",{d:"m8 2 6 6-6 6",className:"stroke-linejoin-round"}),i.createElement("path",{d:"m3 2 6 6-6 6",className:"stroke-linejoin-round"})),"angle-right":i.createElement("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",focusable:"false","aria-hidden":"true"},i.createElement("path",{d:"m5 2 6 6-6 6",className:"stroke-linejoin-round"})),"angle-up":i.createElement("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",focusable:"false","aria-hidden":"true"},i.createElement("path",{d:"m2 11 6-6 6 6",className:"stroke-linejoin-round"})),"arrow-down":i.createElement("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",focusable:"false","aria-hidden":"true"},i.createElement("path",{d:"m3 9 5 5 5-5M8 14V1",className:"stroke-linejoin-round"})),"arrow-left":i.createElement("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",focusable:"false","aria-hidden":"true"},i.createElement("path",{d:"M7 3 2 8l5 5M2 8h13",className:"stroke-linejoin-round"})),"arrow-right":i.createElement("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",focusable:"false","aria-hidden":"true"},i.createElement("path",{d:"m9 3 5 5-5 5M14 8H1",className:"stroke-linejoin-round"})),"arrow-up":i.createElement("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",focusable:"false","aria-hidden":"true"},i.createElement("path",{d:"M13 7 8 2 3 7M8 2v13",className:"stroke-linejoin-round"})),"audio-full":i.createElement("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",focusable:"false","aria-hidden":"true"},i.createElement("path",{d:"M6.47 13.707 4 10.997H1v-6h3l2.47-2.71c.54-.59 1.53-.21 1.53.59v10.23c0 .8-.99 1.19-1.53.59v.01Z",className:"stroke-linejoin-round"}),i.createElement("path",{d:"M10 12.997c2.76 0 5-2.24 5-5s-2.24-5-5-5"}),i.createElement("path",{d:"M10 9.997c1.1 0 2-.9 2-2s-.9-2-2-2"})),"audio-half":i.createElement("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",focusable:"false","aria-hidden":"true"},i.createElement("path",{d:"M7.47 13.41 5 10.7H2v-6h3l2.47-2.71C8.01 1.4 9 1.78 9 2.58v10.23c0 .8-.99 1.19-1.53.59v.01Z",className:"stroke-linejoin-round"}),i.createElement("path",{d:"M11 9.71c1.1 0 2-.9 2-2s-.9-2-2-2"})),"audio-off":i.createElement("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",focusable:"false","aria-hidden":"true"},i.createElement("path",{d:"M6.47 13.41 4 10.7H1v-6h3l2.47-2.71C7.01 1.4 8 1.78 8 2.58v10.23c0 .8-.99 1.19-1.53.59v.01ZM11 5.71l3.99 4M15 5.71 11 9.7",className:"stroke-linejoin-round"})),"backward-10-seconds":i.createElement("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",focusable:"false","aria-hidden":"true"},i.createElement("path",{d:"M5.95 14.01h-.96c-.56 0-1.02-.46-1.02-1.02v-2.96c0-.56.45-1.01 1.01-1.02h.96c.56 0 1.02.45 1.02 1.02v2.96c0 .56-.46 1.02-1.02 1.02h.01Z",className:"stroke-linejoin-round"}),i.createElement("path",{d:"M1 9v5",className:"stroke-linecap-square"}),i.createElement("path",{d:"M1 0v5h5",className:"stroke-linejoin-round"}),i.createElement("path",{d:"M9.976 15A7.154 7.154 0 0 0 15 8.164C15 4.204 11.804 1 7.852 1A7.148 7.148 0 0 0 1.5 4.875",className:"stroke-linejoin-round"})),bug:i.createElement("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",focusable:"false","aria-hidden":"true"},i.createElement("path",{d:"M12 5.71a4 4 0 0 0-8 0v4a4 4 0 1 0 8 0v-4ZM15 8.71h-3M4 8.71H1M12 6H4M15 3.63l-3 2.08M15 13.78l-3-2.07M1 3.63l3 2.08M1 13.78l3-2.07"})),calendar:i.createElement("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",focusable:"false","aria-hidden":"true"},i.createElement("path",{d:"M14 2H2v12h12V2Z",className:"stroke-linejoin-round"}),i.createElement("path",{d:"M4 6V4h2v2H4ZM7 6V4h2v2H7ZM10 6V4h2v2h-2ZM4 9V7h2v2H4ZM7 9V7h2v2H7ZM4 12v-2h2v2H4ZM7 12v-2h2v2H7ZM10 9V7h2v2h-2Z",className:"filled no-stroke"})),call:i.createElement("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",focusable:"false","aria-hidden":"true"},i.createElement("path",{d:"M13.99 7.083c0-2.76-2.24-5-5-5M11.07 10.002c-.6.58-1.55.61-2.14.02l-2.88-2.88a1.49 1.49 0 0 1 0-2.12c.52-.52.52-1.36 0-1.88l-.85-.85a.996.996 0 0 0-1.41 0l-.38.38a4.83 4.83 0 0 0 0 6.82l3.17 3.17a4.83 4.83 0 0 0 6.82 0l.38-.38a.996.996 0 0 0 0-1.41l-.85-.85c-.51-.51-1.34-.52-1.86-.02Z",className:"stroke-linejoin-round"})),"caret-down-filled":i.createElement("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",focusable:"false","aria-hidden":"true"},i.createElement("path",{d:"m8 11 4-6H4l4 6Z",className:"filled stroke-linejoin-round"})),"caret-down":i.createElement("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",focusable:"false","aria-hidden":"true"},i.createElement("path",{d:"m8 11 4-6H4l4 6Z",className:"stroke-linejoin-round"})),"caret-left-filled":i.createElement("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",focusable:"false","aria-hidden":"true"},i.createElement("path",{d:"m5 8 6 4V4L5 8Z",className:"filled stroke-linejoin-round"})),"caret-right-filled":i.createElement("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",focusable:"false","aria-hidden":"true"},i.createElement("path",{d:"m11 8-6 4V4l6 4Z",className:"filled stroke-linejoin-round"})),"caret-up-filled":i.createElement("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",focusable:"false","aria-hidden":"true"},i.createElement("path",{d:"m8 5 4 6H4l4-6Z",className:"filled stroke-linejoin-round"})),"caret-up":i.createElement("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",focusable:"false","aria-hidden":"true"},i.createElement("path",{d:"m8 5 4 6H4l4-6Z",className:"stroke-linejoin-round"})),check:i.createElement("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",focusable:"false","aria-hidden":"true"},i.createElement("path",{d:"m1 9 4 4L15 2",className:"stroke-linejoin-round"})),close:i.createElement("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",focusable:"false","aria-hidden":"true"},i.createElement("path",{d:"m2 1.71 12 12M2 13.71l12-12",className:"stroke-linejoin-round"})),"closed-caption-unavailable":i.createElement("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",focusable:"false","aria-hidden":"true"},i.createElement("path",{d:"M15 1H1v14h14V1Z",className:"stroke-linejoin-round"}),i.createElement("path",{d:"M7.51 10H5c-.55 0-.99-.44-.99-.99V7c0-.55.44-.99.99-.99h1.01M13 10h-2.51c-.55 0-.99-.44-.99-.99V7c0-.55.44-.99.99-.99H13M1 1l14 14",className:"stroke-linejoin-round"})),"closed-caption":i.createElement("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",focusable:"false","aria-hidden":"true"},i.createElement("path",{d:"M15 1H1v14h14V1Z",className:"stroke-linejoin-round"}),i.createElement("path",{d:"M7.51 10H5c-.55 0-.99-.44-.99-.99V7c0-.55.44-.99.99-.99h2.51M13 10h-2.51c-.55 0-.99-.44-.99-.99V7c0-.55.44-.99.99-.99H13",className:"stroke-linejoin-round"})),"command-prompt":i.createElement("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",focusable:"false","aria-hidden":"true"},i.createElement("path",{d:"M15 1H1v14h14V1ZM12 11H9",className:"stroke-linejoin-round"}),i.createElement("path",{d:"M4.71 11.3 8 8 4.71 4.71",className:"stroke-linejoin-round"})),contact:i.createElement("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",focusable:"false","aria-hidden":"true"},i.createElement("path",{d:"M14 12c.55 0 1-.45 1-1V3c0-.55-.45-1-1-1H2c-.55 0-1 .45-1 1v8c0 .55.45 1 1 1h4v3l4-3h4Z",className:"stroke-linejoin-round"})),copy:i.createElement("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",focusable:"false","aria-hidden":"true"},i.createElement("path",{d:"M15 5H5v10h10V5Z",className:"stroke-linejoin-round"}),i.createElement("path",{d:"M13 1H1v11",className:"stroke-linejoin-round"})),"delete-marker":i.createElement("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",focusable:"false","aria-hidden":"true"},i.createElement("path",{d:"M3 7V1h6l4 4v10h-3",className:"stroke-linejoin-round"}),i.createElement("path",{d:"M8 1v5h5M2 15l6-6M2 9.01l6.01 6",className:"stroke-linejoin-round"})),download:i.createElement("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",focusable:"false","aria-hidden":"true"},i.createElement("path",{d:"M1 15h14M13 6l-5 5-5-5M8 10V1",className:"stroke-linejoin-round"})),"drag-indicator":i.createElement("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",focusable:"false","aria-hidden":"true"},i.createElement("circle",{cx:"5.5",cy:"2.5",r:"1.5",className:"filled no-stroke"}),i.createElement("circle",{cx:"5.5",cy:"13.5",r:"1.5",className:"filled no-stroke"}),i.createElement("circle",{cx:"5.5",cy:"8",r:"1.5",className:"filled no-stroke"}),i.createElement("circle",{cx:"10.5",cy:"2.5",r:"1.5",className:"filled no-stroke"}),i.createElement("circle",{cx:"10.5",cy:"13.5",r:"1.5",className:"filled no-stroke"}),i.createElement("circle",{cx:"10.5",cy:"8",r:"1.5",className:"filled no-stroke"})),edit:i.createElement("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",focusable:"false","aria-hidden":"true"},i.createElement("path",{d:"m6.19 13.275-4.19.7.7-4.19 7.2-7.2c.78-.78 2.05-.78 2.83 0l.66.66c.78.78.78 2.05 0 2.83l-7.2 7.2ZM9 3.995l3 3",className:"stroke-linejoin-round"})),ellipsis:i.createElement("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",focusable:"false","aria-hidden":"true"},i.createElement("circle",{cx:"8",cy:"2.5",r:"1.5",className:"filled no-stroke"}),i.createElement("circle",{cx:"8",cy:"13.5",r:"1.5",className:"filled no-stroke"}),i.createElement("circle",{cx:"8",cy:"8",r:"1.5",className:"filled no-stroke"})),envelope:i.createElement("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",focusable:"false","aria-hidden":"true"},i.createElement("path",{d:"m1 3 7 6 7-6",className:"stroke-linejoin-round"}),i.createElement("path",{d:"M15 3H1v10h14V3Z",className:"stroke-linejoin-round"})),"exit-full-screen":i.createElement("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",focusable:"false","aria-hidden":"true"},i.createElement("path",{d:"M1 10.01h5V15M10 15v-5h5M6 1v5H1M15 6h-5V1",className:"stroke-linejoin-round"})),expand:i.createElement("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",focusable:"false","aria-hidden":"true"},i.createElement("path",{d:"M14 7V2H9M10 6l4-4M6.99 14H2V9M6 10l-4 4M9 14h5V9M10 10l4 4M2 6.99V2h5M6 6 2 2",className:"stroke-linejoin-round"})),external:i.createElement("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",focusable:"false","aria-hidden":"true"},i.createElement("path",{d:"M14 8.01v-6H8M14.02 2 8 8.01M6 2.01H2v12h12v-3.99",className:"stroke-linejoin-round"})),"face-happy-filled":i.createElement("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",focusable:"false","aria-hidden":"true"},i.createElement("path",{d:"M7.995 1.103a6.887 6.887 0 0 0-6.892 6.892 6.887 6.887 0 0 0 6.892 6.892 6.887 6.887 0 0 0 6.892-6.892 6.887 6.887 0 0 0-6.892-6.892Zm-2.002 7.61A2.148 2.148 0 0 0 8 10.134c.914 0 1.706-.592 2.007-1.423l1.646.596c-.54 1.489-1.966 2.577-3.653 2.577-1.686 0-3.114-1.088-3.653-2.577l1.646-.596ZM7.148 6.03a1.125 1.125 0 1 1-2.25 0 1.125 1.125 0 0 1 2.25 0Zm3.95 0a1.125 1.125 0 1 1-2.25 0 1.125 1.125 0 0 1 2.25 0Z",className:"filled no-stroke"}),i.createElement("path",{d:"M8 .5A7.495 7.495 0 0 0 .5 8c0 4.146 3.354 7.5 7.5 7.5s7.5-3.354 7.5-7.5S12.146.5 8 .5Zm0 1.559c3.61 0 6.008 2.566 6.008 5.941 0 2.404-2.044 6.014-6.008 6.014-3.818 0-6.01-2.9-6.01-6.014 0-2.603 1.712-5.941 6.01-5.941Z",className:"filled no-stroke"})),"face-happy":i.createElement("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",focusable:"false","aria-hidden":"true"},i.createElement("circle",{cx:"8",cy:"8",r:"7"}),i.createElement("path",{d:"M6 7a1 1 0 1 0 0-2 1 1 0 0 0 0 2ZM10.01 7a1 1 0 1 0 0-2 1 1 0 0 0 0 2Z",className:"filled no-stroke"}),i.createElement("path",{d:"M10.83 9.01c-.42 1.16-1.53 2-2.83 2s-2.41-.84-2.83-2",className:"stroke-linejoin-round"})),"face-neutral-filled":i.createElement("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",focusable:"false","aria-hidden":"true"},i.createElement("path",{d:"M7.995 1.103a6.887 6.887 0 0 0-6.892 6.892 6.887 6.887 0 0 0 6.892 6.892 6.887 6.887 0 0 0 6.892-6.892 6.887 6.887 0 0 0-6.892-6.892ZM11 10.875H5v-1.75h6v1.75ZM7.148 6.03a1.125 1.125 0 1 1-2.25 0 1.125 1.125 0 0 1 2.25 0Zm3.95 0a1.125 1.125 0 1 1-2.25 0 1.125 1.125 0 0 1 2.25 0Z",className:"filled no-stroke"}),i.createElement("path",{d:"M8 .5A7.495 7.495 0 0 0 .5 8c0 4.146 3.354 7.5 7.5 7.5s7.5-3.354 7.5-7.5S12.146.5 8 .5Zm0 1.559c3.61 0 6.008 2.566 6.008 5.941 0 2.404-2.044 6.014-6.008 6.014-3.818 0-6.01-2.9-6.01-6.014 0-2.603 1.712-5.941 6.01-5.941Z",className:"filled no-stroke"})),"face-neutral":i.createElement("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",focusable:"false","aria-hidden":"true"},i.createElement("circle",{cx:"8",cy:"8",r:"7"}),i.createElement("path",{d:"M6 7a1 1 0 1 0 0-2 1 1 0 0 0 0 2ZM10.01 7a1 1 0 1 0 0-2 1 1 0 0 0 0 2Z",className:"filled no-stroke"}),i.createElement("path",{d:"M5 10h6",className:"stroke-linejoin-round"})),"face-sad-filled":i.createElement("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",focusable:"false","aria-hidden":"true"},i.createElement("path",{d:"M7.995 1.103a6.887 6.887 0 0 0-6.892 6.892 6.887 6.887 0 0 0 6.892 6.892 6.887 6.887 0 0 0 6.892-6.892 6.887 6.887 0 0 0-6.892-6.892Zm-3.648 9.6C4.887 9.212 6.314 8.124 8 8.124c1.687 0 3.114 1.088 3.653 2.577l-1.646.596A2.148 2.148 0 0 0 8 9.875c-.913 0-1.706.592-2.007 1.423l-1.646-.596ZM7.148 6.03a1.125 1.125 0 1 1-2.25 0 1.125 1.125 0 0 1 2.25 0Zm3.95 0a1.125 1.125 0 1 1-2.25 0 1.125 1.125 0 0 1 2.25 0Z",className:"filled no-stroke"}),i.createElement("path",{d:"M8 .5A7.495 7.495 0 0 0 .5 8c0 4.146 3.354 7.5 7.5 7.5s7.5-3.354 7.5-7.5S12.146.5 8 .5Zm0 1.559c3.61 0 6.008 2.566 6.008 5.941 0 2.404-2.044 6.014-6.008 6.014-3.818 0-6.01-2.9-6.01-6.014 0-2.603 1.712-5.941 6.01-5.941Z",className:"filled no-stroke"})),"face-sad":i.createElement("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",focusable:"false","aria-hidden":"true"},i.createElement("circle",{cx:"8",cy:"8",r:"7"}),i.createElement("path",{d:"M6 7a1 1 0 1 0 0-2 1 1 0 0 0 0 2ZM10.01 7a1 1 0 1 0 0-2 1 1 0 0 0 0 2Z",className:"filled no-stroke"}),i.createElement("path",{d:"M10.83 11C10.41 9.84 9.3 9 8 9s-2.41.84-2.83 2",className:"stroke-linejoin-round"})),"file-open":i.createElement("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",focusable:"false","aria-hidden":"true"},i.createElement("path",{d:"M13 15H3V1h6l4 4v10Z",className:"stroke-linejoin-round"}),i.createElement("path",{d:"M8 1v5h5M3 8l7 7",className:"stroke-linejoin-round"})),file:i.createElement("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",focusable:"false","aria-hidden":"true"},i.createElement("path",{d:"M13 15H3V1h6l4 4v10Z",className:"stroke-linejoin-round"}),i.createElement("path",{d:"M8 1v5h5",className:"stroke-linejoin-round"})),filter:i.createElement("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",focusable:"false","aria-hidden":"true"},i.createElement("path",{d:"m1 3 5 5v7l4-2V8l5-5V1H1v2Z",className:"stroke-linejoin-round"})),flag:i.createElement("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",focusable:"false","aria-hidden":"true"},i.createElement("path",{d:"M1.99 16V1M2 2.14c4 2.71 8-2.99 12-.28v7.28c-4-2.89-8 2.61-12-.28",className:"stroke-linejoin-round"})),"folder-open":i.createElement("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",focusable:"false","aria-hidden":"true"},i.createElement("path",{d:"M6 14h8l-3-7H1l2 7h3Z",className:"stroke-linejoin-round"}),i.createElement("path",{d:"M2 7V2h6l1 2h5c.55 0 1 .45 1 1v8c0 .55-.45 1-1 1h-1",className:"stroke-linejoin-round"})),folder:i.createElement("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",focusable:"false","aria-hidden":"true"},i.createElement("path",{d:"M15 5v9H2V2h6l1 2h5c.55 0 1 .45 1 1Z",className:"stroke-linejoin-round"})),"forward-10-seconds":i.createElement("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",focusable:"false","aria-hidden":"true"},i.createElement("path",{d:"M13.95 14.01h-.96c-.56 0-1.02-.46-1.02-1.02v-2.96c0-.56.45-1.01 1.01-1.02h.96c.56 0 1.02.45 1.02 1.02v2.96c0 .56-.46 1.02-1.02 1.02h.01Z",className:"stroke-linejoin-round"}),i.createElement("path",{d:"M9 9v5",className:"stroke-linecap-square"}),i.createElement("path",{d:"M15 0v5h-5",className:"stroke-linejoin-round"}),i.createElement("path",{d:"M6.024 15A7.154 7.154 0 0 1 1 8.164C1 4.204 4.196 1 8.148 1A7.148 7.148 0 0 1 14.5 4.875",className:"stroke-linejoin-round"})),"full-screen":i.createElement("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",focusable:"false","aria-hidden":"true"},i.createElement("path",{d:"M6 15H1v-5M15 10v5h-5M1 6V1h5M10 1h5v5",className:"stroke-linejoin-round"})),"gen-ai":i.createElement("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",focusable:"false","aria-hidden":"true"},i.createElement("path",{d:"M6.15 10.365 8 15.005l1.86-4.64 4.64-1.86-4.64-1.85L8 2.005l-1.85 4.65-4.65 1.85 4.65 1.86Z",className:"stroke-linejoin-round"}),i.createElement("path",{d:"M2.38 4.915c.02.05.07.08.12.08.05 0 .12-.08.12-.08l.66-1.64 1.64-.66a.13.13 0 0 0 .08-.12c0-.05-.08-.12-.08-.12l-1.64-.66-.66-1.64c-.04-.1-.2-.1-.24 0l-.66 1.64-1.64.66a.13.13 0 0 0-.08.12c0 .05.08.12.08.12l1.64.66.66 1.64Z",className:"filled no-stroke"})),globe:i.createElement("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",focusable:"false","aria-hidden":"true"},i.createElement("circle",{cx:"8",cy:"8",r:"7"}),i.createElement("path",{d:"M8 15c1.657 0 3-3.134 3-7S9.657 1 8 1 5 4.134 5 8s1.343 7 3 7ZM1 8h14",className:"stroke-linejoin-round"})),"grid-view":i.createElement("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",focusable:"false","aria-hidden":"true"},i.createElement("path",{d:"M6 10H2v4h4v-4ZM14 10h-4v4h4v-4ZM6 2H2v4h4V2ZM14 2h-4v4h4V2Z",className:"stroke-linejoin-round"})),"group-active":i.createElement("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",focusable:"false","aria-hidden":"true"},i.createElement("circle",{cx:"11",cy:"7",r:"3",className:"filled no-stroke"}),i.createElement("circle",{cx:"4.25",cy:"4.25",r:"2.75",className:"filled no-stroke"}),i.createElement("path",{d:"M6 14a3 3 0 0 1 3-3h4a3 3 0 0 1 3 3v2H6v-2Z",className:"filled no-stroke"}),i.createElement("path",{d:"M7.126 8H3a3 3 0 0 0-3 3v3h5a4 4 0 0 1 3.405-3.956A4 4 0 0 1 7.126 8Z",className:"filled no-stroke"})),group:i.createElement("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",focusable:"false","aria-hidden":"true"},i.createElement("path",{d:"M15 16v-2a2 2 0 0 0-2-2H9a2 2 0 0 0-2 2v2"}),i.createElement("circle",{cx:"11.25",cy:"6.75",r:"2.25"}),i.createElement("path",{d:"M6.254 8.99H3a2.005 2.005 0 0 0-2.005 2.005v2h.01v-2C1.005 9.893 1.898 9 3 9h3.261a8.678 8.678 0 0 1-.007-.01Z",className:"filled"}),i.createElement("circle",{cx:"4.25",cy:"4.25",r:"2.25"})),"heart-filled":i.createElement("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",focusable:"false","aria-hidden":"true"},i.createElement("path",{d:"M13.49 3.546C12.124 2.31 10.312 2.689 9 4L8 5 7 4c-1.301-1.302-3.114-1.69-4.491-.454a3.409 3.409 0 0 0-.133 4.95L7.952 14s.067.028.086 0l5.576-5.505a3.409 3.409 0 0 0-.133-4.95h.01Z",className:"filled stroke-linejoin-round"})),heart:i.createElement("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",focusable:"false","aria-hidden":"true"},i.createElement("path",{d:"M13.752 2.873c-1.44-1.3-3.7-1.1-5.08.28l-.7.7-.7-.7c-1.37-1.37-3.63-1.58-5.08-.28a3.588 3.588 0 0 0-.14 5.21l5.87 5.87s.07.03.09 0l5.87-5.87a3.588 3.588 0 0 0-.14-5.21h.01Z",className:"stroke-linejoin-round"})),"insert-row":i.createElement("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",focusable:"false","aria-hidden":"true"},i.createElement("path",{d:"M6 11H1V2h14v4M12 7v8M8 11h8",className:"stroke-linejoin-round"})),key:i.createElement("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",focusable:"false","aria-hidden":"true"},i.createElement("path",{d:"M10 1a5.002 5.002 0 0 0-4.6 6.96L1 12.36v2.65h4v-2h3v-2.42c.61.27 1.29.42 2 .42 2.76 0 5-2.24 5-5s-2.24-5-5-5V1Z",className:"stroke-linejoin-round"}),i.createElement("path",{d:"M10.5 7a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z",className:"filled no-stroke"})),keyboard:i.createElement("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",focusable:"false","aria-hidden":"true"},i.createElement("path",{d:"M15 2H1v12h14V2ZM4 11h8M4 8h2M4 5h2M7 8h2M7 5h2M10 8h2M10 5h2"})),"list-view":i.createElement("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",focusable:"false","aria-hidden":"true"},i.createElement("path",{d:"M5 3h10M5 8h10M5 13h10"}),i.createElement("path",{d:"M2.01 3.01H2V3h.01v.01ZM2.01 8.01H2V8h.01v.01ZM2.01 13.01H2V13h.01v.01Z",className:"filled"})),"location-pin":i.createElement("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",focusable:"false","aria-hidden":"true"},i.createElement("path",{d:"M8 8a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z",className:"stroke-linejoin-round"}),i.createElement("path",{d:"M12.01 9c.63-.83 1-1.87 1-3 0-2.76-2.24-5-5-5a5.002 5.002 0 0 0-4 8l4 6 4-6Z",className:"stroke-linejoin-round"})),"lock-private":i.createElement("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",focusable:"false","aria-hidden":"true"},i.createElement("path",{d:"M12 7H4a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V8a1 1 0 0 0-1-1ZM5 7V4c0-1.65 1.35-3 3-3s3 1.35 3 3v3",className:"stroke-linejoin-round"})),map:i.createElement("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",focusable:"false","aria-hidden":"true"},i.createElement("path",{d:"M2 12.8V2l3.61 1.21V14L2 12.8ZM10.4 12.8V2L14 3.05V14l-3.6-1.2ZM5.61 14l4.79-1.2M5.61 3.21 10.4 2",className:"stroke-linejoin-round"})),menu:i.createElement("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",focusable:"false","aria-hidden":"true"},i.createElement("path",{d:"M15 3H1M15 8H1M15 13H1",className:"stroke-linejoin-round"})),"microphone-off":i.createElement("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",focusable:"false","aria-hidden":"true"},i.createElement("path",{d:"M3 15.01h10M8 15v-3"}),i.createElement("path",{d:"M6.6 8.43c.36.36.86.59 1.41.59 1.1 0 2-.9 2-2v-2L6.6 8.43Z",className:"filled"}),i.createElement("path",{d:"M13 7.01c0 2.76-2.24 5-5 5-1.28 0-2.45-.48-3.33-1.28M3 12.01l10-10"}),i.createElement("path",{d:"M8.01 1.01c-1.1 0-2 .9-2 2v1.67l3.23-3.23c-.34-.27-.77-.44-1.23-.44Z",className:"filled"}),i.createElement("path",{d:"M3.01 7.01c0 .482-.162 1.263.33 1.75"})),microphone:i.createElement("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",focusable:"false","aria-hidden":"true"},i.createElement("path",{d:"M3 15h10M8 15v-3M10 3a2 2 0 1 0-4 0v4a2 2 0 1 0 4 0V3Z",className:"stroke-linejoin-round"}),i.createElement("path",{d:"M13 7c0 2.76-2.24 5-5 5S3 9.76 3 7",className:"stroke-linejoin-round"})),"mini-player":i.createElement("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",focusable:"false","aria-hidden":"true"},i.createElement("path",{d:"M14 10.01H8v4h6v-4Z",className:"stroke-linejoin-round"}),i.createElement("path",{d:"M5 14H2V2h12v5",className:"stroke-linejoin-round"})),multiscreen:i.createElement("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",focusable:"false","aria-hidden":"true"},i.createElement("path",{d:"M15 5H5v7h10V5Z",className:"stroke-linejoin-round"}),i.createElement("path",{d:"M11 3V1.01L1.01 1 1 8h1.998M10 12v3M7 15h6",className:"stroke-linejoin-round"})),notification:i.createElement("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",focusable:"false","aria-hidden":"true"},i.createElement("path",{d:"M14 12H2c-.39 0-.63-.44-.41-.76L4 8V5c0-2.21 1.79-4 4-4s4 1.79 4 4v3l2.41 3.24c.22.33-.02.76-.41.76ZM6 13c0 1.1.9 2 2 2s2-.9 2-2",className:"stroke-linejoin-round"})),pause:i.createElement("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",focusable:"false","aria-hidden":"true"},i.createElement("path",{d:"M5 2v12M11 2v12",className:"stroke-linejoin-round"})),play:i.createElement("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",focusable:"false","aria-hidden":"true"},i.createElement("path",{d:"m4 13.03 8-5-8-5v10Z",className:"stroke-linejoin-round filled"})),redo:i.createElement("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",focusable:"false","aria-hidden":"true"},i.createElement("path",{d:"m11 2 4 4-4 4",className:"stroke-linejoin-round"}),i.createElement("path",{d:"M14 6H5.5C3.01 6 1 8.01 1 10.5S3.01 15 5.5 15H8",className:"stroke-linejoin-round"})),refresh:i.createElement("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",focusable:"false","aria-hidden":"true"},i.createElement("path",{d:"M15 0v5l-5-.04",className:"stroke-linejoin-round"}),i.createElement("path",{d:"M15 8c0 3.87-3.13 7-7 7s-7-3.13-7-7 3.13-7 7-7c2.79 0 5.2 1.63 6.33 4"})),remove:i.createElement("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",focusable:"false","aria-hidden":"true"},i.createElement("path",{d:"M1 5h14M13 5l-1 10H4L3 5M5 5V2h6v3",className:"stroke-linejoin-round"})),"resize-area":i.createElement("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",focusable:"false","aria-hidden":"true"},i.createElement("path",{d:"M14 4 4 14M10 14l4-4",className:"stroke-linejoin-round"})),script:i.createElement("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",focusable:"false","aria-hidden":"true"},i.createElement("path",{d:"M5 4 1 8l4 4M11 4l4 4-4 4",className:"stroke-linejoin-round"}),i.createElement("path",{d:"M7 13 9 3"})),search:i.createElement("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",focusable:"false","aria-hidden":"true"},i.createElement("path",{d:"m11 11 4 4M7 12A5 5 0 1 0 7 2a5 5 0 0 0 0 10Z",className:"stroke-linejoin-round"})),security:i.createElement("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",focusable:"false","aria-hidden":"true"},i.createElement("path",{d:"M8 1C6.29 2.53 4.13 3.32 2 3.48v3.48c0 2.05.76 3.88 1.71 5.14.92 1.22 2.32 2.21 4.29 2.9 1.97-.69 3.37-1.68 4.29-2.9A8.684 8.684 0 0 0 14 6.96V3.48C11.87 3.32 9.71 2.52 8 1Z",className:"stroke-linejoin-round"}),i.createElement("path",{d:"M8 4v5M8 10v2"})),send:i.createElement("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",focusable:"false","aria-hidden":"true"},i.createElement("path",{d:"m1 1 14 6.92L1 15l3-7-3-7ZM4 8h11",className:"stroke-linejoin-round"})),settings:i.createElement("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",focusable:"false","aria-hidden":"true"},i.createElement("path",{d:"M6.11 1.729c.07-.42.44-.729.86-.729h2.02c.43 0 .79.31.86.729l.17.999c.05.29.24.529.5.679.06.03.11.06.17.1.25.15.56.2.84.1l.95-.35c.4-.15.85 0 1.07.38l1.01 1.747c.21.37.13.839-.2 1.108l-.78.64c-.23.189-.34.479-.33.768v.2c0 .29.11.579.33.769l.78.639c.33.27.42.739.2 1.108l-1.01 1.748c-.21.37-.66.529-1.06.38l-.95-.35a.966.966 0 0 0-.84.1c-.06.03-.11.07-.17.1-.26.14-.45.389-.5.679l-.17.998A.878.878 0 0 1 9 15H6.98a.87.87 0 0 1-.86-.729l-.17-.998a.988.988 0 0 0-.5-.68c-.06-.03-.11-.06-.17-.1a.996.996 0 0 0-.84-.1l-.95.35c-.4.15-.85 0-1.06-.38l-1.01-1.747a.873.873 0 0 1 .2-1.108l.78-.64c.23-.189.34-.479.33-.768v-.2c0-.3-.11-.579-.33-.769l-.78-.639a.861.861 0 0 1-.2-1.108l1.01-1.748c.21-.37.66-.529 1.07-.38l.95.35c.28.1.58.06.84-.1.06-.03.11-.07.17-.1.26-.14.45-.379.5-.678l.15-1Z",className:"stroke-linecap-round stroke-linejoin-round"}),i.createElement("path",{d:"M10 8c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2Z",className:"stroke-linecap-round stroke-linejoin-round"})),share:i.createElement("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",focusable:"false","aria-hidden":"true"},i.createElement("path",{d:"M3.5 11a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5ZM12.5 6a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5ZM12.5 15a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5ZM10.326 4.7 5.678 7.293M10.223 11.483l-4.448-1.96"})),shrink:i.createElement("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",focusable:"false","aria-hidden":"true"},i.createElement("path",{d:"M10 1v5h5M10.71 5.29 15 1M1 10h5v5M5.3 10.7 1 15",className:"stroke-linejoin-round"})),"star-filled":i.createElement("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",focusable:"false","aria-hidden":"true"},i.createElement("path",{d:"m8 1 2.16 4.38 4.84.71-3.5 3.41.83 4.81L8 12.04l-4.33 2.27.83-4.81L1 6.09l4.84-.71L8 1Z",className:"filled stroke-linejoin-round"})),"star-half":i.createElement("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",focusable:"false","aria-hidden":"true"},i.createElement("path",{d:"M8 1v11.04l-4.33 2.27.83-4.81L1 6.09l4.84-.71L8 1Z",className:"filled no-stroke"}),i.createElement("path",{d:"m8 1 2.16 4.38 4.84.71-3.5 3.41.83 4.81L8 12.04l-4.33 2.27.83-4.81L1 6.09l4.84-.71L8 1Z",className:"stroke-linejoin-round"})),star:i.createElement("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",focusable:"false","aria-hidden":"true"},i.createElement("path",{d:"m8 1 2.16 4.38 4.84.71-3.5 3.41.83 4.81L8 12.04l-4.33 2.27.83-4.81L1 6.09l4.84-.71L8 1Z",className:"stroke-linejoin-round"})),"status-in-progress":i.createElement("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",focusable:"false","aria-hidden":"true"},i.createElement("circle",{cx:"8",cy:"8",r:"7"}),i.createElement("path",{d:"M9 7H7v2h2V7ZM6 7H4v2h2V7ZM12 7h-2v2h2V7Z",className:"filled no-stroke"})),"status-info":i.createElement("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",focusable:"false","aria-hidden":"true"},i.createElement("circle",{cx:"8",cy:"8",r:"7"}),i.createElement("path",{d:"M8 12V7M8 6V4"})),"status-negative":i.createElement("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",focusable:"false","aria-hidden":"true"},i.createElement("circle",{cx:"8",cy:"8",r:"7"}),i.createElement("path",{d:"m5.5 5.5 5 5M10.5 5.5l-5 5"})),"status-pending":i.createElement("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",focusable:"false","aria-hidden":"true"},i.createElement("circle",{cx:"8",cy:"8",r:"7"}),i.createElement("path",{d:"M8 4v5H4",className:"stroke-linejoin-round"})),"status-positive":i.createElement("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",focusable:"false","aria-hidden":"true"},i.createElement("circle",{cx:"8",cy:"8",r:"7"}),i.createElement("path",{d:"M4.5 7.5 7 10l4-5",className:"stroke-linejoin-round"})),"status-stopped":i.createElement("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",focusable:"false","aria-hidden":"true"},i.createElement("circle",{cx:"8",cy:"8",r:"7"}),i.createElement("path",{d:"M5 8h6"})),"status-warning":i.createElement("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",focusable:"false","aria-hidden":"true"},i.createElement("path",{d:"M8 5v4M8 10v2M6.52 1.88l-5.33 9.76c-.13.23-.19.5-.19.76 0 .88.71 1.59 1.59 1.59H13.4c.88 0 1.59-.71 1.59-1.59 0-.27-.07-.53-.19-.76L9.48 1.88C9.18 1.34 8.62 1 8 1s-1.18.34-1.48.88Z",className:"stroke-linejoin-round"})),"subtract-minus":i.createElement("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",focusable:"false","aria-hidden":"true"},i.createElement("path",{d:"M2 8h12",className:"stroke-linejoin-round"})),suggestions:i.createElement("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",focusable:"false","aria-hidden":"true"},i.createElement("path",{d:"M8.12 15h-2l-.99-5.02C3.92 9.07 3.12 7.63 3.12 6c0-2.76 2.24-5 5-5s5 2.24 5 5c0 1.63-.8 3.07-2.01 3.98L10.12 15h-2ZM11.12 12h-6",className:"stroke-linejoin-round"})),support:i.createElement("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",focusable:"false","aria-hidden":"true"},i.createElement("circle",{cx:"8",cy:"8",r:"7"}),i.createElement("path",{d:"M5.75 6.338c.13-1.178.811-2.339 2.37-2.339 1.472 0 2.435 1.312 2.042 2.468-.215.633-.916 1.132-1.385 1.578C8.162 8.631 8 9.2 8 10"}),i.createElement("path",{d:"M8 12.01h.01V12H8v.01Z",className:"filled"})),"thumbs-down-filled":i.createElement("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",focusable:"false","aria-hidden":"true"},i.createElement("path",{d:"M1 1h2.01v9H1c-.55 0-1-.45-1-1V2c0-.55.45-1 1-1Zm14.14 6.22-1.69-5.03C13.21 1.48 12.54 1 11.79 1H4.01v9l3.23 3.88c.6.72 1.77.29 1.77-.64V9h4.86c.92 0 1.57-.91 1.28-1.78h-.01Z",className:"filled no-stroke"})),"thumbs-down":i.createElement("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",focusable:"false","aria-hidden":"true"},i.createElement("path",{d:"M9 13.13V9h4.12c.6 0 1.02-.59.83-1.16l-1.6-4.77A1.58 1.58 0 0 0 10.86 2H1v8h4l2.41 3.61c.48.72 1.59.38 1.59-.48ZM5 2v8",className:"stroke-linejoin-round"})),"thumbs-up-filled":i.createElement("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",focusable:"false","aria-hidden":"true"},i.createElement("path",{d:"M3 15.001H1c-.55 0-1-.45-1-1v-7c0-.55.45-1 1-1h2v9Zm10.86-8H9v-4.24c0-.93-1.17-1.36-1.77-.64L4 6.001v9h7.78c.75 0 1.42-.48 1.66-1.19l1.69-5.03c.29-.87-.36-1.78-1.28-1.78h.01Z",className:"filled no-stroke"})),"thumbs-up":i.createElement("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",focusable:"false","aria-hidden":"true"},i.createElement("path",{d:"M9 2.871v4.13h4.12c.6 0 1.02.59.83 1.16l-1.6 4.77a1.58 1.58 0 0 1-1.49 1.07H1v-8h4l2.41-3.61c.48-.72 1.59-.38 1.59.48ZM5 14.001v-8",className:"stroke-linejoin-round"})),ticket:i.createElement("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",focusable:"false","aria-hidden":"true"},i.createElement("path",{d:"M13 8c0-1.1.9-2 2-2V3H1v3c1.1 0 2 .9 2 2s-.9 2-2 2v3h14v-3c-1.1 0-2-.9-2-2Z",className:"stroke-linejoin-round"})),transcript:i.createElement("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",focusable:"false","aria-hidden":"true"},i.createElement("path",{d:"M15 1H1v14h14V1ZM9 10H4M12 6H4",className:"stroke-linejoin-round"})),"treeview-collapse":i.createElement("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",focusable:"false","aria-hidden":"true"},i.createElement("path",{d:"M14 2H2v12h12V2ZM5 8h6",className:"stroke-linejoin-round"})),"treeview-expand":i.createElement("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",focusable:"false","aria-hidden":"true"},i.createElement("path",{d:"M14 2H2v12h12V2ZM8 5v6M5 8h6",className:"stroke-linejoin-round"})),undo:i.createElement("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",focusable:"false","aria-hidden":"true"},i.createElement("path",{d:"M5 2 1 6l4 4",className:"stroke-linejoin-round"}),i.createElement("path",{d:"M2 6h8.5c2.49 0 4.5 2.01 4.5 4.5S12.99 15 10.5 15H8",className:"stroke-linejoin-round"})),unlocked:i.createElement("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",focusable:"false","aria-hidden":"true"},i.createElement("path",{d:"M11 7H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V8a1 1 0 0 0-1-1ZM9 7V4c0-1.65 1.35-3 3-3s3 1.35 3 3",className:"stroke-linejoin-round"})),"upload-download":i.createElement("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",focusable:"false","aria-hidden":"true"},i.createElement("path",{d:"m7 7-3 3-3-3M4 9V1M15 9l-3-3-3 3M12 7v8M0 14h8M8 2h8",className:"stroke-linejoin-round"})),upload:i.createElement("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",focusable:"false","aria-hidden":"true"},i.createElement("path",{d:"M1 1h14M13 10 8 5l-5 5M8 6v9",className:"stroke-linejoin-round"})),"user-profile-active":i.createElement("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",focusable:"false","aria-hidden":"true"},i.createElement("path",{d:"M8 6a2.5 2.5 0 0 0 0-5 2.5 2.5 0 0 0 0 5ZM2 15.5v-3c0-1.66 1.34-3 3-3h6c1.66 0 3 1.34 3 3v3",className:"filled"}),i.createElement("path",{d:"M2 15.5v-3c0-1.66 1.34-3 3-3h6c1.66 0 3 1.34 3 3v3",className:"stroke-linejoin-round"})),"user-profile":i.createElement("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",focusable:"false","aria-hidden":"true"},i.createElement("path",{d:"M8 7c1.66 0 3-1.34 3-3S9.66 1 8 1 5 2.34 5 4s1.34 3 3 3Z"}),i.createElement("path",{d:"M2 16v-3c0-1.66 1.34-3 3-3h6c1.66 0 3 1.34 3 3v3",className:"stroke-linejoin-round"})),"video-camera-off":i.createElement("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",focusable:"false","aria-hidden":"true"},i.createElement("path",{d:"M11 6V3H1v9.97h10V9.98L15 13V3.04L11 6ZM4 6l4 4M8 6.01 4 10",className:"stroke-linejoin-round"})),"video-camera-on":i.createElement("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",focusable:"false","aria-hidden":"true"},i.createElement("path",{d:"M11 6V3H1v9.97L11 13v-3l4 3V3.04L11 6Z",className:"stroke-linejoin-round"})),"video-camera-unavailable":i.createElement("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",focusable:"false","aria-hidden":"true"},i.createElement("path",{d:"M11 5.99V3H1v9.97h10V9.98L15 13V3.04l-4 2.95ZM4 8h4",className:"stroke-linejoin-round"})),"video-off":i.createElement("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",focusable:"false","aria-hidden":"true"},i.createElement("circle",{cx:"8",cy:"7",r:"5"}),i.createElement("path",{d:"M3 15h10M8 15v-3M6.01 5.01 10 9M10 5 6 9",className:"stroke-linejoin-round"})),"video-on":i.createElement("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",focusable:"false","aria-hidden":"true"},i.createElement("circle",{cx:"8",cy:"7",r:"5"}),i.createElement("circle",{cx:"8",cy:"7",r:"2",className:"filled no-stroke"}),i.createElement("path",{d:"M3 15h10M8 15v-3"})),"video-unavailable":i.createElement("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",focusable:"false","aria-hidden":"true"},i.createElement("circle",{cx:"8",cy:"7",r:"5"}),i.createElement("path",{d:"M3 15h10M6 7h4M8 15v-3"})),"view-full":i.createElement("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",focusable:"false","aria-hidden":"true"},i.createElement("path",{d:"M15 1H1v14h14V1Z",className:"stroke-linejoin-round"}),i.createElement("path",{d:"M11.5 4h-7a.5.5 0 0 0-.5.5v7a.5.5 0 0 0 .5.5h7a.5.5 0 0 0 .5-.5v-7a.5.5 0 0 0-.5-.5Z",className:"filled no-stroke"})),"view-horizontal":i.createElement("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",focusable:"false","aria-hidden":"true"},i.createElement("path",{d:"M15 15V1H1v14h14Z",className:"stroke-linejoin-round"}),i.createElement("path",{d:"M11.5 7h-7a.5.5 0 0 0-.5.5v4a.5.5 0 0 0 .5.5h7a.5.5 0 0 0 .5-.5v-4a.5.5 0 0 0-.5-.5Z",className:"filled no-stroke"})),"view-vertical":i.createElement("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",focusable:"false","aria-hidden":"true"},i.createElement("path",{d:"M15 1H1v14h14V1Z",className:"stroke-linejoin-round"}),i.createElement("path",{d:"M11.5 4h-4a.5.5 0 0 0-.5.5v7a.5.5 0 0 0 .5.5h4a.5.5 0 0 0 .5-.5v-7a.5.5 0 0 0-.5-.5Z",className:"filled no-stroke"})),"zoom-in":i.createElement("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",focusable:"false","aria-hidden":"true"},i.createElement("circle",{cx:"7",cy:"7",r:"6"}),i.createElement("path",{d:"m11 11 4 4M7 4v6M4 7l6 .01"})),"zoom-out":i.createElement("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",focusable:"false","aria-hidden":"true"},i.createElement("path",{d:"m11 11 4 4"}),i.createElement("circle",{cx:"7",cy:"7",r:"6"}),i.createElement("path",{d:"m4 7 6 .01"})),"zoom-to-fit":i.createElement("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",focusable:"false","aria-hidden":"true"},i.createElement("path",{d:"M11 5H5v6h6V5ZM6 1H1v5M10 1h5v5M6 15H1v-5M10 15h5v-5",className:"stroke-linejoin-round"}))},no=(0,i.createContext)(to),io={icon:"awsui_icon_h11ix_6vdye_189","icon-flex-height":"awsui_icon-flex-height_h11ix_6vdye_197","size-small":"awsui_size-small_h11ix_6vdye_225","size-small-mapped-height":"awsui_size-small-mapped-height_h11ix_6vdye_229","size-normal":"awsui_size-normal_h11ix_6vdye_244","size-normal-mapped-height":"awsui_size-normal-mapped-height_h11ix_6vdye_248","size-medium":"awsui_size-medium_h11ix_6vdye_263","size-medium-mapped-height":"awsui_size-medium-mapped-height_h11ix_6vdye_267","size-big":"awsui_size-big_h11ix_6vdye_282","size-big-mapped-height":"awsui_size-big-mapped-height_h11ix_6vdye_286","size-large":"awsui_size-large_h11ix_6vdye_301","size-large-mapped-height":"awsui_size-large-mapped-height_h11ix_6vdye_305","variant-normal":"awsui_variant-normal_h11ix_6vdye_320","variant-disabled":"awsui_variant-disabled_h11ix_6vdye_323","variant-inverted":"awsui_variant-inverted_h11ix_6vdye_326","variant-subtle":"awsui_variant-subtle_h11ix_6vdye_329","variant-warning":"awsui_variant-warning_h11ix_6vdye_332","variant-error":"awsui_variant-error_h11ix_6vdye_335","variant-success":"awsui_variant-success_h11ix_6vdye_338","variant-link":"awsui_variant-link_h11ix_6vdye_341","name-angle-left-double":"awsui_name-angle-left-double_h11ix_6vdye_344","name-angle-left":"awsui_name-angle-left_h11ix_6vdye_344","name-angle-right-double":"awsui_name-angle-right-double_h11ix_6vdye_346","name-angle-right":"awsui_name-angle-right_h11ix_6vdye_346","name-arrow-left":"awsui_name-arrow-left_h11ix_6vdye_348","name-arrow-right":"awsui_name-arrow-right_h11ix_6vdye_349","name-caret-left-filled":"awsui_name-caret-left-filled_h11ix_6vdye_350","name-caret-right-filled":"awsui_name-caret-right-filled_h11ix_6vdye_351","name-audio-full":"awsui_name-audio-full_h11ix_6vdye_352","name-audio-half":"awsui_name-audio-half_h11ix_6vdye_353","name-audio-off":"awsui_name-audio-off_h11ix_6vdye_354","name-external":"awsui_name-external_h11ix_6vdye_355","name-redo":"awsui_name-redo_h11ix_6vdye_356","name-resize-area":"awsui_name-resize-area_h11ix_6vdye_357","name-send":"awsui_name-send_h11ix_6vdye_358","name-shrink":"awsui_name-shrink_h11ix_6vdye_359","name-undo":"awsui_name-undo_h11ix_6vdye_360","name-view-vertical":"awsui_name-view-vertical_h11ix_6vdye_361",badge:"awsui_badge_h11ix_6vdye_385"};const oo=e=>{var{name:t,size:n="normal",variant:o="normal",url:r,alt:s,ariaLabel:a,svg:l,badge:u,__internalRootRef:c}=e,d=Et(e,["name","size","variant","url","alt","ariaLabel","svg","badge","__internalRootRef"]);const h=(0,i.useContext)(no),p=(0,i.useRef)(null);Cn();const[g,m]=(0,i.useState)(null),v="inherit"===n,f=v?null===(w=g)?"normal":w>=50?"large":w>=36?"big":w>=24?"medium":w<=16?"small":"normal":n;var w;const C=v&&null!==g?{height:"".concat(g,"px")}:{},b=zt(d);b.className=Gn(b.className,io.icon,v&&io["icon-flex-height"],u&&io.badge,!v&&io["size-".concat(f,"-mapped-height")],io["size-".concat(f)],io["variant-".concat(o)],io["name-".concat(t)]),(0,i.useLayoutEffect)(()=>{if(!v||!p.current)return;const{lineHeight:e}=getComputedStyle(p.current),t=parseInt(e,10);m(t)});const y=Tt(p,c),S="string"===typeof a,x=S?{role:"img","aria-label":a}:{};if(l)return r&&Pt(),i.createElement("span",Object.assign({},b,x,{ref:y,"aria-hidden":!S,style:C}),l);if(r)return i.createElement("span",Object.assign({},b,{ref:y,style:C}),i.createElement("img",{src:r,alt:null!==a&&void 0!==a?a:s}));const D=t&&Object.prototype.hasOwnProperty.call(h,t);return i.createElement("span",Object.assign({},b,x,{ref:y,style:C}),D?function(e){return"gen-ai"===e&&"small"===f?i.createElement("svg",{width:"12",height:"12",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",focusable:"false","aria-hidden":"true","data-testid":"gen-ai-filled"},i.createElement("path",{d:"m8 4.4 1.018 2.582L11.6 8 9.018 9.018 8 11.6 6.982 9.018 4.4 8l2.582-1.018L8 4.4ZM2.405 2.41l.002-.003.003-.002-.003-.002-.002-.003-.002.003-.003.002.003.002.002.003Z",className:"filled"})):h[e]}(t):void 0)};let ro={funnelStart:()=>"",funnelError(){},funnelComplete(){},funnelSuccessful(){},funnelCancelled(){},funnelChange(){},funnelStepStart(){},funnelStepComplete(){},funnelStepNavigation(){},funnelStepError(){},funnelStepChange(){},funnelSubStepStart(){},funnelSubStepComplete(){},funnelSubStepError(){},helpPanelInteracted(){},externalLinkInteracted(){}},so={tableInteraction(){},taskCompletionData(){},modalPerformanceData(){}},ao={componentMounted:()=>"",componentUpdated(){}};function lo(e,t){return!!(e&&t&&on(t))&&e.contains(t)}var uo=n(136),co=n.n(uo);function ho(e){var t;const n=getComputedStyle(e);return!!n.transform&&"none"!==n.transform||!!n.perspective&&"none"!==n.perspective||(null===(t=n.contain)||void 0===t?void 0:t.split(" ").some(e=>["layout","paint","strict","content"].includes(e)))}const po=/--.+?\s*,\s*(.+)/;function go(e){var t,n,i;if("undefined"===typeof window)return e;if(null!==(i=null===(n=null===(t=window.CSS)||void 0===t?void 0:t.supports)||void 0===n?void 0:n.call(t,"color","var(--dummy, #000)"))&&void 0!==i&&i)return e;const o=e.lastIndexOf("var(");if(-1===o)return e;const r=co()("(",")",e.substr(o));if(!r)return e;const s=r.body.match(po);return s?s[1]:e}function mo(e){return e instanceof Node||null!==e&&"object"===typeof e&&"nodeType"in e&&"number"===typeof e.nodeType&&"nodeName"in e&&"string"===typeof e.nodeName&&"parentNode"in e&&"object"===typeof e.parentNode}function vo(e){return e instanceof HTMLElement||mo(e)&&e.nodeType===Node.ELEMENT_NODE&&"style"in e&&"object"===typeof e.style&&"object"===typeof e.ownerDocument&&!fo(e)}function fo(e){return e instanceof SVGElement||mo(e)&&e.nodeType===Node.ELEMENT_NODE&&"ownerSVGElement"in e&&"object"===typeof e.ownerSVGElement}function wo(e,t){var n;if(!mo(t))return!1;const i=sn(t,t=>t===e||vo(t)&&!!t.dataset.awsuiReferrerId);if(i&&i===e)return!0;const o=vo(i)?document.getElementById(null!==(n=i.dataset.awsuiReferrerId)&&void 0!==n?n:""):null;return lo(e,o||t)}const Co="data-analytics-funnel",bo="".concat(Co,"-interaction-id"),yo="".concat(Co,"-key"),So="".concat(Co,"-value"),xo="".concat(Co,"-step"),Do="".concat(Co,"-substep"),Eo="".concat(Co,"-resource-type"),Fo="data-analytics-modal-id",ko="data-analytics-field-label",Ao="data-analytics-field-error",Ro="data-analytics-alert",Po="funnel-name",To="substep-name",_o=()=>"[".concat(yo,'="').concat(Po,'"]'),Mo=e=>"[".concat(So,'="').concat(e,'"]'),Io=()=>"[".concat(Do,"]"),Lo=e=>"[".concat(Do,'="').concat(e,'"]'),No=e=>[e?Lo(e):"","[".concat(yo,'="').concat(To,'"]')].join(" "),Bo=e=>e?'[id="'.concat(e,'"]'):void 0,Oo=e=>{var t,n;return e?null===(n=null===(t=document.querySelector(e))||void 0===t?void 0:t.textContent)||void 0===n?void 0:n.trim():void 0},Go=(0,i.createContext)({funnelInteractionId:void 0,funnelNameSelector:_o(),setFunnelInteractionId:()=>{},funnelType:"single-page",optionalStepNumbers:[],totalFunnelSteps:0,funnelSubmit:()=>{},funnelCancel:()=>{},submissionAttempt:0,funnelNextOrSubmitAttempt:()=>{},funnelState:{current:"default"},errorCount:{current:0},loadingButtonCount:{current:0},latestFocusCleanupFunction:{current:void 0},isInFunnel:!1,wizardCount:{current:0}}),zo=(0,i.createContext)({stepNameSelector:"",stepNumber:0,subStepCount:{current:0},isInStep:!1,funnelInteractionId:void 0,onStepChange:()=>{},subStepConfiguration:{current:new Map}}),Vo=(0,i.createContext)({subStepId:"",subStepSelector:"",subStepNameSelector:"",subStepRef:{current:null},isNestedSubStep:!1,mousePressed:{current:!1},isFocusedSubStep:{current:!1},focusCleanupFunction:{current:void 0}}),Ho=(0,i.createContext)(void 0),jo=()=>{const e=(0,i.useContext)(Vo),{funnelInteractionId:t,funnelIdentifier:n,funnelState:o,latestFocusCleanupFunction:r}=Uo(),{stepNumber:s,stepIdentifier:a,stepNameSelector:l,subStepConfiguration:u}=Wo(),{subStepIdentifier:c,subStepId:d,subStepSelector:h,subStepNameSelector:p,subStepRef:g,isNestedSubStep:m,mousePressed:v,isFocusedSubStep:f,focusCleanupFunction:w}=e;if(m)return e;const C=t?{[Do]:d,onFocus:e=>Ft(void 0,void 0,void 0,function*(){var i,g,m,v;const C=e.target;if(yield new Promise(e=>setTimeout(e,1)),document.activeElement===C&&!f.current&&(f.current=!0,t&&d)){null===(i=r.current)||void 0===i||i.call(r);const e=Oo(p),d=Oo(l),f=null===(v=null===(m=null===(g=u.current)||void 0===g?void 0:g.get(s))||void 0===m?void 0:m.find(t=>t.name===e))||void 0===v?void 0:v.number;ro.funnelSubStepStart({funnelIdentifier:n,funnelInteractionId:t,subStepIdentifier:c,subStepSelector:h,subStepNameSelector:p,subStepName:e,subStepNumber:f,stepIdentifier:a,stepNumber:s,stepName:d,stepNameSelector:l,subStepAllSelector:Io()});let C=!1;w.current=()=>{var i,r,g;if(C)return;C=!0;const m=null===(g=null===(r=null===(i=u.current)||void 0===i?void 0:i.get(s))||void 0===r?void 0:r.find(t=>t.name===e))||void 0===g?void 0:g.number;"cancelled"!==o.current&&ro.funnelSubStepComplete({funnelIdentifier:n,funnelInteractionId:t,subStepIdentifier:c,subStepSelector:h,subStepNameSelector:p,subStepName:e,subStepNumber:m,stepIdentifier:a,stepNumber:s,stepName:d,stepNameSelector:l,subStepAllSelector:Io()})},r.current=w.current}}),onBlur:e=>{var n;v.current||g.current&&e.relatedTarget&&wo(g.current,e.relatedTarget)||(f.current=!1,t&&d&&"cancelled"!==o.current&&(null===(n=w.current)||void 0===n||n.call(w)))}}:{};return Object.assign({funnelSubStepProps:C},e)},Wo=()=>(0,i.useContext)(zo),Uo=()=>{const e=(0,i.useContext)(Go),t=e.funnelInteractionId?{[bo]:e.funnelInteractionId}:{};return Object.assign({funnelProps:t},e)};function Ko(e){let{container:t,getContainer:n,removeContainer:o,children:r}=e;const[s,a]=(0,i.useState)(null!==t&&void 0!==t?t:null);return(0,i.useLayoutEffect)(()=>{if(!t)return n&&o?function(e,t,n){let i;return e().then(e=>{i=e,n(e)},e=>{console.warn("[AwsUi] [portal]: failed to load portal root",e)}),()=>{t(i)}}(n,o,a):function(e){const t=document.createElement("div");return document.body.appendChild(t),e(t),()=>{document.body.removeChild(t)}}(a);a(t)},[t,n,o]),s&&(0,an.createPortal)(r,s)}const qo={arrow:"awsui_arrow_xjuzf_1ao80_153","arrow-outer":"awsui_arrow-outer_xjuzf_1ao80_157","arrow-inner":"awsui_arrow-inner_xjuzf_1ao80_157","arrow-position-right-top":"awsui_arrow-position-right-top_xjuzf_1ao80_199","arrow-position-right-bottom":"awsui_arrow-position-right-bottom_xjuzf_1ao80_199","arrow-position-left-top":"awsui_arrow-position-left-top_xjuzf_1ao80_202","arrow-position-left-bottom":"awsui_arrow-position-left-bottom_xjuzf_1ao80_202","arrow-position-top-center":"awsui_arrow-position-top-center_xjuzf_1ao80_205","arrow-position-top-right":"awsui_arrow-position-top-right_xjuzf_1ao80_205","arrow-position-top-left":"awsui_arrow-position-top-left_xjuzf_1ao80_205","arrow-position-top-responsive":"awsui_arrow-position-top-responsive_xjuzf_1ao80_205","arrow-position-bottom-center":"awsui_arrow-position-bottom-center_xjuzf_1ao80_208","arrow-position-bottom-right":"awsui_arrow-position-bottom-right_xjuzf_1ao80_208","arrow-position-bottom-left":"awsui_arrow-position-bottom-left_xjuzf_1ao80_208","arrow-position-bottom-responsive":"awsui_arrow-position-bottom-responsive_xjuzf_1ao80_208",body:"awsui_body_xjuzf_1ao80_220","body-overflow-visible":"awsui_body-overflow-visible_xjuzf_1ao80_256","body-variant-chart":"awsui_body-variant-chart_xjuzf_1ao80_259","has-dismiss":"awsui_has-dismiss_xjuzf_1ao80_264",dismiss:"awsui_dismiss_xjuzf_1ao80_269","dismiss-control":"awsui_dismiss-control_xjuzf_1ao80_277","header-row":"awsui_header-row_xjuzf_1ao80_281",header:"awsui_header_xjuzf_1ao80_281",content:"awsui_content_xjuzf_1ao80_306","content-overflow-visible":"awsui_content-overflow-visible_xjuzf_1ao80_315",container:"awsui_container_xjuzf_1ao80_327","container-arrow-position-bottom-left":"awsui_container-arrow-position-bottom-left_xjuzf_1ao80_338","container-arrow-position-bottom-center":"awsui_container-arrow-position-bottom-center_xjuzf_1ao80_338","container-arrow-position-bottom-right":"awsui_container-arrow-position-bottom-right_xjuzf_1ao80_338","container-arrow-position-top-left":"awsui_container-arrow-position-top-left_xjuzf_1ao80_343","container-arrow-position-top-center":"awsui_container-arrow-position-top-center_xjuzf_1ao80_343","container-arrow-position-top-right":"awsui_container-arrow-position-top-right_xjuzf_1ao80_343","container-arrow-position-right-top":"awsui_container-arrow-position-right-top_xjuzf_1ao80_348","container-arrow-position-right-bottom":"awsui_container-arrow-position-right-bottom_xjuzf_1ao80_348","container-arrow-position-left-top":"awsui_container-arrow-position-left-top_xjuzf_1ao80_353","container-arrow-position-left-bottom":"awsui_container-arrow-position-left-bottom_xjuzf_1ao80_353","container-body":"awsui_container-body_xjuzf_1ao80_359","container-body-variant-annotation":"awsui_container-body-variant-annotation_xjuzf_1ao80_399","container-body-size-small":"awsui_container-body-size-small_xjuzf_1ao80_404","fixed-width":"awsui_fixed-width_xjuzf_1ao80_407","container-body-size-medium":"awsui_container-body-size-medium_xjuzf_1ao80_411","container-body-size-large":"awsui_container-body-size-large_xjuzf_1ao80_418","container-arrow":"awsui_container-arrow_xjuzf_1ao80_338","container-arrow-position-top-responsive":"awsui_container-arrow-position-top-responsive_xjuzf_1ao80_468","awsui-motion-fade-in":"awsui_awsui-motion-fade-in_xjuzf_1ao80_1",refresh:"awsui_refresh_xjuzf_1ao80_526",root:"awsui_root_xjuzf_1ao80_548","no-wrap":"awsui_no-wrap_xjuzf_1ao80_580","root-filtering-token":"awsui_root-filtering-token_xjuzf_1ao80_584",trigger:"awsui_trigger_xjuzf_1ao80_588","overflow-ellipsis":"awsui_overflow-ellipsis_xjuzf_1ao80_595","trigger-type-text-inline":"awsui_trigger-type-text-inline_xjuzf_1ao80_603","trigger-type-text":"awsui_trigger-type-text_xjuzf_1ao80_603","trigger-type-filtering-token":"awsui_trigger-type-filtering-token_xjuzf_1ao80_671","popover-inline-content":"awsui_popover-inline-content_xjuzf_1ao80_675","hover-area":"awsui_hover-area_xjuzf_1ao80_679"},Yo=i.memo(e=>{const t=Cn();return i.createElement("div",{className:Gn(qo.arrow,e.position&&qo["arrow-position-".concat(e.position)])},i.createElement("div",{className:qo["arrow-outer"]}),i.createElement("div",{className:Gn(qo["arrow-inner"],t&&qo.refresh)}))}),Zo="awsui_root_oip5a_160mh_5";function $o(e){let{focusNextCallback:t,disabled:n=!1}=e;return i.createElement("div",{className:Zo,tabIndex:n?-1:0,onFocus:t})}const Xo=["button:enabled","select:enabled","textarea:enabled","input:enabled","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]","[tabindex]","[contenteditable]","[autofocus]"].join(",");function Qo(e){return Array.prototype.slice.call(e.querySelectorAll(Xo))}function Jo(e){return Qo(e).filter(e=>-1!==e.tabIndex)}function er(e){var t;return null!==(t=Jo(e)[0])&&void 0!==t?t:null}function tr(e){var t;const n=Jo(e);return null!==(t=n[n.length-1])&&void 0!==t?t:null}const nr=i.forwardRef(function(e,t){let{className:n,disabled:o,autoFocus:r,restoreFocus:s,children:a}=e;const l=(0,i.useRef)(null),u=(0,i.useRef)(null),c=()=>{var e;u.current&&(null===(e=er(u.current))||void 0===e||e.focus())};(0,i.useEffect)(()=>{r&&!o&&(l.current=document.activeElement,c())},[r,o]);const[d,h]=(0,i.useState)(!!o);(0,i.useEffect)(()=>{var e;d!==!!o&&(h(!!o),s&&o&&(null===(e=l.current)||void 0===e||e.focus(),l.current=null))},[d,o,s]);const p=(0,i.useCallback)(e=>{var t;null===e&&s&&(null===(t=l.current)||void 0===t||t.focus(),l.current=null)},[s]);(0,i.useImperativeHandle)(t,()=>({focusFirst:c}));const g=Tt(u,p);return i.createElement(i.Fragment,null,i.createElement($o,{disabled:o,focusNextCallback:()=>{var e;u.current&&(null===(e=tr(u.current))||void 0===e||e.focus())}}),i.createElement("div",{className:n,ref:g},a),i.createElement($o,{disabled:o,focusNextCallback:c}))});var ir;function or(e){let{dismissButton:t,dismissAriaLabel:n,header:o,children:r,onDismiss:s,variant:a,overflowVisible:l,className:u,ariaLabelledby:c,closeAnalyticsAction:d}=e;const h=Mt("popover"),p=Yi("awsui-popover-"),g=(0,i.useRef)(!1),m=(0,i.useRef)(null),v=(0,i.useCallback)(e=>{e.keyCode===ir.escape&&(e.stopPropagation(),null===s||void 0===s||s())},[s]);(0,i.useEffect)(()=>{var e;t&&!g.current&&(null===(e=m.current)||void 0===e||e.focus({preventScroll:!0})),g.current=t},[t]);const f=(null!==t&&void 0!==t?t:null)&&i.createElement("div",Object.assign({className:qo.dismiss},d?Qi({action:d}):{}),i.createElement(Ds,{variant:"icon",formAction:"none",iconName:"close",className:qo["dismiss-control"],ariaLabel:h("dismissAriaLabel",n),onClick:()=>null===s||void 0===s?void 0:s(),ref:m})),w=t&&"annotation"!==a,C=t?{role:"dialog","aria-labelledby":null!==c&&void 0!==c?c:o?p:void 0}:{};return i.createElement("div",Object.assign({className:Gn(qo.body,qo["body-variant-".concat(a)],u,{[qo["body-overflow-visible"]]:"both"===l}),onKeyDown:v},C),i.createElement(nr,{disabled:!w,autoFocus:!1},o&&i.createElement("div",{className:Gn(qo["header-row"],t&&qo["has-dismiss"])},f,i.createElement("div",{className:qo.header,id:p},i.createElement("h2",null,o))),i.createElement("div",{className:!o&&t?qo["has-dismiss"]:void 0},!o&&f,i.createElement("div",{className:Gn(qo.content,{[qo["content-overflow-visible"]]:!!l})},r))))}function rr(e){return!!e&&"rtl"===getComputedStyle(e).direction}function sr(e){return rr(e)?-1*Math.floor(e.scrollLeft):Math.ceil(e.scrollLeft)}function ar(e,t){return t?document.documentElement.clientWidth-e.clientX:e.clientX}function lr(e){const t=e.getBoundingClientRect(),n=t.height,i=t.width,o=t.top,r=t.bottom,s=rr(e)?document.documentElement.clientWidth-t.right:t.left;return{blockSize:n,inlineSize:i,insetBlockStart:o,insetBlockEnd:r,insetInlineStart:s,insetInlineEnd:s+i}}function ur(e){return e.target instanceof HTMLElement&&rr(e.target)?document.documentElement.clientWidth-e.pageX:e.pageX}!function(e){e[e.pageUp=33]="pageUp",e[e.pageDown=34]="pageDown",e[e.end=35]="end",e[e.home=36]="home",e[e.backspace=8]="backspace",e[e.space=32]="space",e[e.down=40]="down",e[e.left=37]="left",e[e.right=39]="right",e[e.up=38]="up",e[e.escape=27]="escape",e[e.enter=13]="enter",e[e.tab=9]="tab"}(ir||(ir={}));const cr=e=>{const t=[];let n=e;for(;(n=n.parentElement)&&n!==e.ownerDocument.body;)"visible"!==getComputedStyle(n).overflow&&t.push(n);return t},dr=e=>{let{element:t,excludeClosestParent:n=!1,expandToViewport:i=!1,canExpandOutsideViewport:o=!1}=e;var r,s,a,l,u;const c=i?[]:cr(t).map(e=>{const{height:t,width:n,top:i,left:r}=e.getBoundingClientRect();return{blockSize:o?e.scrollHeight:t,inlineSize:n,insetBlockStart:i,insetInlineStart:r}});if(o&&!i){const e=t.ownerDocument,n=e.documentElement.getBoundingClientRect();c.push({inlineSize:Math.max(n.width,e.documentElement.clientWidth),blockSize:Math.max(n.height,e.documentElement.clientHeight),insetBlockStart:n.top,insetInlineStart:n.left})}else{const e=null!==(r=t.ownerDocument.defaultView)&&void 0!==r?r:window;c.push({blockSize:null!==(a=null===(s=e.visualViewport)||void 0===s?void 0:s.height)&&void 0!==a?a:e.innerHeight,inlineSize:null!==(u=null===(l=e.visualViewport)||void 0===l?void 0:l.width)&&void 0!==u?u:e.innerWidth,insetBlockStart:0,insetInlineStart:0})}return n&&!i&&c.shift(),c};function hr(e){let{insetBlockStart:t,blockSize:n}=e;return t<0?t:t+n>window.innerHeight?n>window.innerHeight?t:t+n-window.innerHeight:0}function pr(e){return sn(e,e=>e.scrollHeight>e.clientHeight&&["scroll","auto"].includes(getComputedStyle(e).overflowY))||void 0}const gr=12,mr={top:["top-center","top-right","top-left","bottom-center","bottom-right","bottom-left","right-top","right-bottom","left-top","left-bottom"],bottom:["bottom-center","bottom-right","bottom-left","top-center","top-right","top-left","right-top","right-bottom","left-top","left-bottom"],left:["left-top","left-bottom","right-top","right-bottom","bottom-center","top-center","bottom-left","top-left","bottom-right","top-right"],right:["right-top","right-bottom","left-top","left-bottom","bottom-center","top-center","bottom-right","top-right","bottom-left","top-left"]},vr={"top-center":e=>{let{body:t,trigger:n,arrow:i}=e;return{insetBlockStart:n.insetBlockStart-t.blockSize-i.blockSize,insetInlineStart:n.insetInlineStart+n.inlineSize/2-t.inlineSize/2,inlineSize:t.inlineSize,blockSize:t.blockSize}},"top-right":e=>{let{body:t,trigger:n,arrow:i}=e;return{insetBlockStart:n.insetBlockStart-t.blockSize-i.blockSize,insetInlineStart:n.insetInlineStart+n.inlineSize/2-gr-i.inlineSize/2,inlineSize:t.inlineSize,blockSize:t.blockSize}},"top-left":e=>{let{body:t,trigger:n,arrow:i}=e;return{insetBlockStart:n.insetBlockStart-t.blockSize-i.blockSize,insetInlineStart:n.insetInlineStart+n.inlineSize/2+gr+i.inlineSize/2-t.inlineSize,inlineSize:t.inlineSize,blockSize:t.blockSize}},"bottom-center":e=>{let{body:t,trigger:n,arrow:i}=e;return{insetBlockStart:n.insetBlockStart+n.blockSize+i.blockSize,insetInlineStart:n.insetInlineStart+n.inlineSize/2-t.inlineSize/2,inlineSize:t.inlineSize,blockSize:t.blockSize}},"bottom-right":e=>{let{body:t,trigger:n,arrow:i}=e;return{insetBlockStart:n.insetBlockStart+n.blockSize+i.blockSize,insetInlineStart:n.insetInlineStart+n.inlineSize/2-gr-i.inlineSize/2,inlineSize:t.inlineSize,blockSize:t.blockSize}},"bottom-left":e=>{let{body:t,trigger:n,arrow:i}=e;return{insetBlockStart:n.insetBlockStart+n.blockSize+i.blockSize,insetInlineStart:n.insetInlineStart+n.inlineSize/2+gr+i.inlineSize/2-t.inlineSize,inlineSize:t.inlineSize,blockSize:t.blockSize}},"right-top":e=>{let{body:t,trigger:n,arrow:i}=e;return{insetBlockStart:n.insetBlockStart+n.blockSize/2-gr-i.blockSize,insetInlineStart:n.insetInlineStart+n.inlineSize+i.blockSize,inlineSize:t.inlineSize,blockSize:t.blockSize}},"right-bottom":e=>{let{body:t,trigger:n,arrow:i}=e;return{insetBlockStart:n.insetBlockStart+n.blockSize/2-t.blockSize+gr+i.blockSize,insetInlineStart:n.insetInlineStart+n.inlineSize+i.blockSize,inlineSize:t.inlineSize,blockSize:t.blockSize}},"left-top":e=>{let{body:t,trigger:n,arrow:i}=e;return{insetBlockStart:n.insetBlockStart+n.blockSize/2-gr-i.blockSize,insetInlineStart:n.insetInlineStart-t.inlineSize-i.blockSize,inlineSize:t.inlineSize,blockSize:t.blockSize}},"left-bottom":e=>{let{body:t,trigger:n,arrow:i}=e;return{insetBlockStart:n.insetBlockStart+n.blockSize/2-t.blockSize+gr+i.blockSize,insetInlineStart:n.insetInlineStart-t.inlineSize-i.blockSize,inlineSize:t.inlineSize,blockSize:t.blockSize}}};function fr(e,t){let{insetInlineStart:n,inlineSize:i,insetBlockStart:o,blockSize:r}=e;return n<t.insetInlineStart?(i=n+i-t.insetInlineStart,n=t.insetInlineStart):n+i>t.insetInlineStart+t.inlineSize&&(i=t.insetInlineStart+t.inlineSize-n),o<t.insetBlockStart?(r=o+r-t.insetBlockStart,o=t.insetBlockStart):o+r>t.insetBlockStart+t.blockSize&&(r=t.insetBlockStart+t.blockSize-o),{insetInlineStart:n,inlineSize:i,insetBlockStart:o,blockSize:r}}function wr(e){let t=null;for(const n of e){if(!t){t=n;continue}const e=Math.max(t.insetInlineStart,n.insetInlineStart),i=Math.max(t.insetBlockStart,n.insetBlockStart),o=Math.min(t.insetInlineStart+t.inlineSize,n.insetInlineStart+n.inlineSize),r=Math.min(t.insetBlockStart+t.blockSize,n.insetBlockStart+n.blockSize);if(o<e||r<i)return null;t={insetInlineStart:e,insetBlockStart:i,inlineSize:o-e,blockSize:r-i}}return t}function Cr(e,t){return(null===t||void 0===t?void 0:t.visibleArea)?e.visibleArea?e.visibleArea.inlineSize===t.visibleArea.inlineSize?e.visibleArea.blockSize>t.visibleArea.blockSize?e:t:e.visibleArea.inlineSize>t.visibleArea.inlineSize?e:t:t:e}function br(e){let{popoverRef:t,bodyRef:n,arrowRef:o,getTrack:r,contentRef:s,allowScrollToFit:a,allowVerticalOverflow:l,preferredPosition:u,renderWithPortal:c,keepPosition:d,hideOnOverscroll:h,minVisibleBlockSize:p}=e;const g=(0,i.useRef)(null),[m,v]=(0,i.useState)({}),[f,w]=(0,i.useState)(null),[C,b]=(0,i.useState)(!1),y=(0,i.useRef)(()=>{}),S=(0,i.useRef)(null),x=(0,i.useCallback)(function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];var i;const m=r();if(!m||!t.current||!n.current||!s.current||!o.current)return;const f=t.current,C=n.current,x=o.current,D=f.ownerDocument,{offsetWidth:E,offsetHeight:F}={offsetHeight:(k=f).offsetHeight,offsetWidth:k.offsetWidth};var k;if(0===E||0===F||!lo(D.body,m))return;const A=f.style.insetBlockStart,R=f.style.insetInlineStart;f.style.insetBlockStart="0",f.style.insetInlineStart="0",C.style.maxBlockSize="",C.style.overflowX="",C.style.overflowY="";const P=function(e){var t,n,i,o;return{insetBlockStart:0,insetInlineStart:0,inlineSize:null!==(n=null===(t=e.visualViewport)||void 0===t?void 0:t.width)&&void 0!==n?n:e.innerWidth,blockSize:null!==(o=null===(i=e.visualViewport)||void 0===i?void 0:i.height)&&void 0!==o?o:e.innerHeight}}(D.defaultView),T=lr(m),_=function(e){const t=getComputedStyle(e);return{inlineSize:parseFloat(t.inlineSize),blockSize:parseFloat(t.blockSize)}}(x),{containingBlock:M,boundary:I}=function(e){let{startElement:t,tests:n}=e;const i=Object.keys(n),o={};let r=t;for(;r&&Object.keys(o).length<i.length;){for(r=r.parentElement;r&&!vo(r);)r=r.parentElement;for(const e of i)!o[e]&&r&&n[e](r)&&(o[e]=r)}return o}({startElement:f,tests:{containingBlock:ho,boundary:e=>ho(e)||function(e){const t=getComputedStyle(e);return!!t.clipPath&&"none"!==t.clipPath}(e)}}),L=M?lr(M):P,N=I?lr(I):function(e){const{insetBlockStart:t,insetInlineStart:n}=lr(e.documentElement);return{insetBlockStart:t,insetInlineStart:n,inlineSize:e.documentElement.scrollWidth,blockSize:e.documentElement.scrollHeight}}(D),B=function(e){return parseInt(getComputedStyle(e).borderWidth)||0}(C),O=lr(s.current),G={inlineSize:O.inlineSize+2*B,blockSize:O.blockSize+2*B},z=d&&e&&!!g.current,V=null!==(i=z&&g.current)&&void 0!==i?i:void 0,{scrollable:H,internalPosition:j,rect:W}=function(e){let{preferredPosition:t,fixedInternalPosition:n,trigger:i,arrow:o,body:r,container:s,viewport:a,renderWithPortal:l,allowVerticalOverflow:u,minVisibleBlockSize:c}=e,d=null;const h=n?[n]:mr[t];for(const b of h){const e=vr[b]({body:r,trigger:i,arrow:o}),t=wr(l?[e,a]:[e,a,s]),n=void 0===c?t&&t.blockSize===r.blockSize:t&&t.blockSize>=Math.min(r.blockSize,c),u=t&&t.inlineSize===r.inlineSize;if(n&&u){const n=t&&t.blockSize<r.blockSize;return{internalPosition:b,rect:n?fr(e,a):e,scrollable:n}}d=Cr({rect:e,internalPosition:b,visibleArea:t},d)}const p=(null===d||void 0===d?void 0:d.internalPosition)||"right-top",g=vr[p]({body:r,trigger:i,arrow:o}),m=(f=s,(v=a).blockSize>=f.blockSize?v:f);var v,f;const w=u&&function(e){return["top","bottom"].includes(e.split("-")[0])}(p)?{insetBlockStart:m.insetBlockStart,blockSize:m.blockSize,insetInlineStart:a.insetInlineStart,inlineSize:a.inlineSize}:a,C=fr(g,w);return{internalPosition:p,rect:C,scrollable:C.blockSize<g.blockSize}}({preferredPosition:u,fixedInternalPosition:V,trigger:T,arrow:_,body:G,container:N,viewport:P,renderWithPortal:c,allowVerticalOverflow:l,minVisibleBlockSize:p}),U=yr(W,L),K=yr(U,yr(T,L));f.style.insetBlockStart=A,f.style.insetInlineStart=R,H&&(C.style.maxBlockSize=W.blockSize+"px",C.style.overflowX="hidden",C.style.overflowY="auto"),g.current=j,w(j);const q=a&&!z,Y=q?U.insetBlockStart+hr(W):U.insetBlockStart;if(v({insetBlockStart:Y,insetInlineStart:U.insetInlineStart}),q){!function(e,t){const n=hr(e);n&&(t||window).scrollBy(0,n)}(W,pr(f))}if(h&&m instanceof HTMLElement){const e=pr(m);e&&(S.current=lr(e))}y.current=()=>{const e=r();if(!e)return;const t=lr(e),n=yr(t,M?lr(M):P);v({insetBlockStart:n.insetBlockStart+K.insetBlockStart,insetInlineStart:n.insetInlineStart+K.insetInlineStart}),h&&S.current&&b(function(e,t){const n=e.insetBlockStart+e.blockSize/2,i=n<t.insetBlockStart,o=n>t.insetBlockEnd;return i||o}(t,S.current))}},[r,t,n,s,o,d,u,c,l,a,h,p]);return{updatePositionHandler:x,popoverStyle:m,internalPosition:f,positionHandlerRef:y,isOverscrolling:C}}function yr(e,t){return{insetBlockStart:e.insetBlockStart-t.insetBlockStart,insetInlineStart:e.insetInlineStart-t.insetInlineStart}}function Sr(e){let{position:t,trackRef:n,getTrack:o,trackKey:r,minVisibleBlockSize:s,arrow:a,children:l,zIndex:u,renderWithPortal:c,size:d,fixedWidth:h,variant:p,keepPosition:g,allowScrollToFit:m,allowVerticalOverflow:v,hideOnOverscroll:f,hoverArea:w,className:C}=e;const b=(0,i.useRef)(null),y=(0,i.useRef)(null),S=(0,i.useRef)(null),x=(0,i.useRef)(null),D=Cn(),E=(0,i.useRef)(()=>{if(n)return n.current;if(o)return o();throw new Error("Invariant violation: must provide either trackRef or getTrack.")}),{updatePositionHandler:F,popoverStyle:k,internalPosition:A,positionHandlerRef:R,isOverscrolling:P}=br({popoverRef:S,bodyRef:b,arrowRef:x,getTrack:E.current,contentRef:y,allowScrollToFit:m,allowVerticalOverflow:v,preferredPosition:t,renderWithPortal:c,keepPosition:g,hideOnOverscroll:f,minVisibleBlockSize:s});return(0,i.useLayoutEffect)(()=>{F()},[F,r]),ki(y,()=>{F(!0)}),function(e,t,n){const o=un(n);(0,i.useEffect)(()=>{if(!(null===e||void 0===e?void 0:e.current))return;let n=t,i={x:e.current.getBoundingClientRect().x,y:e.current.getBoundingClientRect().y};const r=new MutationObserver(()=>{if(!e.current)return;const{x:r,y:s}=e.current.getBoundingClientRect();r===i.x&&s===i.y&&t===n||(n=t,i={x:r,y:s},o())});return r.observe(e.current.ownerDocument,{attributes:!0,subtree:!0,childList:!0}),()=>r.disconnect()},[e,o])}(n,r,()=>{const e=S.current&&lr(S.current);g||!e||e.insetBlockStart<0||e.insetBlockEnd>window.innerHeight||R.current()}),(0,i.useLayoutEffect)(()=>{const e=new AbortController;return window.addEventListener("resize",()=>requestAnimationFrame(()=>F(!0)),{signal:e.signal}),window.addEventListener("scroll",()=>requestAnimationFrame(()=>R.current()),{capture:!0,signal:e.signal}),()=>{e.abort()}},[f,g,R,n,F]),P?null:i.createElement("div",{ref:S,style:Object.assign(Object.assign({},k),{zIndex:u}),className:Gn(qo.container,D&&qo.refresh,C)},i.createElement("div",{ref:x,className:Gn(qo["container-arrow"],qo["container-arrow-position-".concat(A)]),"aria-hidden":!0},a(A)),i.createElement("div",{ref:b,className:Gn(qo["container-body"],qo["container-body-size-".concat(d)],{[qo["fixed-width"]]:h,[qo["container-body-variant-".concat(p)]]:p})},w?i.createElement("div",{className:qo["hover-area"]},i.createElement("div",{ref:y},l)):i.createElement("div",{ref:y},l)))}function xr(e,t){return xr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},xr(e,t)}function Dr(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,xr(e,t)}const Er=!1,Fr=i.createContext(null);var kr=function(e){return e.scrollTop},Ar="unmounted",Rr="exited",Pr="entering",Tr="entered",_r="exiting",Mr=function(e){function t(t,n){var i;i=e.call(this,t,n)||this;var o,r=n&&!n.isMounting?t.enter:t.appear;return i.appearStatus=null,t.in?r?(o=Rr,i.appearStatus=Pr):o=Tr:o=t.unmountOnExit||t.mountOnEnter?Ar:Rr,i.state={status:o},i.nextCallback=null,i}Dr(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===Ar?{status:Rr}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==Pr&&n!==Tr&&(t=Pr):n!==Pr&&n!==Tr||(t=_r)}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,i=this.props.timeout;return e=t=n=i,null!=i&&"number"!==typeof i&&(e=i.exit,t=i.enter,n=void 0!==i.appear?i.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===Pr){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:an.findDOMNode(this);n&&kr(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Rr&&this.setState({status:Ar})},n.performEnter=function(e){var t=this,n=this.props.enter,i=this.context?this.context.isMounting:e,o=this.props.nodeRef?[i]:[an.findDOMNode(this),i],r=o[0],s=o[1],a=this.getTimeouts(),l=i?a.appear:a.enter;!e&&!n||Er?this.safeSetState({status:Tr},function(){t.props.onEntered(r)}):(this.props.onEnter(r,s),this.safeSetState({status:Pr},function(){t.props.onEntering(r,s),t.onTransitionEnd(l,function(){t.safeSetState({status:Tr},function(){t.props.onEntered(r,s)})})}))},n.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),i=this.props.nodeRef?void 0:an.findDOMNode(this);t&&!Er?(this.props.onExit(i),this.safeSetState({status:_r},function(){e.props.onExiting(i),e.onTransitionEnd(n.exit,function(){e.safeSetState({status:Rr},function(){e.props.onExited(i)})})})):this.safeSetState({status:Rr},function(){e.props.onExited(i)})},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(i){n&&(n=!1,t.nextCallback=null,e(i))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:an.findDOMNode(this),i=null==e&&!this.props.addEndListener;if(n&&!i){if(this.props.addEndListener){var o=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],r=o[0],s=o[1];this.props.addEndListener(r,s)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},n.render=function(){var e=this.state.status;if(e===Ar)return null;var t=this.props,n=t.children,o=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,r(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return i.createElement(Fr.Provider,{value:null},"function"===typeof n?n(e,o):i.cloneElement(i.Children.only(n),o))},t}(i.Component);function Ir(){}Mr.contextType=Fr,Mr.propTypes={},Mr.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Ir,onEntering:Ir,onEntered:Ir,onExit:Ir,onExiting:Ir,onExited:Ir},Mr.UNMOUNTED=Ar,Mr.EXITED=Rr,Mr.ENTERING=Pr,Mr.ENTERED=Tr,Mr.EXITING=_r;const Lr=Mr;function Nr(e){var{in:t,children:n,exit:o=!0,onStatusChange:r=()=>{},disabled:s=!1,transitionChangeDelay:a}=e,l=Et(e,["in","children","exit","onStatusChange","disabled","transitionChangeDelay"]);const u=(0,i.useRef)(null),[c,d]=(0,i.useState)(t?"entered":"exited"),h=vn(u)||s,p=(0,i.useCallback)(e=>{const t=u.current;if(null===t)return;const n=new AbortController,i=i=>{i.target===t&&(n.abort(),e())};t.addEventListener("transitionend",i,{signal:n.signal}),t.addEventListener("animationend",i,{signal:n.signal})},[]);return i.createElement(Lr,Object.assign({addEndListener:p,timeout:h?0:void 0,in:t,nodeRef:u,exit:o,onEnter:e=>{e||(d("enter"),r("enter"))},onEntering:e=>{var t;e||(null===(t=u.current)||void 0===t||t.offsetHeight,(null===a||void 0===a?void 0:a.entering)?setTimeout(()=>{d("entering"),r("entering")},null===a||void 0===a?void 0:a.entering):(d("entering"),r("entering")))},onEntered:e=>{e||(d("entered"),r("entered"))},onExit:()=>{d("exit"),r("exit")},onExiting:()=>{d("exiting"),r("exiting")},onExited:()=>{d("exited"),r("exited")}},l),()=>n(c,u))}const Br="awsui_root_1qprf_160mh_5";function Or(e){let{value:t,trackRef:n,trackKey:o,className:r,contentAttributes:s={},position:a="top",size:l="small",hideOnOverscroll:u,onDismiss:c}=e;return o||"string"!==typeof t&&"number"!==typeof t||(o=t),(0,i.useEffect)(()=>{const e=new AbortController;return window.addEventListener("keydown",e=>{"Escape"===e.key&&(e.stopPropagation(),null===c||void 0===c||c())},{capture:!0,signal:e.signal}),()=>{e.abort()}},[c]),i.createElement(Ko,null,i.createElement("div",Object.assign({className:Br},s,{"data-testid":o}),i.createElement(Nr,{in:!0},()=>i.createElement(Sr,{trackRef:n,trackKey:o,size:l,fixedWidth:!1,position:a,zIndex:7e3,arrow:e=>i.createElement(Yo,{position:e}),hideOnOverscroll:u,className:r},i.createElement(or,{dismissButton:!1,dismissAriaLabel:void 0,onDismiss:void 0,header:void 0},t)))))}const Gr=(0,i.createContext)({onClick:()=>{}});const zr={navigationActive:!1,registerFocusable:()=>()=>{}},Vr=(0,i.createContext)(zr);function Hr(e,t){var n;const{navigationActive:o,registerFocusable:r}=(0,i.useContext)(Vr),[s,a]=(0,i.useState)(!1),l=(null===t||void 0===t?void 0:t.tabIndex)&&(null===t||void 0===t?void 0:t.tabIndex)<0,u=o&&!l;(0,i.useLayoutEffect)(()=>{if(u&&e&&e.current){const t=r(e.current,e=>a(e));return()=>t()}});let c=null===t||void 0===t?void 0:t.tabIndex;return u&&(c=s?null!==(n=null===t||void 0===t?void 0:t.tabIndex)&&void 0!==n?n:0:-1),{navigationActive:u,tabIndex:c}}const jr=(0,i.forwardRef)((e,t)=>{let{navigationActive:n,children:o,getNextFocusTarget:r,isElementSuppressed:s,onRegisterFocusable:a,onUnregisterActive:l}=e;const u=(0,i.useRef)(new Set),c=(0,i.useRef)(new Map),d=(0,i.useRef)(new WeakMap),h=(0,i.useRef)(null);function p(e){wo(e,document.activeElement)&&setTimeout(()=>null===l||void 0===l?void 0:l(e),0)}function g(){var e;h.current=r();for(const t of u.current){const n=null!==(e=d.current.get(t))&&void 0!==e&&e,i=h.current===t||!!(null===s||void 0===s?void 0:s(t));i!==n&&(d.current.set(t,i),c.current.get(t)(i))}}function m(){return h.current}function v(e){return u.current.has(e)}return(0,i.useImperativeHandle)(t,()=>({updateFocusTarget:g,getFocusTarget:m,isRegistered:v})),i.createElement(Vr.Provider,{value:{navigationActive:n,registerFocusable:function(e,t){u.current.add(e),c.current.set(e,t);const n=!!d.current.get(e),i=h.current===e||!!(null===s||void 0===s?void 0:s(e));return i!==n&&(d.current.set(e,i),t(i)),null===a||void 0===a||a(e),()=>function(e){u.current.delete(e),c.current.delete(e),null===p||void 0===p||p(e)}(e)}}},o)});function Wr(e,t){(0,i.useImperativeHandle)(e,()=>({focus(){var e;null===(e=t.current)||void 0===e||e.focus(...arguments)}}),[t])}function Ur(e){const t=Yi();return{targetProps:{"aria-describedby":e?t:void 0},descriptionEl:e?i.createElement("span",{id:t,hidden:!0},e):null,descriptionId:t}}const Kr=(0,i.createContext)({isInModal:!1,componentLoadingCount:{current:0},emitTimeToContentReadyInModal:()=>{}}),qr=()=>(0,i.useContext)(Kr);function Yr(e,t,n){const o=(0,i.useRef)();return(0,i.useEffect)(()=>{var i;o.current=n,null===(i=e.current)||void 0===i||i.setAttribute(t,n)},[t,n,e]),{[t]:o.current}}function Zr(e,t){const n=(0,i.useRef)(!0);(0,i.useEffect)(()=>{if(!n.current)return e();n.current=!1},t)}const $r=new WeakMap;function Xr(e,t){let n=e=>{n=()=>{},t(e)};$r.set(e,e=>n(e)),Qr.observe(e);const i=setTimeout(()=>n(!1),150);return()=>{clearTimeout(i),$r.delete(e),Qr.unobserve(e)}}const Qr=(Jr=function(e){var t;for(const n of e)Qr.unobserve(n.target),null===(t=$r.get(n.target))||void 0===t||t(n.isIntersecting),$r.delete(n.target)},"undefined"===typeof IntersectionObserver?{observe:()=>{},unobserve:()=>{}}:new IntersectionObserver(Jr));var Jr;const es="awsui-evaluate-component-visibility";function ts(e,t,n,o,r){const s=Ki(),{isInModal:a}=qr(),l=Yr(n,"data-analytics-performance-mark",s),u=(()=>{const[e,t]=(0,i.useState)(!1);return(0,i.useEffect)(()=>{const e=()=>{t(e=>!e)};return document.addEventListener(es,e),()=>{document.removeEventListener(es,e)}},[]),e})();return(0,i.useEffect)(()=>{if(!t()||!n.current||a)return;if(!(n.current.offsetWidth>0&&n.current.offsetHeight>0&&"hidden"!==getComputedStyle(n.current).visibility))return;const i=performance.now();return Xr(n.current,t=>{performance.mark("".concat(e,"Rendered"),{startTime:i,detail:Object.assign({source:"awsui",instanceIdentifier:s,inViewport:t},o())})})},[]),Zr(()=>{if(!t()||!n.current||a)return;if(!(n.current.offsetWidth>0&&n.current.offsetHeight>0&&"hidden"!==getComputedStyle(n.current).visibility))return;const i=performance.now();return Xr(n.current,t=>{performance.mark("".concat(e,"Updated"),{startTime:i,detail:Object.assign({source:"awsui",instanceIdentifier:s,inViewport:t},o())})})},[u,...r]),l}const ns=["javascript:void(0)","javascript:void(0);","javascript:;"];function is(e,t){if(!t)return;if(-1!==ns.indexOf(t.toLowerCase()))return;let n;try{n=new URL(t)}catch(nce){return}if("javascript:"===n.protocol)throw Pt(0,'A javascript: URL was blocked as a security precaution. The URL was "'.concat(t,'".')),new Error("A javascript: URL was blocked as a security precaution.")}const os=i.forwardRef((e,t)=>{var{tag:n,nativeAttributes:o,children:r,skipWarnings:s}=e,a=Et(e,["tag","nativeAttributes","children","skipWarnings"]);const l=n,u=Object.entries(o||{}).reduce((e,t)=>{let[n,i]=t;return"className"===n?e[n]=Gn(a.className,i):"style"===n?e[n]=Object.assign(Object.assign({},a.style),i):n.match(/^on[A-Z]/)&&"function"===typeof i&&n in a?e[n]=e=>{i(e),e.defaultPrevented||a[n](e)}:(n in a&&!s&&Pt(0,"Overriding native attribute [".concat(n,"] which has a Cloudscape-provided value")),e[n]=i),e},{});return i.createElement(l,Object.assign({},a,u,{ref:t}),r)}),rs="awsui_root_1iee7_xy9l5_145",ss="awsui_announcer_1iee7_xy9l5_153",as="awsui_root_1pc7b_1k8pp_5",ls="awsui_announcer_1pc7b_1k8pp_9";class us{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:us.defaultDelay;this.politeness=e,this.delay=t,this._addedTerminalPeriod=!1,this._nextAnnouncement="",this._element=document.createElement("div"),this._element.className="".concat(ss," ").concat(ls),this._element.setAttribute("aria-live",this.politeness),this._element.setAttribute("aria-atomic","true"),document.body.appendChild(this._element)}destroy(){var e;null===(e=this._element)||void 0===e||e.remove(),void 0!==this._timeoutId&&(clearTimeout(this._timeoutId),this._timeoutId=void 0)}announce(e){let{message:t,forceReannounce:n=!1}=e;if(t){if(this._nextAnnouncement=t.trim(),0===this.delay||n)return this._updateElement(n);void 0===this._timeoutId&&(this._timeoutId=setTimeout(()=>this._updateElement(!1),1e3*this.delay))}}_updateElement(e){this._nextAnnouncement!==this._lastAnnouncement?(this._element.textContent=this._nextAnnouncement,this._addedTerminalPeriod=!1):e&&(this._element.textContent=this._nextAnnouncement+(this._addedTerminalPeriod?"":"."),this._addedTerminalPeriod=!this._addedTerminalPeriod),this._lastAnnouncement=this._nextAnnouncement,this._timeoutId=void 0}}us.defaultDelay=2;const cs=i.forwardRef(function(e,t){var{assertive:n=!1,hidden:o=!1,tagName:r="div",delay:s,sources:a,children:l,__internalRootRef:u,className:c}=e;const d=zt(Et(e,["assertive","hidden","tagName","delay","sources","children","__internalRootRef","className"])),h=(0,i.useRef)(null),p=Tt(h,u);(0,i.useEffect)(()=>{h.current&&(h.current.inert=o)},[o]);const g=(0,i.useRef)();(0,i.useEffect)(()=>{const e=new us(n?"assertive":"polite");return g.current=e,()=>{e.destroy(),g.current=void 0}},[n]);const m=()=>a?function(e){return e.map(e=>e&&"string"!==typeof e?e.current?hs(e.current):void 0:e).filter(Boolean).join(" ")}(a):h.current?hs(h.current):void 0;return(0,i.useEffect)(()=>{var e;null===(e=g.current)||void 0===e||e.announce({message:m(),delay:s})}),(0,i.useImperativeHandle)(t,()=>({reannounce(){var e;null===(e=g.current)||void 0===e||e.announce({message:m(),delay:s,forceReannounce:!0})}})),i.createElement(r,Object.assign({ref:p},d,{className:Gn(rs,as,c),hidden:o}),l)}),ds=e=>e.nodeType===Node.TEXT_NODE?e.textContent||"":e.nodeType===Node.ELEMENT_NODE?hs(e):"";function hs(e){var t;return e&&(null===(t=null===e||void 0===e?void 0:e.childNodes)||void 0===t?void 0:t.length)?Array.from(e.childNodes,ds).join(" ").replace(/\s+/g," ").trim():""}const ps={root:"awsui_root_1612d_qli1w_183","spinner-rotator":"awsui_spinner-rotator_1612d_qli1w_1","size-normal":"awsui_size-normal_1612d_qli1w_198","size-big":"awsui_size-big_1612d_qli1w_206","size-large":"awsui_size-large_1612d_qli1w_214","variant-normal":"awsui_variant-normal_1612d_qli1w_222","variant-disabled":"awsui_variant-disabled_1612d_qli1w_225","variant-inverted":"awsui_variant-inverted_1612d_qli1w_228",circle:"awsui_circle_1612d_qli1w_240","circle-left":"awsui_circle-left_1612d_qli1w_268","spinner-line-left":"awsui_spinner-line-left_1612d_qli1w_1","circle-right":"awsui_circle-right_1612d_qli1w_273","spinner-line-right":"awsui_spinner-line-right_1612d_qli1w_1"};function gs(e){var{size:t="normal",variant:n="normal",__internalRootRef:o}=e;const r=zt(Et(e,["size","variant","__internalRootRef"]));return(()=>{const e=qr();(0,i.useEffect)(()=>{if(e.isInModal)return e.componentLoadingCount.current++,()=>{e.componentLoadingCount.current--,e.emitTimeToContentReadyInModal(performance.now())}},[])})(),i.createElement("span",Object.assign({},r,{className:Gn(r.className,ps.root,ps["size-".concat(t)],ps["variant-".concat(n)]),ref:o}),i.createElement("span",{className:Gn(ps.circle,ps["circle-left"])}),i.createElement("span",{className:Gn(ps.circle,ps["circle-right"])}))}const ms={content:"awsui_content_vjswe_1copn_153",button:"awsui_button_vjswe_1copn_157","variant-normal":"awsui_variant-normal_vjswe_1copn_206",disabled:"awsui_disabled_vjswe_1copn_227","variant-primary":"awsui_variant-primary_vjswe_1copn_235","variant-link":"awsui_variant-link_vjswe_1copn_264","variant-icon":"awsui_variant-icon_vjswe_1copn_293","variant-inline-icon":"awsui_variant-inline-icon_vjswe_1copn_322","variant-inline-icon-pointer-target":"awsui_variant-inline-icon-pointer-target_vjswe_1copn_351","variant-inline-link":"awsui_variant-inline-link_vjswe_1copn_380","variant-modal-dismiss":"awsui_variant-modal-dismiss_vjswe_1copn_413","variant-flashbar-icon":"awsui_variant-flashbar-icon_vjswe_1copn_442","variant-breadcrumb-group":"awsui_variant-breadcrumb-group_vjswe_1copn_471","variant-menu-trigger":"awsui_variant-menu-trigger_vjswe_1copn_505","button-no-text":"awsui_button-no-text_vjswe_1copn_601","button-no-wrap":"awsui_button-no-wrap_vjswe_1copn_605","full-width":"awsui_full-width_vjswe_1copn_608","icon-left":"awsui_icon-left_vjswe_1copn_630","icon-right":"awsui_icon-right_vjswe_1copn_635",icon:"awsui_icon_vjswe_1copn_630",link:"awsui_link_vjswe_1copn_654","disabled-with-reason":"awsui_disabled-with-reason_vjswe_1copn_654"};function vs(e){return"icon"===e.variant||"inline-icon"===e.variant?"left":e.iconAlign}function fs(e){var{iconName:t,iconUrl:n,iconAlt:o,iconSvg:r,iconSize:s,badge:a}=e,l=Et(e,["iconName","iconUrl","iconAlt","iconSvg","iconSize","badge"]);return t||n||r?i.createElement(oo,{className:Gn(ms.icon,ms["icon-".concat(vs(l))],l.iconClass),name:t,url:n,svg:r,alt:o,size:s,badge:a}):null}function ws(e){return e.loading?i.createElement(gs,{className:Gn(ms.icon,ms["icon-left"])}):"left"===vs(e)?i.createElement(fs,Object.assign({},e)):null}function Cs(e){return"right"===vs(e)?i.createElement(fs,Object.assign({},e)):null}const bs={maxContentWidth:"--awsui-max-content-width-kiajpc",minContentWidth:"--awsui-min-content-width-kiajpc",breadcrumbsGap:"--awsui-breadcrumbs-gap-kiajpc",contentGapLeft:"--awsui-content-gap-left-kiajpc",contentGapRight:"--awsui-content-gap-right-kiajpc",contentHeight:"--awsui-content-height-kiajpc",contentLayoutDefaultHorizontalPadding:"--awsui-content-layout-default-horizontal-padding-kiajpc",contentLayoutMaxContentWidth:"--awsui-content-layout-max-content-width-kiajpc",contentLayoutMainGap:"--awsui-content-layout-main-gap-kiajpc",defaultMaxContentWidth:"--awsui-default-max-content-width-kiajpc",defaultMinContentWidth:"--awsui-default-min-content-width-kiajpc",drawerSize:"--awsui-drawer-size-kiajpc",footerHeight:"--awsui-footer-height-kiajpc",headerGap:"--awsui-header-gap-kiajpc",headerHeight:"--awsui-header-height-kiajpc",layoutWidth:"--awsui-layout-width-kiajpc",mainGap:"--awsui-main-gap-kiajpc",mainOffsetLeft:"--awsui-main-offset-left-kiajpc",mainTemplateRows:"--awsui-main-template-rows-kiajpc",mobileBarHeight:"--awsui-mobile-bar-height-kiajpc",notificationsHeight:"--awsui-notifications-height-kiajpc",offsetTop:"--awsui-offset-top-kiajpc",overlapHeight:"--awsui-overlap-height-kiajpc",navigationWidth:"--awsui-navigation-width-kiajpc",splitPanelReportedHeaderSize:"--awsui-split-panel-reported-header-size-kiajpc",splitPanelReportedSize:"--awsui-split-panel-reported-size-kiajpc",splitPanelHeight:"--awsui-split-panel-height-kiajpc",splitPanelMinWidth:"--awsui-split-panel-min-width-kiajpc",splitPanelMaxWidth:"--awsui-split-panel-max-width-kiajpc",toolsMaxWidth:"--awsui-tools-max-width-kiajpc",toolsWidth:"--awsui-tools-width-kiajpc",toolsAnimationStartingOpacity:"--awsui-tools-animation-starting-opacity-kiajpc",contentScrollMargin:"--awsui-content-scroll-margin-kiajpc",flashbarStackDepth:"--awsui-flashbar-stack-depth-kiajpc",flashbarStackIndex:"--awsui-flashbar-stack-index-kiajpc",flashbarStickyBottomMargin:"--awsui-flashbar-sticky-bottom-margin-kiajpc",stackedNotificationsBottomMargin:"--awsui-stacked-notifications-bottom-margin-kiajpc",stackedNotificationsDefaultBottomMargin:"--awsui-stacked-notifications-default-bottom-margin-kiajpc",dropdownDefaultMaxWidth:"--awsui-dropdown-default-max-width-kiajpc",spinnerRotatorFrom:"--awsui-spinner-rotator-from-kiajpc",spinnerRotatorTo:"--awsui-spinner-rotator-to-kiajpc",spinnerLineLeftFrom:"--awsui-spinner-line-left-from-kiajpc",spinnerLineLeftTo:"--awsui-spinner-line-left-to-kiajpc",spinnerLineRightFrom:"--awsui-spinner-line-right-from-kiajpc",spinnerLineRightTo:"--awsui-spinner-line-right-to-kiajpc",sliderLabelCount:"--awsui-slider-label-count-kiajpc",sliderTickCount:"--awsui-slider-tick-count-kiajpc",sliderReferenceColumn:"--awsui-slider-reference-column-kiajpc",sliderNextReferenceColumn:"--awsui-slider-next-reference-column-kiajpc",sliderMaxStart:"--awsui-slider-max-start-kiajpc",sliderMinEnd:"--awsui-slider-min-end-kiajpc",sliderRangeInlineSize:"--awsui-slider-range-inline-size-kiajpc",sliderTooltipPosition:"--awsui-slider-tooltip-position-kiajpc",togglesLeftWidth:"--awsui-toggles-left-width-kiajpc",togglesRightWidth:"--awsui-toggles-right-width-kiajpc",promptInputMaxRows:"--awsui-prompt-input-max-rows-kiajpc",promptInputScrollHeight:"--awsui-prompt-input-scroll-height-kiajpc",dragHandleAnimationInlineOffset:"--awsui-drag-handle-animation-inline-offset-kiajpc",dragHandleAnimationBlockOffset:"--awsui-drag-handle-animation-block-offset-kiajpc",styleBackgroundActive:"--awsui-style-background-active-kiajpc",styleBackgroundDefault:"--awsui-style-background-default-kiajpc",styleBackgroundDisabled:"--awsui-style-background-disabled-kiajpc",styleBackgroundHover:"--awsui-style-background-hover-kiajpc",styleBorderColorActive:"--awsui-style-border-color-active-kiajpc",styleBorderColorDefault:"--awsui-style-border-color-default-kiajpc",styleBorderColorDisabled:"--awsui-style-border-color-disabled-kiajpc",styleBorderColorHover:"--awsui-style-border-color-hover-kiajpc",styleColorActive:"--awsui-style-color-active-kiajpc",styleColorDefault:"--awsui-style-color-default-kiajpc",styleColorDisabled:"--awsui-style-color-disabled-kiajpc",styleColorHover:"--awsui-style-color-hover-kiajpc",styleFocusRingBorderColor:"--awsui-style-focus-ring-border-color-kiajpc",styleFocusRingBorderRadius:"--awsui-style-focus-ring-border-radius-kiajpc",styleFocusRingBorderWidth:"--awsui-style-focus-ring-border-width-kiajpc",styleFocusRingBoxShadow:"--awsui-style-focus-ring-box-shadow-kiajpc",styleBoxShadowActive:"--awsui-style-box-shadow-active-kiajpc",styleBoxShadowDefault:"--awsui-style-box-shadow-default-kiajpc",styleBoxShadowDisabled:"--awsui-style-box-shadow-disabled-kiajpc",styleBoxShadowHover:"--awsui-style-box-shadow-hover-kiajpc",alertFocusRingBorderColor:"--awsui-alert-focus-ring-border-color-kiajpc",alertFocusRingBorderRadius:"--awsui-alert-focus-ring-border-radius-kiajpc",alertFocusRingBorderWidth:"--awsui-alert-focus-ring-border-width-kiajpc",alertFocusRingBoxShadow:"--awsui-alert-focus-ring-box-shadow-kiajpc"};const ys="awsui_label_1f1d4_ocied_5",Ss="awsui_disabled-reason-tooltip_1ueyk_ca6yt_5",xs="awsui_external-icon_1ueyk_ca6yt_9",Ds=i.forwardRef((e,t)=>{var n,{children:o,iconName:r,__iconClass:s,onClick:a,onFollow:l,iconAlign:u="left",iconUrl:c,iconSvg:d,iconAlt:h,variant:p="normal",loading:g=!1,loadingText:m,disabled:v=!1,disabledReason:f,wrapText:w=!0,href:C,external:b,target:y,rel:S,download:x,formAction:D="submit",ariaLabel:E,ariaDescribedby:F,ariaExpanded:k,ariaControls:A,fullWidth:R,badge:P,i18nStrings:T,style:_,nativeButtonAttributes:M,nativeAnchorAttributes:I,__internalRootRef:L,__focusable:N=!1,__injectAnalyticsComponentMetadata:B=!1,__title:O,__emitPerformanceMarks:G=!0,__skipNativeAttributesWarnings:z,analyticsAction:V="click"}=e,H=Et(e,["children","iconName","__iconClass","onClick","onFollow","iconAlign","iconUrl","iconSvg","iconAlt","variant","loading","loadingText","disabled","disabledReason","wrapText","href","external","target","rel","download","formAction","ariaLabel","ariaDescribedby","ariaExpanded","ariaControls","fullWidth","badge","i18nStrings","style","nativeButtonAttributes","nativeAnchorAttributes","__internalRootRef","__focusable","__injectAnalyticsComponentMetadata","__title","__emitPerformanceMarks","__skipNativeAttributesWarnings","analyticsAction"]);const[j,W]=(0,i.useState)(!1);is(0,C);const U=Boolean(C),K=null!==y&&void 0!==y?y:b?"_blank":void 0,q=g||v,Y=("normal"===p||"primary"===p||"icon"===p)&&!!f&&v,Z=g&&!v||v&&N||Y,$=o&&-1===["icon","inline-icon","flashbar-icon","modal-dismiss","inline-icon-pointer-target"].indexOf(p);(r||c||d)&&"right"===u&&b&&Pt();const X=(0,i.useRef)(null);Wr(t,X);const Q=(0,i.useContext)(Gr),J=Mt("button"),ee=Yi("button"),{funnelInteractionId:te}=Uo(),{stepNumber:ne,stepNameSelector:ie}=Wo(),{subStepSelector:oe,subStepNameSelector:re}=jo(),se=ts("primaryButton",()=>"primary"===p&&G&&!g&&!v,X,()=>{var e;return{loading:g,disabled:v,text:null===(e=X.current)||void 0===e?void 0:e.innerText}},[g,v]);((e,t)=>{const n=qr();(0,i.useEffect)(()=>{if(e&&n.isInModal)return t?(n.componentLoadingCount.current++,()=>{n.componentLoadingCount.current--,n.emitTimeToContentReadyInModal(performance.now())}):void 0},[t])})("primary"===p,g);const{targetProps:ae,descriptionEl:le}=Ur(f),ue=Gn(H.className,ms.button,ms["variant-".concat(p)],{[ms.disabled]:q,[ms["disabled-with-reason"]]:Y,[ms["button-no-wrap"]]:!w,[ms["button-no-text"]]:!$,[ms["full-width"]]:$&&R,[ms.link]:U}),ce=null!==(n=null===M||void 0===M?void 0:M.tabIndex)&&void 0!==n?n:null===I||void 0===I?void 0:I.tabIndex,{tabIndex:de}=Hr(X,{tabIndex:U&&q&&!Y?-1:ce}),he=v?{}:{action:V,detail:{label:{root:"self"}}};B&&(he.component={name:"awsui.Button",label:{root:"self"},properties:{variant:p,disabled:"".concat(v)}});const pe=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},H),se),{tabIndex:de,ref:Tt(X,L),"aria-label":E,"aria-describedby":F,"aria-expanded":k,"aria-controls":A,title:null!==O&&void 0!==O?O:E,className:ue,onClick:e=>{if(q)return e.preventDefault();if(U&&Ni(e)&&(Mi(l,{href:C,target:K},e),("external"===r||"_blank"===K)&&te)){const e=Oo(ie),t=Oo(re);ro.externalLinkInteracted({funnelInteractionId:te,stepNumber:ne,stepName:e,stepNameSelector:ie,subStepSelector:oe,subStepName:t,subStepNameSelector:re,elementSelector:Mo(ee),subStepAllSelector:Io()})}const{altKey:t,button:n,ctrlKey:i,metaKey:o,shiftKey:s}=e;Mi(a,{altKey:t,button:n,ctrlKey:i,metaKey:o,shiftKey:s},e),Q.onClick({variant:p})},[So]:ee}),Qi(he)),eo($?".".concat(ys):"")),ge={loading:g,iconName:r,iconAlign:u,iconUrl:c,iconSvg:d,iconAlt:h,variant:p,badge:P,iconClass:s,iconSize:"modal-dismiss"===p?"medium":"normal"},me=i.createElement(i.Fragment,null,i.createElement(ws,Object.assign({},ge)),$&&i.createElement(i.Fragment,null,i.createElement("span",{className:Gn(ms.content,ys)},o),b&&i.createElement(i.Fragment,null,"\xa0",i.createElement(oo,{name:"external",className:xs,ariaLabel:J("i18nStrings.externalIconAriaLabel",null===T||void 0===T?void 0:T.externalIconAriaLabel)}))),i.createElement(Cs,Object.assign({},ge))),{loadingButtonCount:ve}=Uo();(0,i.useEffect)(()=>{if(g)return ve.current++,()=>{ve.current--}},[g,ve]);const fe=Object.assign({onFocus:Y?()=>W(!0):void 0,onBlur:Y?()=>W(!1):void 0,onMouseEnter:Y?()=>W(!0):void 0,onMouseLeave:Y?()=>W(!1):void 0},Y?ae:{}),we=i.createElement(i.Fragment,null,le,j&&i.createElement(Or,{className:Ss,trackRef:X,value:f,onDismiss:()=>W(!1)})),Ce=void 0;if(U){const e=()=>q&&f?0:pe.tabIndex;return i.createElement(i.Fragment,null,i.createElement(os,Object.assign({tag:"a",nativeAttributes:I,skipWarnings:z},pe,{href:q?void 0:C,role:q?"link":void 0,tabIndex:e(),target:K,rel:null!==S&&void 0!==S?S:"_blank"===K?"noopener noreferrer":void 0,"aria-disabled":!!q||void 0,download:x},fe,{style:Ce}),me,Y&&we),g&&m&&i.createElement(cs,{tagName:"span",hidden:!0},m))}return i.createElement(i.Fragment,null,i.createElement(os,Object.assign({tag:"button",nativeAttributes:M,skipWarnings:z},pe,{type:"none"===D?"button":"submit",disabled:v&&!N&&!Y,"aria-disabled":!!Z||void 0},fe,{style:Ce}),me,Y&&we),g&&m&&i.createElement(cs,{tagName:"span",hidden:!0},m))}),Es=Ds,Fs="awsui_root_1fj9k_q6akd_5",ks="awsui_navigation_1fj9k_q6akd_6",As="awsui_navigation-toggle_1fj9k_q6akd_7",Rs="awsui_navigation-close_1fj9k_q6akd_8",Ps="awsui_content_1fj9k_q6akd_9",Ts="awsui_notifications_1fj9k_q6akd_10",_s="awsui_breadcrumbs_1fj9k_q6akd_11",Ms="awsui_tools_1fj9k_q6akd_12",Is="awsui_tools-close_1fj9k_q6akd_13",Ls="awsui_tools-toggle_1fj9k_q6akd_14",Ns="awsui_drawer-closed_1fj9k_q6akd_15",Bs="awsui_mobile-bar_1fj9k_q6akd_16",Os="awsui_disable-body-scroll-root_1fj9k_q6akd_17",Gs="awsui_drawers-trigger_1fj9k_q6akd_18",zs="awsui_drawers-trigger-global_1fj9k_q6akd_19",Vs="awsui_drawers-trigger-with-badge_1fj9k_q6akd_20",Hs="awsui_active-drawer_1fj9k_q6akd_21",js="awsui_active-drawer-close-button_1fj9k_q6akd_22",Ws="awsui_overflow-menu_1fj9k_q6akd_23",Us="awsui_drawers-slider_1fj9k_q6akd_24",Ks="awsui_toolbar_1fj9k_q6akd_25",qs="awsui_trigger-tooltip_1fj9k_q6akd_27",Ys="awsui_active-drawer-expanded-mode-button_1fj9k_q6akd_28",Zs="awsui_ai-drawer-toggle_1fj9k_q6akd_29",$s="awsui_active-ai-drawer-leave-expanded-mode-custom-button_1fj9k_q6akd_30",Xs="awsui_toggle-button_16w0h_1dfmp_185",Qs="awsui_close-button_16w0h_1dfmp_220",Js={navigation:{TagName:"nav",iconName:"menu",getLabels:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{mainLabel:e.navigation,openLabel:e.navigationToggle,closeLabel:e.navigationClose}}},tools:{TagName:"aside",iconName:"status-info",getLabels:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{mainLabel:e.tools,openLabel:e.toolsToggle,closeLabel:e.toolsClose}}}},ea=i.forwardRef((e,t)=>{let{className:n,ariaLabel:o,ariaExpanded:r,ariaControls:s,iconName:a,iconSvg:l,disabled:u,testId:c,onClick:d,badge:h}=e;return i.createElement("button",{ref:t,className:Gn(n,Xs,{[Vs]:h}),"aria-label":o,type:"button",onClick:d,disabled:u,"aria-expanded":r,"aria-haspopup":!r||void 0,"aria-controls":s,"data-testid":c},i.createElement(oo,{svg:l,name:a,badge:h}))}),ta=i.forwardRef((e,t)=>{let{className:n,ariaLabel:o,onClick:r}=e;return i.createElement("span",{className:Qs},i.createElement(Ds,{ref:t,className:n,ariaLabel:o,variant:"icon",formAction:"none",iconName:"close",onClick:r}))});function na(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200;return function(){for(var i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];t&&clearTimeout(t),t=setTimeout(()=>{t=null,e(...o)},n)}}function ia(e){return e.slice().sort((e,t)=>{var n,i;return t.orderPriority!==e.orderPriority?Math.sign((null!==(n=t.orderPriority)&&void 0!==n?n:0)-(null!==(i=e.orderPriority)&&void 0!==i?i:0)):t.id<e.id?1:-1})}class oa{constructor(){this.listeners=[],this.actions=[],this.scheduleUpdate=na(()=>{this.listeners.forEach(e=>e(this.actions))},0),this.registerAction=e=>{this.actions.push(e),this.actions=ia(this.actions),this.scheduleUpdate()},this.clearRegisteredActions=()=>{this.actions=[]},this.onActionRegistered=e=>(this.listeners.push(e),this.scheduleUpdate(),()=>{this.listeners=this.listeners.filter(t=>t!==e)})}installPublic(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t;return null!==(t=e.registerAction)&&void 0!==t||(e.registerAction=this.registerAction),e}installInternal(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t,n;return null!==(t=e.clearRegisteredActions)&&void 0!==t||(e.clearRegisteredActions=this.clearRegisteredActions),null!==(n=e.onActionRegistered)&&void 0!==n||(e.onActionRegistered=this.onActionRegistered),e}}function ra(e,t){console.warn("[AwsUi]","[".concat(e,"]"),t),bn.sendPanoramaMetric({eventContext:"awsui-runtime-api-warning",eventDetail:{version:Bt,component:e,message:t}})}var sa,aa,la,ua,ca,da,ha,pa,ga,ma,va,fa,wa;class Ca{constructor(){sa.set(this,[]),aa.set(this,new Map),la.set(this,void 0),ua.set(this,na(()=>kt(this,sa,"f").forEach(e=>{if(kt(this,la,"f")){const t=e(kt(this,la,"f"));kt(this,aa,"f").set(e,t)}}),0)),this.registerContentReplacer=e=>{kt(this,la,"f")?ra("alert-flash-content",'Cannot call `registerContentReplacer` with new provider: provider with id "'.concat(kt(this,la,"f").id,'" already registered.')):(At(this,la,e,"f"),kt(this,ua,"f").call(this))},this.clearRegisteredReplacer=()=>{At(this,la,void 0,"f")},this.initialCheck=e=>{var t;return!!(null===(t=kt(this,la,"f"))||void 0===t?void 0:t.initialCheck)&&kt(this,la,"f").initialCheck(e)},this.onContentRegistered=e=>{if(kt(this,la,"f")){const t=e(kt(this,la,"f"));kt(this,sa,"f").push(e),kt(this,aa,"f").set(e,t)}else kt(this,sa,"f").push(e);return()=>{var t;null===(t=kt(this,aa,"f").get(e))||void 0===t||t(),At(this,sa,kt(this,sa,"f").filter(t=>t!==e),"f"),kt(this,aa,"f").delete(e)}}}installPublic(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t;return null!==(t=e.registerContentReplacer)&&void 0!==t||(e.registerContentReplacer=this.registerContentReplacer),e}installInternal(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t,n,i;return null!==(t=e.clearRegisteredReplacer)&&void 0!==t||(e.clearRegisteredReplacer=this.clearRegisteredReplacer),null!==(n=e.onContentRegistered)&&void 0!==n||(e.onContentRegistered=this.onContentRegistered),null!==(i=e.initialCheck)&&void 0!==i||(e.initialCheck=this.initialCheck),e}}sa=new WeakMap,aa=new WeakMap,la=new WeakMap,ua=new WeakMap;class ba{constructor(){var e=this;ca.set(this,[]),da.set(this,()=>{const e=kt(this,ca,"f").find(e=>"primary"===e.forceType);if(e)return e;for(const t of kt(this,ca,"f").slice())if("secondary"!==t.forceType)return t}),ha.set(this,()=>{const e=kt(this,da,"f").call(this),t=kt(this,ca,"f").filter(t=>t!==e).map(e=>e.props);for(const n of kt(this,ca,"f"))n===e?n.onChange({type:"primary",discoveredProps:t}):n.onChange(n.secondaryInstance)}),pa.set(this,na(()=>kt(this,ha,"f").call(this),0)),this.register=(e,t)=>{const n=kt(this,ca,"f").some(e=>"primary"===e.forceType);if("primary"===e&&n)throw new Error("Double primary registration attempt");const i={forceType:e,onChange:t,props:{},secondaryInstance:{type:"secondary",update:e=>{i.props=e,kt(this,pa,"f").call(this)}}};return kt(this,ca,"f").push(i),kt(this,ha,"f").call(this),()=>{kt(this,ca,"f").splice(kt(this,ca,"f").indexOf(i),1),kt(this,pa,"f").call(this)}},this.getStateForTesting=()=>({registrations:kt(this,ca,"f")}),this.installInternal=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var n,i;return null!==(n=t.register)&&void 0!==n||(t.register=e.register),null!==(i=t.getStateForTesting)&&void 0!==i||(t.getStateForTesting=e.getStateForTesting),t}}}ca=new WeakMap,da=new WeakMap,ha=new WeakMap,pa=new WeakMap;class ya{constructor(){ga.set(this,null),ma.set(this,[]),va.set(this,[]),fa.set(this,na(()=>{var e;if(!kt(this,ga,"f"))return;const t=kt(this,ma,"f")[kt(this,ma,"f").length-1];kt(this,ga,"f").call(this,null!==(e=null===t||void 0===t?void 0:t.props)&&void 0!==e?e:null)},0)),wa.set(this,na(()=>{kt(this,va,"f").forEach(e=>e(!!kt(this,ga,"f")))},0)),this.registerAppLayout=e=>{if(!kt(this,ga,"f"))return At(this,ga,e,"f"),kt(this,wa,"f").call(this),()=>{At(this,ga,null,"f"),kt(this,wa,"f").call(this)}},this.registerBreadcrumbs=(e,t)=>{const n={props:e};return kt(this,ma,"f").push(n),kt(this,va,"f").push(t),kt(this,wa,"f").call(this),kt(this,fa,"f").call(this),{update:e=>{n.props=e,kt(this,fa,"f").call(this)},cleanup:()=>{kt(this,ma,"f").splice(kt(this,ma,"f").indexOf(n),1),kt(this,va,"f").splice(kt(this,va,"f").indexOf(t),1),kt(this,fa,"f").call(this)}}},this.getStateForTesting=()=>({appLayoutUpdateCallback:kt(this,ga,"f"),breadcrumbInstances:kt(this,ma,"f"),breadcrumbRegistrations:kt(this,va,"f")})}installInternal(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t,n,i;return null!==(t=e.registerBreadcrumbs)&&void 0!==t||(e.registerBreadcrumbs=this.registerBreadcrumbs),null!==(n=e.registerAppLayout)&&void 0!==n||(e.registerAppLayout=this.registerAppLayout),null!==(i=e.getStateForTesting)&&void 0!==i||(e.getStateForTesting=this.getStateForTesting),e}}ga=new WeakMap,ma=new WeakMap,va=new WeakMap,fa=new WeakMap,wa=new WeakMap;const Sa=["badge","resizable","defaultSize","orderPriority","defaultActive","onResize"];class xa{constructor(){this.drawers=[],this.drawersRegistrationListener=null,this.drawerOpenedListener=null,this.drawerClosedListener=null,this.drawersUpdateListeners=[],this.drawerResizeListener=null,this.scheduleUpdate=na(()=>{var e;null===(e=this.drawersRegistrationListener)||void 0===e||e.call(this,this.drawers),this.drawersUpdateListeners.forEach(e=>{null===e||void 0===e||e(this.drawers)})},0),this.registerDrawer=e=>{this.drawers.find(t=>t.id===e.id)&&ra("app-layout-drawers",'drawer with id "'.concat(e.id,'" is already registered')),this.drawers=this.drawers.concat(e),this.scheduleUpdate()},this.updateDrawer=e=>{var t,{id:n}=e,i=Et(e,["id"]);const o=this.drawers.findIndex(e=>{let{id:t}=e;return t===n}),r=null===(t=this.drawers)||void 0===t?void 0:t[o];if(!r)throw new Error("[AwsUi] [runtime drawers] drawer with id ".concat(n," not found"));const s=this.drawers.slice(),a=Object.assign({},r);for(const l of Sa)l in i&&(a[l]=i[l]);s[o]=a,this.drawers=s,this.scheduleUpdate()},this.onDrawersRegistered=e=>(null!==this.drawersRegistrationListener&&ra("app-layout-drawers","multiple app layout instances detected when calling onDrawersRegistered"),this.drawersRegistrationListener=e,this.scheduleUpdate(),()=>{this.drawersRegistrationListener=null,this.drawersUpdateListeners=[]}),this.clearRegisteredDrawers=()=>{this.drawers=[]},this.onDrawerOpened=e=>(null!==this.drawerOpenedListener&&ra("app-layout-drawers","multiple app layout instances detected when calling onDrawerOpened"),this.drawerOpenedListener=e,()=>{this.drawerOpenedListener=null}),this.onDrawerClosed=e=>(null!==this.drawerClosedListener&&ra("app-layout-drawers","multiple app layout instances detected when calling onDrawerClosed"),this.drawerClosedListener=e,()=>{this.drawerClosedListener=null}),this.openDrawer=(e,t)=>{var n;null===(n=this.drawerOpenedListener)||void 0===n||n.call(this,e,t)},this.closeDrawer=(e,t)=>{var n;null===(n=this.drawerClosedListener)||void 0===n||n.call(this,e,t)},this.onDrawersUpdated=e=>(this.drawersUpdateListeners.push(e),()=>{this.drawersUpdateListeners=this.drawersUpdateListeners.filter(t=>t!==e)}),this.onDrawerResize=e=>(null!==this.drawerResizeListener&&ra("app-layout-drawers","multiple app layout instances detected when calling onDrawerResize"),this.drawerResizeListener=e,()=>{this.drawerResizeListener=null}),this.resizeDrawer=(e,t)=>{var n;null===(n=this.drawerResizeListener)||void 0===n||n.call(this,e,t)},this.getDrawersState=()=>this.drawers}installPublic(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t,n,i,o,r;return null!==(t=e.registerDrawer)&&void 0!==t||(e.registerDrawer=this.registerDrawer),null!==(n=e.updateDrawer)&&void 0!==n||(e.updateDrawer=this.updateDrawer),null!==(i=e.openDrawer)&&void 0!==i||(e.openDrawer=this.openDrawer),null!==(o=e.closeDrawer)&&void 0!==o||(e.closeDrawer=this.closeDrawer),null!==(r=e.resizeDrawer)&&void 0!==r||(e.resizeDrawer=this.resizeDrawer),e}installInternal(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t,n,i,o,r,s,a;return null!==(t=e.clearRegisteredDrawers)&&void 0!==t||(e.clearRegisteredDrawers=this.clearRegisteredDrawers),null!==(n=e.onDrawersRegistered)&&void 0!==n||(e.onDrawersRegistered=this.onDrawersRegistered),null!==(i=e.onDrawerOpened)&&void 0!==i||(e.onDrawerOpened=this.onDrawerOpened),null!==(o=e.onDrawerClosed)&&void 0!==o||(e.onDrawerClosed=this.onDrawerClosed),null!==(r=e.onDrawerResize)&&void 0!==r||(e.onDrawerResize=this.onDrawerResize),null!==(s=e.onDrawersUpdated)&&void 0!==s||(e.onDrawersUpdated=this.onDrawersUpdated),null!==(a=e.getDrawersState)&&void 0!==a||(e.getDrawersState=this.getDrawersState),e}}var Da;class Ea{constructor(){Da.set(this,new WeakMap),this.createContext=(e,t)=>{let n=kt(this,Da,"f").get(e);n||(n=new Map,kt(this,Da,"f").set(e,n));let i=n.get(t);return i||(i=e.createContext(void 0),n.set(t,i)),i}}installInternal(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t;return null!==(t=e.createContext)&&void 0!==t||(e.createContext=this.createContext),e}}Da=new WeakMap;const Fa=Symbol.for("awsui-plugin-api");function ka(e){try{if(null===e||void 0===e?void 0:e[Fa])return e[Fa];if(!e||e.parent===e)return;return ka(e.parent)}catch(t){return}}const{awsuiPlugins:Aa,awsuiPluginsInternal:Ra}=function(){if("undefined"===typeof window)return Pa({});const e=window,t=ka(e);return t||bn.sendPanoramaMetric({eventContext:"awsui-runtime-api-loaded",eventDetail:{version:Bt}}),e[Fa]=Pa(null!==t&&void 0!==t?t:{}),e[Fa]}();function Pa(e){var t,n;null!==(t=e.awsuiPlugins)&&void 0!==t||(e.awsuiPlugins={}),null!==(n=e.awsuiPluginsInternal)&&void 0!==n||(e.awsuiPluginsInternal={});const i=new xa;e.awsuiPlugins.appLayout=i.installPublic(e.awsuiPlugins.appLayout),e.awsuiPluginsInternal.appLayout=i.installInternal(e.awsuiPluginsInternal.appLayout);const o=new ba;e.awsuiPluginsInternal.appLayoutWidget=o.installInternal(e.awsuiPluginsInternal.appLayoutWidget);const r=new oa;e.awsuiPlugins.alert=r.installPublic(e.awsuiPlugins.alert),e.awsuiPluginsInternal.alert=r.installInternal(e.awsuiPluginsInternal.alert);const s=new Ca;e.awsuiPlugins.alertContent=s.installPublic(e.awsuiPlugins.alertContent),e.awsuiPluginsInternal.alertContent=s.installInternal(e.awsuiPluginsInternal.alertContent);const a=new Ca;e.awsuiPlugins.flashContent=a.installPublic(e.awsuiPlugins.flashContent),e.awsuiPluginsInternal.flashContent=a.installInternal(e.awsuiPluginsInternal.flashContent);const l=new oa;e.awsuiPlugins.flashbar=l.installPublic(e.awsuiPlugins.flashbar),e.awsuiPluginsInternal.flashbar=l.installInternal(e.awsuiPluginsInternal.flashbar);const u=new ya;e.awsuiPluginsInternal.breadcrumbs=u.installInternal(e.awsuiPluginsInternal.breadcrumbs);const c=new Ea;return e.awsuiPluginsInternal.sharedReactContexts=c.installInternal(e.awsuiPluginsInternal.sharedReactContexts),e}const Ta=(0,i.createContext)([]),_a="awsui_runtime-content-wrapper_14m8x_spfr5_5",Ma="awsui_runtime-header-wrapper_14m8x_spfr5_9";function Ia(e){let{mountContent:t,unmountContent:n,id:o}=e;const r=(0,i.useRef)(null),s=(0,i.useRef)(null),a=(0,i.useContext)(Ta),l=!!o&&a.includes(o);return(0,i.useEffect)(()=>{const e=r.current;return t(e,{onVisibilityChange:e=>{s.current=e}}),()=>{n(e),s.current=null}},[]),(0,i.useEffect)(()=>{var e;null===(e=s.current)||void 0===e||e.call(s,l)},[l]),i.createElement("div",{ref:r,className:_a,"data-awsui-runtime-drawer-root-id":o})}function La(e){let{mountHeader:t,unmountHeader:n}=e;const o=(0,i.useRef)(null);return(0,i.useEffect)(()=>{const e=o.current;return null===t||void 0===t||t(e),()=>{null===n||void 0===n||n(e)}},[]),i.createElement("div",{className:Ma,ref:o})}const Na=e=>{var t;const{mountContent:n,unmountContent:o,trigger:r}=e,s=Et(e,["mountContent","unmountContent","trigger"]);return Object.assign(Object.assign({},s),{ariaLabels:Object.assign({drawerName:null!==(t=s.ariaLabels.content)&&void 0!==t?t:""},s.ariaLabels),trigger:r?Object.assign({},r.iconSvg&&{iconSvg:i.createElement("span",{dangerouslySetInnerHTML:{__html:r.iconSvg}})}):void 0,content:i.createElement(Ia,{key:s.id,mountContent:n,unmountContent:o,id:s.id}),onResize:e=>{_i(s.onResize,{size:e.detail.size,id:s.id})}})};const Ba="awsui-internal-tools";const Oa={initiatedByUserAction:!0};function Ga(e,t,n,o,r){const[s,a]=(0,i.useState)({localBefore:[],localAfter:[],global:[]}),l=un(n),u=un(r),c=(0,i.useRef)(!1);c.current=c.current||!!t;const d=(0,i.useRef)([]);return d.current=o,(0,i.useEffect)(()=>{if(e)return;const t=Ra.appLayout.onDrawersRegistered(e=>{const t=e.filter(e=>"global"!==e.type),n=e.filter(e=>"global"===e.type);if(a(function(e,t){const n=ia(e.map(Na));return{global:ia(t.map(Na)),localBefore:n.filter(e=>{var t;return(null!==(t=e.orderPriority)&&void 0!==t?t:0)>0}),localAfter:n.filter(e=>{var t;return(null!==(t=e.orderPriority)&&void 0!==t?t:0)<=0})}}(t,n)),!c.current){const e=ia(t).find(e=>e.defaultActive);e&&l(e.id,{initiatedByUserAction:!1})}if(n.filter(e=>!e.defaultActive).find(e=>d.current.includes(e.id))||2===d.current.length)return;ia(n).filter(e=>!d.current.includes(e.id)&&e.defaultActive).forEach(e=>{u(e.id,{initiatedByUserAction:!1})})});return()=>{t(),a({localBefore:[],localAfter:[],global:[]})}},[e,u,l]),s}function za(e,t){const n=[...t.localBefore,...t.localAfter];if(0===n.length&&e.disableDrawersMerge)return null;const i=function(e){if(e.toolsHide)return null;const{iconName:t,getLabels:n}=Js.tools,{mainLabel:i,closeLabel:o,openLabel:r}=n(e.ariaLabels);return{id:Ba,content:e.tools,resizable:!1,ariaLabels:{triggerButton:r,closeButton:o,drawerName:null!==i&&void 0!==i?i:""},trigger:{iconName:t}}}(e);return i&&n.unshift(i),n}const Va=290;function Ha(e,t,n){let{drawers:o,activeDrawerId:r,onDrawerChange:s,onGlobalDrawerFocus:a,onAddNewActiveDrawer:l,__disableRuntimeDrawers:u}=e;var c,d,h,p;const[g=null,m]=Fn(r,0,null,{componentName:"AppLayout",controlledProp:"activeDrawerId",changeHandler:"onChange"}),[v,f]=(0,i.useState)([]),[w,C]=(0,i.useState)({}),[b,y]=(0,i.useState)(null),S=(0,i.useRef)([]);function x(e){let{id:t,size:n}=e;C(e=>Object.assign(Object.assign({},e),{[t]:n})),_i(null===M||void 0===M?void 0:M.onResize,{id:t,size:n});const i=T.find(e=>e.id===t);_i(null===i||void 0===i?void 0:i.onResize,{id:t,size:n})}function D(e){let{initiatedByUserAction:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Oa;var i,o;if(m(e),e&&(null===l||void 0===l||l(e)),F?_i(s,{activeDrawerId:e}):n.toolsHide||n.onToolsToggle(e===Ba),e){S.current=[e,...S.current];const n=null===(i=[...A.localBefore,...A.localAfter])||void 0===i?void 0:i.find(t=>t.id===e);_i(null===n||void 0===n?void 0:n.onToggle,{isOpen:!0,initiatedByUserAction:t})}if(g){S.current=S.current.filter(e=>e!==g);const e=null===(o=[...A.localBefore,...A.localAfter])||void 0===o?void 0:o.find(e=>e.id===g);_i(null===e||void 0===e?void 0:e.onToggle,{isOpen:!1,initiatedByUserAction:t})}}function E(e){let{initiatedByUserAction:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Oa;const n=T.find(t=>t.id===e);v.includes(e)?(f(t=>t.filter(t=>t!==e)),null===a||void 0===a||a(e,!1),S.current=S.current.filter(t=>t!==e),_i(null===n||void 0===n?void 0:n.onToggle,{isOpen:!1,initiatedByUserAction:t}),e===b&&y(null)):e&&(null===l||void 0===l||l(e),f(t=>[e,...t].slice(0,2)),null===a||void 0===a||a(e,!0),S.current=[e,...S.current],_i(null===n||void 0===n?void 0:n.onToggle,{isOpen:!0,initiatedByUserAction:t}))}const F=!!o;let k=(null===n||void 0===n?void 0:n.toolsOpen)&&!F?Ba:g!==Ba?g:null;const A=Ga(u,k,D,v,E),{localBefore:R,localAfter:P,global:T}=A,_=o?[...R,...o,...P]:za(n,A),M=null===_||void 0===_?void 0:_.find(e=>e.id===k);k=null!==(c=null===M||void 0===M?void 0:M.id)&&void 0!==c?c:null;const I=T.filter(e=>v.includes(e.id));!function(e,t,n,o,r,s,a){const l=un(function(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Oa;const l=null===t||void 0===t?void 0:t.find(t=>t.id===e),u=n.find(t=>t.id===e);l&&o!==e&&r(e,i),u&&!s.includes(e)&&a(e,i)}),u=un(function(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Oa;const l=null===t||void 0===t?void 0:t.find(t=>t.id===e),u=n.find(t=>t.id===e);l&&o===e&&r(null,i),u&&s.includes(e)&&a(e,i)});(0,i.useEffect)(()=>{if(!e)return Ra.appLayout.onDrawerOpened(l)},[e,l]),(0,i.useEffect)(()=>{if(!e)return Ra.appLayout.onDrawerClosed(u)},[e,u])}(u,_,T,g,D,v,E),function(e,t){const n=un((e,n)=>{t({id:e,size:n})});(0,i.useEffect)(()=>{if(!e)return Ra.appLayout.onDrawerResize(n)},[e,n])}(u,x);const L=k&&null!==(h=null!==(d=w[k])&&void 0!==d?d:null===M||void 0===M?void 0:M.defaultSize)&&void 0!==h?h:n.toolsWidth,N=v.reduce((e,t)=>{var n,i;const o=T.find(e=>e.id===t);return Object.assign(Object.assign({},e),{[t]:null!==(i=null!==(n=w[t])&&void 0!==n?n:null===o||void 0===o?void 0:o.defaultSize)&&void 0!==i?i:Va})},{}),B=T.reduce((e,t)=>{var n;return Object.assign(Object.assign({},e),{[t.id]:Math.min(null!==(n=t.defaultSize)&&void 0!==n?n:Va,Va)})},{}),O=Math.min((null===n||void 0===n?void 0:n.toolsOpen)?n.toolsWidth:null!==(p=null===M||void 0===M?void 0:M.defaultSize)&&void 0!==p?p:Va,Va);return{ariaLabelsWithDrawers:t,drawers:_||void 0,activeDrawer:M,activeDrawerId:k,globalDrawers:T,activeGlobalDrawers:I,activeGlobalDrawersIds:v,activeGlobalDrawersSizes:N,activeDrawerSize:L,minDrawerSize:O,minGlobalDrawersSizes:B,drawerSizes:w,drawersOpenQueue:S.current,onActiveDrawerChange:D,onActiveDrawerResize:x,onActiveGlobalDrawersChange:E,expandedDrawerId:b,setExpandedDrawerId:y}}function ja(e,t,n){const i=null!==e&&void 0!==e?e:[],o=i.slice(0,t),r=i.slice(t);if(1===r.length)return{visibleItems:i,overflowItems:[]};if(n&&r.length>0&&o.length>0){const e=r.find(e=>e.id===n);e&&(r.splice(r.indexOf(e),1),r.unshift(o.pop()),o.push(e))}return{visibleItems:o,overflowItems:r}}const Wa={box:"awsui_box_18wu0_14wr6_172","p-variant":"awsui_p-variant_18wu0_14wr6_172","color-default":"awsui_color-default_18wu0_14wr6_172","b-variant":"awsui_b-variant_18wu0_14wr6_172","strong-variant":"awsui_strong-variant_18wu0_14wr6_172","code-variant":"awsui_code-variant_18wu0_14wr6_172","pre-variant":"awsui_pre-variant_18wu0_14wr6_172","samp-variant":"awsui_samp-variant_18wu0_14wr6_172","h1-variant":"awsui_h1-variant_18wu0_14wr6_176","h2-variant":"awsui_h2-variant_18wu0_14wr6_176","h3-variant":"awsui_h3-variant_18wu0_14wr6_176","h4-variant":"awsui_h4-variant_18wu0_14wr6_176","h5-variant":"awsui_h5-variant_18wu0_14wr6_176","small-variant":"awsui_small-variant_18wu0_14wr6_180","a-variant":"awsui_a-variant_18wu0_14wr6_184","font-size-default":"awsui_font-size-default_18wu0_14wr6_188","font-weight-default":"awsui_font-weight-default_18wu0_14wr6_228","key-label-variant":"awsui_key-label-variant_18wu0_14wr6_270","gen-ai-label-variant":"awsui_gen-ai-label-variant_18wu0_14wr6_277","value-large-variant":"awsui_value-large-variant_18wu0_14wr6_284","font-weight-heavy":"awsui_font-weight-heavy_18wu0_14wr6_291","color-inverted":"awsui_color-inverted_18wu0_14wr6_296","color-text-label":"awsui_color-text-label_18wu0_14wr6_299","color-text-body-secondary":"awsui_color-text-body-secondary_18wu0_14wr6_302","color-text-status-error":"awsui_color-text-status-error_18wu0_14wr6_305","color-text-status-success":"awsui_color-text-status-success_18wu0_14wr6_308","color-text-status-info":"awsui_color-text-status-info_18wu0_14wr6_311","color-text-status-inactive":"awsui_color-text-status-inactive_18wu0_14wr6_314","color-text-status-warning":"awsui_color-text-status-warning_18wu0_14wr6_317","color-inherit":"awsui_color-inherit_18wu0_14wr6_320","font-size-body-s":"awsui_font-size-body-s_18wu0_14wr6_323","font-size-body-m":"awsui_font-size-body-m_18wu0_14wr6_328","font-size-heading-xs":"awsui_font-size-heading-xs_18wu0_14wr6_332","font-size-heading-s":"awsui_font-size-heading-s_18wu0_14wr6_336","font-size-heading-m":"awsui_font-size-heading-m_18wu0_14wr6_341","font-size-heading-l":"awsui_font-size-heading-l_18wu0_14wr6_346","font-size-heading-xl":"awsui_font-size-heading-xl_18wu0_14wr6_351","font-size-display-l":"awsui_font-size-display-l_18wu0_14wr6_356","font-weight-light":"awsui_font-weight-light_18wu0_14wr6_361","font-weight-normal":"awsui_font-weight-normal_18wu0_14wr6_364","font-weight-bold":"awsui_font-weight-bold_18wu0_14wr6_367","t-left":"awsui_t-left_18wu0_14wr6_374","t-right":"awsui_t-right_18wu0_14wr6_378","t-center":"awsui_t-center_18wu0_14wr6_382","p-n":"awsui_p-n_18wu0_14wr6_399","p-top-n":"awsui_p-top-n_18wu0_14wr6_404","p-vertical-n":"awsui_p-vertical-n_18wu0_14wr6_405","p-right-n":"awsui_p-right-n_18wu0_14wr6_409","p-horizontal-n":"awsui_p-horizontal-n_18wu0_14wr6_410","p-bottom-n":"awsui_p-bottom-n_18wu0_14wr6_414","p-left-n":"awsui_p-left-n_18wu0_14wr6_419","p-xxxs":"awsui_p-xxxs_18wu0_14wr6_424","p-top-xxxs":"awsui_p-top-xxxs_18wu0_14wr6_429","p-vertical-xxxs":"awsui_p-vertical-xxxs_18wu0_14wr6_430","p-right-xxxs":"awsui_p-right-xxxs_18wu0_14wr6_434","p-horizontal-xxxs":"awsui_p-horizontal-xxxs_18wu0_14wr6_435","p-bottom-xxxs":"awsui_p-bottom-xxxs_18wu0_14wr6_439","p-left-xxxs":"awsui_p-left-xxxs_18wu0_14wr6_444","p-xxs":"awsui_p-xxs_18wu0_14wr6_449","p-top-xxs":"awsui_p-top-xxs_18wu0_14wr6_454","p-vertical-xxs":"awsui_p-vertical-xxs_18wu0_14wr6_455","p-right-xxs":"awsui_p-right-xxs_18wu0_14wr6_459","p-horizontal-xxs":"awsui_p-horizontal-xxs_18wu0_14wr6_460","p-bottom-xxs":"awsui_p-bottom-xxs_18wu0_14wr6_464","p-left-xxs":"awsui_p-left-xxs_18wu0_14wr6_469","p-xs":"awsui_p-xs_18wu0_14wr6_474","p-top-xs":"awsui_p-top-xs_18wu0_14wr6_479","p-vertical-xs":"awsui_p-vertical-xs_18wu0_14wr6_480","p-right-xs":"awsui_p-right-xs_18wu0_14wr6_484","p-horizontal-xs":"awsui_p-horizontal-xs_18wu0_14wr6_485","p-bottom-xs":"awsui_p-bottom-xs_18wu0_14wr6_489","p-left-xs":"awsui_p-left-xs_18wu0_14wr6_494","p-s":"awsui_p-s_18wu0_14wr6_499","p-top-s":"awsui_p-top-s_18wu0_14wr6_504","p-vertical-s":"awsui_p-vertical-s_18wu0_14wr6_505","p-right-s":"awsui_p-right-s_18wu0_14wr6_509","p-horizontal-s":"awsui_p-horizontal-s_18wu0_14wr6_510","p-bottom-s":"awsui_p-bottom-s_18wu0_14wr6_514","p-left-s":"awsui_p-left-s_18wu0_14wr6_519","p-m":"awsui_p-m_18wu0_14wr6_524","p-top-m":"awsui_p-top-m_18wu0_14wr6_529","p-vertical-m":"awsui_p-vertical-m_18wu0_14wr6_530","p-right-m":"awsui_p-right-m_18wu0_14wr6_534","p-horizontal-m":"awsui_p-horizontal-m_18wu0_14wr6_535","p-bottom-m":"awsui_p-bottom-m_18wu0_14wr6_539","p-left-m":"awsui_p-left-m_18wu0_14wr6_544","p-l":"awsui_p-l_18wu0_14wr6_419","p-top-l":"awsui_p-top-l_18wu0_14wr6_554","p-vertical-l":"awsui_p-vertical-l_18wu0_14wr6_555","p-right-l":"awsui_p-right-l_18wu0_14wr6_559","p-horizontal-l":"awsui_p-horizontal-l_18wu0_14wr6_560","p-bottom-l":"awsui_p-bottom-l_18wu0_14wr6_564","p-left-l":"awsui_p-left-l_18wu0_14wr6_569","p-xl":"awsui_p-xl_18wu0_14wr6_574","p-top-xl":"awsui_p-top-xl_18wu0_14wr6_579","p-vertical-xl":"awsui_p-vertical-xl_18wu0_14wr6_580","p-right-xl":"awsui_p-right-xl_18wu0_14wr6_584","p-horizontal-xl":"awsui_p-horizontal-xl_18wu0_14wr6_585","p-bottom-xl":"awsui_p-bottom-xl_18wu0_14wr6_589","p-left-xl":"awsui_p-left-xl_18wu0_14wr6_594","p-xxl":"awsui_p-xxl_18wu0_14wr6_599","p-top-xxl":"awsui_p-top-xxl_18wu0_14wr6_604","p-vertical-xxl":"awsui_p-vertical-xxl_18wu0_14wr6_605","p-right-xxl":"awsui_p-right-xxl_18wu0_14wr6_609","p-horizontal-xxl":"awsui_p-horizontal-xxl_18wu0_14wr6_610","p-bottom-xxl":"awsui_p-bottom-xxl_18wu0_14wr6_614","p-left-xxl":"awsui_p-left-xxl_18wu0_14wr6_619","p-xxxl":"awsui_p-xxxl_18wu0_14wr6_624","p-top-xxxl":"awsui_p-top-xxxl_18wu0_14wr6_629","p-vertical-xxxl":"awsui_p-vertical-xxxl_18wu0_14wr6_630","p-right-xxxl":"awsui_p-right-xxxl_18wu0_14wr6_634","p-horizontal-xxxl":"awsui_p-horizontal-xxxl_18wu0_14wr6_635","p-bottom-xxxl":"awsui_p-bottom-xxxl_18wu0_14wr6_639","p-left-xxxl":"awsui_p-left-xxxl_18wu0_14wr6_644","m-n":"awsui_m-n_18wu0_14wr6_649","m-top-n":"awsui_m-top-n_18wu0_14wr6_654","m-vertical-n":"awsui_m-vertical-n_18wu0_14wr6_655","m-right-n":"awsui_m-right-n_18wu0_14wr6_659","m-horizontal-n":"awsui_m-horizontal-n_18wu0_14wr6_660","m-bottom-n":"awsui_m-bottom-n_18wu0_14wr6_664","m-left-n":"awsui_m-left-n_18wu0_14wr6_669","m-xxxs":"awsui_m-xxxs_18wu0_14wr6_674","m-top-xxxs":"awsui_m-top-xxxs_18wu0_14wr6_679","m-vertical-xxxs":"awsui_m-vertical-xxxs_18wu0_14wr6_680","m-right-xxxs":"awsui_m-right-xxxs_18wu0_14wr6_684","m-horizontal-xxxs":"awsui_m-horizontal-xxxs_18wu0_14wr6_685","m-bottom-xxxs":"awsui_m-bottom-xxxs_18wu0_14wr6_689","m-left-xxxs":"awsui_m-left-xxxs_18wu0_14wr6_694","m-xxs":"awsui_m-xxs_18wu0_14wr6_699","m-top-xxs":"awsui_m-top-xxs_18wu0_14wr6_704","m-vertical-xxs":"awsui_m-vertical-xxs_18wu0_14wr6_705","m-right-xxs":"awsui_m-right-xxs_18wu0_14wr6_709","m-horizontal-xxs":"awsui_m-horizontal-xxs_18wu0_14wr6_710","m-bottom-xxs":"awsui_m-bottom-xxs_18wu0_14wr6_714","m-left-xxs":"awsui_m-left-xxs_18wu0_14wr6_719","m-xs":"awsui_m-xs_18wu0_14wr6_724","m-top-xs":"awsui_m-top-xs_18wu0_14wr6_729","m-vertical-xs":"awsui_m-vertical-xs_18wu0_14wr6_730","m-right-xs":"awsui_m-right-xs_18wu0_14wr6_734","m-horizontal-xs":"awsui_m-horizontal-xs_18wu0_14wr6_735","m-bottom-xs":"awsui_m-bottom-xs_18wu0_14wr6_739","m-left-xs":"awsui_m-left-xs_18wu0_14wr6_744","m-s":"awsui_m-s_18wu0_14wr6_749","m-top-s":"awsui_m-top-s_18wu0_14wr6_754","m-vertical-s":"awsui_m-vertical-s_18wu0_14wr6_755","m-right-s":"awsui_m-right-s_18wu0_14wr6_759","m-horizontal-s":"awsui_m-horizontal-s_18wu0_14wr6_760","m-bottom-s":"awsui_m-bottom-s_18wu0_14wr6_764","m-left-s":"awsui_m-left-s_18wu0_14wr6_769","m-m":"awsui_m-m_18wu0_14wr6_774","m-top-m":"awsui_m-top-m_18wu0_14wr6_779","m-vertical-m":"awsui_m-vertical-m_18wu0_14wr6_780","m-right-m":"awsui_m-right-m_18wu0_14wr6_784","m-horizontal-m":"awsui_m-horizontal-m_18wu0_14wr6_785","m-bottom-m":"awsui_m-bottom-m_18wu0_14wr6_789","m-left-m":"awsui_m-left-m_18wu0_14wr6_794","m-l":"awsui_m-l_18wu0_14wr6_669","m-top-l":"awsui_m-top-l_18wu0_14wr6_804","m-vertical-l":"awsui_m-vertical-l_18wu0_14wr6_805","m-right-l":"awsui_m-right-l_18wu0_14wr6_809","m-horizontal-l":"awsui_m-horizontal-l_18wu0_14wr6_810","m-bottom-l":"awsui_m-bottom-l_18wu0_14wr6_814","m-left-l":"awsui_m-left-l_18wu0_14wr6_819","m-xl":"awsui_m-xl_18wu0_14wr6_824","m-top-xl":"awsui_m-top-xl_18wu0_14wr6_829","m-vertical-xl":"awsui_m-vertical-xl_18wu0_14wr6_830","m-right-xl":"awsui_m-right-xl_18wu0_14wr6_834","m-horizontal-xl":"awsui_m-horizontal-xl_18wu0_14wr6_835","m-bottom-xl":"awsui_m-bottom-xl_18wu0_14wr6_839","m-left-xl":"awsui_m-left-xl_18wu0_14wr6_844","m-xxl":"awsui_m-xxl_18wu0_14wr6_849","m-top-xxl":"awsui_m-top-xxl_18wu0_14wr6_854","m-vertical-xxl":"awsui_m-vertical-xxl_18wu0_14wr6_855","m-right-xxl":"awsui_m-right-xxl_18wu0_14wr6_859","m-horizontal-xxl":"awsui_m-horizontal-xxl_18wu0_14wr6_860","m-bottom-xxl":"awsui_m-bottom-xxl_18wu0_14wr6_864","m-left-xxl":"awsui_m-left-xxl_18wu0_14wr6_869","m-xxxl":"awsui_m-xxxl_18wu0_14wr6_874","m-top-xxxl":"awsui_m-top-xxxl_18wu0_14wr6_879","m-vertical-xxxl":"awsui_m-vertical-xxxl_18wu0_14wr6_880","m-right-xxxl":"awsui_m-right-xxxl_18wu0_14wr6_884","m-horizontal-xxxl":"awsui_m-horizontal-xxxl_18wu0_14wr6_885","m-bottom-xxxl":"awsui_m-bottom-xxxl_18wu0_14wr6_889","m-left-xxxl":"awsui_m-left-xxxl_18wu0_14wr6_894","d-block":"awsui_d-block_18wu0_14wr6_899","d-inline":"awsui_d-inline_18wu0_14wr6_902","d-inline-block":"awsui_d-inline-block_18wu0_14wr6_905","d-none":"awsui_d-none_18wu0_14wr6_908","f-left":"awsui_f-left_18wu0_14wr6_912","f-right":"awsui_f-right_18wu0_14wr6_916",root:"awsui_root_18wu0_14wr6_920"};function Ua(e){var{variant:t="div",tagOverride:n,margin:o={},padding:r={},display:s,textAlign:a,float:l,fontSize:u,fontWeight:c,color:d,children:h,__internalRootRef:p}=e;const g=zt(Et(e,["variant","tagOverride","margin","padding","display","textAlign","float","fontSize","fontWeight","color","children","__internalRootRef"])),m=Ka(o),v=Ka(r),f=qa(t,n),w=Gn(g.className,Wa.root,Wa.box,Wa["".concat(t.replace(/^awsui-/,""),"-variant")],m.map(e=>Wa["m-".concat(e)]),v.map(e=>Wa["p-".concat(e)]),Wa["d-".concat(s)],Wa["f-".concat(l)],Wa["color-".concat(d||"default")],Wa["font-size-".concat(u||"default")],Wa["font-weight-".concat(c||"default")],Wa["t-".concat(a)]);return i.createElement(f,Object.assign({},g,{className:w,ref:p}),h)}const Ka=e=>{if("string"===typeof e)return[e];return["top","right","bottom","left","horizontal","vertical"].filter(t=>!!e[t]).map(t=>"".concat(t,"-").concat(e[t]))},qa=(e,t)=>t||("awsui-value-large"===e?"span":"awsui-key-label"===e||"awsui-gen-ai-label"===e?"div":e);function Ya(e){const t=function(e){const[t,n]=(0,i.useState)("light");return wn(e,e=>{const i=sn(e,e=>e.classList.contains("awsui-polaris-dark-mode")||e.classList.contains("awsui-dark-mode")),o=i?"dark":"light";o!==t&&n(o)}),t}(e),n=mn(e),o=function(e){const[t,n]=(0,i.useState)("");return(0,i.useLayoutEffect)(()=>{var t;if(e.current){const i=sn(e.current,e=>!!e.className.match(Vi));n(null!==(t=null===i||void 0===i?void 0:i.className.match(Vi)[1])&&void 0!==t?t:"")}},[e]),t}(e),r=Cn()&&!1;return Gn({"awsui-polaris-dark-mode awsui-dark-mode":"dark"===t,"awsui-polaris-compact-mode awsui-compact-mode":"compact"===n,"awsui-visual-refresh":r,["awsui-context-".concat(o)]:o})}const Za=i.createContext({position:"bottom-right"});function $a(e){let{children:t,position:n="bottom-right"}=e;return i.createElement(Za.Provider,{value:{position:n}},t)}const Xa="awsui_dropdown-content-wrapper_qwoo0_1vurl_153",Qa="awsui_refresh_qwoo0_1vurl_174",Ja="awsui_root_qwoo0_1vurl_199",el="awsui_interior_qwoo0_1vurl_232",tl="awsui_dropdown_qwoo0_1vurl_153",nl="awsui_use-portal_qwoo0_1vurl_242",il="awsui_is-empty_qwoo0_1vurl_288",ol="awsui_dropdown-drop-up_qwoo0_1vurl_295",rl="awsui_with-limited-width_qwoo0_1vurl_299",sl="awsui_dropdown-drop-left_qwoo0_1vurl_302",al="awsui_dropdown-drop-right_qwoo0_1vurl_305",ll="awsui_occupy-entire-width_qwoo0_1vurl_308",ul="awsui_stretch-beyond-trigger-width_qwoo0_1vurl_311",cl="awsui_hide-block-border_qwoo0_1vurl_318",dl="awsui_open_qwoo0_1vurl_327",hl="awsui_nowrap_qwoo0_1vurl_336",pl="awsui_dropdown-content_qwoo0_1vurl_153",gl="awsui_stretch-trigger-height_qwoo0_1vurl_347",ml=(vl="xxs",An.find(e=>e[0]===vl)[1]);var vl;const fl=e=>{let{trigger:t,overflowParents:n,stretchWidth:i=!1,stretchHeight:o=!1,isMobile:r}=e;const s=o?0:r?19:50,a=i?0:r?20:50,{insetBlockEnd:l,insetInlineStart:u,insetInlineEnd:c}=lr(t);return n.reduce((e,n)=>{let{blockStart:i,blockEnd:o,inlineStart:r,inlineEnd:d}=e;const h=l-n.insetBlockStart,p=h-t.offsetHeight-s,g=n.blockSize-h-s,m=c-n.insetInlineStart-a,v=n.insetInlineStart+n.inlineSize-u-a;return{blockStart:Math.min(i,p),blockEnd:Math.min(o,g),inlineStart:Math.min(r,m),inlineEnd:Math.min(d,v)}},{blockStart:Number.MAX_VALUE,blockEnd:Number.MAX_VALUE,inlineStart:Number.MAX_VALUE,inlineEnd:Number.MAX_VALUE})},wl=e=>{let{triggerElement:t,dropdownElement:n,desiredMinWidth:i,stretchBeyondTriggerWidth:o=!1}=e;const{inlineSize:r}=lr(t),s=i?Math.min(r,i):r,a=o?Math.max(ml,r):Number.MAX_VALUE,{inlineSize:l}=lr(n);return{idealWidth:Math.min(Math.max(l,s),a),minWidth:s,triggerInlineSize:r}},Cl=(e,t,n,i)=>{const o=(e=>{let{trigger:t,overflowParents:n,isMobile:i}=e;const o=i?19:50,r=i?20:50,{insetBlockEnd:s,insetBlockStart:a,insetInlineStart:l,insetInlineEnd:u}=lr(t);return n.reduce((e,t)=>{let{blockStart:n,blockEnd:i,inlineStart:c,inlineEnd:d}=e;const h=s-t.insetBlockStart-o,p=t.blockSize-a+t.insetBlockStart-o,g=l-t.insetInlineStart-r,m=t.insetInlineStart+t.inlineSize-u-r;return{blockStart:Math.min(n,h),blockEnd:Math.min(i,p),inlineStart:Math.min(c,g),inlineEnd:Math.min(d,m)}},{blockStart:Number.MAX_VALUE,blockEnd:Number.MAX_VALUE,inlineStart:Number.MAX_VALUE,inlineEnd:Number.MAX_VALUE})})({trigger:e,overflowParents:n,isMobile:i}),{insetBlockEnd:r,insetBlockStart:s,inlineSize:a}=lr(e),{insetBlockStart:l,blockSize:u}=cr(e).map(e=>{const{blockSize:t,inlineSize:n,insetBlockStart:i,insetInlineStart:o}=lr(e);return{blockSize:t,inlineSize:n,insetBlockStart:i,insetInlineStart:o}}).shift();let c,{inlineSize:d}=lr(t);const h=s-l;d<=o.inlineEnd?c=!1:d<=o.inlineStart?c=!0:(c=o.inlineStart>o.inlineEnd,d=Math.max(o.inlineStart,o.inlineEnd));const p=c?0-d:a,g=o.blockEnd<t.offsetHeight&&o.blockStart>o.blockEnd,m=g?l+u-r:0,v=g?o.blockStart:o.blockEnd,f=31*Math.floor(v/31)+16;return{dropBlockStart:g,dropInlineStart:c,blockSize:"".concat(f,"px"),inlineSize:"".concat(d,"px"),insetBlockStart:"".concat(h,"px"),insetBlockEnd:"".concat(m,"px"),insetInlineStart:"".concat(p,"px")}},bl=(e,t,n,i,o,r,s,a,l,u,c)=>{n.style.maxBlockSize="",e.style.inlineSize="",e.style.insetBlockStart="",e.style.insetBlockEnd="",e.style.insetInlineStart="",e.classList.remove(sl),e.classList.remove(al),e.classList.remove(ol);const d=dr({element:e,excludeClosestParent:i,expandToViewport:o,canExpandOutsideViewport:a}),h=i?Cl(t,e,d,l):(e=>{let{triggerElement:t,dropdownElement:n,overflowParents:i,minWidth:o,preferCenter:r=!1,stretchWidth:s=!1,stretchHeight:a=!1,isMobile:l=!1,stretchBeyondTriggerWidth:u=!1}=e;const c=fl({trigger:t,overflowParents:i,stretchWidth:s,stretchHeight:a,isMobile:l}),{idealWidth:d,minWidth:h,triggerInlineSize:p}=wl({triggerElement:t,dropdownElement:n,desiredMinWidth:o,stretchBeyondTriggerWidth:u});let g,m=null,v=d;if(d<=c.inlineEnd?g=!1:d<=c.inlineStart?g=!0:(g=c.inlineStart>c.inlineEnd,v=Math.max(c.inlineStart,c.inlineEnd,h)),r){const e=(d-p)/2,t=c.inlineStart-p,n=c.inlineEnd-p;t>=e&&n>=e&&(m=-e)}const f=c.blockEnd<n.offsetHeight&&c.blockStart>c.blockEnd,w=f?c.blockStart:c.blockEnd,C=Math.max(a?w:31*Math.floor(w/31)+16,15);return{dropBlockStart:f,dropInlineStart:g,insetInlineStart:null===m?"auto":"".concat(m,"px"),blockSize:"".concat(C,"px"),inlineSize:"".concat(v,"px")}})({triggerElement:t,dropdownElement:e,overflowParents:d,minWidth:u,preferCenter:r,stretchWidth:s,stretchHeight:a,isMobile:l,stretchBeyondTriggerWidth:c});return[h,lr(t)]};function yl(e){let{position:t,dropdownElement:n,triggerRect:i,isMobile:o}=e;const r=o,s=r?document.documentElement.scrollTop:0,a=r?document.documentElement.scrollLeft:0;n.style.position=r?"absolute":"fixed",t.dropBlockStart?n.style.insetBlockEnd="calc(100% - ".concat(s+i.insetBlockStart,"px)"):n.style.insetBlockStart="".concat(s+i.insetBlockEnd,"px"),t.dropInlineStart?n.style.insetInlineStart="calc(".concat(a+i.insetInlineEnd,"px - ").concat(t.inlineSize,")"):n.style.insetInlineStart="".concat(a+i.insetInlineStart,"px")}const Sl=e=>{let{triggerRef:t,children:n,renderWithPortal:o,id:r,referrerId:s,open:a}=e;var l,u;if(!o)return i.createElement(i.Fragment,null,n);if(!a)return null;const c=null!==(u=null===(l=t.current)||void 0===l?void 0:l.ownerDocument)&&void 0!==u?u:document;return(0,an.createPortal)(i.createElement("div",{id:r,"data-awsui-referrer-id":s},n),c.body)},xl=e=>{let{state:t,transitionRef:n,dropdownClasses:o,stretchWidth:r,interior:s,isRefresh:a,dropdownRef:l,verticalContainerRef:u,expandToViewport:c,stretchBeyondTriggerWidth:d,header:h,children:p,footer:g,position:m,open:v,onMouseDown:f,id:w,role:C,ariaLabelledby:b,ariaDescribedby:y}=e;const S=Tt(l,n);return i.createElement("div",{className:Gn(tl,o,{[dl]:v,[rl]:!r,[cl]:r,[el]:s,[Qa]:a,[nl]:c&&!s,[ul]:d}),ref:S,id:w,role:C,"aria-labelledby":b,"aria-describedby":y,"data-open":v,"data-animating":"exited"!==t,"aria-hidden":!v,style:d?{[bs.dropdownDefaultMaxWidth]:"".concat(ml,"px")}:{},onMouseDown:f},i.createElement("div",{className:Gn(Xa,!h&&!p&&il,a&&Qa)},i.createElement("div",{ref:u,className:pl},i.createElement($a,{position:m},h,p,g))))},Dl=e=>void 0!==e.insetBlockEnd,El=e=>{let{children:t,trigger:n,open:o,onDropdownClose:r,onMouseDown:s,header:a,footer:l,dropdownId:u,stretchTriggerHeight:c=!1,stretchWidth:d=!0,stretchHeight:h=!1,stretchToTriggerWidth:p=!0,stretchBeyondTriggerWidth:g=!1,expandToViewport:m=!1,preferCenter:v=!1,interior:f=!1,minWidth:w,scrollable:C=!0,loopFocus:b=m,onFocus:y,onBlur:S,contentKey:x,dropdownContentId:D,dropdownContentRole:E,ariaLabelledby:F,ariaDescribedby:k}=e;const A=(0,i.useRef)(null),R=(0,i.useRef)(null),P=(0,i.useRef)(null),T=(0,i.useRef)(null),_=(0,i.useRef)(null),M=(0,i.useRef)(null),I=Cn(),L=Ya(R),[N,B]=(0,i.useState)("bottom-right"),O=In(),G=e=>(!A.current||!wo(A.current,e))&&(!T.current||!wo(T.current,e));ki(()=>P.current,()=>{const e=ul;o&&g&&P.current&&R.current&&P.current.classList.contains(e)&&!(e=>{let{triggerElement:t,dropdownElement:n,desiredMinWidth:i,expandToViewport:o,stretchWidth:r,stretchHeight:s,isMobile:a}=e;const l=dr({element:n,excludeClosestParent:!1,expandToViewport:o,canExpandOutsideViewport:s}),{idealWidth:u}=wl({triggerElement:t,dropdownElement:n,desiredMinWidth:i,stretchBeyondTriggerWidth:!0}),c=fl({trigger:t,overflowParents:l,stretchWidth:r,stretchHeight:s,isMobile:a});return u<=c.inlineStart||u<=c.inlineEnd})({triggerElement:R.current,dropdownElement:P.current,desiredMinWidth:w,expandToViewport:m,stretchWidth:d,stretchHeight:h,isMobile:O})&&P.current.classList.remove(e)}),(0,i.useLayoutEffect)(()=>{const e=()=>{o&&P.current&&R.current&&_.current&&(C&&P.current.classList.add(hl),((e,t,n,i)=>{const o=!f&&d;if(i.style.maxBlockSize=d?e.blockSize:"".concat(parseInt(e.blockSize)+1,"px"),o&&!m?p&&n.classList.add(ll):n.style.inlineSize=e.inlineSize,e.dropBlockStart&&!f?(n.classList.add(ol),m||(n.style.insetBlockEnd="100%")):n.classList.remove(ol),n.classList.add(e.dropInlineStart?sl:al),e.insetInlineStart&&"auto"!==e.insetInlineStart&&(n.style.insetInlineStart=e.insetInlineStart),m&&!f)return yl({position:e,dropdownElement:n,triggerRect:t,isMobile:O}),void(M.current=e);f&&Dl(e)&&(e.dropBlockStart?n.style.insetBlockEnd=e.insetBlockEnd:n.style.insetBlockStart=e.insetBlockStart,n.style.insetInlineStart=e.insetInlineStart),e.dropBlockStart&&e.dropInlineStart?B("top-left"):e.dropBlockStart?B("top-right"):e.dropInlineStart?B("bottom-left"):B("bottom-right")})(...bl(P.current,R.current,_.current,f,m,v,d,h,O,w,g),P.current,_.current),C&&P.current.classList.remove(hl))};if(e(),o){window.addEventListener("scroll",e);const t=setTimeout(()=>{window.removeEventListener("scroll",e)},500);return()=>{clearTimeout(t),window.removeEventListener("scroll",e)}}},[o,P,R,_,f,d,O,x]),(0,i.useEffect)(()=>{if(!o)return;const e=e=>{const t=e.composedPath?e.composedPath()[0]:e.target;wo(P.current,t)||wo(R.current,t)||_i(r)};return window.addEventListener("click",e,!0),()=>{window.removeEventListener("click",e,!0)}},[o,r]),(0,i.useLayoutEffect)(()=>{if(!m||!o)return;const e=()=>{R.current&&P.current&&_.current&&M.current&&yl({position:M.current,dropdownElement:P.current,triggerRect:lr(R.current),isMobile:O})};e();const t=new AbortController;return window.addEventListener("scroll",e,{capture:!0,signal:t.signal}),window.addEventListener("resize",e,{capture:!0,signal:t.signal}),()=>{t.abort()}},[o,m,O]);const z=Yi();return i.createElement("div",{className:Gn(Ja,f&&el,c&&gl),ref:A,onFocus:e=>{e.relatedTarget&&!G(e.relatedTarget)||_i(y,e)},onBlur:e=>{e.relatedTarget&&!G(e.relatedTarget)||_i(S,e)}},i.createElement("div",{id:z,className:Gn(c&&gl),ref:R},n),i.createElement($o,{focusNextCallback:()=>{var e;return P.current&&(null===(e=er(P.current))||void 0===e?void 0:e.focus())},disabled:!o||!b}),i.createElement(Sl,{triggerRef:R,renderWithPortal:m&&!f,id:u,referrerId:z,open:o},i.createElement(Nr,{in:null!==o&&void 0!==o&&o,exit:!1},(e,n)=>i.createElement("div",{ref:T},i.createElement($o,{focusNextCallback:()=>{var e;return R.current&&(null===(e=tr(R.current))||void 0===e?void 0:e.focus())},disabled:!o||!b}),i.createElement(xl,{state:e,transitionRef:n,dropdownClasses:L,open:o,stretchWidth:d,interior:f,header:a,expandToViewport:m,stretchBeyondTriggerWidth:g,footer:l,onMouseDown:s,isRefresh:I,dropdownRef:P,verticalContainerRef:_,position:N,id:D,role:E,ariaLabelledby:F,ariaDescribedby:k},t),i.createElement($o,{focusNextCallback:()=>{var e;return R.current&&(null===(e=er(R.current))||void 0===e?void 0:e.focus())},disabled:!o||!b})))))},Fl="awsui_options-list_19gcf_11x8t_145",kl="awsui_options-list-embedded_19gcf_11x8t_192",Al="awsui_decrease-block-margin_19gcf_11x8t_199",Rl=(e,t)=>{const n=sn(t.target,t=>t===e.current||!!t.dataset.mouseTarget),i=null===n||void 0===n?void 0:n.dataset.mouseTarget;return i?parseInt(i):-1},Pl=i.forwardRef((e,t)=>{var{open:n,statusType:o,children:r,nativeAttributes:s={},onKeyDown:a,onBlur:l,onFocus:u,onLoadMore:c,onMouseUp:d,onMouseMove:h,position:p="relative",role:g="listbox",decreaseBlockMargin:m=!1,ariaLabel:v,ariaLabelledby:f,ariaDescribedby:w,embedded:C,stickyItemBlockSize:b}=e;const y=zt(Et(e,["open","statusType","children","nativeAttributes","onKeyDown","onBlur","onFocus","onLoadMore","onMouseUp","onMouseMove","position","role","decreaseBlockMargin","ariaLabel","ariaLabelledby","ariaDescribedby","embedded","stickyItemBlockSize"])),S=(0,i.useRef)(null),x=un(()=>{const e=null===S||void 0===S?void 0:S.current;if(e){const t=e.scrollTop+e.clientHeight;e.scrollHeight-t<80&&_i(c)}});(0,i.useEffect)(()=>{n&&"pending"===o&&x()},[n,o,x]);const D=Gn(Fl,{[Al]:m,[kl]:C}),E=Tt(t,S);return i.createElement("ul",Object.assign({},y,s,{className:D,ref:E,style:{position:p,scrollPaddingBlockStart:null!==b&&void 0!==b?b:void 0},role:g,onScroll:x,onKeyDown:e=>Ii(a,e),onMouseMove:e=>null===h||void 0===h?void 0:h(Rl(S,e)),onMouseUp:e=>null===d||void 0===d?void 0:d(Rl(S,e)),onBlur:e=>_i(l,{relatedTarget:e.relatedTarget}),onFocus:()=>_i(u),tabIndex:C?0:-1,"aria-label":v,"aria-labelledby":f,"aria-describedby":w}),n&&r)}),Tl=(e,t,n)=>Gn(e[t],n&&e["".concat(t,"-open")]),_l={header:"awsui_header_16mm3_mv8zj_145",disabled:"awsui_disabled_16mm3_mv8zj_161","expandable-header":"awsui_expandable-header_16mm3_mv8zj_165","rolled-down":"awsui_rolled-down_16mm3_mv8zj_176",highlighted:"awsui_highlighted_16mm3_mv8zj_179","is-focused":"awsui_is-focused_16mm3_mv8zj_197","visual-refresh":"awsui_visual-refresh_16mm3_mv8zj_200",category:"awsui_category_16mm3_mv8zj_204",expandable:"awsui_expandable_16mm3_mv8zj_165","variant-navigation":"awsui_variant-navigation_16mm3_mv8zj_219","expand-icon":"awsui_expand-icon_16mm3_mv8zj_226","expand-icon-up":"awsui_expand-icon-up_16mm3_mv8zj_244","expand-icon-right":"awsui_expand-icon-right_16mm3_mv8zj_247","items-list-container":"awsui_items-list-container_16mm3_mv8zj_255","in-dropdown":"awsui_in-dropdown_16mm3_mv8zj_264","icon-wrapper":"awsui_icon-wrapper_16mm3_mv8zj_268","header-content":"awsui_header-content_16mm3_mv8zj_272"},Ml=e=>{let{item:t,onItemActivate:n,onGroupToggle:o,targetItem:r,isHighlighted:s,isKeyboardHighlight:a,isExpanded:l,lastInDropdown:u,highlightItem:c,disabled:d,variant:h,position:p}=e;return i.createElement("li",{className:Gn(_l.category,_l["variant-".concat(h)],d&&_l.disabled),role:"presentation"},t.text&&i.createElement("p",{className:Gn(_l.header,{[_l.disabled]:d}),"aria-hidden":"true"},i.createElement("span",{className:_l["header-content"]},(t.iconName||t.iconUrl||t.iconSvg)&&i.createElement("span",{className:_l["icon-wrapper"]},i.createElement(oo,{name:t.iconName,url:t.iconUrl,svg:t.iconSvg,alt:t.iconAlt})),t.text)),i.createElement("ul",{className:_l["items-list-container"],role:"group","aria-label":t.text,"aria-disabled":d},t.items&&i.createElement(uu,{items:t.items,onItemActivate:n,onGroupToggle:o,targetItem:r,isHighlighted:s,isKeyboardHighlight:a,isExpanded:l,lastInDropdown:u,highlightItem:c,categoryDisabled:d,hasCategoryHeader:!!t.text,variant:h,position:p})))};function Il(e){let{children:t,content:n,position:o="right",className:r}=e;const s=(0,i.useRef)(null),a=vn(s),{open:l,triggerProps:u}=function(e){const t=(0,i.useRef)(),[n,o]=(0,i.useState)(!1),r=()=>{clearTimeout(t.current),o(!1)},s=()=>o(!0),a=()=>{t.current=setTimeout(s,e)},l=e=>{n&&Ll(e.key)&&(e.preventDefault(),e.stopPropagation(),r())};return{open:n,triggerProps:{onBlur:r,onFocus:a,onKeyDown:l}}}(a?0:120),c=Ya(s);return i.createElement("span",Object.assign({ref:s},u,{className:r}),t,l&&i.createElement(Ko,null,i.createElement("span",{className:c},i.createElement(Sr,{size:"small",fixedWidth:!1,position:o,trackRef:s,arrow:e=>i.createElement(Yo,{position:e}),renderWithPortal:!0,zIndex:7e3},i.createElement(or,{dismissButton:!1,dismissAriaLabel:void 0,header:null,onDismiss:()=>{},overflowVisible:"both"},i.createElement("span",{"data-testid":"button-dropdown-disabled-reason",role:"tooltip"},n))))))}const Ll=e=>"Escape"===e||"Esc"===e,Nl=e=>{let{disabled:t,parent:n,expanded:i}=e;return{role:"menuitem","aria-disabled":t?"true":void 0,"aria-haspopup":n?"true":void 0,"aria-expanded":i?"true":n?"false":void 0}},Bl=e=>{let{item:t,onItemActivate:n,onGroupToggle:o,targetItem:r,isHighlighted:s,isKeyboardHighlight:a,isExpanded:l,lastInDropdown:u,highlightItem:c,disabled:d,expandToViewport:h,variant:p,position:g}=e;const m=s(t),v=l(t),f=a(t),w=i.useRef(null),C=(0,i.useRef)(null);(0,i.useEffect)(()=>{w.current&&m&&!v&&w.current.focus()},[v,m]);const b=()=>{c(t)},y=Cn(),S=!!t.disabledReason&&t.disabled,{targetProps:x,descriptionEl:D}=Ur(t.disabledReason),E=t.text&&i.createElement("span",Object.assign({className:Gn(_l.header,_l["expandable-header"],_l["variant-".concat(p)],{[_l.disabled]:d,[_l.highlighted]:m,[_l["is-focused"]]:f,[_l["visual-refresh"]]:y}),tabIndex:m?0:-1,ref:w},Nl({parent:!0,expanded:v,disabled:d}),S?x:{},Qi(d?{}:{action:v?"collapse":"expand",detail:{position:g||"0",label:{root:"self"},id:t.id||""}})),(t.iconName||t.iconUrl||t.iconSvg)&&i.createElement("span",{className:_l["icon-wrapper"]},i.createElement(oo,{name:t.iconName,url:t.iconUrl,svg:t.iconSvg,alt:t.iconAlt})),t.text,i.createElement("span",{className:Gn(_l["expand-icon"],_l["expand-icon-right"])},i.createElement(oo,{name:"caret-down-filled"})));let F;return F=S?i.createElement(Il,{content:t.disabledReason},E,D):d?E:i.createElement(El,{open:v,stretchWidth:!1,interior:!0,expandToViewport:h,trigger:E},t.items&&v&&i.createElement("ul",{role:"menu","aria-label":t.text,className:Gn(_l["items-list-container"],_l["in-dropdown"])},i.createElement(uu,{items:t.items,onItemActivate:n,onGroupToggle:o,targetItem:r,isHighlighted:s,isKeyboardHighlight:a,isExpanded:l,lastInDropdown:u,highlightItem:c,variant:p,position:g}))),i.createElement("li",{className:Gn(_l.category,_l["variant-".concat(p)],_l.expandable,{[_l.expanded]:v,[_l.disabled]:d,[_l.highlighted]:m}),role:"presentation","data-testid":t.id,ref:C,onClick:e=>{var n;d||(e.preventDefault(),o(t,e),null===(n=w.current)||void 0===n||n.focus())},onMouseEnter:b,onTouchStart:b},F)},Ol="awsui_root_14cnr_39y7l_145",Gl="awsui_trigger_14cnr_39y7l_179",zl="awsui_dropdown_14cnr_39y7l_182",Vl="awsui_open_14cnr_39y7l_196",Hl=e=>{let{children:t,trigger:n,open:o}=e;return i.createElement("div",{className:Ol},i.createElement("div",{className:Gl},n),i.createElement("div",{className:Gn(zl,{[Vl]:o}),"data-open":o},t))},jl=e=>{let{item:t,onItemActivate:n,onGroupToggle:o,targetItem:r,isHighlighted:s,isKeyboardHighlight:a,isExpanded:l,lastInDropdown:u,highlightItem:c,disabled:d,variant:h,position:p}=e;const g=s(t),m=l(t),v=a(t),f=i.useRef(null);(0,i.useEffect)(()=>{f.current&&g&&!m&&f.current.focus()},[m,g]);const w=()=>{c(t)},C=!!t.disabledReason&&t.disabled,{targetProps:b,descriptionEl:y}=Ur(t.disabledReason),S=t.text&&i.createElement("span",Object.assign({className:Gn(_l.header,_l["expandable-header"],_l["variant-".concat(h)],{[_l.highlighted]:g,[_l["rolled-down"]]:m,[_l.disabled]:d,[_l["is-focused"]]:v}),tabIndex:g?0:-1,ref:f},Nl({parent:!0,disabled:d,expanded:m}),C?b:{},Qi(d?{}:{action:"expand",detail:{position:p||"0",label:{root:"self"},id:t.id||"",expanded:"".concat(!m)}})),(t.iconName||t.iconUrl||t.iconSvg)&&i.createElement("span",{className:_l["icon-wrapper"]},i.createElement(oo,{name:t.iconName,url:t.iconUrl,svg:t.iconSvg,alt:t.iconAlt})),t.text,i.createElement("span",{className:Gn(_l["expand-icon"],{[_l["expand-icon-up"]]:m})},i.createElement(oo,{name:"caret-down-filled"})));let x;return x=C?i.createElement(i.Fragment,null,y,i.createElement(Il,{content:t.disabledReason},S)):d?S:i.createElement(Hl,{open:m,trigger:S},t.items&&m&&i.createElement("ul",{role:"menu","aria-label":t.text,className:_l["items-list-container"]},i.createElement(uu,{items:t.items,onItemActivate:n,onGroupToggle:o,targetItem:r,isHighlighted:s,isKeyboardHighlight:a,isExpanded:l,lastInDropdown:u,highlightItem:c,hasCategoryHeader:!0,variant:h,position:p}))),i.createElement("li",{className:Gn(_l.category,_l["variant-".concat(h)],_l.expandable,{[_l.expanded]:m,[_l.disabled]:d,[_l.highlighted]:g||m,[_l.expandable]:!0}),role:"presentation",onClick:e=>{d||(e.preventDefault(),o(t,e))},onMouseEnter:w,onTouchStart:w,"data-testid":t.id},x)};function Wl(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];e.forEach((e,i)=>{const o=[...n,i];t(e,o),ql(e)&&Wl(e.items,t,o)})}function Ul(e){return e.join("-")}function Kl(e){return e.split("-").map(e=>parseInt(e))}const ql=e=>e&&void 0!==e.items,Yl=e=>e&&void 0!==e.href,Zl=e=>e&&"checkbox"===e.itemType,$l=e=>e.external?"_blank":void 0;function Xl(e,t){for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function Ql(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}const Jl="awsui_trigger-label_q2oen_w271r_5",eu="awsui_menu-item_q2oen_w271r_6",tu="awsui_main-action-label_q2oen_w271r_7",nu={"item-element":"awsui_item-element_93a1u_j1gnt_145",disabled:"awsui_disabled_93a1u_j1gnt_157","show-divider":"awsui_show-divider_93a1u_j1gnt_164",highlighted:"awsui_highlighted_93a1u_j1gnt_167","is-focused":"awsui_is-focused_93a1u_j1gnt_182","visual-refresh":"awsui_visual-refresh_93a1u_j1gnt_185","menu-item":"awsui_menu-item_93a1u_j1gnt_189","link-style":"awsui_link-style_93a1u_j1gnt_201","current-breadcrumb":"awsui_current-breadcrumb_93a1u_j1gnt_237","link-style-highlighted":"awsui_link-style-highlighted_93a1u_j1gnt_245","has-category-header":"awsui_has-category-header_93a1u_j1gnt_251","item-tooltip-wrapper":"awsui_item-tooltip-wrapper_93a1u_j1gnt_251","has-checkmark":"awsui_has-checkmark_93a1u_j1gnt_251",icon:"awsui_icon_93a1u_j1gnt_255",checkmark:"awsui_checkmark_93a1u_j1gnt_259","external-icon":"awsui_external-icon_93a1u_j1gnt_266"};function iu(e){let{item:t,disabled:n,highlighted:o,linkStyle:r}=e;const s=(0,i.useRef)(null),a=Zl(t),l=!a&&t.isCurrentBreadcrumb;(0,i.useEffect)(()=>{o&&s.current&&s.current.focus()},[o]);const u=n&&t.disabledReason,{targetProps:c,descriptionEl:d}=Ur(t.disabledReason),h=Object.assign(Object.assign({"aria-label":t.ariaLabel,className:Gn(nu["menu-item"],eu,r&&nu["link-style"],r&&o&&nu["link-style-highlighted"],l&&nu["current-breadcrumb"]),"aria-current":l,lang:t.lang,ref:s,tabIndex:o?0:-1},a?(e=>{let{disabled:t,checked:n}=e;return{role:"menuitemcheckbox","aria-disabled":t?"true":void 0,"aria-checked":n?"true":"false"}})({disabled:n,checked:t.checked}):Nl({disabled:n})),u?c:{}),p=Yl(t)?i.createElement("a",Object.assign({},h,{href:n?void 0:t.href,target:$l(t),rel:t.external?"noopener noreferrer":void 0}),i.createElement(ou,{item:t,disabled:n})):i.createElement("span",Object.assign({},h),i.createElement(ou,{item:t,disabled:n})),{position:g}=(0,i.useContext)(Za),m="bottom-left"===g||"top-left"===g?"left":"right";return u?i.createElement(Il,{content:t.disabledReason,position:m,className:nu["item-tooltip-wrapper"]},p,d):p}const ou=e=>{let{item:t,disabled:n}=e;const o=!!(t.iconName||t.iconUrl||t.iconSvg),r=Yl(t)&&t.external,s=Zl(t);return i.createElement(i.Fragment,null,s&&i.createElement(su,{checked:t.checked,disabled:n}),o&&i.createElement(ru,{name:t.iconName,url:t.iconUrl,svg:t.iconSvg,alt:t.iconAlt,badge:t.badge}),t.text,r&&i.createElement(au,{disabled:n,ariaLabel:t.externalIconAriaLabel}))},ru=e=>i.createElement("span",{className:nu.icon},i.createElement(oo,Object.assign({},e))),su=e=>{let{disabled:t,checked:n}=e;const o=i.createElement(oo,{variant:t?"disabled":"normal",name:"check"});return i.createElement("span",{className:Gn(nu.icon,nu.checkmark,{[nu.disabled]:t}),"aria-hidden":"true",style:{visibility:n?"visible":"hidden"}},o)},au=e=>{let{disabled:t,ariaLabel:n}=e;const o=i.createElement(oo,{variant:t?"disabled":"normal",name:"external"});return i.createElement("span",{className:nu["external-icon"],role:n?"img":void 0,"aria-label":n},o)},lu=e=>{let{position:t="1",item:n,disabled:o,onItemActivate:r,highlighted:s,highlightItem:a,showDivider:l,hasCategoryHeader:u,isKeyboardHighlighted:c=!1,analyticsMetadataTransformer:d=e=>e,variant:h="normal",linkStyle:p}=e;const g=Yl(n),m=Zl(n),v=()=>{a(n)},f=Cn();return i.createElement("li",Object.assign({className:Gn(nu["item-element"],nu["variant-".concat(h)],{[nu.highlighted]:s,[nu.disabled]:o,[nu["has-category-header"]]:u,[nu["has-checkmark"]]:m,[nu["show-divider"]]:l,[nu["is-focused"]]:c,[nu["visual-refresh"]]:f}),role:"presentation","data-testid":n.id,"data-description":n.description,onClick:e=>{e.stopPropagation(),g||e.preventDefault(),o||r(n,e)},onMouseEnter:v,onTouchStart:v},Qi(o?{}:d({action:"click",detail:{position:t,id:n.id,label:".".concat(eu),href:n.href||""}}))),i.createElement(iu,{item:n,disabled:o,highlighted:s,linkStyle:p}))};function uu(e){let{items:t,onItemActivate:n,onGroupToggle:o,targetItem:r,isHighlighted:s,isKeyboardHighlight:a,isExpanded:l,lastInDropdown:u,highlightItem:c,categoryDisabled:d=!1,hasExpandableGroups:h=!1,hasCategoryHeader:p=!1,expandToViewport:g=!1,variant:m="normal",analyticsMetadataTransformer:v,position:f,linkStyle:w}=e;const C=In(),b=t.map((e,b)=>{var y,S,x,D;if(!ql(e)){const o=b===t.length-1&&!u||ql(t[b+1]);return i.createElement(lu,{key:b,item:e,onItemActivate:n,disabled:null!==(y=e.disabled)&&void 0!==y?y:d,highlighted:s(e),isKeyboardHighlighted:a(e),highlightItem:c,showDivider:o,hasCategoryHeader:p,variant:m,position:"".concat(f?"".concat(f,","):"").concat(b+1),analyticsMetadataTransformer:v,linkStyle:w})}return h?e.text?C?i.createElement(jl,{key:b,item:e,onItemActivate:n,onGroupToggle:o,targetItem:r,isHighlighted:s,isKeyboardHighlight:a,isExpanded:l,lastInDropdown:u&&b===t.length-1,highlightItem:c,disabled:null!==(S=e.disabled)&&void 0!==S&&S,variant:m,position:"".concat(f?"".concat(f,","):"").concat(b+1)}):i.createElement(Bl,{key:b,item:e,onItemActivate:n,onGroupToggle:o,targetItem:r,isHighlighted:s,isKeyboardHighlight:a,isExpanded:l,lastInDropdown:!0,highlightItem:c,disabled:null!==(x=e.disabled)&&void 0!==x&&x,expandToViewport:g,variant:m,position:"".concat(f?"".concat(f,","):"").concat(b+1)}):null:i.createElement(Ml,{key:b,item:e,onItemActivate:n,onGroupToggle:o,targetItem:r,isHighlighted:s,isKeyboardHighlight:a,isExpanded:l,lastInDropdown:u&&b===t.length-1,highlightItem:c,disabled:null!==(D=e.disabled)&&void 0!==D&&D,variant:m,position:"".concat(f?"".concat(f,","):"").concat(b+1)})});return i.createElement(i.Fragment,null,b)}const cu=e=>{let{onOpen:t,onClose:n,defaultOpen:o=!1}=e;const[r,s]=(0,i.useState)(o),[a,l]=(0,i.useState)(!1),u=e=>{r||(s(!0),l(!!e),null===t||void 0===t||t())},c=()=>{r&&(s(!1),null===n||void 0===n||n())};return{isOpen:r,openDropdown:u,closeDropdown:c,toggleDropdown:()=>{r?c():u(!1)},openedWithKeyboard:a}};function du(e){let{startIndex:t,expandedIndex:n,getNext:i,hasExpandableGroups:o,isInRestrictedView:r}=e;const s=e=>{var a;const l=i(e);return l?(null===(a=l.parent)||void 0===a?void 0:a.disabled)&&o||ql(l.item)&&!o?s(l.index):!o||r||(u=t,c=l.index,Ql(u.slice(0,-1),c.slice(0,-1)))?o&&r&&!function(e,t){return e.length===t.length}(l.index,n)&&(d=n,h=l.index,!Ql(d,h.slice(0,-1)))?s(l.index):l.index:s(l.index):null;var u,c,d,h};return s(t)}function hu(e){let{items:t,hasExpandableGroups:n,isInRestrictedView:o=!1}=e;const[r,s]=(0,i.useState)([]),[a,l]=(0,i.useState)([]),[u,c]=(0,i.useState)(!0),{getItem:d,getItemIndex:h,getSequentialIndex:p,getParentIndex:g}=(0,i.useMemo)(()=>function(e){const t=new Map,n=new Map,i=[];return Wl(e,(e,o)=>{const r=Ul(o);t.set(e,r),n.set(r,e),i.push(r)}),{getItem:e=>{const t=Ul(e);return n.get(t)||null},getItemIndex:e=>{const n=t.get(e);if(!n)throw new Error("Invariant violation: item is not found.");return Kl(n)},getSequentialIndex:(e,t)=>{const n=Ul(e),o=i.indexOf(n),r=i[o+t];return r?Kl(r):null},getParentIndex:e=>{const n=t.get(e);if(!n)throw new Error("Invariant violation: item is not found.");const i=Kl(n);return 1===i.length?null:i.slice(0,i.length-1)}}}(t),[t]),m=(0,i.useMemo)(()=>d(r),[r,d]),v=(0,i.useCallback)(e=>Xl(h(e),r),[r,h]),f=(0,i.useCallback)(e=>{const t=h(e);return!u&&Ql(t,r)},[r,h,u]),w=(0,i.useCallback)(e=>Xl(h(e),a),[a,h]),C=(0,i.useCallback)(e=>{const t=du({startIndex:r,expandedIndex:a,getNext:t=>{const n=p(t,e),i=d(n||[-1]);if(!n||!i)return null;const o=g(i);return{index:n,item:i,parent:o&&d(o)||void 0}},hasExpandableGroups:n,isInRestrictedView:o});t&&s(t)},[r,a,d,p,g,n,o]),b=(0,i.useCallback)(e=>{s(h(e))},[h]);return{targetItem:m,isHighlighted:v,isKeyboardHighlight:f,isExpanded:w,moveHighlight:C,highlightItem:b,expandGroup:(0,i.useCallback)(e=>{const t=e?h(e):r,n=[...t,0];s(o?t:n),l(t)},[r,h,o]),collapseGroup:(0,i.useCallback)(()=>{a.length>0&&(s(a),l(a.slice(0,-1)))},[a]),reset:(0,i.useCallback)(()=>{s([]),l([])},[]),setIsUsingMouse:c}}function pu(e){let{items:t,onItemClick:n,onItemFollow:i,onReturnFocus:o,hasExpandableGroups:r,isInRestrictedView:s=!1,expandToViewport:a=!1}=e;const{targetItem:l,isHighlighted:u,isKeyboardHighlight:c,isExpanded:d,highlightItem:h,moveHighlight:p,expandGroup:g,collapseGroup:m,reset:v,setIsUsingMouse:f}=hu({items:t,hasExpandableGroups:r,isInRestrictedView:s}),w=cu({onClose:v}),{isOpen:C,closeDropdown:b}=w,y=Et(w,["isOpen","closeDropdown"]),S=function(){var e;const t=null===(e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).moveHighlightOnOpen)||void 0===e||e;!C&&t&&p(1),y.toggleDropdown()},x=e=>d(e)?m():g(e),D=(e,t)=>{const r=Zl(e),s=Yl(e),a={id:e.id||"undefined",href:s?e.href:void 0,external:s?e.external:void 0,target:s?$l(e):void 0,checked:r?!e.checked:void 0};o(),i&&s&&Ni(t)&&Mi(i,a,t),n&&Mi(n,a,t),b()},E=e=>{C&&p(e)},F=e=>{l?ql(l)?x(l):D(l,e):C&&!s?S():(e=>{S(),e.preventDefault()})(e)},k=(e,t)=>{f(!1),l&&Yl(l)&&t||(e.preventDefault(),F(e))};return{isOpen:C,targetItem:l,isHighlighted:u,isKeyboardHighlight:c,isExpanded:d,highlightItem:h,onKeyDown:e=>{switch(f(!1),e.keyCode){case ir.down:E(1),e.preventDefault();break;case ir.up:E(-1),e.preventDefault();break;case ir.space:e.preventDefault();break;case ir.enter:(null===l||void 0===l?void 0:l.disabled)||k(e,!0);break;case ir.left:case ir.right:l&&!l.disabled&&ql(l)&&!d(l)?g():r&&m(),e.preventDefault();break;case ir.escape:o(),b(),e.preventDefault(),C&&e.stopPropagation();break;case ir.tab:a&&o(),b()}},onKeyUp:e=>{e.keyCode!==ir.space||(null===l||void 0===l?void 0:l.disabled)||k(e)},onItemActivate:D,onGroupToggle:x,toggleDropdown:S,closeDropdown:b,setIsUsingMouse:f}}const gu={"button-dropdown":"awsui_button-dropdown_sne0l_ncm5v_145","full-width":"awsui_full-width_sne0l_ncm5v_148","items-list-container":"awsui_items-list-container_sne0l_ncm5v_153","awsui-motion-fade-in-0":"awsui_awsui-motion-fade-in-0_sne0l_ncm5v_1",rotate:"awsui_rotate_sne0l_ncm5v_172","rotate-open":"awsui_rotate-open_sne0l_ncm5v_186",header:"awsui_header_sne0l_ncm5v_190",title:"awsui_title_sne0l_ncm5v_201",description:"awsui_description_sne0l_ncm5v_202","trigger-button":"awsui_trigger-button_sne0l_ncm5v_206",loading:"awsui_loading_sne0l_ncm5v_210","split-trigger-wrapper":"awsui_split-trigger-wrapper_sne0l_ncm5v_214","trigger-item":"awsui_trigger-item_sne0l_ncm5v_217","has-no-text":"awsui_has-no-text_sne0l_ncm5v_226","visual-refresh":"awsui_visual-refresh_sne0l_ncm5v_229","variant-normal":"awsui_variant-normal_sne0l_ncm5v_240","split-trigger":"awsui_split-trigger_sne0l_ncm5v_214","dropdown-trigger":"awsui_dropdown-trigger_sne0l_ncm5v_251","main-action-full-width":"awsui_main-action-full-width_sne0l_ncm5v_255","main-action-trigger-full-width":"awsui_main-action-trigger-full-width_sne0l_ncm5v_259","test-utils-button-trigger":"awsui_test-utils-button-trigger_sne0l_ncm5v_263"},mu=i.forwardRef((e,t)=>{var n,{items:o,variant:r="normal",loading:s=!1,loadingText:a,disabled:l=!1,disabledReason:u,expandableGroups:c=!1,children:d,onItemClick:h,onItemFollow:p,customTriggerBuilder:g,expandToViewport:m,ariaLabel:v,title:f,description:w,preferCenter:C,mainAction:b,showMainActionOnly:y,__internalRootRef:S,analyticsMetadataTransformer:x,linkStyle:D,fullWidth:E,position:F,nativeMainActionAttributes:k,nativeTriggerAttributes:A}=e,R=Et(e,["items","variant","loading","loadingText","disabled","disabledReason","expandableGroups","children","onItemClick","onItemFollow","customTriggerBuilder","expandToViewport","ariaLabel","title","description","preferCenter","mainAction","showMainActionOnly","__internalRootRef","analyticsMetadataTransformer","linkStyle","fullWidth","position","nativeMainActionAttributes","nativeTriggerAttributes"]);const P=In(),T=Yi("dropdown");for(const i of o)Yl(i)&&is(0,i.href);b&&is(0,b.href);const _=b&&("primary"===r||"normal"===r),M=Cn(),{isOpen:I,targetItem:L,isHighlighted:N,isKeyboardHighlight:B,isExpanded:O,highlightItem:G,onKeyDown:z,onKeyUp:V,onItemActivate:H,onGroupToggle:j,toggleDropdown:W,closeDropdown:U,setIsUsingMouse:K}=pu({items:o,onItemClick:h,onItemFollow:p,onReturnFocus:()=>{var e;return null===(e=$.current)||void 0===e?void 0:e.focus({preventScroll:!0})},expandToViewport:m,hasExpandableGroups:c,isInRestrictedView:P}),q=()=>{K(!0)},Y=zt(R),Z=(0,i.useRef)(null),$=(0,i.useRef)(null);(0,i.useImperativeHandle)(t,()=>({focus(){var e;null===(e=(_?Z:$).current)||void 0===e||e.focus(...arguments)},focusDropdownTrigger(){var e;null===(e=$.current)||void 0===e||e.focus(...arguments)}}),[Z,$,_]);const X=()=>{s||l||W({moveHighlightOnOpen:!P})},Q=!s&&!l,J=!!E&&("primary"===r||"normal"===r),ee="navigation"===r?void 0:"inline-icon"===r?"inline-icon":r,te="icon"===r||"inline-icon"===r?{iconName:"ellipsis"}:{iconName:"caret-down-filled",iconAlign:"right",__iconClass:Tl(gu,"rotate",Q&&I)},ne=Object.assign(Object.assign({className:Gn(gu["trigger-button"],gu["test-utils-button-trigger"],Jl)},te),{variant:ee,loading:s,loadingText:a,disabled:l,disabledReason:u,onClick:e=>{e.preventDefault(),X()},ariaLabel:v,ariaExpanded:Q&&I,formAction:"none",nativeButtonAttributes:Object.assign({"aria-haspopup":!0},A)}),ie=Yi("awsui-button-dropdown__trigger"),oe=()=>{const e=o.flatMap(e=>"items"in e?e.items:e);return"icon"===r&&!!(null===e||void 0===e?void 0:e.find(e=>{if("badge"in e)return e.badge}))};let re=null;const se=l?{}:{action:I?"collapse":"expand",detail:{label:".".concat(Jl)}};if(g)re=i.createElement("div",Object.assign({className:gu["dropdown-trigger"]},Qi(se)),g({testUtilsClass:gu["test-utils-button-trigger"],ariaExpanded:Q&&I,onClick:X,triggerRef:$,ariaLabel:v,disabled:l,disabledReason:u,isOpen:I}));else if(_){const{text:e,iconName:t,iconAlt:o,iconSvg:s,iconUrl:a,external:l,externalIconAriaLabel:u}=b,c=Et(b,["text","iconName","iconAlt","iconSvg","iconUrl","external","externalIconAriaLabel"]),h=l?{iconName:"external",iconAlign:"right",target:"_blank",rel:"noopener noreferrer"}:{iconName:t,iconAlt:o,iconSvg:s,iconUrl:a},p=u?"".concat(null!==(n=b.ariaLabel)&&void 0!==n?n:b.text," ").concat(b.externalIconAriaLabel):b.ariaLabel,g=!e,m=i.createElement(Ds,Object.assign({ref:Z},c,h,{fullWidth:J,className:Gn(gu["trigger-button"],g&&gu["has-no-text"],M&&gu["visual-refresh"],J&&gu["main-action-full-width"]),variant:r,ariaLabel:p,formAction:"none",nativeAnchorAttributes:null===k||void 0===k?void 0:k.anchor,nativeButtonAttributes:null===k||void 0===k?void 0:k.button}),e);re=i.createElement("div",{role:"group","aria-label":v,className:gu["split-trigger-wrapper"]},i.createElement("div",Object.assign({className:Gn(gu["trigger-item"],gu["split-trigger"],gu["variant-".concat(r)],c.loading&&gu.loading),onClick:U,onKeyDown:e=>e.stopPropagation(),onKeyUp:e=>e.stopPropagation()},Qi({action:"click",detail:{label:".".concat(tu)}})),m),!y&&i.createElement("div",Object.assign({className:Gn(gu["trigger-item"],gu["dropdown-trigger"],M&&gu["visual-refresh"],gu["variant-".concat(r)],ne.loading&&gu.loading)},Qi(se)),i.createElement(Ds,Object.assign({ref:$},ne,{className:Gn(ne.className,{[gu["main-action-trigger-full-width"]]:J}),__emitPerformanceMarks:!1}),d)))}else re=i.createElement("div",Object.assign({className:gu["dropdown-trigger"]},Qi(se)),i.createElement(Ds,Object.assign({ref:$,id:ie},ne,{className:Gn(ne.className,{[gu["full-width"]]:J,[gu.loading]:J&&!!s}),badge:oe(),fullWidth:E}),d));const ae=f||w,le=Yi("awsui-button-dropdown__header"),ue=!v&&!b&&"icon"!==r&&"inline-icon"!==r,{loadingButtonCount:ce}=Uo();return(0,i.useEffect)(()=>{if(s)return ce.current++,()=>{ce.current--}},[s,ce]),i.createElement("div",Object.assign({},Y,{onKeyDown:z,onKeyUp:V,onMouseDown:q,onMouseMove:q,className:Gn(gu["button-dropdown"],gu["variant-".concat(r)],J&&gu["full-width"],Y.className),"aria-owns":m&&I?T:void 0,ref:S}),i.createElement(El,{open:Q&&I,stretchWidth:!1,stretchTriggerHeight:"navigation"===r,expandToViewport:m,preferCenter:C,onDropdownClose:()=>W(),trigger:re,dropdownId:T},ae&&i.createElement("div",{className:gu.header,id:le},f&&i.createElement("div",{className:gu.title},i.createElement(Ua,{fontSize:"heading-s",fontWeight:"bold",color:"inherit",tagOverride:"h2",margin:{vertical:"n",horizontal:"n"}},f)),w&&i.createElement(Ua,{fontSize:"body-s"},i.createElement("span",{className:gu.description},w))),i.createElement(Pl,{open:Q&&I,position:"static",role:"menu",decreaseBlockMargin:!0,ariaLabel:v,ariaLabelledby:ae?le:ue?ie:void 0,statusType:"finished"},i.createElement(uu,{items:o,onItemActivate:H,onGroupToggle:j,hasExpandableGroups:c,targetItem:L,isHighlighted:N,isKeyboardHighlight:B,isExpanded:O,lastInDropdown:!0,highlightItem:G,expandToViewport:m,variant:r,analyticsMetadataTransformer:x,linkStyle:D,position:F}))))}),vu=mu;function fu(e){let{items:t,onItemClick:n,customTriggerBuilder:o,ariaLabel:r,globalDrawersStartIndex:s}=e;const a=void 0!==s,l=t.map((e,t)=>{return i=a&&t>=s,{id:(n=e).id,text:n.ariaLabels.drawerName,iconName:n.trigger.iconName,iconSvg:n.trigger.iconSvg,badge:n.badge,itemType:i?"checkbox":void 0,checked:n.active};var n,i});let u;return u=a?[{items:l.slice(0,s)},{items:l.slice(s)}]:l,i.createElement(vu,{items:u,className:Ws,onItemClick:n,ariaLabel:r,variant:"icon",customTriggerBuilder:o,expandToViewport:!0})}const wu="awsui_toggle_1uo6m_o2dyh_193",Cu="awsui_drawer_1uo6m_o2dyh_199",bu="awsui_drawer-mobile_1uo6m_o2dyh_209",yu="awsui_drawer-closed_1uo6m_o2dyh_212",Su="awsui_drawer-content_1uo6m_o2dyh_219",xu="awsui_drawer-content-clickable_1uo6m_o2dyh_233",Du="awsui_drawer-resize-content_1uo6m_o2dyh_243",Eu="awsui_drawer-content-wrapper_1uo6m_o2dyh_248",Fu="awsui_drawer-triggers-wrapper_1uo6m_o2dyh_252",ku="awsui_drawer-trigger_1uo6m_o2dyh_199",Au="awsui_drawer-trigger-active_1uo6m_o2dyh_271",Ru="awsui_resize-handle-wrapper_1uo6m_o2dyh_279",Pu="awsui_hide_1uo6m_o2dyh_289",Tu=i.forwardRef((e,t)=>{let{id:n,contentClassName:o,toggleClassName:r,closeClassName:s,width:a,type:l,toggleRefs:u,topOffset:c,bottomOffset:d,ariaLabels:h,children:p,hideOpenButton:g,isOpen:m,isHidden:v,isMobile:f,onToggle:w,onClick:C,onLoseFocus:b,resizeHandle:y}=e;const S=(0,i.useRef)(null),{TagName:x,iconName:D}=Js[l],{mainLabel:E,closeLabel:F,openLabel:k}=h,A=m?f?void 0:a:void 0,R=i.createElement(x,{ref:S,"aria-label":E,className:wu,"aria-hidden":m},i.createElement(ea,{ref:u.toggle,className:r,iconName:D,ariaLabel:k,onClick:()=>w(!0),ariaExpanded:!!m&&void 0}));return i.createElement("div",{ref:t,className:Gn(Cu,{[Pu]:v,[yu]:!m,[bu]:f}),style:{width:A},onBlur:b?e=>{e.relatedTarget&&e.currentTarget.contains(e.relatedTarget)||b(e)}:void 0,onClick:e=>{var t;C&&C(e),m||S.current!==e.target&&(null===(t=S.current)||void 0===t?void 0:t.contains(e.target))||w(!0)}},i.createElement("div",{id:n,style:{width:A,top:c,bottom:d},className:Gn(Su,xu,o,{[Ns]:!m})},!f&&!g&&R,i.createElement(x,{className:Gn(y&&Du,Eu),"aria-label":E,"aria-hidden":!m,style:{blockSize:"calc(100vh - ".concat((c||0)+(d||0),"px)")}},!f&&m&&i.createElement("div",{className:Ru},y),i.createElement(ta,{ref:u.close,className:s,ariaLabel:F,onClick:()=>{w(!1)}}),p)))}),_u=i.forwardRef((e,t)=>{let{testUtilsClassName:n,ariaLabel:o,ariaExpanded:r,ariaControls:s,badge:a,itemId:l,isActive:u,trigger:c,onClick:d}=e;return i.createElement("div",{className:Gn(ku,u&&Au,u&&Hi("app-layout-tools-drawer-trigger")),onClick:d},i.createElement(ea,{ref:t,className:n,iconName:c.iconName,iconSvg:c.iconSvg,ariaLabel:o,ariaExpanded:r,ariaControls:s,badge:a,testId:l&&"awsui-app-layout-trigger-".concat(l)}))}),Mu=e=>{let{isMobile:t,topOffset:n,bottomOffset:o,activeDrawerId:r,ariaLabels:s,drawers:a,drawerRefs:l,onDrawerChange:u}=e;const c=i.useRef(null),d=(0,i.useRef)(r),[h,p]=Ri(e=>e.contentBoxHeight),g="compact"===mn(c);r&&(d.current=r);const{visibleItems:m,overflowItems:v}=ja(a,(()=>{if(h){const e=g?34:38,t=h/1.5;return Math.floor(t/e)}return 0})(),r),f=!!v.find(e=>e.badge);return i.createElement("div",{className:Gn(Cu,yu,Ns,{[bu]:t,[Pu]:1===a.length&&!!r}),ref:c},i.createElement("div",{ref:p,style:{top:n,bottom:o},className:Gn(Su,{[xu]:1===a.length}),onClick:1===a.length?()=>u(a[0].id!==r?a[0].id:null):void 0},!t&&i.createElement("aside",{"aria-label":null===s||void 0===s?void 0:s.drawers,role:"region"},i.createElement("div",{className:Fu,"aria-label":null===s||void 0===s?void 0:s.drawers,role:"toolbar","aria-orientation":"vertical"},m.map((e,t)=>{var n;return i.createElement(_u,{key:t,testUtilsClassName:Gn(Gs,e.id===Ba&&Ls),ariaExpanded:r===e.id,ref:e.id===d.current?l.toggle:void 0,ariaLabel:null===(n=e.ariaLabels)||void 0===n?void 0:n.triggerButton,ariaControls:r===e.id?e.id:void 0,trigger:e.trigger,badge:e.badge,itemId:e.id,isActive:r===e.id,onClick:1!==a.length?()=>u(e.id!==r?e.id:null):void 0})}),v.length>0&&i.createElement("div",{className:ku},i.createElement(fu,{ariaLabel:f?null===s||void 0===s?void 0:s.drawersOverflowWithBadge:null===s||void 0===s?void 0:s.drawersOverflow,items:v,onItemClick:e=>{let{detail:t}=e;return u(t.id)}}))))))},Iu={"direction-button-wrapper":"awsui_direction-button-wrapper_155yk_wu53c_169","direction-button-wrapper-motion-enter":"awsui_direction-button-wrapper-motion-enter_155yk_wu53c_189","direction-button-wrapper-motion-entering":"awsui_direction-button-wrapper-motion-entering_155yk_wu53c_189","direction-button-wrapper-motion-exit":"awsui_direction-button-wrapper-motion-exit_155yk_wu53c_189","direction-button-wrapper-motion-exiting":"awsui_direction-button-wrapper-motion-exiting_155yk_wu53c_189","drag-handle-entry":"awsui_drag-handle-entry_155yk_wu53c_1","awsui-motion-fade-in":"awsui_awsui-motion-fade-in_155yk_wu53c_1","drag-handle-exit":"awsui_drag-handle-exit_155yk_wu53c_1","awsui-motion-fade-out-0":"awsui_awsui-motion-fade-out-0_155yk_wu53c_1","direction-button-wrapper-block-start":"awsui_direction-button-wrapper-block-start_155yk_wu53c_229","direction-button-wrapper-block-end":"awsui_direction-button-wrapper-block-end_155yk_wu53c_233","direction-button-wrapper-inline-start":"awsui_direction-button-wrapper-inline-start_155yk_wu53c_237","direction-button-wrapper-inline-end":"awsui_direction-button-wrapper-inline-end_155yk_wu53c_238","direction-button-wrapper-rtl":"awsui_direction-button-wrapper-rtl_155yk_wu53c_238","drag-handle-wrapper":"awsui_drag-handle-wrapper_155yk_wu53c_247","portal-overlay":"awsui_portal-overlay_155yk_wu53c_252","portal-overlay-contents":"awsui_portal-overlay-contents_155yk_wu53c_260","drag-handle":"awsui_drag-handle_155yk_wu53c_247","direction-button-wrapper-hidden":"awsui_direction-button-wrapper-hidden_155yk_wu53c_277","direction-button":"awsui_direction-button_155yk_wu53c_169","direction-button-disabled":"awsui_direction-button-disabled_155yk_wu53c_320"},Lu={root:"awsui_root_8k1rt_1i1h9_5","direction-button":"awsui_direction-button_8k1rt_1i1h9_9","direction-button-visible":"awsui_direction-button-visible_8k1rt_1i1h9_13","direction-button-block-start":"awsui_direction-button-block-start_8k1rt_1i1h9_17","direction-button-block-end":"awsui_direction-button-block-end_8k1rt_1i1h9_21","direction-button-inline-start":"awsui_direction-button-inline-start_8k1rt_1i1h9_25","direction-button-inline-end":"awsui_direction-button-inline-end_8k1rt_1i1h9_29"},Nu={"block-start":"arrow-up","block-end":"arrow-down","inline-start":"arrow-left","inline-end":"arrow-right"};function Bu(e){let{direction:t,state:n,show:o,onClick:r}=e;return i.createElement(Nr,{in:o},(e,o)=>i.createElement("span",{ref:o,className:Gn(Iu["direction-button-wrapper"],Iu["direction-button-wrapper-".concat(t)],"exited"===e&&Iu["direction-button-wrapper-hidden"],Iu["direction-button-wrapper-motion-".concat(e)])},i.createElement("span",{className:Gn(Iu["direction-button"],"disabled"===n&&Iu["direction-button-disabled"],Lu["direction-button-".concat(t)],"exited"!==e&&Lu["direction-button-visible"]),onClick:"disabled"!==n?r:void 0,onPointerDown:e=>e.preventDefault()},i.createElement(oo,{name:Nu[t],size:"small"}))))}function Ou(e){let{track:t,isDisabled:n,children:o}=e;const r=(0,i.useRef)(null),[s,a]=(0,i.useState)(null);return(0,i.useLayoutEffect)(()=>{if(t.current){const e=t.current.ownerDocument.createElement("div");return t.current.ownerDocument.body.appendChild(e),a(e),()=>e.remove()}},[t]),(0,i.useEffect)(()=>{if(null===t.current||n)return;let e,i,o,s,a=!1;const l=()=>{if(t.current&&r.current&&document.body.contains(r.current)){const n=rr(r.current),{insetInlineStart:a,insetBlockStart:l,inlineSize:u,blockSize:c}=lr(t.current),d=(a+sr(document.documentElement))*(n?-1:1),h=l+document.documentElement.scrollTop;e===d&&i===h||(r.current.style.translate="".concat(d,"px ").concat(h,"px"),e=d,i=h),o===u&&s===c||(r.current.style.width="".concat(u,"px"),r.current.style.height="".concat(c,"px"),o=u,s=c)}a||requestAnimationFrame(l)};return l(),()=>{a=!0}},[n,t]),i.createElement(Ko,{container:s},i.createElement("span",{ref:r,className:Iu["portal-overlay"]},i.createElement("span",{className:Iu["portal-overlay-contents"]},o)))}function Gu(e){let{directions:t,tooltipText:n,children:o,onDirectionClick:r,triggerMode:s="focus",initialShowButtons:a=!1,controlledShowButtons:l=!1,hideButtonsOnDrag:u,clickDragThreshold:c}=e;const d=(0,i.useRef)(null),h=(0,i.useRef)(null),[p,g]=(0,i.useState)(!1),[m,v]=(0,i.useState)(a),f=(0,i.useRef)(!1),w=(0,i.useRef)(),C=(0,i.useRef)(!1),b=!t["block-start"]&&!t["block-end"]&&!t["inline-start"]&&!t["inline-end"];(0,i.useEffect)(()=>{const e=new AbortController;document.addEventListener("pointermove",e=>{f.current&&w.current&&(e.clientX>w.current.x+c||e.clientX<w.current.x-c||e.clientY>w.current.y+c||e.clientY<w.current.y-c)&&(C.current=!0,u&&v(!1))},{signal:e.signal});const t=()=>{f.current=!1,w.current=void 0};return document.addEventListener("pointercancel",()=>{t()},{signal:e.signal}),document.addEventListener("pointerup",()=>{f.current&&!C.current&&v(!0),t()},{signal:e.signal}),()=>e.abort()},[c,u]);const y=e=>{var t;h.current&&(null===(t=er(h.current))||void 0===t||t.focus()),null===r||void 0===r||r(e)},S="controlled"===s?l:m;return i.createElement("div",{className:Gn(Iu["drag-handle-wrapper"],S&&Iu["drag-handle-wrapper-open"]),ref:d,onFocus:e=>{document.body.dataset.awsuiFocusVisible&&!lo(d.current,e.relatedTarget)&&(g(!1),"focus"===s&&v(!0))},onBlur:e=>{document.hasFocus()&&!lo(d.current,e.relatedTarget)&&v(!1)}},i.createElement("div",{onPointerEnter:()=>{f.current||g(!0)},onPointerLeave:()=>{g(!1)}},i.createElement("div",{className:Iu["drag-handle"],ref:h,onPointerDown:e=>{f.current=!0,C.current=!1,w.current={x:e.clientX,y:e.clientY},g(!1)},onKeyDown:e=>{"Escape"===e.key?v(!1):"keyboard-activate"!==s||"Enter"!==e.key&&" "!==e.key?"Alt"!==e.key&&"Control"!==e.key&&"Meta"!==e.key&&"Shift"!==e.key&&"focus"===s&&v(!0):v(e=>!e)}},o),!b&&!S&&p&&n&&i.createElement(Or,{trackRef:h,value:n,onDismiss:()=>g(!1)})),i.createElement(Ou,{track:h,isDisabled:!S},t["block-start"]&&i.createElement(Bu,{show:!b&&S,direction:"block-start",state:t["block-start"],onClick:()=>y("block-start")}),t["block-end"]&&i.createElement(Bu,{show:!b&&S,direction:"block-end",state:t["block-end"],onClick:()=>y("block-end")}),t["inline-start"]&&i.createElement(Bu,{show:!b&&S,direction:"inline-start",state:t["inline-start"],onClick:()=>y("inline-start")}),t["inline-end"]&&i.createElement(Bu,{show:!b&&S,direction:"inline-end",state:t["inline-end"],onClick:()=>y("inline-end")})))}const zu={handle:"awsui_handle_sdha6_45ome_145","handle-size-normal":"awsui_handle-size-normal_sdha6_45ome_153","handle-size-small":"awsui_handle-size-small_sdha6_45ome_157","handle-drag-indicator":"awsui_handle-drag-indicator_sdha6_45ome_160","handle-disabled":"awsui_handle-disabled_sdha6_45ome_160",active:"awsui_active_sdha6_45ome_163","handle-resize-area":"awsui_handle-resize-area_sdha6_45ome_166","handle-resize-horizontal":"awsui_handle-resize-horizontal_sdha6_45ome_173","handle-resize-vertical":"awsui_handle-resize-vertical_sdha6_45ome_176","hide-focus":"awsui_hide-focus_sdha6_45ome_186","resize-icon":"awsui_resize-icon_sdha6_45ome_208","resize-icon-vertical":"awsui_resize-icon-vertical_sdha6_45ome_214","resize-icon-horizontal":"awsui_resize-icon-horizontal_sdha6_45ome_218","prevent-pointer":"awsui_prevent-pointer_sdha6_45ome_222"};function Vu(e){let{variant:t}=e;return i.createElement("svg",{focusable:"false",className:Gn(zu["resize-icon"],zu["resize-icon-".concat(t)]),xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16","aria-hidden":!0},i.createElement("path",{d:"M2 8H14",strokeWidth:"2",strokeLinecap:"round"}))}const Hu="awsui_root_1om0h_im8v7_5",ju=(0,i.forwardRef)((e,t)=>{let{variant:n="drag-indicator",size:o="normal",active:r=!1,className:s,ariaLabel:a,ariaLabelledBy:l,ariaDescribedby:u,ariaValue:c,disabled:d,onPointerDown:h,onClick:p,onKeyDown:g}=e;const m=(0,i.useRef)(null),v=(()=>{const e={variant:d?"disabled":void 0,size:o};switch(n){case"drag-indicator":return Object.assign(Object.assign({},e),{name:"drag-indicator"});case"resize-area":return Object.assign(Object.assign({},e),{name:"resize-area"});case"resize-horizontal":return Object.assign(Object.assign({},e),{svg:i.createElement(Vu,{variant:"horizontal"})});case"resize-vertical":return Object.assign(Object.assign({},e),{svg:i.createElement(Vu,{variant:"vertical"})})}})();return i.createElement("div",{ref:Tt(t,m),role:c?"slider":"application",tabIndex:0,className:Gn(s,zu.handle,Hu,zu["handle-".concat(n)],zu["handle-size-".concat(o)],d&&zu["handle-disabled"],r&&zu.active),"aria-label":a,"aria-labelledby":l,"aria-describedby":u,"aria-disabled":d,"aria-valuemax":null===c||void 0===c?void 0:c.valueMax,"aria-valuemin":null===c||void 0===c?void 0:c.valueMin,"aria-valuenow":null===c||void 0===c?void 0:c.valueNow,onPointerDown:h,onClick:p,onKeyDown:g},i.createElement("div",{className:zu["prevent-pointer"]},i.createElement(oo,Object.assign({},v))))}),Wu=ju,Uu=(0,i.forwardRef)((e,t)=>{var{variant:n,size:o,ariaLabel:r,ariaLabelledBy:s,ariaDescribedby:a,tooltipText:l,ariaValue:u,disabled:c,directions:d={},onPointerDown:h,onClick:p,onKeyDown:g,onDirectionClick:m,triggerMode:v,initialShowButtons:f,controlledShowButtons:w,hideButtonsOnDrag:C=!1,clickDragThreshold:b=3,active:y}=e;const S=zt(Et(e,["variant","size","ariaLabel","ariaLabelledBy","ariaDescribedby","tooltipText","ariaValue","disabled","directions","onPointerDown","onClick","onKeyDown","onDirectionClick","triggerMode","initialShowButtons","controlledShowButtons","hideButtonsOnDrag","clickDragThreshold","active"]));return i.createElement(Gu,{directions:c?{}:d,tooltipText:l,onDirectionClick:m,triggerMode:v,initialShowButtons:f,controlledShowButtons:w,hideButtonsOnDrag:C,clickDragThreshold:b},i.createElement(Wu,{ref:t,className:S.className,variant:n,size:o,ariaLabel:r,ariaLabelledBy:s,ariaDescribedby:a,ariaValue:u,disabled:c,active:y,onPointerDown:h,onClick:p,onKeyDown:g}))}),Ku=Uu,qu={slider:"awsui_slider_cqzlk_pwkoj_145","slider-side":"awsui_slider-side_cqzlk_pwkoj_179","slider-side-start":"awsui_slider-side-start_cqzlk_pwkoj_180"},Yu=i.forwardRef(function(e,t){let{className:n,ariaLabel:o,tooltipText:r,ariaValuenow:s,position:a,onDirectionClick:l,onKeyDown:u,onPointerDown:c,disabled:d}=e;return i.createElement(Ku,{className:Gn(n,qu.slider,qu["slider-".concat(a)]),ariaLabel:o,tooltipText:r,ariaValue:{valueMin:0,valueMax:100,valueNow:null!==s&&void 0!==s?s:0},variant:["side","side-start"].includes(a)?"resize-horizontal":"resize-vertical",directions:d?{"inline-start":"disabled","inline-end":"disabled"}:"side"===a?{"inline-end":0===s?"disabled":"active","inline-start":100===s?"disabled":"active"}:"side-start"===a?{"inline-end":100===s?"disabled":"active","inline-start":0===s?"disabled":"active"}:{"block-end":0===s?"disabled":"active","block-start":100===s?"disabled":"active"},onDirectionClick:l,onKeyDown:u,onPointerDown:c,ref:t})});function Zu(e){return vo(e.currentTarget)||fo(e.currentTarget)}function $u(e,t){let{onActivate:n,onBlockEnd:i,onBlockStart:o,onDefault:r,onEnd:s,onEscape:a,onHome:l,onInlineEnd:u,onInlineStart:c,onPageDown:d,onPageUp:h}=t;switch(e.keyCode){case ir.down:null===i||void 0===i||i();break;case ir.end:null===s||void 0===s||s();break;case ir.enter:case ir.space:null===n||void 0===n||n();break;case ir.escape:null===a||void 0===a||a();break;case ir.home:null===l||void 0===l||l();break;case ir.left:rr(e.currentTarget)?null===u||void 0===u||u():null===c||void 0===c||c();break;case ir.pageDown:null===d||void 0===d||d();break;case ir.pageUp:null===h||void 0===h||h();break;case ir.right:rr(e.currentTarget)?null===c||void 0===c||c():null===u||void 0===u||u();break;case ir.up:null===o||void 0===o||o();break;default:null===r||void 0===r||r()}}const Xu=e=>e&&e.current?{panelHeight:e.current.clientHeight,panelWidth:e.current.clientWidth}:{panelHeight:0,panelWidth:0},Qu=e=>{let{position:t,onResize:n,panelRef:i}=e;return{onDirectionClick:e=>{let o;const{panelHeight:r,panelWidth:s}=Xu(i);o=["side","side-start"].includes(t)?s:r;const a=()=>n(o+10),l=()=>n(o-10);switch(e){case"block-start":case"inline-start":"side-start"===t?l():a();break;case"block-end":case"inline-end":"side-start"===t?a():l()}},onKeyDown:e=>{let o,r;const{panelHeight:s,panelWidth:a}=Xu(i);["side","side-start"].includes(t)?(o=a,r=window.innerWidth):(o=s,r=window.innerHeight);let l=!0;const u=()=>n(o+10),c=()=>n(o-10);$u(e,{onBlockStart:()=>{["bottom","side-start"].includes(t)?u():c()},onBlockEnd:()=>{["bottom","side-start"].includes(t)?c():u()},onInlineEnd:()=>{["bottom","side-start"].includes(t)?u():c()},onInlineStart:()=>{["bottom","side-start"].includes(t)?c():u()},onPageDown:()=>n(o-60),onPageUp:()=>n(o+60),onHome:()=>n(r),onEnd:()=>n(0),onDefault:()=>l=!1}),l&&e.preventDefault()}}},Ju={"with-motion-vertical":"awsui_with-motion-vertical_b18tp_pelqr_146","with-motion-horizontal":"awsui_with-motion-horizontal_b18tp_pelqr_165","resize-active":"awsui_resize-active_b18tp_pelqr_184","resize-side":"awsui_resize-side_b18tp_pelqr_195","resize-bottom":"awsui_resize-bottom_b18tp_pelqr_198"},ec=e=>{let{position:t,panelRef:n,handleRef:o,onResize:r}=e;const s=(0,i.useCallback)(e=>{if(n&&n.current&&o&&o.current)if("side"===t){const t=ar(e,rr(n.current))||0,i=lr(o.current).inlineSize/2,s=lr(n.current).insetInlineEnd-t+i;r(s)}else if("side-start"===t){const t=ar(e,rr(n.current))||0,i=lr(o.current).inlineSize/2,s=lr(n.current),a=s.insetInlineEnd+t+i-s.inlineSize;r(a)}else{const t=e.clientY||0,i=lr(o.current).blockSize/2,s=lr(n.current).insetBlockEnd-t+i;r(s)}},[t,n,o,r]),a=(0,i.useCallback)(()=>{const e=null===n||void 0===n?void 0:n.current;if(!e)return;const i=e.ownerDocument;i.body.classList.remove(Ju["resize-active"]),i.body.classList.remove(Ju["resize-".concat(t)]),i.removeEventListener("pointerup",a),i.removeEventListener("pointermove",s)},[n,s,t]);return(0,i.useCallback)(()=>{const e=null===n||void 0===n?void 0:n.current;if(!e)return;const i=e.ownerDocument;i.body.classList.add(Ju["resize-active"]),i.body.classList.add(Ju["resize-".concat(t)]),i.addEventListener("pointerup",a),i.addEventListener("pointermove",s)},[n,s,a,t])},tc=e=>{var t,n,o,r,s,{onResize:a,maxWidth:l,minWidth:u,refs:c,activeDrawer:d,toolsContent:h}=e,p=Et(e,["onResize","maxWidth","minWidth","refs","activeDrawer","toolsContent"]);const{isOpen:g,children:m,width:v,isMobile:f}=p,w=Oi(u,v,l),C=(w-u)/(l-u)*100,b=(0,i.useRef)(null),y={position:"side",panelRef:b,handleRef:c.slider,onResize:e=>{const t=Oi(u,e,l),n=null===d||void 0===d?void 0:d.id;g&&n&&l>=u&&a({size:t,id:n})}},S=ec(y),{onKeyDown:x,onDirectionClick:D}=Qu(y);return i.createElement(Tu,Object.assign({},p,{id:null===d||void 0===d?void 0:d.id,width:w,ref:b,isHidden:!d,resizeHandle:!f&&(null===d||void 0===d?void 0:d.resizable)&&i.createElement(Yu,{ref:c.slider,position:"side",className:Us,ariaLabel:null===(t=null===d||void 0===d?void 0:d.ariaLabels)||void 0===t?void 0:t.resizeHandle,tooltipText:null===(n=null===d||void 0===d?void 0:d.ariaLabels)||void 0===n?void 0:n.resizeHandleTooltipText,ariaValuenow:C,onKeyDown:x,onDirectionClick:D,onPointerDown:S}),ariaLabels:{openLabel:null===(o=null===d||void 0===d?void 0:d.ariaLabels)||void 0===o?void 0:o.triggerButton,mainLabel:null===(r=null===d||void 0===d?void 0:d.ariaLabels)||void 0===r?void 0:r.drawerName,closeLabel:null===(s=null===d||void 0===d?void 0:d.ariaLabels)||void 0===s?void 0:s.closeButton}}),h&&i.createElement("div",{className:Gn((null===d||void 0===d?void 0:d.id)!==Ba&&Pu)},h),(null===d||void 0===d?void 0:d.id)!==Ba?m:null)},nc={root:"awsui_root_lm6vo_j45og_153","root-no-scroll":"awsui_root-no-scroll_lm6vo_j45og_160",layout:"awsui_layout_lm6vo_j45og_165","layout-no-scroll":"awsui_layout-no-scroll_lm6vo_j45og_171","layout-main":"awsui_layout-main_lm6vo_j45og_175","layout-main-scrollable":"awsui_layout-main-scrollable_lm6vo_j45og_181",unfocusable:"awsui_unfocusable_lm6vo_j45og_186","breadcrumbs-desktop":"awsui_breadcrumbs-desktop_lm6vo_j45og_190","content-header-wrapper":"awsui_content-header-wrapper_lm6vo_j45og_195","content-wrapper":"awsui_content-wrapper_lm6vo_j45og_199","content-overlapped":"awsui_content-overlapped_lm6vo_j45og_203","content-extra-top-padding":"awsui_content-extra-top-padding_lm6vo_j45og_207"},ic={"block-body-scroll":"awsui_block-body-scroll_19d8l_ug653_153","mobile-bar":"awsui_mobile-bar_19d8l_ug653_157","mobile-bar-breadcrumbs":"awsui_mobile-bar-breadcrumbs_19d8l_ug653_170","mobile-toggle":"awsui_mobile-toggle_19d8l_ug653_177","mobile-toggle-type-navigation":"awsui_mobile-toggle-type-navigation_19d8l_ug653_186","mobile-toggle-type-tools":"awsui_mobile-toggle-type-tools_19d8l_ug653_189","mobile-toggle-type-drawer":"awsui_mobile-toggle-type-drawer_19d8l_ug653_189","drawers-container":"awsui_drawers-container_19d8l_ug653_196"},oc=i.forwardRef((e,t)=>{let{className:n,ariaLabels:o,type:r,disabled:s,onClick:a}=e;const{TagName:l,iconName:u,getLabels:c}=Js[r],{mainLabel:d,openLabel:h}=c(o);return i.createElement(l,{className:Gn(ic["mobile-toggle"],ic["mobile-toggle-type-".concat(r)]),"aria-hidden":s,"aria-label":d,onClick:e=>e.target===e.currentTarget&&a()},i.createElement(ea,{ref:t,className:n,iconName:u,onClick:a,ariaLabel:h,disabled:s,ariaExpanded:s}))});function rc(e){let{ariaLabels:t,toggleRefs:n,topOffset:o,navigationHide:r,toolsHide:s,anyPanelOpen:a,unfocusable:l,drawers:u,activeDrawerId:c,children:d,onNavigationOpen:h,onToolsOpen:p,onDrawerChange:g,mobileBarRef:m}=e;(0,i.useEffect)(()=>{if(a)return document.body.classList.add(ic["block-body-scroll"]),()=>{document.body.classList.remove(ic["block-body-scroll"])};document.body.classList.remove(ic["block-body-scroll"])},[a]);const{overflowItems:v,visibleItems:f}=ja(u,2,c),w=!!v.find(e=>e.badge);return i.createElement("div",{ref:m,className:Gn(ic["mobile-bar"],Bs,l&&nc.unfocusable),style:{top:o}},!r&&i.createElement(oc,{ref:n.navigation,type:"navigation",className:As,ariaLabels:t,disabled:a,onClick:h}),i.createElement("div",{className:ic["mobile-bar-breadcrumbs"]},d&&i.createElement("div",{className:_s},d)),!s&&!u&&i.createElement(oc,{ref:n.tools,type:"tools",className:Ls,ariaLabels:t,disabled:a,onClick:p}),u&&i.createElement("aside",{"aria-label":null===t||void 0===t?void 0:t.drawers,role:"region"},i.createElement("div",{className:ic["drawers-container"],"aria-label":null===t||void 0===t?void 0:t.drawers,role:"toolbar","aria-orientation":"horizontal"},f.map((e,t)=>{var n;return i.createElement("div",{className:Gn(ic["mobile-toggle"],ic["mobile-toggle-type-drawer"]),key:t,onClick:()=>g(e.id)},i.createElement(ea,{className:Gn(Gs,e.id===Ba&&Ls),iconName:e.trigger.iconName,iconSvg:e.trigger.iconSvg,badge:e.badge,ariaLabel:null===(n=e.ariaLabels)||void 0===n?void 0:n.triggerButton,ariaExpanded:c===e.id,testId:"awsui-app-layout-trigger-".concat(e.id)}))}),v.length>0&&i.createElement("div",{className:Gn(ic["mobile-toggle"],ic["mobile-toggle-type-drawer"])},i.createElement(fu,{ariaLabel:w?null===t||void 0===t?void 0:t.drawersOverflowWithBadge:null===t||void 0===t?void 0:t.drawersOverflow,items:v,onItemClick:e=>{let{detail:t}=e;return g(t.id)}})))))}const sc="awsui_notifications_1hmm4_1tkmw_9",ac="awsui_notifications-sticky_1hmm4_1tkmw_10",lc="awsui_no-content-paddings_1hmm4_1tkmw_25",uc=i.forwardRef((e,t)=>{var n,o,{sticky:r,disableContentPaddings:s}=e,a=Et(e,["sticky","disableContentPaddings"]);return r?i.createElement("div",{ref:t,className:ac,style:{top:a.topOffset}},i.createElement("div",{role:"region",className:Gn(a.testUtilsClassName,s&&lc),"aria-label":null===(n=a.labels)||void 0===n?void 0:n.notifications},a.children)):i.createElement("div",{role:"region",ref:t,className:Gn(a.testUtilsClassName,sc,s&&lc),"aria-label":null===(o=a.labels)||void 0===o?void 0:o.notifications},a.children)}),cc=Ra.sharedReactContexts.createContext(i,"AppLayoutWidgetSplitPanelContext"),dc=cc.Provider;const hc=280;function pc(e){var{children:t,size:n,getMaxHeight:o,maxWidth:r,reportSize:s,onResize:a}=e,l=Et(e,["children","size","getMaxHeight","maxWidth","reportSize","onResize"]);const{position:u,isOpen:c}=l,[d,h]=(0,i.useState)(n),p="bottom"===u?160:hc,g="bottom"===u?d:r,m=Oi(p,n,g),v=(n-p)/(g-p)*100;return(0,i.useEffect)(()=>{if("bottom"!==u)return;const e=requestAnimationFrame(()=>h(o()));return()=>cancelAnimationFrame(e)},[n,p,u,o]),(0,i.useEffect)(()=>{s(m)},[s,m]),(0,i.useEffect)(()=>{if("bottom"!==u)return;const e=()=>h(o());return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[u,o]),i.createElement(dc,{value:Object.assign(Object.assign({},l),{size:m,relativeSize:v,onResize:e=>{const t="side"===u?r:o();c&&("side"===u?t>=hc:t>=160)&&a(Oi(p,e,t))}})},t)}const gc="awsui_drawer-displayed_1lh3u_16xqy_149",mc="awsui_drawer-content_1lh3u_16xqy_153";function vc(e){let{displayed:t,children:n}=e;const{isOpen:o,size:r,topOffset:s,bottomOffset:a}=function(){const e=(0,i.useContext)(cc);if(!e)throw new Error("Split panel can only be used inside app layout");return e}(),l=o&&n?r:void 0;return i.createElement("div",{className:Gn(t&&gc),style:{width:l},"data-testid":"side-split-panel-drawer"},i.createElement("div",{className:mc,style:{width:l,top:s,bottom:a}},n))}const fc=function(e){let t;return()=>(void 0===t&&(t=e()),t)}(()=>{if("undefined"===typeof document)return{width:0,height:0};const e=document.createElement("div");e.style.overflow="scroll",e.style.height="100px",e.style.width="100px",e.style.position="absolute",e.style.top="-9999px",e.style.left="-9999px",document.body.appendChild(e);const t=e.offsetWidth-e.clientWidth,n=e.offsetHeight-e.clientHeight;return document.body.removeChild(e),{width:t,height:n}});const wc=function(){let e=!1;return t=>{const n=e?hc+fc().width:hc;return e=t<n,e}}();function Cc(e){let{isMobile:t,availableWidthForSplitPanel:n}=e;return!!t||wc(n)}const bc={stickyVerticalTopOffset:"--awsui-sticky-vertical-top-offset",stickyVerticalBottomOffset:"--awsui-sticky-vertical-bottom-offset"};function yc(e,t,n,i,o,r){return{[bc.stickyVerticalTopOffset]:"calc(".concat(o?0:e,"px + ").concat(r?i:n,")"),[bc.stickyVerticalBottomOffset]:"".concat(o?0:t,"px")}}function Sc(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0;const o={toggle:(0,i.useRef)(null),close:(0,i.useRef)(null),slider:(0,i.useRef)(null)},r=(0,i.useRef)(),s=(0,i.useRef)(!1),a=()=>{var n,i,a;s.current&&(e?(r.current=document.activeElement!==document.body?document.activeElement:void 0,o.slider.current?null===(n=o.slider.current)||void 0===n||n.focus():null===(i=o.close.current)||void 0===i||i.focus()):t&&r.current&&document.contains(r.current)?(r.current.focus(),r.current=void 0):null===(a=o.toggle.current)||void 0===a||a.focus(),s.current=!1)};(0,i.useEffect)(a,[e,n]);const l=(0,i.useCallback)(()=>{r.current=void 0},[]);return{refs:o,setFocus:t=>{s.current=!0,t&&e&&a()},loseFocus:l}}function xc(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0;const o={toggle:(0,i.useRef)(null),close:(0,i.useRef)(null),slider:(0,i.useRef)(null)},r=(0,i.useRef)(),s=(0,i.useRef)(!1),a=()=>{var n,i,s;e?(r.current=document.activeElement!==document.body?document.activeElement:void 0,o.slider.current?null===(n=o.slider.current)||void 0===n||n.focus():null===(i=o.close.current)||void 0===i||i.focus()):t&&r.current&&document.contains(r.current)?(r.current.focus(),r.current=void 0):null===(s=o.toggle.current)||void 0===s||s.focus()};(0,i.useEffect)(()=>{s.current&&Promise.resolve().then(()=>{a(),s.current=!1})},[e,n]);const l=(0,i.useCallback)(()=>{r.current=void 0},[]);return{refs:o,setFocus:t=>{t&&e?a():s.current=!0},loseFocus:l}}function Dc(e){const t={toggle:(0,i.useRef)(null),slider:(0,i.useRef)(null),preferences:(0,i.useRef)(null)},n=(0,i.useRef)(null);return(0,i.useEffect)(()=>{Promise.resolve().then(()=>{var e,i,o,r;switch(null===(e=n.current)||void 0===e?void 0:e.type){case"open":null===(i=t.slider.current)||void 0===i||i.focus();break;case"close":null===(o=t.toggle.current)||void 0===o||o.focus();break;case"position":null===(r=t.preferences.current)||void 0===r||r.focus()}n.current=null})},e),{refs:t,setLastInteraction:e=>n.current=e}}const Ec=i.forwardRef((e,t)=>{var n,o,r,s,a,l,u,{navigation:c,navigationWidth:d,navigationHide:h,navigationOpen:p,tools:g,toolsWidth:m,toolsHide:v,toolsOpen:f,breadcrumbs:w,notifications:C,stickyNotifications:b,contentHeader:y,disableContentHeaderOverlap:S,content:x,contentType:D,disableContentPaddings:E,disableBodyScroll:F,maxContentWidth:k,minContentWidth:A,placement:R,ariaLabels:P,splitPanel:T,splitPanelSize:_,splitPanelOpen:M,splitPanelPreferences:I,onSplitPanelPreferencesChange:L,onSplitPanelResize:N,onSplitPanelToggle:B,onNavigationChange:O,onToolsChange:G,drawers:z,onDrawerChange:V,activeDrawerId:H}=e,j=Et(e,["navigation","navigationWidth","navigationHide","navigationOpen","tools","toolsWidth","toolsHide","toolsOpen","breadcrumbs","notifications","stickyNotifications","contentHeader","disableContentHeaderOverlap","content","contentType","disableContentPaddings","disableBodyScroll","maxContentWidth","minContentWidth","placement","ariaLabels","splitPanel","splitPanelSize","splitPanelOpen","splitPanelPreferences","onSplitPanelPreferencesChange","onSplitPanelResize","onSplitPanelToggle","onNavigationChange","onToolsChange","drawers","onDrawerChange","activeDrawerId"]);const W=Boolean(j.__embeddedViewMode),U=(0,i.useRef)(null),K=In(),[q=!1,Y]=Fn(f,0,!1,{componentName:"AppLayout",controlledProp:"toolsOpen",changeHandler:"onToolsChange"}),Z=e=>{Y(e),oe?de():le(),_i(G,{open:e})},{drawers:$,activeDrawer:X,minDrawerSize:Q,activeDrawerSize:J,activeDrawerId:ee,ariaLabelsWithDrawers:te,onActiveDrawerChange:ne,onActiveDrawerResize:ie}=Ha(Object.assign({drawers:z,onDrawerChange:V,activeDrawerId:H},j),P,{disableDrawersMerge:!0,ariaLabels:P,tools:g,toolsOpen:q,toolsHide:v,toolsWidth:m,onToolsToggle:Z});P=te;const oe=!!$,{refs:re,setFocus:se}=Sc(p),{refs:ae,setFocus:le,loseFocus:ue}=Sc(q||void 0!==X,!0),{refs:ce,setFocus:de,loseFocus:he}=Sc(!!ee,!0,ee),pe=un(e=>{se(),_i(O,{open:e})});(0,i.useEffect)(()=>{K&&pe(!1)},[K,pe]);const ge=!h&&p,me=!v&&q,[ve,fe]=(0,i.useState)(0);(0,i.useEffect)(()=>{const e=requestAnimationFrame(()=>fe(R.insetBlockStart+R.insetBlockEnd));return()=>cancelAnimationFrame(e)},[R.insetBlockStart,R.insetBlockEnd]);const we={[F?"blockSize":"minBlockSize"]:"calc(100vh - ".concat(ve,"px)")},[Ce,be]=Ri(e=>e.contentBoxHeight),ye=ge||me||!!X,Se=!!Ce&&Ce>0,xe=b&&null!==Ce&&void 0!==Ce?Ce:0,[De,Ee]=Fn(I,0,void 0,{componentName:"AppLayout",controlledProp:"splitPanelPreferences",changeHandler:"onSplitPanelPreferencesChange"}),[Fe=!1,ke]=Fn(M,0,!1,{componentName:"AppLayout",controlledProp:"splitPanelOpen",changeHandler:"onSplitPanelToggle"}),Ae=(null===De||void 0===De?void 0:De.position)||"bottom",[Re,Pe]=(0,i.useState)({displayed:!1,ariaLabel:void 0}),Te=!(!T||!Re.displayed&&!Fe),_e=h?0:p?d:40,Me=Bi(Ae),[Ie=Me,Le]=Fn(_,0,Me,{componentName:"AppLayout",controlledProp:"splitPanelSize",changeHandler:"onSplitPanelResize"}),Ne=(0,i.useRef)(null),Be=(0,i.useRef)(null),{refs:Oe,setLastInteraction:Ge}=Dc([De,Fe]),ze=(0,i.useCallback)(e=>{Ee(e),Ge({type:"position"}),_i(L,e)},[Ee,L,Ge]),Ve=(0,i.useCallback)(e=>{Le(e),_i(N,{size:e})},[Le,N]),He=(0,i.useCallback)(()=>{ke(!Fe),Ge({type:Fe?"close":"open"}),_i(B,{open:!Fe})},[ke,Fe,B,Ge]),je=un(()=>{if("undefined"===typeof document)return 0;if(F&&Be.current){const e=Be.current.clientHeight;return e<400?e:e-250}{const e=document.documentElement.clientHeight-R.insetBlockStart-R.insetBlockEnd;return e<400?e-40:e-250}}),We=$&&$.length>1?40:0,Ue=Math.max(0,R.inlineSize-_e-A-80-We),Ke=J&&X?Math.min(Ue,J):v||$?0:q?m:40,qe=Cc({isMobile:K,availableWidthForSplitPanel:Ue-Ke}),Ye=qe?"bottom":Ae,Ze=Te&&"side"===Ye,$e=Ze?Fe?Ie:40:0,Xe=Math.max(0,Ue-Ke),Qe=Math.max(0,Ue-$e),Je=h||K?0:40,et=K?void 0:{maxWidth:k},[tt,nt]=(0,i.useState)(0),[it,ot]=(0,i.useState)(0),rt={topOffset:R.insetBlockStart+("bottom"===Ye?xe:0),bottomOffset:R.insetBlockEnd,leftOffset:R.insetInlineStart+(K?0:!h&&p?d:Je),rightOffset:K?0:R.insetInlineEnd+Ke+We,position:Ye,size:Ie,maxWidth:Xe,getMaxHeight:je,disableContentPaddings:E,contentWidthStyles:et,isOpen:Fe,isForcedPosition:qe,onResize:Ve,onToggle:He,onPreferencesChange:ze,setSplitPanelToggle:Pe,reportSize:nt,reportHeaderHeight:ot,refs:Oe},st=T&&i.createElement(pc,Object.assign({},rt),"side"===Ye?i.createElement(vc,{displayed:Te},T):T),at={contentType:D,navigationPadding:h||!!p,contentWidthStyles:K?void 0:{minWidth:A,maxWidth:k},toolsPadding:v||oe&&!X&&(!Te||"side"!==Ye)||me||Ze&&Fe,isMobile:K};(0,i.useImperativeHandle)(t,()=>({openTools:()=>Z(!0),closeNavigationIfNecessary:()=>{K&&pe(!1)},focusToolsClose:()=>{oe?de(!0):le(!0)},focusActiveDrawer:()=>de(!0),focusSplitPanel:()=>{var e;return null===(e=Oe.slider.current)||void 0===e?void 0:e.focus()}}));const lt=null!==(n=Te&&"bottom"===Ye?Fe?tt:it:void 0)&&void 0!==n?n:void 0,[ut,ct]=Ri(e=>e.contentBoxHeight);return i.createElement("div",{className:Gn(nc.root,Fs,F&&nc["root-no-scroll"]),ref:U,style:we},K&&!W&&(!v||!h||w)&&i.createElement(rc,{anyPanelOpen:ye,toggleRefs:{navigation:re.toggle,tools:ae.toggle},topOffset:R.insetBlockStart,ariaLabels:P,navigationHide:h,toolsHide:v,onNavigationOpen:()=>pe(!0),onToolsOpen:()=>Z(!0),unfocusable:ye,mobileBarRef:ct,drawers:$,activeDrawerId:ee,onDrawerChange:e=>{ne(e,{initiatedByUserAction:!0}),e!==ee&&(le(),de())}},w),i.createElement("div",{className:Gn(nc.layout,F&&nc["layout-no-scroll"])},!h&&i.createElement(Tu,{contentClassName:ks,toggleClassName:As,closeClassName:Rs,ariaLabels:Js.navigation.getLabels(P),bottomOffset:R.insetBlockEnd,topOffset:R.insetBlockStart,isMobile:K,isOpen:p,onClick:K?e=>{const t=sn(e.target,e=>"A"===e.tagName&&!!e.href);t&&pe(!1)}:void 0,onToggle:pe,toggleRefs:re,type:"navigation",width:d},c),i.createElement("main",{ref:Be,className:Gn(nc["layout-main"],{[nc["layout-main-scrollable"]]:F,[Os]:F,[nc.unfocusable]:K&&ye})},i.createElement("div",{style:{marginBottom:lt}},C&&i.createElement(uc,{disableContentPaddings:E,testUtilsClassName:Ts,labels:P,topOffset:F?0:R.insetBlockStart,sticky:!K&&b,ref:be},C),(!K&&w||y)&&i.createElement(zi,Object.assign({},at),!K&&w&&i.createElement("div",{className:Gn(_s,nc["breadcrumbs-desktop"])},w),y&&i.createElement("div",{className:Gn(nc["content-header-wrapper"],!Se&&(K||!w)&&nc["content-extra-top-padding"],!Se&&!w&&nc["content-header-wrapper-first-child"],!S&&nc["content-header-wrapper-overlapped"])},y)),i.createElement(zi,Object.assign({},at,{ref:Ne,disablePaddings:E,className:Gn(!E&&nc["content-wrapper"],!E&&(K||!w)&&!y&&nc["content-extra-top-padding"],Ps,!S&&y&&nc["content-overlapped"],!Se&&!w&&!K&&!y&&nc["content-wrapper-first-child"]),style:yc(R.insetBlockStart,R.insetBlockEnd+(lt||0),"".concat(xe,"px"),ut&&!F?"".concat(ut,"px"):"0px",!!F,K)}),x)),"bottom"===Ye&&st),"side"===Ye&&st,oe?i.createElement(tc,{contentClassName:Gn(ee&&Hs,ee===Ba&&Ms),toggleClassName:Ls,closeClassName:Gn(js,ee===Ba&&Is),ariaLabels:{openLabel:null===(o=null===X||void 0===X?void 0:X.ariaLabels)||void 0===o?void 0:o.triggerButton,closeLabel:null===(r=null===X||void 0===X?void 0:X.ariaLabels)||void 0===r?void 0:r.closeButton,mainLabel:null===(s=null===X||void 0===X?void 0:X.ariaLabels)||void 0===s?void 0:s.drawerName,resizeHandle:null===(a=null===X||void 0===X?void 0:X.ariaLabels)||void 0===a?void 0:a.resizeHandle,resizeHandleTooltipText:null===(l=null===X||void 0===X?void 0:X.ariaLabels)||void 0===l?void 0:l.resizeHandleTooltipText},minWidth:Q,maxWidth:Qe,width:J,bottomOffset:R.insetBlockEnd,topOffset:R.insetBlockStart,isMobile:K,onToggle:e=>{e||(le(),de(),ne(null,{initiatedByUserAction:!0}))},isOpen:!0,hideOpenButton:!0,toggleRefs:ce,type:"tools",onLoseFocus:he,activeDrawer:X,onResize:e=>ie(e),refs:ce,toolsContent:null===(u=null===$||void 0===$?void 0:$.find(e=>e.id===Ba))||void 0===u?void 0:u.content},null===X||void 0===X?void 0:X.content):!v&&i.createElement(Tu,{contentClassName:Ms,toggleClassName:Ls,closeClassName:Is,ariaLabels:Js.tools.getLabels(P),width:m,bottomOffset:R.insetBlockEnd,topOffset:R.insetBlockStart,isMobile:K,onToggle:Z,isOpen:q,toggleRefs:ae,type:"tools",onLoseFocus:ue},g),oe&&$.length>0&&i.createElement(Mu,{drawerRefs:ce,bottomOffset:R.insetBlockEnd,topOffset:R.insetBlockStart,isMobile:K,drawers:$,activeDrawerId:ee,onDrawerChange:e=>{ee!==e&&(le(),de()),ne(e,{initiatedByUserAction:!0})},ariaLabels:P})))}),Fc=Ec,kc=()=>Cn()&&(pn("appLayoutWidget")||pn("appLayoutToolbar")),Ac="awsui-context-content-header",Rc=(0,i.createContext)(()=>{});const Pc=function(e,t){let{activeDrawer:n,activeDrawerSize:o,onActiveDrawerResize:r,drawersRefs:s,isToolsOpen:a,drawersMinWidth:l,drawersMaxWidth:u}=t;var c,d;const[h,p]=(0,i.useState)(0),g=n||a?o:0;(0,i.useEffect)(()=>{const e=requestAnimationFrame(()=>{p((g-l)/(u-l)*100)});return()=>cancelAnimationFrame(e)},[g,u,l]);const m={position:"side",panelRef:e,handleRef:s.slider,onResize:e=>{const t=u,i=Oi(l,e,t),o=null===n||void 0===n?void 0:n.id;o&&t>=l&&r({size:i,id:o})}},v=ec(m),{onKeyDown:f,onDirectionClick:w}=Qu(m);return{resizeHandle:i.createElement(Yu,{ref:s.slider,position:"side",ariaLabel:null===(c=null===n||void 0===n?void 0:n.ariaLabels)||void 0===c?void 0:c.resizeHandle,tooltipText:null===(d=null===n||void 0===n?void 0:n.ariaLabels)||void 0===d?void 0:d.resizeHandleTooltipText,ariaValuenow:h,className:Us,onKeyDown:f,onDirectionClick:w,onPointerDown:v}),drawerSize:g}},Tc={background:"awsui_background_hyvsj_l22ft_149","scrolling-background":"awsui_scrolling-background_hyvsj_l22ft_152",breadcrumbs:"awsui_breadcrumbs_hyvsj_l22ft_163","drawers-container":"awsui_drawers-container_hyvsj_l22ft_176","has-open-drawer":"awsui_has-open-drawer_hyvsj_l22ft_187","disable-body-scroll":"awsui_disable-body-scroll_hyvsj_l22ft_208","drawers-desktop-triggers-container":"awsui_drawers-desktop-triggers-container_hyvsj_l22ft_213","has-multiple-triggers":"awsui_has-multiple-triggers_hyvsj_l22ft_251","drawers-mobile-triggers-container":"awsui_drawers-mobile-triggers-container_hyvsj_l22ft_261","drawers-trigger-content":"awsui_drawers-trigger-content_hyvsj_l22ft_266","drawers-trigger-overflow":"awsui_drawers-trigger-overflow_hyvsj_l22ft_280","drawers-trigger":"awsui_drawers-trigger_hyvsj_l22ft_266",drawer:"awsui_drawer_hyvsj_l22ft_176","drawer-content-container":"awsui_drawer-content-container_hyvsj_l22ft_311","drawer-close-button":"awsui_drawer-close-button_hyvsj_l22ft_320","drawer-content":"awsui_drawer-content_hyvsj_l22ft_311","drawer-content-hidden":"awsui_drawer-content-hidden_hyvsj_l22ft_329","drawer-slider":"awsui_drawer-slider_hyvsj_l22ft_332","is-drawer-open":"awsui_is-drawer-open_hyvsj_l22ft_339",content:"awsui_content_hyvsj_l22ft_365",layout:"awsui_layout_hyvsj_l22ft_390","has-max-content-width":"awsui_has-max-content-width_hyvsj_l22ft_462","content-type-dashboard":"awsui_content-type-dashboard_hyvsj_l22ft_477","content-type-table":"awsui_content-type-table_hyvsj_l22ft_491","content-type-cards":"awsui_content-type-cards_hyvsj_l22ft_491","is-overlap-disabled":"awsui_is-overlap-disabled_hyvsj_l22ft_497","is-hide-mobile-toolbar":"awsui_is-hide-mobile-toolbar_hyvsj_l22ft_500","has-content-gap-left":"awsui_has-content-gap-left_hyvsj_l22ft_514","has-content-gap-right":"awsui_has-content-gap-right_hyvsj_l22ft_517","has-breadcrumbs":"awsui_has-breadcrumbs_hyvsj_l22ft_527","content-first-child-header":"awsui_content-first-child-header_hyvsj_l22ft_530","content-first-child-notifications":"awsui_content-first-child-notifications_hyvsj_l22ft_530","has-header":"awsui_has-header_hyvsj_l22ft_530","content-first-child-main":"awsui_content-first-child-main_hyvsj_l22ft_545","disable-content-paddings":"awsui_disable-content-paddings_hyvsj_l22ft_545","has-left-toggles-gutter":"awsui_has-left-toggles-gutter_hyvsj_l22ft_565","has-right-toggles-gutter":"awsui_has-right-toggles-gutter_hyvsj_l22ft_568","has-split-panel":"awsui_has-split-panel_hyvsj_l22ft_588","split-panel-position-bottom":"awsui_split-panel-position-bottom_hyvsj_l22ft_588","block-body-scroll":"awsui_block-body-scroll_hyvsj_l22ft_596",unfocusable:"awsui_unfocusable_hyvsj_l22ft_601",container:"awsui_container_hyvsj_l22ft_611","is-navigation-open":"awsui_is-navigation-open_hyvsj_l22ft_637","is-tools-open":"awsui_is-tools-open_hyvsj_l22ft_640","is-split-panel-open":"awsui_is-split-panel-open_hyvsj_l22ft_640","split-panel-position-side":"awsui_split-panel-position-side_hyvsj_l22ft_640","has-active-drawer":"awsui_has-active-drawer_hyvsj_l22ft_640","mobile-toolbar":"awsui_mobile-toolbar_hyvsj_l22ft_653","remove-high-contrast-header":"awsui_remove-high-contrast-header_hyvsj_l22ft_670","mobile-toolbar-nav":"awsui_mobile-toolbar-nav_hyvsj_l22ft_674","mobile-toolbar-breadcrumbs":"awsui_mobile-toolbar-breadcrumbs_hyvsj_l22ft_678","mobile-toolbar-tools":"awsui_mobile-toolbar-tools_hyvsj_l22ft_682","navigation-container":"awsui_navigation-container_hyvsj_l22ft_691","show-navigation":"awsui_show-navigation_hyvsj_l22ft_729",animating:"awsui_animating_hyvsj_l22ft_752",showButtons:"awsui_showButtons_hyvsj_l22ft_1",navigation:"awsui_navigation_hyvsj_l22ft_691",openNavigation:"awsui_openNavigation_hyvsj_l22ft_1","animated-content":"awsui_animated-content_hyvsj_l22ft_816","content-container":"awsui_content-container_hyvsj_l22ft_819","hide-navigation":"awsui_hide-navigation_hyvsj_l22ft_828",notifications:"awsui_notifications_hyvsj_l22ft_838","has-notification-content":"awsui_has-notification-content_hyvsj_l22ft_843","sticky-notifications":"awsui_sticky-notifications_hyvsj_l22ft_847","high-contrast":"awsui_high-contrast_hyvsj_l22ft_852","split-panel-bottom":"awsui_split-panel-bottom_hyvsj_l22ft_870","position-bottom":"awsui_position-bottom_hyvsj_l22ft_917",openSplitPanelBottom:"awsui_openSplitPanelBottom_hyvsj_l22ft_1","split-panel-side":"awsui_split-panel-side_hyvsj_l22ft_946","position-side":"awsui_position-side_hyvsj_l22ft_959","tools-container":"awsui_tools-container_hyvsj_l22ft_981",tools:"awsui_tools_hyvsj_l22ft_981",openTools:"awsui_openTools_hyvsj_l22ft_1","has-tools-form-persistence":"awsui_has-tools-form-persistence_hyvsj_l22ft_1070","hide-tools":"awsui_hide-tools_hyvsj_l22ft_1080","show-tools":"awsui_show-tools_hyvsj_l22ft_1092","has-tools-form":"awsui_has-tools-form_hyvsj_l22ft_1070","trigger-button-styles":"awsui_trigger-button-styles_hyvsj_l22ft_1172","trigger-badge-wrapper":"awsui_trigger-badge-wrapper_hyvsj_l22ft_1188",trigger:"awsui_trigger_hyvsj_l22ft_1172",selected:"awsui_selected_hyvsj_l22ft_1240",badge:"awsui_badge_hyvsj_l22ft_1260","trigger-wrapper":"awsui_trigger-wrapper_hyvsj_l22ft_1264","trigger-wrapper-tooltip-visible":"awsui_trigger-wrapper-tooltip-visible_hyvsj_l22ft_1275",dot:"awsui_dot_hyvsj_l22ft_1279","trigger-tooltip":"awsui_trigger-tooltip_hyvsj_l22ft_1292"};function _c(e){let{children:t}=e;const{footerHeight:n,handleSplitPanelClick:o,handleSplitPanelPreferencesChange:r,handleSplitPanelResize:s,headerHeight:a,isSplitPanelForcedPosition:l,isSplitPanelOpen:u,setSplitPanelReportedSize:c,setSplitPanelReportedHeaderHeight:d,setSplitPanelToggle:h,splitPanelPosition:p,splitPanelRefs:g,splitPanelSize:m}=Lc(),v={bottomOffset:0,getMaxHeight:()=>{const e=document.documentElement.clientHeight-a-n;return e<400?e-40:e-250},maxWidth:"undefined"!==typeof document?document.documentElement.clientWidth:Number.POSITIVE_INFINITY,isForcedPosition:l,isOpen:u,leftOffset:0,onPreferencesChange:r,onResize:s,onToggle:o,position:p,reportSize:c,reportHeaderHeight:d,rightOffset:0,size:m||0,topOffset:0,setSplitPanelToggle:h,refs:g};return i.createElement(pc,Object.assign({},v),t)}_c.Bottom=function(){const{disableBodyScroll:e,hasOpenDrawer:t,navigationOpen:n,isSplitPanelOpen:o,splitPanel:r,splitPanelPosition:s,splitPanelReportedSize:a,splitPanelReportedHeaderHeight:l}=Lc();return r?i.createElement(Nr,{in:null!==o&&void 0!==o&&o,exit:!1},(u,c)=>i.createElement("section",{className:Gn(Tc["split-panel-bottom"],Tc["position-".concat(s)],{[Tc.animating]:"entering"===u,[Tc["disable-body-scroll"]]:e,[Tc["has-open-drawer"]]:t,[Tc["is-navigation-open"]]:n,[Tc["is-split-panel-open"]]:o}),ref:c,style:{[bs.splitPanelReportedSize]:"".concat(a,"px"),[bs.splitPanelReportedHeaderSize]:"".concat(l,"px")}},"bottom"===s&&r)):null},_c.Side=function(){const{isSplitPanelOpen:e,splitPanel:t,splitPanelPosition:n,splitPanelMaxWidth:o,splitPanelControlId:r,isToolsOpen:s,activeDrawerId:a}=Lc();return t?i.createElement("section",{id:r,"aria-hidden":!e||"bottom"===n,className:Gn(Tc["split-panel-side"],Tc["position-".concat(n)],{[Tc["is-split-panel-open"]]:e,[Tc["has-open-drawer"]]:!!a||s}),style:{[bs.splitPanelMaxWidth]:"".concat(o,"px"),[bs.splitPanelMinWidth]:"".concat(hc,"px")}},"side"===n&&t):null};const Mc=_c;const Ic=(0,i.createContext)(null);function Lc(){const e=(0,i.useContext)(Ic);if(!e)throw new Error("Invariant violation: this context is only available inside app layout");return e}const Nc=i.forwardRef((e,t)=>{var n,o,r,s,a;const{toolsHide:l,toolsOpen:u,navigationHide:c,navigationOpen:d,contentType:h,placement:p,children:g,splitPanel:m}=e,v=In(),f=Boolean(e.__embeddedViewMode),w=8947848.525,C=e.maxContentWidth&&e.maxContentWidth>w?w:null!==(n=e.maxContentWidth)&&void 0!==n?n:0,b=null!==(o=e.minContentWidth)&&void 0!==o?o:280,{refs:y,setFocus:S}=Sc(d),x=un(function(t){S(),_i(e.onNavigationChange,{open:t})});(0,i.useEffect)(()=>{v&&x(!1)},[v,x]);const D=e.toolsWidth,[E=!1,F]=Fn(u,e.onToolsChange,!1,{componentName:"AppLayout",controlledProp:"toolsOpen",changeHandler:"onToolsChange"}),{refs:k,setFocus:A,loseFocus:R}=Sc(E,!0),P=(0,i.useCallback)(function(t,n){F(t),n||A(),_i(e.onToolsChange,{open:t})},[e.onToolsChange,F,A]),[T,_]=(0,i.useState)(hc),[M,I]=Fn(e.splitPanelOpen,e.onSplitPanelToggle,!1,{componentName:"AppLayout",controlledProp:"splitPanelOpen",changeHandler:"onSplitPanelToggle"}),[L,N]=Fn(e.splitPanelPreferences,e.onSplitPanelPreferencesChange,void 0,{componentName:"AppLayout",controlledProp:"splitPanelPreferences",changeHandler:"onSplitPanelPreferencesChange"}),{refs:B,setLastInteraction:O}=Dc([L,M]),G=(0,i.useCallback)(function(){I(!M),O({type:M?"close":"open"}),_i(e.onSplitPanelToggle,{open:!M})},[e.onSplitPanelToggle,M,I,O]),z=Cc({isMobile:v,availableWidthForSplitPanel:T}),V=function(e,t){let n="bottom";return e||"side"!==(null===t||void 0===t?void 0:t.position)||(n="side"),n}(z,L),[H,j]=(0,i.useState)(0),[W,U]=(0,i.useState)(0),[K,q]=(0,i.useState)({displayed:!1,ariaLabel:void 0}),Y=!(!K.displayed&&!M)&&!!m,Z=Yi("split-panel-"),$=Yi("tools-"),[X,Q]=Fn(e.splitPanelSize,e.onSplitPanelResize,Bi(V),{componentName:"AppLayout",controlledProp:"splitPanelSize",changeHandler:"onSplitPanelResize"}),J=(0,i.useCallback)(t=>{Q(t),_i(e.onSplitPanelResize,{size:t})},[e.onSplitPanelResize,Q]),ee=(0,i.useCallback)(function(t){N(t),O({type:"position"}),_i(e.onSplitPanelPreferencesChange,t)},[e.onSplitPanelPreferencesChange,N,O]),te=Ha(e,e.ariaLabels,{disableDrawersMerge:!0,ariaLabels:e.ariaLabels,toolsHide:l,toolsOpen:E,tools:e.tools,toolsWidth:D,onToolsToggle:P}),{drawers:ne,activeDrawer:ie,activeDrawerId:oe,minDrawerSize:re,onActiveDrawerChange:se,onActiveDrawerResize:ae,activeDrawerSize:le}=te,ue=Et(te,["drawers","activeDrawer","activeDrawerId","minDrawerSize","onActiveDrawerChange","onActiveDrawerResize","activeDrawerSize"]),[ce,de]=(0,i.useState)(D),he=!!ne&&ne.length>0,{refs:pe,setFocus:ge,loseFocus:me}=Sc(!!oe,!0,oe),ve=(0,i.useRef)(null),{resizeHandle:fe,drawerSize:we}=Pc(ve,{onActiveDrawerResize:ae,activeDrawerSize:le,activeDrawer:ie,drawersRefs:pe,isToolsOpen:E,drawersMaxWidth:ce,drawersMinWidth:re});let Ce=ne?ne.length:l?0:1;Y&&"side"===V&&Ce++;const be=!!oe||!l&&E||Y&&"side"===V&&M,ye=v&&(!!oe||!c&&d||!l&&E),Se=(0,i.useRef)(null),xe=(0,i.useRef)(null),[De,Ee]=(0,i.useState)(0),{hasBackgroundOverlap:Fe,updateBackgroundOverlapHeight:ke}=function(e){let{contentHeader:t,disableContentHeaderOverlap:n,layoutElement:o}=e;const r=!!t,[s,a]=(0,i.useState)(r);return{hasBackgroundOverlap:s,updateBackgroundOverlapHeight:(0,i.useCallback)(e=>{const t=r||e>0;a(t);const i="function"!==typeof o&&(null===o||void 0===o?void 0:o.current);i&&(n||!t||e<=0?i.style.removeProperty(bs.overlapHeight):i.style.setProperty(bs.overlapHeight,"".concat(e,"px")))},[r,o,n])}}({contentHeader:e.contentHeader,disableContentHeaderOverlap:e.disableContentHeaderOverlap,layoutElement:Se});(0,i.useLayoutEffect)(function(){const e=(null===xe||void 0===xe?void 0:xe.current)?function(e){var t,n;const i=null!==(n=null===(t=e.offsetParent)||void 0===t?void 0:t.clientWidth)&&void 0!==n?n:0;return rr(e)?i-e.offsetWidth-e.offsetLeft:e.offsetLeft}(null===xe||void 0===xe?void 0:xe.current):0;Ee(e)},[p.inlineSize,d,E,H]),(0,i.useEffect)(function(){return v&&(d||E||ie)?document.body.classList.add(Tc["block-body-scroll"]):document.body.classList.remove(Tc["block-body-scroll"]),function(){document.body.classList.remove(Tc["block-body-scroll"])}},[v,d,E,ie]);const[Ae,Re]=(0,i.useState)(0),Pe=Ae>0;let Te=p.insetBlockEnd;return Y&&"bottom"===V&&(Te+=M?H:W),(0,i.useLayoutEffect)(function(){_(p.inlineSize-De-b-50-120-(ne?oe?we:0:E?D:0)),de(p.inlineSize-De-b-50-120)},[oe,we,ne,d,E,p.inlineSize,De,b,D]),(0,i.useImperativeHandle)(t,function(){return{closeNavigationIfNecessary:function(){v&&x(!1)},openTools:function(){P(!0,he),he&&ge(!0)},focusToolsClose:()=>{he?ge(!0):A(!0)},focusActiveDrawer:()=>ge(!0),focusSplitPanel:()=>{var e;return null===(e=B.slider.current)||void 0===e?void 0:e.focus()}}},[v,x,P,A,ge,B.slider,he]),i.createElement(Ic.Provider,{value:Object.assign(Object.assign({},e),{activeDrawerId:oe,contentType:h,drawers:ne,drawersAriaLabel:null===(r=ue.ariaLabelsWithDrawers)||void 0===r?void 0:r.drawers,drawersOverflowAriaLabel:null===(s=ue.ariaLabelsWithDrawers)||void 0===s?void 0:s.drawersOverflow,drawersOverflowWithBadgeAriaLabel:null===(a=ue.ariaLabelsWithDrawers)||void 0===a?void 0:a.drawersOverflowWithBadge,drawersRefs:pe,drawersMinWidth:re,drawersMaxWidth:ce,drawerSize:we,drawerRef:ve,resizeHandle:fe,drawersTriggerCount:Ce,headerHeight:p.insetBlockStart,footerHeight:p.insetBlockEnd,hasDrawerViewportOverlay:ye,handleDrawersClick:(e,t)=>{se(e!==oe?e:null,{initiatedByUserAction:!0}),t||ge()},handleNavigationClick:x,handleSplitPanelClick:G,handleSplitPanelPreferencesChange:ee,handleSplitPanelResize:J,handleToolsClick:P,hasBackgroundOverlap:Fe,hasNotificationsContent:Pe,hasOpenDrawer:be,isBackgroundOverlapDisabled:e.disableContentHeaderOverlap||!Fe,isMobile:v,isSplitPanelForcedPosition:z,isSplitPanelOpen:M,isToolsOpen:E,layoutElement:Se,layoutWidth:p.inlineSize,loseToolsFocus:R,loseDrawersFocus:me,mainElement:xe,mainOffsetLeft:De,maxContentWidth:C,minContentWidth:b,navigationHide:c,navigationRefs:y,notificationsHeight:Ae,setNotificationsHeight:Re,offsetBottom:Te,setSplitPanelReportedSize:j,setSplitPanelReportedHeaderHeight:U,splitPanel:m,splitPanelControlId:Z,splitPanelDisplayed:Y,splitPanelMaxWidth:T,splitPanelPosition:V,splitPanelPreferences:L,splitPanelReportedSize:H,splitPanelReportedHeaderHeight:W,splitPanelSize:X,splitPanelToggle:K,setSplitPanelToggle:q,splitPanelRefs:B,toolsControlId:$,toolsHide:l,toolsOpen:E,toolsWidth:D,toolsRefs:k,__embeddedViewMode:f})},i.createElement(Rc.Provider,{value:ke},g))});function Bc(){const{breadcrumbs:e,hasBackgroundOverlap:t,hasNotificationsContent:n,isMobile:o,headerVariant:r}=Lc();return n||e&&!o||t?i.createElement("div",{className:Gn(Tc.background,{[Ac]:"high-contrast"===r})},i.createElement("div",{className:Tc["scrolling-background"]})):null}function Oc(){const{breadcrumbs:e,isMobile:t,headerVariant:n}=Lc();return t||!e?null:i.createElement("div",{className:Gn(Tc.breadcrumbs,_s,{[Ac]:"high-contrast"===n})},e)}const Gc=i.forwardRef(function(e,t){let{ariaLabel:n,className:o,iconName:r,iconSvg:s,ariaExpanded:a,ariaControls:l,onClick:u,testId:c,disabled:d=!1,badge:h,selected:p=!1,highContrastHeader:g}=e;const{isMobile:m}=Lc();return i.createElement("div",{className:Gn(Tc["trigger-wrapper"],!g&&Tc["remove-high-contrast-header"])},m?i.createElement(Ds,{ariaExpanded:a,ariaLabel:n,ariaControls:l,className:o,disabled:d,ref:t,formAction:"none",iconName:r,iconSvg:s,badge:h,onClick:u,variant:"icon",nativeButtonAttributes:Object.assign({"aria-haspopup":!0},c&&{"data-testid":c})}):i.createElement(i.Fragment,null,i.createElement("button",{"aria-expanded":a,"aria-controls":l,"aria-haspopup":!0,"aria-label":n,"aria-disabled":d,disabled:d,className:Gn(Tc.trigger,Tc["trigger-button-styles"],{[Tc.selected]:p,[Tc.badge]:h},o),onClick:u,ref:t,type:"button","data-testid":c},i.createElement("span",{className:Gn(h&&Gn(Tc["trigger-badge-wrapper"],Tc["trigger-button-styles"]))},(r||s)&&i.createElement(oo,{name:r,svg:s}))),h&&i.createElement("div",{className:Tc.dot})))}),zc="awsui_open-button_rjqu5_1kbym_11";function Vc(){const{disableBodyScroll:e,drawers:t,drawersTriggerCount:n,hasDrawerViewportOverlay:o,hasOpenDrawer:r,navigationOpen:s,navigationHide:a,isMobile:l}=Lc(),u=o&&s&&!a;return t&&0!==n?i.createElement("div",{className:Gn(Tc["drawers-container"],{[Tc["disable-body-scroll"]]:e,[Tc["has-open-drawer"]]:r,[Tc.unfocusable]:u})},i.createElement(Mc.Side,null),i.createElement(Hc,null),!l&&i.createElement(jc,null)):null}function Hc(){var e,t,n,o;const{activeDrawerId:r,ariaLabels:s,drawers:a,drawersRefs:l,handleDrawersClick:u,handleToolsClick:c,hasDrawerViewportOverlay:d,isMobile:h,navigationOpen:p,navigationHide:g,loseDrawersFocus:m,resizeHandle:v,drawerSize:f,drawersMinWidth:w,drawersMaxWidth:C,drawerRef:b}=Lc(),y=null!==(e=null===a||void 0===a?void 0:a.find(e=>e.id===r))&&void 0!==e?e:null,S={closeButton:r?null===(t=null===y||void 0===y?void 0:y.ariaLabels)||void 0===t?void 0:t.closeButton:null===s||void 0===s?void 0:s.toolsClose,content:r?null===(n=null===y||void 0===y?void 0:y.ariaLabels)||void 0===n?void 0:n.drawerName:null===s||void 0===s?void 0:s.tools},x=!r,D=x||d&&p&&!g,E=r===Ba,F=null===(o=null===a||void 0===a?void 0:a.find(e=>e.id===Ba))||void 0===o?void 0:o.content,k=Oi(w,f,C);return i.createElement("aside",{id:null!==r&&void 0!==r?r:void 0,"aria-hidden":x,"aria-label":S.content,className:Gn(Tc.drawer,{[Tc["is-drawer-open"]]:r,[Tc.unfocusable]:D,[Hs]:r,[Ms]:E}),style:Object.assign({},!h&&f&&{[bs.drawerSize]:"".concat(k,"px")}),ref:b,onBlur:e=>{e.relatedTarget&&e.currentTarget.contains(e.relatedTarget)||m()}},!h&&(null===y||void 0===y?void 0:y.resizable)&&i.createElement("div",{className:Tc["drawer-slider"]},v),i.createElement("div",{className:Tc["drawer-content-container"]},i.createElement("div",{className:Tc["drawer-close-button"]},i.createElement(Ds,{ariaLabel:S.closeButton,className:Gn({[js]:r,[Is]:E}),formAction:"none",iconName:h?"close":"angle-right",onClick:()=>{u(r),c(!1)},ref:l.close,variant:"icon"})),F&&i.createElement("div",{className:Gn(Tc["drawer-content"],r!==Ba&&Tc["drawer-content-hidden"])},F),r!==Ba&&i.createElement("div",{className:Tc["drawer-content"]},r&&(null===y||void 0===y?void 0:y.content))))}function jc(){const{activeDrawerId:e,drawers:t,drawersAriaLabel:n,drawersOverflowAriaLabel:o,drawersOverflowWithBadgeAriaLabel:r,drawersRefs:s,drawersTriggerCount:a,handleDrawersClick:l,handleSplitPanelClick:u,hasOpenDrawer:c,isSplitPanelOpen:d,splitPanel:h,splitPanelControlId:p,splitPanelDisplayed:g,splitPanelPosition:m,splitPanelRefs:v,splitPanelToggle:f,splitPanelReportedHeaderHeight:w,splitPanelReportedSize:C,headerVariant:b}=Lc(),y=a>1,S=h&&g&&"side"===m,x=(0,i.useRef)(e),[D,E]=Ri(e=>e.contentBoxHeight);e&&(x.current=e);const F=d&&"bottom"===m?C:w,{visibleItems:k,overflowItems:A}=ja(null!==t&&void 0!==t?t:void 0,(()=>{if(D){const t=48,n=e&&d?(D-w)/1.5:(D-F)/1.5,i=Math.floor(n/t);let o=0;return S&&f.displayed&&(o=1),i-o}return 0})(),e),R=!!A.find(e=>e.badge);return i.createElement("aside",{className:Gn(Tc["drawers-desktop-triggers-container"],{[Tc["has-multiple-triggers"]]:y,[Tc["has-open-drawer"]]:c}),"aria-label":n,ref:E,role:"region"},i.createElement("div",{className:Gn(Tc["drawers-trigger-content"],{[Tc["has-multiple-triggers"]]:y,[Tc["has-open-drawer"]]:c}),"aria-label":n,role:"toolbar","aria-orientation":"vertical"},k.map(t=>{var n,o,r;const a=(null===x||void 0===x?void 0:x.current)===t.id;return i.createElement(Gc,{ariaLabel:null===(n=t.ariaLabels)||void 0===n?void 0:n.triggerButton,ariaExpanded:t.id===e,ariaControls:e===t.id?t.id:void 0,className:Gn(Tc["drawers-trigger"],Gs,{[Vs]:t.badge,[Ls]:t.id===Ba}),iconName:null===(o=null===t||void 0===t?void 0:t.trigger)||void 0===o?void 0:o.iconName,iconSvg:null===(r=null===t||void 0===t?void 0:t.trigger)||void 0===r?void 0:r.iconSvg,key:t.id,onClick:()=>l(t.id),ref:a?s.toggle:void 0,badge:t.badge,testId:"awsui-app-layout-trigger-".concat(t.id),highContrastHeader:"high-contrast"===b,selected:t.id===e})}),A.length>0&&i.createElement(fu,{items:A,ariaLabel:R?r:o,customTriggerBuilder:e=>{let{onClick:t,triggerRef:n,ariaLabel:o,ariaExpanded:r,testUtilsClass:s}=e;return i.createElement(Gc,{ref:n,ariaLabel:o,ariaExpanded:r,badge:R,className:Gn(Tc["drawers-trigger"],Gs,s),iconName:"ellipsis",onClick:t,highContrastHeader:"high-contrast"===b})},onItemClick:e=>{let{detail:t}=e;l(t.id)}}),S&&f.displayed&&i.createElement(Gc,{ariaLabel:f.ariaLabel,ariaControls:p,ariaExpanded:!!d,className:Gn(Tc["drawers-trigger"],zc),iconName:"view-vertical",onClick:()=>u(),selected:S&&d,ref:v.toggle,highContrastHeader:"high-contrast"===b})))}function Wc(){const{activeDrawerId:e,drawers:t,drawersAriaLabel:n,drawersOverflowAriaLabel:o,drawersOverflowWithBadgeAriaLabel:r,drawersRefs:s,handleDrawersClick:a,hasDrawerViewportOverlay:l,headerVariant:u}=Lc(),c=(0,i.useRef)(e);if(!t)return null;e&&(c.current=e);const{visibleItems:d,overflowItems:h}=ja(t,2,e),p=!!h.find(e=>e.badge);return i.createElement("aside",{"aria-hidden":l,className:Gn({[Tc.unfocusable]:l}),"aria-label":n,role:"region"},i.createElement("div",{className:Tc["drawers-mobile-triggers-container"],"aria-label":n,role:"toolbar","aria-orientation":"horizontal"},d.map(t=>{var n,o,r;const d=(null===c||void 0===c?void 0:c.current)===t.id;return i.createElement(Gc,{ariaExpanded:t.id===e,ariaLabel:null===(n=t.ariaLabels)||void 0===n?void 0:n.triggerButton,ariaControls:e===t.id?t.id:void 0,className:Gn(Tc["drawers-trigger"],Gs,{[Vs]:t.badge,[Ls]:t.id===Ba}),disabled:l,ref:d?s.toggle:void 0,iconName:null===(o=null===t||void 0===t?void 0:t.trigger)||void 0===o?void 0:o.iconName,iconSvg:null===(r=null===t||void 0===t?void 0:t.trigger)||void 0===r?void 0:r.iconSvg,badge:t.badge,key:t.id,onClick:()=>a(t.id),testId:"awsui-app-layout-trigger-".concat(t.id),highContrastHeader:"high-contrast"===u,selected:t.id===e})}),h.length>0&&i.createElement(fu,{items:h,ariaLabel:p?r:o,onItemClick:e=>{let{detail:t}=e;return a(t.id)}})))}function Uc(){const{breadcrumbs:e,contentHeader:t,hasDrawerViewportOverlay:n,hasNotificationsContent:o,headerVariant:r}=Lc();return t?i.createElement("header",{className:Gn(Tc.content,{[Tc["has-breadcrumbs"]]:e,[Tc["has-notifications-content"]]:o,[Tc.unfocusable]:n,[Ac]:"high-contrast"===r})},t):null}function Kc(e){(0,i.useEffect)(()=>{const t=document.scrollingElement;t instanceof HTMLElement&&(t.style.scrollPaddingTop="".concat(e,"px"))},[e])}function qc(e){let{children:t}=e;const{breadcrumbs:n,contentHeader:o,contentType:r,disableBodyScroll:s,disableContentPaddings:a,drawersTriggerCount:l,footerHeight:u,hasNotificationsContent:c,hasOpenDrawer:d,headerHeight:h,isBackgroundOverlapDisabled:p,isMobile:g,navigationOpen:m,layoutElement:v,layoutWidth:f,mainOffsetLeft:w,maxContentWidth:C,minContentWidth:b,navigationHide:y,notificationsHeight:S,__embeddedViewMode:x,splitPanelPosition:D,splitPanelDisplayed:E}=Lc();Kc(h);const F=function(e,t,n,i){let o="main";n?o="notifications":e&&!i?o="breadcrumbs":t&&(o="header");return o}(n,o,c,g),k=m||y,A=0===l||d;return i.createElement("main",{className:Gn(Tc.layout,Tc["content-first-child-".concat(F)],Tc["content-type-".concat(r)],Tc["split-panel-position-".concat(null!==D&&void 0!==D?D:"bottom")],{[Tc["disable-body-scroll"]]:s,[Os]:s,[Tc["disable-content-paddings"]]:a,[Tc["has-breadcrumbs"]]:n&&!g,[Tc["has-content-gap-left"]]:k,[Tc["has-content-gap-right"]]:A,[Tc["has-header"]]:o,[Tc["has-max-content-width"]]:C&&C>0,[Tc["has-split-panel"]]:E,[Tc["is-overlap-disabled"]]:p,[Tc["is-hide-mobile-toolbar"]]:x,[Tc["has-left-toggles-gutter"]]:!(g||y||m),[Tc["has-right-toggles-gutter"]]:!g&&!A},Fs),ref:v,style:Object.assign(Object.assign(Object.assign({[bs.headerHeight]:"".concat(h,"px"),[bs.footerHeight]:"".concat(u,"px"),[bs.layoutWidth]:"".concat(f,"px"),[bs.mainOffsetLeft]:"".concat(w,"px")},C&&{[bs.maxContentWidth]:"".concat(C,"px")}),b&&{[bs.minContentWidth]:"".concat(b,"px")}),{[bs.notificationsHeight]:"".concat(S,"px")})},t)}function Yc(){const{content:e,disableBodyScroll:t,disableContentPaddings:n,footerHeight:o,hasDrawerViewportOverlay:r,navigationOpen:s,placement:a,isMobile:l,isSplitPanelOpen:u,isToolsOpen:c,mainElement:d,notificationsHeight:h,stickyNotifications:p,offsetBottom:g,splitPanelDisplayed:m,splitPanelPosition:v,activeDrawerId:f}=Lc(),w=g-o;return i.createElement("div",{className:Gn(Tc.container,Tc["split-panel-position-".concat(null!==v&&void 0!==v?v:"bottom")],{[Tc["disable-content-paddings"]]:n,[Tc["has-split-panel"]]:m,[Tc["is-navigation-open"]]:s,[Tc["is-tools-open"]]:c,[Tc["has-active-drawer"]]:!!f,[Tc["is-split-panel-open"]]:u,[Tc.unfocusable]:r},Ps),ref:d,style:Object.assign({[bs.splitPanelHeight]:"".concat(w,"px")},yc(a.insetBlockStart,g,p&&h>0?"".concat("var(--space-xs-ymlm0b, 8px)"," + ").concat(h,"px"):"0px","var(".concat(bs.mobileBarHeight,")"),!!t,l))},e)}function Zc(){var e,t,n,o;const{ariaLabels:r,breadcrumbs:s,drawers:a,handleNavigationClick:l,handleToolsClick:u,hasDrawerViewportOverlay:c,isMobile:d,navigationOpen:h,__embeddedViewMode:p,isToolsOpen:g,navigationHide:m,navigationRefs:v,toolsHide:f,toolsRefs:w,headerVariant:C}=Lc();return!d||p||m&&!s&&f&&(!a||0===a.length)?null:i.createElement("section",{className:Gn(Tc["mobile-toolbar"],[Bs],{[Tc["has-breadcrumbs"]]:s,[Tc.unfocusable]:c,[Ac]:"high-contrast"===C},Bs,"high-contrast"!==C&&Tc["remove-high-contrast-header"])},!m&&i.createElement("nav",{"aria-hidden":h,"aria-label":null!==(e=null===r||void 0===r?void 0:r.navigation)&&void 0!==e?e:void 0,"aria-orientation":"horizontal",className:Gn(Tc["mobile-toolbar-nav"],{[Ns]:!h})},i.createElement(Ds,{ariaLabel:null!==(t=null===r||void 0===r?void 0:r.navigationToggle)&&void 0!==t?t:void 0,ariaExpanded:!!h&&void 0,iconName:"menu",formAction:"none",onClick:()=>l(!0),variant:"icon",className:As,ref:v.toggle,disabled:c,nativeButtonAttributes:{"aria-haspopup":!h||void 0}})),s&&i.createElement("div",{className:Gn(Tc["mobile-toolbar-breadcrumbs"],_s)},s),a?i.createElement(Wc,null):!f&&i.createElement("aside",{"aria-hidden":g,"aria-label":null!==(n=null===r||void 0===r?void 0:r.tools)&&void 0!==n?n:void 0,className:Gn(Tc["mobile-toolbar-tools"],{[Ns]:!g})},i.createElement(Ds,{className:Ls,ariaExpanded:g,disabled:c,ariaLabel:null!==(o=null===r||void 0===r?void 0:r.toolsToggle)&&void 0!==o?o:void 0,iconName:"status-info",formAction:"none",onClick:()=>u(!0),variant:"icon",ref:w.toggle,nativeButtonAttributes:{"aria-haspopup":!0}})))}function $c(){const{ariaLabels:e,disableBodyScroll:t,handleNavigationClick:n,hasDrawerViewportOverlay:o,isMobile:r,navigationOpen:s,isToolsOpen:a,navigation:l,navigationHide:u,navigationRefs:c,navigationWidth:d,toolsHide:h,headerVariant:p}=Lc();if(u)return null;const g=e=>{const t=sn(e.target,e=>"A"===e.tagName&&!!e.href);t&&r&&n(!1)},m=o&&(!s||a&&!h);return i.createElement(Nr,{in:s},(o,a)=>{var u,h,v;return i.createElement("div",{className:Gn(Tc["navigation-container"],{[Tc["disable-body-scroll"]]:t,[Tc.unfocusable]:m}),style:{[bs.navigationWidth]:"".concat(d,"px")}},!r&&i.createElement("nav",{"aria-hidden":r||s,"aria-label":null!==(u=null===e||void 0===e?void 0:e.navigation)&&void 0!==u?u:void 0,className:Gn(Tc["show-navigation"],{[Tc.animating]:"exiting"===o,[Tc["is-navigation-open"]]:s}),ref:"exiting"===o?a:void 0},i.createElement(Gc,{ariaLabel:null===e||void 0===e?void 0:e.navigationToggle,ariaExpanded:!!s&&void 0,iconName:"menu",className:As,onClick:()=>n(!0),ref:c.toggle,highContrastHeader:"high-contrast"===p})),i.createElement("nav",{"aria-label":null!==(h=null===e||void 0===e?void 0:e.navigation)&&void 0!==h?h:void 0,className:Gn(Tc.navigation,ks,{[Ns]:!s,[Tc.animating]:"entering"===o,[Tc["is-navigation-open"]]:s}),ref:"exiting"!==o?a:void 0,"aria-hidden":!s,onClick:g},i.createElement("div",{className:Gn(Tc["content-container"],Tc["animated-content"])},i.createElement("div",{className:Tc["hide-navigation"]},i.createElement(Ds,{ariaLabel:null!==(v=null===e||void 0===e?void 0:e.navigationClose)&&void 0!==v?v:void 0,iconName:r?"close":"angle-left",onClick:()=>n(!1),variant:"icon",formAction:"none",className:Rs,ref:c.close})),l)))})}function Xc(){const{notifications:e}=Lc();return e?i.createElement(Qc,null):null}function Qc(){var e;const{ariaLabels:t,hasDrawerViewportOverlay:n,notifications:o,setNotificationsHeight:r,stickyNotifications:s,headerVariant:a,hasNotificationsContent:l}=Lc(),u=(0,i.useRef)(null);return ki(u,e=>r(e.contentBoxHeight)),(0,i.useEffect)(()=>()=>{r(0)},[]),i.createElement("div",{role:"region","aria-label":null!==(e=null===t||void 0===t?void 0:t.notifications)&&void 0!==e?e:void 0,className:Gn(Tc.notifications,{[Tc["sticky-notifications"]]:s,[Tc["has-notification-content"]]:l,[Tc.unfocusable]:n,[Ac]:"high-contrast"===a,[Tc["high-contrast"]]:"high-contrast"===a},Ts)},i.createElement("div",{ref:u},o))}function Jc(e){let{children:t}=e;const{ariaLabels:n,disableBodyScroll:o,drawers:r,handleSplitPanelClick:s,handleToolsClick:a,hasDrawerViewportOverlay:l,isMobile:u,isSplitPanelOpen:c,isToolsOpen:d,loseToolsFocus:h,splitPanel:p,splitPanelControlId:g,splitPanelDisplayed:m,splitPanelPosition:v,splitPanelRefs:f,splitPanelToggle:w,tools:C,toolsControlId:b,toolsHide:y,toolsRefs:S,toolsWidth:x,headerVariant:D}=Lc(),E=!!p&&"side"===v,F=function(e,t,n,i,o){let r=!1;t||(e&&!o&&(r=!0),e&&!n&&o&&(r=!0),e||o||i||(r=!0));return r}(E&&m,u,c,d,y),k=function(e,t,n,i){let o=!1;e&&!i&&(t||n)&&(o=!0);return o}(E,c,d,y),A=l&&!d;return y&&!E||r?null:i.createElement(Nr,{in:null!==d&&void 0!==d&&d},(e,r)=>{var l,p,m;return i.createElement("div",{className:Gn(Tc["tools-container"],{[Tc["disable-body-scroll"]]:o,[Tc.unfocusable]:A}),style:{[bs.toolsAnimationStartingOpacity]:"".concat(E&&c?1:0),[bs.toolsWidth]:"".concat(x,"px")},onBlur:e=>{e.relatedTarget&&e.currentTarget.contains(e.relatedTarget)||h()}},t,!y&&i.createElement("aside",{id:b,"aria-hidden":!d,"aria-label":null!==(l=null===n||void 0===n?void 0:n.tools)&&void 0!==l?l:void 0,className:Gn(Tc.tools,{[Tc.animating]:"entering"===e,[Tc["has-tools-form-persistence"]]:k,[Tc["is-tools-open"]]:d,[Ns]:!d},Ms),ref:"exiting"!==e?r:void 0},i.createElement("div",{className:Tc["animated-content"]},i.createElement("div",{className:Tc["hide-tools"]},i.createElement(Ds,{ariaLabel:null!==(p=null===n||void 0===n?void 0:n.toolsClose)&&void 0!==p?p:void 0,iconName:u?"close":"angle-right",onClick:()=>a(!1),variant:"icon",formAction:"none",className:Is,ref:S.close})),C)),!u&&i.createElement("aside",{"aria-hidden":!F,"aria-label":null!==(m=null===n||void 0===n?void 0:n.tools)&&void 0!==m?m:void 0,className:Gn(Tc["show-tools"],{[Tc.animating]:"exiting"===e,[Tc["has-tools-form"]]:F,[Tc["has-tools-form-persistence"]]:k}),ref:"exiting"===e?r:void 0,"data-testid":"side-split-panel-drawer"},!y&&i.createElement(Gc,{ariaLabel:null===n||void 0===n?void 0:n.toolsToggle,ariaControls:b,ariaExpanded:d,iconName:"status-info",onClick:()=>a(!d),selected:E&&d,className:Ls,ref:S.toggle,highContrastHeader:"high-contrast"===D}),E&&w.displayed&&i.createElement(Gc,{ariaLabel:w.ariaLabel,ariaControls:g,ariaExpanded:!!c,iconName:"view-vertical",onClick:()=>s(),selected:E&&c,className:zc,ref:f.toggle,highContrastHeader:"high-contrast"===D})))})}const ed=i.forwardRef(function(e,t){return i.createElement(Nc,Object.assign({},e,{ref:t}),i.createElement(Mc,null,i.createElement(qc,null,i.createElement(Bc,null),i.createElement($c,null),i.createElement(Zc,null),i.createElement(Xc,null),i.createElement(Oc,null),i.createElement(Uc,null),i.createElement(Yc,null),i.createElement(Mc.Bottom,null),i.createElement(Jc,null,i.createElement(Mc.Side,null)),i.createElement(Vc,null))))}),td=ed,nd="awsui_root_xttbq_1rjuy_145";function id(e){return i.createElement("span",Object.assign({},e,{className:Gn(nd,e.className)}))}const od=Ra.sharedReactContexts.createContext(i,"BreadcrumbsSlotContext"),rd=Ra.sharedReactContexts.createContext(i,"AppLayoutVisibilityContext"),sd=(Ra.sharedReactContexts.createContext(i,"AppLayoutToolbarPublicContext"),!!(e=>{var t;const n="undefined"!==typeof window?window:globalThis,i=Symbol.for("awsui-custom-flags");return null===(t=null===n||void 0===n?void 0:n[i])||void 0===t?void 0:t[e]})("appLayoutDelayedWidget"));let ad;function ld(e){if(sd)return t=>{const[n,o]=(0,i.useState)(!1);if((0,i.useEffect)(()=>{ad||(ad=new Promise(e=>setTimeout(()=>e(),1e3)));let e=!0;return ad.then(()=>{e&&o(!0)}),()=>{e=!1}},[]),n)return i.createElement(e,Object.assign({},t));const{Skeleton:r}=t;return r?i.createElement(r,Object.assign({},t)):i.createElement("div",null)}}function ud(e,t){return n=>o=>Cn()&&pn("appLayoutWidget")&&n?i.createElement(n,Object.assign({Skeleton:t},o)):i.createElement(e,Object.assign({},o))}function cd(e,t,n){var i;const o=t?e.toolbar:null!==(i=e.drawers)&&void 0!==i?i:n.insetBlockStart;return{drawerTopOffset:o,drawerHeight:"calc(100vh - ".concat(o,"px - ").concat(n.insetBlockEnd,"px)")}}function dd(e){let{currentWidth:t,minWidth:n,maxWidth:i,panelRef:o,handleRef:r,onResize:s,position:a}=e;const l={position:null!==a&&void 0!==a?a:"side",panelRef:o,handleRef:r,onResize:e=>{const t=Oi(n,e,i);i>=n&&s(t)}},u=(Oi(n,t,i)-n)/(i-n)*100,c=ec(l),{onKeyDown:d,onDirectionClick:h}=Qu(l);return{onKeyDown:d,onDirectionClick:h,onPointerDown:c,relativeSize:u}}const hd={drawer:"awsui_drawer_12i0j_17bxy_193","with-expanded-motion":"awsui_with-expanded-motion_12i0j_17bxy_207",legacy:"awsui_legacy_12i0j_17bxy_221","ai-drawer":"awsui_ai-drawer_12i0j_17bxy_221","last-opened":"awsui_last-opened_12i0j_17bxy_229","drawer-global":"awsui_drawer-global_12i0j_17bxy_233","drawer-expanded":"awsui_drawer-expanded_12i0j_17bxy_242","drawer-hidden":"awsui_drawer-hidden_12i0j_17bxy_246","has-next-siblings":"awsui_has-next-siblings_12i0j_17bxy_256","global-drawer-wrapper":"awsui_global-drawer-wrapper_12i0j_17bxy_256","drawer-content-container":"awsui_drawer-content-container_12i0j_17bxy_270","drawer-gap":"awsui_drawer-gap_12i0j_17bxy_273","drawer-close-button":"awsui_drawer-close-button_12i0j_17bxy_291","drawer-expanded-mode-button":"awsui_drawer-expanded-mode-button_12i0j_17bxy_297","drawer-content":"awsui_drawer-content_12i0j_17bxy_270","drawer-content-hidden":"awsui_drawer-content-hidden_12i0j_17bxy_309","drawer-slider":"awsui_drawer-slider_12i0j_17bxy_312","drawer-actions":"awsui_drawer-actions_12i0j_17bxy_362","ai-drawer-slider-handle":"awsui_ai-drawer-slider-handle_12i0j_17bxy_416","drawer-content-header":"awsui_drawer-content-header_12i0j_17bxy_433","drawer-content-header-content":"awsui_drawer-content-header-content_12i0j_17bxy_445","drawer-back-to-console-slot":"awsui_drawer-back-to-console-slot_12i0j_17bxy_462","drawer-back-to-console-button-wrapper":"awsui_drawer-back-to-console-button-wrapper_12i0j_17bxy_501","drawer-back-to-console-button":"awsui_drawer-back-to-console-button_12i0j_17bxy_501"};function pd(e){let{appLayoutInternals:t}=e;var n,o,r;const{activeDrawer:s,minDrawerSize:a,activeDrawerSize:l,maxDrawerSize:u,ariaLabels:c,drawers:d,drawersFocusControl:h,isMobile:p,placement:g,verticalOffsets:m,drawersOpenQueue:v,onActiveDrawerChange:f,onActiveDrawerResize:w}=t,C=(0,i.useRef)(null),b=null===s||void 0===s?void 0:s.id,y={closeButton:s?null===(n=s.ariaLabels)||void 0===n?void 0:n.closeButton:null===c||void 0===c?void 0:c.toolsClose,content:s?null===(o=s.ariaLabels)||void 0===o?void 0:o.drawerName:null===c||void 0===c?void 0:c.tools},{drawerTopOffset:S,drawerHeight:x}=cd(m,p,g),D=1===d.length&&d[0].id===Ba,E=(null===s||void 0===s?void 0:s.id)===Ba||D,F=null===(r=null===d||void 0===d?void 0:d.find(e=>e.id===Ba))||void 0===r?void 0:r.content,k=dd({currentWidth:l,minWidth:a,maxWidth:u,panelRef:C,handleRef:h.refs.slider,onResize:e=>w({id:b,size:e})}),A=void 0===v,R=Oi(a,l,u),P=(null===v||void 0===v?void 0:v.length)?v[0]:b,T=(null===s||void 0===s?void 0:s.defaultActive)&&!v.includes(s.id);return i.createElement(Lr,{nodeRef:C,in:!!s,appear:!0,timeout:0},e=>{var t,n;return i.createElement("aside",{id:b,"aria-hidden":!s,"aria-label":y.content,className:Gn(hd.drawer,{[Ju["with-motion-horizontal"]]:!T,[hd["last-opened"]]:P===b,[hd.legacy]:A,[Hs]:!D&&b,[Ms]:E,[hd["drawer-hidden"]]:!s,[Ns]:!s}),ref:C,onBlur:e=>{e.relatedTarget&&e.currentTarget.contains(e.relatedTarget)||h.loseFocus()},style:Object.assign({blockSize:x,insetBlockStart:S},!p&&!A&&{[bs.drawerSize]:"".concat(["entering","entered"].includes(e)?R:0,"px")}),"data-testid":b&&"awsui-app-layout-drawer-".concat(b)},!p&&(null===s||void 0===s?void 0:s.resizable)&&i.createElement("div",{className:hd["drawer-slider"]},i.createElement(Yu,{ref:h.refs.slider,position:"side",className:Us,ariaLabel:null===(t=null===s||void 0===s?void 0:s.ariaLabels)||void 0===t?void 0:t.resizeHandle,tooltipText:null===(n=null===s||void 0===s?void 0:s.ariaLabels)||void 0===n?void 0:n.resizeHandleTooltipText,ariaValuenow:k.relativeSize,onKeyDown:k.onKeyDown,onPointerDown:k.onPointerDown,onDirectionClick:k.onDirectionClick})),i.createElement("div",{className:Gn(hd["drawer-content-container"],Ju["with-motion-horizontal"])},i.createElement("div",{className:Gn(hd["drawer-close-button"])},i.createElement(Ds,{ariaLabel:y.closeButton,className:Gn({[js]:!E&&b,[Is]:E}),formAction:"none",iconName:p?"close":"angle-right",onClick:()=>f(null,{initiatedByUserAction:!0}),ref:h.refs.close,variant:"icon",analyticsAction:"close"})),i.createElement("div",{className:Gn(hd["drawer-content"],b!==Ba&&hd["drawer-content-hidden"]),style:{blockSize:x}},F),b!==Ba&&i.createElement("div",{className:hd["drawer-content"],style:{blockSize:x}},null===s||void 0===s?void 0:s.content)))})}const gd=ud(pd),md=e=>{const t=(0,i.useRef)();return(0,i.useEffect)(()=>{t.current=e}),t.current};const vd=function(e){let{appLayoutInternals:t,show:n,activeGlobalDrawer:o}=e;var r,s,a,l,u,c;const{ariaLabels:d,globalDrawersFocusControl:h,isMobile:p,placement:g,onActiveGlobalDrawersChange:m,onActiveDrawerResize:v,minGlobalDrawersSizes:f,maxGlobalDrawersSizes:w,activeGlobalDrawersSizes:C,activeGlobalDrawers:b,verticalOffsets:y,drawersOpenQueue:S,expandedDrawerId:x,setExpandedDrawerId:D,activeAiDrawer:E}=t,F=(0,i.useRef)(null),k=null!==(r=null===o||void 0===o?void 0:o.id)&&void 0!==r?r:"",A={closeButton:o?null===(s=o.ariaLabels)||void 0===s?void 0:s.closeButton:null===d||void 0===d?void 0:d.toolsClose,content:o?null===(a=o.ariaLabels)||void 0===a?void 0:a.drawerName:null===d||void 0===d?void 0:d.tools},{drawerTopOffset:R,drawerHeight:P}=cd(y,p,g),T=null!==(l=k?C[k]:0)&&void 0!==l?l:0,_=null!==(u=k?f[k]:0)&&void 0!==u?u:0,M=null!==(c=k?w[k]:0)&&void 0!==c?c:0,I=h.refs[k],L=dd({currentWidth:T,minWidth:_,maxWidth:M,panelRef:F,handleRef:null===I||void 0===I?void 0:I.slider,onResize:e=>v({id:k,size:e})}),N=Oi(_,T,M),B=S.length?S[0]:null,O=!!(null===o||void 0===o?void 0:o.trigger),G=(null===o||void 0===o?void 0:o.isExpandable)&&x===k,z=md(G),V=(null===o||void 0===o?void 0:o.defaultActive)&&!S.includes(o.id)||z&&!G;return i.createElement(Lr,{nodeRef:F,in:n||G,appear:n||G,timeout:0},e=>{var t,r,s;return i.createElement("aside",{id:k,"aria-hidden":!n,"aria-label":A.content,className:Gn(hd.drawer,hd["drawer-global"],hd[e],!V&&Ju["with-motion-horizontal"],!V&&G&&hd["with-expanded-motion"],{[hd["drawer-hidden"]]:!n,[hd["last-opened"]]:!E&&B===k||G,[Hs]:n,[hd["drawer-expanded"]]:G,[hd["has-next-siblings"]]:b.findIndex(e=>e.id===k)+1<b.length}),ref:F,onBlur:e=>{O&&(e.relatedTarget&&e.currentTarget.contains(e.relatedTarget)||h.loseFocus())},style:Object.assign({blockSize:P,insetBlockStart:R},!p&&{[bs.drawerSize]:"".concat(["entering","entered"].includes(e)?G?"100%":N+"px":0)}),"data-testid":"awsui-app-layout-drawer-".concat(k)},i.createElement("div",{className:Gn(hd["global-drawer-wrapper"])},!p&&i.createElement("div",{className:hd["drawer-gap"]}),!p&&(null===o||void 0===o?void 0:o.resizable)&&!G&&i.createElement("div",{className:hd["drawer-slider"]},i.createElement(Yu,{ref:null===I||void 0===I?void 0:I.slider,position:"side",className:Us,ariaLabel:null===(t=null===o||void 0===o?void 0:o.ariaLabels)||void 0===t?void 0:t.resizeHandle,tooltipText:null===(r=null===o||void 0===o?void 0:o.ariaLabels)||void 0===r?void 0:r.resizeHandleTooltipText,ariaValuenow:L.relativeSize,onKeyDown:L.onKeyDown,onDirectionClick:L.onDirectionClick,onPointerDown:L.onPointerDown})),i.createElement("div",{className:Gn(hd["drawer-content-container"],Ju["with-motion-horizontal"]),"data-testid":"awsui-app-layout-drawer-content-".concat(k)},i.createElement("div",{className:hd["drawer-actions"]},!p&&(null===o||void 0===o?void 0:o.isExpandable)&&i.createElement("div",{className:hd["drawer-expanded-mode-button"]},i.createElement(Ds,{ariaLabel:null===(s=null===o||void 0===o?void 0:o.ariaLabels)||void 0===s?void 0:s.expandedModeButton,className:Ys,formAction:"none",ariaExpanded:G,iconName:G?"shrink":"expand",onClick:()=>D(G?null:k),variant:"icon",analyticsAction:G?"expand":"collapse"})),i.createElement("div",{className:Gn(hd["drawer-close-button"])},i.createElement(Ds,{ariaLabel:A.closeButton,className:Gn({[js]:k}),formAction:"none",iconName:p?"close":"angle-right",onClick:()=>m(k,{initiatedByUserAction:!0}),ref:null===I||void 0===I?void 0:I.close,variant:"icon",analyticsAction:"close"}))),i.createElement("div",{className:hd["drawer-content"],style:{blockSize:P}},null===o||void 0===o?void 0:o.content))))})};function fd(e){let{appLayoutInternals:t}=e;const{globalDrawers:n,activeGlobalDrawersIds:o,expandedDrawerId:r}=t,s=(0,i.useRef)(new Set);return n.length?i.createElement(i.Fragment,null,n.filter(e=>o.includes(e.id)||e.preserveInactiveContent&&s.current.has(e.id)).map(e=>(s.current.add(e.id),i.createElement(vd,{key:e.id,show:o.includes(e.id)&&(!r||e.id===r),activeGlobalDrawer:e,appLayoutInternals:t})))):i.createElement(i.Fragment,null)}const wd=ud(fd),Cd={"breadcrumb-group":"awsui_breadcrumb-group_d19fg_1h5ta_145","breadcrumb-group-list":"awsui_breadcrumb-group-list_d19fg_1h5ta_180",ghost:"awsui_ghost_d19fg_1h5ta_191",item:"awsui_item_d19fg_1h5ta_196","ghost-item":"awsui_ghost-item_d19fg_1h5ta_197",ellipsis:"awsui_ellipsis_d19fg_1h5ta_198",hide:"awsui_hide_d19fg_1h5ta_209",visible:"awsui_visible_d19fg_1h5ta_215",icon:"awsui_icon_d19fg_1h5ta_219","breadcrumbs-skeleton":"awsui_breadcrumbs-skeleton_d19fg_1h5ta_225","collapsed-button":"awsui_collapsed-button_d19fg_1h5ta_229","button-icon":"awsui_button-icon_d19fg_1h5ta_311","button-icon-open":"awsui_button-icon-open_d19fg_1h5ta_325",hidden:"awsui_hidden_d19fg_1h5ta_329"},bd={[Eo]:"true"},yd=e=>{let{items:t,onItemClick:n,onItemFollow:o}=e;var r;return i.createElement(i.Fragment,null,i.createElement(vu,{items:t.map((e,n)=>{const i=n===t.length-1;return{id:n.toString(),text:e.text,href:i?void 0:e.href,isCurrentBreadcrumb:i}}),customTriggerBuilder:Sd(null===(r=t[t.length-1])||void 0===r?void 0:r.text),linkStyle:!0,fullWidth:!0,onItemClick:n,onItemFollow:o,analyticsMetadataTransformer:e=>{var t,n;return(null===(t=e.detail)||void 0===t?void 0:t.id)&&delete e.detail.id,(null===(n=e.detail)||void 0===n?void 0:n.position)&&(e.detail.position="".concat(parseInt(e.detail.position,10)+1)),e}}),t.length>1&&i.createElement("span",Object.assign({className:Cd.hidden},bd),t[1].text))},Sd=e=>t=>{let{ariaLabel:n,triggerRef:o,testUtilsClass:r,isOpen:s,onClick:a}=t;const l={[yo]:Po};return i.createElement("button",Object.assign({ref:o},l,{className:Gn(Cd["collapsed-button"],r),onClick:e=>{e.preventDefault(),a()},"aria-expanded":s,"aria-haspopup":!0,"aria-label":n,formAction:"none"}),i.createElement(oo,{name:"caret-down-filled",className:Tl(Cd,"button-icon",s)}),i.createElement("span",null,e))},xd=e=>({item:e,text:e.text,href:e.href}),Dd=(e,t)=>{if("number"!==typeof t)return 0;let n=e.reduce((e,t)=>e+t,0),i=0;for(;i<e.length-1&&!(n<=t);)i+=1,n-=e[i],1===i&&(n+=50);return i},Ed="awsui_breadcrumb-item_1c68o_b6unx_5",Fd=i.forwardRef((e,t)=>{let{className:n,text:o,itemIndex:r,totalCount:s,disableAnalytics:a}=e;const l={};return a||(r===s-1&&(l[yo]=Po),1===r&&(l[Eo]="true")),i.createElement("span",Object.assign({},l,{className:Gn(n,!a&&Ed),ref:t}),o)}),kd="awsui_breadcrumb_1kosq_1kaoe_149",Ad="awsui_ghost-breadcrumb_1kosq_1kaoe_150",Rd="awsui_icon_1kosq_1kaoe_153",Pd="awsui_anchor_1kosq_1kaoe_159",Td="awsui_text_1kosq_1kaoe_206",_d="awsui_last_1kosq_1kaoe_225",Md=e=>{let{item:t,isLast:n,anchorAttributes:o,itemAttributes:r,children:s}=e;const[a,l]=(0,i.useState)(!1),u=(0,i.useRef)(null);return i.createElement(Id,Object.assign({ref:u,isLast:n,onFocus:()=>{l(!0)},onBlur:()=>l(!1),onMouseEnter:()=>{l(!0)},onMouseLeave:()=>l(!1),anchorAttributes:o},r),s,a&&i.createElement(Or,{trackRef:u,value:t.text,size:"medium",onDismiss:()=>l(!1)}))},Id=i.forwardRef((e,t)=>{var{anchorAttributes:n,children:o,isLast:r}=e,s=Et(e,["anchorAttributes","children","isLast"]);return r?i.createElement("span",Object.assign({ref:t,className:Pd},s),o):i.createElement("a",Object.assign({ref:t,className:Pd},s,n),o)});function Ld(e){let{item:t,itemIndex:n,totalCount:o,onClick:r,onFollow:s,isGhost:a=!1,isTruncated:l=!1}=e;const u=n===o-1,c={href:t.href||"#",onClick:u?e=>e.preventDefault():e=>{Ni(e)&&Mi(s,xd(t),e),Mi(r,xd(t),e)},tabIndex:0},d={};a&&(c.tabIndex=-1),u&&!a&&(d["aria-current"]="page",d["aria-disabled"]=!0,d.tabIndex=0,d.role="link");const h=i.createElement(Fd,{className:Td,itemIndex:n,totalCount:o,text:t.text,disableAnalytics:a});return i.createElement("div",{className:Gn(!a&&kd,a&&Ad,u&&_d)},l&&!a?i.createElement(Md,{item:t,isLast:u,anchorAttributes:c,itemAttributes:d},h):i.createElement(Id,Object.assign({isLast:u,anchorAttributes:c},d),h),u?null:i.createElement("span",{className:Rd},i.createElement(oo,{name:"angle-right"})))}const Nd=i.forwardRef((e,t)=>{let{items:n}=e;return i.createElement("div",{ref:t,className:Cd["breadcrumbs-skeleton"]},n.map((e,t)=>i.createElement(Fd,{itemIndex:t,totalCount:n.length,text:e.text,key:t})))}),Bd=e=>{let{ariaLabel:t,triggerRef:n,testUtilsClass:o,isOpen:r,onClick:s}=e;return i.createElement(Ds,{ref:n,className:o,onClick:e=>{e.preventDefault(),s()},ariaExpanded:r,"aria-haspopup":!0,ariaLabel:t,variant:"breadcrumb-group",formAction:"none"},"...")},Od=e=>{let{ariaLabel:t,dropdownItems:n,onDropdownItemClick:o,onDropdownItemFollow:r,visible:s}=e;var a;const l=Mt("breadcrumb-group");return i.createElement("li",{className:Gn(Cd.ellipsis,s&&Cd.visible)},i.createElement(vu,{ariaLabel:null!==(a=l("expandAriaLabel",t))&&void 0!==a?a:"Show path",items:n,onItemClick:o,onItemFollow:r,customTriggerBuilder:Bd,linkStyle:!0,analyticsMetadataTransformer:e=>{var t,n;return(null===(t=e.detail)||void 0===t?void 0:t.id)&&delete e.detail.id,(null===(n=e.detail)||void 0===n?void 0:n.position)&&(e.detail.position="".concat(parseInt(e.detail.position,10)+1)),e}}),i.createElement("span",{className:Cd.icon},i.createElement(oo,{name:"angle-right"})))},Gd=(e,t)=>e.length===t.length&&e.every((e,n)=>e===t[n]);function zd(e){var{items:t=[],ariaLabel:n,expandAriaLabel:o,onClick:r,onFollow:s,__internalRootRef:a,__injectAnalyticsComponentMetadata:l}=e,u=Et(e,["items","ariaLabel","expandAriaLabel","onClick","onFollow","__internalRootRef","__injectAnalyticsComponentMetadata"]);for(const i of t)is(0,i.href);const c=zt(u),[d,h]=Ri(e=>e.borderBoxWidth),p=Tt(h,a),g=(0,i.useRef)({ghost:{},real:{}}),m=(e,t,n)=>{n?g.current[e][t]=n:delete g.current[e][t]},[v,f]=(0,i.useState)({ghost:[],real:[]});(0,i.useEffect)(()=>{if(g.current){const e={ghost:[],real:[]};for(const t of Object.values(g.current.ghost)){const n=lr(t).inlineSize;e.ghost.push(n)}for(const t of Object.values(g.current.real)){const n=lr(t).inlineSize;e.real.push(n)}f(t=>Gd(e.ghost,t.ghost)&&Gd(e.real,t.real)?t:e)}},[t,d]);const{collapsed:w}=((e,t)=>{const n=[...e];return n[e.length-1]=Math.min(e[e.length-1],70),{collapsed:Dd(n,t)}})(v.ghost,d);let C=t.map((e,n)=>{const o=n===t.length-1,a=0===n||n>w,l={action:"click",detail:{position:"".concat(n+1),label:".".concat(Ed),href:e.href||""}};return i.createElement("li",Object.assign({className:Gn(Cd.item,!a&&Cd.hide),key:n},o?{}:Qi(l),{ref:e=>m("real","".concat(n),e)}),i.createElement(Ld,{item:e,onClick:r,onFollow:s,itemIndex:n,totalCount:t.length,isTruncated:v.ghost[n]-v.real[n]>0}))});const b=t.map((e,n)=>i.createElement("li",{className:Cd["ghost-item"],key:n,ref:e=>m("ghost","".concat(n),e)},i.createElement(Ld,{item:e,itemIndex:n,totalCount:t.length,isGhost:!0}))),y=e=>{const{id:n}=e.detail;return t[parseInt(n)]};if(C.length>=2){const e=t.slice(1,1+w).map((e,t)=>({id:(t+1).toString(),text:e.text,href:e.href||"#"}));C=[C[0],i.createElement(Od,{key:"ellipsis",visible:w>0,ariaLabel:o,dropdownItems:e,onDropdownItemClick:e=>Mi(r,xd(y(e)),e),onDropdownItemFollow:e=>Mi(s,xd(y(e)),e)}),...C.slice(1)]}return i.createElement("nav",Object.assign({},c,{className:Gn(Cd["breadcrumb-group"],c.className),"aria-label":n||void 0,ref:p},l?Object.assign({},Qi({component:{name:"awsui.BreadcrumbGroup",label:{root:"self"}}})):{}),w>0&&w===t.length-1?i.createElement(yd,{items:t,onItemClick:e=>e.detail.id!==(t.length-1).toString()&&Mi(r,xd(y(e)),e),onItemFollow:e=>e.detail.id!==(t.length-1).toString()&&Mi(s,xd(y(e)),e)}):i.createElement("ol",{className:Cd["breadcrumb-group-list"]},C),i.createElement("ol",{className:Gn(Cd["breadcrumb-group-list"],Cd.ghost),"aria-hidden":!0,tabIndex:-1},b))}const Vd=ud(zd,Nd),Hd="awsui_root_7nfqu_1r0ct_153",jd="awsui_has-adaptive-widths-default_7nfqu_1r0ct_197",Wd="awsui_has-adaptive-widths-dashboard_7nfqu_1r0ct_202",Ud="awsui_drawer-expanded-mode_7nfqu_1r0ct_217",Kd="awsui_ai-drawer-expanded-mode_7nfqu_1r0ct_220",qd="awsui_ai-drawer_7nfqu_1r0ct_220",Yd="awsui_navigation_7nfqu_1r0ct_226",Zd="awsui_tools_7nfqu_1r0ct_227",$d="awsui_global-tools_7nfqu_1r0ct_228",Xd="awsui_tools-open_7nfqu_1r0ct_274",Qd="awsui_split-panel-side_7nfqu_1r0ct_288",Jd="awsui_split-panel-bottom_7nfqu_1r0ct_295",eh="awsui_panel-hidden_7nfqu_1r0ct_308",th="awsui_toolbar-container_7nfqu_1r0ct_318",nh="awsui_notifications-container_7nfqu_1r0ct_325",ih="awsui_notifications-background_7nfqu_1r0ct_329",oh="awsui_main-landmark_7nfqu_1r0ct_340",rh="awsui_main_7nfqu_1r0ct_340",sh="awsui_main-disable-paddings_7nfqu_1r0ct_349",ah="awsui_content-header_7nfqu_1r0ct_359",lh="awsui_content_7nfqu_1r0ct_359",uh="awsui_unfocusable-mobile_7nfqu_1r0ct_369",ch="awsui_hidden_7nfqu_1r0ct_374",dh="awsui_breadcrumbs-own_7nfqu_1r0ct_378",hh="awsui_breadcrumbs-discovered_7nfqu_1r0ct_378",ph=i.forwardRef((e,t)=>{let{className:n,style:o,children:r}=e;return i.createElement("section",{ref:t,className:Gn(th,n),style:o},r)}),gh=i.forwardRef((e,t)=>{let{className:n,style:o,children:r}=e;return i.createElement("div",{ref:t,className:Gn(nh,n),style:o},r)});function mh(e){let{ownBreadcrumbs:t,discoveredBreadcrumbs:n}=e;return i.createElement(od.Provider,{value:{isInToolbar:!0}},i.createElement("div",{className:dh},t),n&&i.createElement("div",{className:hh},i.createElement(zd,Object.assign({},n,{"data-awsui-discovered-breadcrumbs":!0,__injectAnalyticsComponentMetadata:!0}))))}const vh="awsui_navigation-container_2p2ab_bam66_153",fh="awsui_is-navigation-open_2p2ab_bam66_164",wh="awsui_navigation_2p2ab_bam66_153",Ch="awsui_hide-navigation_2p2ab_bam66_184";function bh(e){let{appLayoutInternals:t}=e;var n,o;const{ariaLabels:r,onNavigationToggle:s,isMobile:a,navigationOpen:l,navigation:u,navigationFocusControl:c,placement:d,verticalOffsets:h}=t,{drawerTopOffset:p,drawerHeight:g}=cd(h,a,d);return i.createElement("div",{className:Gn(vh,Ju["with-motion-horizontal"],{[fh]:l}),style:{blockSize:g,insetBlockStart:p}},i.createElement("nav",{"aria-label":null!==(n=null===r||void 0===r?void 0:r.navigation)&&void 0!==n?n:void 0,className:Gn(wh,{[Ns]:!l},ks),"aria-hidden":!l,onClick:e=>{const t=sn(e.target,e=>"A"===e.tagName&&!!e.href);t&&a&&s(!1)}},i.createElement("div",{className:Gn(Ch)},i.createElement(Ds,{ariaLabel:null!==(o=null===r||void 0===r?void 0:r.navigationClose)&&void 0!==o?o:void 0,iconName:a?"close":"angle-left",onClick:()=>s(!1),variant:"icon",formAction:"none",className:Rs,ref:c.refs.close,analyticsAction:"close"})),u))}const yh=ud(bh,gh),Sh=i.forwardRef((e,t)=>{let{toolbarProps:n,appLayoutProps:o}=e;return i.createElement(i.Fragment,null,!!n&&i.createElement(ph,{ref:t},i.createElement(mh,{ownBreadcrumbs:o.breadcrumbs})),(null===n||void 0===n?void 0:n.navigationOpen)&&i.createElement("div",{className:Yd}))}),xh=i.forwardRef((e,t)=>{let{appLayoutInternals:n}=e;return i.createElement(ph,{ref:t},i.createElement(mh,{ownBreadcrumbs:n.breadcrumbs,discoveredBreadcrumbs:n.discoveredBreadcrumbs}))}),Dh=i.forwardRef((e,t)=>i.createElement(gh,{ref:t})),Eh="awsui_sticky-notifications_154bi_yk7p7_9",Fh="awsui_sticky-notifications-with-background_154bi_yk7p7_13",kh="awsui_has-notifications-content_154bi_yk7p7_17";function Ah(e){let{appLayoutInternals:t,children:n}=e;const{ariaLabels:o,stickyNotifications:r,setNotificationsHeight:s,verticalOffsets:a}=t,[l,u]=(0,i.useState)(!1),c=(0,i.useRef)(null);return ki(c,e=>{const t=e.contentBoxHeight>0;s(t?e.borderBoxHeight:0),u(t)}),(0,i.useEffect)(()=>()=>{s(0)},[]),i.createElement(gh,{ref:c,className:Gn("high-contrast"===t.headerVariant&&Ac,r&&Eh,l&&kh,"high-contrast"!==t.headerVariant&&Fh),style:{insetBlockStart:r?a.notifications:void 0}},i.createElement("div",{className:Ts,role:"region","aria-label":null===o||void 0===o?void 0:o.notifications},n))}const Rh=ud(Ah,Dh),Ph="awsui_split-panel-side_j4v3w_1dcwh_145";function Th(e){let{children:t,appLayoutInternals:n,splitPanelInternals:o}=e;const{splitPanelControlId:r,placement:s,verticalOffsets:a,isMobile:l,splitPanelAnimationDisabled:u}=n,{drawerTopOffset:c,drawerHeight:d}=cd(a,l,s);return i.createElement(pc,Object.assign({},o,{animationDisabled:u}),i.createElement("section",{id:r,className:Ph,style:{blockSize:d,insetBlockStart:c}},t))}function _h(e){let{children:t,splitPanelInternals:n,appLayoutInternals:o}=e;const{splitPanelControlId:r,splitPanelAnimationDisabled:s}=o;return i.createElement(pc,Object.assign({},n,{animationDisabled:s}),i.createElement("section",{id:r},t))}const Mh=ud(Th),Ih=ud(_h);function Lh(e,t){return!!e&&(Pt(0,"Another app layout instance on this page already defines ".concat(t," property. This instance will be ignored.")),!0)}const Nh=(e,t)=>{var n;const i={};for(const o of[e,...t])i.ariaLabels=Object.assign(Object.assign({},i.ariaLabels),o.ariaLabels),o.drawers&&o.drawers.some(e=>e.trigger)&&!Lh(!!i.drawers,"tools or drawers")&&(i.drawers=o.drawers,i.activeDrawerId=o.activeDrawerId,i.drawersFocusRef=o.drawersFocusRef,i.onActiveDrawerChange=o.onActiveDrawerChange),o.globalDrawers&&!Lh(!!i.globalDrawers,"globalDrawers")&&(i.globalDrawersFocusControl=o.globalDrawersFocusControl,i.globalDrawers=o.globalDrawers,i.activeGlobalDrawersIds=o.activeGlobalDrawersIds,i.onActiveGlobalDrawersChange=o.onActiveGlobalDrawersChange),o.aiDrawer&&o.aiDrawerFocusRef&&!Lh(!!i.aiDrawerFocusRef,"aiDrawerFocusRef")&&(i.aiDrawerFocusRef=o.aiDrawerFocusRef),o.navigation&&!Lh(!!i.hasNavigation,"navigation")&&(i.hasNavigation=!0,i.navigationOpen=o.navigationOpen,i.navigationFocusRef=o.navigationFocusRef,i.onNavigationToggle=o.onNavigationToggle),o.splitPanel&&(null===(n=o.splitPanelToggleProps)||void 0===n?void 0:n.displayed)&&!Lh(!!i.hasSplitPanel,"splitPanel")&&(i.hasSplitPanel=!0,i.splitPanelFocusRef=o.splitPanelFocusRef,i.splitPanelToggleProps=o.splitPanelToggleProps,i.onSplitPanelToggle=o.onSplitPanelToggle),o.breadcrumbs&&!Lh(!!i.hasBreadcrumbsPortal,"hasBreadcrumbsPortal")&&(i.hasBreadcrumbsPortal=!0),o.expandedDrawerId&&!Lh(!!i.expandedDrawerId,"expandedDrawerId")&&(i.expandedDrawerId=o.expandedDrawerId,i.setExpandedDrawerId=o.setExpandedDrawerId);return Object.keys(i).filter(e=>"ariaLabels"!==e).length>0?i:null},Bh=(e,t)=>{var n,i,o,r,s,a,l;const u=t.widgetizedState;return{breadcrumbs:e.breadcrumbs,ariaLabels:u?u.ariaLabels:e.ariaLabels,navigation:!e.navigationTriggerHide&&!e.navigationHide,navigationOpen:u?u.navigationOpen:e.navigationOpen,onNavigationToggle:null===u||void 0===u?void 0:u.onNavigationToggle,navigationFocusRef:null===u||void 0===u?void 0:u.navigationFocusControl.refs.toggle,activeDrawerId:null!==(i=null===(n=null===u||void 0===u?void 0:u.activeDrawer)||void 0===n?void 0:n.id)&&void 0!==i?i:null,drawers:(null===(o=null===u||void 0===u?void 0:u.drawers)||void 0===o?void 0:o.length)||!e.toolsHide?null===u||void 0===u?void 0:u.drawers:void 0,globalDrawersFocusControl:null===u||void 0===u?void 0:u.globalDrawersFocusControl,globalDrawers:(null===(r=null===u||void 0===u?void 0:u.globalDrawers)||void 0===r?void 0:r.length)?u.globalDrawers:void 0,activeGlobalDrawersIds:null===u||void 0===u?void 0:u.activeGlobalDrawersIds,onActiveGlobalDrawersChange:null===u||void 0===u?void 0:u.onActiveGlobalDrawersChange,onActiveDrawerChange:null===u||void 0===u?void 0:u.onActiveDrawerChange,drawersFocusRef:null===u||void 0===u?void 0:u.drawersFocusControl.refs.toggle,splitPanel:e.splitPanel,splitPanelToggleProps:(null===u||void 0===u?void 0:u.splitPanelToggleConfig)&&Object.assign(Object.assign({},u.splitPanelToggleConfig),{active:null===u||void 0===u?void 0:u.splitPanelOpen,controlId:null===u||void 0===u?void 0:u.splitPanelControlId,position:null===u||void 0===u?void 0:u.splitPanelPosition}),splitPanelFocusRef:null===u||void 0===u?void 0:u.splitPanelFocusControl.refs.toggle,onSplitPanelToggle:null===u||void 0===u?void 0:u.onSplitPanelToggle,expandedDrawerId:null===u||void 0===u?void 0:u.expandedDrawerId,setExpandedDrawerId:null===u||void 0===u?void 0:u.setExpandedDrawerId,aiDrawer:null!==(s=null===u||void 0===u?void 0:u.aiDrawer)&&void 0!==s?s:void 0,aiDrawerFocusRef:null===(l=null===(a=null===u||void 0===u?void 0:u.aiDrawerFocusControl)||void 0===a?void 0:a.refs)||void 0===l?void 0:l.toggle}};function Oh(){let{initialState:e=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=(0,i.useRef)(null),[n,o]=(0,i.useState)(e);return{ref:(0,i.useCallback)(e=>{if("undefined"!==typeof IntersectionObserver&&(t.current&&t.current.disconnect(),e)){let n=IntersectionObserver;try{window.top&&(n=window.top.IntersectionObserver)}catch(Wi){}t.current=new n(e=>{let t=e[0];for(const n of e)n.time>t.time&&(t=n);o(t.isIntersecting)}),t.current.observe(e)}},[]),isIntersecting:n}}function Gh(e){return!!kc()&&function(e){var t,n,{__disableGlobalization:o}=e,r=Et(e,["__disableGlobalization"]);const{isInToolbar:s}=null!==(t=(0,i.useContext)(od))&&void 0!==t?t:{},a=null===(n=(0,i.useContext)(rd))||void 0===n||n,l=(0,i.useRef)(),[u,c]=(0,i.useState)(!1);return(0,i.useEffect)(()=>{if(s||o||!a)return;const e=Ra.breadcrumbs.registerBreadcrumbs(r,e=>{if(c(null===e||void 0===e||e),e){const e=r.items.map(e=>e.text).join(" > ");bn.sendOpsMetricObject("awsui-global-breadcrumbs-used",{breadcrumbs:e})}});return l.current=e,()=>{e.cleanup()}},[s,o,a]),(0,i.useLayoutEffect)(()=>{var e;null===(e=l.current)||void 0===e||e.update(r)}),u}(e)}const zh=Symbol.for("awsui-widget-api-message-handler"),Vh=Symbol.for("awsui-widget-api-initial-messages");function Hh(){return window}const jh={initiatedByUserAction:!0};function Wh(e,t,n,o){const[r,s]=(0,i.useState)(null),a=un(e=>{if("registerLeftDrawer"===e.type)return s(e.payload),void(!d.current&&e.payload.defaultActive&&l(e.payload.id,{initiatedByUserAction:!1}));if(r&&r.id!==e.payload.id)bn.sendOpsMetricObject("awsui-widget-drawer-incorrect-id",{oldId:null===r||void 0===r?void 0:r.id,newId:e.payload.id});else switch(e.type){case"updateDrawerConfig":s(t=>t?Object.assign(Object.assign({},t),e.payload):t);break;case"openDrawer":c(e.payload.id,{initiatedByUserAction:!1});break;case"closeDrawer":c(null,{initiatedByUserAction:!1});break;case"resizeDrawer":u(e.payload.size)}}),l=un(n),u=un(o),c=un(n),d=(0,i.useRef)(!1);return d.current=d.current||!!t,(0,i.useEffect)(()=>{var t;if(!e)return;const n=null===(t=Hh()[Vh])||void 0===t?void 0:t.find(e=>"registerLeftDrawer"===e.type);n&&"registerLeftDrawer"===n.type&&(s(n.payload),!d.current&&n.payload.defaultActive&&l(n.payload.id,{initiatedByUserAction:!1}));const i=function(e){const t=Hh();return t[zh]&&ra("AppLayoutWidget","Double registration attempt, the old handler will be overridden"),t[zh]=e,()=>{t[zh]=void 0}}(a);return()=>{i(),s(null)}},[e,a,l,u]),r&&(e=>{var t;const{mountContent:n,unmountContent:o,trigger:r}=e,s=Et(e,["mountContent","unmountContent","trigger"]);return Object.assign(Object.assign(Object.assign(Object.assign({},s),{ariaLabels:Object.assign({drawerName:null!==(t=s.ariaLabels.content)&&void 0!==t?t:""},s.ariaLabels),trigger:r?{customIcon:(null===r||void 0===r?void 0:r.customIcon)?i.createElement("span",{style:{lineHeight:0},dangerouslySetInnerHTML:{__html:r.customIcon}}):void 0,iconSvg:r.iconSvg?i.createElement("span",{dangerouslySetInnerHTML:{__html:r.iconSvg}}):void 0}:void 0,content:i.createElement(Ia,{key:s.id,mountContent:n,unmountContent:o,id:s.id})}),s.mountHeader&&{header:i.createElement(La,{mountHeader:s.mountHeader,unmountHeader:s.unmountHeader})}),{onResize:e=>{_i(s.onResize,{size:e.detail.size,id:s.id})}})})(r)}const Uh=(e,t,n)=>{var o,r,{ariaLabels:s,navigationOpen:a,navigationWidth:l,navigation:u,navigationHide:c,onNavigationChange:d,tools:h,toolsOpen:p,onToolsChange:g,toolsHide:m,toolsWidth:v,headerVariant:f,breadcrumbs:w,stickyNotifications:C,splitPanelPreferences:b,splitPanelOpen:y,splitPanel:S,splitPanelSize:x,onSplitPanelToggle:D,onSplitPanelResize:E,onSplitPanelPreferencesChange:F,minContentWidth:k,placement:A,navigationTriggerHide:R}=t,P=Et(t,["ariaLabels","navigationOpen","navigationWidth","navigation","navigationHide","onNavigationChange","tools","toolsOpen","onToolsChange","toolsHide","toolsWidth","headerVariant","breadcrumbs","stickyNotifications","splitPanelPreferences","splitPanelOpen","splitPanel","splitPanelSize","onSplitPanelToggle","onSplitPanelResize","onSplitPanelPreferencesChange","minContentWidth","placement","navigationTriggerHide"]);const T=In(),_=Yi("split-panel"),[M,I]=(0,i.useState)("show"),[L,N]=(0,i.useState)(0),[B,O]=(0,i.useState)(0),[G,z]=(0,i.useState)(!0),[V,H]=(0,i.useState)(!0),[j,W]=(0,i.useState)(!1),U=(0,i.useRef)(null),K=(0,i.useCallback)(e=>{W(ot(e))},[]),[q=!1,Y]=Fn(p,0,!1,{componentName:"AppLayout",controlledProp:"toolsOpen",changeHandler:"onToolsChange"}),Z=e=>{Y(e),Le.setFocus(),_i(g,{open:e})},{drawers:$,activeDrawer:X,minDrawerSize:Q,minGlobalDrawersSizes:J,activeDrawerSize:ee,ariaLabelsWithDrawers:te,globalDrawers:ne,activeGlobalDrawers:ie,activeGlobalDrawersIds:oe,activeGlobalDrawersSizes:re,drawerSizes:se,drawersOpenQueue:ae,onActiveDrawerChange:le,onActiveDrawerResize:ue,onActiveGlobalDrawersChange:ce,expandedDrawerId:de,setExpandedDrawerId:he}=Ha(Object.assign(Object.assign({},P),{onGlobalDrawerFocus:(e,t)=>{Ie.setFocus({force:!0,drawerId:e,open:t})},onAddNewActiveDrawer:e=>{var t,n;if(X&&(null===$||void 0===$?void 0:$.find(t=>t.id===e)))return;const i=[...$||[],...ne].find(t=>t.id===e);if(!i)return;const o=Math.min(null!==(n=null!==(t=i.defaultSize)&&void 0!==t?t:se[e])&&void 0!==n?n:Va,Va);qe-it>=o||nt()}}),s,{ariaLabels:s,toolsHide:m,toolsOpen:q,tools:h,toolsWidth:v,onToolsToggle:Z}),{aiDrawer:pe,onActiveAiDrawerChange:ge,activeAiDrawer:me,activeAiDrawerId:ve,activeAiDrawerSize:fe,minAiDrawerSize:we,onActiveAiDrawerResize:Ce}=function(e){let{isEnabled:t,onAiDrawerFocus:n,expandedDrawerId:o,setExpandedDrawerId:r}=e;var s,a;const[l,u]=(0,i.useState)(null),[c,d]=(0,i.useState)(null);function h(e){d(e),_i(null===m||void 0===m?void 0:m.onResize,{id:l,size:e})}function p(e){let{initiatedByUserAction:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:jh;u(e),e&&_i(null===g||void 0===g?void 0:g.onToggle,{isOpen:!0,initiatedByUserAction:t}),l&&(_i(null===g||void 0===g?void 0:g.onToggle,{isOpen:!1,initiatedByUserAction:t}),l===o&&(null===r||void 0===r||r(null))),null===n||void 0===n||n()}const g=Wh(t,l,p,h),m=l&&l===(null===g||void 0===g?void 0:g.id)?g:null,v=l?null!==(s=null!==c&&void 0!==c?c:null===m||void 0===m?void 0:m.defaultSize)&&void 0!==s?s:290:0,f=Math.min(null!==(a=null===m||void 0===m?void 0:m.defaultSize)&&void 0!==a?a:290,290);return{aiDrawer:g,onActiveAiDrawerChange:p,activeAiDrawer:m,activeAiDrawerId:l,activeAiDrawerSize:v,minAiDrawerSize:f,onActiveAiDrawerResize:h}}({isEnabled:e,onAiDrawerFocus:()=>be.setFocus(),expandedDrawerId:de,setExpandedDrawerId:he}),be=xc(!!(null===me||void 0===me?void 0:me.id),!0,null===me||void 0===me?void 0:me.id),[ye=!1,Se]=Fn(y,0,!1,{componentName:"AppLayout",controlledProp:"splitPanelOpen",changeHandler:"onSplitPanelToggle"}),xe=()=>{H(!1),Se(!ye),Be.setLastInteraction({type:ye?"close":"open"}),_i(D,{open:!ye})},[De,Ee]=Fn(b,0,void 0,{componentName:"AppLayout",controlledProp:"splitPanelPreferences",changeHandler:"onSplitPanelPreferencesChange"}),[Fe=0,ke]=Fn(x,0,Bi(null!==(o=null===De||void 0===De?void 0:De.position)&&void 0!==o?o:"bottom"),{componentName:"AppLayout",controlledProp:"splitPanelSize",changeHandler:"onSplitPanelResize"}),[Ae,Re]=(0,i.useState)(0),[Pe,Te]=(0,i.useState)(0),[_e,Me]=(0,i.useState)({ariaLabel:void 0,displayed:!1}),Ie=function(e,t){const n=(0,i.useRef)({});t.forEach(e=>{n.current[e]||(n.current[e]={toggle:(0,i.createRef)(),close:(0,i.createRef)(),slider:(0,i.createRef)()})});const o=(0,i.useCallback)(function(t){let i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];var o,r,a,l,u,c;const d=n.current[t];i?(s.current=document.activeElement!==document.body?document.activeElement:void 0,(null===(o=null===d||void 0===d?void 0:d.slider)||void 0===o?void 0:o.current)?null===(r=d.slider.current)||void 0===r||r.focus():null===(l=null===(a=null===d||void 0===d?void 0:d.close)||void 0===a?void 0:a.current)||void 0===l||l.focus()):e&&s.current&&document.contains(s.current)?(s.current.focus(),s.current=void 0):null===(c=null===(u=null===d||void 0===d?void 0:d.toggle)||void 0===u?void 0:u.current)||void 0===c||c.focus()},[n,e]),r=(0,i.useCallback)(()=>{s.current=void 0},[]),s=(0,i.useRef)(),a=(0,i.useRef)(!1);return(0,i.useEffect)(()=>{const e=t[0];a.current&&Promise.resolve().then(()=>{o(e),a.current=!1})},[t,o]),{refs:n.current,setFocus:e=>{const{force:n=!1,drawerId:i=null,open:r=!0}=e||{};!n||i&&!t.includes(i)?a.current=!0:o(i,r)},loseFocus:r}}(!0,oe),Le=xc(!!(null===X||void 0===X?void 0:X.id),!0,null===X||void 0===X?void 0:X.id),Ne=xc(a,R),Be=Dc([De,ye]),Oe=un(e=>{z(!1),Ne.setFocus(),_i(d,{open:e})});(0,i.useImperativeHandle)(n,()=>({closeNavigationIfNecessary:()=>T&&Oe(!1),openTools:()=>Z(!0),focusToolsClose:()=>Le.setFocus(!0),focusActiveDrawer:()=>Le.setFocus(!0),focusSplitPanel:()=>Be.setLastInteraction({type:"open"}),focusNavigation:()=>Ne.setFocus(!0)}));const Ge=!!C&&!T,ze=c?null:u||i.createElement(i.Fragment,null),Ve=!!ze&&a,{maxDrawerSize:He,maxSplitPanelSize:je,splitPanelForcedPosition:We,splitPanelPosition:Ue,maxGlobalDrawersSizes:Ke,resizableSpaceAvailable:qe,maxAiDrawerSize:Ye}=function(e){let{navigationOpen:t,navigationWidth:n,placement:i,minContentWidth:o,activeDrawerSize:r,splitPanelOpen:s,splitPanelPosition:a,splitPanelSize:l,isMobile:u,activeGlobalDrawersSizes:c,activeAiDrawerSize:d}=e;const h=t?n:0;let p=Math.max(0,i.inlineSize-o-48-h-d);const g=Object.values(c).reduce((e,t)=>e+t,0),m=Cc({isMobile:u,availableWidthForSplitPanel:p-r}),v=m?"bottom":null!==a&&void 0!==a?a:"bottom",f="side"===v&&s&&null!==l&&void 0!==l?l:0,w=Math.max(p-g-r,0);p-=f;const C=p-g,b=i.inlineSize-688;return{splitPanelPosition:v,splitPanelForcedPosition:m,sideSplitPanelSize:f,maxSplitPanelSize:w,maxDrawerSize:C,maxGlobalDrawersSizes:Object.keys(c).reduce((e,t)=>Object.assign(Object.assign({},e),{[t]:p-r-g+c[t]}),{}),totalActiveGlobalDrawersSize:g,resizableSpaceAvailable:p,maxAiDrawerSize:b}}({activeDrawerSize:X?ee:0,splitPanelSize:Fe,minContentWidth:k,navigationOpen:Ve,navigationWidth:l,placement:A,splitPanelOpen:ye,splitPanelPosition:null===De||void 0===De?void 0:De.position,isMobile:T,activeGlobalDrawersSizes:re,activeAiDrawerSize:fe}),Ze=function(e){let{topOffset:t,hasVisibleToolbar:n,toolbarHeight:i,stickyNotifications:o,notificationsHeight:r}=e,s=t,a=t;n&&(s+=i,a+=i);let l=s;return o&&(l+=r),{toolbar:t,notifications:s,header:l,drawers:a}}({topOffset:A.insetBlockStart,hasVisibleToolbar:e&&"hide"!==M,notificationsHeight:null!==B&&void 0!==B?B:0,toolbarHeight:null!==L&&void 0!==L?L:0,stickyNotifications:Ge}),{ref:$e,isIntersecting:Xe}=Oh({initialState:!0}),Qe=Tt(U,$e,K),Je=function(e){const[t,n]=(0,i.useState)(null);return(0,i.useEffect)(()=>{if(!e)return;const t=Ra.breadcrumbs.registerAppLayout(e=>{n(e)});return()=>{null===t||void 0===t||t(),n(null)}},[e]),t}(e&&!w);Kc(null!==(r=Ze.header)&&void 0!==r?r:0);const et={ariaLabels:te,headerVariant:f,isMobile:T,breadcrumbs:w,discoveredBreadcrumbs:Je,stickyNotifications:Ge,navigationOpen:Ve,navigation:ze,navigationFocusControl:Ne,activeDrawer:X,activeDrawerSize:ee,minDrawerSize:Q,maxDrawerSize:He,minGlobalDrawersSizes:J,maxGlobalDrawersSizes:Ke,drawers:$,globalDrawers:ne,activeGlobalDrawers:ie,activeGlobalDrawersIds:oe,activeGlobalDrawersSizes:re,onActiveGlobalDrawersChange:ce,drawersFocusControl:Le,globalDrawersFocusControl:Ie,splitPanelPosition:Ue,splitPanelToggleConfig:_e,splitPanelOpen:ye,splitPanelControlId:_,splitPanelFocusControl:Be,placement:A,toolbarState:M,setToolbarState:I,verticalOffsets:Ze,drawersOpenQueue:ae,setToolbarHeight:N,setNotificationsHeight:O,onSplitPanelToggle:xe,onNavigationToggle:Oe,onActiveDrawerChange:function(e){le(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{initiatedByUserAction:!0}),Le.setFocus()},onActiveDrawerResize:ue,splitPanelAnimationDisabled:V,expandedDrawerId:de,setExpandedDrawerId:he,aiDrawer:pe,onActiveAiDrawerChange:ge,activeAiDrawer:me,activeAiDrawerId:ve,activeAiDrawerSize:fe,minAiDrawerSize:we,maxAiDrawerSize:Ye,aiDrawerFocusControl:be,onActiveAiDrawerResize:Ce},tt={bottomOffset:0,getMaxHeight:un(()=>{const e=document.documentElement.clientHeight-A.insetBlockStart-A.insetBlockEnd;return e<400?e-40:e-250}),maxWidth:je,isForcedPosition:We,isOpen:ye,leftOffset:0,onPreferencesChange:e=>{Ee(e),Be.setLastInteraction({type:"position"}),_i(F,e)},onResize:e=>{ke(e),_i(E,{size:e})},onToggle:xe,position:Ue,reportSize:un(e=>Re(e)),reportHeaderHeight:un(e=>Te(e)),headerHeight:Pe,rightOffset:0,size:Fe,topOffset:0,setSplitPanelToggle:Me,refs:Be.refs},nt=un(()=>{const e=ae[ae.length-1];X&&(null===X||void 0===X?void 0:X.id)===e?le(null,{initiatedByUserAction:!0}):oe.includes(e)&&ce(e,{initiatedByUserAction:!0})});(0,i.useEffect)(()=>{T&&Oe(!1)},[T]);const it=(()=>{var e,t;const n=[...$||[],...ne];let i=oe.map(e=>{var t,i;return Math.min(null!==(i=null===(t=n.find(t=>t.id===e))||void 0===t?void 0:t.defaultSize)&&void 0!==i?i:Va,Va)}).reduce((e,t)=>e+t,0);return X&&(i+=Math.min(null!==(e=null===X||void 0===X?void 0:X.defaultSize)&&void 0!==e?e:Va,Va)),me&&(i+=Math.min(null!==(t=null===me||void 0===me?void 0:me.defaultSize)&&void 0!==t?t:Va,Va)),i})();(0,i.useEffect)(()=>{if(T)return;if((!c&&a?l:0)+48+it>A.inlineSize){if(!c&&a)return void Oe(!1);nt()}},[it,nt,T,c,a,l,Oe,A.inlineSize]);const ot=e=>{var t;let n=null!==(t=null===e||void 0===e?void 0:e.parentElement)&&void 0!==t?t:null;for(;n;){if(getComputedStyle(n).getPropertyValue(bc.stickyVerticalTopOffset))return!0;n=n.parentElement}return!1},rt=function(e){let{hasSplitPanel:t,splitPanelPosition:n,placement:i,splitPanelOpen:o,splitPanelFullHeight:r,splitPanelHeaderHeight:s}=e;if(!t||"bottom"!==n)return{stickyVerticalBottomOffset:i.insetBlockEnd,mainContentPaddingBlockEnd:void 0};const a=o?r:s;return{stickyVerticalBottomOffset:a+i.insetBlockEnd,mainContentPaddingBlockEnd:a}}({placement:A,hasSplitPanel:!!S,splitPanelOpen:ye,splitPanelPosition:Ue,splitPanelFullHeight:Ae,splitPanelHeaderHeight:Pe});return{rootRef:Qe,isIntersecting:Xe,appLayoutInternals:et,splitPanelInternals:tt,widgetizedState:Object.assign(Object.assign({},et),{aiDrawerExpandedMode:de===(null===me||void 0===me?void 0:me.id),isNested:j,navigationAnimationDisabled:G,verticalOffsets:Ze,splitPanelOffsets:rt})}},Kh=["dashboard","cards","table"],qh=e=>{let{appLayoutProps:t,stateManager:n,forwardRef:o}=e;var r;const[s,a]=(0,i.useState)(null===(r=n.current.hasToolbar)||void 0===r||r),l=Uh(s,t,o),u=((e,t,n)=>{var i,o,r;const{isNested:s,activeDrawerSize:a,navigationOpen:l,verticalOffsets:u,splitPanelOffsets:c,activeDrawer:d,expandedDrawerId:h,activeAiDrawer:p}=null!==(i=n.widgetizedState)&&void 0!==i?i:{},{contentType:g,placement:m,maxContentWidth:v,navigationWidth:f,minContentWidth:w,disableContentPaddings:C}=t,b=In(),y=!!d,S=!!h,x=h===(null===p||void 0===p?void 0:p.id),D=l||y,E=v===Number.MAX_VALUE||v===Number.MAX_SAFE_INTEGER;return{wrapperElAttributes:{className:Gn(Hd,Fs,{[jd]:!Kh.includes(g),[Wd]:"dashboard"===g,[Ud]:S,[Kd]:x}),style:{minBlockSize:s?"100%":"calc(100vh - ".concat(m.insetBlockStart+m.insetBlockEnd,"px)"),[bs.maxContentWidth]:E?"100%":v?"".concat(v,"px"):"",[bs.navigationWidth]:"".concat(f,"px"),[bs.toolsWidth]:"".concat(a,"px")},"data-awsui-app-layout-widget-loaded":!0},mainElAttributes:{className:Gn(oh,b&&D&&uh,S&&ch)},contentWrapperElAttributes:{className:Gn(rh,{[sh]:C}),style:Object.assign(Object.assign({paddingBlockEnd:null===c||void 0===c?void 0:c.mainContentPaddingBlockEnd},e||!s?{[bc.stickyVerticalTopOffset]:"".concat(null!==(o=null===u||void 0===u?void 0:u.header)&&void 0!==o?o:0,"px"),[bc.stickyVerticalBottomOffset]:"".concat(null!==(r=null===c||void 0===c?void 0:c.stickyVerticalBottomOffset)&&void 0!==r?r:0,"px")}:{}),b?{}:{minWidth:"".concat(w,"px")})},contentHeaderElAttributes:{className:ah},contentElAttributes:{className:Gn(lh,Ps)}}})(s,t,l);return(0,i.useLayoutEffect)(()=>{var e;(null===(e=n.current)||void 0===e?void 0:e.setState)?n.current.setState(l,u,Bh(t,l),Nh):console.warn("AppLayout state manager is not found")}),(0,i.useLayoutEffect)(()=>{n.current.setToolbar=a},[n]),i.createElement(i.Fragment,null)},Yh=ud(qh),Zh={trigger:"awsui_trigger_lpshu_10v1l_145",custom:"awsui_custom_lpshu_10v1l_151","trigger-with-badge":"awsui_trigger-with-badge_lpshu_10v1l_157",circle:"awsui_circle_lpshu_10v1l_167",selected:"awsui_selected_lpshu_10v1l_183","trigger-wrapper":"awsui_trigger-wrapper_lpshu_10v1l_194",dot:"awsui_dot_lpshu_10v1l_219"};const $h=i.forwardRef(function(e,t){let{ariaLabel:n,className:o,iconName:r,iconSvg:s,customSvg:a,ariaExpanded:l,ariaControls:u,onClick:c,testId:d,disabled:h=!1,badge:p,selected:g=!1,hasTooltip:m=!1,tooltipText:v,hasOpenDrawer:f=!1,isMobile:w=!1,isForPreviousActiveDrawer:C=!1,isForSplitPanel:b=!1,variant:y="circle"}=e;const S=(0,i.useRef)(null),x=v||(n||""),[D,E]=(0,i.useState)(!1),[F,k]=(0,i.useState)(!1),A=function(){k(arguments.length>0&&void 0!==arguments[0]&&arguments[0]),E(!1)},R=(0,i.useCallback)(e=>{var t;let n=!1;const i=null===e||void 0===e?void 0:e.relatedTarget,o="awsui-layout-drawer-trigger"===(null===(t=null===i||void 0===i?void 0:i.dataset)||void 0===t?void 0:t.shiftFocus);(b&&i||!b&&(o||!C))&&(n=!0),k(!n),E(!0)},[C,b]),P=(0,i.useMemo)(()=>m&&D&&!F&&!!(null===S||void 0===S?void 0:S.current)&&x&&!(w&&f),[m,D,S,x,w,f,F]);(0,i.useEffect)(()=>{if(m&&x){const e=()=>{E(!1),k(!1)},t=e=>{var t;return!(e.target&&S&&(null===(t=S.current)||void 0===t?void 0:t.contains(e.target)))},n=n=>{t(n)&&e()},i=t=>{"Escape"===t.key&&e()},o=S.current;if(o){const e=new AbortController;return o.addEventListener("pointerdown",n,{signal:e.signal}),o.addEventListener("keydown",i,{signal:e.signal}),()=>{e.abort()}}}},[S,m,x]);const T={action:g?"close":"open",detail:{label:{root:"self"}}};return i.createElement("div",Object.assign({ref:S},m&&{onPointerEnter:()=>(k(!1),void E(!0)),onPointerLeave:()=>A(!0),onFocus:e=>R(e),onBlur:()=>A(!0)},{className:Zh["trigger-wrapper"]}),i.createElement("button",Object.assign({"aria-expanded":l,"aria-controls":u,"aria-haspopup":!0,"aria-label":n,"aria-disabled":h,disabled:h,className:Gn(Zh.trigger,Zh[y],{[Zh.selected]:g,[Zh["trigger-with-badge"]]:p,[Vs]:p},o),onClick:e=>{e.stopPropagation(),E(!1),k(!0),c(e)},ref:t,type:"button","data-testid":d,"data-shift-focus":"awsui-layout-drawer-trigger"},Qi(T)),null!==a&&void 0!==a?a:(r||s)&&i.createElement(oo,{name:r,svg:s})),p&&i.createElement("div",{className:Zh.dot}),P&&i.createElement(Or,{trackRef:S,value:x,className:qs,onDismiss:()=>{E(!1),k(!1)}}))}),Xh={"universal-toolbar":"awsui_universal-toolbar_1kzri_jc7ux_153","with-open-ai-drawer":"awsui_with-open-ai-drawer_1kzri_jc7ux_172","disable-body-scroll":"awsui_disable-body-scroll_1kzri_jc7ux_214","universal-toolbar-ai-custom":"awsui_universal-toolbar-ai-custom_1kzri_jc7ux_217","toolbar-container":"awsui_toolbar-container_1kzri_jc7ux_267","with-ai-drawer":"awsui_with-ai-drawer_1kzri_jc7ux_282","universal-toolbar-nav":"awsui_universal-toolbar-nav_1kzri_jc7ux_287","universal-toolbar-breadcrumbs":"awsui_universal-toolbar-breadcrumbs_1kzri_jc7ux_292","universal-toolbar-drawers":"awsui_universal-toolbar-drawers_1kzri_jc7ux_301","drawers-desktop-triggers-container":"awsui_drawers-desktop-triggers-container_1kzri_jc7ux_309","drawers-mobile-triggers-container":"awsui_drawers-mobile-triggers-container_1kzri_jc7ux_310","drawers-trigger-content":"awsui_drawers-trigger-content_1kzri_jc7ux_352","group-divider":"awsui_group-divider_1kzri_jc7ux_362","drawers-trigger":"awsui_drawers-trigger_1kzri_jc7ux_352","block-body-scroll":"awsui_block-body-scroll_1kzri_jc7ux_375"};function Qh(e){let{ariaLabels:t,activeDrawerId:n,drawers:o,drawersFocusRef:r,onActiveDrawerChange:s,splitPanelOpen:a,splitPanelPosition:l="bottom",splitPanelFocusRef:u,splitPanelToggleProps:c,onSplitPanelToggle:d,disabled:h,activeGlobalDrawersIds:p,globalDrawers:g,globalDrawersFocusControl:m,onActiveGlobalDrawersChange:v,expandedDrawerId:f,setExpandedDrawerId:w}=e;const C=In(),b=o.length>1,y=(0,i.useRef)(n),S=(0,i.useRef)(p),[x,D]=Ri(e=>e.contentBoxWidth);if(!o.length&&!g.length&&!c)return null;n&&(y.current=n),p.length&&(S.current=p);const E=(()=>{if(C)return 2;if(x){const e=50,t=x,n=Math.floor(t/e);let i=0;return c&&(i=1),n-i}return 0})(),{visibleItems:F,overflowItems:k}=ja([...o,...g],E,null!==n&&void 0!==n?n:null),A=!!k.find(e=>e.badge),R=1===o.length&&o[0].id===Ba,P=o.length,T=!!n||"side"===l&&a,_=null===c||void 0===c?void 0:c.position,M=()=>{w&&w(null)};return i.createElement("aside",{className:Xh["drawers-".concat(C?"mobile":"desktop","-triggers-container")],"aria-label":null===t||void 0===t?void 0:t.drawers,ref:D,role:"region"},i.createElement("div",{className:Xh["drawers-trigger-content"],"aria-label":null===t||void 0===t?void 0:t.drawers,role:"toolbar","aria-orientation":"horizontal"},c&&i.createElement(i.Fragment,null,i.createElement($h,{ariaLabel:c.ariaLabel,ariaControls:c.controlId,ariaExpanded:!f&&c.active,className:Gn(Xh["drawers-trigger"],Gs,zc),iconName:"side"===_?"view-vertical":"view-horizontal",onClick:()=>{M(),f&&c.active||null===d||void 0===d||d()},selected:!f&&c.active,ref:"side"===_?u:void 0,hasTooltip:!0,isMobile:C,isForSplitPanel:!0,disabled:h}),b?i.createElement("div",{className:Xh["group-divider"]}):null),F.slice(0,P).map(e=>{var t,o;const a=(null===y||void 0===y?void 0:y.current)===e.id,l=!f&&e.id===n;return i.createElement($h,{ariaLabel:null===(t=e.ariaLabels)||void 0===t?void 0:t.triggerButton,ariaExpanded:l,ariaControls:n===e.id?e.id:void 0,className:Gn(Xh["drawers-trigger"],!R&&Gs,e.id===Ba&&Ls),iconName:e.trigger.iconName,iconSvg:e.trigger.iconSvg,key:e.id,onClick:()=>{M(),f&&n===e.id||null===s||void 0===s||s(n!==e.id?e.id:null,{initiatedByUserAction:!0})},ref:e.id===y.current?r:void 0,selected:l,badge:e.badge,testId:"awsui-app-layout-trigger-".concat(e.id),hasTooltip:!0,hasOpenDrawer:T,tooltipText:null===(o=e.ariaLabels)||void 0===o?void 0:o.drawerName,isForPreviousActiveDrawer:a,isMobile:C,disabled:h})}),P>0&&F.length>P&&i.createElement("div",{className:Xh["group-divider"]}),F.slice(P).map(e=>{var t,n,o;const r=null===S||void 0===S?void 0:S.current.includes(e.id),s=p.includes(e.id)&&(!f||e.id===f);return i.createElement($h,{ariaLabel:null===(t=e.ariaLabels)||void 0===t?void 0:t.triggerButton,ariaExpanded:s,ariaControls:s?e.id:void 0,className:Gn(Xh["drawers-trigger"],Gs,zs),iconName:e.trigger.iconName,iconSvg:e.trigger.iconSvg,key:e.id,onClick:()=>{M(),f&&e.id!==f&&p.includes(e.id)||null===v||void 0===v||v(e.id,{initiatedByUserAction:!0})},ref:null===(n=null===m||void 0===m?void 0:m.refs[e.id])||void 0===n?void 0:n.toggle,selected:s,badge:e.badge,testId:"awsui-app-layout-trigger-".concat(e.id),hasTooltip:!0,hasOpenDrawer:T,tooltipText:null===(o=e.ariaLabels)||void 0===o?void 0:o.drawerName,isForPreviousActiveDrawer:r,isMobile:C,disabled:h})}),k.length>0&&i.createElement(fu,{items:k.map(e=>Object.assign(Object.assign({},e),{active:p.includes(e.id)&&(!f||e.id===f)})),ariaLabel:A?null===t||void 0===t?void 0:t.drawersOverflowWithBadge:null===t||void 0===t?void 0:t.drawersOverflow,customTriggerBuilder:e=>{let{onClick:t,triggerRef:n,ariaLabel:o,ariaExpanded:r,testUtilsClass:s}=e;return i.createElement($h,{ref:n,ariaLabel:o,ariaExpanded:r,badge:A,className:Gn(Xh["drawers-trigger"],Gs,zs,s),iconName:"ellipsis",onClick:t,disabled:h})},onItemClick:e=>{const t=e.detail.id;if(M(),g.find(e=>e.id===t)){if(f&&t!==f&&p.includes(t))return;null===v||void 0===v||v(t,{initiatedByUserAction:!0})}else null===s||void 0===s||s(e.detail.id,{initiatedByUserAction:!0})},globalDrawersStartIndex:P-E})))}function Jh(e){let{appLayoutInternals:t,toolbarProps:n={}}=e;var o,r,s;const{breadcrumbs:a,discoveredBreadcrumbs:l,verticalOffsets:u,isMobile:c,setToolbarHeight:d,aiDrawer:h,activeAiDrawer:p,onActiveAiDrawerChange:g}=t,{ariaLabels:m,activeDrawerId:v,drawers:f,drawersFocusRef:w,onActiveDrawerChange:C,globalDrawersFocusControl:b,globalDrawers:y,activeGlobalDrawersIds:S,onActiveGlobalDrawersChange:x,hasNavigation:D,navigationOpen:E,navigationFocusRef:F,onNavigationToggle:k,hasSplitPanel:A,splitPanelFocusRef:R,splitPanelToggleProps:P,onSplitPanelToggle:T,expandedDrawerId:_,setExpandedDrawerId:M,aiDrawerFocusRef:I}=n,L=!!_,N=(0,i.useRef)(null),B=(0,i.useRef)(null),O=null===p||void 0===p?void 0:p.id;ki(N,e=>d(e.borderBoxHeight)),(0,i.useEffect)(()=>()=>{d(0)},[]);const G=!!c&&(!!v||!!(null===S||void 0===S?void 0:S.length)||!!O||!!E&&!!D);(0,i.useEffect)(()=>(G?document.body.classList.add(Xh["block-body-scroll"]):document.body.classList.remove(Xh["block-body-scroll"]),()=>{document.body.classList.remove(Xh["block-body-scroll"])}),[G]);const z=E?{role:"presentation"}:{role:"navigation","aria-label":null===m||void 0===m?void 0:m.navigation};return i.createElement(ph,{ref:N,className:Gn(Xh["universal-toolbar"],Ks,{[Bs]:c,[Xh["with-open-ai-drawer"]]:!!O}),style:{insetBlockStart:u.toolbar}},i.createElement(Lr,{in:!(!(null===h||void 0===h?void 0:h.trigger)||O),timeout:{enter:0,exit:165},mountOnEnter:!0,unmountOnExit:!0,nodeRef:B},e=>{var t,n,o;return i.createElement("div",{className:Gn(!!(null===(t=null===h||void 0===h?void 0:h.trigger)||void 0===t?void 0:t.customIcon)&&Xh["universal-toolbar-ai-custom"],[Ju["with-motion-horizontal"]]),style:{opacity:["entering","exiting"].includes(e)?0:1}},i.createElement($h,{ariaLabel:null===(n=null===h||void 0===h?void 0:h.ariaLabels)||void 0===n?void 0:n.triggerButton,ariaExpanded:!!O,iconName:null===h||void 0===h?void 0:h.trigger.iconName,iconSvg:null===h||void 0===h?void 0:h.trigger.iconSvg,customSvg:null===h||void 0===h?void 0:h.trigger.customIcon,className:Zs,onClick:()=>{var e;M&&M(null),null===g||void 0===g||g(null!==(e=null===h||void 0===h?void 0:h.id)&&void 0!==e?e:null,{initiatedByUserAction:!0})},ref:I,selected:!L&&!!O,disabled:G,variant:(null===(o=null===h||void 0===h?void 0:h.trigger)||void 0===o?void 0:o.customIcon)?"custom":"circle",hasTooltip:!0,testId:"awsui-app-layout-trigger-".concat(null===h||void 0===h?void 0:h.id),isForPreviousActiveDrawer:!0}))}),i.createElement("div",{className:Gn(Xh["toolbar-container"],!!(null===h||void 0===h?void 0:h.trigger)&&Xh["with-ai-drawer"])},D&&i.createElement("nav",Object.assign({},z,{className:Gn(Xh["universal-toolbar-nav"])}),i.createElement($h,{ariaLabel:null!==(o=null===m||void 0===m?void 0:m.navigationToggle)&&void 0!==o?o:void 0,ariaExpanded:!L&&E,iconName:"menu",className:As,onClick:()=>{M&&M(null),E&&_||null===k||void 0===k||k(!E)},ref:F,selected:!L&&E,disabled:G})),(a||l)&&i.createElement("div",{className:Gn(Xh["universal-toolbar-breadcrumbs"],_s)},i.createElement(mh,{ownBreadcrumbs:t.breadcrumbs,discoveredBreadcrumbs:t.discoveredBreadcrumbs})),((null===f||void 0===f?void 0:f.length)||(null===y||void 0===y?void 0:y.length)||A&&(null===P||void 0===P?void 0:P.displayed))&&i.createElement("div",{className:Gn(Xh["universal-toolbar-drawers"])},i.createElement(Qh,{ariaLabels:m,activeDrawerId:null!==v&&void 0!==v?v:null,drawers:null!==(r=null===f||void 0===f?void 0:f.filter(e=>!!e.trigger))&&void 0!==r?r:[],drawersFocusRef:w,onActiveDrawerChange:C,splitPanelToggleProps:(null===P||void 0===P?void 0:P.displayed)?P:void 0,splitPanelFocusRef:R,onSplitPanelToggle:T,disabled:G,globalDrawersFocusControl:b,globalDrawers:null!==(s=null===y||void 0===y?void 0:y.filter(e=>!!e.trigger))&&void 0!==s?s:[],activeGlobalDrawersIds:null!==S&&void 0!==S?S:[],onActiveGlobalDrawersChange:x,expandedDrawerId:_,setExpandedDrawerId:M}))))}const ep=ud(Jh,xh);function tp(e){return!!e.widgetizedState}const np=e=>{let{appLayoutState:t,appLayoutProps:n}=e;if(!tp(t))return null;const{navigationOpen:o,activeGlobalDrawersIds:r,expandedDrawerId:s,activeDrawer:a,splitPanelOpen:l,drawers:u,splitPanelPosition:c}=t.widgetizedState,d=!!s,h=!!a,p=!!(null===r||void 0===r?void 0:r.length);return i.createElement(i.Fragment,null,"side"===c&&i.createElement("div",{className:Gn(Qd,!l&&eh,d&&ch)},i.createElement(Th,{appLayoutInternals:t.appLayoutInternals,splitPanelInternals:t.splitPanelInternals},n.splitPanel)),i.createElement("div",{className:Gn(Zd,!h&&eh,Ju["with-motion-horizontal"],o&&!h&&uh,h&&Xd,d&&ch)},u&&u.length>0&&i.createElement(pd,{appLayoutInternals:t.appLayoutInternals})),i.createElement("div",{className:Gn($d,!p&&eh)},i.createElement(Ta.Provider,{value:null!==r&&void 0!==r?r:[]},i.createElement(fd,{appLayoutInternals:t.appLayoutInternals}))))},ip=ud(np);function op(e){let{appLayoutInternals:t,show:n,activeAiDrawer:o,aiDrawerProps:r}=e;var s,a;const{activeAiDrawerSize:l,minAiDrawerSize:u,maxAiDrawerSize:c,ariaLabels:d,aiDrawerFocusControl:h,isMobile:p,drawersOpenQueue:g,onActiveAiDrawerChange:m,onActiveDrawerResize:v,expandedDrawerId:f,setExpandedDrawerId:w}=r,{verticalOffsets:C,placement:b}=t,y=(0,i.useRef)(null),S=null===o||void 0===o?void 0:o.id,x={closeButton:o?null===(s=o.ariaLabels)||void 0===s?void 0:s.closeButton:null===d||void 0===d?void 0:d.toolsClose,content:o?null===(a=o.ariaLabels)||void 0===a?void 0:a.drawerName:null===d||void 0===d?void 0:d.tools},D=dd({currentWidth:l,minWidth:u,maxWidth:c,panelRef:y,handleRef:h.refs.slider,onResize:e=>{v({id:S,size:e})},position:"side-start"}),E=Oi(u,l,c),F=(null===o||void 0===o?void 0:o.isExpandable)&&f===S,k=md(F),A=(null===o||void 0===o?void 0:o.defaultActive)&&!(null===g||void 0===g?void 0:g.includes(o.id))||k&&!F,R="calc(100vh - ".concat(C.toolbar+b.insetBlockEnd,"px)"),P=c<l;return i.createElement(Lr,{nodeRef:y,in:n,appear:n,mountOnEnter:!0,timeout:250},e=>i.createElement(Lr,{nodeRef:y,in:F,timeout:250},t=>{var r,s,a,l,u,c;return i.createElement("aside",{id:null===o||void 0===o?void 0:o.id,"aria-hidden":!o,"aria-label":x.content,className:Gn(hd.drawer,hd["ai-drawer"],!A&&F&&hd["with-expanded-motion"],{[Ju["with-motion-horizontal"]]:!A,[Hs]:n,[hd["drawer-hidden"]]:!n&&"exited"===e,[Ns]:!o,[hd["drawer-expanded"]]:F}),ref:y,onBlur:e=>{e.relatedTarget&&e.currentTarget.contains(e.relatedTarget)||null===h||void 0===h||h.loseFocus()},style:Object.assign({blockSize:R,insetBlockStart:"".concat(b.insetBlockStart,"px")},!p&&{[bs.drawerSize]:"".concat(["entering","entered"].includes(e)?E:0,"px")}),"data-testid":S&&"awsui-app-layout-drawer-".concat(S)},!p&&(null===o||void 0===o?void 0:o.resizable)&&(!F||"entered"!==t)&&i.createElement("div",{className:hd["drawer-slider"]},i.createElement(Yu,{ref:null===h||void 0===h?void 0:h.refs.slider,position:"side-start",className:Gn(Us,hd["ai-drawer-slider-handle"]),ariaLabel:null===(r=null===o||void 0===o?void 0:o.ariaLabels)||void 0===r?void 0:r.resizeHandle,tooltipText:null===(s=null===o||void 0===o?void 0:o.ariaLabels)||void 0===s?void 0:s.resizeHandleTooltipText,ariaValuenow:D.relativeSize,onKeyDown:D.onKeyDown,onPointerDown:D.onPointerDown,onDirectionClick:D.onDirectionClick,disabled:P})),i.createElement("div",{className:Gn(hd["drawer-content-container"],Ju["with-motion-horizontal"])},i.createElement("div",{className:hd["drawer-content"]},i.createElement("header",{className:hd["drawer-content-header"]},i.createElement("div",{className:hd["drawer-content-header-content"]},null!==(a=null===o||void 0===o?void 0:o.header)&&void 0!==a?a:i.createElement("div",null),i.createElement("div",{className:hd["drawer-actions"]},!p&&(null===o||void 0===o?void 0:o.isExpandable)&&i.createElement("div",{className:hd["drawer-expanded-mode-button"]},i.createElement(Ds,{ariaLabel:null===(l=null===o||void 0===o?void 0:o.ariaLabels)||void 0===l?void 0:l.expandedModeButton,className:Ys,formAction:"none",ariaExpanded:F,iconName:F?"shrink":"expand",onClick:()=>w(F?null:S),variant:"icon",analyticsAction:F?"expand":"collapse"})),i.createElement("div",{className:Gn(hd["drawer-close-button"])},i.createElement(Ds,{ariaLabel:x.closeButton,className:Gn({[js]:S}),formAction:"none",iconName:p?"close":"angle-left",onClick:()=>null===m||void 0===m?void 0:m(null,{initiatedByUserAction:!0}),ref:null===h||void 0===h?void 0:h.refs.close,variant:"icon",analyticsAction:"close"})))),!p&&F&&(null===(u=null===o||void 0===o?void 0:o.ariaLabels)||void 0===u?void 0:u.exitExpandedModeButton)&&i.createElement("div",{className:hd["drawer-back-to-console-slot"]},i.createElement("div",{className:hd["drawer-back-to-console-button-wrapper"]},i.createElement("button",{className:Gn($s,hd["drawer-back-to-console-button"]),formAction:"none",onClick:()=>w(null)},null===(c=null===o||void 0===o?void 0:o.ariaLabels)||void 0===c?void 0:c.exitExpandedModeButton)))),null===o||void 0===o?void 0:o.content)))}))}const rp=e=>{let{toolbarProps:t,appLayoutState:n,appLayoutProps:o}=e;const r=(0,i.useRef)(!1);if(!tp(n))return i.createElement(Sh,{toolbarProps:t,appLayoutProps:o,appLayoutState:n});const{activeDrawer:s,navigationOpen:a,navigation:l,expandedDrawerId:u,setExpandedDrawerId:c,navigationAnimationDisabled:d,activeAiDrawerId:h,aiDrawerExpandedMode:p,aiDrawer:g,activeAiDrawerSize:m,minAiDrawerSize:v,maxAiDrawerSize:f,onActiveAiDrawerResize:w,aiDrawerFocusControl:C,ariaLabels:b,isMobile:y,drawersOpenQueue:S,onActiveAiDrawerChange:x,activeAiDrawer:D}=n.widgetizedState,E=!!u,F=!!s,k=!!(null===t||void 0===t?void 0:t.expandedDrawerId),{__embeddedViewMode:A}=o;return i.createElement(i.Fragment,null,!!t&&!A&&!p&&i.createElement(Jh,{appLayoutInternals:n.appLayoutInternals,toolbarProps:t}),g&&i.createElement("div",{className:Gn(qd,(E||k)&&!p&&ch)},i.createElement(Ta.Provider,{value:D?[D.id]:[]},(!!h||(null===g||void 0===g?void 0:g.preserveInactiveContent)&&r.current)&&i.createElement(i.Fragment,null,r.current=!0,i.createElement(op,{show:!!h,activeAiDrawer:null!==g&&void 0!==g?g:null,appLayoutInternals:n.appLayoutInternals,aiDrawerProps:{activeAiDrawerSize:m,minAiDrawerSize:v,maxAiDrawerSize:f,aiDrawer:g,ariaLabels:b,aiDrawerFocusControl:C,isMobile:y,drawersOpenQueue:S,onActiveAiDrawerChange:x,onActiveDrawerResize:e=>{let{size:t}=e;return w(t)},expandedDrawerId:u,setExpandedDrawerId:c}})))),l&&i.createElement("div",{className:Gn(Yd,!a&&eh,F&&uh,!d&&Ju["with-motion-horizontal"],(E||k)&&ch)},i.createElement(bh,{appLayoutInternals:n.appLayoutInternals})))},sp=ud(rp,Sh),ap=e=>{let{appLayoutState:t,appLayoutProps:n}=e;if(!tp(t))return null;const{splitPanelPosition:o,placement:r}=t.widgetizedState;return i.createElement(i.Fragment,null,"bottom"===o&&i.createElement("div",{className:Jd,style:{insetBlockEnd:r.insetBlockEnd}},i.createElement(_h,{appLayoutInternals:t.appLayoutInternals,splitPanelInternals:t.splitPanelInternals},n.splitPanel)))},lp=ud(ap),up=e=>{let{appLayoutProps:t,appLayoutState:n}=e;return tp(n)?i.createElement(i.Fragment,null,t.notifications&&i.createElement("div",{className:Gn(ih,"high-contrast"===t.headerVariant&&Ac)}),t.notifications&&i.createElement(Ah,{appLayoutInternals:n.appLayoutInternals},t.notifications)):null},cp=ud(up),dp=(yh(),gd(),wd(),Rh(),ep(),Ih(),Mh(),sp(ld(rp))),hp=ip(ld(np)),pp=cp(ld(up)),gp=lp(ld(ap)),mp=Yh(ld(qh)),vp={name:"awsui.AppLayoutToolbar",label:{selector:"h1",root:"body"}},fp=e=>{let{registered:t,appLayoutProps:n,appLayoutState:o,toolbarProps:r,skeletonSlotsAttributes:s}=e;var a,l,u,c,d;const{contentHeader:h,content:p,navigationWidth:g}=n,m={toolbarProps:r,appLayoutProps:n,appLayoutState:o},{wrapperElAttributes:v,mainElAttributes:f,contentWrapperElAttributes:w,contentHeaderElAttributes:C,contentElAttributes:b}=s;return i.createElement(ji,{contextName:"app-layout-toolbar"},i.createElement("div",Object.assign({},Qi({component:vp}),{ref:o.rootRef,"data-awsui-app-layout-widget-loaded":!1},v,{className:null!==(a=null===v||void 0===v?void 0:v.className)&&void 0!==a?a:Gn(Hd,Fs),style:null!==(l=null===v||void 0===v?void 0:v.style)&&void 0!==l?l:{blockSize:"calc(100vh - ".concat(n.placement.insetBlockStart+n.placement.insetBlockEnd,"px)"),[bs.navigationWidth]:"".concat(g,"px")}}),i.createElement(dp,Object.assign({},m)),i.createElement("main",Object.assign({},f,{className:null!==(u=null===f||void 0===f?void 0:f.className)&&void 0!==u?u:oh}),i.createElement(pp,Object.assign({},m)),i.createElement("div",Object.assign({},w,{className:null!==(c=null===w||void 0===w?void 0:w.className)&&void 0!==c?c:Gn(rh,{[sh]:n.disableContentPaddings})}),h&&i.createElement("div",Object.assign({},C),h),i.createElement("div",Object.assign({},b,{className:null!==(d=null===b||void 0===b?void 0:b.className)&&void 0!==d?d:Ps}),t?p:null)),i.createElement(gp,Object.assign({},m))),i.createElement(hp,Object.assign({},m))))};function wp(e,t,n,o){const[r,s]=(0,i.useState)(null),a=kc();return(0,i.useLayoutEffect)(()=>{if(!t||"suspended"===e||!a)return;if("off"===e)return void s({type:"primary",discoveredProps:[]});const n=Ra.appLayoutWidget.register(e,e=>s(e));return()=>{n(),s({type:"suspended"})}},[e,t,a]),(0,i.useLayoutEffect)(()=>{"secondary"===(null===r||void 0===r?void 0:r.type)&&r.update(n)}),(0,i.useEffect)(()=>{r&&function(e){"primary"===e.type&&e.discoveredProps.length>0?bn.sendOpsMetricObject("awsui-multi-layout-usage-primary",{instancesCount:e.discoveredProps.length}):"suspended"===e.type&&bn.sendOpsMetricObject("awsui-multi-layout-usage-suspended",{})}(r)},[r]),a?{registered:!!(null===r||void 0===r?void 0:r.type),toolbarProps:"primary"===(null===r||void 0===r?void 0:r.type)?o(n,r.discoveredProps):null}:{registered:!0,toolbarProps:o(n,[])}}const Cp=e=>{let{forceDeduplicationType:t,appLayoutProps:n,stateManager:o,children:r}=e;const[s,a]=(0,i.useState)({isIntersecting:!0}),[l,u]=(0,i.useState)({}),[c,d]=(0,i.useState)({fn:Nh}),[h,p]=(0,i.useState)(void 0),{registered:g,toolbarProps:m}=wp(t,s.isIntersecting,null!==h&&void 0!==h?h:Bh(n,s),c.fn);(0,i.useLayoutEffect)(()=>{o.current.setState=(e,t,n,i)=>{(0,an.unstable_batchedUpdates)(()=>{a(e),u(t),p(n),d({fn:i})})}},[o]);const v=!!m;return(0,i.useEffect)(()=>{var e,t;o.current.hasToolbar=v,null===(t=(e=o.current).setToolbar)||void 0===t||t.call(e,v)},[o,v]),i.createElement(i.Fragment,null,r(g,s,m,l))},bp=i.forwardRef((e,t)=>{const n=(0,i.useRef)({setState:void 0,hasToolbar:!0,setToolbar:void 0}),{__forceDeduplicationType:o,__embeddedViewMode:r}=e;return i.createElement(i.Fragment,null,i.createElement(Cp,{forceDeduplicationType:o,appLayoutProps:e,stateManager:n},(t,n,o,s)=>i.createElement(rd.Provider,{value:n.isIntersecting},!r&&o||!e.breadcrumbs?null:i.createElement(id,null,e.breadcrumbs),i.createElement(fp,{registered:t,toolbarProps:o,appLayoutProps:e,appLayoutState:n,skeletonSlotsAttributes:s}))),i.createElement(mp,{forwardRef:t,appLayoutProps:e,stateManager:n}))}),yp=bp,Sp=i.forwardRef((e,t)=>{const n=Cn(),o=kc();return n?o?i.createElement(yp,Object.assign({ref:t},e)):i.createElement(td,Object.assign({ref:t},e)):i.createElement(Fc,Object.assign({ref:t},e))});function xp(e,t){const n=(0,i.useCallback)(()=>{var n,i;return(null!==(i=null===(n=e.current)||void 0===n?void 0:n.ownerDocument)&&void 0!==i?i:window.document).querySelector(t)},[e,t]),[o,r]=(0,i.useState)(0);return ki(n,e=>r(e.borderBoxHeight)),o}const Dp=i.forwardRef((e,t)=>{var n,o,r,s,a,l,u,c,d,h,p,g,{contentType:m="default",headerSelector:v="#b #h",footerSelector:f="#b #f",navigationWidth:w=280,toolsWidth:C=290,maxContentWidth:b,minContentWidth:y,navigationOpen:S,onNavigationChange:x,analyticsMetadata:D}=e,E=Et(e,["contentType","headerSelector","footerSelector","navigationWidth","toolsWidth","maxContentWidth","minContentWidth","navigationOpen","onNavigationChange","analyticsMetadata"]);const{__internalRootRef:F}=Dn("AppLayout",{props:{contentType:m,disableContentPaddings:E.disableContentPaddings,disableBodyScroll:E.disableBodyScroll,navigationWidth:w,navigationHide:E.navigationHide,toolsHide:E.toolsHide,toolsWidth:C,maxContentWidth:b,minContentWidth:y,stickyNotifications:E.stickyNotifications,disableContentHeaderOverlap:E.disableContentHeaderOverlap},metadata:{drawersCount:null!==(o=null===(n=E.drawers)||void 0===n?void 0:n.length)&&void 0!==o?o:null,hasContentHeader:!!E.contentHeader}},D),k=Cn(),A=In(),R=Mt("app-layout"),P={navigation:R("ariaLabels.navigation",null===(r=E.ariaLabels)||void 0===r?void 0:r.navigation),navigationClose:R("ariaLabels.navigationClose",null===(s=E.ariaLabels)||void 0===s?void 0:s.navigationClose),navigationToggle:R("ariaLabels.navigationToggle",null===(a=E.ariaLabels)||void 0===a?void 0:a.navigationToggle),notifications:R("ariaLabels.notifications",null===(l=E.ariaLabels)||void 0===l?void 0:l.notifications),tools:R("ariaLabels.tools",null===(u=E.ariaLabels)||void 0===u?void 0:u.tools),toolsClose:R("ariaLabels.toolsClose",null===(c=E.ariaLabels)||void 0===c?void 0:c.toolsClose),toolsToggle:R("ariaLabels.toolsToggle",null===(d=E.ariaLabels)||void 0===d?void 0:d.toolsToggle),drawers:R("ariaLabels.drawers",null===(h=E.ariaLabels)||void 0===h?void 0:h.drawers),drawersOverflow:R("ariaLabels.drawersOverflow",null===(p=E.ariaLabels)||void 0===p?void 0:p.drawersOverflow),drawersOverflowWithBadge:R("ariaLabels.drawersOverflowWithBadge",null===(g=E.ariaLabels)||void 0===g?void 0:g.drawersOverflowWithBadge)},T=function(e,t,n){var i,o,r;const s=n?Object.assign(Object.assign({},Bn[e]),{maxContentWidth:void 0}):Bn[e];return{maxContentWidth:null!==(i=t.maxContentWidth)&&void 0!==i?i:s.maxContentWidth,minContentWidth:null!==(o=t.minContentWidth)&&void 0!==o?o:s.minContentWidth,navigationOpen:null!==(r=t.navigationOpen)&&void 0!==r?r:s.navigationOpen}}(m,{maxContentWidth:b,minContentWidth:y},k),{navigationOpen:_}=T,M=Et(T,["navigationOpen"]),[I=!1,L]=Fn(S,0,!A&&_,{componentName:"AppLayout",controlledProp:"navigationOpen",changeHandler:"onNavigationChange"}),[N,B]=function(e,t){const n=(0,i.useRef)(null),o=xp(n,e),r=xp(n,t),[s,a]=(0,i.useState)({insetInlineStart:0,insetInlineEnd:0,inlineSize:Number.POSITIVE_INFINITY}),l=(0,i.useCallback)(()=>{if(!n.current)return;const{insetInlineStart:e,insetInlineEnd:t,inlineSize:i}=lr(n.current);0!==i&&a({insetInlineStart:e,insetInlineEnd:i-t,inlineSize:i})},[]);return(0,i.useEffect)(()=>(window.addEventListener("resize",l),()=>window.removeEventListener("resize",l)),[l]),ki(n,l),[n,Object.assign(Object.assign({},s),{insetBlockStart:o,insetBlockEnd:r})]}(v,f),O=Object.assign(Object.assign(Object.assign({contentType:m,navigationWidth:w,toolsWidth:C,navigationOpen:I,onNavigationChange:e=>{L(e.detail.open),null===x||void 0===x||x(e)}},M),E),{ariaLabels:P,placement:B}),G=zt(E);return i.createElement("div",Object.assign({ref:Tt(F,N)},G),i.createElement(Sp,Object.assign({ref:t},O)))});Ln(Dp,"AppLayout");const Ep=Dp;var Fp=n(355);function kp(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=[]),i.Children.toArray(e).reduce(function(e,o,r){return(0,Fp.isFragment)(o)?e.push.apply(e,kp(o.props.children,t+1,n.concat(o.key||r))):(0,i.isValidElement)(o)?e.push((0,i.cloneElement)(o,{key:n.concat(String(o.key)).join(".")})):"string"!==typeof o&&"number"!==typeof o||e.push(o),e},[])}const Ap={root:"awsui_root_18582_1jqoe_145",child:"awsui_child_18582_1jqoe_149",horizontal:"awsui_horizontal_18582_1jqoe_160","horizontal-xxxs":"awsui_horizontal-xxxs_18582_1jqoe_164","horizontal-xxs":"awsui_horizontal-xxs_18582_1jqoe_167","horizontal-xs":"awsui_horizontal-xs_18582_1jqoe_170","horizontal-s":"awsui_horizontal-s_18582_1jqoe_173","horizontal-m":"awsui_horizontal-m_18582_1jqoe_176","horizontal-l":"awsui_horizontal-l_18582_1jqoe_179","horizontal-xl":"awsui_horizontal-xl_18582_1jqoe_182","horizontal-xxl":"awsui_horizontal-xxl_18582_1jqoe_185",vertical:"awsui_vertical_18582_1jqoe_192","vertical-xxxs":"awsui_vertical-xxxs_18582_1jqoe_195","vertical-xxs":"awsui_vertical-xxs_18582_1jqoe_198","vertical-xs":"awsui_vertical-xs_18582_1jqoe_201","vertical-s":"awsui_vertical-s_18582_1jqoe_204","vertical-m":"awsui_vertical-m_18582_1jqoe_207","vertical-l":"awsui_vertical-l_18582_1jqoe_210","vertical-xl":"awsui_vertical-xl_18582_1jqoe_213","vertical-xxl":"awsui_vertical-xxl_18582_1jqoe_216","align-center":"awsui_align-center_18582_1jqoe_220","align-start":"awsui_align-start_18582_1jqoe_224","align-end":"awsui_align-end_18582_1jqoe_228"},Rp=(0,i.forwardRef)((e,t)=>{var{direction:n="vertical",size:o,children:r,alignItems:s,__internalRootRef:a}=e,l=Et(e,["direction","size","children","alignItems","__internalRootRef"]);const u=Tt(t,a),c=zt(l),d=kp(r);return i.createElement("div",Object.assign({},c,{className:Gn(c.className,Ap.root,Ap[n],Ap["".concat(n,"-").concat(o)],s&&Ap["align-".concat(s)]),ref:u}),d.map(e=>{const t="object"===typeof e?e.key:void 0;return i.createElement("div",{key:t,className:Ap.child},e)}))}),Pp=Rp;function Tp(e){var{direction:t="vertical"}=e,n=Et(e,["direction"]);const o=Dn("SpaceBetween",{props:{alignItems:n.alignItems,direction:t,size:n.size}});return i.createElement(Pp,Object.assign({direction:t},n,o))}Ln(Tp,"SpaceBetween");const _p=Vd(ld(zd));function Mp(e){var{items:t=[]}=e,n=Et(e,["items"]);const o=Gh(Object.assign({items:t},n)),r=Dn("BreadcrumbGroup");return o?i.createElement(Nd,{items:t}):i.createElement(_p,Object.assign({items:t},n,r,{__injectAnalyticsComponentMetadata:!0}))}function Ip(e){return Ri(t=>Tn(t.contentBoxWidth,e),[null===e||void 0===e?void 0:e.join()])}Ln(Mp,"BreadcrumbGroup");const Lp={grid:"awsui_grid_14yj0_y2kz6_145","no-gutters":"awsui_no-gutters_14yj0_y2kz6_181","grid-column":"awsui_grid-column_14yj0_y2kz6_186","colspan-1":"awsui_colspan-1_14yj0_y2kz6_197","push-1":"awsui_push-1_14yj0_y2kz6_201","pull-1":"awsui_pull-1_14yj0_y2kz6_204","colspan-2":"awsui_colspan-2_14yj0_y2kz6_207","push-2":"awsui_push-2_14yj0_y2kz6_211","pull-2":"awsui_pull-2_14yj0_y2kz6_214","colspan-3":"awsui_colspan-3_14yj0_y2kz6_217","push-3":"awsui_push-3_14yj0_y2kz6_221","pull-3":"awsui_pull-3_14yj0_y2kz6_224","colspan-4":"awsui_colspan-4_14yj0_y2kz6_227","push-4":"awsui_push-4_14yj0_y2kz6_231","pull-4":"awsui_pull-4_14yj0_y2kz6_234","colspan-5":"awsui_colspan-5_14yj0_y2kz6_237","push-5":"awsui_push-5_14yj0_y2kz6_241","pull-5":"awsui_pull-5_14yj0_y2kz6_244","colspan-6":"awsui_colspan-6_14yj0_y2kz6_247","push-6":"awsui_push-6_14yj0_y2kz6_251","pull-6":"awsui_pull-6_14yj0_y2kz6_254","colspan-7":"awsui_colspan-7_14yj0_y2kz6_257","push-7":"awsui_push-7_14yj0_y2kz6_261","pull-7":"awsui_pull-7_14yj0_y2kz6_264","colspan-8":"awsui_colspan-8_14yj0_y2kz6_267","push-8":"awsui_push-8_14yj0_y2kz6_271","pull-8":"awsui_pull-8_14yj0_y2kz6_274","colspan-9":"awsui_colspan-9_14yj0_y2kz6_277","push-9":"awsui_push-9_14yj0_y2kz6_281","pull-9":"awsui_pull-9_14yj0_y2kz6_284","colspan-10":"awsui_colspan-10_14yj0_y2kz6_287","push-10":"awsui_push-10_14yj0_y2kz6_291","pull-10":"awsui_pull-10_14yj0_y2kz6_294","colspan-11":"awsui_colspan-11_14yj0_y2kz6_297","push-11":"awsui_push-11_14yj0_y2kz6_301","pull-11":"awsui_pull-11_14yj0_y2kz6_304","colspan-12":"awsui_colspan-12_14yj0_y2kz6_307","push-12":"awsui_push-12_14yj0_y2kz6_311","pull-12":"awsui_pull-12_14yj0_y2kz6_314","push-0":"awsui_push-0_14yj0_y2kz6_317","pull-0":"awsui_pull-0_14yj0_y2kz6_320","offset-1":"awsui_offset-1_14yj0_y2kz6_323","offset-2":"awsui_offset-2_14yj0_y2kz6_326","offset-3":"awsui_offset-3_14yj0_y2kz6_329","offset-4":"awsui_offset-4_14yj0_y2kz6_332","offset-5":"awsui_offset-5_14yj0_y2kz6_335","offset-6":"awsui_offset-6_14yj0_y2kz6_338","offset-7":"awsui_offset-7_14yj0_y2kz6_341","offset-8":"awsui_offset-8_14yj0_y2kz6_344","offset-9":"awsui_offset-9_14yj0_y2kz6_347","offset-10":"awsui_offset-10_14yj0_y2kz6_350","offset-11":"awsui_offset-11_14yj0_y2kz6_353","restore-pointer-events":"awsui_restore-pointer-events_14yj0_y2kz6_357"},Np=i.forwardRef((e,t)=>{var{__breakpoint:n,gridDefinition:o=[],disableGutters:r=!1,children:s,__tagOverride:a,__responsiveClassName:l,__internalRootRef:u}=e,c=Et(e,["__breakpoint","gridDefinition","disableGutters","children","__tagOverride","__responsiveClassName","__internalRootRef"]);let[d,h]=Ip(void 0);void 0!==n&&(d=n,h=t);const p=zt(c),g=kp(s),m=null!==a&&void 0!==a?a:"div";const v=Tt(h,u);return i.createElement(m,Object.assign({},p,{className:Gn(Lp.grid,p.className,{[Lp["no-gutters"]]:r},l?l(d):null),ref:v}),g.map((e,t)=>{var n,r,s,a;const l=e.key;return i.createElement("div",{key:l?String(l):void 0,className:Gn(Lp["grid-column"],Bp("colspan",null===(n=o[t])||void 0===n?void 0:n.colspan,d),Bp("offset",null===(r=o[t])||void 0===r?void 0:r.offset,d),Bp("pull",null===(s=o[t])||void 0===s?void 0:s.pull,d),Bp("push",null===(a=o[t])||void 0===a?void 0:a.push,d))},i.createElement("div",{className:Lp["restore-pointer-events"]},e))}))});function Bp(e,t,n){return"number"===typeof t?Lp["".concat(e,"-").concat(t)]:null===n||void 0===t?null:Lp["".concat(e,"-").concat(function(e,t){const n=An.slice(Pn.indexOf(t));for(const[i]of n){const t=e[i];if(void 0!==t)return t}return null}(t,n))]}const Op=Np,Gp=(0,i.createContext)({});function zp(e){return function(e,t,n){const i={};return n.forEach(n=>{i[n]=void 0===e[n]?t[n]:e[n]}),i}(e,(0,i.useContext)(Gp),["invalid","warning","controlId","ariaLabelledby","ariaDescribedby"])}const Vp=(0,i.createContext)(void 0);function Hp(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(Boolean).join(" ")||void 0}function jp(e,t,n){if(e)return"".concat(t,"-").concat(n)}const Wp="awsui_label_aqu00_ocied_5",Up="awsui_error-icon-shake-wrapper_14mhv_fzxwy_153",Kp="awsui_warning-icon-shake-wrapper_14mhv_fzxwy_154",qp="awsui_error-icon-scale-wrapper_14mhv_fzxwy_184",Yp="awsui_warning-icon-scale-wrapper_14mhv_fzxwy_185",Zp="awsui_warning_14mhv_fzxwy_154",$p="awsui_error_14mhv_fzxwy_153",Xp="awsui_root_14mhv_fzxwy_236",Qp="awsui_label_14mhv_fzxwy_269",Jp="awsui_info_14mhv_fzxwy_285",eg="awsui_description_14mhv_fzxwy_291",tg="awsui_constraint_14mhv_fzxwy_292",ng="awsui_hints_14mhv_fzxwy_299",ig="awsui_constraint-has-validation-text_14mhv_fzxwy_300",og="awsui_secondary-control_14mhv_fzxwy_304",rg="awsui_controls_14mhv_fzxwy_308",sg="awsui_label-hidden_14mhv_fzxwy_308",ag="awsui_label-wrapper_14mhv_fzxwy_311",lg="awsui_control_14mhv_fzxwy_308",ug="awsui_error__message_14mhv_fzxwy_338",cg="awsui_warning__message_14mhv_fzxwy_339",dg="awsui_visually-hidden_14mhv_fzxwy_343";function hg(e){let{id:t,children:n,errorIconAriaLabel:o}=e;const r=Mt("form-field"),s=(0,i.useRef)(null),a=r("i18nStrings.errorIconAriaLabel",o);return i.createElement(i.Fragment,null,i.createElement("div",{id:t,className:$p},i.createElement("div",{className:Up},i.createElement("div",{className:qp},i.createElement(oo,{name:"status-negative",size:"small",ariaLabel:a}))),i.createElement("span",{className:ug,ref:s},n)),i.createElement(cs,{assertive:!0,tagName:"span",sources:[a,s]}))}function pg(e){let{id:t,children:n,warningIconAriaLabel:o}=e;const r=Mt("form-field"),s=(0,i.useRef)(null),a=r("i18nStrings.warningIconAriaLabel",o);return i.createElement(i.Fragment,null,i.createElement("div",{id:t,className:Zp},i.createElement("div",{className:Kp},i.createElement("div",{className:Yp},i.createElement(oo,{name:"status-warning",size:"small",ariaLabel:a}))),i.createElement("span",{className:cg,ref:s},n)),i.createElement(cs,{assertive:!0,tagName:"span",sources:[a,s]}))}function gg(e){let{id:t,hasValidationText:n,children:o}=e;return i.createElement("div",{id:t,className:Gn(tg,n&&ig)},o)}function mg(e){var{controlId:t,stretch:n=!1,label:o,info:r,i18nStrings:s,children:a,secondaryControl:l,description:u,constraintText:c,errorText:d,warningText:h,__hideLabel:p,__internalRootRef:g,__disableGutters:m=!1,__analyticsMetadata:v,__style:f={}}=e,w=Et(e,["controlId","stretch","label","info","i18nStrings","children","secondaryControl","description","constraintText","errorText","warningText","__hideLabel","__internalRootRef","__disableGutters","__analyticsMetadata","__style"]);const C=(0,i.useRef)(),b=Tt(C,g),y=zt(w),S=Cn(),x=Yi("formField"),D=t||x,E=t||D,{funnelIdentifier:F,funnelInteractionId:k,submissionAttempt:A,funnelState:R,errorCount:P}=Uo(),{stepIdentifier:T,stepNumber:_,stepNameSelector:M}=Wo(),{subStepIdentifier:I,subStepSelector:L,subStepNameSelector:N}=jo(),B=h&&!d;h&&d&&Pt();const O=function(e,t,n,i,o,r){return{label:jp(t,e,"label"),description:jp(n,e,"description"),constraint:jp(i,e,"constraint"),error:jp(o,e,"error"),warning:jp(r,e,"warning")}}(E,o,u,c,d,B?h:void 0),G=function(e){let{error:t,warning:n,description:i,constraint:o}=e;const r=[t,n,i,o].filter(e=>!!e);return r.length?r.join(" "):void 0}(O),z=function(e,t,n){let i;return i=e?[{colspan:12},{colspan:12}]:n?[{colspan:{default:12,xs:8}},{colspan:{default:12,xs:4}}]:[{colspan:{default:12,xs:9}},{colspan:{default:12,xs:3}}],t?i:[i[0]]}(n,!!l,S),{ariaLabelledby:V,ariaDescribedby:H,invalid:j,warning:W}=zp({}),U={ariaLabelledby:Hp(V,O.label)||void 0,ariaDescribedby:Hp(H,G)||void 0,invalid:!!d||!!j,warning:!!h&&!d||!!W&&!j},K={[ko]:O.label?Bo(O.label):void 0,[Ao]:O.error?Bo(O.error):void 0};return(0,i.useEffect)(()=>{var e,t,n;if(k&&d&&"complete"!==R.current){const i=Oo(M),o=Oo(N);P.current++;return(null!==(n=null===(t=null===(e=C.current)||void 0===e?void 0:e.getBoundingClientRect())||void 0===t?void 0:t.width)&&void 0!==n?n:0)>0&&ro.funnelSubStepError({funnelInteractionId:k,funnelIdentifier:F,subStepSelector:L,subStepName:o,subStepNameSelector:N,subStepIdentifier:I,stepNumber:_,stepName:i,stepNameSelector:M,stepIdentifier:T,fieldErrorSelector:"".concat(Bo(O.error)," .").concat(ug),fieldLabelSelector:Bo(O.label),subStepAllSelector:Io(),fieldIdentifier:null===v||void 0===v?void 0:v.instanceIdentifier,errorContext:null===v||void 0===v?void 0:v.errorContext}),()=>{P.current--}}},[k,d,A,P]),i.createElement("div",Object.assign({},y,{className:Gn(y.className,Xp),style:f,ref:b},K,Ji(w)),i.createElement("div",{className:Gn(ag,p&&dg)},o&&i.createElement("label",{className:Gn(Qp,Wp),id:O.label,htmlFor:D},o),i.createElement(Vp.Provider,{value:O.label},!p&&r&&i.createElement("span",{className:Jp},r))),u&&i.createElement("div",{className:eg,id:O.description},u),i.createElement("div",{className:Gn(rg,p&&sg)},i.createElement(Op,{gridDefinition:z,disableGutters:m},i.createElement(Gp.Provider,{value:Object.assign({controlId:D},U)},a&&i.createElement("div",{className:lg},a)),l&&i.createElement(Gp.Provider,{value:U},i.createElement("div",{className:og},l)))),(c||d||h)&&i.createElement("div",{className:ng},d&&i.createElement(hg,{id:O.error,errorIconAriaLabel:null===s||void 0===s?void 0:s.errorIconAriaLabel},d),B&&i.createElement(pg,{id:O.warning,warningIconAriaLabel:null===s||void 0===s?void 0:s.warningIconAriaLabel},h),c&&i.createElement(gg,{id:O.constraint,hasValidationText:!!d||!!h},c)))}const vg={defaultVariant:"secondary"},fg=(0,i.createContext)(vg);function wg(e){let t={};return null===e||void 0===e||e.root,t}const Cg={link:"awsui_link_4c84z_1n1jo_145","variant-secondary":"awsui_variant-secondary_4c84z_1n1jo_212","variant-primary":"awsui_variant-primary_4c84z_1n1jo_247","variant-info":"awsui_variant-info_4c84z_1n1jo_280","variant-value-large":"awsui_variant-value-large_4c84z_1n1jo_315","variant-top-navigation":"awsui_variant-top-navigation_4c84z_1n1jo_347","variant-recovery":"awsui_variant-recovery_4c84z_1n1jo_382",button:"awsui_button_4c84z_1n1jo_415","color-inverted":"awsui_color-inverted_4c84z_1n1jo_450","font-size-body-s":"awsui_font-size-body-s_4c84z_1n1jo_471","font-size-body-m":"awsui_font-size-body-m_4c84z_1n1jo_478","font-size-heading-xs":"awsui_font-size-heading-xs_4c84z_1n1jo_484","font-size-heading-s":"awsui_font-size-heading-s_4c84z_1n1jo_490","font-size-heading-m":"awsui_font-size-heading-m_4c84z_1n1jo_497","font-size-heading-l":"awsui_font-size-heading-l_4c84z_1n1jo_504","font-size-heading-xl":"awsui_font-size-heading-xl_4c84z_1n1jo_511","font-size-display-l":"awsui_font-size-display-l_4c84z_1n1jo_518","font-size-inherit":"awsui_font-size-inherit_4c84z_1n1jo_525","icon-wrapper":"awsui_icon-wrapper_4c84z_1n1jo_533",icon:"awsui_icon_4c84z_1n1jo_533"},bg=i.forwardRef((e,t)=>{var{variant:n,fontSize:o="body-m",color:r="normal",external:s=!1,target:a,href:l,rel:u,ariaLabel:c,externalIconAriaLabel:d,onFollow:h,onClick:p,children:g,__internalRootRef:m,style:v}=e,f=Et(e,["variant","fontSize","color","external","target","href","rel","ariaLabel","externalIconAriaLabel","onFollow","onClick","children","__internalRootRef","style"]);is(0,l);const w=!l,{defaultVariant:C}=(0,i.useContext)(fg),b=n||C,y=["top-navigation","link","recovery"].indexOf(b)>-1,S=Mt("link"),x=zt(f),D=null!==a&&void 0!==a?a:s?"_blank":void 0,E=null!==u&&void 0!==u?u:"_blank"===D?"noopener noreferrer":void 0,F=Yi("link"),k=Yi("link-self"),A=Yi("link-info"),R=(0,i.useContext)(Vp),{funnelIdentifier:P,funnelInteractionId:T}=Uo(),{stepIdentifier:_,stepNumber:M,stepNameSelector:I}=Wo(),{subStepIdentifier:L,subStepSelector:N,subStepNameSelector:B}=jo(),O=e=>{T&&(e=>{if("info"===b){const t=Oo(I),n=Oo(B);ro.helpPanelInteracted({funnelIdentifier:P,funnelInteractionId:e,stepIdentifier:_,stepNumber:M,stepName:t,subStepIdentifier:L,stepNameSelector:I,subStepSelector:N,subStepName:n,subStepNameSelector:B,elementSelector:Mo(F),subStepAllSelector:Io()})}else if(s){const t=Oo(I),n=Oo(B);ro.externalLinkInteracted({funnelIdentifier:P,funnelInteractionId:e,stepIdentifier:_,stepNumber:M,stepName:t,stepNameSelector:I,subStepIdentifier:L,subStepSelector:N,subStepName:n,subStepNameSelector:B,elementSelector:Mo(F),subStepAllSelector:Io()})}})(T),Mi(h,{href:l,external:s,target:D},e)},G=e=>{const{altKey:t,ctrlKey:n,metaKey:i,shiftKey:o}=e,r="button"in e?e.button:0;_i(p,{altKey:t,button:r,ctrlKey:n,metaKey:i,shiftKey:o})},z=e=>{O(e),G(e)},V=e=>{e.keyCode!==ir.space&&e.keyCode!==ir.enter||(e.preventDefault(),O(e),G(e))},H=(0,i.useRef)(null),j=Cn();Wr(t,H);const W=w&&j&&!y,U=Object.assign(Object.assign({id:k},x),{ref:Tt(H,m),className:Gn(Cg.link,x.className,W?Cg.button:null,Cg[yg(b)],Cg[Sg(b,o)],Cg[xg(b,r)]),style:wg(v),"aria-label":c,"aria-labelledby":void 0,[So]:F});"info"===b&&R&&!c&&(U["aria-labelledby"]="".concat(U.id," ").concat(A," ").concat(R));const K=S("externalIconAriaLabel",d),q=i.createElement(i.Fragment,null,g,s&&i.createElement("span",{className:Cg["icon-wrapper"]},"\xa0",i.createElement("span",{className:Cg.icon,"aria-label":K,role:K?"img":void 0},i.createElement(oo,{name:"external",size:"inherit"}))),"info"===b&&i.createElement("span",{hidden:!0,id:A},":")),{tabIndex:Y}=Hr(H,{tabIndex:w?0:void 0});return w?i.createElement("a",Object.assign({},U,{role:"button",tabIndex:Y,onKeyDown:V,onClick:z}),q):i.createElement("a",Object.assign({},U,{tabIndex:Y,target:D,rel:E,href:l,onClick:e=>{Ni(e)&&O(e),G(e)}}),q)});function yg(e){return"variant-".concat(e.replace(/^awsui-/,""))}function Sg(e,t){switch(e){case"info":return"font-size-body-s";case"awsui-value-large":return"font-size-display-l";default:return"font-size-".concat(t)}}function xg(e,t){return"color-".concat("info"===e?"normal":t)}const Dg=bg,Eg={"icon-shake":"awsui_icon-shake_1cbgc_12wag_153","awsui-motion-shake-horizontally":"awsui_awsui-motion-shake-horizontally_1cbgc_12wag_1","container-fade-in":"awsui_container-fade-in_1cbgc_12wag_181","awsui-motion-fade-in-0":"awsui_awsui-motion-fade-in-0_1cbgc_12wag_1",root:"awsui_root_1cbgc_12wag_203","status-error":"awsui_status-error_1cbgc_12wag_212","status-warning":"awsui_status-warning_1cbgc_12wag_215","status-success":"awsui_status-success_1cbgc_12wag_218","status-info":"awsui_status-info_1cbgc_12wag_221","status-stopped":"awsui_status-stopped_1cbgc_12wag_224","status-pending":"awsui_status-pending_1cbgc_12wag_227","status-in-progress":"awsui_status-in-progress_1cbgc_12wag_230","status-loading":"awsui_status-loading_1cbgc_12wag_233","color-override-red":"awsui_color-override-red_1cbgc_12wag_236","color-override-grey":"awsui_color-override-grey_1cbgc_12wag_239","color-override-blue":"awsui_color-override-blue_1cbgc_12wag_242","color-override-green":"awsui_color-override-green_1cbgc_12wag_245","color-override-yellow":"awsui_color-override-yellow_1cbgc_12wag_248",container:"awsui_container_1cbgc_12wag_181","display-inline":"awsui_display-inline_1cbgc_12wag_252",icon:"awsui_icon_1cbgc_12wag_153","display-inline-block":"awsui_display-inline-block_1cbgc_12wag_260","overflow-ellipsis":"awsui_overflow-ellipsis_1cbgc_12wag_269"};function Fg(e){var{type:t,children:n,iconAriaLabel:o,colorOverride:r,wrapText:s=!0,__animate:a=!1,__internalRootRef:l,__size:u="normal",__display:c="inline-block"}=e;const d=zt(Et(e,["type","children","iconAriaLabel","colorOverride","wrapText","__animate","__internalRootRef","__size","__display"]));return i.createElement("span",Object.assign({},d,{className:Gn(Eg.root,Eg["status-".concat(t)],{[Eg["color-override-".concat(r)]]:r},d.className),ref:l}),i.createElement("span",{className:Gn(Eg.container,Eg["display-".concat(c)],!1===s&&Eg["overflow-ellipsis"],a&&Eg["container-fade-in"])},i.createElement("span",{className:Gn(Eg.icon,a&&Eg["icon-shake"]),"aria-label":o,role:o?"img":void 0},(e=>({error:i.createElement(oo,{name:"status-negative",size:e}),warning:i.createElement(oo,{name:"status-warning",size:e}),success:i.createElement(oo,{name:"status-positive",size:e}),info:i.createElement(oo,{name:"status-info",size:e}),stopped:i.createElement(oo,{name:"status-stopped",size:e}),pending:i.createElement(oo,{name:"status-pending",size:e}),"in-progress":i.createElement(oo,{name:"status-in-progress",size:e}),loading:i.createElement(gs,null)}))(u)[t],"inline"===c&&i.createElement(i.Fragment,null,"\xa0")),n))}const kg="awsui_root_vrgzu_11c7p_145",Ag="awsui_recovery_vrgzu_11c7p_180";const Rg=e=>{let{statusType:t,empty:n,loadingText:o,finishedText:r,filteringResultsText:s,errorText:a,recoveryText:l,isEmpty:u,isNoMatch:c,isFiltered:d,noMatch:h,onRecoveryClick:p,hasRecoveryCallback:g=!1,errorIconAriaLabel:m}=e;const v=md(t),f={isSticky:!0,content:null,hasRecoveryButton:!1};return"loading"===t?f.content=i.createElement(Fg,{type:"loading"},o):"error"===t?(f.hasRecoveryButton=!!l&&g,f.content=i.createElement("span",null,i.createElement(Fg,{type:"error",__display:"inline",__animate:"error"!==v,iconAriaLabel:m},a)," ",f.hasRecoveryButton&&i.createElement(Dg,{onFollow:()=>_i(p),variant:"recovery",className:Ag},l))):u&&n?f.content=n:c&&h?f.content=h:d&&s?f.content=s:"finished"===t&&r&&(f.content=r,f.isSticky=!1),f},Pg=function(e){let{children:t}=e;return i.createElement("div",{className:kg},t)},Tg="awsui_root_1afi9_1n6s2_145",_g="awsui_hidden_1afi9_1n6s2_176",Mg="awsui_no-items_1afi9_1n6s2_179",Ig=e=>{let{content:t,id:n,hasItems:o=!0}=e;return i.createElement("div",{className:Gn(Tg,{[_g]:null===t,[Mg]:!o})},t&&i.createElement(cs,{id:n},i.createElement(Pg,null,t)))},Lg=new WeakMap,Ng=["value","label","description","labelTag"],Bg=(e,t,n)=>{if(!e)return!1;const i=e.toLowerCase().indexOf(t);return n?0===i:i>-1},Og=(e,t,n)=>{const i=t.toLowerCase(),o=e.option,r=["tags"];return n||r.push("filteringTags"),Ng.some(e=>Bg(o[e],i,n))||r.some(e=>{var t;return null===(t=o[e])||void 0===t?void 0:t.some(e=>Bg(e,i,n))})},Gg=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(""===t)return e;let i=null,o=!1;return e.reduce((e,r)=>"parent"===r.type?(o=!1,i=r,Og(r,t,n)&&(o=!0,e.push(i)),e):("child"!==r.type&&(i=null,o=!1),o?e.push(r):Og(r,t,n)&&(i&&(e.push(i),i=null),e.push(r)),e),[])},zg=e=>!!e&&!e.disabled&&"parent"!==e.type,Vg=e=>!!e&&!e.disabled,Hg=e=>!!e&&"options"in e&&!!e.options;function jg(e,t,n){const{flatOptions:i,parentMap:o}=(e=>{const t=new Map,n=e.reduce((e,n)=>{if(Hg(n)){const{options:i}=n,o=Et(n,["options"]),r={type:"parent",option:n},s=i.every(e=>e.disabled);(n.disabled||s)&&(r.disabled=!0),e.push(r),i.forEach(n=>{const i={type:"child",option:n};(o.disabled||n.disabled)&&(i.disabled=!0),e.push(i),t.set(i,r)})}else{const t={option:n};n.disabled&&(t.disabled=!0),e.push(t)}return e},[]);return{flatOptions:n,parentMap:t}})(e),r="auto"!==t?i:Gg(i,n);return((e,t)=>{let n=1,i=0,o=1,r=null;e.forEach(e=>{const s="parent"===e.type,a=s?e:t(e);a&&a!==r&&(r=a,i+=1,o=1),s?Lg.set(e,{groupIndex:i}):a&&"child"===e.type?Lg.set(e,{throughIndex:n++,groupIndex:i,inGroupIndex:o++}):"child"!==e.type&&e.type||Lg.set(e,{throughIndex:n++})})})(r,o.get.bind(o)),{flatOptions:i,filteredOptions:r,parentMap:o,totalCount:i.length,matchesCount:r.length}}function Wg(e,t,n,i,o){0}function Ug(e,t){const n=(0,i.useRef)();return n.current=e,(0,i.useCallback)(na(function(){n.current&&n.current(...arguments)},t),[])}const Kg=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return!0===e?"on":e||"off"},qg={root:"awsui_root_2rhyz_x45v2_145",input:"awsui_input_2rhyz_x45v2_149","input-readonly":"awsui_input-readonly_2rhyz_x45v2_196","input-invalid":"awsui_input-invalid_2rhyz_x45v2_263","input-has-icon-left":"awsui_input-has-icon-left_2rhyz_x45v2_272","input-warning":"awsui_input-warning_2rhyz_x45v2_275","input-type-search":"awsui_input-type-search_2rhyz_x45v2_287","input-has-icon-right":"awsui_input-has-icon-right_2rhyz_x45v2_300","input-has-no-border-radius":"awsui_input-has-no-border-radius_2rhyz_x45v2_303","input-container":"awsui_input-container_2rhyz_x45v2_310","input-icon-left":"awsui_input-icon-left_2rhyz_x45v2_315","input-icon-right":"awsui_input-icon-right_2rhyz_x45v2_322","input-button-right":"awsui_input-button-right_2rhyz_x45v2_328"};const Yg=i.forwardRef(function(e,t){var{type:n="text",step:o,inputMode:r,autoComplete:s=!0,ariaLabel:a,clearAriaLabel:l,name:u,value:c,placeholder:d,autoFocus:h,disabled:p,readOnly:g,disableBrowserAutocorrect:m,spellcheck:v,__noBorderRadius:f,__leftIcon:w,__leftIconVariant:C="subtle",__onLeftIconClick:b,ariaRequired:y,__rightIcon:S,__onRightIconClick:x,onKeyDown:D,onKeyUp:E,onChange:F,__onDelayedInput:k,__onBlurWithDetail:A,onBlur:R,onFocus:P,__nativeAttributes:T,__internalRootRef:_,__inheritFormFieldProps:M,__injectAnalyticsComponentMetadata:I}=e,L=Et(e,["type","step","inputMode","autoComplete","ariaLabel","clearAriaLabel","name","value","placeholder","autoFocus","disabled","readOnly","disableBrowserAutocorrect","spellcheck","__noBorderRadius","__leftIcon","__leftIconVariant","__onLeftIconClick","ariaRequired","__rightIcon","__onRightIconClick","onKeyDown","onKeyUp","onChange","__onDelayedInput","__onBlurWithDetail","onBlur","onFocus","__nativeAttributes","__internalRootRef","__inheritFormFieldProps","__injectAnalyticsComponentMetadata"]);const N=zt(L),B=Mt("input"),O=Ug(e=>_i(k,{value:e})),G=e=>{O(e),_i(F,{value:e})},z=(0,i.useRef)(null),V=((e,t,n,o,r,s)=>{const a={},l=(0,i.useCallback)(()=>{var e;null===(e=r.current)||void 0===e||e.focus(),s("")},[r,s]);return"search"!==e&&"visualSearch"!==e||(a.__leftIcon="search",t||n||!o||(a.__rightIcon="close",a.__onRightIconClick=l)),a})(n,p,g,c,z,G);w=null!==w&&void 0!==w?w:V.__leftIcon,S=null!==S&&void 0!==S?S:V.__rightIcon,x=null!==x&&void 0!==x?x:V.__onRightIconClick;const H=zp(L),{ariaLabelledby:j,ariaDescribedby:W,controlId:U,invalid:K,warning:q}=M?H:L,Y=Object.assign({"aria-label":a,"aria-labelledby":a&&!L.ariaLabelledby?void 0:j,"aria-describedby":W,name:u,placeholder:d,autoFocus:h,id:U,className:Gn(qg.input,n&&qg["input-type-".concat(n)],S&&qg["input-has-icon-right"],w&&qg["input-has-icon-left"],f&&qg["input-has-no-border-radius"],{[qg["input-readonly"]]:g,[qg["input-invalid"]]:K,[qg["input-warning"]]:q&&!K}),autoComplete:Kg(s),disabled:p,readOnly:g,type:n,step:o,inputMode:r,spellCheck:v,onKeyDown:D&&(e=>Ii(D,e)),onKeyUp:E&&(e=>Ii(E,e)),value:null!==c&&void 0!==c?c:"",onChange:F&&(e=>G(e.target.value)),onBlur:e=>{_i(R),_i(A,{relatedTarget:e.relatedTarget})},onFocus:P&&(()=>_i(P))},T);"number"===n&&(Y.onWheel=e=>e.currentTarget.blur()),m&&(Y.autoCorrect="off",Y.autoCapitalize="off"),y&&(Y["aria-required"]="true"),K&&(Y["aria-invalid"]="true");const Z=Tt(t,z);"visualSearch"===Y.type&&(Y.type="text");const $={name:"awsui.Input",label:"input",properties:{value:c||""}};return i.createElement("div",Object.assign({},N,{className:Gn(N.className,qg["input-container"]),ref:_,dir:"email"===n?"ltr":void 0},I?Qi({component:$}):Ji(L)),w&&i.createElement("span",{onClick:b,className:qg["input-icon-left"]},i.createElement(oo,{name:w,variant:p||g?"disabled":C})),i.createElement("input",Object.assign({ref:Z},Y)),S&&i.createElement("span",Object.assign({className:qg["input-icon-right"]},"close"===S?Qi({action:"clearInput"}):{}),i.createElement(Es,{className:qg["input-button-right"],variant:"inline-icon-pointer-target",formAction:"none",iconName:S,onClick:x,ariaLabel:B("clearAriaLabel",l),disabled:p})))}),Zg="awsui_placeholder_dwuol_1tlzd_145",$g="awsui_item_dwuol_1tlzd_150",Xg="awsui_checkbox_dwuol_1tlzd_154",Qg="awsui_filter_dwuol_1tlzd_163",Jg="awsui_trigger_dwuol_1tlzd_168",em="awsui_layout-strut_dwuol_1tlzd_174",tm="awsui_list-bottom_dwuol_1tlzd_180",nm="awsui_selected-icon_dwuol_1tlzd_184",im="awsui_show-label-tag_dwuol_1tlzd_188",om="awsui_inline-token-trigger_dwuol_1tlzd_192",rm="awsui_inline-token-list_dwuol_1tlzd_199",sm="awsui_inline-token_dwuol_1tlzd_192",am="awsui_visual-refresh_dwuol_1tlzd_229",lm="awsui_inline-token-hidden-placeholder_dwuol_1tlzd_236",um="awsui_inline-token-counter_dwuol_1tlzd_242",cm="awsui_inline-token-trigger--disabled_dwuol_1tlzd_246",dm="awsui_inline-label-trigger-wrapper_dwuol_1tlzd_252",hm="awsui_inline-label-wrapper_dwuol_1tlzd_256",pm="awsui_inline-label_dwuol_1tlzd_252",gm="awsui_inline-label-inline-tokens_dwuol_1tlzd_282",mm="awsui_disabled-reason-tooltip_dwuol_1tlzd_287",vm=i.forwardRef((e,t)=>{var{filteringType:n}=e,o=Et(e,["filteringType"]);return"none"===n?null:i.createElement(Yg,Object.assign({ref:t,type:"visualSearch",className:Qg,autoComplete:!1,disableBrowserAutocorrect:!0,invalid:!1,__noBorderRadius:!0},o,{__nativeAttributes:Object.assign({"aria-expanded":!0,"aria-haspopup":!0,role:"combobox",autoCorrect:"off",autoCapitalize:"off"},o.__nativeAttributes)}))}),fm=vm,wm="awsui_root_1fn7j_t5xe1_145",Cm="awsui_styled-box_1fn7j_t5xe1_152",bm="awsui_styled-box-checked_1fn7j_t5xe1_168",ym="awsui_styled-box-indeterminate_1fn7j_t5xe1_168",Sm="awsui_styled-box-disabled_1fn7j_t5xe1_172",xm="awsui_styled-box-readonly_1fn7j_t5xe1_172",Dm="awsui_styled-line_1fn7j_t5xe1_176",Em="awsui_styled-line-disabled_1fn7j_t5xe1_181",Fm="awsui_styled-line-readonly_1fn7j_t5xe1_184",km={default:{viewBox:"0 0 14 14",indeterminate:"2.5,7 11.5,7",checked:"2.5,7 6,10 11,3",xy:.5,r:1.5,size:13},refresh:{viewBox:"0 0 16 16",indeterminate:"3.5,8 12.5,8",checked:"3.5,8 7,11 12,4",xy:.5,r:3,size:15}},Am=e=>{var t,n,o,{checked:r,indeterminate:s,disabled:a=!1,readOnly:l=!1,style:u}=e;const c=zt(Et(e,["checked","indeterminate","disabled","readOnly","style"])),d=Cn()?"refresh":"default",h=km[d];return i.createElement("svg",Object.assign({className:wm,viewBox:h.viewBox,"aria-hidden":"true",focusable:"false"},c),i.createElement("rect",{className:Gn(Cm,{[bm]:r,[ym]:s,[Sm]:a,[xm]:l}),x:h.xy,y:h.xy,rx:h.r,ry:h.r,width:h.size,height:h.size,style:{fill:null===(t=null===u||void 0===u?void 0:u.box)||void 0===t?void 0:t.fill,stroke:null===(n=null===u||void 0===u?void 0:u.box)||void 0===n?void 0:n.stroke}}),r||s?i.createElement("polyline",{className:Gn(Dm,{[Em]:a,[Fm]:l}),points:s?h.indeterminate:h.checked,style:{stroke:null===(o=null===u||void 0===u?void 0:u.line)||void 0===o?void 0:o.stroke}}):null)},Rm="awsui_option_1p2cx_1w5f5_153",Pm="awsui_disabled_1p2cx_1w5f5_190",Tm="awsui_parent_1p2cx_1w5f5_193",_m="awsui_highlighted_1p2cx_1w5f5_196",Mm="awsui_content_1p2cx_1w5f5_200",Im="awsui_label-content_1p2cx_1w5f5_207",Lm="awsui_label_1p2cx_1w5f5_207",Nm="awsui_tag_1p2cx_1w5f5_214",Bm="awsui_label-tag_1p2cx_1w5f5_215",Om="awsui_label-prefix_1p2cx_1w5f5_225",Gm="awsui_tags_1p2cx_1w5f5_238",zm="awsui_description_1p2cx_1w5f5_239",Vm="awsui_selected_1p2cx_1w5f5_250",Hm="awsui_icon_1p2cx_1w5f5_264",jm="awsui_icon-size-big_1p2cx_1w5f5_271",Wm="awsui_filtering-match-highlight_1p2cx_1w5f5_275",Um="awsui_trigger-variant_1p2cx_1w5f5_290";function Km(e){let{str:t}=e;return t?i.createElement("mark",{className:Wm},t):null}function qm(e){let{str:t,highlightText:n}=e;if(!t||!n)return i.createElement("span",null,t);if(t===n)return i.createElement(Km,{str:t});const{noMatches:o,matches:r}=((e,t)=>{if(t.length>1e4)return{noMatches:[e],matches:null};const n=t.replace(/[-[\]/{}()*+?.\\^$|]/g,"\\$&"),i=new RegExp(n,"gi");return{noMatches:e.split(i),matches:e.match(i)}})(t,n),s=[];return o.forEach((e,t)=>{s.push(i.createElement("span",{key:"noMatch-".concat(t)},e)),r&&t<r.length&&s.push(i.createElement(Km,{key:"match-".concat(t),str:r[t]}))}),i.createElement("span",null,s)}const Ym="awsui_label_1q5vz_ocied_5",Zm=e=>{let{label:t,prefix:n,highlightText:o,triggerVariant:r}=e;return i.createElement("span",{className:Gn(Lm,Ym,r&&Um)},n&&i.createElement("span",{className:Gn(Om,r&&Um)},n," "),i.createElement(qm,{str:t,highlightText:o}))},$m=e=>{let{labelTag:t,highlightText:n,triggerVariant:o}=e;return t?i.createElement("span",{className:Gn(Bm,o&&Um)},i.createElement(qm,{str:t,highlightText:n})):null},Xm=e=>{let{description:t,highlightedOption:n,highlightText:o,selectedOption:r,triggerVariant:s}=e;return t?i.createElement("span",{className:Gn(zm,{[Um]:s,[_m]:n,[Vm]:r})},i.createElement(qm,{str:t,highlightText:o})):null},Qm=e=>{let{tags:t,highlightedOption:n,highlightText:o,selectedOption:r,triggerVariant:s}=e;return t?i.createElement("span",{className:Gn(Gm,{[_m]:n,[Vm]:r})},t.map((e,t)=>i.createElement("span",{key:t,className:Gn(Nm,s&&Um)},i.createElement(qm,{str:e,highlightText:o})))):null},Jm=e=>{let{filteringTags:t,highlightedOption:n,highlightText:o,selectedOption:r,triggerVariant:s}=e;if(!o||!t)return null;const a=o.toLowerCase();return i.createElement("span",{className:Gn(Gm,{[_m]:n,[Vm]:r})},t.map((e,t)=>-1!==e.toLowerCase().indexOf(a)?i.createElement("span",{className:Gn(Nm,s&&Um),key:t,"aria-disabled":!0},i.createElement(qm,{str:e,highlightText:o})):null))},ev=e=>e.name||e.url||e.svg?i.createElement("span",{className:Gn(Hm,"big"===e.size&&[jm])},i.createElement(oo,Object.assign({},e))):null;const tv=e=>{var t,n,{option:o,highlightText:r,triggerVariant:s=!1,isGroupOption:a=!1,isGenericGroup:l=!0,highlightedOption:u=!1,selectedOption:c=!1}=e,d=Et(e,["option","highlightText","triggerVariant","isGroupOption","isGenericGroup","highlightedOption","selectedOption"]);if(!o)return null;const{disabled:h}=o,p=zt(d);const g=Gn(Rm,h&&Pm,a&&Tm,u&&_m),m=o.__customIcon||i.createElement(ev,{name:o.iconName,url:o.iconUrl,svg:o.iconSvg,alt:o.iconAlt,ariaLabel:o.iconAriaLabel,size:o.description||o.tags?"big":"normal"}),v=l?{title:null!==(t=o.label)&&void 0!==t?t:o.value,"aria-disabled":h}:void 0;return i.createElement("span",Object.assign({"data-value":o.value,className:g,lang:o.lang},v,p),m,i.createElement("span",{className:Mm},i.createElement("span",{className:Im},i.createElement(Zm,{label:null!==(n=o.label)&&void 0!==n?n:o.value,prefix:o.__labelPrefix,highlightText:r,triggerVariant:s}),i.createElement($m,{labelTag:o.labelTag,highlightText:r,triggerVariant:s})),i.createElement(Xm,{description:o.description,highlightedOption:u,selectedOption:c,highlightText:r,triggerVariant:s}),i.createElement(Qm,{tags:o.tags,highlightedOption:u,selectedOption:c,highlightText:r,triggerVariant:s}),i.createElement(Jm,{filteringTags:o.filteringTags,highlightedOption:u,selectedOption:c,highlightText:r,triggerVariant:s})))},nv="awsui_parent_2dmmi_qu62t_5",iv="awsui_option-content_2dmmi_qu62t_6",ov="awsui_selectable-item_15o6u_lx7py_145",rv="awsui_pad-bottom_15o6u_lx7py_167",sv="awsui_virtual_15o6u_lx7py_171",av="awsui_has-background_15o6u_lx7py_174",lv="awsui_highlighted_15o6u_lx7py_177",uv="awsui_selected_15o6u_lx7py_177",cv="awsui_disabled_15o6u_lx7py_195",dv="awsui_is-keyboard_15o6u_lx7py_200",hv="awsui_visual-refresh_15o6u_lx7py_203",pv="awsui_next-item-selected_15o6u_lx7py_211",gv="awsui_parent_15o6u_lx7py_236",mv="awsui_interactiveGroups_15o6u_lx7py_240",vv="awsui_child_15o6u_lx7py_256",fv="awsui_sticky_15o6u_lx7py_262",wv="awsui_with-scrollbar_15o6u_lx7py_274",Cv="awsui_after-header_15o6u_lx7py_280",bv="awsui_measure-strut_15o6u_lx7py_315",yv="awsui_screenreader-content_15o6u_lx7py_328",Sv="awsui_option-content_15o6u_lx7py_334",xv="awsui_select-all_15o6u_lx7py_338",Dv=i.forwardRef((e,t)=>{var{children:n,ariaSelected:o,ariaChecked:r,selected:s,highlighted:a,disabled:l,hasBackground:u,isParent:c,isChild:d,isSelectAll:h,virtualPosition:p,padBottom:g,isNextSelected:m,useInteractiveGroups:v,screenReaderContent:f,ariaPosinset:w,ariaSetsize:C,highlightType:b,value:y,sticky:S,afterHeader:x,withScrollbar:D}=e,E=Et(e,["children","ariaSelected","ariaChecked","selected","highlighted","disabled","hasBackground","isParent","isChild","isSelectAll","virtualPosition","padBottom","isNextSelected","useInteractiveGroups","screenReaderContent","ariaPosinset","ariaSetsize","highlightType","value","sticky","afterHeader","withScrollbar"]);const F=Cn(),k=zt(E),{className:A}=k,R=Et(k,["className"]),P=Gn(A,ov,{[uv]:s,[lv]:a,[av]:u,[gv]:c,[nv]:c,[vv]:d,[xv]:h,[dv]:"keyboard"===b,[cv]:l,[sv]:void 0!==p&&!S,[rv]:g,[pv]:m,[mv]:v,[fv]:S,[Cv]:!!x,[wv]:D,[hv]:F}),T=(0,i.useRef)(null),_=(0,i.useRef)(null);(0,i.useLayoutEffect)(()=>{a&&f&&(T.current&&T.current.setAttribute("aria-hidden","true"),_.current&&(_.current.textContent=f))},[a,f,T,_]);const M=void 0!==p?{transform:"translateY(".concat(p,"px)")}:void 0,I={"aria-disabled":l};return c&&!v&&(I["aria-hidden"]=!0),void 0!==o&&(I["aria-selected"]=o),void 0!==r&&(I["aria-checked"]=r),w&&C&&(I["aria-posinset"]=w,I["aria-setsize"]=C),E.ariaDescribedby&&(I["aria-describedby"]=E.ariaDescribedby),i.createElement("li",Object.assign({role:"option",className:P,style:M},I,R,c||l?{}:Qi((e=>{var{isChild:t,value:n}=e;const i=Et(e,["isChild","value"]),o={action:"select",detail:{label:{selector:[".".concat(Ym),".".concat(iv)]}}};let r;return t&&i["data-group-index"]&&i["data-in-group-index"]||i["data-child-index"]?r="".concat(i["data-group-index"],",").concat(i["data-in-group-index"]||i["data-child-index"]):i["data-test-index"]&&(r="".concat(i["data-test-index"])),r&&(o.detail.position=r),n&&(o.detail.value=n),t&&(o.detail.groupLabel={root:"body",selector:".".concat(nv,'[data-group-index="').concat(i["data-group-index"],'"] .').concat(iv)}),o})(Object.assign({isChild:d,value:y},E)))),i.createElement("div",{className:Gn(Sv,iv),ref:T},n),i.createElement("div",{className:bv,ref:t}),i.createElement("div",{className:yv,ref:_}))}),Ev=i.memo(i.forwardRef((e,t)=>{var{option:n,highlighted:o,selected:r,filteringValue:s,hasCheckbox:a,virtualPosition:l,padBottom:u,isNextSelected:c,screenReaderContent:d,ariaPosinset:h,ariaSetsize:p,highlightType:g,withScrollbar:m,sticky:v}=e;const f=zt(Et(e,["option","highlighted","selected","filteringValue","hasCheckbox","virtualPosition","padBottom","isNextSelected","screenReaderContent","ariaPosinset","ariaSetsize","highlightType","withScrollbar","sticky"])),w="parent"===n.type,C="child"===n.type,b=n.option,y=n.disabled||b.disabled,S=y&&b.disabledReason?b.disabledReason:"",x=!!S,D=(0,i.useRef)(null),{descriptionEl:E,descriptionId:F}=Ur(S),[k,A]=(0,i.useState)(!0);return(0,i.useEffect)(()=>A(!0),[o]),i.createElement(Dv,Object.assign({ariaSelected:Boolean(r),selected:r,isNextSelected:c,highlighted:o,disabled:n.disabled,isParent:w,isChild:C,ref:Tt(t,D),virtualPosition:l,padBottom:u,screenReaderContent:d,ariaPosinset:h,ariaSetsize:p,highlightType:g,ariaDescribedby:x?F:"",value:n.option.value,withScrollbar:m,sticky:v},f),i.createElement("div",{className:Gn($g,!w&&b.labelTag&&im)},a&&!w&&i.createElement("div",{className:Xg},i.createElement(Am,{checked:r||!1,disabled:n.disabled})),i.createElement(tv,{option:Object.assign(Object.assign({},b),{disabled:y}),highlightedOption:o,selectedOption:r,highlightText:s,isGroupOption:w}),!a&&!w&&r&&i.createElement("div",{className:nm},i.createElement(oo,{name:"check"})),x&&i.createElement(i.Fragment,null,E,o&&k&&i.createElement(Or,{className:mm,trackRef:D,value:S,position:"right",hideOnOverscroll:!0,onDismiss:()=>A(!1)}))))})),Fv=i.memo(i.forwardRef((e,t)=>{var{option:n,highlighted:o,selected:r,filteringValue:s,hasCheckbox:a,virtualPosition:l,padBottom:u,isNextSelected:c,indeterminate:d,screenReaderContent:h,ariaPosinset:p,ariaSetsize:g,highlightType:m,withScrollbar:v,sticky:f}=e;const w=zt(Et(e,["option","highlighted","selected","filteringValue","hasCheckbox","virtualPosition","padBottom","isNextSelected","indeterminate","screenReaderContent","ariaPosinset","ariaSetsize","highlightType","withScrollbar","sticky"])),C="parent"===n.type,b="child"===n.type,y="select-all"===n.type,S=n.option,x=n.disabled||S.disabled,D=x&&(n.disabledReason||S.disabledReason)?n.disabledReason||S.disabledReason:"",E=!!D,F=(0,i.useRef)(null),k=$g,{descriptionId:A,descriptionEl:R}=Ur(D),[P,T]=(0,i.useState)(!0);return(0,i.useEffect)(()=>T(!0),[o]),i.createElement(Dv,Object.assign({ariaChecked:C&&d?"mixed":Boolean(r),selected:r,isNextSelected:c,highlighted:o,disabled:x,isParent:C,isChild:b,isSelectAll:y,highlightType:m,ref:Tt(t,F),virtualPosition:l,padBottom:u,useInteractiveGroups:!0,screenReaderContent:h,ariaPosinset:p,ariaSetsize:g,ariaDescribedby:E?A:"",value:n.option.value,afterHeader:n.afterHeader,withScrollbar:v,sticky:f},w),i.createElement("div",{className:k},a&&i.createElement("div",{className:Xg},i.createElement(Am,{checked:r,indeterminate:(C||y)&&d,disabled:x})),i.createElement(tv,{option:Object.assign(Object.assign({},S),{disabled:x}),highlightedOption:o,selectedOption:r,highlightText:s,isGroupOption:C})),E&&i.createElement(i.Fragment,null,R,o&&P&&i.createElement(Or,{className:mm,trackRef:F,value:D,position:"right",hideOnOverscroll:!0,onDismiss:()=>T(!1)})))})),kv=e=>{let{option:t,index:n,getOptionProps:i,filteringValue:o,checkboxes:r=!1}=e;const s=i(t,n);s.filteringValue=o;const{inGroupIndex:a,groupIndex:l,throughIndex:u}=(e=>Lg.get(e))(t)||{};return Object.assign(Object.assign({},s),{hasCheckbox:r,"data-group-index":l,"data-child-index":a,"data-test-index":u})},Av=e=>{let{options:t,getOptionProps:n,filteringValue:o,highlightType:r,checkboxes:s=!1,hasDropdownStatus:a,virtualItems:l,useInteractiveGroups:u,screenReaderContent:c,ariaSetsize:d,withScrollbar:h,firstOptionSticky:p,stickyOptionRef:g}=e;return t.map((e,m)=>{const v=l&&l[m],f=v?v.index:m,w=kv({option:e,index:f,getOptionProps:n,filteringValue:"select-all"===e.type?"":o,checkboxes:s}),C=m===t.length-1,b=!a&&C,y=u?Fv:Ev,S=p&&0===f;return i.createElement(y,Object.assign({key:f},w,{virtualPosition:v&&v.start,ref:S&&g?g:v&&v.measureRef,padBottom:b,screenReaderContent:c,ariaPosinset:f+1,ariaSetsize:d,highlightType:r.type,withScrollbar:h,sticky:S}))})};function Rv(e){let{index:t,menuEl:n}=e;const i=n.querySelector('[data-mouse-target="'.concat(t,'"]'));if(i&&void 0!==n.clientHeight&&n.clientHeight>15){const e=n.getBoundingClientRect(),t=i.getBoundingClientRect(),o=parseInt(n.style.scrollPaddingBlockStart)||0;t.top<e.top+o||t.height>e.height-o?n.scrollBy({top:t.top-e.top-o}):t.bottom>e.bottom&&n.scrollBy({top:t.bottom-e.bottom})}}const Pv=(0,i.forwardRef)((e,t)=>{let{menuProps:n,getOptionProps:o,filteredOptions:r,filteringValue:s,highlightType:a,checkboxes:l,hasDropdownStatus:u,listBottom:c,useInteractiveGroups:d,screenReaderContent:h,firstOptionSticky:p}=e;const g=(0,i.useRef)(null),[m,v]=(0,i.useState)(p?31:0),[f,w]=Ri(e=>(g.current&&v(g.current.clientHeight),{inner:e.contentBoxWidth,outer:e.borderBoxWidth})),C=n.ref,b=Tt(w,C);(0,i.useImperativeHandle)(t,()=>e=>{const t=p&&0===e;a.moveFocus&&C.current&&!t&&Rv({index:e,menuEl:C.current})},[p,a.moveFocus,C]);const y=!!f&&f.inner<f.outer;return i.createElement(Pl,Object.assign({},n,{ref:b,stickyItemBlockSize:m}),Av({options:r,getOptionProps:o,filteringValue:s,highlightType:a,checkboxes:l,hasDropdownStatus:u,useInteractiveGroups:d,screenReaderContent:h,firstOptionSticky:p,stickyOptionRef:g,withScrollbar:y}),c?i.createElement("li",{role:"option",className:tm},c):null)}),Tv="awsui_button-trigger_l32fn_xo3sj_5",_v={"button-trigger":"awsui_button-trigger_18eso_1g60k_161",arrow:"awsui_arrow_18eso_1g60k_161","in-filtering-token-root":"awsui_in-filtering-token-root_18eso_1g60k_221","in-filtering-token-nested":"awsui_in-filtering-token-nested_18eso_1g60k_221","has-caret":"awsui_has-caret_18eso_1g60k_257",placeholder:"awsui_placeholder_18eso_1g60k_260",pressed:"awsui_pressed_18eso_1g60k_273",disabled:"awsui_disabled_18eso_1g60k_276","in-filtering-token":"awsui_in-filtering-token_18eso_1g60k_221",readonly:"awsui_readonly_18eso_1g60k_297",invalid:"awsui_invalid_18eso_1g60k_319",warning:"awsui_warning_18eso_1g60k_328","inline-tokens":"awsui_inline-tokens_18eso_1g60k_337"},Mv=i.forwardRef((e,t)=>{var{children:n,pressed:o,hideCaret:r=!1,disabled:s=!1,readOnly:a=!1,invalid:l=!1,warning:u=!1,inlineTokens:c,inFilteringToken:d,ariaHasPopup:h,ariaLabel:p,ariaLabelledby:g,ariaDescribedby:m,ariaControls:v,onKeyDown:f,onKeyUp:w,onMouseDown:C,onClick:b,onFocus:y,onBlur:S,autoFocus:x}=e;const D=zt(Et(e,["children","pressed","hideCaret","disabled","readOnly","invalid","warning","inlineTokens","inFilteringToken","ariaHasPopup","ariaLabel","ariaLabelledby","ariaDescribedby","ariaControls","onKeyDown","onKeyUp","onMouseDown","onClick","onFocus","onBlur","autoFocus"]));let E=Object.assign(Object.assign({},D),{type:"button",className:Gn(_v["button-trigger"],Tv,D.className,o&&_v.pressed,s&&_v.disabled,l&&_v.invalid,u&&!l&&_v.warning,!r&&_v["has-caret"],a&&_v.readonly,d&&_v["in-filtering-token"],d&&_v["in-filtering-token-".concat(d)],c&&_v["inline-tokens"]),disabled:s,"aria-expanded":o,"aria-label":p,"aria-labelledby":g,"aria-describedby":m,"aria-haspopup":null!==h&&void 0!==h?h:"listbox","aria-controls":v,"aria-disabled":a&&!s?"true":void 0,autoFocus:x});a||(E=Object.assign(Object.assign({},E),{onKeyDown:f&&(e=>Ii(f,e)),onKeyUp:w&&(e=>Ii(w,e)),onMouseDown:C&&(e=>Mi(C,{},e)),onClick:b&&(e=>Mi(b,{},e)),onFocus:y&&(e=>Mi(y,{},e)),onBlur:S&&(e=>Mi(S,{relatedTarget:e.relatedTarget},e))})),l&&(E["aria-invalid"]=l);const F={action:o?"collapse":"expand",detail:{label:{root:"self"}}};return i.createElement("button",Object.assign({ref:t},E,s||a?{}:Qi(F)),n,!r&&i.createElement("span",{className:_v.arrow},i.createElement(oo,{name:"caret-down-filled",variant:s||a?"disabled":"normal"})))}),Iv=i.forwardRef((e,t)=>{let{ariaLabelledby:n,ariaDescribedby:o,controlId:r,invalid:s,inlineLabelText:a,warning:l,triggerProps:u,selectedOption:c,selectedOptions:d,triggerVariant:h,inFilteringToken:p,isOpen:g,placeholder:m,disabled:v,readOnly:f}=e;const w=Cn(),C=Yi(),b=null!==r&&void 0!==r?r:C,y=Yi("trigger-content-");let S=Hp(n,y),x=null;"tokens"===h?(null===d||void 0===d?void 0:d.length)?(x=i.createElement("span",{className:Gn(om,v&&cm,w&&am)},i.createElement("span",{className:rm},d.map((e,t)=>{let{label:n}=e;return i.createElement("span",{key:t,className:sm},n)})),i.createElement("span",{className:um,id:y},i.createElement("span",{className:lm},m),i.createElement("span",null,"(",d.length,")"))),S=n):x=i.createElement("span",{"aria-disabled":"true",className:Gn(Zg,Jg),id:y},m):x=c?"option"===h?i.createElement(tv,{id:y,option:Object.assign(Object.assign({},c),{disabled:v}),triggerVariant:!0}):i.createElement("span",{id:y,className:Jg},c.label||c.value):i.createElement("span",{"aria-disabled":"true",className:Gn(Zg,Jg),id:y},m);const D=Tt(u.ref,t),E=i.createElement(Mv,Object.assign({},u,{id:b,ref:D,pressed:!!g,disabled:v,readOnly:f,invalid:s,warning:l&&!s,inFilteringToken:p,inlineTokens:"tokens"===h,ariaDescribedby:o,ariaLabelledby:S}),x);return i.createElement(i.Fragment,null,a?i.createElement("div",{className:hm},i.createElement("label",{htmlFor:r,className:Gn(pm,"tokens"===h&&gm)},a),i.createElement("div",{className:dm},E)):i.createElement(i.Fragment,null,E))}),Lv=Iv;function Nv(){return Nv=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Nv.apply(this,arguments)}var Bv,Ov=["bottom","height","left","right","top","width"],Gv=new Map,zv=function e(){var t=[];Gv.forEach(function(e,n){var i,o,r=n.getBoundingClientRect();i=r,o=e.rect,void 0===i&&(i={}),void 0===o&&(o={}),Ov.some(function(e){return i[e]!==o[e]})&&(e.rect=r,t.push(e))}),t.forEach(function(e){e.callbacks.forEach(function(t){return t(e.rect)})}),Bv=window.requestAnimationFrame(e)};var Vv="undefined"!==typeof window?i.useLayoutEffect:i.useEffect;function Hv(e,t){void 0===t&&(t={width:0,height:0});var n=i.useState(e.current),o=n[0],r=n[1],s=i.useReducer(jv,t),a=s[0],l=s[1],u=i.useRef(!1);return Vv(function(){e.current!==o&&r(e.current)}),Vv(function(){if(o&&!u.current){u.current=!0;var e=o.getBoundingClientRect();l({rect:e})}},[o]),i.useEffect(function(){if(o){var e=function(e,t){return{observe:function(){var n=0===Gv.size;Gv.has(e)?Gv.get(e).callbacks.push(t):Gv.set(e,{rect:void 0,hasRectChanged:!1,callbacks:[t]}),n&&zv()},unobserve:function(){var n=Gv.get(e);if(n){var i=n.callbacks.indexOf(t);i>=0&&n.callbacks.splice(i,1),n.callbacks.length||Gv.delete(e),Gv.size||cancelAnimationFrame(Bv)}}}}(o,function(e){l({rect:e})});return e.observe(),function(){e.unobserve()}}},[o]),a}function jv(e,t){var n=t.rect;return e.height!==n.height||e.width!==n.width?n:e}var Wv=function(){return 50},Uv=function(e){return e},Kv=function(e,t){return e[t?"offsetWidth":"offsetHeight"]},qv=function(e){for(var t=Math.max(e.start-e.overscan,0),n=Math.min(e.end+e.overscan,e.size-1),i=[],o=t;o<=n;o++)i.push(o);return i};function Yv(e){var t,n=e.size,o=void 0===n?0:n,r=e.estimateSize,s=void 0===r?Wv:r,a=e.overscan,l=void 0===a?1:a,u=e.paddingStart,c=void 0===u?0:u,d=e.paddingEnd,h=void 0===d?0:d,p=e.parentRef,g=e.horizontal,m=e.scrollToFn,v=e.useObserver,f=e.initialRect,w=e.onScrollElement,C=e.scrollOffsetFn,b=e.keyExtractor,y=void 0===b?Uv:b,S=e.measureSize,x=void 0===S?Kv:S,D=e.rangeExtractor,E=void 0===D?qv:D,F=g?"width":"height",k=g?"scrollLeft":"scrollTop",A=i.useRef({scrollOffset:0,measurements:[]}),R=i.useState(0),P=R[0],T=R[1];A.current.scrollOffset=P;var _=(v||Hv)(p,f)[F];A.current.outerSize=_;var M=i.useCallback(function(e){p.current&&(p.current[k]=e)},[p,k]),I=m||M;m=i.useCallback(function(e){I(e,M)},[M,I]);var L=i.useState({}),N=L[0],B=L[1],O=i.useCallback(function(){return B({})},[]),G=i.useRef([]),z=i.useMemo(function(){var e=G.current.length>0?Math.min.apply(Math,G.current):0;G.current=[];for(var t=A.current.measurements.slice(0,e),n=e;n<o;n++){var i=y(n),r=N[i],a=t[n-1]?t[n-1].end:c,l="number"===typeof r?r:s(n),u=a+l;t[n]={index:n,start:a,size:l,end:u,key:i}}return t},[s,N,c,o,y]),V=((null==(t=z[o-1])?void 0:t.end)||c)+h;A.current.measurements=z,A.current.totalSize=V;var H=w?w.current:p.current,j=i.useRef(C);j.current=C,Vv(function(){if(H){var e=function(e){var t=j.current?j.current(e):H[k];T(t)};return e(),H.addEventListener("scroll",e,{capture:!1,passive:!0}),function(){H.removeEventListener("scroll",e)}}T(0)},[H,k]);var W=function(e){var t=e.measurements,n=e.outerSize,i=e.scrollOffset,o=t.length-1,r=function(e){return t[e].start},s=Zv(0,o,r,i),a=s;for(;a<o&&t[a].end<i+n;)a++;return{start:s,end:a}}(A.current),U=W.start,K=W.end,q=i.useMemo(function(){return E({start:U,end:K,overscan:l,size:z.length})},[U,K,l,z.length,E]),Y=i.useRef(x);Y.current=x;var Z=i.useMemo(function(){for(var e=[],t=function(t,n){var i=q[t],o=Nv(Nv({},z[i]),{},{measureRef:function(e){if(e){var t=Y.current(e,g);if(t!==o.size){var n=A.current.scrollOffset;o.start<n&&M(n+(t-o.size)),G.current.push(i),B(function(e){var n;return Nv(Nv({},e),{},((n={})[o.key]=t,n))})}}}});e.push(o)},n=0,i=q.length;n<i;n++)t(n);return e},[q,M,g,z]),$=i.useRef(!1);Vv(function(){$.current&&B({}),$.current=!0},[s]);var X=i.useCallback(function(e,t){var n=(void 0===t?{}:t).align,i=void 0===n?"start":n,o=A.current,r=o.scrollOffset,s=o.outerSize;"auto"===i&&(i=e<=r?"start":e>=r+s?"end":"start"),"start"===i?m(e):"end"===i?m(e-s):"center"===i&&m(e-s/2)},[m]),Q=i.useCallback(function(e,t){var n=void 0===t?{}:t,i=n.align,r=void 0===i?"auto":i,s=function(e,t){if(null==e)return{};var n,i,o={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(n,["align"]),a=A.current,l=a.measurements,u=a.scrollOffset,c=a.outerSize,d=l[Math.max(0,Math.min(e,o-1))];if(d){if("auto"===r)if(d.end>=u+c)r="end";else{if(!(d.start<=u))return;r="start"}var h="center"===r?d.start+d.size/2:"end"===r?d.end:d.start;X(h,Nv({align:r},s))}},[X,o]),J=i.useCallback(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Q.apply(void 0,t),requestAnimationFrame(function(){Q.apply(void 0,t)})},[Q]);return{virtualItems:Z,totalSize:V,scrollToOffset:X,scrollToIndex:J,measure:O}}var Zv=function(e,t,n,i){for(;e<=t;){var o=(e+t)/2|0,r=n(o);if(r<i)e=o+1;else{if(!(r>i))return o;t=o-1}}return e>0?e-1:0};function $v(e){const t=qv(e);return 0===t[0]?t:[0,...t]}const Xv=(0,i.forwardRef)((e,t)=>{let{menuProps:n,getOptionProps:o,filteredOptions:r,filteringValue:s,highlightType:a,checkboxes:l,hasDropdownStatus:u,listBottom:c,useInteractiveGroups:d,screenReaderContent:h,firstOptionSticky:p}=e;const[g,m]=Ri(e=>({inner:e.contentBoxWidth,outer:e.borderBoxWidth}),[]),v=(0,i.useRef)(null),f=Tt(m,v,n.ref),w=(0,i.useRef)(),{virtualItems:C,totalSize:b,scrollToIndex:y}=function(e){let{items:t,parentRef:n,estimateSize:o,firstItemSticky:r}=e;const s=Yv({size:t.length,parentRef:n,estimateSize:o,overscan:5,rangeExtractor:r?$v:void 0}),a=(0,i.useRef)(new WeakMap),l=s.virtualItems.map(e=>"".concat(e.index)).join(":");(0,i.useEffect)(()=>{a.current=new WeakMap},[l,t,o]);const u=(0,i.useMemo)(()=>s.virtualItems.map(e=>Object.assign(Object.assign({},e),{measureRef:n=>{var i;const o=null!==(i=a.current.get(t[e.index]))&&void 0!==i?i:0;o<49&&(e.measureRef(n),a.current.set(t[e.index],o+1))}})),[t,s.virtualItems]);return{virtualItems:u,totalSize:s.totalSize,scrollToIndex:s.scrollToIndex}}({items:r,parentRef:v,estimateSize:(0,i.useCallback)(()=>31,[null===g||void 0===g?void 0:g.inner,s]),firstItemSticky:p});(0,i.useImperativeHandle)(t,()=>e=>{if(a.moveFocus){const t=void 0!==w.current&&e<w.current;p&&t&&0!==e&&v.current?Rv({index:e,menuEl:null===v||void 0===v?void 0:v.current}):y(e)}w.current=e},[p,a.moveFocus,y]);const S=p?C[0].size:0,x=!!g&&g.inner<g.outer,D=Av({options:C.map(e=>{let{index:t}=e;return r[t]}),getOptionProps:o,filteringValue:s,highlightType:a,checkboxes:l,hasDropdownStatus:u,virtualItems:C,useInteractiveGroups:d,screenReaderContent:h,firstOptionSticky:p,withScrollbar:x});return i.createElement(Pl,Object.assign({},n,{stickyItemBlockSize:S,ref:f}),D,i.createElement("div",{"aria-hidden":"true",key:"total-size",className:em,style:{height:b-S}}),c?i.createElement("li",{role:"option",className:tm},c):null)}),Qv=(0,i.forwardRef)((e,t)=>{let{menuProps:n,listBottom:o}=e;return(0,i.useImperativeHandle)(t,()=>()=>{},[]),i.createElement(Pl,Object.assign({},n,{ref:n.ref}),o?i.createElement("li",{role:"option",className:tm},o):null)}),Jv=(0,i.forwardRef)((e,t)=>e.menuProps.open?i.createElement(Xv,Object.assign({},e,{ref:t})):i.createElement(Qv,Object.assign({},e,{ref:t})));function ef(e,t,n){En}const tf=function(e){let{option:t,parentGroup:n,highlightText:i}=e;return[n&&n.label,t.__labelPrefix,t.label||t.value,t.description,t.labelTag].concat(t.tags).concat(function(e,t){return t&&e?e.filter(e=>Bg(e,t,!1)):[]}(t.filteringTags,i)).filter(e=>!!e).join(" ")};function nf(e){let{highlightText:t,announceSelected:n,highlightedOption:o,getParent:r,selectedAriaLabel:s,renderHighlightedAriaLive:a}=e;const l=(0,i.useRef)(void 0);if((0,i.useEffect)(()=>{if(o){const e=requestAnimationFrame(()=>{l.current=r(o)});return()=>cancelAnimationFrame(e)}}),!o)return"";const u=o.option,c=r(o),d=c&&c!==l.current?c:void 0;if(a)return a(u,d);return[n&&s?s:"",tf({option:u,parentGroup:d,highlightText:t})].filter(Boolean).join(" ")}const of=e=>{let{onLoadItems:t,options:n,statusType:o}=e;const r=(0,i.useRef)(void 0);return{fireLoadItems:e=>{r.current!==e&&(r.current=e,_i(t,{filteringText:e,firstPage:!0,samePage:!1}))},handleLoadMore:()=>{const e=0===n.length;"pending"===o&&_i(t,{firstPage:e,samePage:!1,filteringText:r.current||""})},handleRecoveryClick:()=>_i(t,{firstPage:!1,samePage:!0,filteringText:r.current||""})}};function rf(e){let{isEnabled:t,options:n,highlightOption:o,highlightedOption:r,useInteractiveGroups:s}=e;const a=(0,i.useRef)(""),l=Ug(()=>a.current="",500);return e=>{if(!t)return;const{key:i}=e;if(!i||1!==i.length)return;l();const u=a.current+i;a.current=u;const c=function(e,t,n,i){const o=i?Vg:zg,r=t=>Gg(e,t,!0).filter(e=>o(e)),s=r(t);if(1===s.length)return s[0];if(n&&t.length>1&&(a=t).split("").every(e=>e===a[0])){const e=r(t[0]);if(e.length>0){let t=Hg(n)?e.map(e=>{let{option:t}=e;return t}).indexOf(n):e.map(e=>{let{option:t}=e;return t.value}).indexOf(n.value);return t+=1,t%=e.length,e[t]}}var a;return s.length>0?s[0]:null}(n,u,r,s);c&&o(c)}}class sf{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"keyboard"===e;this.type=e,this.moveFocus=t}}function af(e){let{options:t,isHighlightable:n}=e;const[o,r]=(0,i.useState)(-1),[s,a]=(0,i.useState)(new sf("keyboard")),l=(0,i.useCallback)((e,t)=>{r(e),a(e=>e.type!==t.type?t:e)},[]),u=t[o]&&n(t[o])?t[o]:void 0,c=function(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o,r=arguments.length>2?arguments[2]:void 0;let s=-1===i&&-1===e?t.length:i;do{s+=e}while(t[s]&&!n(t[s]));t[s]&&l(s,r)},d=(0,i.useCallback)((e,n)=>{const i=t.indexOf(e);l(i,n)},[t,l]);return[{highlightType:s,highlightedIndex:o,highlightedOption:u},{setHighlightedIndexWithMouse:function(e){return l(e,new sf("mouse",arguments.length>1&&void 0!==arguments[1]&&arguments[1]))},highlightFirstOptionWithMouse:()=>c(1,-1,new sf("mouse",!0)),moveHighlightWithKeyboard:e=>((e,t)=>c(e,o,t))(e,new sf("keyboard")),highlightOptionWithKeyboard:e=>d(e,new sf("keyboard")),resetHighlightWithKeyboard:()=>l(-1,new sf("keyboard")),goHomeWithKeyboard:()=>c(1,-1,new sf("keyboard")),goEndWithKeyboard:()=>c(-1,t.length,new sf("keyboard"))}]}const lf=(e,t)=>{if(!(t<0))return"".concat(e,"-option-").concat(t)},uf=(e,t)=>{for(let n=0;n<e.length;n++){const i=e[n];if(i===t||i.value===t.value)return n}return-1};function cf(e){let{selectedOptions:t,updateSelectedOption:n,options:o,filteringType:r,onBlur:s,onFocus:a,externalRef:l,keepOpen:u,embedded:c,fireLoadItems:d,setFilteringValue:h,useInteractiveGroups:p=!1,statusType:g,isAllSelected:m,isSomeSelected:v,toggleAll:f}=e;const w=p?Vg:zg,C=e=>!!e&&(p||"parent"!==e.type),b=(0,i.useRef)(null),y=(0,i.useRef)(null),S=(0,i.useRef)(null),x="none"!==r&&!c,D=x?b:S,E=((e,t)=>(t||[]).map(t=>{for(const n of e)if("parent"!==n.type&&n.option.value===t.value)return n;return{option:t}}))(o,t),F=t.reduce((e,t)=>(t.value&&e.add(t.value),e),new Set),[{highlightType:k,highlightedOption:A,highlightedIndex:R},{moveHighlightWithKeyboard:P,resetHighlightWithKeyboard:T,setHighlightedIndexWithMouse:_,highlightOptionWithKeyboard:M,highlightFirstOptionWithMouse:I,goHomeWithKeyboard:L,goEndWithKeyboard:N}]=af({options:o,isHighlightable:C}),{isOpen:B,openDropdown:O,closeDropdown:G,toggleDropdown:z,openedWithKeyboard:V}=cu({defaultOpen:c,onOpen:()=>d(""),onClose:()=>{T(),null===h||void 0===h||h("")}}),H=()=>{_i(a,{})},j=()=>{_i(s,{}),G()},W=E.length>0,U=Yi("option-list"),K=Yi("dialog"),q=lf(U,R),Y=e=>{const t=e||A;t&&w(t)&&("select-all"===t.type&&f?f():n(t.option),(()=>{var e;u||(null===(e=y.current)||void 0===e||e.focus(),G())})())},Z=(e=>{let{goUp:t,goDown:n,selectOption:i,goHome:o,goEnd:r,closeDropdown:s,preventNativeSpace:a=!1}=e;return e=>{switch(e.detail.keyCode){case ir.up:e.preventDefault(),t();break;case ir.down:e.preventDefault(),n();break;case 36:o();break;case 35:r();break;case ir.escape:e.stopPropagation(),s();break;case ir.enter:e.preventDefault(),i();break;case ir.space:a&&(e.preventDefault(),i())}}})({goUp:()=>{!p&&"child"===(null===A||void 0===A?void 0:A.type)&&1===R||0===R?N():P(-1)},goDown:()=>{R!==o.length-1?P(1):L()},selectOption:Y,goHome:L,goEnd:N,closeDropdown:()=>{var e;c||(null===(e=y.current)||void 0===e||e.focus(),G())},preventNativeSpace:!x||!!A}),$=(e=>{let{openDropdown:t,goHome:n}=e;return e=>{switch(e.detail.keyCode){case ir.up:case ir.down:e.preventDefault(),n(),t();break;case ir.space:case ir.enter:e.preventDefault(),t()}}})({openDropdown:()=>O(!0),goHome:L}),X=e=>{const t=e.options.filter(e=>!!e.value&&F.has(e.value)).length,n=t>0,i=t===e.options.length;return{selected:n&&i&&p,indeterminate:n&&!i}},Q=md(B);(0,i.useEffect)(()=>{if(B&&!Q&&o.length>0&&!x)if(V)E[0]?M(E[0]):L();else if(E[0]&&o.includes(E[0])){const e=o.indexOf(E[0]);_(e,!0)}else I()},[B,E,W,_,M,I,L,V,o,Q,x]),(0,i.useEffect)(()=>{var e;B&&!c&&(null===(e=D.current)||void 0===e||e.focus({preventScroll:!0}))},[B,D,c]),Wr(l,y);const J=!!A&&Hg(A.option)&&X(A.option).selected,ee=!!A&&(E.indexOf(A)>-1||J);return{isOpen:B,highlightedOption:A,highlightedIndex:R,highlightType:k,getTriggerProps:function(){const e={ref:y,onFocus:()=>G(),autoFocus:arguments.length>1&&void 0!==arguments[1]&&arguments[1],ariaHasPopup:x?"dialog":"listbox",ariaControls:B?x?K:U:void 0};return arguments.length>0&&void 0!==arguments[0]&&arguments[0]||(e.onMouseDown=e=>{var t;e.preventDefault(),B&&(null===(t=y.current)||void 0===t||t.focus()),z()},e.onKeyDown=$),e},getDropdownProps:()=>({onFocus:H,onBlur:j,dropdownContentId:K,dropdownContentRole:x?"dialog":void 0}),getMenuProps:()=>{const e={id:U,ref:S,open:B,onMouseUp:e=>{e>-1&&Y(o[e])},onMouseMove:e=>{e>-1&&_(e)},statusType:g};return x||(e.onKeyDown=Z,e.nativeAttributes={"aria-activedescendant":q}),c&&(e.onFocus=()=>{A||L()},e.onBlur=()=>{T()}),e},getFilterProps:()=>x&&h?{ref:b,onKeyDown:Z,onChange:e=>{h(e.detail.value),T()},__onDelayedInput:e=>{d(e.detail.value)},__nativeAttributes:{"aria-activedescendant":q,"aria-owns":U,"aria-controls":U}}:{},getOptionProps:(e,t)=>{var n;const i="select-all"===e.type,r=e===A,s=Hg(e.option)?X(e.option):void 0,a=i?m:E.indexOf(e)>-1||!!(null===s||void 0===s?void 0:s.selected),l=null===(n=o[t+1])||void 0===n?void 0:n.option;return{key:t,option:e,highlighted:r,selected:a,isNextSelected:l&&Hg(l)?X(l).selected:E.indexOf(o[t+1])>-1,indeterminate:!!(null===s||void 0===s?void 0:s.indeterminate)||i&&!m&&v,"data-mouse-target":C(e)?t:-1,id:lf(U,t)}},highlightOption:M,selectOption:Y,announceSelected:ee,dialogId:K}}const df="awsui_root_r2vco_1yzpb_145",hf=i.forwardRef((e,t)=>{var n,{options:o,filteringType:r="none",filteringPlaceholder:s,filteringAriaLabel:a,filteringClearAriaLabel:l,filteringResultsText:u,inlineLabelText:c,ariaRequired:d,placeholder:h,disabled:p,readOnly:g,ariaLabel:m,statusType:v="finished",empty:f,loadingText:w,finishedText:C,errorText:b,noMatch:y,triggerVariant:S="label",renderHighlightedAriaLive:x,selectedOption:D,onBlur:E,onFocus:F,onLoadItems:k,onChange:A,virtualScroll:R,expandToViewport:P,autoFocus:T,__inFilteringToken:_,__internalRootRef:M}=e,I=Et(e,["options","filteringType","filteringPlaceholder","filteringAriaLabel","filteringClearAriaLabel","filteringResultsText","inlineLabelText","ariaRequired","placeholder","disabled","readOnly","ariaLabel","statusType","empty","loadingText","finishedText","errorText","noMatch","triggerVariant","renderHighlightedAriaLive","selectedOption","onBlur","onFocus","onLoadItems","onChange","virtualScroll","expandToViewport","autoFocus","__inFilteringToken","__internalRootRef"]);const L=zt(I),N=zp(I),B=Mt("select"),O=B("errorIconAriaLabel",I.errorIconAriaLabel),G=B("selectedAriaLabel",I.selectedAriaLabel),z=B("recoveryText",I.recoveryText);I.recoveryText&&!k&&Pt();const{handleLoadMore:V,handleRecoveryClick:H,fireLoadItems:j}=of({onLoadItems:k,options:o,statusType:v});Wg(),ef();const[W,U]=(0,i.useState)(""),{filteredOptions:K,parentMap:q,totalCount:Y,matchesCount:Z}=jg(o,r,W),$=(0,i.useRef)(null),X=(0,i.useRef)(null),Q=Yi("trigger"),J=null!==(n=N.controlId)&&void 0!==n?n:Q,ee=(0,i.useRef)(null),{isOpen:te,highlightType:ne,highlightedOption:ie,highlightedIndex:oe,getTriggerProps:re,getDropdownProps:se,getFilterProps:ae,getMenuProps:le,getOptionProps:ue,highlightOption:ce,selectOption:de,announceSelected:he}=cf({selectedOptions:D?[D]:[],updateSelectedOption:e=>_i(A,{selectedOption:e}),options:K,filteringType:r,onBlur:E,onFocus:F,externalRef:t,fireLoadItems:j,setFilteringValue:U,statusType:v}),pe=rf({isEnabled:"none"===r&&!g,options:K,highlightOption:te?ce:de,highlightedOption:te?null===ie||void 0===ie?void 0:ie.option:D}),ge=Yi("select-arialabel-"),me=Yi("footer");(0,i.useEffect)(()=>{var e;null===(e=ee.current)||void 0===e||e.call(ee,oe)},[oe]);const ve=i.createElement(fm,Object.assign({clearAriaLabel:l,filteringType:r,placeholder:s,ariaLabel:a,ariaRequired:d,value:W},ae())),fe=i.createElement(Lv,Object.assign({ref:X,placeholder:h,disabled:p,readOnly:g,triggerVariant:S,triggerProps:re(p,T),selectedOption:D,isOpen:te,inFilteringToken:_,inlineLabelText:c},N,{controlId:J,ariaLabelledby:Hp(N.ariaLabelledby,ge)})),we=!o||0===o.length,Ce=K&&0===K.length,be="none"!==r&&W.length>0&&K&&K.length>0,ye=be?null===u||void 0===u?void 0:u(Z,Y):void 0,Se=Rg({statusType:v,empty:f,loadingText:w,finishedText:C,errorText:b,recoveryText:z,isEmpty:we,isNoMatch:Ce,noMatch:y,isFiltered:be,filteringResultsText:ye,errorIconAriaLabel:O,onRecoveryClick:H,hasRecoveryCallback:!!k}),xe=Object.assign(Object.assign({},le()),{onLoadMore:V,ariaLabelledby:Hp(ge,J),ariaDescribedby:Se.content?me:void 0}),De=nf({announceSelected:he,highlightedOption:ie,getParent:e=>{var t;return null===(t=q.get(e))||void 0===t?void 0:t.option},selectedAriaLabel:G,renderHighlightedAriaLive:x}),Ee=R?Jv:Pv,Fe=Tt($,M),ke=se();return i.createElement("div",Object.assign({},L,{ref:Fe,className:Gn(df,L.className),onKeyDown:pe}),i.createElement(El,Object.assign({},ke,{ariaLabelledby:ke.dropdownContentRole?Hp(ge,J):void 0,ariaDescribedby:ke.dropdownContentRole&&Se.content?me:void 0,open:te,stretchTriggerHeight:!!_,stretchBeyondTriggerWidth:!0,trigger:fe,header:ve,onMouseDown:e=>{e.target!==document.activeElement&&e.preventDefault()},footer:Se.isSticky?i.createElement(Ig,{content:te?Se.content:null,id:me}):null,expandToViewport:P}),i.createElement(Ee,{listBottom:Se.isSticky?null:i.createElement(Ig,{content:te?Se.content:null,id:me}),menuProps:xe,getOptionProps:ue,filteredOptions:K,filteringValue:W,ref:ee,hasDropdownStatus:null!==Se.content,screenReaderContent:De,highlightType:ne})),i.createElement("div",{hidden:!0,id:ge},m||c))}),pf=hf,gf={segment:"awsui_segment_8cbea_rg0r6_161",refresh:"awsui_refresh_8cbea_rg0r6_187",disabled:"awsui_disabled_8cbea_rg0r6_193",selected:"awsui_selected_8cbea_rg0r6_256",icon:"awsui_icon_8cbea_rg0r6_279","with-text":"awsui_with-text_8cbea_rg0r6_283","with-no-text":"awsui_with-no-text_8cbea_rg0r6_289",root:"awsui_root_8cbea_rg0r6_294","segment-part":"awsui_segment-part_8cbea_rg0r6_326",select:"awsui_select_8cbea_rg0r6_256","segment-count-2":"awsui_segment-count-2_8cbea_rg0r6_362","segment-count-3":"awsui_segment-count-3_8cbea_rg0r6_366","segment-count-4":"awsui_segment-count-4_8cbea_rg0r6_370","segment-count-5":"awsui_segment-count-5_8cbea_rg0r6_374","segment-count-6":"awsui_segment-count-6_8cbea_rg0r6_378","disabled-reason-tooltip":"awsui_disabled-reason-tooltip_8cbea_rg0r6_382"},mf=i.forwardRef((e,t)=>{let{disabled:n,disabledReason:o,text:r,iconName:s,iconAlt:a,iconUrl:l,iconSvg:u,isActive:c,onClick:d,onKeyDown:h,tabIndex:p,id:g}=e;const m=(0,i.useRef)(null),[v,f]=(0,i.useState)(!1),w=n&&!!o,{targetProps:C,descriptionEl:b}=Ur(o),y=Cn();return i.createElement("button",Object.assign({className:Gn(gf.segment,{[gf.disabled]:!!n},{[gf.selected]:c},{[gf.refresh]:y}),ref:Tt(t,m),onClick:d,onKeyDown:h,disabled:n&&!o,"aria-disabled":w?"true":void 0,type:"button",tabIndex:p,"aria-pressed":c?"true":"false","aria-label":r?void 0:a,onFocus:w?()=>f(!0):void 0,onBlur:w?()=>f(!1):void 0,onMouseEnter:w?()=>f(!0):void 0,onMouseLeave:w?()=>f(!1):void 0},w?C:{},{"data-testid":g}),(s||l||u)&&i.createElement(oo,{className:Gn(gf.icon,r?gf["with-text"]:gf["with-no-text"]),name:s,url:l,svg:u,alt:a,variant:n?"disabled":"normal"}),i.createElement("span",null,r),w&&i.createElement(i.Fragment,null,b,v&&i.createElement(Or,{className:gf["disabled-reason-tooltip"],trackRef:m,value:o,onDismiss:()=>f(!1)})))});function vf(e){let{selectedId:t,options:n,label:o,ariaLabelledby:r,onChange:s}=e;const a=(0,i.useRef)({}),l=(n||[]).filter(e=>e.id===t),u=l.length?l[0]:null,c=(n||[]).filter(e=>!e.disabled||e.disabled&&!!e.disabledReason),d=Cn();return i.createElement("div",{className:Gn(gf["segment-part"],gf["segment-count-".concat(null===n||void 0===n?void 0:n.length)],{[gf.refresh]:d}),"aria-label":o,"aria-labelledby":r,role:"toolbar"},n&&n.map((e,n)=>{const o=t===e.id,r=c.indexOf(e);let l=o?0:-1;return null===u&&0===r&&(l=0),i.createElement(mf,{key:n,id:e.id,disabled:!!e.disabled,disabledReason:e.disabledReason,iconName:e.iconName,iconAlt:e.iconAlt,iconUrl:e.iconUrl,iconSvg:e.iconSvg,text:e.text,isActive:o,tabIndex:l,ref:t=>{t?a.current[e.id]=t:delete a.current[e.id]},onClick:()=>{e.disabled||t!==e.id&&_i(s,{selectedId:e.id})},onKeyDown:e=>((e,t)=>{var n;if(e.keyCode!==ir.right&&e.keyCode!==ir.left)return;let i=t;$u(e,{onInlineStart:()=>i=0===t?c.length-1:t-1,onInlineEnd:()=>i=t+1===c.length?0:t+1});const o=c[i].id;null===(n=a.current[o])||void 0===n||n.focus()})(e,r)})}))}function ff(e){var{selectedId:t,options:n,label:o,ariaLabelledby:r,onChange:s,__internalRootRef:a}=e;const l=zt(Et(e,["selectedId","options","label","ariaLabelledby","onChange","__internalRootRef"])),u=(n||[]).map(e=>{const t=e.text||e.iconAlt;return Object.assign(Object.assign({},e),{label:t,value:e.id})}),c=u.filter(e=>e.value===t),d={options:u,selectedOption:c.length?c[0]:null,triggerVariant:"option",onChange:e=>_i(s,{selectedId:e.detail.selectedOption.value})};return i.createElement("div",Object.assign({},l,{className:Gn(l.className,gf.root),ref:a}),i.createElement(vf,{selectedId:t,options:n,label:o,ariaLabelledby:r,onChange:s}),i.createElement("div",{className:gf.select},r&&i.createElement(pf,Object.assign({},d,{ariaLabelledby:r})),!r&&o&&i.createElement(mg,{label:o,stretch:!0},i.createElement(pf,Object.assign({},d))),!r&&!o&&i.createElement(pf,Object.assign({},d))))}function wf(e){var t;const n=Dn("SegmentedControl",{props:{},metadata:{hasDisabledReasons:(null!==(t=e.options)&&void 0!==t?t:[]).some(e=>Boolean(e.disabledReason))}});return i.createElement(ff,Object.assign({},e,n))}Ln(wf,"SegmentedControl");const Cf=(0,i.createContext)({isStuck:!1,isStuckAtBottom:!1}),bf=function(e,t,n,o,r,s){let a=arguments.length>6&&void 0!==arguments[6]&&arguments[6];const l=In(),u=!(l&&s)&&!!n,[c,d]=(0,i.useState)(!1),[h,p]=(0,i.useState)(!1),[g,m]=(0,i.useState)(!1);(0,i.useLayoutEffect)(()=>{if(e.current){const t=cr(e.current),n=sn(e.current,e=>"MAIN"===e.tagName);d(t.length>0&&t[0]!==n)}},[e]);const v=function(e){let{isMobile:t,__stickyOffset:n,__mobileStickyOffset:i,hasInnerOverflowParents:o,__additionalOffset:r}=e;const s=t?(null!==n&&void 0!==n?n:0)-(null!==i&&void 0!==i?i:0):null!==n&&void 0!==n?n:0;if(o||void 0!==n)return"".concat(s,"px");const a="var(".concat(bc.stickyVerticalTopOffset,", 0px)");return"calc(".concat(a," + ").concat(s,"px + ").concat(r?"var(--space-scaled-s-8ozaad, 12px)":"0px",")")}({isMobile:l,__stickyOffset:o,__mobileStickyOffset:r,hasInnerOverflowParents:c,__additionalOffset:a}),f=u?{style:{top:v}}:{},w=(0,i.useCallback)(n=>{let{isTrusted:i,target:o,type:r}=n;if(("resize"!==r||o!==window||i)&&e.current&&t.current){const n=parseFloat(getComputedStyle(e.current).borderTopWidth)||0,i=Math.round(e.current.getBoundingClientRect().top+n),o=Math.round(t.current.getBoundingClientRect().top);p(i<o);const r=Math.round(e.current.getBoundingClientRect().bottom-n),s=Math.round(t.current.getBoundingClientRect().bottom);m(r<=s)}},[e,t]);return(0,i.useEffect)(()=>{if(u){const e=new AbortController;return window.addEventListener("scroll",w,{capture:!0,signal:e.signal}),window.addEventListener("resize",w,{signal:e.signal}),()=>{e.abort()}}},[u,w]),{isSticky:u,isStuck:h,isStuckAtBottom:g,stickyStyles:f}},yf=(0,i.createContext)({}),Sf=(0,i.createContext)({isInContainer:!1}),xf=e=>{let{children:t}=e;return i.createElement(Sf.Provider,{value:{isInContainer:!0}},t)},Df=(0,i.createContext)(null),Ef=Df.Provider,Ff=e=>{const t=(0,i.useContext)(Df),n=(0,i.useMemo)(()=>(e=>{if(!e||"string"!==typeof e)return;const t=(e.includes("/")?e.split("/")[1]:e).match(/\d+/);return t?parseInt(t[0],10):void 0})(e),[e]);(0,i.useEffect)(()=>{var e;if((null===(e=null===t||void 0===t?void 0:t.headerRef)||void 0===e?void 0:e.current)&&void 0!==n)return t.headerRef.current.totalCount=n,()=>{var e;null===(e=t.headerRef.current)||void 0===e||delete e.totalCount}},[null===t||void 0===t?void 0:t.headerRef,n])},kf="awsui_heading-text_105ke_268sp_5",Af={root:"awsui_root_2qdw9_88efd_181",refresh:"awsui_refresh_2qdw9_88efd_217","root-no-actions":"awsui_root-no-actions_2qdw9_88efd_217","root-variant-h2":"awsui_root-variant-h2_2qdw9_88efd_220","root-variant-h3":"awsui_root-variant-h3_2qdw9_88efd_220","root-has-description":"awsui_root-has-description_2qdw9_88efd_220","root-variant-h1":"awsui_root-variant-h1_2qdw9_88efd_229",main:"awsui_main_2qdw9_88efd_239","no-wrap":"awsui_no-wrap_2qdw9_88efd_249","main-variant-h1":"awsui_main-variant-h1_2qdw9_88efd_255",actions:"awsui_actions_2qdw9_88efd_263","actions-centered":"awsui_actions-centered_2qdw9_88efd_268","actions-variant-h1":"awsui_actions-variant-h1_2qdw9_88efd_271","actions-variant-h2":"awsui_actions-variant-h2_2qdw9_88efd_275","actions-variant-h3":"awsui_actions-variant-h3_2qdw9_88efd_279",title:"awsui_title_2qdw9_88efd_295","title-variant-h1":"awsui_title-variant-h1_2qdw9_88efd_300","title-variant-h2":"awsui_title-variant-h2_2qdw9_88efd_307","title-variant-h3":"awsui_title-variant-h3_2qdw9_88efd_313","virtual-space":"awsui_virtual-space_2qdw9_88efd_334",info:"awsui_info_2qdw9_88efd_340",description:"awsui_description_2qdw9_88efd_344","description-variant-h1":"awsui_description-variant-h1_2qdw9_88efd_351","description-variant-h2":"awsui_description-variant-h2_2qdw9_88efd_355","description-variant-h3":"awsui_description-variant-h3_2qdw9_88efd_362",heading:"awsui_heading_2qdw9_88efd_373","heading-variant-h1":"awsui_heading-variant-h1_2qdw9_88efd_384","heading-variant-h2":"awsui_heading-variant-h2_2qdw9_88efd_389","heading-variant-h3":"awsui_heading-variant-h3_2qdw9_88efd_394","heading-text":"awsui_heading-text_2qdw9_88efd_400","heading-text-variant-h1":"awsui_heading-text-variant-h1_2qdw9_88efd_403","heading-text-variant-h2":"awsui_heading-text-variant-h2_2qdw9_88efd_411","heading-text-variant-h3":"awsui_heading-text-variant-h3_2qdw9_88efd_419",counter:"awsui_counter_2qdw9_88efd_428"};function Rf(e){var{variant:t,headingTagOverride:n,children:o,actions:r,counter:s,description:a,info:l,__internalRootRef:u,__disableActionsWrapping:c,__headingTagRef:d,__headingTagTabIndex:h}=e,p=Et(e,["variant","headingTagOverride","children","actions","counter","description","info","__internalRootRef","__disableActionsWrapping","__headingTagRef","__headingTagTabIndex"]);const g=In(),m=null!==n&&void 0!==n?n:"awsui-h1-sticky"===t?"h1":t,{isStuck:v}=(0,i.useContext)(Cf),f=zt(p),w=Cn(),C=(0,i.useContext)(yf).assignId,b=(()=>{const{isInContainer:e}=(0,i.useContext)(Sf);return e})(),y=Yi("heading");Ff(s),void 0!==C&&C(y);const S="awsui-h1-sticky"===t?w?!g&&v?"h2":"h1":"h2":t;return i.createElement("div",Object.assign({},f,{className:Gn(Af.root,f.className,Af["root-variant-".concat(S)],w&&Af.refresh,!r&&[Af["root-no-actions"]],a&&[Af["root-has-description"]]),ref:u}),i.createElement("div",{className:Gn(Af.main,Af["main-variant-".concat(S)],w&&Af.refresh,c&&[Af["no-wrap"]])},i.createElement("div",{className:Gn(Af.title,Af["title-variant-".concat(S)],w&&Af.refresh)},i.createElement(m,Object.assign({className:Gn(Af.heading,Af["heading-variant-".concat(S)]),ref:d,tabIndex:h},eo(".".concat(kf))),i.createElement("span",Object.assign({},b?{[yo]:To}:{},{className:Gn(Af["heading-text"],kf,Af["heading-text-variant-".concat(S)]),id:y}),o),void 0!==s&&i.createElement("span",{className:Af.counter}," ",s)),l&&i.createElement(Vp.Provider,{value:y},i.createElement("span",{className:Af["virtual-space"]}," \xa0"),i.createElement("span",{className:Af.info},l))),r&&i.createElement("div",{className:Gn(Af.actions,Af["actions-variant-".concat(S)],w&&Af.refresh,!c&&[Af["actions-centered"]])},r)),i.createElement(Pf,{variantOverride:S},a))}function Pf(e){let{children:t,variantOverride:n}=e;const o=Cn();return t&&i.createElement("p",{className:Gn(Af.description,Af["description-variant-".concat(n)],o&&Af.refresh)},t)||null}function Tf(e){var{variant:t="h2"}=e,n=Et(e,["variant"]);const o=Dn("Header",{props:{headingTagOverride:n.headingTagOverride,variant:t}});return i.createElement(Rf,Object.assign({variant:t},n,o))}Ln(Tf,"Header");const _f=i.forwardRef((e,t)=>{var{children:n,iconName:o,iconAlign:r="left",iconUrl:s,iconSvg:a,iconAlt:l,variant:u="normal",loading:c=!1,loadingText:d,disabled:h=!1,disabledReason:p,wrapText:g=!0,href:m,target:v,rel:f,external:w=!1,download:C,formAction:b="submit",ariaLabel:y,ariaDescribedby:S,onClick:x,onFollow:D,ariaExpanded:E,ariaControls:F,fullWidth:k,form:A,i18nStrings:R,style:P,nativeButtonAttributes:T,nativeAnchorAttributes:_}=e,M=Et(e,["children","iconName","iconAlign","iconUrl","iconSvg","iconAlt","variant","loading","loadingText","disabled","disabledReason","wrapText","href","target","rel","external","download","formAction","ariaLabel","ariaDescribedby","onClick","onFollow","ariaExpanded","ariaControls","fullWidth","form","i18nStrings","style","nativeButtonAttributes","nativeAnchorAttributes"]);const I=Dn("Button",{props:{formAction:b,fullWidth:k,iconAlign:r,iconName:o,rel:f,target:v,external:w,variant:u,wrapText:g},metadata:{hasDisabledReason:Boolean(p)}}),L=zt(M);return i.createElement(Ds,Object.assign({},L,I,{ref:t,iconName:o,iconAlign:r,iconUrl:s,iconSvg:a,iconAlt:l,variant:u,loading:c,loadingText:d,disabled:h,disabledReason:p,wrapText:g,href:m,target:v,rel:f,external:w,download:C,formAction:b,ariaLabel:y,ariaDescribedby:S,onClick:x,onFollow:D,ariaExpanded:E,ariaControls:F,fullWidth:k,form:A,i18nStrings:R,style:P,nativeButtonAttributes:T,nativeAnchorAttributes:_,__injectAnalyticsComponentMetadata:!0}),n)});Ln(_f,"Button");const Mf=_f;const If=i.forwardRef((e,t)=>i.createElement(Mf,d({ref:t},e)));Ln(If,"Button");const Lf=If;function Nf(e){let t={};return t}function Bf(e){let t={};return t}function Of(e){let t={};return t}function Gf(e){let t={};return t}function zf(e,t){let n={};return n}const Vf="awsui_header_164jl_1ns0c_5",Hf={root:"awsui_root_14iqq_1vhb3_189","fit-height":"awsui_fit-height_14iqq_1vhb3_222","with-side-media":"awsui_with-side-media_14iqq_1vhb3_227","variant-default":"awsui_variant-default_14iqq_1vhb3_230","variant-stacked":"awsui_variant-stacked_14iqq_1vhb3_230",refresh:"awsui_refresh_14iqq_1vhb3_238","sticky-enabled":"awsui_sticky-enabled_14iqq_1vhb3_288","with-stuck-sticky-header-at-bottom":"awsui_with-stuck-sticky-header-at-bottom_14iqq_1vhb3_294","with-top-media":"awsui_with-top-media_14iqq_1vhb3_304","content-wrapper":"awsui_content-wrapper_14iqq_1vhb3_309","content-wrapper-fit-height":"awsui_content-wrapper-fit-height_14iqq_1vhb3_314",media:"awsui_media_14iqq_1vhb3_321","media-top":"awsui_media-top_14iqq_1vhb3_339","media-side":"awsui_media-side_14iqq_1vhb3_344",header:"awsui_header_14iqq_1vhb3_350","header-full-page":"awsui_header-full-page_14iqq_1vhb3_355","header-variant-embedded":"awsui_header-variant-embedded_14iqq_1vhb3_358","header-sticky-enabled":"awsui_header-sticky-enabled_14iqq_1vhb3_358","header-with-media":"awsui_header-with-media_14iqq_1vhb3_361","header-sticky-disabled":"awsui_header-sticky-disabled_14iqq_1vhb3_367","header-stuck":"awsui_header-stuck_14iqq_1vhb3_377","header-variant-cards":"awsui_header-variant-cards_14iqq_1vhb3_387","header-dynamic-height":"awsui_header-dynamic-height_14iqq_1vhb3_390","with-paddings":"awsui_with-paddings_14iqq_1vhb3_396","with-hidden-content":"awsui_with-hidden-content_14iqq_1vhb3_405","header-variant-full-page":"awsui_header-variant-full-page_14iqq_1vhb3_463","header-cover":"awsui_header-cover_14iqq_1vhb3_466",content:"awsui_content_14iqq_1vhb3_309","content-fit-height":"awsui_content-fit-height_14iqq_1vhb3_494","content-inner":"awsui_content-inner_14iqq_1vhb3_500","with-header":"awsui_with-header_14iqq_1vhb3_507",footer:"awsui_footer_14iqq_1vhb3_511","with-divider":"awsui_with-divider_14iqq_1vhb3_515"},jf="awsui_content-inner_1mwlm_oyjaq_5";function Wf(e){const{subStepRef:t,funnelSubStepProps:n}=jo(),o=qr();return i.createElement(Uf,Object.assign({},e,{__subStepRef:(null===o||void 0===o?void 0:o.isInModal)?{current:null}:t,__funnelSubStepProps:(null===o||void 0===o?void 0:o.isInModal)?{}:n}))}function Uf(e){var t,{header:n,footer:o,children:r,variant:s="default",disableHeaderPaddings:a=!1,disableContentPaddings:l=!1,disableFooterPaddings:u=!1,fitHeight:c,media:d,style:h,__stickyOffset:p,__mobileStickyOffset:g,__stickyHeader:m=!1,__internalRootRef:v,__disableFooterDivider:f=!1,__hiddenContent:w=!1,__headerRef:C,__fullPage:b=!1,__disableStickyMobile:y=!0,__funnelSubStepProps:S,__subStepRef:x}=e,D=Et(e,["header","footer","children","variant","disableHeaderPaddings","disableContentPaddings","disableFooterPaddings","fitHeight","media","style","__stickyOffset","__mobileStickyOffset","__stickyHeader","__internalRootRef","__disableFooterDivider","__hiddenContent","__headerRef","__fullPage","__disableStickyMobile","__funnelSubStepProps","__subStepRef"]);const E=In(),F=Cn(),k=zt(D),A=(0,i.useRef)(null),R=(0,i.useRef)(null),{isSticky:P,isStuck:T,isStuckAtBottom:_,stickyStyles:M}=bf(A,R,m,p,g,y,b&&F&&!E),I=Yi(),L=F&&"full-page"===s,N=Tt(A,v),B=Tt(R,C),O=P&&!E,G=!!(null===d||void 0===d?void 0:d.content),z=null!==(t=null===d||void 0===d?void 0:d.position)&&void 0!==t?t:"top";return i.createElement("div",Object.assign({},k,S,{className:Gn(k.className,Hf.root,Hf["variant-".concat(s)],c&&Hf["fit-height"],G&&("side"===z?Hf["with-side-media"]:Hf["with-top-media"]),O&&[Hf["sticky-enabled"]],O&&T&&_&&[Hf["with-stuck-sticky-header-at-bottom"]],F&&Hf.refresh),ref:N},eo(".".concat(Vf," h1, .").concat(Vf," h2, .").concat(Vf," h3")),{style:Nf()}),G&&i.createElement("div",{className:Gn(Hf["media-".concat("side"===z?"side":"top")],Hf.media),style:"top"===z?Object.assign(Object.assign({},zf()),{height:(null===d||void 0===d?void 0:d.height)||""}):Object.assign(Object.assign({},zf()),{width:(null===d||void 0===d?void 0:d.width)||""})},d.content),i.createElement("div",{id:I,ref:x,className:Gn(Hf["content-wrapper"],c&&Hf["content-wrapper-fit-height"])},n&&i.createElement(xf,null,i.createElement(Cf.Provider,{value:{isStuck:T,isStuckAtBottom:_}},i.createElement("div",{className:Gn(F&&Hf.refresh,Hf.header,Vf,Hf["header-variant-".concat(s)],{[Hf["header-sticky-disabled"]]:m&&!P,[Hf["header-sticky-enabled"]]:P,[Hf["header-dynamic-height"]]:L,[Hf["header-stuck"]]:T,[Hf["with-paddings"]]:!a,[Hf["with-hidden-content"]]:!r||w,[Hf["header-with-media"]]:G,[Hf["header-full-page"]]:b&&F}),ref:B,style:Object.assign(Object.assign({},M.style),Of())},T&&!E&&F&&b&&i.createElement("div",{className:Hf["header-cover"]}),n))),i.createElement("div",{className:Gn(Hf.content,c&&Hf["content-fit-height"])},i.createElement("div",{className:Gn(Hf["content-inner"],jf,{[Hf["with-paddings"]]:!l,[Hf["with-header"]]:!!n}),style:Bf()},r)),o&&i.createElement("div",{className:Gn(Hf.footer,{[Hf["with-divider"]]:!f,[Hf["with-paddings"]]:!u}),style:Gf()},o)))}function Kf(e,t){let[n,i]=t;return e<n?i:e>i?n:e}const qf=e=>Math.round(Math.abs(e)/(e=>.0015*Math.abs(e)+.558)(e)),Yf=()=>window.performance?window.performance.now():Date.now(),Zf=e=>{const t=Yf(),n=Math.min((t-e.startTime)/e.scrollTime,1),i=(o=n,.5*(1-Math.cos(Math.PI*o)));var o;const r=e.startX+(e.endX-e.startX)*i;e.scrollable.scrollLeft=r,r!==e.endX&&requestAnimationFrame(()=>Zf(e))},$f=(e,t)=>{gn(e)?e.scrollLeft=t:"scrollBehavior"in document.documentElement.style&&e.scrollTo?e.scrollTo({left:t,behavior:"smooth"}):((e,t)=>{const n=e.scrollLeft;Zf({scrollable:e,startX:n,endX:t,startTime:Yf(),scrollTime:qf(t-n)})})(e,t)},Xf=(e,t)=>{if(!(null===e||void 0===e?void 0:e.current))return;const n=e.current,{scrollLeft:i,scrollWidth:o,offsetWidth:r}=n,s=Math.ceil(.75*n.clientWidth),a="forward"===t?Math.min(Math.abs(i)+s,o-r):Math.max(Math.abs(i)-s,0),l=rr(n)?-1*a:a;$f(n,l)},Qf=e=>sr(e)>0,Jf=e=>Math.ceil(sr(e))<e.scrollWidth-e.offsetWidth,ew="awsui_tabs-header-list_1acwa_dp0cl_5",tw="awsui_active-tab-header_1acwa_dp0cl_6",nw="awsui_tab-label_1acwa_dp0cl_7",iw="awsui_tab-dismiss-button_1acwa_dp0cl_8",ow="awsui_tabs-header_14rmt_7y4gf_154",rw="awsui_tab-header-scroll-container_14rmt_7y4gf_163",sw="awsui_tabs-header-list_14rmt_7y4gf_169",aw="awsui_pagination-button_14rmt_7y4gf_187",lw="awsui_pagination-button-left_14rmt_7y4gf_194",uw="awsui_pagination-button-left-scrollable_14rmt_7y4gf_197",cw="awsui_pagination-button-right_14rmt_7y4gf_201",dw="awsui_pagination-button-right-scrollable_14rmt_7y4gf_204",hw="awsui_actions-container_14rmt_7y4gf_209",pw="awsui_tabs-tab_14rmt_7y4gf_217",gw="awsui_tabs-tab-label_14rmt_7y4gf_227",mw="awsui_tabs-tab-header-container_14rmt_7y4gf_238",vw="awsui_tabs-tab-dismiss_14rmt_7y4gf_249",fw="awsui_tabs-tab-action_14rmt_7y4gf_249",ww="awsui_refresh_14rmt_7y4gf_254",Cw="awsui_tabs-tab-disabled_14rmt_7y4gf_258",bw="awsui_tabs-tab-link_14rmt_7y4gf_300",yw="awsui_tabs-tab-active_14rmt_7y4gf_378",Sw="awsui_tabs-header-with-divider_14rmt_7y4gf_385",xw="awsui_tabs-tab-focusable_14rmt_7y4gf_389",Dw="awsui_root_14rmt_7y4gf_393",Ew="awsui_tabs_14rmt_7y4gf_154",Fw="awsui_tabs-content_14rmt_7y4gf_431",kw="awsui_fit-height_14rmt_7y4gf_435",Aw="awsui_tabs-content-active_14rmt_7y4gf_441",Rw="awsui_tabs-content-wrapper_14rmt_7y4gf_455",Pw="awsui_with-paddings_14rmt_7y4gf_455",Tw="awsui_tabs-container-content-wrapper_14rmt_7y4gf_466",_w="awsui_disabled-reason-tooltip_14rmt_7y4gf_477",Mw="awsui_tabs-tab-focused_14rmt_7y4gf_481",Iw="awsui_tab-dismiss-button_1nq1i_1nd7r_5",Lw=".".concat(bw),Nw=".".concat(Mw),Bw=".".concat(xw);function Ow(e){let{onChange:t,activeTabId:n,tabs:o,variant:r,idNamespace:s,ariaLabel:a,ariaLabelledby:l,i18nStrings:u,keyboardActivationMode:c,actions:d}=e;const h=(0,i.useRef)(null),p=(0,i.useRef)(null),g=(0,i.useRef)(null),m=Mt("tabs"),v=Cn(),f=(0,i.useRef)(null),w=(0,i.useRef)("undefined"!==typeof document?document:null),[C,b]=Ri(e=>e.contentBoxWidth),y=Tt(f,b,e=>{var t;return w.current=null!==(t=null===e||void 0===e?void 0:e.ownerDocument)&&void 0!==t?t:document}),S=(0,i.useRef)(new Map),[x,D]=(0,i.useState)(!1),[E,F]=(0,i.useState)(!1),[k,A]=(0,i.useState)(!1),[R,P]=(0,i.useState)(n),[T,_]=(0,i.useState)(n),M=o.some(e=>e.action||e.dismissible),I=md(M),L=M?{role:"application","aria-roledescription":m("i18nStrings.tabsWithActionsAriaRoleDescription",null===u||void 0===u?void 0:u.tabsWithActionsAriaRoleDescription)}:{role:"tablist"};(0,i.useEffect)(()=>{var e;I&&!M&&(null===(e=V())||void 0===e||e.focus())},[M,I]),(0,i.useEffect)(()=>{h.current&&(D(((e,t)=>{const{offsetWidth:n,scrollWidth:i}=e,o=t.current&&2*t.current.offsetWidth;return o?i>n+o:i>n})(h.current,g)),F(Qf(h.current)),A(Jf(h.current)))},[C,o]);const N=e=>{if(!n)return;const t=S.current.get(n);t&&h.current&&function(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!t)return;let i=t.scrollLeft;i=Math.min(i,e.offsetLeft-2),i=Math.max(i,e.offsetLeft+e.offsetWidth/2-t.offsetWidth/2+2),n?$f(t,i):t.scrollLeft=i}(t,h.current,e)};(0,i.useEffect)(()=>{requestAnimationFrame(()=>{N(!1)})},[x,C,o.length]),(0,i.useEffect)(()=>{N(!0)},[n]),(0,i.useEffect)(()=>{var e,t;w.current&&(null===(e=h.current)||void 0===e?void 0:e.contains(w.current.activeElement))&&w.current.activeElement!==p.current&&(null===(t=p.current)||void 0===t||t.focus({preventScroll:!0}))},[n]);const B=Gn({[ow]:!0,[Sw]:"default"===r||v}),O=Gn({[aw]:!0,[lw]:!0,[uw]:E}),G=Gn({[aw]:!0,[cw]:!0,[dw]:k}),z=(0,i.useRef)(null);function V(){var e,t;if(!f.current)return null;const n=Array.from(f.current.querySelectorAll(Lw));return null!==(t=null!==(e=n.find(e=>e.matches(Nw)))&&void 0!==e?e:n.find(e=>!e.disabled))&&void 0!==t?t:null}function H(e){var i,r;e.focus();const s=o.reduce((e,t)=>e.set(t.id,t),new Map);for(const[o,a]of S.current.entries()){const l=null===a||void 0===a?void 0:a.querySelector(".".concat(bw));if(o!==n&&l===e){_(o),P(o),(null===(i=s.get(o))||void 0===i?void 0:i.disabled)||"automatic"!==c||t({activeTabId:o,activeTabHref:null===(r=s.get(o))||void 0===r?void 0:r.href});break}}}function j(e){return Qo(e).filter(e=>{return function(e){var t,n;return null!==(n=null===(t=z.current)||void 0===t?void 0:t.isRegistered(e))&&void 0!==n&&n}(e)&&((t=e)instanceof HTMLButtonElement?!t.disabled||t.closest(Bw):t.matches(Bw));var t})}(0,i.useEffect)(()=>{var e;null===(e=z.current)||void 0===e||e.updateFocusTarget()});const W=M?"div":"ul";return i.createElement("div",{className:B},i.createElement("div",{className:rw,ref:y},x&&i.createElement("span",{ref:g,className:O},i.createElement(Ds,{formAction:"none",variant:"icon",iconName:"angle-left",disabled:!E,__focusable:!0,onClick:()=>Xf(h,"backward"),ariaLabel:m("i18nStrings.scrollLeftAriaLabel",null===u||void 0===u?void 0:u.scrollLeftAriaLabel)})),i.createElement(jr,{ref:z,navigationActive:!0,getNextFocusTarget:V,onUnregisterActive:function(e){var t;if(!!e.classList.contains(bw)){const e=null===(t=z.current)||void 0===t?void 0:t.getFocusTarget(),n=null===e||void 0===e?void 0:e.querySelector(".".concat(bw));null===n||void 0===n||n.focus()}}},i.createElement(W,Object.assign({},L,{className:Gn(sw,ew),"aria-label":a,"aria-labelledby":l,ref:h,onScroll:()=>{h.current&&(F(Qf(h.current)),A(Jf(h.current)))},onKeyDown:function(e){var i,r,a;const l=null===(i=w.current)||void 0===i?void 0:i.activeElement,u=[ir.right,ir.left,ir.end,ir.home,ir.pageUp,ir.pageDown,ir.space],c=null===(r=w.current)||void 0===r?void 0:r.querySelector(".".concat(fw,' [aria-expanded="true"]')),d=!(null===l||void 0===l?void 0:l.classList.contains(bw));if(c)return;if("Tab"===e.key&&!e.shiftKey&&d){e.preventDefault();const t="".concat(s,"-").concat(n,"-panel"),i=null===(a=w.current)||void 0===a?void 0:a.getElementById(t);null===i||void 0===i||i.focus()}if(Li(e)||-1===u.indexOf(e.keyCode))return;if(!f.current||!l)return;e.preventDefault();const p=j(f.current),g=vo(l)?p.indexOf(l):-1;$u(e,{onHome:()=>H(p[0]),onEnd:()=>H(p[p.length-1]),onInlineStart:()=>H(p[Kf(g-1,[0,p.length-1])]),onInlineEnd:()=>H(p[Kf(g+1,[0,p.length-1])]),onPageDown:()=>k&&Xf(h,"forward"),onPageUp:()=>E&&Xf(h,"backward"),onActivate:()=>{var e;return R&&R!==n&&t({activeTabId:R,activeTabHref:null===(e=o.find(e=>e.id===R))||void 0===e?void 0:e.href})}})},onFocus:function(){var e;null===(e=z.current)||void 0===e||e.updateFocusTarget()},onBlur:function(){var e;null===(e=z.current)||void 0===e||e.updateFocusTarget()}}),o.map(function(e,o){const{dismissible:r,dismissLabel:a,dismissDisabled:l,action:u,onDismiss:c}=e,d=n===e.id&&!e.disabled,h=Gn({[bw]:!0,[ww]:v,[yw]:n===e.id&&!e.disabled,[Mw]:R===e.id,[yw]:d,[tw]:d,[Cw]:e.disabled,[xw]:!e.disabled||e.disabled&&!!e.disabledReason}),g=Gn({[mw]:!0,[ww]:v,[yw]:d,[Cw]:e.disabled,[xw]:!e.disabled||e.disabled&&!!e.disabledReason}),m=Gn({[fw]:!0,[yw]:d}),C={className:h,"aria-controls":"".concat(s,"-").concat(e.id,"-panel"),"data-testid":e.id,id:zw({namespace:s,tabId:e.id}),onClick:i=>{var o;if(e.disabled)return void i.preventDefault();if(Ni(i)||!e.href){if(i.preventDefault(),!e.href){const t=S.current.get(e.id);t&&t&&t!==(null===(o=w.current)||void 0===o?void 0:o.activeElement)&&t.focus({preventScroll:!0})}e.id!==n&&(P(e.id),_(e.id),t({activeTabId:e.id,activeTabHref:e.href}))}}},b=M?{role:"group","aria-labelledby":C.id}:{};M?C["aria-expanded"]=n===e.id:(C["aria-selected"]=n===e.id,C.role="tab");e.disabled&&(C["aria-disabled"]="true");const y=M?"div":"li",x={action:"dismiss",detail:{id:e.id,label:".".concat(iw),position:"".concat(o+1)}},D={innerContext:{tabId:e.id,tabLabel:".".concat(nw),tabPosition:"".concat(o+1)}};return i.createElement(y,{ref:t=>S.current.set(e.id,t),className:pw,role:"presentation",key:e.id},i.createElement("div",Object.assign({className:g},b,Qi({component:D})),i.createElement(Gw,{ref:t=>{e.id===n&&(p.current=t),S.current.set(e.id,t)},tab:e,elementProps:C,activeTabId:n,index:o}),u&&i.createElement("span",{className:m},u),r&&i.createElement("span",Object.assign({className:vw},Qi(x)),function(e){let{dismissLabel:t,dismissDisabled:n,onDismiss:o,tabId:r}=e;return i.createElement(Ds,{onClick:o,variant:"icon",iconName:"close",formAction:"none",ariaLabel:t,disabled:n,className:Gn(Iw,iw),"data-testid":"awsui-tab-dismiss-button-".concat(r)})}({dismissLabel:a,dismissDisabled:l,onDismiss:n=>{if(!f.current||!c)return;const i=j(f.current).filter(e=>e.classList.contains(bw)),o=i.findIndex(t=>t.dataset.testid===e.id);let r;i.splice(o,1),r=T&&T!==e.id?i.find(e=>e.dataset.testid===T):i[Math.min(i.length-1,o)],r&&r.dataset.testid&&(t({activeTabId:r.dataset.testid}),_(r.dataset.testid),r.focus()),c(n)},tabId:e.id}))))}))),x&&i.createElement("span",{className:G},i.createElement(Ds,{formAction:"none",variant:"icon",iconName:"angle-right",disabled:!k,__focusable:!0,onClick:()=>Xf(h,"forward"),ariaLabel:m("i18nStrings.scrollRightAriaLabel",null===u||void 0===u?void 0:u.scrollRightAriaLabel)}))),d&&i.createElement("div",{className:hw},d))}const Gw=(0,i.forwardRef)((e,t)=>{let{tab:n,elementProps:o,activeTabId:r,index:s}=e;const a=(0,i.useRef)(null),l=(0,i.useRef)(null),u=Tt(a,t),{tabIndex:c}=Hr(a),d=n.disabled&&!!n.disabledReason,[h,p]=(0,i.useState)(!1),{targetProps:g,descriptionEl:m}=Ur(n.disabledReason),v=i.createElement(i.Fragment,null,i.createElement("span",{className:Gn(gw,nw),ref:l},i.createElement("span",null,n.label)),d&&i.createElement(i.Fragment,null,m,h&&i.createElement(Or,{className:_w,trackRef:l,value:n.disabledReason,onDismiss:()=>p(!1)}))),f={onFocus:()=>p(!0),onBlur:()=>p(!1),onMouseEnter:()=>p(!0),onMouseLeave:()=>p(!1)},w={action:"select",detail:{id:n.id,label:".".concat(nw),position:"".concat(s+1),originTabId:r||""}},C=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},o),d?g:{}),d?f:{}),{ref:u,tabIndex:c}),n.disabled||n.id===r?{}:Qi(w));return n.href?i.createElement("a",Object.assign({},C,{href:n.href}),v):i.createElement("button",Object.assign({},C,{type:"button",disabled:n.disabled&&!d}),v)});function zw(e){let{namespace:t,tabId:n}=e;return t+"-"+n}function Vw(e){var t,n,{tabs:o,variant:r="default",onChange:s,activeTabId:a,ariaLabel:l,ariaLabelledby:u,disableContentPaddings:c=!1,i18nStrings:d,fitHeight:h,keyboardActivationMode:p="automatic",actions:g}=e,m=Et(e,["tabs","variant","onChange","activeTabId","ariaLabel","ariaLabelledby","disableContentPaddings","i18nStrings","fitHeight","keyboardActivationMode","actions"]);for(const i of o)is(0,i.href);const{__internalRootRef:v}=Dn("Tabs",{props:{disableContentPaddings:c,variant:r,fitHeight:h,keyboardActivationMode:p},metadata:{hasActions:o.some(e=>!!e.action),hasHeaderActions:!!g,hasDisabledReasons:o.some(e=>!!e.disabledReason),hasEagerLoadedTabs:o.some(e=>"eager"===e.contentRenderStrategy),hasLazyLoadedTabs:o.some(e=>"lazy"===e.contentRenderStrategy)}}),f=Yi("awsui-tabs-"),[w,C]=Fn(a,0,null!==(n=null===(t=function(e){const t=e.filter(e=>!e.disabled);return t.length>0?t[0]:null}(o))||void 0===t?void 0:t.id)&&void 0!==n?n:"",{componentName:"Tabs",controlledProp:"activeTabId",changeHandler:"onChange"}),b=(0,i.useRef)(new Set);void 0!==w&&b.current.add(w);const y=zt(m),S={name:"awsui.Tabs",label:".".concat(ew)};w&&(S.properties={activeTabId:w,activeTabLabel:".".concat(tw," .").concat(nw),activeTabPosition:"".concat(o.findIndex(e=>e.id===w)+1),tabsCount:"".concat(o.length)});const x=()=>{const e=o.filter(e=>e.id===w)[0];return i.createElement("div",{className:Gn("container"===r||"stacked"===r?Tw:Rw,{[Pw]:!c})},o.map(t=>{const n=t===e,o={className:Gn({[Fw]:!0,[Aw]:n}),role:"tabpanel",id:"".concat(f,"-").concat(t.id,"-panel"),key:"".concat(f,"-").concat(t.id,"-panel"),tabIndex:0,"aria-labelledby":zw({namespace:f,tabId:t.id})},r=!t.disabled&&(n||function(e,t){switch(e.contentRenderStrategy){case"active":return!1;case"eager":return!0;case"lazy":return t.has(e.id)}return!1}(t,b.current));return i.createElement("div",Object.assign({},o),r&&t.content)}))},D=i.createElement(Ow,{activeTabId:w,variant:r,idNamespace:f,ariaLabel:l,ariaLabelledby:u,tabs:o,actions:g,onChange:e=>{C(e.activeTabId),_i(s,e)},i18nStrings:d,keyboardActivationMode:p});return"container"===r||"stacked"===r?i.createElement(Uf,Object.assign({header:D,disableHeaderPaddings:!0},y,{className:Gn(y.className,Dw),__internalRootRef:v,disableContentPaddings:!0,variant:"stacked"===r?"stacked":"default",fitHeight:h},Qi({component:S})),x()):i.createElement("div",Object.assign({},y,{className:Gn(y.className,Dw,Ew,{[kw]:h}),ref:v},Qi({component:S})),D,x())}Ln(Vw,"Tabs");const Hw=e=>Object.keys(e).filter(e=>0!==e.indexOf("__")).reduce((t,n)=>(t[n]=e[n],t),{}),jw=i.forwardRef((e,t)=>{var{options:n=[],filteringType:o="none",statusType:r="finished",triggerVariant:s="label"}=e,a=Et(e,["options","filteringType","statusType","triggerVariant"]);const l=Dn("Select",{props:{autoFocus:a.autoFocus,expandToViewport:a.expandToViewport,filteringType:o,triggerVariant:s,virtualScroll:a.virtualScroll,readOnly:a.readOnly},metadata:{hasInlineLabel:Boolean(a.inlineLabelText),hasDisabledReasons:n.some(e=>Boolean(e.disabledReason))}}),u=Hw(a),c={name:"awsui.Select",label:".".concat(Tv),properties:{disabled:"".concat(!!u.disabled),selectedOptionValue:"".concat(u.selectedOption&&u.selectedOption.value?u.selectedOption.value:null)}};return i.createElement(pf,Object.assign({options:n,filteringType:o,statusType:r,triggerVariant:s},u,l,{ref:t},Qi({component:c})))});Ln(jw,"Select");const Ww=jw,Uw=e=>{const{isInFunnel:t}=Uo();return t&&"single-page"===e.funnelType?i.createElement(i.Fragment,null,e.children):i.createElement(qw,Object.assign({},e))},Kw=e=>{ro.funnelComplete({funnelInteractionId:e.taskInteractionId,funnelIdentifier:e.taskIdentifier}),so.taskCompletionData(e),(()=>{var e;try{null===(e=window.top)||void 0===e||e.document.dispatchEvent(new Event("awsui-creation-edit-flow-done"))}catch(t){}})()};const qw=e=>{var{mounted:t=!0,children:n,stepConfiguration:o}=e,r=Et(e,["mounted","children","stepConfiguration"]);const[s,a]=(0,i.useState)(""),[l,u]=(0,i.useState)(0),c=(Cn(),(0,i.useRef)("default")),d=(0,i.useRef)(_o()),h=(0,i.useRef)(0),p=(0,i.useRef)(0),g=(0,i.useRef)(0),m=(0,i.useRef)(void 0),v=(0,i.useRef)(0);(0,i.useEffect)(()=>{if(!t)return;let e;const n=setTimeout(()=>{var t,n;if(d.current=function(e,t){for(const n of e)if(document.querySelector(n))return n;return t}((null===(t=r.funnelNameSelectors)||void 0===t?void 0:t.call(r))||[],_o()),"single-page"===r.funnelType&&g.current>0)return;c.current="default";const i=null!==(n=Oo(d.current))&&void 0!==n?n:"",s=[{number:1,isOptional:!1,name:i,stepIdentifier:r.funnelIdentifier}];let l=Gt;e=ro.funnelStart({funnelName:i,funnelIdentifier:r.funnelIdentifier,flowType:r.funnelFlowType,funnelNameSelector:d.current,optionalStepNumbers:r.optionalStepNumbers,funnelType:r.funnelType,totalFunnelSteps:r.totalFunnelSteps,componentVersion:Bt,componentTheme:l,funnelVersion:"1.4",stepConfiguration:null!==o&&void 0!==o?o:s,resourceType:r.funnelResourceType||Oo("[".concat(Eo,"]"))}),a(e)},1);return()=>{if(clearTimeout(n),!("single-page"===r.funnelType&&g.current>0)){if("validating"===c.current){const t={taskIdentifier:r.funnelIdentifier,taskType:r.funnelType,timeToRespondAfterFormSubmit:performance.now()-v.current,taskInteractionId:e,taskFlowType:r.funnelFlowType};Kw(t),c.current="complete"}"complete"===c.current?ro.funnelSuccessful({funnelInteractionId:e,funnelIdentifier:r.funnelIdentifier}):(c.current="cancelled",(e=>{let{funnelInteractionId:t,funnelIdentifier:n}=e;ro.funnelCancelled({funnelInteractionId:t,funnelIdentifier:n})})({funnelInteractionId:e,funnelIdentifier:r.funnelIdentifier}))}}},[t]);const f={funnelInteractionId:s,funnelIdentifier:r.funnelIdentifier,funnelFlowType:r.funnelFlowType,funnelErrorContext:r.funnelErrorContext,setFunnelInteractionId:a,funnelType:r.funnelType,optionalStepNumbers:r.optionalStepNumbers,totalFunnelSteps:r.totalFunnelSteps,funnelNameSelector:d.current,funnelSubmit:()=>{c.current="validating",v.current=performance.now();const e=()=>{if("complete"!==c.current)if(p.current>0)setTimeout(e,100);else if(0===h.current){const e={taskIdentifier:r.funnelIdentifier,taskType:r.funnelType,timeToRespondAfterFormSubmit:performance.now()-v.current,taskInteractionId:s,taskFlowType:r.funnelFlowType};Kw(e),c.current="complete"}else c.current="default"};setTimeout(e,50)},funnelCancel:()=>{},submissionAttempt:l,funnelNextOrSubmitAttempt:()=>u(e=>e+1),funnelState:c,errorCount:h,loadingButtonCount:p,latestFocusCleanupFunction:m,isInFunnel:!0,wizardCount:g};return i.createElement(Go.Provider,{value:f},n)},Yw=e=>i.createElement($w,Object.assign({},e,{key:e.stepNumber}));function Zw(){const e=Array.from(document.querySelectorAll(Io())).map((e,t)=>{var n,i,o,r,s;const a=null===(i=null===(n=null===e||void 0===e?void 0:e.__awsuiMetadata__)||void 0===n?void 0:n.analytics)||void 0===i?void 0:i.instanceIdentifier;return{name:null!==(s=null===(r=null===(o=e.querySelector(No()))||void 0===o?void 0:o.innerText)||void 0===r?void 0:r.trim())&&void 0!==s?s:"",number:t+1,subStepIdentifier:a}});return e}const $w=e=>{var{mounted:t=!0,children:n,stepNumber:o,stepIdentifier:r,stepErrorContext:s}=e,a=Et(e,["mounted","children","stepNumber","stepIdentifier","stepErrorContext"]);const{funnelInteractionId:l,funnelIdentifier:u,funnelNameSelector:c,funnelState:d,funnelType:h}=Uo(),p=Wo(),g=p.isInStep,m=p.funnelInteractionId,v={[xo]:o},f=(0,i.useRef)(0),w=a.stepNameSelector||c,{onStepChange:C,subStepConfiguration:b}=function(e,t){const n=(0,i.useRef)(new Map),o=(0,i.useRef)(!1);return(0,i.useEffect)(()=>{const e=setTimeout(()=>o.current=!0,50);return()=>{clearTimeout(e),o.current=!1}},[]),(0,i.useEffect)(()=>{const t=setTimeout(()=>n.current.set(e,Zw()),50);return()=>{clearTimeout(t)}},[e]),{onStepChange:Ug(()=>{o.current&&(n.current.set(e,Zw()),t(n.current.get(e)))},50),subStepConfiguration:n}}(o,e=>{l&&ro.funnelStepChange({stepIdentifier:r,funnelIdentifier:u,funnelInteractionId:l,stepNumber:o,stepNameSelector:w,subStepAllSelector:Io(),totalSubSteps:f.current,subStepConfiguration:e})});(0,i.useEffect)(()=>{if(!l)return;if(t)return;const e=Oo(w),n=setTimeout(()=>{"cancelled"!==d.current&&ro.funnelStepComplete({funnelIdentifier:u,funnelInteractionId:l,stepIdentifier:r,stepNumber:o,stepName:e,stepNameSelector:w,subStepAllSelector:Io(),totalSubSteps:f.current})},0);return()=>{clearTimeout(n)}},[r,u,l,o,w,d,g,h,m,t]),(0,i.useEffect)(()=>{if(!l)return;if(g&&m)return;const e=Oo(w);return"default"===d.current&&ro.funnelStepStart({stepIdentifier:r,funnelIdentifier:u,funnelInteractionId:l,stepNumber:o,stepName:e,stepNameSelector:w,subStepAllSelector:Io(),totalSubSteps:f.current,subStepConfiguration:Zw()}),()=>{"cancelled"!==d.current&&ro.funnelStepComplete({funnelIdentifier:u,funnelInteractionId:l,stepIdentifier:r,stepNumber:o,stepName:e,stepNameSelector:w,subStepAllSelector:Io(),totalSubSteps:f.current})}},[r,u,l,o,w,d,g,h,m]);const y=g&&m?p:{stepIdentifier:r,stepNumber:o,stepNameSelector:w,funnelStepProps:v,subStepCount:f,isInStep:!0,funnelInteractionId:l,onStepChange:C,subStepConfiguration:b,stepErrorContext:s};return i.createElement(zo.Provider,{value:y},"function"===typeof n?n(y):n)},Xw=e=>{let{children:t,subStepIdentifier:n,subStepErrorContext:o}=e;const r=Yi("substep"),s=Lo(r),a=No(r),l=(0,i.useRef)(null),{subStepCount:u,onStepChange:c}=Wo(),d=(0,i.useRef)(!1),h=(0,i.useRef)(!1),p=(0,i.useRef)(void 0),{funnelState:g,funnelInteractionId:m}=Uo(),{stepNumber:v,stepNameSelector:f}=Wo(),w={subStepIdentifier:n,subStepErrorContext:o,subStepSelector:s,subStepNameSelector:a,subStepId:r,subStepRef:l,mousePressed:d,isFocusedSubStep:h,focusCleanupFunction:p,isNestedSubStep:!1},C=Object.assign(Object.assign({},(0,i.useContext)(Vo)),{isNestedSubStep:!0}),b=Boolean(C.subStepId);(0,i.useEffect)(()=>{if(!b)return u.current++,c(),()=>{u.current--,c()}},[b,u,c]);const y=b?C:w;return(0,i.useEffect)(()=>{if(b||!l.current)return;const e=new AbortController;return window.addEventListener("mousedown",()=>d.current=!0,{signal:e.signal}),window.addEventListener("mouseup",()=>Ft(void 0,void 0,void 0,function*(){var e;d.current=!1,h.current&&(yield new Promise(e=>setTimeout(e,1)),l.current&&document.activeElement&&wo(l.current,document.activeElement)||(h.current=!1,null===(e=p.current)||void 0===e||e.call(p)))}),{signal:e.signal}),()=>{e.abort()}},[m,g,f,v,a,s,p,b,l]),i.createElement(Vo.Provider,{value:y},"function"===typeof t?t(y):t)};function Qw(e){var{variant:t="default",disableHeaderPaddings:n=!1,disableContentPaddings:o=!1,fitHeight:r=!1}=e,s=Et(e,["variant","disableHeaderPaddings","disableContentPaddings","fitHeight"]);const a=Vt(s),l=Dn("Container",{props:{disableContentPaddings:o,disableHeaderPaddings:n,fitHeight:r,variant:t},metadata:{hasInstanceIdentifier:Boolean(null===a||void 0===a?void 0:a.instanceIdentifier)}},a),u=Hw(s);return i.createElement(Xw,{subStepIdentifier:null===a||void 0===a?void 0:a.instanceIdentifier,subStepErrorContext:null===a||void 0===a?void 0:a.errorContext},i.createElement(Wf,Object.assign({variant:t,disableContentPaddings:o,disableHeaderPaddings:n,fitHeight:r},s,u,l,Qi({component:{name:"awsui.Container",label:{root:"self"}}}))))}Ln(Qw,"Container");const Jw=e=>i.createElement(Qw,e);Ln(Jw,"Container");const eC=Jw,tC={"css-grid":"awsui_css-grid_zqq3x_1t536_181","grid-no-gutters":"awsui_grid-no-gutters_zqq3x_1t536_192","grid-variant-text-grid":"awsui_grid-variant-text-grid_zqq3x_1t536_195",item:"awsui_item_zqq3x_1t536_195","first-column":"awsui_first-column_zqq3x_1t536_212"};function nC(e){let{columns:t=1,minColumnWidth:n=0,disableGutters:o,variant:r,children:s,__tagOverride:a}=e;const[l,u]=Ri(e=>e.contentBoxWidth),c=function(e,t,n){if(!n)return e;const i=Math.min(e,Math.floor(n/t));return Math.max(1,i<e&&i%2!==0?i-1:i)}(t,n,l),d="text-grid"!==r&&o,h=kp(s),p=null!==a&&void 0!==a?a:"div";return i.createElement(p,{ref:u,className:Gn(tC["css-grid"],tC["grid-variant-".concat(r)],d&&[tC["grid-no-gutters"]]),style:{gridTemplateColumns:"repeat(".concat(c,", minmax(0, 1fr))")}},h.map((e,t)=>{const n=e.key;return i.createElement("div",{key:n?String(n):void 0,className:Gn(tC.item,{[tC["first-column"]]:t%c===0})},e)}))}function iC(e,t){const n=[];for(let i=0;i<t;i++)n[i]=e;return n}const oC={"column-layout":"awsui_column-layout_vvxn7_u5w81_181",grid:"awsui_grid_vvxn7_u5w81_213","grid-no-gutters":"awsui_grid-no-gutters_vvxn7_u5w81_219","grid-variant-text-grid":"awsui_grid-variant-text-grid_vvxn7_u5w81_223","grid-breakpoint-default":"awsui_grid-breakpoint-default_vvxn7_u5w81_231","grid-columns-1":"awsui_grid-columns-1_vvxn7_u5w81_234","grid-breakpoint-xxs":"awsui_grid-breakpoint-xxs_vvxn7_u5w81_234","grid-breakpoint-xs":"awsui_grid-breakpoint-xs_vvxn7_u5w81_237","grid-columns-2":"awsui_grid-columns-2_vvxn7_u5w81_240","grid-columns-3":"awsui_grid-columns-3_vvxn7_u5w81_246","grid-columns-4":"awsui_grid-columns-4_vvxn7_u5w81_252","grid-vertical-borders":"awsui_grid-vertical-borders_vvxn7_u5w81_268","grid-horizontal-borders":"awsui_grid-horizontal-borders_vvxn7_u5w81_301"},rC={1:{colspan:{default:12,xxs:12,xs:12}},2:{colspan:{default:12,xxs:6,xs:6}},3:{colspan:{default:12,xxs:6,xs:4}},4:{colspan:{default:12,xxs:6,xs:3}}};function sC(e){let{columns:t,variant:n,borders:o,disableGutters:r,__breakpoint:s,children:a,__tagOverride:l}=e;var u;const c="text-grid"===n,d=!c&&r,h=!c&&("horizontal"===o||"all"===o),p=!c&&("vertical"===o||"all"===o),g=kp(a),[m,v]=Ip(aC);return i.createElement(Op,{ref:v,disableGutters:!0,gridDefinition:iC(null!==(u=rC[t])&&void 0!==u?u:{},g.length),className:Gn(oC.grid,oC["grid-columns-".concat(t)],oC["grid-variant-".concat(n)],{[oC["grid-horizontal-borders"]]:h,[oC["grid-vertical-borders"]]:p,[oC["grid-no-gutters"]]:d}),__breakpoint:s||m,__responsiveClassName:e=>e&&oC["grid-breakpoint-".concat(e)],__tagOverride:l},a)}const aC=["default","xxs","xs"];function lC(e){var{columns:t=1,variant:n="default",borders:o="none",disableGutters:r=!1,minColumnWidth:s,children:a,__tagOverride:l,__breakpoint:u,__internalRootRef:c}=e;const d=zt(Et(e,["columns","variant","borders","disableGutters","minColumnWidth","children","__tagOverride","__breakpoint","__internalRootRef"]));return i.createElement("div",Object.assign({},d,{className:Gn(d.className,oC["column-layout"]),ref:c}),s?i.createElement(nC,{columns:t,borders:o,variant:n,minColumnWidth:s,disableGutters:r,__tagOverride:l},a):i.createElement(sC,{columns:t,variant:n,borders:o,disableGutters:r,__breakpoint:u,__tagOverride:l},a))}function uC(e){var{columns:t=1,variant:n="default",borders:o="none",disableGutters:r=!1}=e,s=Et(e,["columns","variant","borders","disableGutters"]);const a=Dn("ColumnLayout",{props:{borders:o,columns:t,disableGutters:r,minColumnWidth:s.minColumnWidth,variant:n}}),l=Hw(s);return i.createElement(lC,Object.assign({columns:t,variant:n,borders:o,disableGutters:r},l,a))}function cC(e){var{variant:t="div",margin:n={},padding:o={}}=e,r=Et(e,["variant","margin","padding"]);const s=Dn("Box",{props:{color:r.color,display:r.display,float:r.float,fontSize:r.fontSize,fontWeight:r.fontWeight,textAlign:r.textAlign,variant:t}});return i.createElement(Ua,Object.assign({variant:t,margin:n,padding:o},r,s))}Ln(uC,"ColumnLayout"),Ln(cC,"Box");const dC={root:"awsui_root_gfwv3_dgb5v_193",horizontal:"awsui_horizontal_gfwv3_dgb5v_196",vertical:"awsui_vertical_gfwv3_dgb5v_202",list:"awsui_list_gfwv3_dgb5v_207",grid:"awsui_grid_gfwv3_dgb5v_226","list-item":"awsui_list-item_gfwv3_dgb5v_238","toggle-container-inline":"awsui_toggle-container-inline_gfwv3_dgb5v_245",toggle:"awsui_toggle_gfwv3_dgb5v_245",description:"awsui_description_gfwv3_dgb5v_337",separator:"awsui_separator_gfwv3_dgb5v_341"};function hC(e){let{controlId:t,allHidden:n,expanded:o,numberOfHiddenOptions:r,onClick:s,i18nStrings:a={},limitShowFewerAriaLabel:l,limitShowMoreAriaLabel:u}=e;const c=Mt("token-group"),d=n?r:"+".concat(r),h=o?c("i18nStrings.limitShowFewer",a.limitShowFewer):"".concat(c("i18nStrings.limitShowMore",a.limitShowMore)||""," (").concat(d,")"),p=o?l:u,g=(0,i.useCallback)(()=>{_i(s,null)},[s]),m={action:o?"showLess":"showMore",detail:{label:{root:"self"}}};return i.createElement("button",Object.assign({type:"button",className:dC.toggle,onClick:g,"aria-controls":t,"aria-expanded":o,"aria-label":p},Qi(m)),i.createElement(oo,{name:o?"treeview-collapse":"treeview-expand"}),i.createElement("span",{className:dC.description},h))}function pC(e){let{items:t,alignment:n,renderItem:o,limit:r,after:s,i18nStrings:a,limitShowFewerAriaLabel:l,limitShowMoreAriaLabel:u,onExpandedClick:c=()=>{}}=e;const d=Yi(),[h,p]=(0,i.useState)(!1),g=t.length>0,m=g&&void 0!==r&&t.length>r,v=m&&!h?t.slice(0,r):t,f=v.length>0,w=m?i.createElement("div",{className:dC["toggle-container-".concat(n)]},i.createElement(hC,{controlId:f?d:void 0,allHidden:0===r,expanded:h,numberOfHiddenOptions:t.length-v.length,i18nStrings:a,limitShowFewerAriaLabel:l,limitShowMoreAriaLabel:u,onClick:()=>{const e=!h;p(e),c(e)}})):null;return"inline"===n?i.createElement("div",{className:Gn(dC.root,dC.horizontal)},g&&i.createElement("ul",{id:d,className:dC.list},v.map((e,n)=>i.createElement("li",{key:n,className:dC["list-item"],"aria-setsize":t.length,"aria-posinset":n+1},o(e,n)))),w,s&&i.createElement("div",{className:dC.separator}),s):i.createElement("div",{className:Gn(dC.root,dC.vertical)},f&&i.createElement("ul",{id:d,className:Gn(dC.list,{[dC.vertical]:"vertical"===n,[dC.horizontal]:"horizontal"===n,[dC.grid]:"horizontal-grid"===n})},v.map((e,n)=>i.createElement("li",{key:n,className:dC["list-item"],"aria-setsize":t.length,"aria-posinset":n+1},o(e,n)))),w,s)}function gC(e){let{nextFocusIndex:t,onFocusMoved:n,listItemSelector:o,fallbackSelector:r,showMoreSelector:s}=e;const a=(0,i.useRef)(null);return(0,i.useEffect)(()=>{if(void 0===t||null===t||null===a.current)return;const e=a.current.querySelectorAll(o),i=r?vC(a.current,r):null,l=s?vC(a.current,s):null;let u=Number.NEGATIVE_INFINITY,c=Number.POSITIVE_INFINITY;for(let n=0;n<e.length;n++)n<t?u=t-n<t-u?n:u:c=n-t<c-t?n:c;const d=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(const{id:i,element:o}of t){const e=o?mC(o):null;if(e)return{id:i,element:e}}return null}({id:"next",element:e[c]},{id:"prev",element:e[u]},{id:"show-more",element:l},{id:"fallback",element:i});d&&n(d.element,d.id)},[t,o,r,s]),a}function mC(e){return e instanceof HTMLElement?function(e){return e.matches(Xo)}(e)?e:er(e):null}function vC(e,t){return e.matches(t)?e:e.querySelector(t)}const fC="awsui_root_dm8gx_1a95u_161",wC="awsui_has-items_dm8gx_1a95u_192",CC="awsui_no-padding_dm8gx_1a95u_192",bC="awsui_dismiss-button_dm8gx_1a95u_196",yC="awsui_token_dm8gx_1a95u_238",SC="awsui_token-box_dm8gx_1a95u_245",xC="awsui_token-box-readonly_dm8gx_1a95u_265",DC="awsui_token-box-disabled_dm8gx_1a95u_279",EC=(0,i.forwardRef)(function(e,t){let{disabled:n,dismissLabel:o,onDismiss:r,readOnly:s}=e;return i.createElement("button",Object.assign({ref:t,type:"button",className:bC,"aria-disabled":!(!n&&!s)||void 0,onClick:()=>{n||s||!r||r()},"aria-label":o},n||s?{}:Qi({action:"dismiss",detail:{label:{root:"self"}}})),i.createElement(oo,{name:"close"}))});function FC(e){var{ariaLabel:t,disabled:n,readOnly:o,dismissLabel:r,onDismiss:s,children:a}=e;const l=zt(Et(e,["ariaLabel","disabled","readOnly","dismissLabel","onDismiss","children"]));return i.createElement("div",Object.assign({},l,{className:Gn(yC,l.className),role:"group","aria-label":t,"aria-disabled":n}),i.createElement("div",{className:Gn(SC,n&&DC,o&&xC)},a,s&&i.createElement(EC,{disabled:n,dismissLabel:r,onDismiss:s,readOnly:o})))}function kC(e){var{alignment:t,items:n,onDismiss:o,limit:r,i18nStrings:s,disableOuterPadding:a,limitShowFewerAriaLabel:l,limitShowMoreAriaLabel:u,readOnly:c,isItemReadOnly:d,__internalRootRef:h}=e,p=Et(e,["alignment","items","onDismiss","limit","i18nStrings","disableOuterPadding","limitShowFewerAriaLabel","limitShowMoreAriaLabel","readOnly","isItemReadOnly","__internalRootRef"]);Wg();const[g,m]=(0,i.useState)(null),v=gC({nextFocusIndex:g,onFocusMoved:e=>{e.focus(),m(null)},listItemSelector:".".concat(dC["list-item"]),showMoreSelector:".".concat(dC.toggle)}),f=zt(p),w=n.length>0,C=Tt(h,v);return i.createElement("div",Object.assign({},f,{className:Gn(f.className,fC,w&&wC,a&&CC),ref:C}),i.createElement(pC,{alignment:t,items:n,limit:r,renderItem:(e,t)=>i.createElement(FC,Object.assign({ariaLabel:e.label,dismissLabel:e.dismissLabel,onDismiss:()=>{_i(o,{itemIndex:t}),m(t)},disabled:e.disabled,readOnly:c||(null===d||void 0===d?void 0:d(e))},e.disabled||c?{}:Qi({detail:{position:"".concat(t+1)}})),i.createElement(tv,{option:e,isGenericGroup:!1})),i18nStrings:s,limitShowFewerAriaLabel:l,limitShowMoreAriaLabel:u,onExpandedClick:e=>{m(e&&r?r:null)}}))}function AC(e){var{options:t,filteringType:n,filteringResultsText:o,disabled:r,statusType:s,empty:a,loadingText:l,finishedText:u,errorText:c,noMatch:d,renderHighlightedAriaLive:h,selectedOptions:p,deselectAriaLabel:g,keepOpen:m,onBlur:v,onFocus:f,onLoadItems:w,onChange:C,controlId:b,ariaLabelId:y,footerId:S,filteringValue:x,setFilteringValue:D,externalRef:E,embedded:F,enableSelectAll:k,i18nStrings:A}=e,R=Et(e,["options","filteringType","filteringResultsText","disabled","statusType","empty","loadingText","finishedText","errorText","noMatch","renderHighlightedAriaLive","selectedOptions","deselectAriaLabel","keepOpen","onBlur","onFocus","onLoadItems","onChange","controlId","ariaLabelId","footerId","filteringValue","setFilteringValue","externalRef","embedded","enableSelectAll","i18nStrings"]);ef();const P=Mt("multiselect"),T=Mt("select"),_=T("recoveryText",R.recoveryText),M=T("errorIconAriaLabel",R.errorIconAriaLabel),I=T("selectedAriaLabel",R.selectedAriaLabel);R.recoveryText&&!w&&Pt();const{handleLoadMore:L,handleRecoveryClick:N,fireLoadItems:B}=of({onLoadItems:w,options:t,statusType:s}),O=!0,{flatOptions:G,filteredOptions:z,parentMap:V,totalCount:H,matchesCount:j}=jg(t,n,x),W={type:"select-all",afterHeader:"none"!==n,option:{label:P("i18nStrings.selectAllText",null===A||void 0===A?void 0:A.selectAllText)}},U=k&&z.length?[W,...z]:z,K=G.filter(e=>"parent"!==e.type).map(e=>e.option),q=z.filter(e=>"parent"!==e.type).map(e=>e.option),Y=(0,i.useMemo)(()=>new Set(p.map(e=>e.value)),[p]),Z=p.length>0,$=Z&&q.every(e=>e.disabled||Y.has(e.value)),X=K.every(e=>Y.has(e.value)),Q=(0,i.useCallback)(e=>{const t=e=>e.every(e=>uf(p,e)>-1||e.disabled),n=(e,t)=>((e,t)=>e.filter(e=>-1===uf(t,e)).concat(t))(t,e),i=(e,t)=>t.filter(t=>-1===uf(e,t));let o=[...p];if(Hg(e)){const r=((e,t)=>e.filter(e=>uf(t,e)>-1&&!e.disabled))([...e.options],q);o=t(r)?i(r,o):n(r,o)}else o=t([e])?i([e],o):n([e],o);_i(C,{selectedOptions:o})},[p,C,q]),J=(0,i.useRef)(null),{isOpen:ee,highlightType:te,highlightedOption:ne,highlightedIndex:ie,getTriggerProps:oe,getDropdownProps:re,getFilterProps:se,getMenuProps:ae,getOptionProps:le,highlightOption:ue,announceSelected:ce}=cf({selectedOptions:p,updateSelectedOption:Q,options:U,filteringType:n,onFocus:f,onBlur:v,externalRef:E,keepOpen:m,fireLoadItems:B,setFilteringValue:D,useInteractiveGroups:O,statusType:s,embedded:F,isAllSelected:X,isSomeSelected:Z,toggleAll:()=>{const e=new Set(q.map(e=>e.value));_i(C,{selectedOptions:$?p.filter(t=>!e.has(t.value)):K.filter(t=>{let{disabled:n,value:i}=t;return Y.has(i)||!n&&e.has(i)})})}}),de=rf({isEnabled:"none"===n&&ee,options:U,highlightOption:ue,highlightedOption:null===ne||void 0===ne?void 0:ne.option,useInteractiveGroups:O}),he=!t||0===t.length,pe=z&&0===z.length,ge="none"!==n&&x.length>0&&z&&z.length>0,me=ge?null===o||void 0===o?void 0:o(j,H):void 0,ve=Rg({statusType:s,empty:a,loadingText:l,finishedText:u,errorText:c,recoveryText:_,isEmpty:he,isNoMatch:pe,noMatch:d,isFiltered:ge,filteringResultsText:me,onRecoveryClick:N,errorIconAriaLabel:M,hasRecoveryCallback:!!w}),fe=nf({announceSelected:ce,highlightedOption:ne,getParent:e=>{var t;return null===(t=V.get(e))||void 0===t?void 0:t.option},selectedAriaLabel:I,renderHighlightedAriaLive:h}),we=p.map(e=>({label:e.label,disabled:r||e.disabled,labelTag:e.labelTag,description:e.description,iconAlt:e.iconAlt,iconName:e.iconName,iconUrl:e.iconUrl,iconSvg:e.iconSvg,tags:e.tags,dismissLabel:P("deselectAriaLabel",null===g||void 0===g?void 0:g(e),t=>{var n;return t({option__label:null!==(n=e.label)&&void 0!==n?n:""})})}));(0,i.useEffect)(()=>{var e;null===(e=J.current)||void 0===e||e.call(J,ie)},[ie]);const Ce=e=>{e.target!==document.activeElement&&e.preventDefault()},be=e=>{let{detail:t}=e;const n=p[t.itemIndex];Q(n);const i=oe().ref;i.current&&i.current.focus()};return{isOpen:ee,tokens:we,announcement:fe,dropdownStatus:ve,filteringValue:x,filteredOptions:U,highlightType:te,scrollToIndex:J,getFilterProps:se,getTriggerProps:oe,getMenuProps:()=>Object.assign(Object.assign({},ae()),{onLoadMore:L,ariaLabelledby:Hp(y,b),ariaDescribedby:ve.content?S:void 0,embedded:F}),getOptionProps:le,getTokenProps:()=>({onDismiss:be}),getDropdownProps:()=>Object.assign(Object.assign({},re()),{onMouseDown:Ce}),getWrapperProps:()=>({onKeyDown:de}),highlightedIndex:ie}}const RC="awsui_root_f8g6q_anlz5_145",PC="awsui_tokens_f8g6q_anlz5_210",TC=i.forwardRef((e,t)=>{var n,{options:o,filteringType:r,filteringPlaceholder:s,filteringAriaLabel:a,filteringClearAriaLabel:l,ariaRequired:u,placeholder:c,disabled:d,readOnly:h,ariaLabel:p,inlineLabelText:g,selectedOptions:m,deselectAriaLabel:v,tokenLimit:f,i18nStrings:w,virtualScroll:C,inlineTokens:b=!1,hideTokens:y,expandToViewport:S,tokenLimitShowFewerAriaLabel:x,tokenLimitShowMoreAriaLabel:D,__internalRootRef:E,autoFocus:F,enableSelectAll:k}=e,A=Et(e,["options","filteringType","filteringPlaceholder","filteringAriaLabel","filteringClearAriaLabel","ariaRequired","placeholder","disabled","readOnly","ariaLabel","inlineLabelText","selectedOptions","deselectAriaLabel","tokenLimit","i18nStrings","virtualScroll","inlineTokens","hideTokens","expandToViewport","tokenLimitShowFewerAriaLabel","tokenLimitShowMoreAriaLabel","__internalRootRef","autoFocus","enableSelectAll"]);const R=zt(A),P=zp(A),T=Mt("multiselect"),_=Yi("trigger"),M=null!==(n=P.controlId)&&void 0!==n?n:_,I=Yi("multiselect-ariaLabel-"),L=Yi("multiselect-footer-"),[N,B]=(0,i.useState)(""),O=AC(Object.assign({options:o,selectedOptions:m,filteringType:r,disabled:d,deselectAriaLabel:v,controlId:M,ariaLabelId:I,footerId:L,filteringValue:N,setFilteringValue:B,externalRef:t,enableSelectAll:k,i18nStrings:w},A)),G=i.createElement(fm,Object.assign({clearAriaLabel:l,filteringType:r,placeholder:s,ariaLabel:a,ariaRequired:u,value:N},O.getFilterProps())),z=i.createElement(Lv,Object.assign({placeholder:c,disabled:d,readOnly:h,triggerProps:O.getTriggerProps(d,F),selectedOption:null,selectedOptions:m,triggerVariant:b?"tokens":"placeholder",isOpen:O.isOpen,inlineLabelText:g},P,{controlId:M,ariaLabelledby:Hp(P.ariaLabelledby,I)})),V=m.map(e=>({label:e.label,disabled:d,labelTag:e.labelTag,description:e.description,iconAlt:e.iconAlt,iconName:e.iconName,iconUrl:e.iconUrl,iconSvg:e.iconSvg,tags:e.tags,dismissLabel:T("deselectAriaLabel",null===v||void 0===v?void 0:v(e),t=>{var n;return t({option__label:null!==(n=e.label)&&void 0!==n?n:""})}),_readOnly:!!e.disabled})),H=C?Jv:Pv,j=!y&&!b&&V.length>0,W={limitShowFewer:null===w||void 0===w?void 0:w.tokenLimitShowFewer,limitShowMore:null===w||void 0===w?void 0:w.tokenLimitShowMore},U=O.dropdownStatus,K=O.getDropdownProps(),q=O.filteredOptions.length>0;return i.createElement("div",Object.assign({},R,{ref:E,className:Gn(RC,R.className)},O.getWrapperProps()),i.createElement(El,Object.assign({},K,{ariaLabelledby:K.dropdownContentRole?Hp(I,M):void 0,ariaDescribedby:K.dropdownContentRole&&U.content?L:void 0,open:O.isOpen,trigger:z,header:G,footer:U.isSticky?i.createElement(Ig,{content:O.isOpen?U.content:null,id:L}):null,expandToViewport:S,stretchBeyondTriggerWidth:!0}),i.createElement(H,{listBottom:U.isSticky?null:i.createElement(Ig,{content:O.isOpen?U.content:null,id:L}),menuProps:O.getMenuProps(),getOptionProps:O.getOptionProps,filteredOptions:O.filteredOptions,filteringValue:N,ref:O.scrollToIndex,hasDropdownStatus:null!==U.content,checkboxes:!0,useInteractiveGroups:!0,screenReaderContent:O.announcement,highlightType:O.highlightType,firstOptionSticky:q&&k})),j&&i.createElement(kC,Object.assign({},O.getTokenProps(),{className:PC,alignment:"horizontal",limit:f,items:V,i18nStrings:W,limitShowMoreAriaLabel:D,limitShowFewerAriaLabel:x,disableOuterPadding:!0,readOnly:h,isItemReadOnly:e=>e._readOnly})),i.createElement(id,{id:I},p||g))}),_C=TC,MC="awsui_root_1px7g_143y5_145",IC="awsui_chart-filter_1px7g_143y5_177",LC="awsui_custom-icon-wrapper_1px7g_143y5_181",NC=(0,i.memo)(function(e){var{series:t,i18nStrings:n,selectedSeries:o,onChange:r}=e,s=Et(e,["series","i18nStrings","selectedSeries","onChange"]);const a=zt(s),l=Gn(a.className,MC),u=Mt("[charts]"),c=t.map((e,t)=>({label:e.label,value:""+t,datum:e.datum,__customIcon:i.createElement("span",{className:LC},e.marker)})),d=c.filter(e=>-1!==(null===o||void 0===o?void 0:o.indexOf(e.datum))),h=(0,i.useCallback)(e=>{let{detail:{selectedOptions:t}}=e;const n=c.filter(e=>-1!==t.indexOf(e)).map(e=>e.datum);r(n)},[r,c]);return i.createElement(mg,Object.assign({},a,{label:u("i18nStrings.filterLabel",null===n||void 0===n?void 0:n.filterLabel),className:l}),i.createElement(_C,{placeholder:u("i18nStrings.filterPlaceholder",null===n||void 0===n?void 0:n.filterPlaceholder),options:c,selectedOptions:d,onChange:h,className:IC,selectedAriaLabel:null===n||void 0===n?void 0:n.filterSelectedAriaLabel,filteringType:"none",statusType:"finished",keepOpen:!0,hideTokens:!0}))});const BC={marker:"awsui_marker_1isd1_1esa0_145","marker--line":"awsui_marker--line_1isd1_1esa0_185","marker--rectangle":"awsui_marker--rectangle_1isd1_1esa0_189","marker--hollow-rectangle":"awsui_marker--hollow-rectangle_1isd1_1esa0_196","marker--dashed":"awsui_marker--dashed_1isd1_1esa0_212"},OC=(0,i.memo)(function(e){let{type:t="line",color:n}=e;return i.createElement("span",{className:Gn(BC.marker,BC["marker--".concat(t)]),style:{backgroundColor:n},"aria-hidden":"true"})});const GC="awsui_root_11n0s_1s2zk_9",zC="awsui_empty_11n0s_1s2zk_13";function VC(e){let{externalData:t,visibleData:n,statusType:i}=e;const o=!n||0===n.length;return{isEmpty:o,isNoMatch:o&&n.length!==t.length,showChart:"finished"===i&&!o}}function HC(e){let{statusType:t,errorText:n,loadingText:o,recoveryText:r,noMatch:s,empty:a,onRecoveryClick:l,isNoMatch:u,isEmpty:c,showChart:d}=e;const h=Mt("[charts]"),p=(0,i.useMemo)(()=>{const e=e=>{e.preventDefault(),_i(l)};if("error"===t){const t=h("recoveryText",r);return i.createElement("span",null,i.createElement(Fg,{type:"error"},h("errorText",n))," ",!!t&&!!l&&i.createElement(Dg,{onFollow:e,variant:"recovery"},t))}return"loading"===t?i.createElement(Fg,{type:"loading"},h("loadingText",o)):u?i.createElement("div",{className:zC},s):c?i.createElement("div",{className:zC},a):void 0},[h,t,l,c,u,r,o,n,a,s]);return i.createElement("div",{className:GC},i.createElement(cs,null,!d&&p))}const jC={wrapper:"awsui_wrapper_z5mul_rqo6_181","wrapper--fit-height":"awsui_wrapper--fit-height_z5mul_rqo6_214","inner-wrapper--fit-height":"awsui_inner-wrapper--fit-height_z5mul_rqo6_219","has-default-filter":"awsui_has-default-filter_z5mul_rqo6_225",content:"awsui_content_z5mul_rqo6_229","content--reserve-filter":"awsui_content--reserve-filter_z5mul_rqo6_236","content--reserve-legend":"awsui_content--reserve-legend_z5mul_rqo6_240","content--fit-height":"awsui_content--fit-height_z5mul_rqo6_244","filter-container":"awsui_filter-container_z5mul_rqo6_248"},WC=(0,i.forwardRef)((e,t)=>{var{defaultFilter:n,additionalFilters:o,reserveFilterSpace:r,reserveLegendSpace:s,chartStatus:a,chart:l,legend:u,onBlur:c,contentClassName:d,contentMinHeight:h,fitHeight:p}=e;const g=zt(Et(e,["defaultFilter","additionalFilters","reserveFilterSpace","reserveLegendSpace","chartStatus","chart","legend","onBlur","contentClassName","contentMinHeight","fitHeight"])),m=(n||o)&&i.createElement(Ua,{className:jC["filter-container"],margin:{bottom:"l"}},i.createElement(Pp,{size:"l",direction:"horizontal",className:Gn({[jC["has-default-filter"]]:!!n})},n,o)),v=u&&i.createElement(Ua,{margin:{top:"m"}},u);return p?i.createElement("div",Object.assign({ref:t},g,{className:Gn(g.className,jC.wrapper,jC["wrapper--fit-height"]),onBlur:c}),i.createElement("div",{className:Gn(jC["inner-wrapper"],jC["inner-wrapper--fit-height"])},m,i.createElement("div",{className:Gn(jC.content,d,{[jC["content--reserve-filter"]]:r,[jC["content--reserve-legend"]]:s,[jC["content--fit-height"]]:!0})},a,l),v)):i.createElement("div",Object.assign({ref:t},g,{className:Gn(g.className,jC.wrapper),onBlur:c}),m,i.createElement("div",{className:Gn(jC.content,d,{[jC["content--reserve-filter"]]:r,[jC["content--reserve-legend"]]:s}),style:{minHeight:h}},a,l),v)}),UC=["var(--color-charts-palette-categorical-1-xu0deg, #688ae8)","var(--color-charts-palette-categorical-2-ktit09, #c33d69)","var(--color-charts-palette-categorical-3-g0srj0, #2ea597)","var(--color-charts-palette-categorical-4-5vauwp, #8456ce)","var(--color-charts-palette-categorical-5-3v8ery, #e07941)","var(--color-charts-palette-categorical-6-ztdd8d, #3759ce)","var(--color-charts-palette-categorical-7-3j5o6w, #962249)","var(--color-charts-palette-categorical-8-c5r39m, #096f64)","var(--color-charts-palette-categorical-9-8n6iuv, #6237a7)","var(--color-charts-palette-categorical-10-opta0w, #a84401)","var(--color-charts-palette-categorical-11-b2r7jc, #273ea5)","var(--color-charts-palette-categorical-12-b5drtm, #780d35)","var(--color-charts-palette-categorical-13-c69xg9, #03524a)","var(--color-charts-palette-categorical-14-db19x8, #4a238b)","var(--color-charts-palette-categorical-15-8z8vjw, #7e3103)","var(--color-charts-palette-categorical-16-549jkl, #1b2b88)","var(--color-charts-palette-categorical-17-nrio7t, #ce567c)","var(--color-charts-palette-categorical-18-tm902v, #003e38)","var(--color-charts-palette-categorical-19-ujcr86, #9469d6)","var(--color-charts-palette-categorical-20-h55e4g, #602400)","var(--color-charts-palette-categorical-21-vs0u8l, #4066df)","var(--color-charts-palette-categorical-22-6klt3l, #a32952)","var(--color-charts-palette-categorical-23-3zpkdt, #0d7d70)","var(--color-charts-palette-categorical-24-z9a4uk, #6b40b2)","var(--color-charts-palette-categorical-25-tgdsk2, #bc4d01)","var(--color-charts-palette-categorical-26-lo8zn9, #2c46b1)","var(--color-charts-palette-categorical-27-bruhsa, #81143b)","var(--color-charts-palette-categorical-28-6b00fb, #045b52)","var(--color-charts-palette-categorical-29-aurmid, #512994)","var(--color-charts-palette-categorical-30-fjnmd7, #8a3603)","var(--color-charts-palette-categorical-31-7zcct5, #1f3191)","var(--color-charts-palette-categorical-32-rrda6y, #da7596)","var(--color-charts-palette-categorical-33-2v0mzv, #01443e)","var(--color-charts-palette-categorical-34-g9a9q3, #a783e1)","var(--color-charts-palette-categorical-35-u0w821, #692801)","var(--color-charts-palette-categorical-36-tthuf8, #5978e3)","var(--color-charts-palette-categorical-37-y588bl, #b1325c)","var(--color-charts-palette-categorical-38-qdh97u, #1c8e81)","var(--color-charts-palette-categorical-39-yisq6l, #7749bf)","var(--color-charts-palette-categorical-40-yeer1v, #cc5f21)","var(--color-charts-palette-categorical-41-tu9dxw, #314fbf)","var(--color-charts-palette-categorical-42-q410kp, #8b1b42)","var(--color-charts-palette-categorical-43-dwew7q, #06645a)","var(--color-charts-palette-categorical-44-2thp96, #59309d)","var(--color-charts-palette-categorical-45-6kinj6, #983c02)","var(--color-charts-palette-categorical-46-iefxfq, #23379b)","var(--color-charts-palette-categorical-47-9l9wl2, #6f062f)","var(--color-charts-palette-categorical-48-5s2n0r, #014b44)","var(--color-charts-palette-categorical-49-bub0l1, #431d84)","var(--color-charts-palette-categorical-50-utrpu5, #732c02)"];function KC(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>!1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>null;const i=[];let o=0;for(const r of e){const e=n(r),s=t(r)?"var(--color-charts-threshold-neutral-pd7kh4, #656871)":UC[o%UC.length];i.push(go(e||s)),t(r)||e||o++}return i}const qC={axis:"awsui_axis_f0fot_1tlqz_9","vertical-marker":"awsui_vertical-marker_f0fot_1tlqz_10","axis--emphasized":"awsui_axis--emphasized_f0fot_1tlqz_15","axis-label":"awsui_axis-label_f0fot_1tlqz_19","axis-label--x":"awsui_axis-label--x_f0fot_1tlqz_24","axis-label--y":"awsui_axis-label--y_f0fot_1tlqz_25",grid:"awsui_grid_f0fot_1tlqz_29",ticks__line:"awsui_ticks__line_f0fot_1tlqz_34",ticks__text:"awsui_ticks__text_f0fot_1tlqz_39","ticks--y":"awsui_ticks--y_f0fot_1tlqz_44","ticks--x":"awsui_ticks--x_f0fot_1tlqz_45","ticks--bottom":"awsui_ticks--bottom_f0fot_1tlqz_49","labels-inline-start":"awsui_labels-inline-start_f0fot_1tlqz_54",ticks:"awsui_ticks_f0fot_1tlqz_34","labels-inline-start__label":"awsui_labels-inline-start__label_f0fot_1tlqz_69","labels-inline-start--hidden":"awsui_labels-inline-start--hidden_f0fot_1tlqz_73","labels-block-end":"awsui_labels-block-end_f0fot_1tlqz_81","vertical-marker-circle":"awsui_vertical-marker-circle_f0fot_1tlqz_92","vertical-marker-circle-active":"awsui_vertical-marker-circle-active_f0fot_1tlqz_98","focus-outline":"awsui_focus-outline_f0fot_1tlqz_103","chart-container":"awsui_chart-container_f0fot_1tlqz_111","fit-height":"awsui_fit-height_f0fot_1tlqz_116","chart-container-outer":"awsui_chart-container-outer_f0fot_1tlqz_121","has-filters":"awsui_has-filters_f0fot_1tlqz_127","chart-container-inner":"awsui_chart-container-inner_f0fot_1tlqz_131","chart-container-plot-wrapper":"awsui_chart-container-plot-wrapper_f0fot_1tlqz_138","chart-container-plot":"awsui_chart-container-plot_f0fot_1tlqz_138","chart-container-bottom-labels":"awsui_chart-container-bottom-labels_f0fot_1tlqz_150"},YC=(0,i.memo)(function(e){let{title:t,axis:n,position:o}=e;if(!t)return null;return i.createElement(Ua,{className:Gn(qC["axis-label"],"x"===n?qC["axis-label--x"]:qC["axis-label--y"]),fontWeight:"bold",textAlign:"left"===o?"left":"center",margin:{bottom:"left"===o?"l":"n"}},i.createElement("span",{"aria-hidden":"true"},t))});function ZC(e){let{ticks:t,scale:n,getLabelSpace:i,tickFormatter:o}=e;return t.map(e=>{var t;const r=null!==(t=n.d3Scale(e))&&void 0!==t?t:NaN,s=((o?o(e):e.toString())+"").split("\n");return{position:r,lines:s,space:Math.max(...s.map(i))}})}function $C(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return e=function(e,t,n){return e.filter(e=>t<=e.position-e.space/2&&e.position+e.space/2<=n)}(e,t,n),i?function(e){const t=XC(e),n=[];for(let i=0;i<e.length;i+=t)n.push(e[i]);return n}(e):function(e){const t=[];let n=null;for(const i of e)n&&QC(n,i)||(t.push(i),n=i);return t}(e)}function XC(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(t>=e.length)return t;for(let n=t;n<e.length;n+=t)if(QC(e[n-t],e[n]))return XC(e,t+1);return t}function QC(e,t){const[n,i]=e.position<t.position?[e,t]:[t,e];return n.position+n.space/2+4>i.position-i.space/2}const JC=(0,i.memo)(function(e){let{axis:t="x",width:n,height:o,scale:r,title:s,ariaRoleDescription:a,offsetLeft:l=0,offsetRight:u=0,virtualTextRef:c,formattedTicks:d,isRTL:h=!1}=e;const p=Mt("[charts]"),g=r.isCategorical()&&"x"===t?Math.max(0,r.d3Scale.bandwidth()-1)/2:0,m=0-(h?u:l)-g,v=n+(h?l:u)-g,f="x"===t&&"log"!==r.scaleType,w=$C(d,m,v,f);return i.createElement("g",{transform:"translate(0,".concat(o,")"),className:qC["labels-block-end"],"aria-label":s,role:"list","aria-roledescription":p("i18nStrings.chartAriaRoleDescription",a),"aria-hidden":!0},w.map((e,n)=>{let{position:o,lines:r}=e;return isFinite(o)&&i.createElement("g",{key:n,transform:"translate(".concat(o+g,",0)"),className:Gn(qC.ticks,qC["ticks--bottom"],{[qC["ticks--x"]]:"x"===t,[qC["ticks--y"]]:"y"===t}),role:"listitem","aria-label":r.join("\n")},i.createElement("line",{className:qC.ticks__line,x1:0,x2:0,y1:0,y2:8,"aria-hidden":"true"}),r.map((e,t)=>i.createElement("text",{className:qC.ticks__text,key:t,x:0,y:12+16*t},e)))}),i.createElement("text",{ref:c,x:0,y:0,style:{visibility:"hidden"},"aria-hidden":"true"}))});const eb=(0,i.forwardRef)((e,t)=>{let{minHeight:n,fitHeight:o,leftAxisLabel:r,leftAxisLabelMeasure:s,bottomAxisLabel:a,chartPlot:l,popover:u,hasFilters:c}=e;return o?i.createElement("div",{className:Gn(qC["chart-container"],qC["fit-height"]),ref:t},r,i.createElement("div",{className:Gn(qC["chart-container-outer"],qC["fit-height"],c&&qC["has-filters"])},s,i.createElement("div",{className:qC["chart-container-inner"]},i.createElement("div",{className:Gn(qC["chart-container-plot-wrapper"],qC["fit-height"]),style:{minHeight:Math.max(n,40)}},i.createElement("div",{className:Gn(qC["chart-container-plot"],qC["fit-height"])},l)),i.createElement("div",{className:Gn(qC["chart-container-bottom-labels"],qC["fit-height"])},a)),u)):i.createElement("div",{className:qC["chart-container"],ref:t},r,i.createElement("div",{className:qC["chart-container-outer"]},s,i.createElement("div",{className:qC["chart-container-inner"]},l,a),u))}),tb=(0,i.memo)(function(e){let{axis:t="x",width:n,height:o,scale:r}=e;var s;const a=null!==(s=r.d3Scale(0))&&void 0!==s?s:NaN;if("x"===t&&isFinite(a)&&a<=o)return i.createElement("line",{className:Gn(qC.axis,qC["axis--emphasized"]),x1:-4,x2:n,y1:a,y2:a,"aria-hidden":"true"});if("y"===t)return i.createElement("line",{className:Gn(qC.axis,qC["axis--emphasized"]),x1:0,y1:0,x2:0,y2:o+8,"aria-hidden":"true"});return null});const nb=(0,i.memo)((0,i.forwardRef)(function(e,t){let{point:n,role:o="group",ariaLabel:r,ariaHasPopup:s,ariaExpanded:a}=e;if(!n)return null;return i.createElement("g",{ref:t,role:o,"aria-label":r,"aria-haspopup":s,"aria-expanded":a},i.createElement("circle",{key:n.key,"aria-hidden":"true",className:qC["vertical-marker-circle-active"],cx:n.x,cy:n.y,r:4,stroke:n.color,fill:n.color}))}));function ib(e){return e.getComputedTextLength?e.getComputedTextLength():-1}const ob=(0,i.memo)(function(e){let{x:t,y:n,className:o,children:r,maxWidth:s}=e;const a=(0,i.useRef)(null);return(0,i.useEffect)(()=>{const e=rr(a.current);rb(a.current,r,s,e)},[s,r]),i.createElement("text",{ref:a,x:t,y:n,style:{textAnchor:"end"},className:o},r)});function rb(e,t,n,i){let o=t.length;for(;o>=0;){if(e.textContent=sb(t,o,i),ib(e)<=n)return;o--}}function sb(e,t,n){return e.length===t?e:n?e.slice(e.length-t)+"\u2026":e.slice(0,t)+"\u2026"}const ab=(0,i.memo)(function(e){let{axis:t="y",plotWidth:n,plotHeight:o,maxLabelsWidth:r=Number.POSITIVE_INFINITY,scale:s,ticks:a,tickFormatter:l,title:u,ariaRoleDescription:c}=e;const d=Mt("[charts]"),h=(0,i.useRef)(null),p="x"===t&&s.isCategorical()?Math.max(0,s.d3Scale.bandwidth()-1)/2:0,g=(0,i.useRef)({}),m=ZC({ticks:a,scale:s,getLabelSpace:e=>{var t,n,i,o;return void 0!==g.current[e]?null!==(n=null===(t=g.current[e])||void 0===t?void 0:t.height)&&void 0!==n?n:0:(h.current&&(h.current.textContent=e),g.current[e]=function(e){if(e&&e.getBBox)return e.getBBox()}(h.current),null!==(o=null===(i=g.current[e])||void 0===i?void 0:i.height)&&void 0!==o?o:0)},tickFormatter:l});h.current&&(h.current.textContent="");const v=$C(m,-12-p,o+12-p),f=!!h.current&&rr(h.current);return i.createElement("g",{className:qC["labels-inline-start"],"aria-label":u,role:"list","aria-roledescription":d("i18nStrings.chartAriaRoleDescription",c),"aria-hidden":!0},v.map((e,o)=>{let{position:s,lines:a}=e;return isFinite(s)&&i.createElement("g",{key:o,role:"listitem",transform:"translate(0,".concat(s+p,")"),className:Gn(qC.ticks,"x"===t?qC["ticks--x"]:qC["ticks--y"])},"y"===t&&i.createElement("line",{className:Gn(qC.grid,qC.ticks_line),x1:-8,y1:0,x2:n,y2:0,"aria-hidden":"true"}),a.map((e,t)=>{var o,s;const l={x:f?n- -12:-12,y:16*(t-.5*(a.length-1)),className:qC.ticks__text,children:e};return(null!==(s=null===(o=g.current[a[0]])||void 0===o?void 0:o.width)&&void 0!==s?s:0)>r?i.createElement(ob,Object.assign({key:t},l,{maxWidth:r})):i.createElement("text",Object.assign({key:t},l))}))}),i.createElement("text",{ref:h,x:0,y:0,style:{visibility:"hidden"},"aria-hidden":"true"}))});const lb=(0,i.memo)(function(e){let{scale:t,ticks:n,tickFormatter:o,autoWidth:r,maxLabelsWidth:s}=e;const[a,l]=Ri(e=>e.contentBoxWidth);(0,i.useEffect)(()=>{r(a||0)},[r,a]);return i.createElement("div",{ref:l,className:Gn(qC["labels-inline-start"],qC["labels-inline-start--hidden"]),style:{maxWidth:s}},n.map(e=>{const n=t.d3Scale(e);if(void 0===n||!isFinite(n))return null;const r=((o?o(e):e.toString())+"").split("\n");return i.createElement(i.Fragment,{key:"".concat(e)},r.map((e,t)=>i.createElement("div",{key:t,className:qC["labels-inline-start__label"],"aria-hidden":"true"},e)))}))});function ub(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function cb(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function db(e){let t,n,i;function o(e,i){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(o<r){if(0!==t(i,i))return r;do{const t=o+r>>>1;n(e[t],i)<0?o=t+1:r=t}while(o<r)}return o}return 2!==e.length?(t=ub,n=(t,n)=>ub(e(t),n),i=(t,n)=>e(t)-n):(t=e===ub||e===cb?e:hb,n=e,i=e),{left:o,center:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r=o(e,t,n,(arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length)-1);return r>n&&i(e[r-1],t)>-i(e[r],t)?r-1:r},right:function(e,i){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(o<r){if(0!==t(i,i))return r;do{const t=o+r>>>1;n(e[t],i)<=0?o=t+1:r=t}while(o<r)}return o}}}function hb(){return 0}const pb=db(ub).right;db(function(e){return null===e?NaN:+e}).center;var gb=pb;class mb extends Map{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:fb;if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(vb(this,e))}has(e){return super.has(vb(this,e))}set(e,t){return super.set(function(e,t){let{_intern:n,_key:i}=e;const o=i(t);return n.has(o)?n.get(o):(n.set(o,t),t)}(this,e),t)}delete(e){return super.delete(function(e,t){let{_intern:n,_key:i}=e;const o=i(t);n.has(o)&&(t=n.get(o),n.delete(o));return t}(this,e))}}function vb(e,t){let{_intern:n,_key:i}=e;const o=i(t);return n.has(o)?n.get(o):t}function fb(e){return null!==e&&"object"===typeof e?e.valueOf():e}const wb=Math.sqrt(50),Cb=Math.sqrt(10),bb=Math.sqrt(2);function yb(e,t,n){const i=(t-e)/Math.max(0,n),o=Math.floor(Math.log10(i)),r=i/Math.pow(10,o),s=r>=wb?10:r>=Cb?5:r>=bb?2:1;let a,l,u;return o<0?(u=Math.pow(10,-o)/s,a=Math.round(e*u),l=Math.round(t*u),a/u<e&&++a,l/u>t&&--l,u=-u):(u=Math.pow(10,o)*s,a=Math.round(e/u),l=Math.round(t/u),a*u<e&&++a,l*u>t&&--l),l<a&&.5<=n&&n<2?yb(e,t,2*n):[a,l,u]}function Sb(e,t,n){if(!((n=+n)>0))return[];if((e=+e)===(t=+t))return[e];const i=t<e,[o,r,s]=i?yb(t,e,n):yb(e,t,n);if(!(r>=o))return[];const a=r-o+1,l=new Array(a);if(i)if(s<0)for(let u=0;u<a;++u)l[u]=(r-u)/-s;else for(let u=0;u<a;++u)l[u]=(r-u)*s;else if(s<0)for(let u=0;u<a;++u)l[u]=(o+u)/-s;else for(let u=0;u<a;++u)l[u]=(o+u)*s;return l}function xb(e,t,n){return yb(e=+e,t=+t,n=+n)[2]}function Db(e,t,n){n=+n;const i=(t=+t)<(e=+e),o=i?xb(t,e,n):xb(e,t,n);return(i?-1:1)*(o<0?1/-o:o)}function Eb(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}const Fb=Symbol("implicit");function kb(){var e=new mb,t=[],n=[],i=Fb;function o(o){let r=e.get(o);if(void 0===r){if(i!==Fb)return i;e.set(o,r=t.push(o)-1)}return n[r%n.length]}return o.domain=function(n){if(!arguments.length)return t.slice();t=[],e=new mb;for(const i of n)e.has(i)||e.set(i,t.push(i)-1);return o},o.range=function(e){return arguments.length?(n=Array.from(e),o):n.slice()},o.unknown=function(e){return arguments.length?(i=e,o):i},o.copy=function(){return kb(t,n).unknown(i)},Eb.apply(o,arguments),o}function Ab(){var e,t,n=kb().unknown(void 0),i=n.domain,o=n.range,r=0,s=1,a=!1,l=0,u=0,c=.5;function d(){var n=i().length,d=s<r,h=d?s:r,p=d?r:s;e=(p-h)/Math.max(1,n-l+2*u),a&&(e=Math.floor(e)),h+=(p-h-e*(n-l))*c,t=e*(1-l),a&&(h=Math.round(h),t=Math.round(t));var g=function(e,t,n){e=+e,t=+t,n=(o=arguments.length)<2?(t=e,e=0,1):o<3?1:+n;for(var i=-1,o=0|Math.max(0,Math.ceil((t-e)/n)),r=new Array(o);++i<o;)r[i]=e+i*n;return r}(n).map(function(t){return h+e*t});return o(d?g.reverse():g)}return delete n.unknown,n.domain=function(e){return arguments.length?(i(e),d()):i()},n.range=function(e){return arguments.length?([r,s]=e,r=+r,s=+s,d()):[r,s]},n.rangeRound=function(e){return[r,s]=e,r=+r,s=+s,a=!0,d()},n.bandwidth=function(){return t},n.step=function(){return e},n.round=function(e){return arguments.length?(a=!!e,d()):a},n.padding=function(e){return arguments.length?(l=Math.min(1,u=+e),d()):l},n.paddingInner=function(e){return arguments.length?(l=Math.min(1,e),d()):l},n.paddingOuter=function(e){return arguments.length?(u=+e,d()):u},n.align=function(e){return arguments.length?(c=Math.max(0,Math.min(1,e)),d()):c},n.copy=function(){return Ab(i(),[r,s]).round(a).paddingInner(l).paddingOuter(u).align(c)},Eb.apply(d(),arguments)}function Rb(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Pb(e,t){var n=Object.create(e.prototype);for(var i in t)n[i]=t[i];return n}function Tb(){}var _b=.7,Mb=1/_b,Ib="\\s*([+-]?\\d+)\\s*",Lb="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Nb="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Bb=/^#([0-9a-f]{3,8})$/,Ob=new RegExp("^rgb\\(".concat(Ib,",").concat(Ib,",").concat(Ib,"\\)$")),Gb=new RegExp("^rgb\\(".concat(Nb,",").concat(Nb,",").concat(Nb,"\\)$")),zb=new RegExp("^rgba\\(".concat(Ib,",").concat(Ib,",").concat(Ib,",").concat(Lb,"\\)$")),Vb=new RegExp("^rgba\\(".concat(Nb,",").concat(Nb,",").concat(Nb,",").concat(Lb,"\\)$")),Hb=new RegExp("^hsl\\(".concat(Lb,",").concat(Nb,",").concat(Nb,"\\)$")),jb=new RegExp("^hsla\\(".concat(Lb,",").concat(Nb,",").concat(Nb,",").concat(Lb,"\\)$")),Wb={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Ub(){return this.rgb().formatHex()}function Kb(){return this.rgb().formatRgb()}function qb(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Bb.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?Yb(t):3===n?new Xb(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?Zb(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?Zb(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=Ob.exec(e))?new Xb(t[1],t[2],t[3],1):(t=Gb.exec(e))?new Xb(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=zb.exec(e))?Zb(t[1],t[2],t[3],t[4]):(t=Vb.exec(e))?Zb(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=Hb.exec(e))?iy(t[1],t[2]/100,t[3]/100,1):(t=jb.exec(e))?iy(t[1],t[2]/100,t[3]/100,t[4]):Wb.hasOwnProperty(e)?Yb(Wb[e]):"transparent"===e?new Xb(NaN,NaN,NaN,0):null}function Yb(e){return new Xb(e>>16&255,e>>8&255,255&e,1)}function Zb(e,t,n,i){return i<=0&&(e=t=n=NaN),new Xb(e,t,n,i)}function $b(e,t,n,i){return 1===arguments.length?((o=e)instanceof Tb||(o=qb(o)),o?new Xb((o=o.rgb()).r,o.g,o.b,o.opacity):new Xb):new Xb(e,t,n,null==i?1:i);var o}function Xb(e,t,n,i){this.r=+e,this.g=+t,this.b=+n,this.opacity=+i}function Qb(){return"#".concat(ny(this.r)).concat(ny(this.g)).concat(ny(this.b))}function Jb(){const e=ey(this.opacity);return"".concat(1===e?"rgb(":"rgba(").concat(ty(this.r),", ").concat(ty(this.g),", ").concat(ty(this.b)).concat(1===e?")":", ".concat(e,")"))}function ey(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ty(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ny(e){return((e=ty(e))<16?"0":"")+e.toString(16)}function iy(e,t,n,i){return i<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new ry(e,t,n,i)}function oy(e){if(e instanceof ry)return new ry(e.h,e.s,e.l,e.opacity);if(e instanceof Tb||(e=qb(e)),!e)return new ry;if(e instanceof ry)return e;var t=(e=e.rgb()).r/255,n=e.g/255,i=e.b/255,o=Math.min(t,n,i),r=Math.max(t,n,i),s=NaN,a=r-o,l=(r+o)/2;return a?(s=t===r?(n-i)/a+6*(n<i):n===r?(i-t)/a+2:(t-n)/a+4,a/=l<.5?r+o:2-r-o,s*=60):a=l>0&&l<1?0:s,new ry(s,a,l,e.opacity)}function ry(e,t,n,i){this.h=+e,this.s=+t,this.l=+n,this.opacity=+i}function sy(e){return(e=(e||0)%360)<0?e+360:e}function ay(e){return Math.max(0,Math.min(1,e||0))}function ly(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}Rb(Tb,qb,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Ub,formatHex:Ub,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return oy(this).formatHsl()},formatRgb:Kb,toString:Kb}),Rb(Xb,$b,Pb(Tb,{brighter(e){return e=null==e?Mb:Math.pow(Mb,e),new Xb(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?_b:Math.pow(_b,e),new Xb(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Xb(ty(this.r),ty(this.g),ty(this.b),ey(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Qb,formatHex:Qb,formatHex8:function(){return"#".concat(ny(this.r)).concat(ny(this.g)).concat(ny(this.b)).concat(ny(255*(isNaN(this.opacity)?1:this.opacity)))},formatRgb:Jb,toString:Jb})),Rb(ry,function(e,t,n,i){return 1===arguments.length?oy(e):new ry(e,t,n,null==i?1:i)},Pb(Tb,{brighter(e){return e=null==e?Mb:Math.pow(Mb,e),new ry(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?_b:Math.pow(_b,e),new ry(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*t,o=2*n-i;return new Xb(ly(e>=240?e-240:e+120,o,i),ly(e,o,i),ly(e<120?e+240:e-120,o,i),this.opacity)},clamp(){return new ry(sy(this.h),ay(this.s),ay(this.l),ey(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=ey(this.opacity);return"".concat(1===e?"hsl(":"hsla(").concat(sy(this.h),", ").concat(100*ay(this.s),"%, ").concat(100*ay(this.l),"%").concat(1===e?")":", ".concat(e,")"))}}));var uy=e=>()=>e;function cy(e){return 1===(e=+e)?dy:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(i){return Math.pow(e+i*t,n)}}(t,n,e):uy(isNaN(t)?n:t)}}function dy(e,t){var n=t-e;return n?function(e,t){return function(n){return e+n*t}}(e,n):uy(isNaN(e)?t:e)}var hy=function e(t){var n=cy(t);function i(e,t){var i=n((e=$b(e)).r,(t=$b(t)).r),o=n(e.g,t.g),r=n(e.b,t.b),s=dy(e.opacity,t.opacity);return function(t){return e.r=i(t),e.g=o(t),e.b=r(t),e.opacity=s(t),e+""}}return i.gamma=e,i}(1);function py(e,t){t||(t=[]);var n,i=e?Math.min(t.length,e.length):0,o=t.slice();return function(r){for(n=0;n<i;++n)o[n]=e[n]*(1-r)+t[n]*r;return o}}function gy(e,t){var n,i=t?t.length:0,o=e?Math.min(i,e.length):0,r=new Array(o),s=new Array(i);for(n=0;n<o;++n)r[n]=yy(e[n],t[n]);for(;n<i;++n)s[n]=t[n];return function(e){for(n=0;n<o;++n)s[n]=r[n](e);return s}}function my(e,t){var n=new Date;return e=+e,t=+t,function(i){return n.setTime(e*(1-i)+t*i),n}}function vy(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function fy(e,t){var n,i={},o={};for(n in null!==e&&"object"===typeof e||(e={}),null!==t&&"object"===typeof t||(t={}),t)n in e?i[n]=yy(e[n],t[n]):o[n]=t[n];return function(e){for(n in i)o[n]=i[n](e);return o}}var wy=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Cy=new RegExp(wy.source,"g");function by(e,t){var n,i,o,r=wy.lastIndex=Cy.lastIndex=0,s=-1,a=[],l=[];for(e+="",t+="";(n=wy.exec(e))&&(i=Cy.exec(t));)(o=i.index)>r&&(o=t.slice(r,o),a[s]?a[s]+=o:a[++s]=o),(n=n[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,l.push({i:s,x:vy(n,i)})),r=Cy.lastIndex;return r<t.length&&(o=t.slice(r),a[s]?a[s]+=o:a[++s]=o),a.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var n,i=0;i<t;++i)a[(n=l[i]).i]=n.x(e);return a.join("")})}function yy(e,t){var n,i,o=typeof t;return null==t||"boolean"===o?uy(t):("number"===o?vy:"string"===o?(n=qb(t))?(t=n,hy):by:t instanceof qb?hy:t instanceof Date?my:(i=t,!ArrayBuffer.isView(i)||i instanceof DataView?Array.isArray(t)?gy:"function"!==typeof t.valueOf&&"function"!==typeof t.toString||isNaN(t)?fy:vy:py))(e,t)}function Sy(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function xy(e){return+e}var Dy=[0,1];function Ey(e){return e}function Fy(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:(n=isNaN(t)?NaN:.5,function(){return n});var n}function ky(e,t,n){var i=e[0],o=e[1],r=t[0],s=t[1];return o<i?(i=Fy(o,i),r=n(s,r)):(i=Fy(i,o),r=n(r,s)),function(e){return r(i(e))}}function Ay(e,t,n){var i=Math.min(e.length,t.length)-1,o=new Array(i),r=new Array(i),s=-1;for(e[i]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<i;)o[s]=Fy(e[s],e[s+1]),r[s]=n(t[s],t[s+1]);return function(t){var n=gb(e,t,1,i)-1;return r[n](o[n](t))}}function Ry(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Py(){var e,t,n,i,o,r,s=Dy,a=Dy,l=yy,u=Ey;function c(){var e=Math.min(s.length,a.length);return u!==Ey&&(u=function(e,t){var n;return e>t&&(n=e,e=t,t=n),function(n){return Math.max(e,Math.min(t,n))}}(s[0],s[e-1])),i=e>2?Ay:ky,o=r=null,d}function d(t){return null==t||isNaN(t=+t)?n:(o||(o=i(s.map(e),a,l)))(e(u(t)))}return d.invert=function(n){return u(t((r||(r=i(a,s.map(e),vy)))(n)))},d.domain=function(e){return arguments.length?(s=Array.from(e,xy),c()):s.slice()},d.range=function(e){return arguments.length?(a=Array.from(e),c()):a.slice()},d.rangeRound=function(e){return a=Array.from(e),l=Sy,c()},d.clamp=function(e){return arguments.length?(u=!!e||Ey,c()):u!==Ey},d.interpolate=function(e){return arguments.length?(l=e,c()):l},d.unknown=function(e){return arguments.length?(n=e,d):n},function(n,i){return e=n,t=i,c()}}function Ty(){return Py()(Ey,Ey)}function _y(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,i=e.slice(0,n);return[i.length>1?i[0]+i.slice(2):i,+e.slice(n+1)]}function My(e){return(e=_y(Math.abs(e)))?e[1]:NaN}var Iy,Ly=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ny(e){if(!(t=Ly.exec(e)))throw new Error("invalid format: "+e);var t;return new By({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function By(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function Oy(e,t){var n=_y(e,t);if(!n)return e+"";var i=n[0],o=n[1];return o<0?"0."+new Array(-o).join("0")+i:i.length>o+1?i.slice(0,o+1)+"."+i.slice(o+1):i+new Array(o-i.length+2).join("0")}Ny.prototype=By.prototype,By.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var Gy={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Oy(100*e,t),r:Oy,s:function(e,t){var n=_y(e,t);if(!n)return e+"";var i=n[0],o=n[1],r=o-(Iy=3*Math.max(-8,Math.min(8,Math.floor(o/3))))+1,s=i.length;return r===s?i:r>s?i+new Array(r-s+1).join("0"):r>0?i.slice(0,r)+"."+i.slice(r):"0."+new Array(1-r).join("0")+_y(e,Math.max(0,t+r-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function zy(e){return e}var Vy,Hy,jy,Wy=Array.prototype.map,Uy=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function Ky(e){var t,n,i=void 0===e.grouping||void 0===e.thousands?zy:(t=Wy.call(e.grouping,Number),n=e.thousands+"",function(e,i){for(var o=e.length,r=[],s=0,a=t[0],l=0;o>0&&a>0&&(l+a+1>i&&(a=Math.max(1,i-l)),r.push(e.substring(o-=a,o+a)),!((l+=a+1)>i));)a=t[s=(s+1)%t.length];return r.reverse().join(n)}),o=void 0===e.currency?"":e.currency[0]+"",r=void 0===e.currency?"":e.currency[1]+"",s=void 0===e.decimal?".":e.decimal+"",a=void 0===e.numerals?zy:function(e){return function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}}(Wy.call(e.numerals,String)),l=void 0===e.percent?"%":e.percent+"",u=void 0===e.minus?"\u2212":e.minus+"",c=void 0===e.nan?"NaN":e.nan+"";function d(e){var t=(e=Ny(e)).fill,n=e.align,d=e.sign,h=e.symbol,p=e.zero,g=e.width,m=e.comma,v=e.precision,f=e.trim,w=e.type;"n"===w?(m=!0,w="g"):Gy[w]||(void 0===v&&(v=12),f=!0,w="g"),(p||"0"===t&&"="===n)&&(p=!0,t="0",n="=");var C="$"===h?o:"#"===h&&/[boxX]/.test(w)?"0"+w.toLowerCase():"",b="$"===h?r:/[%p]/.test(w)?l:"",y=Gy[w],S=/[defgprs%]/.test(w);function x(e){var o,r,l,h=C,x=b;if("c"===w)x=y(e)+x,e="";else{var D=(e=+e)<0||1/e<0;if(e=isNaN(e)?c:y(Math.abs(e),v),f&&(e=function(e){e:for(var t,n=e.length,i=1,o=-1;i<n;++i)switch(e[i]){case".":o=t=i;break;case"0":0===o&&(o=i),t=i;break;default:if(!+e[i])break e;o>0&&(o=0)}return o>0?e.slice(0,o)+e.slice(t+1):e}(e)),D&&0===+e&&"+"!==d&&(D=!1),h=(D?"("===d?d:u:"-"===d||"("===d?"":d)+h,x=("s"===w?Uy[8+Iy/3]:"")+x+(D&&"("===d?")":""),S)for(o=-1,r=e.length;++o<r;)if(48>(l=e.charCodeAt(o))||l>57){x=(46===l?s+e.slice(o+1):e.slice(o))+x,e=e.slice(0,o);break}}m&&!p&&(e=i(e,1/0));var E=h.length+e.length+x.length,F=E<g?new Array(g-E+1).join(t):"";switch(m&&p&&(e=i(F+e,F.length?g-x.length:1/0),F=""),n){case"<":e=h+e+x+F;break;case"=":e=h+F+e+x;break;case"^":e=F.slice(0,E=F.length>>1)+h+e+x+F.slice(E);break;default:e=F+h+e+x}return a(e)}return v=void 0===v?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v)),x.toString=function(){return e+""},x}return{format:d,formatPrefix:function(e,t){var n=d(((e=Ny(e)).type="f",e)),i=3*Math.max(-8,Math.min(8,Math.floor(My(t)/3))),o=Math.pow(10,-i),r=Uy[8+i/3];return function(e){return n(o*e)+r}}}}function qy(e,t,n,i){var o,r=Db(e,t,n);switch((i=Ny(null==i?",f":i)).type){case"s":var s=Math.max(Math.abs(e),Math.abs(t));return null!=i.precision||isNaN(o=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(My(t)/3)))-My(Math.abs(e)))}(r,s))||(i.precision=o),jy(i,s);case"":case"e":case"g":case"p":case"r":null!=i.precision||isNaN(o=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,My(t)-My(e))+1}(r,Math.max(Math.abs(e),Math.abs(t))))||(i.precision=o-("e"===i.type));break;case"f":case"%":null!=i.precision||isNaN(o=function(e){return Math.max(0,-My(Math.abs(e)))}(r))||(i.precision=o-2*("%"===i.type))}return Hy(i)}function Yy(){var e=Ty();return e.copy=function(){return Ry(e,Yy())},Eb.apply(e,arguments),function(e){var t=e.domain;return e.ticks=function(e){var n=t();return Sb(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var i=t();return qy(i[0],i[i.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var i,o,r=t(),s=0,a=r.length-1,l=r[s],u=r[a],c=10;for(u<l&&(o=l,l=u,u=o,o=s,s=a,a=o);c-- >0;){if((o=xb(l,u,n))===i)return r[s]=l,r[a]=u,t(r);if(o>0)l=Math.floor(l/o)*o,u=Math.ceil(u/o)*o;else{if(!(o<0))break;l=Math.ceil(l*o)/o,u=Math.floor(u*o)/o}i=o}return e},e}(e)}function Zy(e,t){var n,i=0,o=(e=e.slice()).length-1,r=e[i],s=e[o];return s<r&&(n=i,i=o,o=n,n=r,r=s,s=n),e[i]=t.floor(r),e[o]=t.ceil(s),e}function $y(e){return Math.log(e)}function Xy(e){return Math.exp(e)}function Qy(e){return-Math.log(-e)}function Jy(e){return-Math.exp(-e)}function eS(e){return isFinite(e)?+("1e"+e):e<0?0:e}function tS(e){return(t,n)=>-e(-t,n)}function nS(e){const t=e($y,Xy),n=t.domain;let i,o,r=10;function s(){return i=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}(r),o=function(e){return 10===e?eS:e===Math.E?Math.exp:t=>Math.pow(e,t)}(r),n()[0]<0?(i=tS(i),o=tS(o),e(Qy,Jy)):e($y,Xy),t}return t.base=function(e){return arguments.length?(r=+e,s()):r},t.domain=function(e){return arguments.length?(n(e),s()):n()},t.ticks=e=>{const t=n();let s=t[0],a=t[t.length-1];const l=a<s;l&&([s,a]=[a,s]);let u,c,d=i(s),h=i(a);const p=null==e?10:+e;let g=[];if(!(r%1)&&h-d<p){if(d=Math.floor(d),h=Math.ceil(h),s>0){for(;d<=h;++d)for(u=1;u<r;++u)if(c=d<0?u/o(-d):u*o(d),!(c<s)){if(c>a)break;g.push(c)}}else for(;d<=h;++d)for(u=r-1;u>=1;--u)if(c=d>0?u/o(-d):u*o(d),!(c<s)){if(c>a)break;g.push(c)}2*g.length<p&&(g=Sb(s,a,p))}else g=Sb(d,h,Math.min(h-d,p)).map(o);return l?g.reverse():g},t.tickFormat=(e,n)=>{if(null==e&&(e=10),null==n&&(n=10===r?"s":","),"function"!==typeof n&&(r%1||null!=(n=Ny(n)).precision||(n.trim=!0),n=Hy(n)),e===1/0)return n;const s=Math.max(1,r*e/t.ticks().length);return e=>{let t=e/o(Math.round(i(e)));return t*r<r-.5&&(t*=r),t<=s?n(e):""}},t.nice=()=>n(Zy(n(),{floor:e=>o(Math.floor(i(e))),ceil:e=>o(Math.ceil(i(e)))})),t}function iS(){const e=nS(Py()).domain([1,10]);return e.copy=()=>Ry(e,iS()).base(e.base()),Eb.apply(e,arguments),e}!function(e){Vy=Ky(e),Hy=Vy.format,jy=Vy.formatPrefix}({thousands:",",grouping:[3],currency:["$",""]});const oS=new Date,rS=new Date;function sS(e,t,n,i){function o(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return o.floor=t=>(e(t=new Date(+t)),t),o.ceil=n=>(e(n=new Date(n-1)),t(n,1),e(n),n),o.round=e=>{const t=o(e),n=o.ceil(e);return e-t<n-e?t:n},o.offset=(e,n)=>(t(e=new Date(+e),null==n?1:Math.floor(n)),e),o.range=(n,i,r)=>{const s=[];if(n=o.ceil(n),r=null==r?1:Math.floor(r),!(n<i)||!(r>0))return s;let a;do{s.push(a=new Date(+n)),t(n,r),e(n)}while(a<n&&n<i);return s},o.filter=n=>sS(t=>{if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)},(e,i)=>{if(e>=e)if(i<0)for(;++i<=0;)for(;t(e,-1),!n(e););else for(;--i>=0;)for(;t(e,1),!n(e););}),n&&(o.count=(t,i)=>(oS.setTime(+t),rS.setTime(+i),e(oS),e(rS),Math.floor(n(oS,rS))),o.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?o.filter(i?t=>i(t)%e===0:t=>o.count(0,t)%e===0):o:null)),o}const aS=sS(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);aS.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?sS(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):aS:null),aS.range;const lS=1e3,uS=6e4,cS=36e5,dS=864e5,hS=6048e5,pS=2592e6,gS=31536e6,mS=sS(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*lS)},(e,t)=>(t-e)/lS,e=>e.getUTCSeconds());mS.range;const vS=sS(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*lS)},(e,t)=>{e.setTime(+e+t*uS)},(e,t)=>(t-e)/uS,e=>e.getMinutes());vS.range;const fS=sS(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*uS)},(e,t)=>(t-e)/uS,e=>e.getUTCMinutes());fS.range;const wS=sS(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*lS-e.getMinutes()*uS)},(e,t)=>{e.setTime(+e+t*cS)},(e,t)=>(t-e)/cS,e=>e.getHours());wS.range;const CS=sS(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*cS)},(e,t)=>(t-e)/cS,e=>e.getUTCHours());CS.range;const bS=sS(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*uS)/dS,e=>e.getDate()-1);bS.range;const yS=sS(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/dS,e=>e.getUTCDate()-1);yS.range;const SS=sS(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/dS,e=>Math.floor(e/dS));function xS(e){return sS(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(e,t)=>{e.setDate(e.getDate()+7*t)},(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*uS)/hS)}SS.range;const DS=xS(0),ES=xS(1),FS=xS(2),kS=xS(3),AS=xS(4),RS=xS(5),PS=xS(6);function TS(e){return sS(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+7*t)},(e,t)=>(t-e)/hS)}DS.range,ES.range,FS.range,kS.range,AS.range,RS.range,PS.range;const _S=TS(0),MS=TS(1),IS=TS(2),LS=TS(3),NS=TS(4),BS=TS(5),OS=TS(6);_S.range,MS.range,IS.range,LS.range,NS.range,BS.range,OS.range;const GS=sS(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear()),e=>e.getMonth());GS.range;const zS=sS(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear()),e=>e.getUTCMonth());zS.range;const VS=sS(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());VS.every=e=>isFinite(e=Math.floor(e))&&e>0?sS(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)}):null,VS.range;const HS=sS(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());HS.every=e=>isFinite(e=Math.floor(e))&&e>0?sS(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)}):null,HS.range;const[jS,WS]=function(e,t,n,i,o,r){const s=[[mS,1,lS],[mS,5,5e3],[mS,15,15e3],[mS,30,3e4],[r,1,uS],[r,5,3e5],[r,15,9e5],[r,30,18e5],[o,1,cS],[o,3,108e5],[o,6,216e5],[o,12,432e5],[i,1,dS],[i,2,1728e5],[n,1,hS],[t,1,pS],[t,3,7776e6],[e,1,gS]];function a(t,n,i){const o=Math.abs(n-t)/i,r=db(e=>{let[,,t]=e;return t}).right(s,o);if(r===s.length)return e.every(Db(t/gS,n/gS,i));if(0===r)return aS.every(Math.max(Db(t,n,i),1));const[a,l]=s[o/s[r-1][2]<s[r][2]/o?r-1:r];return a.every(l)}return[function(e,t,n){const i=t<e;i&&([e,t]=[t,e]);const o=n&&"function"===typeof n.range?n:a(e,t,n),r=o?o.range(e,+t+1):[];return i?r.reverse():r},a]}(VS,GS,DS,bS,wS,vS);function US(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function KS(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function qS(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}var YS,ZS,$S={"-":"",_:" ",0:"0"},XS=/^\s*\d+/,QS=/^%/,JS=/[\\^$*+?|[\]().{}]/g;function ex(e,t,n){var i=e<0?"-":"",o=(i?-e:e)+"",r=o.length;return i+(r<n?new Array(n-r+1).join(t)+o:o)}function tx(e){return e.replace(JS,"\\$&")}function nx(e){return new RegExp("^(?:"+e.map(tx).join("|")+")","i")}function ix(e){return new Map(e.map((e,t)=>[e.toLowerCase(),t]))}function ox(e,t,n){var i=XS.exec(t.slice(n,n+1));return i?(e.w=+i[0],n+i[0].length):-1}function rx(e,t,n){var i=XS.exec(t.slice(n,n+1));return i?(e.u=+i[0],n+i[0].length):-1}function sx(e,t,n){var i=XS.exec(t.slice(n,n+2));return i?(e.U=+i[0],n+i[0].length):-1}function ax(e,t,n){var i=XS.exec(t.slice(n,n+2));return i?(e.V=+i[0],n+i[0].length):-1}function lx(e,t,n){var i=XS.exec(t.slice(n,n+2));return i?(e.W=+i[0],n+i[0].length):-1}function ux(e,t,n){var i=XS.exec(t.slice(n,n+4));return i?(e.y=+i[0],n+i[0].length):-1}function cx(e,t,n){var i=XS.exec(t.slice(n,n+2));return i?(e.y=+i[0]+(+i[0]>68?1900:2e3),n+i[0].length):-1}function dx(e,t,n){var i=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return i?(e.Z=i[1]?0:-(i[2]+(i[3]||"00")),n+i[0].length):-1}function hx(e,t,n){var i=XS.exec(t.slice(n,n+1));return i?(e.q=3*i[0]-3,n+i[0].length):-1}function px(e,t,n){var i=XS.exec(t.slice(n,n+2));return i?(e.m=i[0]-1,n+i[0].length):-1}function gx(e,t,n){var i=XS.exec(t.slice(n,n+2));return i?(e.d=+i[0],n+i[0].length):-1}function mx(e,t,n){var i=XS.exec(t.slice(n,n+3));return i?(e.m=0,e.d=+i[0],n+i[0].length):-1}function vx(e,t,n){var i=XS.exec(t.slice(n,n+2));return i?(e.H=+i[0],n+i[0].length):-1}function fx(e,t,n){var i=XS.exec(t.slice(n,n+2));return i?(e.M=+i[0],n+i[0].length):-1}function wx(e,t,n){var i=XS.exec(t.slice(n,n+2));return i?(e.S=+i[0],n+i[0].length):-1}function Cx(e,t,n){var i=XS.exec(t.slice(n,n+3));return i?(e.L=+i[0],n+i[0].length):-1}function bx(e,t,n){var i=XS.exec(t.slice(n,n+6));return i?(e.L=Math.floor(i[0]/1e3),n+i[0].length):-1}function yx(e,t,n){var i=QS.exec(t.slice(n,n+1));return i?n+i[0].length:-1}function Sx(e,t,n){var i=XS.exec(t.slice(n));return i?(e.Q=+i[0],n+i[0].length):-1}function xx(e,t,n){var i=XS.exec(t.slice(n));return i?(e.s=+i[0],n+i[0].length):-1}function Dx(e,t){return ex(e.getDate(),t,2)}function Ex(e,t){return ex(e.getHours(),t,2)}function Fx(e,t){return ex(e.getHours()%12||12,t,2)}function kx(e,t){return ex(1+bS.count(VS(e),e),t,3)}function Ax(e,t){return ex(e.getMilliseconds(),t,3)}function Rx(e,t){return Ax(e,t)+"000"}function Px(e,t){return ex(e.getMonth()+1,t,2)}function Tx(e,t){return ex(e.getMinutes(),t,2)}function _x(e,t){return ex(e.getSeconds(),t,2)}function Mx(e){var t=e.getDay();return 0===t?7:t}function Ix(e,t){return ex(DS.count(VS(e)-1,e),t,2)}function Lx(e){var t=e.getDay();return t>=4||0===t?AS(e):AS.ceil(e)}function Nx(e,t){return e=Lx(e),ex(AS.count(VS(e),e)+(4===VS(e).getDay()),t,2)}function Bx(e){return e.getDay()}function Ox(e,t){return ex(ES.count(VS(e)-1,e),t,2)}function Gx(e,t){return ex(e.getFullYear()%100,t,2)}function zx(e,t){return ex((e=Lx(e)).getFullYear()%100,t,2)}function Vx(e,t){return ex(e.getFullYear()%1e4,t,4)}function Hx(e,t){var n=e.getDay();return ex((e=n>=4||0===n?AS(e):AS.ceil(e)).getFullYear()%1e4,t,4)}function jx(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+ex(t/60|0,"0",2)+ex(t%60,"0",2)}function Wx(e,t){return ex(e.getUTCDate(),t,2)}function Ux(e,t){return ex(e.getUTCHours(),t,2)}function Kx(e,t){return ex(e.getUTCHours()%12||12,t,2)}function qx(e,t){return ex(1+yS.count(HS(e),e),t,3)}function Yx(e,t){return ex(e.getUTCMilliseconds(),t,3)}function Zx(e,t){return Yx(e,t)+"000"}function $x(e,t){return ex(e.getUTCMonth()+1,t,2)}function Xx(e,t){return ex(e.getUTCMinutes(),t,2)}function Qx(e,t){return ex(e.getUTCSeconds(),t,2)}function Jx(e){var t=e.getUTCDay();return 0===t?7:t}function eD(e,t){return ex(_S.count(HS(e)-1,e),t,2)}function tD(e){var t=e.getUTCDay();return t>=4||0===t?NS(e):NS.ceil(e)}function nD(e,t){return e=tD(e),ex(NS.count(HS(e),e)+(4===HS(e).getUTCDay()),t,2)}function iD(e){return e.getUTCDay()}function oD(e,t){return ex(MS.count(HS(e)-1,e),t,2)}function rD(e,t){return ex(e.getUTCFullYear()%100,t,2)}function sD(e,t){return ex((e=tD(e)).getUTCFullYear()%100,t,2)}function aD(e,t){return ex(e.getUTCFullYear()%1e4,t,4)}function lD(e,t){var n=e.getUTCDay();return ex((e=n>=4||0===n?NS(e):NS.ceil(e)).getUTCFullYear()%1e4,t,4)}function uD(){return"+0000"}function cD(){return"%"}function dD(e){return+e}function hD(e){return Math.floor(+e/1e3)}function pD(e){return new Date(e)}function gD(e){return e instanceof Date?+e:+new Date(+e)}function mD(e,t,n,i,o,r,s,a,l,u){var c=Ty(),d=c.invert,h=c.domain,p=u(".%L"),g=u(":%S"),m=u("%I:%M"),v=u("%I %p"),f=u("%a %d"),w=u("%b %d"),C=u("%B"),b=u("%Y");function y(e){return(l(e)<e?p:a(e)<e?g:s(e)<e?m:r(e)<e?v:i(e)<e?o(e)<e?f:w:n(e)<e?C:b)(e)}return c.invert=function(e){return new Date(d(e))},c.domain=function(e){return arguments.length?h(Array.from(e,gD)):h().map(pD)},c.ticks=function(t){var n=h();return e(n[0],n[n.length-1],null==t?10:t)},c.tickFormat=function(e,t){return null==t?y:u(t)},c.nice=function(e){var n=h();return e&&"function"===typeof e.range||(e=t(n[0],n[n.length-1],null==e?10:e)),e?h(Zy(n,e)):c},c.copy=function(){return Ry(c,mD(e,t,n,i,o,r,s,a,l,u))},c}function vD(){return Eb.apply(mD(jS,WS,VS,GS,DS,bS,wS,vS,mS,ZS).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function fD(e,t){let n;if("log"===e)n=iS();else n=Yy();return function(e){return e.length>0&&"number"===typeof e[0]}(t)&&n.domain(t),n}function wD(e){const t=vD();return function(e){return e.length>0&&e[0]instanceof Date}(e)&&t.domain(e),t}function CD(e){const t=Ab().padding(.1);return t.domain(e),t}!function(e){YS=function(e){var t=e.dateTime,n=e.date,i=e.time,o=e.periods,r=e.days,s=e.shortDays,a=e.months,l=e.shortMonths,u=nx(o),c=ix(o),d=nx(r),h=ix(r),p=nx(s),g=ix(s),m=nx(a),v=ix(a),f=nx(l),w=ix(l),C={a:function(e){return s[e.getDay()]},A:function(e){return r[e.getDay()]},b:function(e){return l[e.getMonth()]},B:function(e){return a[e.getMonth()]},c:null,d:Dx,e:Dx,f:Rx,g:zx,G:Hx,H:Ex,I:Fx,j:kx,L:Ax,m:Px,M:Tx,p:function(e){return o[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:dD,s:hD,S:_x,u:Mx,U:Ix,V:Nx,w:Bx,W:Ox,x:null,X:null,y:Gx,Y:Vx,Z:jx,"%":cD},b={a:function(e){return s[e.getUTCDay()]},A:function(e){return r[e.getUTCDay()]},b:function(e){return l[e.getUTCMonth()]},B:function(e){return a[e.getUTCMonth()]},c:null,d:Wx,e:Wx,f:Zx,g:sD,G:lD,H:Ux,I:Kx,j:qx,L:Yx,m:$x,M:Xx,p:function(e){return o[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:dD,s:hD,S:Qx,u:Jx,U:eD,V:nD,w:iD,W:oD,x:null,X:null,y:rD,Y:aD,Z:uD,"%":cD},y={a:function(e,t,n){var i=p.exec(t.slice(n));return i?(e.w=g.get(i[0].toLowerCase()),n+i[0].length):-1},A:function(e,t,n){var i=d.exec(t.slice(n));return i?(e.w=h.get(i[0].toLowerCase()),n+i[0].length):-1},b:function(e,t,n){var i=f.exec(t.slice(n));return i?(e.m=w.get(i[0].toLowerCase()),n+i[0].length):-1},B:function(e,t,n){var i=m.exec(t.slice(n));return i?(e.m=v.get(i[0].toLowerCase()),n+i[0].length):-1},c:function(e,n,i){return D(e,t,n,i)},d:gx,e:gx,f:bx,g:cx,G:ux,H:vx,I:vx,j:mx,L:Cx,m:px,M:fx,p:function(e,t,n){var i=u.exec(t.slice(n));return i?(e.p=c.get(i[0].toLowerCase()),n+i[0].length):-1},q:hx,Q:Sx,s:xx,S:wx,u:rx,U:sx,V:ax,w:ox,W:lx,x:function(e,t,i){return D(e,n,t,i)},X:function(e,t,n){return D(e,i,t,n)},y:cx,Y:ux,Z:dx,"%":yx};function S(e,t){return function(n){var i,o,r,s=[],a=-1,l=0,u=e.length;for(n instanceof Date||(n=new Date(+n));++a<u;)37===e.charCodeAt(a)&&(s.push(e.slice(l,a)),null!=(o=$S[i=e.charAt(++a)])?i=e.charAt(++a):o="e"===i?" ":"0",(r=t[i])&&(i=r(n,o)),s.push(i),l=a+1);return s.push(e.slice(l,a)),s.join("")}}function x(e,t){return function(n){var i,o,r=qS(1900,void 0,1);if(D(r,e,n+="",0)!=n.length)return null;if("Q"in r)return new Date(r.Q);if("s"in r)return new Date(1e3*r.s+("L"in r?r.L:0));if(t&&!("Z"in r)&&(r.Z=0),"p"in r&&(r.H=r.H%12+12*r.p),void 0===r.m&&(r.m="q"in r?r.q:0),"V"in r){if(r.V<1||r.V>53)return null;"w"in r||(r.w=1),"Z"in r?(o=(i=KS(qS(r.y,0,1))).getUTCDay(),i=o>4||0===o?MS.ceil(i):MS(i),i=yS.offset(i,7*(r.V-1)),r.y=i.getUTCFullYear(),r.m=i.getUTCMonth(),r.d=i.getUTCDate()+(r.w+6)%7):(o=(i=US(qS(r.y,0,1))).getDay(),i=o>4||0===o?ES.ceil(i):ES(i),i=bS.offset(i,7*(r.V-1)),r.y=i.getFullYear(),r.m=i.getMonth(),r.d=i.getDate()+(r.w+6)%7)}else("W"in r||"U"in r)&&("w"in r||(r.w="u"in r?r.u%7:"W"in r?1:0),o="Z"in r?KS(qS(r.y,0,1)).getUTCDay():US(qS(r.y,0,1)).getDay(),r.m=0,r.d="W"in r?(r.w+6)%7+7*r.W-(o+5)%7:r.w+7*r.U-(o+6)%7);return"Z"in r?(r.H+=r.Z/100|0,r.M+=r.Z%100,KS(r)):US(r)}}function D(e,t,n,i){for(var o,r,s=0,a=t.length,l=n.length;s<a;){if(i>=l)return-1;if(37===(o=t.charCodeAt(s++))){if(o=t.charAt(s++),!(r=y[o in $S?t.charAt(s++):o])||(i=r(e,n,i))<0)return-1}else if(o!=n.charCodeAt(i++))return-1}return i}return C.x=S(n,C),C.X=S(i,C),C.c=S(t,C),b.x=S(n,b),b.X=S(i,b),b.c=S(t,b),{format:function(e){var t=S(e+="",C);return t.toString=function(){return e},t},parse:function(e){var t=x(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=S(e+="",b);return t.toString=function(){return e},t},utcParse:function(e){var t=x(e+="",!0);return t.toString=function(){return e},t}}}(e),ZS=YS.format,YS.parse,YS.utcFormat,YS.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});class bD{constructor(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this.scaleType=e,this.domain=t,this.range=n,this.scale=function(e,t,n){switch(e){case"linear":case"log":return{type:"numeric",scale:fD(e,t).range(n)};case"time":return{type:"time",scale:wD(t).range(n)};case"categorical":return{type:"categorical",scale:CD(t).range(n)}}}(this.scaleType,this.domain,this.range),this.d3Scale=this.scale.scale,this.isCategorical()&&(i?(this.d3Scale.paddingInner(.7),this.d3Scale.paddingOuter(0)):(this.d3Scale.paddingInner(.2),this.d3Scale.paddingOuter(.05)))}cloneScale(e,t,n){return new bD(e||this.scaleType,t||this.domain,n||this.range)}isNumeric(){return"numeric"===this.scale.type}isTime(){return"time"===this.scale.type}isCategorical(){return"categorical"===this.scale.type}}class yD{constructor(e,t,n,i){this.scaleType=e;const o=fD(e,t).range(n);null!==i&&o.nice(i),this.scale={type:"numeric",scale:o},this.d3Scale=this.scale.scale}isCategorical(){return!1}}function SD(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function xD(e){SD(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"===a(e)&&"[object Date]"===t?new Date(e.getTime()):"number"===typeof e||"[object Number]"===t?new Date(e):("string"!==typeof e&&"[object String]"!==t||"undefined"===typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}function DD(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function ED(e){SD(1,arguments);var t=xD(e);return t.setHours(0,0,0,0),t}function FD(e,t){var n=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return n<0?-1:n>0?1:n}function kD(e,t){SD(2,arguments);var n=xD(e),i=xD(t),o=FD(n,i),r=Math.abs(function(e,t){SD(2,arguments);var n=ED(e),i=ED(t),o=n.getTime()-DD(n),r=i.getTime()-DD(i);return Math.round((o-r)/864e5)}(n,i));n.setDate(n.getDate()-o*r);var s=o*(r-Number(FD(n,i)===-o));return 0===s?0:s}function AD(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function RD(e,t){SD(2,arguments);var n=xD(e),i=AD(t);return isNaN(i)?new Date(NaN):i?(n.setDate(n.getDate()+i),n):n}function PD(e,t){SD(2,arguments);var n=xD(e),i=AD(t);if(isNaN(i))return new Date(NaN);if(!i)return n;var o=n.getDate(),r=new Date(n.getTime());return r.setMonth(n.getMonth()+i+1,0),o>=r.getDate()?r:(n.setFullYear(r.getFullYear(),r.getMonth(),o),n)}function TD(e,t){if(SD(2,arguments),!t||"object"!==a(t))return new Date(NaN);var n=t.years?AD(t.years):0,i=t.months?AD(t.months):0,o=t.weeks?AD(t.weeks):0,r=t.days?AD(t.days):0,s=t.hours?AD(t.hours):0,l=t.minutes?AD(t.minutes):0,u=t.seconds?AD(t.seconds):0,c=xD(e),d=i||n?PD(c,i+12*n):c,h=r||o?RD(d,r+7*o):d,p=1e3*(u+60*(l+60*s));return new Date(h.getTime()+p)}function _D(e,t){if(e.isNumeric())return e.d3Scale.ticks(t);if(e.isTime()){const n=e.d3Scale.ticks(t),i=e.d3Scale.domain();return function(e,t){if(e.length<3||!function(e){let t=!1,n=!1;for(let i=1;i<e.length;i++)t=t||MD(e[i-1],e[i],1),n=n||MD(e[i-1],e[i],2);return t&&n}(e))return e;return function(e,t){const n=[];let i=e;for(;i<t;)n.push(i),i=TD(i,{days:2});return n}(e[0],t)}(n,i[i.length-1])}return e.d3Scale.domain()}function MD(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.abs(kD(e,t))===n}const ID=(0,i.memo)(function(e){let{ticks:t,scale:n,height:o}=e;return i.createElement("g",{"aria-hidden":"true"},t.map(e=>{var t;const r=null!==(t=n.d3Scale(e))&&void 0!==t?t:NaN;return isFinite(r)&&i.createElement("line",{key:e,className:qC.grid,x1:r,y1:0,x2:r,y2:o})}))});const LD=(0,i.memo)((0,i.forwardRef)(function(e,t){let{height:n,showPoints:o=!0,showLine:r=!0,points:s}=e;const[a]=s||[];return i.createElement("g",null,i.createElement("line",{ref:t,"aria-hidden":"true",className:qC["vertical-marker"],style:{visibility:r&&a?"visible":"hidden"},x1:null===a||void 0===a?void 0:a.x,x2:null===a||void 0===a?void 0:a.x,y1:0,y2:n}),o&&s&&s.map(e=>i.createElement("circle",{key:e.key,"aria-hidden":"true",className:qC["vertical-marker-circle"],cx:e.x,cy:e.y,r:4,stroke:e.color})))}));const ND="awsui_root_1fcus_5bfgt_145",BD="awsui_clickable_1fcus_5bfgt_154",OD="awsui_precise_1fcus_5bfgt_158",GD="awsui_focus-outline_1fcus_5bfgt_162",zD="awsui_application_1fcus_5bfgt_171",VD=(0,i.forwardRef)(function(e,t){let{activeElementKey:n,activeElementRef:o,onFocus:r,onBlur:s,onKeyDown:a}=e;const l=(0,i.useRef)(null),u=(0,i.useRef)(null),c=(0,i.useRef)(!1),[d,h]=(0,i.useState)(!1),p=(0,i.useCallback)(e=>{!1===c.current?(h(!0),null===r||void 0===r||r(e)):c.current=!1},[r]),g=(0,i.useCallback)(e=>{!1===c.current&&(h(!1),null===s||void 0===s||s(e),function(e){for(const t of e.getAttributeNames())"role"!==t&&"aria"!==t.slice(0,4)||e.removeAttribute(t);e.tabIndex=-1,e.setAttribute("focusable","false"),e.setAttribute("aria-hidden","true")}(u.current))},[s]),m=a;return(0,i.useImperativeHandle)(t,()=>({focus:()=>HD(u.current,(null===o||void 0===o?void 0:o.current)||null)}),[o]),(0,i.useEffect)(()=>{d&&!0!==c.current&&(c.current=!0,l.current.removeChild(u.current),l.current.appendChild(u.current),HD(u.current,(null===o||void 0===o?void 0:o.current)||null))},[d,n,o]),i.createElement("g",{ref:l},i.createElement("g",{tabIndex:-1,ref:u,onFocus:p,onBlur:g,onKeyDown:m,className:zD}))});function HD(e,t){for(const n of e.getAttributeNames())"role"!==n&&"aria"!==n.slice(0,4)||e.removeAttribute(n);if(t)for(const n of t.getAttributeNames())if("role"===n||"aria"===n.slice(0,4)){const i=t.getAttribute(n);i&&e.setAttribute(n,i)}e.tabIndex=0,e.setAttribute("focusable","true"),e.setAttribute("aria-hidden","false"),e.focus({preventScroll:!0})}function jD(e){let{elementKey:t,elementRef:n,offset:o=0}=e;const r=(0,i.useRef)(null),s=function(){const[e,t]=(0,i.useState)(!1);return(0,i.useEffect)(()=>{const e=new AbortController;return document.addEventListener("mousedown",function(){return t(!1)},{signal:e.signal}),document.addEventListener("keydown",function(e){Xt(e)||t(!0)},{signal:e.signal}),()=>{e.abort()}}),e}();return(0,i.useEffect)(()=>{var e;if(r.current)if(s&&t&&n&&n.current&&n.current.getBBox){const e=n.current.getBBox();!function(e,t,n){const i="number"===typeof n?n:n.x,o="number"===typeof n?n:n.y;e.setAttribute("x",(t.x-i).toString()),e.setAttribute("y",(t.y-o).toString()),e.setAttribute("width",(t.width+2*i).toString()),e.setAttribute("height",(t.height+2*o).toString()),e.style.visibility="visible"}(r.current,e,o)}else(e=r.current).style.visibility="hidden",e.removeAttribute("x"),e.removeAttribute("y"),e.removeAttribute("width"),e.removeAttribute("height")},[s,t,n,o]),i.createElement("rect",{ref:r,"aria-hidden":"true",className:GD,rx:"2"})}const WD=3,UD=3,KD=(0,i.forwardRef)(function(e,t){let{width:n,height:o,transform:r,offsetTop:s,offsetBottom:a,offsetLeft:l,offsetRight:u,ariaLabel:c,ariaLabelledby:d,ariaRoleDescription:h,ariaDescription:p,ariaDescribedby:g,activeElementKey:m,activeElementRef:v,ariaLiveRegion:f,isClickable:w,isPrecise:C,children:b,onClick:y,onKeyDown:S,focusOffset:x=WD,activeElementFocusOffset:D=UD,onMouseMove:E,onMouseOut:F,onApplicationBlur:k,onApplicationFocus:A}=e;const R=Mt("[charts]"),P=(0,i.useRef)(null),T=(0,i.useRef)(null),_=(0,i.useRef)(!1),[M,I]=(0,i.useState)(!1),[L,N]=(0,i.useState)(!1),B=Yi("awsui-chart-plot__description"),O=[p&&B,g].filter(Boolean).join(" ");(0,i.useImperativeHandle)(t,()=>({svg:P.current,focusPlot:()=>P.current.focus(),focusApplication:()=>T.current.focus()}));const G=S,z=!L,V=z?0:-1,H=L?{}:{"aria-label":c,"aria-labelledby":d,"aria-describedby":O,"aria-roledescription":R("i18nStrings.chartAriaRoleDescription",h)};return i.createElement(i.Fragment,null,i.createElement("svg",Object.assign({onMouseMove:E,onMouseOut:F,focusable:z,tabIndex:V,role:"application","aria-hidden":"false"},H,{ref:P,style:{width:n,height:o,marginTop:s,marginBottom:a,marginLeft:l,marginRight:u},className:Gn(ND,{[BD]:w,[OD]:C}),onMouseDown:()=>{_.current=!0},onClick:y,onFocus:e=>{_.current||m?T.current.focus():e.target===P.current&&I(!0)},onBlur:e=>{e.target===P.current&&I(!1)},onKeyDown:e=>{M&&-1!==[ir.space,ir.enter,ir.up,ir.left,ir.right,ir.down].indexOf(e.keyCode)&&T.current.focus()}}),i.createElement(jD,{elementRef:P,elementKey:M,offset:x}),i.createElement("g",{transform:r},i.createElement(VD,{activeElementKey:L&&m||null,activeElementRef:v,ref:T,onFocus:e=>{null===A||void 0===A||A(e,_.current?"mouse":"keyboard"),_.current=!1,N(!0)},onBlur:e=>{null===k||void 0===k||k(e),N(!1)},onKeyDown:G}),p&&z&&i.createElement("desc",{"aria-hidden":"true",id:B},p),b,i.createElement(jD,{elementRef:v,elementKey:L&&m,offset:D}))),i.createElement(cs,{hidden:!0,tagName:"span"},f))});function qD(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];const[o,r]=(0,i.useState)(0);return ki((0,i.useCallback)(e,[...n,t]),e=>!t&&r(e.borderBoxHeight)),t?void 0:o}function YD(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;const[n,i]=Ri((e,n)=>null===n||Math.abs(n-e.contentBoxWidth)>=t?e.contentBoxWidth:n);return[null!==n&&void 0!==n?n:e,i]}const ZD={series:"awsui_series_1yz9c_v68e6_189","series--bar":"awsui_series--bar_1yz9c_v68e6_190",series__rect:"awsui_series__rect_1yz9c_v68e6_190",exiting:"awsui_exiting_1yz9c_v68e6_207","awsui-motion-fade-out-0":"awsui_awsui-motion-fade-out-0_1yz9c_v68e6_1",root:"awsui_root_1yz9c_v68e6_229","series--highlighted":"awsui_series--highlighted_1yz9c_v68e6_242","series__bar--highlighted":"awsui_series__bar--highlighted_1yz9c_v68e6_243","series--dimmed":"awsui_series--dimmed_1yz9c_v68e6_247","series--threshold":"awsui_series--threshold_1yz9c_v68e6_251","bar-group":"awsui_bar-group_1yz9c_v68e6_256"};function $D(e){let{ariaLabel:t,isRefresh:n,isPopoverPinned:o,barGroups:r,highlightedGroupIndex:s,highlightedGroupRef:a}=e;return i.createElement("g",{role:"group","aria-hidden":"true"},r.map((e,r)=>i.createElement("rect",{key:r,x:Math.max(0,e.position.x-2),y:Math.max(0,e.position.y-2),width:e.position.width+4,height:e.position.height+4,ref:r===s?a:void 0,rx:n?4:2,role:"button","aria-label":t,"aria-haspopup":!0,"aria-expanded":o,fill:"none",className:ZD["bar-group"]})))}const XD="awsui_root_1t44z_1wh64_145",QD="awsui_popover-body_1t44z_1wh64_178",JD="awsui_footer_1t44z_1wh64_182",eE="awsui_header_dgs8z_qsmmj_5",tE="awsui_body_dgs8z_qsmmj_6",nE="awsui_footer_dgs8z_qsmmj_7",iE=i.forwardRef(function(e,t){var{position:n="right",size:o="medium",fixedWidth:r=!1,dismissButton:s=!1,dismissAriaLabel:a,children:l,footer:u,title:c,trackRef:d,getTrack:h,trackKey:p,onDismiss:g,container:m,minVisibleBlockSize:v,onMouseEnter:f,onMouseLeave:w,onBlur:C}=e,b=Et(e,["position","size","fixedWidth","dismissButton","dismissAriaLabel","children","footer","title","trackRef","getTrack","trackKey","onDismiss","container","minVisibleBlockSize","onMouseEnter","onMouseLeave","onBlur"]);const y=zt(b),S=(0,i.useRef)(null),x=Tt(S,t);(0,i.useEffect)(()=>{const e=e=>{!e.target||wo(S.current,e.target)||lo(m,e.target)||g(!0)};return document.addEventListener("mousedown",e,{capture:!0}),()=>{document.removeEventListener("mousedown",e,{capture:!0})}},[m,g]);const D=s;return i.createElement("div",Object.assign({},y,{className:Gn(qo.root,XD,y.className),ref:x,onMouseEnter:f,onMouseLeave:w,onBlur:C,tabIndex:-1}),i.createElement(Sr,{size:o,fixedWidth:r,position:n,trackRef:d,getTrack:h,trackKey:p,minVisibleBlockSize:v,arrow:e=>i.createElement("div",{className:Gn(qo.arrow,qo["arrow-position-".concat(e)])},i.createElement("div",{className:qo["arrow-outer"]}),i.createElement("div",{className:qo["arrow-inner"]})),keepPosition:!0,allowVerticalOverflow:!0,allowScrollToFit:D,hoverArea:!0},i.createElement(or,{dismissButton:s,dismissAriaLabel:a,header:i.createElement("span",{className:eE},c),onDismiss:g,overflowVisible:"content",className:QD,variant:"chart"},i.createElement("div",{className:tE},l),u&&i.createElement("div",{className:Gn(nE,JD)},u))))});function oE(){return oE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},oE.apply(null,arguments)}function rE(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}var sE=function(e,t){return e&&t&&t.split(" ").forEach(function(t){return i=t,void((n=e).classList?n.classList.remove(i):"string"===typeof n.className?n.className=rE(n.className,i):n.setAttribute("class",rE(n.className&&n.className.baseVal||"",i)));var n,i})},aE=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))||this).appliedClasses={appear:{},enter:{},exit:{}},t.onEnter=function(e,n){var i=t.resolveArguments(e,n),o=i[0],r=i[1];t.removeClasses(o,"exit"),t.addClass(o,r?"appear":"enter","base"),t.props.onEnter&&t.props.onEnter(e,n)},t.onEntering=function(e,n){var i=t.resolveArguments(e,n),o=i[0],r=i[1]?"appear":"enter";t.addClass(o,r,"active"),t.props.onEntering&&t.props.onEntering(e,n)},t.onEntered=function(e,n){var i=t.resolveArguments(e,n),o=i[0],r=i[1]?"appear":"enter";t.removeClasses(o,r),t.addClass(o,r,"done"),t.props.onEntered&&t.props.onEntered(e,n)},t.onExit=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"appear"),t.removeClasses(n,"enter"),t.addClass(n,"exit","base"),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var n=t.resolveArguments(e)[0];t.addClass(n,"exit","active"),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"exit"),t.addClass(n,"exit","done"),t.props.onExited&&t.props.onExited(e)},t.resolveArguments=function(e,n){return t.props.nodeRef?[t.props.nodeRef.current,e]:[e,n]},t.getClassNames=function(e){var n=t.props.classNames,i="string"===typeof n,o=i?""+(i&&n?n+"-":"")+e:n[e];return{baseClassName:o,activeClassName:i?o+"-active":n[e+"Active"],doneClassName:i?o+"-done":n[e+"Done"]}},t}Dr(t,e);var n=t.prototype;return n.addClass=function(e,t,n){var i=this.getClassNames(t)[n+"ClassName"],o=this.getClassNames("enter").doneClassName;"appear"===t&&"done"===n&&o&&(i+=" "+o),"active"===n&&e&&kr(e),i&&(this.appliedClasses[t][n]=i,function(e,t){e&&t&&t.split(" ").forEach(function(t){return i=t,void((n=e).classList?n.classList.add(i):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(n,i)||("string"===typeof n.className?n.className=n.className+" "+i:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+i)));var n,i})}(e,i))},n.removeClasses=function(e,t){var n=this.appliedClasses[t],i=n.base,o=n.active,r=n.done;this.appliedClasses[t]={},i&&sE(e,i),o&&sE(e,o),r&&sE(e,r)},n.render=function(){var e=this.props,t=(e.classNames,r(e,["classNames"]));return i.createElement(Lr,oE({},t,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(i.Component);aE.defaultProps={classNames:""},aE.propTypes={};const lE=aE,uE="awsui-screenreader-text";const cE="awsui_header-label_4mvj3_1h74t_5",dE="awsui_root_4mvj3_1h74t_6",hE=e=>{var{className:t,children:n,header:o,variant:r,expanded:s,disableContentPaddings:a,__internalRootRef:l,__injectAnalyticsComponentMetadata:u}=e,c=Et(e,["className","children","header","variant","expanded","disableContentPaddings","__internalRootRef","__injectAnalyticsComponentMetadata"]);const d=Vt(c),h={name:"awsui.ExpandableSection",label:{root:"self"},properties:{variant:r,expanded:"".concat(!!s)}},p=u?Qi({component:h}):{};return"container"===r||"stacked"===r?i.createElement(Xw,{subStepIdentifier:null===d||void 0===d?void 0:d.instanceIdentifier,subStepErrorContext:null===d||void 0===d?void 0:d.errorContext},i.createElement(Wf,Object.assign({},c,{className:t,header:o,variant:"stacked"===r?"stacked":"default",disableContentPaddings:a||!s,disableHeaderPaddings:!0,__hiddenContent:!s,__internalRootRef:l},p),n)):i.createElement("div",Object.assign({className:t},c,{ref:l},p,eo(".".concat(cE))),o,n)},pE=(e,t)=>t.includes(e);function gE(e){return pE(e,["container","default","footer","inline"])}function mE(e){return pE(e,["container","compact","default","inline"])}const vE={"content-enter":"awsui_content-enter_gwq0h_nchqn_161","awsui-motion-fade-in":"awsui_awsui-motion-fade-in_gwq0h_nchqn_1","trigger-expanded":"awsui_trigger-expanded_gwq0h_nchqn_183",icon:"awsui_icon_gwq0h_nchqn_197",root:"awsui_root_gwq0h_nchqn_211","expand-button":"awsui_expand-button_gwq0h_nchqn_246",expanded:"awsui_expanded_gwq0h_nchqn_254","icon-container":"awsui_icon-container_gwq0h_nchqn_264","icon-container-container":"awsui_icon-container-container_gwq0h_nchqn_268",wrapper:"awsui_wrapper_gwq0h_nchqn_272","wrapper-default":"awsui_wrapper-default_gwq0h_nchqn_280","wrapper-inline":"awsui_wrapper-inline_gwq0h_nchqn_280","wrapper-footer":"awsui_wrapper-footer_gwq0h_nchqn_280","wrapper-navigation":"awsui_wrapper-navigation_gwq0h_nchqn_284","wrapper-container":"awsui_wrapper-container_gwq0h_nchqn_287","wrapper-compact":"awsui_wrapper-compact_gwq0h_nchqn_291","header-deprecated":"awsui_header-deprecated_gwq0h_nchqn_304","wrapper-expanded":"awsui_wrapper-expanded_gwq0h_nchqn_310",header:"awsui_header_gwq0h_nchqn_304","header-wrapper":"awsui_header-wrapper_gwq0h_nchqn_347","header-actions-wrapper":"awsui_header-actions-wrapper_gwq0h_nchqn_359","header-button":"awsui_header-button_gwq0h_nchqn_365","header-container-button":"awsui_header-container-button_gwq0h_nchqn_365","header-container":"awsui_header-container_gwq0h_nchqn_365","header-navigation":"awsui_header-navigation_gwq0h_nchqn_400","header-text":"awsui_header-text_gwq0h_nchqn_437",content:"awsui_content_gwq0h_nchqn_161","content-default":"awsui_content-default_gwq0h_nchqn_450","content-inline":"awsui_content-inline_gwq0h_nchqn_450","content-footer":"awsui_content-footer_gwq0h_nchqn_454","content-expanded":"awsui_content-expanded_gwq0h_nchqn_458","content-compact":"awsui_content-compact_gwq0h_nchqn_461",focusable:"awsui_focusable_gwq0h_nchqn_465","click-target":"awsui_click-target_gwq0h_nchqn_480"},fE=e=>{const t={action:e?"collapse":"expand",detail:{label:{rootSelector:".".concat(dE)}}};return Qi(t)},wE=e=>{let{id:t,className:n,onClick:o,ariaLabel:r,ariaControls:s,expanded:a,children:l,icon:u,onKeyUp:c,onKeyDown:d,variant:h}=e;return i.createElement("div",Object.assign({id:t,role:"button",className:Gn(n,vE["expand-button"],vE["click-target"],vE["header-deprecated"],cE),tabIndex:0,onKeyUp:c,onKeyDown:d,onClick:o,"aria-label":r,"aria-controls":s,"aria-expanded":a},fE(a)),i.createElement("div",{className:Gn(vE["icon-container"],vE["icon-container-".concat(h)])},u),l)},CE=e=>{let{id:t,className:n,onClick:o,ariaLabelledBy:r,ariaLabel:s,ariaControls:a,expanded:l,children:u,icon:c}=e;return i.createElement("div",{id:t,className:Gn(n,vE["click-target"],cE)},i.createElement("button",Object.assign({className:Gn(vE["icon-container"],vE["expand-button"]),"aria-labelledby":r,"aria-label":s,"aria-controls":a,"aria-expanded":l,type:"button",onClick:o},fE(l)),c),u)},bE=e=>{let{id:t,descriptionId:n,className:o,onClick:r,ariaLabel:s,ariaControls:a,expanded:l,children:u,icon:c,headerDescription:d,headerCounter:h,headerInfo:p,headerActions:g,variant:m,headingTagOverride:v,onKeyUp:f,onKeyDown:w}=e;const C="container"===m,b=v||"div",y=mE(m),S=y&&(p||g),x=y&&g,D=gE(m)&&d&&i.createElement("span",{id:n,className:vE["description-".concat(m)]},d),E={onClick:r,onKeyDown:w,onKeyUp:f},F=S?E:void 0,k=F||C||!D?void 0:E,A=F||k?void 0:E,R=i.createElement("span",Object.assign({className:Gn(vE["expand-button"],C?vE["header-container-button"]:vE["header-button"],F&&vE["click-target"]),role:"button",tabIndex:0,"aria-label":s,"aria-labelledby":!s&&D?t:void 0,"aria-describedby":D?n:void 0,"aria-controls":a,"aria-expanded":l},F,F?fE(l):{}),i.createElement("span",{className:Gn(vE["icon-container"],vE["icon-container-".concat(m)])},c),i.createElement("span",{id:t,className:Gn(vE["header-text"],cE)},u));return i.createElement("div",Object.assign({className:Gn(o,A&&vE["click-target"])},A,A?fE(l):{}),C?i.createElement(Rf,{variant:"h2",description:D,counter:h,info:p,actions:x,headingTagOverride:v},R):i.createElement(i.Fragment,null,i.createElement("div",{className:Gn(x&&vE["header-actions-wrapper"])},i.createElement(b,Object.assign({className:Gn(vE["header-wrapper"],k&&vE["click-target"])},k,k?fE(l):{}),R),x),D&&i.createElement(Pf,{variantOverride:"h3"},D)))},yE=e=>{let{id:t,descriptionId:n,className:o,variant:r,header:s,headerText:a,headerDescription:l,headerCounter:u,headerInfo:c,headerActions:d,headingTagOverride:h,expanded:p,ariaControls:g,ariaLabel:m,ariaLabelledBy:v,onKeyUp:f,onKeyDown:w,onClick:C}=e;const b=function(e){return pE(e,["default","inline"])}(r)&&d,y={id:t,icon:i.createElement(oo,{size:"container"===r?"medium":"normal",className:Gn(vE.icon,p&&vE.expanded),name:"caret-down-filled"}),expanded:p,ariaControls:g,ariaLabel:m,onClick:C,variant:r};(u||c)&&function(e){pE(e,["container","compact"])}(r),d&&mE(r),l&&gE(r);const S=Gn(vE.wrapper,vE["wrapper-".concat(r)],(p||b)&&vE["wrapper-expanded"]);return"navigation"===r?i.createElement(CE,Object.assign({className:Gn(o,S),ariaLabelledBy:v},y),null!==a&&void 0!==a?a:s):a||"inline"===r?(!a&&s&&"inline"===r&&Pt(),i.createElement(bE,Object.assign({className:Gn(o,S,p&&vE.expanded),descriptionId:n,headerDescription:l,headerCounter:u,headerInfo:c,headerActions:d,headingTagOverride:h,onKeyUp:f,onKeyDown:w},y),a)):i.createElement(wE,Object.assign({className:Gn(o,S,vE.focusable,p&&vE.expanded),onKeyUp:f,onKeyDown:w},y),s)};function SE(e){var{expanded:t,defaultExpanded:n,onChange:o,variant:r="default",children:s,header:a,headerText:l,headerCounter:u,headerDescription:c,headerInfo:d,headerActions:h,headingTagOverride:p,disableContentPaddings:g,headerAriaLabel:m,__internalRootRef:v,__injectAnalyticsComponentMetadata:f}=e,w=Et(e,["expanded","defaultExpanded","onChange","variant","children","header","headerText","headerCounter","headerDescription","headerInfo","headerActions","headingTagOverride","disableContentPaddings","headerAriaLabel","__internalRootRef","__injectAnalyticsComponentMetadata"]);const C=(0,i.useRef)(null),b=Yi(),y="".concat(b,"-trigger"),S="".concat(b,"-description"),x=zt(w),[D,E]=Fn(t,0,n,{componentName:"ExpandableSection",controlledProp:"expanded",changeHandler:"onChange"}),F=(0,i.useCallback)(e=>{E(e),_i(o,{expanded:e})},[o,E]),k=(0,i.useCallback)(()=>{F(!D)},[F,D]),A={ariaControls:b,ariaLabel:m,ariaLabelledBy:m?void 0:y,onKeyUp:(0,i.useCallback)(e=>{-1!==[ir.enter,ir.space].indexOf(e.keyCode)&&F(!D)},[F,D]),onKeyDown:(0,i.useCallback)(e=>{e.keyCode===ir.space&&e.preventDefault()},[]),onClick:k},R="stacked"===r?"container":r;return i.createElement(hE,Object.assign({},w,{expanded:D,className:Gn(x.className,vE.root,dE),variant:r,disableContentPaddings:g,__injectAnalyticsComponentMetadata:f,header:i.createElement(yE,Object.assign({id:y,descriptionId:S,className:Gn(vE.header,vE["header-".concat(R)],uE),variant:R,expanded:!!D,header:a,headerText:l,headerDescription:c,headerCounter:u,headerInfo:d,headerActions:h,headingTagOverride:p},A)),__internalRootRef:v}),i.createElement(lE,{in:D,timeout:30,classNames:{enter:vE["content-enter"]},nodeRef:C},i.createElement("div",{id:b,ref:C,className:Gn(vE.content,vE["content-".concat(R)],D&&vE["content-expanded"]),role:"group","aria-label":A.ariaLabel,"aria-labelledby":A.ariaLabelledBy,"aria-describedby":gE(R)&&c?S:void 0},s)))}const xE="awsui_dimmed_10ipo_8y0ip_153",DE="awsui_root_10ipo_8y0ip_291",EE="awsui_value_10ipo_8y0ip_323",FE="awsui_expandable_10ipo_8y0ip_327",kE="awsui_list-item_10ipo_8y0ip_331",AE="awsui_inner-list-item_10ipo_8y0ip_332",RE="awsui_key-value-pair_10ipo_8y0ip_337",PE="awsui_expandable-section_10ipo_8y0ip_338",TE="awsui_key_10ipo_8y0ip_337",_E="awsui_sub-items_10ipo_8y0ip_353",ME="awsui_list_10ipo_8y0ip_331",IE="awsui_compact_10ipo_8y0ip_379",LE="awsui_with-sub-items_10ipo_8y0ip_384",NE="awsui_full-width_10ipo_8y0ip_389",BE=(0,i.memo)((0,i.forwardRef)(function(e,t){var{details:n,expandedSeries:o,setPopoverText:r,setExpandedState:s,compactList:a}=e,l=Et(e,["details","expandedSeries","setPopoverText","setExpandedState","compactList"]);const u=zt(l),c=Gn(u.className,DE),d=(0,i.useRef)(null),h=Tt(t,d);(0,i.useEffect)(()=>{if(r)return d.current&&r((e=d.current,Array.from(e.querySelectorAll(".".concat(uE))).map(e=>{var t;if(e instanceof HTMLElement)return null===(t=e.innerText)||void 0===t?void 0:t.split("\n").map(e=>e.trim()).join(" ").trim()}).filter(Boolean).join(", "))),()=>{r("")};var e},[n,r]);return i.createElement("div",Object.assign({},u,{className:c,ref:h}),i.createElement("ul",{className:Gn(ME,a&&IE)},n.map((e,t)=>{let{key:n,value:r,markerType:a,color:l,isDimmed:u,subItems:c,expandableId:d}=e;return i.createElement("li",{key:t,className:Gn({[xE]:u,[kE]:!0,[LE]:null===c||void 0===c?void 0:c.length,[FE]:!!d})},(null===c||void 0===c?void 0:c.length)&&d?i.createElement(GE,{itemKey:n,value:r,markerType:a,color:l,subItems:c,expanded:(h=d,!!o&&o.has(h)),setExpandedState:e=>s&&s(d,e)}):i.createElement(zE,{itemKey:n,value:r,markerType:a,color:l,subItems:c}));var h})))}));function OE(e){let{items:t,expandable:n,expanded:o}=e;return i.createElement("ul",{className:Gn(_E,n&&FE)},t.map((e,t)=>{let{key:r,value:s}=e;return i.createElement("li",{key:t,className:Gn(AE,RE,(o||!n)&&uE)},i.createElement("span",{className:TE},r),i.createElement("span",{className:EE},s))}))}function GE(e){let{itemKey:t,value:n,subItems:o,markerType:r,color:s,expanded:a,setExpandedState:l}=e;return i.createElement("div",{className:PE},r&&s&&i.createElement(OC,{type:r,color:s}),i.createElement("div",{className:NE},i.createElement(SE,{variant:"compact",headerText:t,headerActions:i.createElement("span",{className:Gn(EE,FE)},n),expanded:a,onChange:e=>{let{detail:t}=e;return l(t.expanded)}},i.createElement(OE,{items:o,expandable:!0,expanded:a}))))}function zE(e){let{itemKey:t,value:n,subItems:o,markerType:r,color:s}=e;return i.createElement(i.Fragment,null,i.createElement("div",{className:Gn(RE,uE)},i.createElement("div",{className:TE},r&&s&&i.createElement(OC,{type:r,color:s}),i.createElement("span",null,t)),i.createElement("span",{className:EE},n)),o&&i.createElement(OE,{items:o}))}const VE=i.forwardRef(function(e,t){let{containerRef:n,trackRef:o,isOpen:r,isPinned:s,highlightDetails:a,footer:l,onDismiss:u,size:c="medium",dismissAriaLabel:d,onMouseEnter:h,onMouseLeave:p,onBlur:g,setPopoverText:m}=e;const[v,f]=(0,i.useState)({});return i.createElement(Nr,{in:r},(e,w)=>i.createElement("div",{ref:w,className:Gn("exiting"===e&&ZD.exiting)},(r||"exited"!==e)&&a&&i.createElement(iE,{ref:t,title:a.position,trackRef:o,trackKey:a.position,dismissButton:s,dismissAriaLabel:d,onDismiss:u,container:n.current,size:c,onMouseEnter:h,onMouseLeave:p,onBlur:g,footer:l},i.createElement(BE,{key:a.position,details:a.details,setPopoverText:m,expandedSeries:v[a.position],setExpandedState:(e,t)=>f(n=>{const i=new Set(n[a.position]);return t?i.add(e):i.delete(e),Object.assign(Object.assign({},n),{[a.position]:i})})}))))});function HE(e,t,n){let{x:i,y:o,width:r,height:s}=e;const a=[{x:i,y:o},{x:i+r,y:o},{x:i+r,y:o+s},{x:i,y:o+s}],l={left:2,right:0,top:3,bottom:1}[n];let u="";for(let c=l;c<l+a.length+1;c++){const e=a[c%a.length],n=a[(c+1)%a.length],i=t&&c<l+3?Math.min(t/Math.hypot(n.x-e.x,n.y-e.y),.5):0;c===l&&(u+="M".concat(e.x*(1-i)+n.x*i,",").concat(e.y*(1-i)+n.y*i)),c>l&&(u+="Q".concat(e.x,",").concat(e.y," ").concat(e.x*(1-i)+n.x*i,",").concat(e.y*(1-i)+n.y*i)),c<l+a.length&&(u+="L".concat(e.x*i+n.x*(1-i),",").concat(e.y*i+n.y*(1-i)))}return u+"Z"}const jE={line:"line",bar:"rectangle",threshold:"dashed"};const WE=(e,t)=>e instanceof Date&&t instanceof Date?e.getTime()===t.getTime():e===t;const UE=e=>e instanceof Date?e.getTime():e;function KE(e){return"threshold"===e.type&&"y"in e}function qE(e){return"threshold"===e.type&&"x"in e}function YE(e){return"line"===e.type||"bar"===e.type}function ZE(e){let{axis:t,series:n,color:o,xScale:r,yScale:s,highlighted:a,dimmed:l,highlightedGroupIndex:u,totalSeriesCount:c,seriesIndex:d,plotSize:h,chartAreaClipPath:p,stackedBarValues:g,isRtl:m}=e;const v=Cn(),f=!!g,w="x"===t,C=(()=>{var e;if("bar"!==n.type||!r.isCategorical())return[];const t=s.d3Scale,i=n.data.map(e=>{let{x:t}=e;return r.d3Scale(t)||NaN}),o=null!==(e=s.d3Scale(0))&&void 0!==e?e:NaN,a=isFinite(o)?Math.min(h,o):h;let l=r.d3Scale.bandwidth();return!f&&c>1&&(l=(l-4*(c-1))/c,l=Math.max(l,4)),i.map((e,i)=>{var o,r,s,u;const h=n.data[i],p=UE(h.x);let m=e,v=h.y,w=!f,C=!f;if(f){const e=null!==(o=g.get(p))&&void 0!==o?o:new Map;v=null!==(r=e.get(d))&&void 0!==r?r:0;const t=Array.from(e.values()).sort((e,t)=>e-t);w=v===t[0],C=v===t[t.length-1]}else c>1&&(m+=d*(l+4));return v=v<0?v-h.y:v,{x:m,y:null!==(s=t(v))&&void 0!==s?s:NaN,width:l,height:Math.abs((null!==(u=t(h.y))&&void 0!==u?u:NaN)-a),isRoundedStart:w,isRoundedEnd:C}})})(),b=null!==u?r.domain[u]:null;return i.createElement("g",{"aria-label":n.title,clipPath:"url(#".concat(p,")"),className:Gn(ZD.series,ZD["series--bar"],{[ZD["series--highlighted"]]:a,[ZD["series--dimmed"]]:l})},C.map((e,t)=>{let{x:r,y:s,width:a,height:l,isRoundedStart:u,isRoundedEnd:c}=e;if(!isFinite(r)||!isFinite(l))return;const d=l<4,h=d?0:f?3:0,p=v?d?2:4:0,g=w?{x:r+1,y:s+h/2,width:a-2,height:l-h}:{x:s-(m?0:l)+h/2,y:r+1,width:l-h,height:a-2},C=Gn(ZD.series__rect,{[ZD["series--dimmed"]]:null!==b&&!WE(b,n.data[t].x)}),y={fill:o,className:C};let S="none";return S=u&&c?"all":u||c?w?u?"bottom":"top":m?u?"right":"left":u?"left":"right":"none","all"===S?i.createElement("rect",Object.assign({key:t},g,y,{rx:p})):"none"===S?i.createElement("rect",Object.assign({key:t},g,y,{rx:0})):i.createElement("path",Object.assign({key:t,d:HE(g,p,S)},y))}))}var $E=Math.PI,XE=2*$E,QE=1e-6,JE=XE-QE;function eF(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function tF(){return new eF}eF.prototype=tF.prototype={constructor:eF,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,n,i){this._+="Q"+ +e+","+ +t+","+(this._x1=+n)+","+(this._y1=+i)},bezierCurveTo:function(e,t,n,i,o,r){this._+="C"+ +e+","+ +t+","+ +n+","+ +i+","+(this._x1=+o)+","+(this._y1=+r)},arcTo:function(e,t,n,i,o){e=+e,t=+t,n=+n,i=+i,o=+o;var r=this._x1,s=this._y1,a=n-e,l=i-t,u=r-e,c=s-t,d=u*u+c*c;if(o<0)throw new Error("negative radius: "+o);if(null===this._x1)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(d>QE)if(Math.abs(c*a-l*u)>QE&&o){var h=n-r,p=i-s,g=a*a+l*l,m=h*h+p*p,v=Math.sqrt(g),f=Math.sqrt(d),w=o*Math.tan(($E-Math.acos((g+d-m)/(2*v*f)))/2),C=w/f,b=w/v;Math.abs(C-1)>QE&&(this._+="L"+(e+C*u)+","+(t+C*c)),this._+="A"+o+","+o+",0,0,"+ +(c*h>u*p)+","+(this._x1=e+b*a)+","+(this._y1=t+b*l)}else this._+="L"+(this._x1=e)+","+(this._y1=t);else;},arc:function(e,t,n,i,o,r){e=+e,t=+t,r=!!r;var s=(n=+n)*Math.cos(i),a=n*Math.sin(i),l=e+s,u=t+a,c=1^r,d=r?i-o:o-i;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+l+","+u:(Math.abs(this._x1-l)>QE||Math.abs(this._y1-u)>QE)&&(this._+="L"+l+","+u),n&&(d<0&&(d=d%XE+XE),d>JE?this._+="A"+n+","+n+",0,1,"+c+","+(e-s)+","+(t-a)+"A"+n+","+n+",0,1,"+c+","+(this._x1=l)+","+(this._y1=u):d>QE&&(this._+="A"+n+","+n+",0,"+ +(d>=$E)+","+c+","+(this._x1=e+n*Math.cos(o))+","+(this._y1=t+n*Math.sin(o))))},rect:function(e,t,n,i){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +n+"v"+ +i+"h"+-n+"Z"},toString:function(){return this._}};const nF=tF;function iF(e){return function(){return e}}function oF(e){this._context=e}function rF(e){return new oF(e)}function sF(e){return e[0]}function aF(e){return e[1]}function lF(e){let{axis:t,series:n,color:o,xScale:r,yScale:s,chartAreaClipPath:a}=e;var l;const u={"aria-hidden":!0,stroke:o,clipPath:"url(#".concat(a,")")};if("line"===n.type){const e=function(){var e=sF,t=aF,n=iF(!0),i=null,o=rF,r=null;function s(s){var a,l,u,c=s.length,d=!1;for(null==i&&(r=o(u=nF())),a=0;a<=c;++a)!(a<c&&n(l=s[a],a,s))===d&&((d=!d)?r.lineStart():r.lineEnd()),d&&r.point(+e(l,a,s),+t(l,a,s));if(u)return r=null,u+""||null}return s.x=function(t){return arguments.length?(e="function"===typeof t?t:iF(+t),s):e},s.y=function(e){return arguments.length?(t="function"===typeof e?e:iF(+e),s):t},s.defined=function(e){return arguments.length?(n="function"===typeof e?e:iF(!!e),s):n},s.curve=function(e){return arguments.length?(o=e,null!=i&&(r=o(i)),s):o},s.context=function(e){return arguments.length?(null==e?i=r=null:r=o(i=e),s):i},s}().x(e=>{let t=r.d3Scale(e.x)||0;if(r.isCategorical()){t+=Math.max(0,r.d3Scale.bandwidth()-1)/2}return t}).y(e=>s.d3Scale(e.y)||0),t=n.data.filter(e=>{let{x:t}=e;return void 0!==r.d3Scale(t)});return i.createElement("path",Object.assign({},u,{d:e(t)||""}))}if(KE(n)){const[e,o]=r.d3Scale.range(),a=s.d3Scale(n.y),l="x"===t?{x1:e,x2:o,y1:a,y2:a}:{x1:a,x2:a,y1:e,y2:o};return i.createElement("line",Object.assign({},u,l))}if(qE(n)){const[e,o]=s.d3Scale.range(),a=r.isCategorical()?Math.max(0,r.d3Scale.bandwidth()-1)/2:0,c=(null!==(l=r.d3Scale(n.x))&&void 0!==l?l:NaN)+a,d="x"===t?{x1:c,x2:c,y1:e,y2:o}:{x1:e,x2:o,y1:c,y2:c};return i.createElement("line",Object.assign({},u,d))}return null}oF.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}};function uF(e){let{axis:t,plotHeight:n,plotWidth:o,highlightedGroupIndex:r,highlightedSeries:s,stackedBars:a,isGroupNavigation:l,visibleSeries:u,xScale:c,yScale:d,isRtl:h}=e;const p=Yi("awsui-mixed-line-bar-chart__chart-area-"),g=Yi("awsui-line-chart__chart-area-"),m=(0,i.useMemo)(()=>{if(!a)return;const e=[];return u.forEach(t=>{let{series:n}=t;"bar"===n.type?e.push(n.data):e.push([])}),function(e){var t,n,i,o;const r=new Map,s=new Map,a=new Map;for(let l=0;l<e.length;l++)for(const u of e[l]){const e=UE(u.x);u.y<0?r.set(e,(null!==(t=r.get(e))&&void 0!==t?t:0)+u.y):s.set(e,(null!==(n=s.get(e))&&void 0!==n?n:0)+u.y);const c=null!==(i=u.y<0?r.get(e):s.get(e))&&void 0!==i?i:0,d=null!==(o=a.get(e))&&void 0!==o?o:new Map;d.set(l,c),a.set(e,d)}return a}(e)},[u,a]);return i.createElement(i.Fragment,null,i.createElement("defs",{"aria-hidden":"true"},i.createElement("clipPath",{id:p},i.createElement("rect",{x:0,y:0,width:o,height:n})),i.createElement("clipPath",{id:g},i.createElement("rect",{x:0,y:-1,width:o,height:n+2}))),i.createElement("g",{"aria-hidden":!!l||void 0,role:"group"},u.map((e,a)=>{let{series:l,color:v}=e;const f=l===s,w=!!s&&!f;switch(l.type){case"line":case"threshold":return i.createElement("g",{key:a,role:"group","aria-label":l.title,className:Gn(ZD.series,ZD["series--".concat(l.type)],{[ZD["series--highlighted"]]:f,[ZD["series--dimmed"]]:w})},i.createElement(lF,{axis:t,series:l,color:v,xScale:c,yScale:d,chartAreaClipPath:g}));case"bar":return i.createElement(ZE,{key:a,axis:t,series:l,color:v,totalSeriesCount:u.filter(e=>"bar"===e.series.type).length,seriesIndex:a,xScale:c,yScale:d,plotSize:"y"===t?o:n,highlighted:f,dimmed:w,chartAreaClipPath:p,stackedBarValues:m,highlightedGroupIndex:r,isRtl:h})}})))}function cF(e){let{position:t,series:n,xTickFormatter:i,detailPopoverSeriesContent:o}=e;const r=i?i(t):t.toString(),s=[];return n.forEach(e=>{const n=function(e){let{internalSeries:t,targetX:n,detailPopoverSeriesContent:i}=e;var o;const{series:r,color:s}=t;if(qE(r))return r.x===n?{key:r.title,value:"",color:s,markerType:"dashed"}:null;if(KE(r))return{key:r.title,value:r.valueFormatter?r.valueFormatter(r.y):r.y,color:s,markerType:"dashed"};if(YE(r))for(const a of r.data)if(WE(n,a.x)){const e=i?i({series:r,x:n,y:a.y}):void 0,t=!!(null===(o=null===e||void 0===e?void 0:e.subItems)||void 0===o?void 0:o.length),l=(null===e||void 0===e?void 0:e.expandable)&&t,u="string"===typeof(null===e||void 0===e?void 0:e.key),c=!(null===e||void 0===e?void 0:e.key)||l&&!u?r.title:e.key;return(null===e||void 0===e?void 0:e.expandable)&&!t&&Pt(),l&&!u&&Pt(),u||l||!(null===e||void 0===e?void 0:e.value)||"string"===typeof e.value||Pt(),{key:c,value:(null===e||void 0===e?void 0:e.value)||(r.valueFormatter?r.valueFormatter(a.y,n):a.y),color:s,markerType:"line"===r.type?"line":"rectangle",subItems:null===e||void 0===e?void 0:e.subItems,expandableId:l?r.title:void 0}}return null}({internalSeries:e,targetX:t,detailPopoverSeriesContent:o});n&&s.push(n)}),{position:r,details:s}}function dF(e){let{plotRef:t,popoverRef:n,scaledSeries:i,barGroups:o,highlightPoint:r,highlightGroup:s,clearHighlightedSeries:a,isGroupNavigation:l,isHandlersDisabled:u,highlightX:c}=e;const d=e=>{var t;if(null===(t=n.current)||void 0===t?void 0:t.firstChild){const t=n.current.firstChild.getBoundingClientRect();if(e.clientX>t.x-12&&e.clientX<t.x+t.width+12&&e.clientY>t.y-12&&e.clientY<t.y+t.height+12)return!0}return!1};return{onSVGMouseMove:e=>{e.target!==t.current.svg||u||d(e)||(l?(e=>{const t=e.target.getBoundingClientRect(),n=e.clientX-t.left,i=e.clientY-t.top;for(let r=0;r<o.length;r++){const{position:{x:e,y:t,width:a,height:l}}=o[r];if(e<=n&&n<=e+a&&t<=i&&i<=t+l)return void s(r)}a()})(e):i.length>0&&(e=>{var t,n;const o=e.target.getBoundingClientRect(),s=e.clientX-o.left,a=i.map(e=>e.x).reduce((e,t)=>Math.abs(t-s)<Math.abs(e-s)?t:e,-1/0);if(isFinite(a)){const l=e.clientY-o.top,u=i.filter(e=>e.x===a||KE(e.series)).map(e=>e.y).reduce((e,t)=>Math.abs(t-l)<Math.abs(e-l)?t:e,-1/0);if(isFinite(u)&&Math.abs(s-a)<6&&Math.abs(l-u)<6){const[{color:e,datum:t,series:n}]=i.filter(e=>(e.x===a||KE(e.series))&&e.y===u);r({x:a,y:u,color:e,datum:t,series:n})}else{let e=null;for(const o of i)if(o.x===a){e=null!==(n=null===(t=o.datum)||void 0===t?void 0:t.x)&&void 0!==n?n:null;break}c({scaledX:a,label:e})}}})(e))},onSVGMouseOut:e=>{u||d(e)||(!lo(t.current.svg,e.relatedTarget)||e.relatedTarget&&e.relatedTarget.classList.contains(ZD.series))&&(c(null),a())},onPopoverLeave:e=>{!u&&lo(t.current.svg,e.relatedTarget)&&(c(null),a())}}}function hF(e){let{series:t,visibleSeries:n,scaledSeries:o,barGroups:r,xScale:s,yScale:a,highlightedPoint:l,highlightedGroupIndex:u,highlightedSeries:c,isHandlersDisabled:d,pinPopover:h,highlightSeries:p,highlightGroup:g,highlightPoint:m,highlightX:v,verticalMarkerX:f,isRtl:w,horizontalBars:C}=e;const[b,y]=(0,i.useState)(null),[S,x]=(0,i.useState)(0),D=(0,i.useMemo)(()=>n.some(e=>{let{series:t}=e;return"bar"===t.type}),[n]),{navigableSeries:E}=(0,i.useMemo)(()=>function(e){const t=[];let n=-1;return e.forEach(e=>{"bar"===e.series.type?-1===n&&(n=t.length,t.push(e.series)):t.push(e.series)}),{navigableSeries:t,navigableBarSeriesIndex:n}}(n),[n]),F=E.length>1,k=(0,i.useMemo)(()=>{const e=[];for(let t=0;t<o.length;t+=1){const n=o[t];void 0===n||e.length&&e[e.length-1].scaledX===n.x||e.push({scaledX:n.x,datum:n.datum})}return e},[o]),A=(0,i.useCallback)((e,n)=>{var i,r,l,u,d;if(D)return;const h=s.isCategorical()?Math.max(0,s.d3Scale.bandwidth()-1)/2:0,g=E.length-1;let v=-1;c&&(v=E.indexOf(c));const f=F?-1:0;let w=0;if(null!==v&&(w=v+e,w>g?w=f:w<f&&(w=g)),-1===w)return p(null),void m(null);const C=E[w],y=t.filter(e=>{let{series:t}=e;return t===C})[0],S=null!==(i=null!==b&&void 0!==b?b:n)&&void 0!==i?i:null;let x=(null!==(r=s.d3Scale(S))&&void 0!==r?r:NaN)+h;if(isFinite(x)||(x=0),"line"===C.type){const e=o.filter(e=>e.series===C).reduce((e,t)=>Math.abs(t.x-x)<Math.abs(e.x-x)?t:e,{x:-1/0,y:-1/0});m(Object.assign(Object.assign({},e),{color:y.color,series:C}))}else if(KE(C)){const e=o.map(e=>{var t;return(null===(t=e.datum)||void 0===t?void 0:t.x)||null}).indexOf(S);m({x:x,y:null!==(l=a.d3Scale(C.y))&&void 0!==l?l:NaN,color:y.color,series:C,datum:null===(u=o[e])||void 0===u?void 0:u.datum})}else qE(C)&&m({x:null!==(d=s.d3Scale(C.x))&&void 0!==d?d:NaN,y:a.d3Scale.range()[0],color:y.color,series:C,datum:{x:C.x,y:NaN}})},[D,s,E,c,F,p,m,t,b,o,a]),R=(0,i.useCallback)(e=>{var t;const i=c||n[0].series;if("line"===i.type||KE(i)){const n=o.filter(e=>e.series===i),r=l||n[0],s=Kf(n.map(e=>e.x).indexOf(r.x)+e,[0,n.length-1]),a=n[s];y((null===(t=a.datum)||void 0===t?void 0:t.x)||null),x(s),m(a)}else if("bar"===i.type){const t=s.domain,n=t.length-1;let i=0;null!==u&&(w&&!C&&(e=-e),i=u+e,i>n?i=0:i<0&&(i=n));const o=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=e;(i<0||i>=t.length)&&(i=0);do{if(t[i].isValid&&t[i].hasData)return i;i+=n,i>=t.length?i=0:i<0&&(i=t.length-1)}while(i!==e);return 0}(i,r,e);y(t[o]),g(o)}},[c,n,o,l,m,s.domain,u,r,g,w,C]),P=(0,i.useCallback)(e=>{var t,n,i,o;const r=k[e];x(e),y((null===(t=r.datum)||void 0===t?void 0:t.x)||null),v({scaledX:null!==(n=null===r||void 0===r?void 0:r.scaledX)&&void 0!==n?n:null,label:null!==(o=null===(i=r.datum)||void 0===i?void 0:i.x)&&void 0!==o?o:null})},[k,v]),T=(0,i.useCallback)(e=>{if(c||D)R(e);else{const t=Kf(S+e,[0,k.length-1]);P(t)}},[c,D,R,S,k.length,P]),_=(0,i.useCallback)(e=>{const t=e.keyCode;t!==ir.up&&t!==ir.right&&t!==ir.down&&t!==ir.left&&t!==ir.space&&t!==ir.enter||(e.preventDefault(),d||(t===ir.down||t===ir.up?A(t===ir.down?1:-1):t===ir.left||t===ir.right?T(t===ir.right?1:-1):t!==ir.enter&&t!==ir.space||h()))},[d,A,T,h]);return{isGroupNavigation:D,onFocus:()=>{D?(()=>{const e=null!==u&&void 0!==u?u:0;y(s.domain[e]),g(e)})():(()=>{var e;if(null===f){const t=w?k.length-1:0;F?P(t):A(0,null===(e=k[t].datum)||void 0===e?void 0:e.x)}})()},onKeyDown:_,xIndex:S}}function pF(e,t,n){const i=t.isCategorical()?Math.max(0,t.d3Scale.bandwidth()-1)/2:0,o=e=>(t.d3Scale(e)||0)+i,r=e=>n.d3Scale(e)||0,s=function(e){const t=new Set;for(const{series:i}of e)switch(i.type){case"bar":case"line":for(const e of i.data)t.add(e.x);break;case"threshold":qE(i)&&t.add(i.x)}const n=[];return t.forEach(e=>n.push(e)),n}(e);function a(e,t,n){var i,s;const a=o(t.x);let l=-1;for(let o=0;o<e.length-1;o++)if(e[o].x<a&&a<e[o+1].x){l=o;break}if(-1!==l){const o=(((null===(i=e[l].datum)||void 0===i?void 0:i.y)||0)+((null===(s=e[l+1].datum)||void 0===s?void 0:s.y)||0))/2;e.push({x:a,y:r(o),datum:{x:t.x,y:NaN},series:e[l].series,color:n})}}const l=e.map(t=>{let{series:n,color:i}=t;const l=[];if("line"===n.type){for(const e of n.data)l.push({x:o(e.x),y:r(e.y),datum:e,series:n,color:i});l.sort((e,t)=>e.x-t.x);for(const t of e)qE(t.series)&&a(l,t.series,t.color)}else if(KE(n)){for(const e of s)l.push({x:o(e),y:r(n.y),datum:{x:e,y:n.y},series:n,color:i});0===s.length&&l.push({x:NaN,y:r(n.y),series:n,color:i})}else qE(n)&&l.push({x:o(n.x),y:NaN,datum:{x:n.x,y:NaN},series:n,color:i});return l});return function(e){const t=[];for(const n of e)for(const e of n)t.push(e);return t}(l).sort((e,t)=>e.x-t.x)}function gF(e){var t,n,{fitHeight:o,hasFilters:r,height:s,series:a,visibleSeries:l,highlightedSeries:u,onHighlightChange:c,highlightedPoint:d,setHighlightedPoint:h,highlightedGroupIndex:p,setHighlightedGroupIndex:g,detailPopoverFooter:m,detailPopoverSize:v="medium",stackedBars:f=!1,horizontalBars:w=!1,xScaleType:C,yScaleType:b,xTickFormatter:y,yTickFormatter:S,emphasizeBaselineAxis:x,xTitle:D,yTitle:E,ariaLabel:F,ariaLabelledby:k,ariaDescription:A,i18nStrings:R={},detailPopoverSeriesContent:P}=e,T=Et(e,["fitHeight","hasFilters","height","series","visibleSeries","highlightedSeries","onHighlightChange","highlightedPoint","setHighlightedPoint","highlightedGroupIndex","setHighlightedGroupIndex","detailPopoverFooter","detailPopoverSize","stackedBars","horizontalBars","xScaleType","yScaleType","xTickFormatter","yTickFormatter","emphasizeBaselineAxis","xTitle","yTitle","ariaLabel","ariaLabelledby","ariaDescription","i18nStrings","detailPopoverSeriesContent"]);const _=(0,i.useRef)(null),M=(0,i.useRef)(null),[I,L]=(0,i.useState)(0),[N,B]=(0,i.useState)(null),[O,G]=(0,i.useState)(""),[z,V]=YD(500),H=Math.round(z/2),j=z?Math.max(0,z-Math.min(I,H)-16):500,W=(0,i.useRef)(null),U=Tt(V,W),K=(0,i.useRef)(null),q=rr(W.current),Y=T.xDomain||function(e,t){return"categorical"===t?e.reduce((e,t)=>(YE(t.series)&&t.series.data.forEach(t=>{let{x:n}=t;-1===e.indexOf(n)&&e.push(n)}),qE(t.series)&&-1===e.indexOf(t.series.x)&&e.push(t.series.x),e),[]):e.reduce((e,t)=>{if(KE(t.series))return e;if(qE(t.series)){const[n,i]=e;return[void 0===n||null===n||t.series.x<n?t.series.x:n,void 0===i||null===i||i<t.series.x?t.series.x:i]}return YE(t.series)?t.series.data.reduce((e,t)=>{let[n,i]=e,{x:o}=t;return[void 0===n||null===n||o<n?o:n,void 0===i||null===i||i<o?o:i]},e):e},[])}(a,C),Z=T.yDomain||function(e,t,n){let i=e;if(n){const{positiveData:t,negativeData:n}=e.reduce((e,t)=>("bar"===t.series.type&&t.series.data.forEach(t=>{let{x:n,y:i}=t;const o=i<0?e.negativeData:e.positiveData,r=function(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return e[n];return null}(o,e=>WE(e.x,n));return r?r.y+=i:o.push({x:n,y:i}),e}),e),{positiveData:[],negativeData:[]});i=[{color:"",index:NaN,series:{type:"bar",title:"positive",data:t}},{color:"",index:NaN,series:{type:"bar",title:"negative",data:n}},...i.filter(e=>"bar"!==e.series.type)]}const o=i.reduce((e,t)=>{if(KE(t.series)){const[n,i]=e;return[void 0===n||t.series.y<n?t.series.y:n,void 0===i||i<t.series.y?t.series.y:i]}return qE(t.series)?e:YE(t.series)?t.series.data.reduce((e,t)=>{let[n,i]=e,{y:o}=t;return[void 0===n||o<n?o:n,void 0===i||i<o?o:i]},e):e},[0,0]);return"log"===t&&0===o[0]&&o[1]>1?[1,o[1]]:o}(a,b,f),$=a.every(e=>{let{series:t}=e;return"line"===t.type||"threshold"===t.type});function X(e,t){const n=(i=e,Math.ceil(i/100));var i;const o=new bD(C,Y,t,$);return{axis:"x",tickCount:n,scale:o,ticks:_D(o,n),tickFormatter:y,title:D,ariaRoleDescription:R.xAxisAriaRoleDescription}}function Q(e,t){const n=(i=e,Math.ceil(i/50));var i;const o=new yD(b,Z,t,T.yDomain?null:n),r=function(e,t){const n=e.d3Scale.ticks(t);return"log"===e.scaleType&&n.length>10?e.d3Scale.ticks(3):n}(o,n);return{axis:"y",tickCount:n,scale:o,ticks:r,tickFormatter:S,title:E,ariaRoleDescription:R.yAxisAriaRoleDescription}}const J=w?Q(j,q?[j,0]:[0,j]):X(j,q?[j,0]:[0,j]),ee=function(e){let{ticks:t,scale:n,tickFormatter:o}=e;const r=(0,i.useRef)(null),s=(0,i.useRef)({}),a=ZC({ticks:t,scale:n,getLabelSpace:e=>void 0!==s.current[e]&&0!==s.current[e]?s.current[e]:r.current&&r.current.getComputedTextLength?(r.current.textContent=e,s.current[e]=r.current.getComputedTextLength(),s.current[e]):0,tickFormatter:o});r.current&&(r.current.textContent="");let l=12;for(const{lines:i}of a)l=Math.max(l,12+16*i.length);return{virtualTextRef:r,formattedTicks:a,height:l}}(Object.assign({},J)),te=(0,i.useRef)(null),ne=qD(()=>te.current,!o),ie=o?null!==ne&&void 0!==ne?ne:0:s,oe=w?X(ie,[0,ie]):Q(ie,[ie,0]),re="x"===J.axis?J:"x"===oe.axis?oe:null,se="y"===J.axis?J:"y"===oe.axis?oe:null;if(!re||!se)throw new Error("Invariant violation: invalid axis props.");const ae=(0,i.useRef)(null),le=(0,i.useRef)(null),ue=w?"y":"x",ce=w?"x":"y",de=pF(l,re.scale,se.scale),he=function(e,t,n,i,o){return t.isCategorical()?t.domain.map(r=>{const s=t.d3Scale(r),a="undefined"!==typeof s&&isFinite(s);return{x:r,isValid:a,hasData:e.some(e=>{let{series:t}=e;return!!KE(t)||!qE(t)&&!!YE(t)&&t.data.some(e=>WE(e.x,r))}),position:"x"===o?{x:0,y:a&&s||0,width:n,height:t.d3Scale.bandwidth()}:{x:a&&s||0,y:0,width:t.d3Scale.bandwidth(),height:i}}}):[]}(l,re.scale,j,ie,ce),{isPopoverOpen:pe,isPopoverPinned:ge,showPopover:me,pinPopover:ve,dismissPopover:fe}=function(){const[e,t]=(0,i.useState)("closed");return{isPopoverOpen:"closed"!==e,isPopoverPinned:"pinned"===e,showPopover:(0,i.useCallback)(()=>t("open"),[]),pinPopover:(0,i.useCallback)(()=>t("pinned"),[]),dismissPopover:(0,i.useCallback)(()=>t("closed"),[])}}(),[we,Ce]=(0,i.useState)(!1);(0,i.useEffect)(()=>{if(!ge){const e=setTimeout(()=>Ce(!1),25);return()=>clearTimeout(e)}Ce(!0)},[ge]);const be=(0,i.useCallback)(e=>{e!==u&&c(e)},[u,c]),ye=(0,i.useCallback)(e=>{var t,n;g(null),h(e),e&&(be(e.series),B({scaledX:e.x,label:null!==(n=null===(t=e.datum)||void 0===t?void 0:t.x)&&void 0!==n?n:null}))},[g,h,be]),Se=(0,i.useCallback)(()=>{h(null),be(null),g(null)},[be,g,h]),xe=(0,i.useCallback)(e=>{e&&Se(),B(e)},[Se]),De=(0,i.useCallback)(e=>{be(null),h(null),g(e)},[be,h,g]),Ee=(0,i.useCallback)(()=>{Se(),fe()},[fe,Se]),Fe=hF({series:a,visibleSeries:l,scaledSeries:de,barGroups:he,xScale:re.scale,yScale:se.scale,highlightedPoint:d,highlightedGroupIndex:p,highlightedSeries:u,isHandlersDisabled:we,pinPopover:ve,highlightSeries:be,highlightGroup:De,highlightPoint:ye,highlightX:xe,clearHighlightedSeries:Ee,verticalMarkerX:N,isRtl:!!q,horizontalBars:w}),{isGroupNavigation:ke}=Fe,Ae=Et(Fe,["isGroupNavigation"]),{onSVGMouseMove:Re,onSVGMouseOut:Pe,onPopoverLeave:Te}=dF({scaledSeries:de,barGroups:he,plotRef:_,popoverRef:K,highlightPoint:ye,highlightGroup:De,clearHighlightedSeries:Ee,isGroupNavigation:ke,isHandlersDisabled:we,highlightX:xe}),_e=(0,i.useMemo)(()=>{var e,t,n;return null!==p?null===(e=he[p])||void 0===e?void 0:e.x:null!==N?N.label:null!==(n=null===(t=null===d||void 0===d?void 0:d.datum)||void 0===t?void 0:t.x)&&void 0!==n?n:null},[d,N,p,he]);(0,i.useEffect)(()=>{const e=e=>{"Escape"===e.key&&fe()};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[fe]),(0,i.useLayoutEffect)(()=>{null===_e&&null===d||me()},[_e,d,me]);const Me=e=>{const t=e.relatedTarget||e.target;null!==t&&t instanceof Element&&wo(W.current,t)||(Ee(),B(null),pe&&!ge&&fe())},Ie=Ae.onKeyDown,Le=re.scale.isCategorical()?Math.max(0,re.scale.d3Scale.bandwidth()-1)/2:0;let Ne=null;if(null!==N)Ne=N.scaledX;else if(ke&&null!==p){const e=null!==(n=re.scale.d3Scale(null===(t=he[p])||void 0===t?void 0:t.x))&&void 0!==n?n:null;null!==e&&(Ne=Le+e)}const Be=(0,i.useMemo)(()=>d?{key:"".concat(d.x,"-").concat(d.y),x:d.x,y:d.y,color:d.color}:null,[d]),Oe=(0,i.useMemo)(()=>null!==Ne?de.filter(e=>{let{x:t,y:n}=e;return(t===Ne||isNaN(t))&&!isNaN(n)}).map((e,t)=>{let{x:n,y:i,color:o}=e;return{key:"".concat(t,"-").concat(n,"-").concat(i),x:w?i:Ne||0,y:w?Ne||0:i,color:o}}):[],[de,Ne,w]),Ge=ke?le:d?ae:M,ze=(0,i.useMemo)(()=>{if(null===_e)return null;if(d){const e=l.filter(e=>e.series===(null===d||void 0===d?void 0:d.series)||qE(e.series));return cF({position:_e,series:e,xTickFormatter:y,detailPopoverSeriesContent:P})}return cF({position:_e,series:l,xTickFormatter:y,detailPopoverSeriesContent:P})},[_e,d,l,y,P]),Ve=(0,i.useMemo)(()=>m&&_e?m(_e):null,[m,_e]),He=ze&&O?"".concat(ze.position,", ").concat(O):"",je=He&&!d&&null===p?He:"",We=!d&&N,Ue=Cn();return i.createElement(eb,{ref:U,minHeight:s+ee.height,fitHeight:!!o,hasFilters:r,leftAxisLabel:i.createElement(YC,{axis:ce,position:"left",title:oe.title}),leftAxisLabelMeasure:i.createElement(lb,{ticks:oe.ticks,scale:oe.scale,tickFormatter:oe.tickFormatter,autoWidth:L,maxLabelsWidth:H}),bottomAxisLabel:i.createElement(YC,{axis:ue,position:"bottom",title:J.title}),chartPlot:i.createElement(KD,{ref:_,width:"100%",height:o?"calc(100% - ".concat(ee.height,"px)"):ie,offsetBottom:ee.height,isClickable:pe&&!ge,ariaLabel:F,ariaLabelledby:k,ariaDescription:A,ariaRoleDescription:null===R||void 0===R?void 0:R.chartAriaRoleDescription,ariaLiveRegion:je,activeElementRef:Ge,activeElementKey:He,activeElementFocusOffset:ke?0:We?{x:8,y:0}:3,onMouseMove:Re,onMouseOut:Pe,onClick:e=>{pe?ge?fe():(ve(),e.preventDefault()):me()},onApplicationFocus:(e,t)=>{"keyboard"===t&&Ae.onFocus()},onApplicationBlur:Me,onKeyDown:Ie},i.createElement("line",{ref:te,x1:"0",x2:"0",y1:"0",y2:"100%",stroke:"transparent",strokeWidth:1,style:{pointerEvents:"none"}}),i.createElement(ab,{axis:ce,ticks:oe.ticks,scale:oe.scale,tickFormatter:oe.tickFormatter,title:oe.title,ariaRoleDescription:oe.ariaRoleDescription,maxLabelsWidth:H,plotWidth:j,plotHeight:ie}),w&&i.createElement(ID,{scale:se.scale,ticks:se.ticks,height:ie}),x&&$&&i.createElement(tb,{axis:ue,scale:se.scale,width:j,height:ie}),i.createElement(uF,{axis:ue,plotWidth:j,plotHeight:ie,highlightedSeries:null!==u&&void 0!==u?u:null,highlightedGroupIndex:p,stackedBars:f,isGroupNavigation:ke,visibleSeries:l,xScale:re.scale,yScale:se.scale,isRtl:!!q}),x&&!$&&i.createElement(tb,{axis:ue,scale:se.scale,width:j,height:ie}),i.createElement(LD,{key:Ne||"",height:ie,showPoints:null===d,showLine:!ke,points:Oe,ref:M}),d&&i.createElement(nb,{ref:ae,point:Be,role:"button",ariaLabel:He,ariaHasPopup:!0,ariaExpanded:ge}),ke&&re.scale.isCategorical()&&i.createElement($D,{ariaLabel:He,isRefresh:Ue,isPopoverPinned:ge,barGroups:he,highlightedGroupIndex:p,highlightedGroupRef:le}),i.createElement(JC,Object.assign({},ee,{axis:ue,scale:J.scale,title:J.title,ariaRoleDescription:J.ariaRoleDescription,height:ie,width:j,offsetLeft:I+12,offsetRight:12,isRTL:q}))),popover:i.createElement(VE,{ref:K,containerRef:W,trackRef:Ge,isOpen:pe,isPinned:ge,highlightDetails:ze,onDismiss:e=>{fe(),e?(Se(),B(null)):setTimeout(()=>{var e,t;!(!d&&null===p&&!N)?null===(e=_.current)||void 0===e||e.focusApplication():null===(t=_.current)||void 0===t||t.focusPlot()},0)},size:v,footer:Ve,dismissAriaLabel:R.detailPopoverDismissAriaLabel,onMouseLeave:Te,onBlur:Me,setPopoverText:G})})}const mF="awsui_marker_1kjc7_9chwz_153",vF="awsui_root_1kjc7_9chwz_167",fF="awsui_title_1kjc7_9chwz_202",wF="awsui_list_1kjc7_9chwz_206",CF="awsui_marker--dimmed_1kjc7_9chwz_252",bF="awsui_marker--highlighted_1kjc7_9chwz_255",yF=(0,i.memo)(function(e){let{series:t,onHighlightChange:n,highlightedSeries:o,legendTitle:r,ariaLabel:s,plotContainerRef:a}=e;const l=Mt("[charts]"),u=(0,i.useRef)(null),c=(0,i.useRef)([]),d=function(e,t){for(let n=0;n<e.length;n++)if(e[n].datum===t)return n;return}(t,o),h=e=>{t[e].datum!==o&&n(t[e].datum)},p=()=>{n(null)};return i.createElement(i.Fragment,null,i.createElement("div",{ref:u,role:"toolbar","aria-label":r||l("i18nStrings.legendAriaLabel",s),className:vF,onKeyDown:e=>{e.keyCode!==ir.right&&e.keyCode!==ir.left||(e.preventDefault(),$u(e,{onInlineStart:()=>(()=>{var e;const n=null!==d&&void 0!==d?d:0,i=n-1>=0?n-1:t.length-1;null===(e=c.current[i])||void 0===e||e.focus()})(),onInlineEnd:()=>(()=>{var e;const n=null!==d&&void 0!==d?d:0,i=n+1<t.length?n+1:0;null===(e=c.current[i])||void 0===e||e.focus()})()}))},onBlur:e=>{var t;(null===e.relatedTarget||u.current&&!u.current.contains(e.relatedTarget)&&!(null===(t=null===a||void 0===a?void 0:a.current)||void 0===t?void 0:t.contains(e.relatedTarget)))&&n(null)}},r&&i.createElement(Ua,{fontWeight:"bold",className:fF},r),i.createElement("div",{className:wF},t.map((e,t)=>{const r=null!==o,s=o===e.datum,a=r&&!s;return i.createElement("div",{role:"button",key:t,"aria-pressed":s,className:Gn(mF,{[CF]:a,[bF]:s}),ref:e=>{e?c.current[t]=e:delete c.current[t]},tabIndex:t===d||void 0===d&&0===t?0:-1,onFocus:()=>h(t),onClick:()=>h(t),onMouseOver:()=>(e=>{e!==o&&n(e)})(e.datum),onMouseLeave:p},e.marker," ",e.label)}))))});function SF(e){let{series:t,visibleSeries:n,highlightedSeries:o,onHighlightChange:r,legendTitle:s,ariaLabel:a,plotContainerRef:l}=e;const u=(0,i.useMemo)(()=>t.filter(e=>-1!==n.indexOf(e.series)).map(e=>{let{series:t,color:n}=e;return{label:t.title,marker:i.createElement(OC,{color:n,type:jE[t.type]}),datum:t}}),[t,n]);return i.createElement(yF,{series:u,highlightedSeries:o||null,onHighlightChange:r,legendTitle:s,ariaLabel:a,plotContainerRef:l})}function xF(e){var{fitHeight:t,height:n,xScaleType:o,yScaleType:r,xDomain:s,yDomain:a,xTickFormatter:l,yTickFormatter:u,highlightedSeries:c,visibleSeries:d,series:h,onFilterChange:p,onHighlightChange:g,i18nStrings:m,ariaLabel:v,ariaLabelledby:f,ariaDescription:w,xTitle:C,yTitle:b,stackedBars:y,horizontalBars:S,hideFilter:x,additionalFilters:D,hideLegend:E,legendTitle:F,statusType:k,detailPopoverSize:A,detailPopoverFooter:R,detailPopoverSeriesContent:P,emphasizeBaselineAxis:T,empty:_,noMatch:M,errorText:I,loadingText:L,recoveryText:N,onRecoveryClick:B,__internalRootRef:O}=e;const G=zt(Et(e,["fitHeight","height","xScaleType","yScaleType","xDomain","yDomain","xTickFormatter","yTickFormatter","highlightedSeries","visibleSeries","series","onFilterChange","onHighlightChange","i18nStrings","ariaLabel","ariaLabelledby","ariaDescription","xTitle","yTitle","stackedBars","horizontalBars","hideFilter","additionalFilters","hideLegend","legendTitle","statusType","detailPopoverSize","detailPopoverFooter","detailPopoverSeriesContent","emphasizeBaselineAxis","empty","noMatch","errorText","loadingText","recoveryText","onRecoveryClick","__internalRootRef"])),z=(0,i.useRef)(null);(0,i.useEffect)(()=>{const e=h.some(e=>"bar"===e.type),t=h.some(e=>"line"===e.type);"categorical"!==o&&e&&Pt(0,"Bar series cannot be used with a ".concat(o," scale. Use a categorical x axis instead.")),S&&t&&Pt();for(const n of h)"threshold"===n.type&&void 0!==n.x&&void 0!==n.y&&Pt(),"threshold"===n.type&&void 0===n.x&&void 0===n.y&&Pt()},[o,S,h]);const V=(0,i.useMemo)(()=>{const e=KC(h,e=>KE(e)||qE(e),e=>e.color||null);return h.map((t,n)=>({index:n,color:e[n],series:t}))},[h]),[H,j]=(0,i.useState)(null),[W,U]=(0,i.useState)(null),[K=null,q]=Fn(c,0,null,{componentName:"MixedLineBarChart",controlledProp:"highlightedSeries",changeHandler:"onHighlightChange"}),[Y,Z]=(0,i.useState)(K);(0,i.useEffect)(()=>{Z(c||null)},[c]);const[$,X]=Fn(d,0,h,{componentName:"MixedLineBarChart",controlledProp:"visibleSeries",changeHandler:"onFilterChange"});const Q=(0,i.useMemo)(()=>V.filter(e=>-1!==(null===$||void 0===$?void 0:$.indexOf(e.series))),[V,$]),J=e=>{q(e),_i(g,{highlightedSeries:e}),Z(e)},{isEmpty:ee,isNoMatch:te,showChart:ne}=VC({externalData:h,visibleData:Q||[],statusType:k}),ie="finished"===k&&(!ee||te)&&(D||!x),oe=!E&&!ee&&"finished"===k,re=!ne&&!E,se=!ne&&!te&&(!x||D),ae=Tt(z,O),le=V.map(e=>{let{series:t,color:n}=e;return{label:t.title,marker:i.createElement(OC,{type:jE[t.type],color:n}),datum:t}});return i.createElement(WC,Object.assign({ref:ae},G,{className:Gn(G.className,ZD.root),fitHeight:!!t,contentMinHeight:n,defaultFilter:ie&&!x?i.createElement(NC,{series:le,onChange:e=>{X(e),_i(p,{visibleSeries:e})},selectedSeries:$||[],i18nStrings:m}):null,additionalFilters:ie?D:null,reserveFilterSpace:!!se,reserveLegendSpace:!!re,chartStatus:i.createElement(HC,{isEmpty:ee,isNoMatch:te,showChart:ne,statusType:k,empty:_,noMatch:M,loadingText:L,errorText:I,recoveryText:N,onRecoveryClick:B}),chart:ne?i.createElement(gF,{fitHeight:t,hasFilters:!!ie,height:n,xScaleType:o,yScaleType:r,xDomain:s,yDomain:a,xTickFormatter:null!==l&&void 0!==l?l:null===m||void 0===m?void 0:m.xTickFormatter,yTickFormatter:null!==u&&void 0!==u?u:null===m||void 0===m?void 0:m.yTickFormatter,emphasizeBaselineAxis:T,stackedBars:y,horizontalBars:S,series:V,visibleSeries:Q,highlightedSeries:K,onHighlightChange:J,highlightedPoint:H,setHighlightedPoint:j,highlightedGroupIndex:W,setHighlightedGroupIndex:U,detailPopoverSize:A,detailPopoverFooter:R,detailPopoverSeriesContent:P,xTitle:C,yTitle:b,ariaLabel:v,ariaLabelledby:f,ariaDescription:w,i18nStrings:m}):null,legend:oe?i.createElement(SF,{series:V,visibleSeries:$||[],highlightedSeries:Y,onHighlightChange:J,legendTitle:F,ariaLabel:null===m||void 0===m?void 0:m.legendAriaLabel,plotContainerRef:z}):null,onBlur:e=>{e.relatedTarget&&!wo(z.current,e.relatedTarget)&&(K&&J(K),j(null),U(null),Z(null))}}))}const DF="awsui_root_g9v3m_im8v7_5";function EF(e){var{series:t=[],height:n=500,xScaleType:o="linear",yScaleType:r="linear",detailPopoverSize:s="medium",statusType:a="finished",emphasizeBaselineAxis:l=!0}=e,u=Et(e,["series","height","xScaleType","yScaleType","detailPopoverSize","statusType","emphasizeBaselineAxis"]);const c=Dn("LineChart",{props:{detailPopoverSize:s,emphasizeBaselineAxis:l,fitHeight:u.fitHeight,hideFilter:u.hideFilter,hideLegend:u.hideLegend,xScaleType:o,yScaleType:r}}),d=zt(u),h=Gn(d.className,DF);return i.createElement(xF,Object.assign({},u,c,{className:h,height:n,xScaleType:o,yScaleType:r,stackedBars:!1,horizontalBars:!1,series:t,detailPopoverSize:s,statusType:a,emphasizeBaselineAxis:l}))}Ln(EF,"LineChart");const FF=EF;function kF(e,t){return t<e?-1:t>e?1:t>=e?0:NaN}function AF(e){return e}var RF=Math.abs,PF=Math.atan2,TF=Math.cos,_F=Math.max,MF=Math.min,IF=Math.sin,LF=Math.sqrt,NF=1e-12,BF=Math.PI,OF=BF/2,GF=2*BF;function zF(e){return e>=1?OF:e<=-1?-OF:Math.asin(e)}function VF(e){return e.innerRadius}function HF(e){return e.outerRadius}function jF(e){return e.startAngle}function WF(e){return e.endAngle}function UF(e){return e&&e.padAngle}function KF(e,t,n,i,o,r,s){var a=e-n,l=t-i,u=(s?r:-r)/LF(a*a+l*l),c=u*l,d=-u*a,h=e+c,p=t+d,g=n+c,m=i+d,v=(h+g)/2,f=(p+m)/2,w=g-h,C=m-p,b=w*w+C*C,y=o-r,S=h*m-g*p,x=(C<0?-1:1)*LF(_F(0,y*y*b-S*S)),D=(S*C-w*x)/b,E=(-S*w-C*x)/b,F=(S*C+w*x)/b,k=(-S*w+C*x)/b,A=D-v,R=E-f,P=F-v,T=k-f;return A*A+R*R>P*P+T*T&&(D=F,E=k),{cx:D,cy:E,x01:-c,y01:-d,x11:D*(o/y-1),y11:E*(o/y-1)}}function qF(){var e=VF,t=HF,n=iF(0),i=null,o=jF,r=WF,s=UF,a=null;function l(){var l,u,c,d=+e.apply(this,arguments),h=+t.apply(this,arguments),p=o.apply(this,arguments)-OF,g=r.apply(this,arguments)-OF,m=RF(g-p),v=g>p;if(a||(a=l=nF()),h<d&&(u=h,h=d,d=u),h>NF)if(m>GF-NF)a.moveTo(h*TF(p),h*IF(p)),a.arc(0,0,h,p,g,!v),d>NF&&(a.moveTo(d*TF(g),d*IF(g)),a.arc(0,0,d,g,p,v));else{var f,w,C=p,b=g,y=p,S=g,x=m,D=m,E=s.apply(this,arguments)/2,F=E>NF&&(i?+i.apply(this,arguments):LF(d*d+h*h)),k=MF(RF(h-d)/2,+n.apply(this,arguments)),A=k,R=k;if(F>NF){var P=zF(F/d*IF(E)),T=zF(F/h*IF(E));(x-=2*P)>NF?(y+=P*=v?1:-1,S-=P):(x=0,y=S=(p+g)/2),(D-=2*T)>NF?(C+=T*=v?1:-1,b-=T):(D=0,C=b=(p+g)/2)}var _=h*TF(C),M=h*IF(C),I=d*TF(S),L=d*IF(S);if(k>NF){var N,B=h*TF(b),O=h*IF(b),G=d*TF(y),z=d*IF(y);if(m<BF&&(N=function(e,t,n,i,o,r,s,a){var l=n-e,u=i-t,c=s-o,d=a-r,h=d*l-c*u;if(!(h*h<NF))return[e+(h=(c*(t-r)-d*(e-o))/h)*l,t+h*u]}(_,M,G,z,B,O,I,L))){var V=_-N[0],H=M-N[1],j=B-N[0],W=O-N[1],U=1/IF(((c=(V*j+H*W)/(LF(V*V+H*H)*LF(j*j+W*W)))>1?0:c<-1?BF:Math.acos(c))/2),K=LF(N[0]*N[0]+N[1]*N[1]);A=MF(k,(d-K)/(U-1)),R=MF(k,(h-K)/(U+1))}}D>NF?R>NF?(f=KF(G,z,_,M,h,R,v),w=KF(B,O,I,L,h,R,v),a.moveTo(f.cx+f.x01,f.cy+f.y01),R<k?a.arc(f.cx,f.cy,R,PF(f.y01,f.x01),PF(w.y01,w.x01),!v):(a.arc(f.cx,f.cy,R,PF(f.y01,f.x01),PF(f.y11,f.x11),!v),a.arc(0,0,h,PF(f.cy+f.y11,f.cx+f.x11),PF(w.cy+w.y11,w.cx+w.x11),!v),a.arc(w.cx,w.cy,R,PF(w.y11,w.x11),PF(w.y01,w.x01),!v))):(a.moveTo(_,M),a.arc(0,0,h,C,b,!v)):a.moveTo(_,M),d>NF&&x>NF?A>NF?(f=KF(I,L,B,O,d,-A,v),w=KF(_,M,G,z,d,-A,v),a.lineTo(f.cx+f.x01,f.cy+f.y01),A<k?a.arc(f.cx,f.cy,A,PF(f.y01,f.x01),PF(w.y01,w.x01),!v):(a.arc(f.cx,f.cy,A,PF(f.y01,f.x01),PF(f.y11,f.x11),!v),a.arc(0,0,d,PF(f.cy+f.y11,f.cx+f.x11),PF(w.cy+w.y11,w.cx+w.x11),v),a.arc(w.cx,w.cy,A,PF(w.y11,w.x11),PF(w.y01,w.x01),!v))):a.arc(0,0,d,S,y,v):a.lineTo(I,L)}else a.moveTo(0,0);if(a.closePath(),l)return a=null,l+""||null}return l.centroid=function(){var n=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,i=(+o.apply(this,arguments)+ +r.apply(this,arguments))/2-BF/2;return[TF(i)*n,IF(i)*n]},l.innerRadius=function(t){return arguments.length?(e="function"===typeof t?t:iF(+t),l):e},l.outerRadius=function(e){return arguments.length?(t="function"===typeof e?e:iF(+e),l):t},l.cornerRadius=function(e){return arguments.length?(n="function"===typeof e?e:iF(+e),l):n},l.padRadius=function(e){return arguments.length?(i=null==e?null:"function"===typeof e?e:iF(+e),l):i},l.startAngle=function(e){return arguments.length?(o="function"===typeof e?e:iF(+e),l):o},l.endAngle=function(e){return arguments.length?(r="function"===typeof e?e:iF(+e),l):r},l.padAngle=function(e){return arguments.length?(s="function"===typeof e?e:iF(+e),l):s},l.context=function(e){return arguments.length?(a=null==e?null:e,l):a},l}const YF=(0,i.memo)(function(e){let{x:t,y:n,rightSide:o,className:r,children:s,containerBoundaries:a}=e;const l=(0,i.useRef)(null),u=(0,i.useRef)(null),c=!!l.current&&rr(l.current);return o=c?!o:o,(0,i.useEffect)(()=>{const e=setTimeout(()=>{const e=rr(u.current),t=u.current.getBoundingClientRect(),n=a?function(e,t){return e.left<t.left?e.right-t.left:e.right>t.right?t.right-e.left:t.right-t.left}(t,a):0;rb(l.current,s,n,e)},25);return()=>clearTimeout(e)}),i.createElement(i.Fragment,null,i.createElement("text",{ref:u,x:t,y:n,style:{textAnchor:o?"start":"end",visibility:"hidden"},"aria-hidden":"true",className:r},s),i.createElement("text",{ref:l,x:t,y:n,style:{textAnchor:o?"start":"end"},className:r},s))});const ZF={segment__path:"awsui_segment__path_1edmh_e6tkd_161",segment:"awsui_segment_1edmh_e6tkd_161",segment__hover:"awsui_segment__hover_1edmh_e6tkd_188",label:"awsui_label_1edmh_e6tkd_202",root:"awsui_root_1edmh_e6tkd_216",content:"awsui_content_1edmh_e6tkd_220","content--small":"awsui_content--small_1edmh_e6tkd_220","content--fit-height":"awsui_content--fit-height_1edmh_e6tkd_223","content--without-labels":"awsui_content--without-labels_1edmh_e6tkd_226","content--medium":"awsui_content--medium_1edmh_e6tkd_232","content--large":"awsui_content--large_1edmh_e6tkd_244","status-container":"awsui_status-container_1edmh_e6tkd_261","chart-container":"awsui_chart-container_1edmh_e6tkd_265","chart-container--fit-height":"awsui_chart-container--fit-height_1edmh_e6tkd_269","chart-container-chart-plot":"awsui_chart-container-chart-plot_1edmh_e6tkd_274","chart-container-chart-plot--fit-height":"awsui_chart-container-chart-plot--fit-height_1edmh_e6tkd_277","inner-content":"awsui_inner-content_1edmh_e6tkd_283",segment__highlight:"awsui_segment__highlight_1edmh_e6tkd_294","segment--dimmed":"awsui_segment--dimmed_1edmh_e6tkd_309","segment--highlighted":"awsui_segment--highlighted_1edmh_e6tkd_312","label--dimmed":"awsui_label--dimmed_1edmh_e6tkd_329","label--align-right":"awsui_label--align-right_1edmh_e6tkd_332","label-text":"awsui_label-text_1edmh_e6tkd_340",label__description:"awsui_label__description_1edmh_e6tkd_348","label-line":"awsui_label-line_1edmh_e6tkd_355","label--highlighted":"awsui_label--highlighted_1edmh_e6tkd_359","popover-header":"awsui_popover-header_1edmh_e6tkd_363"},$F=Math.PI/20,XF={small:{innerRadius:33,outerRadius:50,innerLabelPadding:8,padding:8,paddingLabels:44},medium:{innerRadius:66,outerRadius:100,innerLabelPadding:12,padding:12,paddingLabels:44},large:{innerRadius:93,outerRadius:140,innerLabelPadding:12,padding:12,paddingLabels:44}},QF={small:Object.assign(Object.assign({},XF.small),{innerRadius:38,cornerRadius:3}),medium:Object.assign(Object.assign({},XF.medium),{innerRadius:75,cornerRadius:4}),large:Object.assign(Object.assign({},XF.large),{innerRadius:105,cornerRadius:5})};function JF(e){let{size:t,hasLabels:n,visualRefresh:i}=e;if("string"===typeof t){const e=i?QF[t]:XF[t];return Object.assign(Object.assign({},e),{size:t})}const o=i?QF:XF,r=e=>2*e.outerRadius+2*e.padding+2*(n?e.paddingLabels:0);let s="small";t>r(o.medium)&&(s="medium"),t>r(o.large)&&(s="large");const a=o[s].padding,l=n?o[s].paddingLabels:0,u=o[s].outerRadius/o[s].innerRadius,c=Math.max(30,(t-2*l-2*a)/2),d=c/u;return Object.assign(Object.assign({},o[s]),{outerRadius:c,innerRadius:d,size:s})}const ek=(e,t,n,i)=>{var o;let r=null,s=n?e.length-1:0;for(;n&&s>=0||!n&&s<e.length;){const a=e[s],l={x:parseFloat(a.getAttribute("data-x")||"0"),y:parseFloat(a.getAttribute("data-y")||"0"),height:a.getBoundingClientRect().height},u=t[s];if(n?s--:s++,!r){r=l,a.setAttribute("transform","");continue}if(!n&&l.x<0||n&&l.x>=0)break;a.setAttribute("transform","");const c=r.y+r.height+10-l.y;if(c>0){const e=nk(l,c,i)*(n?-1:1);a.setAttribute("transform","translate(".concat(e," ").concat(c,")"));const t=null===(o=a.parentNode)||void 0===o?void 0:o.querySelector(".".concat(ZF["label-line"]));if(t){const{endY:n,endX:i}=u;t.setAttribute("y2",""+(n+c)),t.setAttribute("x2",""+(i+e))}l.y+=c,l.x+=e}r=l}},tk=e=>Math.pow(e[0],2)+Math.pow(e[1],2),nk=(e,t,n)=>{const i=[e.x,e.y+t],o=[e.x,e.y+e.height+t],r=tk(i)<tk(o)?i:o;return tk(r)<Math.pow(n,2)?Math.sqrt(Math.pow(n,2)-Math.pow(r[1],2))-Math.abs(r[0]):0};function ik(e){let{x:t,y:n,hideTitles:o,hideDescriptions:r,rightSide:s,title:a,description:l,containerBoundaries:u}=e;return i.createElement("g",{className:ZF["label-text"],transform:"","data-x":t,"data-y":n},!o&&i.createElement(YF,{x:t,y:n,rightSide:s,containerBoundaries:u},a),!r&&l&&i.createElement(YF,{x:t,y:n+(o?0:18),rightSide:s,className:ZF.label__description,containerBoundaries:u},l))}const ok=e=>{let{pieData:t,dimensions:n,highlightedSegment:o,segmentDescription:r,visibleDataSum:s,hideTitles:a,hideDescriptions:l,containerRef:u}=e;const c=function(e){const[t,n]=(0,i.useState)({left:0,right:0});return ki(e,e=>{const t=e.target.getBoundingClientRect();n({left:t.left,right:t.right})}),t}(u),d=c.right-c.left-2*(n.outerRadius+n.innerLabelPadding)<300,h=(0,i.useMemo)(()=>{const{outerRadius:e,innerLabelPadding:i}=n,o=qF().innerRadius(e-1).outerRadius(e-1),r=qF().innerRadius(e+i).outerRadius(e+i);return t.map((n,i)=>{const s=t[i],a=function(e,t){if(!(arguments.length>2&&void 0!==arguments[2]&&arguments[2])||t-e<2*$F)return(t+e)/2;const n=e+$F,i=t-$F;return n<0&&i>0?0:n<Math.PI&&i>Math.PI?Math.PI:Math.min(i,Math.abs(Math.PI-i),2*Math.PI-i)<Math.min(n,Math.abs(Math.PI-n),2*Math.PI-n)?i:n}(s.startAngle,s.endAngle,d),l=.5*Math.cos(2*a)+.5;r.outerRadius(e+20*l),r.innerRadius(e+20*l);const[u,c]=o.centroid(Object.assign(Object.assign({},n),{startAngle:a,endAngle:a})),[h,p]=r.centroid(Object.assign(Object.assign({},n),{startAngle:a,endAngle:a})),g=a<Math.PI,m=d?h+20*(g?1:-1):(e+20)*(g?1:-1);return{startX:u,startY:c,breakX:h,breakY:p,endX:m,endY:p,textX:m+5*(g?1:-1),textY:p,rightSide:g,datum:n}})},[t,n,d]),p=(0,i.useRef)(null);return(0,i.useLayoutEffect)(()=>{if(!p.current)return;const e=p.current.querySelectorAll(".".concat(ZF["label-text"]));ek(e,h,!1,n.outerRadius+n.innerLabelPadding),ek(e,h,!0,n.outerRadius+n.innerLabelPadding)},[h,t,n]),i.createElement("g",{className:ZF.markers,"aria-hidden":"true",ref:p},h.map(e=>{let{startX:t,startY:n,breakX:u,breakY:d,endX:h,endY:p,textX:g,textY:m,rightSide:v,datum:f}=e;const w=f.data.datum,C=null===r||void 0===r?void 0:r(w,s);return a&&!C||l&&!w.title?null:i.createElement("g",{key:f.data.index,className:Gn(ZF.label,{[ZF["label--highlighted"]]:o===w,[ZF["label--dimmed"]]:null!==o&&o!==w,[ZF["label--align-right"]]:!v})},i.createElement("line",{x1:t,y1:n,x2:u,y2:d}),i.createElement("line",{x1:u,y1:d,x2:h,y2:p,className:ZF["label-line"]}),i.createElement(ik,{x:g,y:m,rightSide:v,title:w.title,description:C,hideTitles:a,hideDescriptions:l,containerBoundaries:c}))}))};function rk(e){let{pieData:t,highlightedSegment:n,dimensions:o,variant:r,focusedSegmentRef:s,popoverTrackRef:a,segmentAriaRoleDescription:l,onMouseDown:u,onMouseOver:c,onTouchStart:d}=e;const h=Mt("pie-chart"),{arcFactory:p,highlightedArcFactory:g}=(0,i.useMemo)(()=>{const e=o.outerRadius,t="pie"===r?0:o.innerRadius,n=o.cornerRadius||0;return{arcFactory:qF().innerRadius(t).outerRadius(e).cornerRadius(n),highlightedArcFactory:qF().innerRadius(e+4).outerRadius(e+6)}},[o,r]),m=(0,i.useMemo)(()=>{for(const e of t)if(e.data.datum===n){const[t,n]=p.centroid(e);return{cx:t,cy:n}}return null},[n,t,p]);return i.createElement("g",null,t.map(e=>{const t=n===e.data.datum,o=null!==n&&!t,r=p(e)||void 0,a=g(e)||void 0;return i.createElement("g",{key:e.data.index,onTouchStart:()=>d(),onMouseDown:t=>{u(e.data),t.preventDefault()},onMouseOver:()=>c(e.data),className:Gn(ZF.segment,{[ZF["segment--highlighted"]]:t,[ZF["segment--dimmed"]]:o}),ref:t?s:void 0,"aria-label":"".concat(e.data.datum.title," (").concat(e.data.datum.value,")"),role:"button","aria-roledescription":h("i18nStrings.segmentAriaRoleDescription",l)},i.createElement("path",{d:r,fill:e.data.color,className:ZF.segment__path,"aria-hidden":"true"}),i.createElement("path",{d:a,fill:e.data.color,className:Gn(ZF.segment__path,ZF.segment__highlight),"aria-hidden":"true"}))}),i.createElement("circle",Object.assign({},m,{ref:a,r:"1",opacity:"0","aria-hidden":"true"})))}const sk=e=>{let{fitHeight:t,height:n,variant:o,size:r,width:s,i18nStrings:a,ariaLabel:l,ariaLabelledby:u,ariaDescription:c,innerMetricValue:d,innerMetricDescription:h,hideTitles:p,hideDescriptions:g,detailPopoverContent:m,detailPopoverSize:v,detailPopoverFooter:f,segmentDescription:w,highlightedSegment:C,onHighlightChange:b,legendSegment:y,pieData:S,dataSum:x}=e;var D,E;const[F,k]=(0,i.useState)(null),A=(0,i.useRef)(null),R=(0,i.useRef)(null),P=(0,i.useRef)(null),T=(0,i.useRef)(null),_=(0,i.useRef)(null),M=!(p&&g),I=Cn(),L=null!==(D=qD(()=>{var e,t;return null!==(t=null===(e=A.current)||void 0===e?void 0:e.svg)&&void 0!==t?t:null},!t))&&void 0!==D?D:n,N=(0,i.useMemo)(()=>JF({size:t?Math.min(L,s):r,hasLabels:M,visualRefresh:I}),[t,L,s,r,M,I]),B="donut"===o&&(d||h&&"small"!==N.size),O=Yi("awsui-pie-chart__inner"),[G,z]=(0,i.useState)(!1),[V,H]=(0,i.useState)(),j=(0,i.useMemo)(()=>{for(let e=0;e<S.length;e++)if(S[e].data.datum===C)return e;return null},[S,C]),W=(0,i.useMemo)(()=>f&&C?f(C):null,[f,C]),U=Mt("pie-chart"),K=m||((e,t)=>(n,i)=>[{key:e("i18nStrings.detailsValue",t.detailsValue)||"",value:n.value},{key:e("i18nStrings.detailsPercentage",t.detailsPercentage)||"",value:"".concat((100*n.value/i).toFixed(0),"%")}])(U,a),q=V?K(V.datum,x):[],Y=(0,i.useRef)(null),Z=V&&i.createElement(BE,{details:q,compactList:!0,ref:Y}),$=(0,i.useRef)(!1),X=(0,i.useRef)(!1),Q=(0,i.useRef)(!1),J=(0,i.useCallback)(e=>{const t=e.datum;t!==C&&b(t),T.current&&(H({datum:e.datum,series:{color:e.color,index:e.index,label:e.datum.title,markerType:"rectangle"},trackRef:T}),z(!0))},[C,z,b]),ee=(0,i.useCallback)(()=>{z(!1),b(null)},[b,z]),te=e=>{null===F&&(lo(_.current,e.relatedTarget)||lo(P.current,e.relatedTarget)||ee())};(0,i.useEffect)(()=>{const e=e=>{"Escape"===e.key&&(ee(),X.current=!0)};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[ee]);const ne=(0,i.useCallback)(e=>{F===e.datum?(k(null),ee()):(k(e.datum),J(e))},[F,ee,k,J]),ie=(0,i.useCallback)(e=>{X.current?X.current=!1:Q.current?Q.current=!1:null===F&&J(e)},[F,J]),oe=(0,i.useCallback)(()=>{Q.current=!0},[]),re=(0,i.useCallback)(e=>{const t=e.keyCode;if(t!==ir.right&&t!==ir.left&&t!==ir.enter&&t!==ir.space)return;e.preventDefault();let n=j||0;const i=S.length-1;t===ir.right?(n++,n>i&&(n=0)):t===ir.left&&(n--,n<0&&(n=i)),t!==ir.enter&&t!==ir.space||k(S[n].data.datum),J(S[n].data)},[k,J,S,j]),se=(0,i.useCallback)((e,t)=>{if(null!==F||$.current||"mouse"===t)return;const n=C||y||S[0].data.datum,i=S.filter(e=>e.data.datum===n);J(i[0].data)},[F,S,J,C,y]),ae=(0,i.useCallback)(e=>{const t=e.relatedTarget||e.target;null!==t&&t instanceof Element&&wo(R.current,t)||(z(!1),k(null))},[k]);return i.createElement("div",{className:Gn(ZF["chart-container"],t&&ZF["chart-container--fit-height"]),ref:R},i.createElement("div",{className:Gn(ZF["chart-container-chart-plot"],t&&ZF["chart-container-chart-plot--fit-height"])},i.createElement(KD,{ref:A,width:"100%",height:t?"100%":L,transform:"translate(".concat(s/2," ").concat(L/2,")"),isPrecise:!0,isClickable:!G,ariaLabel:l,ariaLabelledby:u,ariaDescription:c,ariaDescribedby:B?O:void 0,ariaRoleDescription:null===a||void 0===a?void 0:a.chartAriaRoleDescription,activeElementRef:P,activeElementKey:null===j||void 0===j?void 0:j.toString(),onApplicationFocus:se,onApplicationBlur:ae,onKeyDown:re,onMouseOut:te},i.createElement(rk,{pieData:S,dimensions:N,variant:o,focusedSegmentRef:P,popoverTrackRef:T,highlightedSegment:C,segmentAriaRoleDescription:null===a||void 0===a?void 0:a.segmentAriaRoleDescription,onMouseDown:ne,onMouseOver:ie,onTouchStart:oe}),M&&i.createElement(ok,{pieData:S,dimensions:N,segmentDescription:w,visibleDataSum:x,hideTitles:p,hideDescriptions:g,highlightedSegment:C,containerRef:R}))),B&&i.createElement("div",{className:ZF["inner-content"],id:O},d&&i.createElement(Ua,{variant:"small"===N.size?"h3":"h1",tagOverride:"div",color:"inherit",padding:"n"},d),h&&"small"!==N.size&&i.createElement(Ua,{variant:"h3",color:"text-body-secondary",tagOverride:"div",padding:"n"},h)),G&&V&&i.createElement(iE,{ref:_,title:V.series&&i.createElement(Ua,{className:ZF["popover-header"],variant:"strong"},i.createElement(OC,{color:V.series.color,type:V.series.markerType})," ",V.series.label),trackRef:V.trackRef,trackKey:V.series.index,dismissButton:null!==F,dismissAriaLabel:a.detailPopoverDismissAriaLabel,onDismiss:e=>{z(!1),k(null),e?b(null):setTimeout(()=>{$.current=!0,A.current.focusApplication(),$.current=!1},0)},container:(null===(E=A.current)||void 0===E?void 0:E.svg)||null,size:v,onMouseLeave:te,onBlur:ae,footer:W},Z),i.createElement(cs,{sources:[Y]}))},ak=function(e){var{fitHeight:t,variant:n="pie",size:o="medium",hideTitles:r=!1,hideDescriptions:s=!1,hideLegend:a=!1,hideFilter:l=!1,statusType:u="finished",data:c=[],i18nStrings:d={},highlightedSegment:h,visibleSegments:p,onHighlightChange:g,onFilterChange:m,additionalFilters:v,legendTitle:f,detailPopoverSize:w="medium"}=e,C=Et(e,["fitHeight","variant","size","hideTitles","hideDescriptions","hideLegend","hideFilter","statusType","data","i18nStrings","highlightedSegment","visibleSegments","onHighlightChange","onFilterChange","additionalFilters","legendTitle","detailPopoverSize"]);const{__internalRootRef:b=null}=Dn("PieChart",{props:{fitHeight:t,variant:n,size:o,hideTitles:r,hideDescriptions:s,hideLegend:a,hideFilter:l,detailPopoverSize:w}}),y=zt(C),S=(0,i.useRef)(null),[x,D]=YD(),E=(0,i.useMemo)(()=>{const e=KC(c,void 0,e=>e.color||null);return c.map((t,n)=>({index:n,color:e[n],datum:t}))},[c]),[F=null,k]=Fn(h,0,null,{componentName:"PieChart",controlledProp:"highlightedSegment",changeHandler:"onHighlightChange"}),[A,R]=(0,i.useState)(F);(0,i.useEffect)(()=>{R(h||null)},[h]);const[P,T]=Fn(p,0,c,{componentName:"PieChart",controlledProp:"visibleSegments",changeHandler:"onFilterChange"}),_=(0,i.useMemo)(()=>E.filter(e=>-1!==(null===P||void 0===P?void 0:P.indexOf(e.datum))),[E,P]),M=null===E||void 0===E?void 0:E.map(e=>({label:e.datum.title,marker:i.createElement(OC,{color:e.color,type:"rectangle"}),datum:e.datum})),I=M.filter(e=>-1!==(null===P||void 0===P?void 0:P.indexOf(e.datum))),L=(0,i.useCallback)(e=>{T(e),_i(m,{visibleSegments:e})},[T,m]),N=(0,i.useCallback)(e=>{R(e),k(e),_i(g,{highlightedSegment:e})},[g,k]),B=Tt(S,D,b),{pieData:O,dataSum:G}=(0,i.useMemo)(()=>{const e=_.reduce((e,t)=>e+t.datum.value,0),t=function(){var e=AF,t=kF,n=null,i=iF(0),o=iF(GF),r=iF(0);function s(s){var a,l,u,c,d,h=s.length,p=0,g=new Array(h),m=new Array(h),v=+i.apply(this,arguments),f=Math.min(GF,Math.max(-GF,o.apply(this,arguments)-v)),w=Math.min(Math.abs(f)/h,r.apply(this,arguments)),C=w*(f<0?-1:1);for(a=0;a<h;++a)(d=m[g[a]=a]=+e(s[a],a,s))>0&&(p+=d);for(null!=t?g.sort(function(e,n){return t(m[e],m[n])}):null!=n&&g.sort(function(e,t){return n(s[e],s[t])}),a=0,u=p?(f-h*C)/p:0;a<h;++a,v=c)l=g[a],c=v+((d=m[l])>0?d*u:0)+C,m[l]={data:s[l],index:a,value:d,startAngle:v,endAngle:c,padAngle:w};return m}return s.value=function(t){return arguments.length?(e="function"===typeof t?t:iF(+t),s):e},s.sortValues=function(e){return arguments.length?(t=e,n=null,s):t},s.sort=function(e){return arguments.length?(n=e,t=null,s):n},s.startAngle=function(e){return arguments.length?(i="function"===typeof e?e:iF(+e),s):i},s.endAngle=function(e){return arguments.length?(o="function"===typeof e?e:iF(+e),s):o},s.padAngle=function(e){return arguments.length?(r="function"===typeof e?e:iF(+e),s):r},s}().value(t=>t.datum.value<e/100?e/100:t.datum.value).sort(null);return{pieData:t(_.filter(e=>e.datum.value>0)),dataSum:e}},[_]),z=!c||0===c.length,{isEmpty:V,showChart:H}=VC({externalData:E,visibleData:O,statusType:u}),j=V&&_.length!==E.length,W="finished"===u&&!z&&(v||!l),U=!H&&!a,K="finished"!==u&&!j&&(!l||v),q=!(r&&s),Y=JF({size:o,hasLabels:q,visualRefresh:Cn()}),Z=2*(Y.outerRadius+Y.padding+(q?Y.paddingLabels:0));return i.createElement(WC,Object.assign({ref:B,fitHeight:!!t},y,{className:Gn(y.className,ZF.root),contentClassName:Gn(ZF.content,ZF["content--".concat(Y.size)],{[ZF["content--without-labels"]]:!q,[ZF["content--fit-height"]]:t}),defaultFilter:W&&!l?i.createElement(NC,{series:M,onChange:L,selectedSeries:P,i18nStrings:d}):null,additionalFilters:W?v:null,reserveFilterSpace:!!K,reserveLegendSpace:!!U,chartStatus:i.createElement(HC,{isEmpty:V,isNoMatch:j,showChart:H,statusType:u,empty:C.empty,noMatch:C.noMatch,loadingText:C.loadingText,errorText:C.errorText,recoveryText:C.recoveryText,onRecoveryClick:C.onRecoveryClick}),chart:H?i.createElement(sk,Object.assign({},C,{variant:n,size:o,height:Z,fitHeight:t,data:c,width:x,hideTitles:r,hideDescriptions:s,i18nStrings:d,onHighlightChange:N,highlightedSegment:F,legendSegment:A,detailPopoverSize:w,pieData:O,dataSum:G})):null,legend:!a&&!z&&"finished"===u&&i.createElement(yF,{series:I,highlightedSeries:A,legendTitle:f,ariaLabel:null===d||void 0===d?void 0:d.legendAriaLabel,onHighlightChange:N,plotContainerRef:S}),onBlur:e=>{e.relatedTarget&&!wo(S.current,e.relatedTarget)&&(F&&N(null),R(null))}}))};Ln(ak,"PieChart");const lk=ak,uk=i.forwardRef((e,t)=>{var{fontSize:n="body-m",color:o="normal",external:r=!1,style:s}=e,a=Et(e,["fontSize","color","external","style"]);const l=Dn("Link",{props:{color:o,external:r,fontSize:n,rel:a.rel,target:a.target,variant:a.variant}}),u={action:"click",detail:{label:{root:"self"},external:"".concat(r)},component:{name:"awsui.Link",label:{root:"self"},properties:{variant:a.variant||"secondary"}}};return a.href&&(u.detail.href=a.href),i.createElement(Dg,Object.assign({fontSize:n,color:o,external:r},a,l,{ref:t},Qi(u),{style:s}))});Ln(uk,"Link");const ck=uk,dk=i.forwardRef((e,t)=>i.createElement(ck,d({ref:t},e)));Ln(dk,"Link");const hk=dk,pk=e=>{let{children:t}=e;return i.createElement(Gr.Provider,{value:{onClick:()=>{}}},i.createElement(yf.Provider,{value:{assignId:()=>{}}},i.createElement(Gp.Provider,{value:{}},i.createElement(Vp.Provider,{value:""},i.createElement(fg.Provider,{value:vg},i.createElement(Vr.Provider,{value:zr},t))))))};class gk{constructor(e,t){let{onFocusEnter:n,onFocusLeave:i}=t;this.node=e,this.currentlyFocused=!1,this.focusInListener=e=>{const t=wo(this.node,e.target);!this.currentlyFocused&&t&&this.triggerFocus()},this.focusOutListener=e=>{const t=e.relatedTarget,n=!wo(this.node,t);this.currentlyFocused&&(null===t||n)&&this.triggerBlur()},this.onFocusEnter=n,this.onFocusLeave=i,this.controller=new AbortController}initialize(){this.currentlyFocused=wo(this.node,document.activeElement),document.addEventListener("focusin",this.focusInListener,{signal:this.controller.signal}),document.addEventListener("focusout",this.focusOutListener,{signal:this.controller.signal})}destroy(){this.controller.abort()}triggerBlur(){this.currentlyFocused=!1,this.onFocusLeave()}triggerFocus(){this.currentlyFocused=!0,this.onFocusEnter()}}function mk(e){if(SD(1,arguments),!function(e){return SD(1,arguments),e instanceof Date||"object"===a(e)&&"[object Date]"===Object.prototype.toString.call(e)}(e)&&"number"!==typeof e)return!1;var t=xD(e);return!isNaN(Number(t))}function vk(e,t){SD(2,arguments);var n=xD(e).getTime(),i=AD(t);return new Date(n+i)}function fk(e){SD(1,arguments);var t=xD(e),n=t.getUTCDay(),i=(n<1?7:0)+n-1;return t.setUTCDate(t.getUTCDate()-i),t.setUTCHours(0,0,0,0),t}function wk(e){SD(1,arguments);var t=xD(e),n=t.getUTCFullYear(),i=new Date(0);i.setUTCFullYear(n+1,0,4),i.setUTCHours(0,0,0,0);var o=fk(i),r=new Date(0);r.setUTCFullYear(n,0,4),r.setUTCHours(0,0,0,0);var s=fk(r);return t.getTime()>=o.getTime()?n+1:t.getTime()>=s.getTime()?n:n-1}function Ck(e){SD(1,arguments);var t=xD(e),n=fk(t).getTime()-function(e){SD(1,arguments);var t=wk(e),n=new Date(0);return n.setUTCFullYear(t,0,4),n.setUTCHours(0,0,0,0),fk(n)}(t).getTime();return Math.round(n/6048e5)+1}var bk={};function yk(){return bk}function Sk(e,t){var n,i,o,r,s,a,l,u;SD(1,arguments);var c=yk(),d=AD(null!==(n=null!==(i=null!==(o=null!==(r=null===t||void 0===t?void 0:t.weekStartsOn)&&void 0!==r?r:null===t||void 0===t||null===(s=t.locale)||void 0===s||null===(a=s.options)||void 0===a?void 0:a.weekStartsOn)&&void 0!==o?o:c.weekStartsOn)&&void 0!==i?i:null===(l=c.locale)||void 0===l||null===(u=l.options)||void 0===u?void 0:u.weekStartsOn)&&void 0!==n?n:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=xD(e),p=h.getUTCDay(),g=(p<d?7:0)+p-d;return h.setUTCDate(h.getUTCDate()-g),h.setUTCHours(0,0,0,0),h}function xk(e,t){var n,i,o,r,s,a,l,u;SD(1,arguments);var c=xD(e),d=c.getUTCFullYear(),h=yk(),p=AD(null!==(n=null!==(i=null!==(o=null!==(r=null===t||void 0===t?void 0:t.firstWeekContainsDate)&&void 0!==r?r:null===t||void 0===t||null===(s=t.locale)||void 0===s||null===(a=s.options)||void 0===a?void 0:a.firstWeekContainsDate)&&void 0!==o?o:h.firstWeekContainsDate)&&void 0!==i?i:null===(l=h.locale)||void 0===l||null===(u=l.options)||void 0===u?void 0:u.firstWeekContainsDate)&&void 0!==n?n:1);if(!(p>=1&&p<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var g=new Date(0);g.setUTCFullYear(d+1,0,p),g.setUTCHours(0,0,0,0);var m=Sk(g,t),v=new Date(0);v.setUTCFullYear(d,0,p),v.setUTCHours(0,0,0,0);var f=Sk(v,t);return c.getTime()>=m.getTime()?d+1:c.getTime()>=f.getTime()?d:d-1}function Dk(e,t){SD(1,arguments);var n=xD(e),i=Sk(n,t).getTime()-function(e,t){var n,i,o,r,s,a,l,u;SD(1,arguments);var c=yk(),d=AD(null!==(n=null!==(i=null!==(o=null!==(r=null===t||void 0===t?void 0:t.firstWeekContainsDate)&&void 0!==r?r:null===t||void 0===t||null===(s=t.locale)||void 0===s||null===(a=s.options)||void 0===a?void 0:a.firstWeekContainsDate)&&void 0!==o?o:c.firstWeekContainsDate)&&void 0!==i?i:null===(l=c.locale)||void 0===l||null===(u=l.options)||void 0===u?void 0:u.firstWeekContainsDate)&&void 0!==n?n:1),h=xk(e,t),p=new Date(0);return p.setUTCFullYear(h,0,d),p.setUTCHours(0,0,0,0),Sk(p,t)}(n,t).getTime();return Math.round(i/6048e5)+1}function Ek(e,t){for(var n=e<0?"-":"",i=Math.abs(e).toString();i.length<t;)i="0"+i;return n+i}var Fk={y:function(e,t){var n=e.getUTCFullYear(),i=n>0?n:1-n;return Ek("yy"===t?i%100:i,t.length)},M:function(e,t){var n=e.getUTCMonth();return"M"===t?String(n+1):Ek(n+1,2)},d:function(e,t){return Ek(e.getUTCDate(),t.length)},a:function(e,t){var n=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return"am"===n?"a.m.":"p.m."}},h:function(e,t){return Ek(e.getUTCHours()%12||12,t.length)},H:function(e,t){return Ek(e.getUTCHours(),t.length)},m:function(e,t){return Ek(e.getUTCMinutes(),t.length)},s:function(e,t){return Ek(e.getUTCSeconds(),t.length)},S:function(e,t){var n=t.length,i=e.getUTCMilliseconds();return Ek(Math.floor(i*Math.pow(10,n-3)),t.length)}};const kk=Fk;var Ak="midnight",Rk="noon",Pk="morning",Tk="afternoon",_k="evening",Mk="night",Ik={G:function(e,t,n){var i=e.getUTCFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(i,{width:"abbreviated"});case"GGGGG":return n.era(i,{width:"narrow"});default:return n.era(i,{width:"wide"})}},y:function(e,t,n){if("yo"===t){var i=e.getUTCFullYear(),o=i>0?i:1-i;return n.ordinalNumber(o,{unit:"year"})}return kk.y(e,t)},Y:function(e,t,n,i){var o=xk(e,i),r=o>0?o:1-o;return"YY"===t?Ek(r%100,2):"Yo"===t?n.ordinalNumber(r,{unit:"year"}):Ek(r,t.length)},R:function(e,t){return Ek(wk(e),t.length)},u:function(e,t){return Ek(e.getUTCFullYear(),t.length)},Q:function(e,t,n){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"Q":return String(i);case"QQ":return Ek(i,2);case"Qo":return n.ordinalNumber(i,{unit:"quarter"});case"QQQ":return n.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(i,{width:"narrow",context:"formatting"});default:return n.quarter(i,{width:"wide",context:"formatting"})}},q:function(e,t,n){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"q":return String(i);case"qq":return Ek(i,2);case"qo":return n.ordinalNumber(i,{unit:"quarter"});case"qqq":return n.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(i,{width:"narrow",context:"standalone"});default:return n.quarter(i,{width:"wide",context:"standalone"})}},M:function(e,t,n){var i=e.getUTCMonth();switch(t){case"M":case"MM":return kk.M(e,t);case"Mo":return n.ordinalNumber(i+1,{unit:"month"});case"MMM":return n.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(i,{width:"narrow",context:"formatting"});default:return n.month(i,{width:"wide",context:"formatting"})}},L:function(e,t,n){var i=e.getUTCMonth();switch(t){case"L":return String(i+1);case"LL":return Ek(i+1,2);case"Lo":return n.ordinalNumber(i+1,{unit:"month"});case"LLL":return n.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(i,{width:"narrow",context:"standalone"});default:return n.month(i,{width:"wide",context:"standalone"})}},w:function(e,t,n,i){var o=Dk(e,i);return"wo"===t?n.ordinalNumber(o,{unit:"week"}):Ek(o,t.length)},I:function(e,t,n){var i=Ck(e);return"Io"===t?n.ordinalNumber(i,{unit:"week"}):Ek(i,t.length)},d:function(e,t,n){return"do"===t?n.ordinalNumber(e.getUTCDate(),{unit:"date"}):kk.d(e,t)},D:function(e,t,n){var i=function(e){SD(1,arguments);var t=xD(e),n=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var i=n-t.getTime();return Math.floor(i/864e5)+1}(e);return"Do"===t?n.ordinalNumber(i,{unit:"dayOfYear"}):Ek(i,t.length)},E:function(e,t,n){var i=e.getUTCDay();switch(t){case"E":case"EE":case"EEE":return n.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(i,{width:"short",context:"formatting"});default:return n.day(i,{width:"wide",context:"formatting"})}},e:function(e,t,n,i){var o=e.getUTCDay(),r=(o-i.weekStartsOn+8)%7||7;switch(t){case"e":return String(r);case"ee":return Ek(r,2);case"eo":return n.ordinalNumber(r,{unit:"day"});case"eee":return n.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(o,{width:"short",context:"formatting"});default:return n.day(o,{width:"wide",context:"formatting"})}},c:function(e,t,n,i){var o=e.getUTCDay(),r=(o-i.weekStartsOn+8)%7||7;switch(t){case"c":return String(r);case"cc":return Ek(r,t.length);case"co":return n.ordinalNumber(r,{unit:"day"});case"ccc":return n.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(o,{width:"narrow",context:"standalone"});case"cccccc":return n.day(o,{width:"short",context:"standalone"});default:return n.day(o,{width:"wide",context:"standalone"})}},i:function(e,t,n){var i=e.getUTCDay(),o=0===i?7:i;switch(t){case"i":return String(o);case"ii":return Ek(o,t.length);case"io":return n.ordinalNumber(o,{unit:"day"});case"iii":return n.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(i,{width:"short",context:"formatting"});default:return n.day(i,{width:"wide",context:"formatting"})}},a:function(e,t,n){var i=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,n){var i,o=e.getUTCHours();switch(i=12===o?Rk:0===o?Ak:o/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,n){var i,o=e.getUTCHours();switch(i=o>=17?_k:o>=12?Tk:o>=4?Pk:Mk,t){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,n){if("ho"===t){var i=e.getUTCHours()%12;return 0===i&&(i=12),n.ordinalNumber(i,{unit:"hour"})}return kk.h(e,t)},H:function(e,t,n){return"Ho"===t?n.ordinalNumber(e.getUTCHours(),{unit:"hour"}):kk.H(e,t)},K:function(e,t,n){var i=e.getUTCHours()%12;return"Ko"===t?n.ordinalNumber(i,{unit:"hour"}):Ek(i,t.length)},k:function(e,t,n){var i=e.getUTCHours();return 0===i&&(i=24),"ko"===t?n.ordinalNumber(i,{unit:"hour"}):Ek(i,t.length)},m:function(e,t,n){return"mo"===t?n.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):kk.m(e,t)},s:function(e,t,n){return"so"===t?n.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):kk.s(e,t)},S:function(e,t){return kk.S(e,t)},X:function(e,t,n,i){var o=(i._originalDate||e).getTimezoneOffset();if(0===o)return"Z";switch(t){case"X":return Nk(o);case"XXXX":case"XX":return Bk(o);default:return Bk(o,":")}},x:function(e,t,n,i){var o=(i._originalDate||e).getTimezoneOffset();switch(t){case"x":return Nk(o);case"xxxx":case"xx":return Bk(o);default:return Bk(o,":")}},O:function(e,t,n,i){var o=(i._originalDate||e).getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Lk(o,":");default:return"GMT"+Bk(o,":")}},z:function(e,t,n,i){var o=(i._originalDate||e).getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Lk(o,":");default:return"GMT"+Bk(o,":")}},t:function(e,t,n,i){var o=i._originalDate||e;return Ek(Math.floor(o.getTime()/1e3),t.length)},T:function(e,t,n,i){return Ek((i._originalDate||e).getTime(),t.length)}};function Lk(e,t){var n=e>0?"-":"+",i=Math.abs(e),o=Math.floor(i/60),r=i%60;if(0===r)return n+String(o);var s=t||"";return n+String(o)+s+Ek(r,2)}function Nk(e,t){return e%60===0?(e>0?"-":"+")+Ek(Math.abs(e)/60,2):Bk(e,t)}function Bk(e,t){var n=t||"",i=e>0?"-":"+",o=Math.abs(e);return i+Ek(Math.floor(o/60),2)+n+Ek(o%60,2)}const Ok=Ik;var Gk=function(e,t){switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},zk=function(e,t){switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},Vk={p:zk,P:function(e,t){var n,i=e.match(/(P+)(p+)?/)||[],o=i[1],r=i[2];if(!r)return Gk(e,t);switch(o){case"P":n=t.dateTime({width:"short"});break;case"PP":n=t.dateTime({width:"medium"});break;case"PPP":n=t.dateTime({width:"long"});break;default:n=t.dateTime({width:"full"})}return n.replace("{{date}}",Gk(o,t)).replace("{{time}}",zk(r,t))}};const Hk=Vk;var jk=["D","DD"],Wk=["YY","YYYY"];function Uk(e,t,n){if("YYYY"===e)throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("YY"===e)throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("D"===e)throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("DD"===e)throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var Kk={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};const qk=function(e,t,n){var i,o=Kk[e];return i="string"===typeof o?o:1===t?o.one:o.other.replace("{{count}}",t.toString()),null!==n&&void 0!==n&&n.addSuffix?n.comparison&&n.comparison>0?"in "+i:i+" ago":i};function Yk(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const Zk={date:Yk({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:Yk({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:Yk({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})};var $k={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};const Xk=function(e,t,n,i){return $k[e]};function Qk(e){return function(t,n){var i;if("formatting"===(null!==n&&void 0!==n&&n.context?String(n.context):"standalone")&&e.formattingValues){var o=e.defaultFormattingWidth||e.defaultWidth,r=null!==n&&void 0!==n&&n.width?String(n.width):o;i=e.formattingValues[r]||e.formattingValues[o]}else{var s=e.defaultWidth,a=null!==n&&void 0!==n&&n.width?String(n.width):e.defaultWidth;i=e.values[a]||e.values[s]}return i[e.argumentCallback?e.argumentCallback(t):t]}}var Jk={ordinalNumber:function(e,t){var n=Number(e),i=n%100;if(i>20||i<10)switch(i%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:Qk({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:Qk({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:Qk({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:Qk({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:Qk({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})};const eA=Jk;function tA(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=n.width,o=i&&e.matchPatterns[i]||e.matchPatterns[e.defaultMatchWidth],r=t.match(o);if(!r)return null;var s,a=r[0],l=i&&e.parsePatterns[i]||e.parsePatterns[e.defaultParseWidth],u=Array.isArray(l)?function(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n;return}(l,function(e){return e.test(a)}):function(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n;return}(l,function(e){return e.test(a)});return s=e.valueCallback?e.valueCallback(u):u,{value:s=n.valueCallback?n.valueCallback(s):s,rest:t.slice(a.length)}}}var nA,iA={ordinalNumber:(nA={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e,10)}},function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.match(nA.matchPattern);if(!n)return null;var i=n[0],o=e.match(nA.parsePattern);if(!o)return null;var r=nA.valueCallback?nA.valueCallback(o[0]):o[0];return{value:r=t.valueCallback?t.valueCallback(r):r,rest:e.slice(i.length)}}),era:tA({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:tA({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:tA({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:tA({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:tA({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})};const oA={code:"en-US",formatDistance:qk,formatLong:Zk,formatRelative:Xk,localize:eA,match:iA,options:{weekStartsOn:0,firstWeekContainsDate:1}};var rA=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,sA=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,aA=/^'([^]*?)'?$/,lA=/''/g,uA=/[a-zA-Z]/;function cA(e,t,n){var i,o,r,s,a,l,u,c,d,h,p,g,m,v,f,w,C,b;SD(2,arguments);var y=String(t),S=yk(),x=null!==(i=null!==(o=null===n||void 0===n?void 0:n.locale)&&void 0!==o?o:S.locale)&&void 0!==i?i:oA,D=AD(null!==(r=null!==(s=null!==(a=null!==(l=null===n||void 0===n?void 0:n.firstWeekContainsDate)&&void 0!==l?l:null===n||void 0===n||null===(u=n.locale)||void 0===u||null===(c=u.options)||void 0===c?void 0:c.firstWeekContainsDate)&&void 0!==a?a:S.firstWeekContainsDate)&&void 0!==s?s:null===(d=S.locale)||void 0===d||null===(h=d.options)||void 0===h?void 0:h.firstWeekContainsDate)&&void 0!==r?r:1);if(!(D>=1&&D<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var E=AD(null!==(p=null!==(g=null!==(m=null!==(v=null===n||void 0===n?void 0:n.weekStartsOn)&&void 0!==v?v:null===n||void 0===n||null===(f=n.locale)||void 0===f||null===(w=f.options)||void 0===w?void 0:w.weekStartsOn)&&void 0!==m?m:S.weekStartsOn)&&void 0!==g?g:null===(C=S.locale)||void 0===C||null===(b=C.options)||void 0===b?void 0:b.weekStartsOn)&&void 0!==p?p:0);if(!(E>=0&&E<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!x.localize)throw new RangeError("locale must contain localize property");if(!x.formatLong)throw new RangeError("locale must contain formatLong property");var F=xD(e);if(!mk(F))throw new RangeError("Invalid time value");var k=function(e,t){return SD(2,arguments),vk(e,-AD(t))}(F,DD(F)),A={firstWeekContainsDate:D,weekStartsOn:E,locale:x,_originalDate:F},R=y.match(sA).map(function(e){var t=e[0];return"p"===t||"P"===t?(0,Hk[t])(e,x.formatLong):e}).join("").match(rA).map(function(i){if("''"===i)return"'";var o=i[0];if("'"===o)return function(e){var t=e.match(aA);if(!t)return e;return t[1].replace(lA,"'")}(i);var r,s=Ok[o];if(s)return null!==n&&void 0!==n&&n.useAdditionalWeekYearTokens||(r=i,-1===Wk.indexOf(r))||Uk(i,t,String(e)),null!==n&&void 0!==n&&n.useAdditionalDayOfYearTokens||!function(e){return-1!==jk.indexOf(e)}(i)||Uk(i,t,String(e)),s(k,i,x.localize,A);if(o.match(uA))throw new RangeError("Format string contains an unescaped latin alphabet character `"+o+"`");return i}).join("");return R}Math.pow(10,8);var dA=6e4,hA=36e5;function pA(e,t){var n;SD(1,arguments);var i=AD(null!==(n=null===t||void 0===t?void 0:t.additionalDigits)&&void 0!==n?n:2);if(2!==i&&1!==i&&0!==i)throw new RangeError("additionalDigits must be 0, 1 or 2");if("string"!==typeof e&&"[object String]"!==Object.prototype.toString.call(e))return new Date(NaN);var o,r=function(e){var t,n={},i=e.split(gA.dateTimeDelimiter);if(i.length>2)return n;/:/.test(i[0])?t=i[0]:(n.date=i[0],t=i[1],gA.timeZoneDelimiter.test(n.date)&&(n.date=e.split(gA.timeZoneDelimiter)[0],t=e.substr(n.date.length,e.length)));if(t){var o=gA.timezone.exec(t);o?(n.time=t.replace(o[1],""),n.timezone=o[1]):n.time=t}return n}(e);if(r.date){var s=function(e,t){var n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),i=e.match(n);if(!i)return{year:NaN,restDateString:""};var o=i[1]?parseInt(i[1]):null,r=i[2]?parseInt(i[2]):null;return{year:null===r?o:100*r,restDateString:e.slice((i[1]||i[2]).length)}}(r.date,i);o=function(e,t){if(null===t)return new Date(NaN);var n=e.match(mA);if(!n)return new Date(NaN);var i=!!n[4],o=wA(n[1]),r=wA(n[2])-1,s=wA(n[3]),a=wA(n[4]),l=wA(n[5])-1;if(i)return function(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}(0,a,l)?function(e,t,n){var i=new Date(0);i.setUTCFullYear(e,0,4);var o=i.getUTCDay()||7,r=7*(t-1)+n+1-o;return i.setUTCDate(i.getUTCDate()+r),i}(t,a,l):new Date(NaN);var u=new Date(0);return function(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(bA[t]||(yA(e)?29:28))}(t,r,s)&&function(e,t){return t>=1&&t<=(yA(e)?366:365)}(t,o)?(u.setUTCFullYear(t,r,Math.max(o,s)),u):new Date(NaN)}(s.restDateString,s.year)}if(!o||isNaN(o.getTime()))return new Date(NaN);var a,l=o.getTime(),u=0;if(r.time&&(u=function(e){var t=e.match(vA);if(!t)return NaN;var n=CA(t[1]),i=CA(t[2]),o=CA(t[3]);if(!function(e,t,n){if(24===e)return 0===t&&0===n;return n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}(n,i,o))return NaN;return n*hA+i*dA+1e3*o}(r.time),isNaN(u)))return new Date(NaN);if(!r.timezone){var c=new Date(l+u),d=new Date(0);return d.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),d.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),d}return a=function(e){if("Z"===e)return 0;var t=e.match(fA);if(!t)return 0;var n="+"===t[1]?-1:1,i=parseInt(t[2]),o=t[3]&&parseInt(t[3])||0;if(!function(e,t){return t>=0&&t<=59}(0,o))return NaN;return n*(i*hA+o*dA)}(r.timezone),isNaN(a)?new Date(NaN):new Date(l+u+a)}var gA={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},mA=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,vA=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,fA=/^([+-])(\d{2})(?::?(\d{2}))?$/;function wA(e){return e?parseInt(e):1}function CA(e){return e&&parseFloat(e.replace(",","."))||0}var bA=[31,null,31,30,31,30,31,31,30,31,30,31];function yA(e){return e%400===0||e%4===0&&e%100!==0}function SA(e,t){for(;e.length<t;)e="0".concat(e);return e}function xA(e,t){t=DA(e,t);const{hours:n,minutes:i}=EA(t);return"".concat(t<0?"-":"+").concat(FA(n),":").concat(FA(i))}function DA(e,t){return null!==t&&void 0!==t?t:0-new Date(e).getTimezoneOffset()}function EA(e){return{hours:Math.floor(Math.abs(e)/60),minutes:Math.abs(e%60)}}function FA(e){return SA(e.toFixed(0),2)}function kA(e){let{date:t,hideTimeOffset:n,isDateOnly:i,timeOffset:o,isMonthOnly:r}=e;const s=n||i||r?"":function(e,t){if(0===(t=DA(e,t)))return"Z";const{hours:n,minutes:i}=EA(t);return"".concat(t<0?"-":"+").concat(FA(n),":").concat(FA(i))}(t,o);return r?cA(pA(t),"yyyy-MM"):t+s}function AA(e){let{date:t,hideTimeOffset:n,isDateOnly:i,isMonthOnly:o,timeOffset:r,locale:s}=e,a=pA(t);if(mk(a)||(a=new Date(t)),o){return new Intl.DateTimeFormat(s,{month:"long",year:"numeric"}).format(a)}const l=new Intl.DateTimeFormat(s,{month:"long",year:"numeric",day:"numeric"}).format(a);if(i)return l;const u=new Intl.DateTimeFormat(s,{hour:"2-digit",hourCycle:"h23",minute:"2-digit",second:"2-digit"}).format(a),c=l+function(e){return e&&RA.includes(e)?" ":", "}(s)+u;if(n)return c;const d=function(e,t){if(0===(t=DA(e,t)))return"(UTC)";const{hours:n,minutes:i}=EA(t),o=t<0?"-":"+",r=0===i?"":":".concat(i);return"(UTC".concat(o).concat(n).concat(r,")")}(t,r);return c+" "+d}const RA=["ja","zh-CN","zh-TW"];const PA=/^\d{4}-\d{2}-\d{2}$/,TA=/^\d{4}-(?:0[1-9]|1[0-2])$/;function _A(e){return PA.test(e)}function MA(e){return TA.test(e)}function IA(e){let{date:t,format:n,hideTimeOffset:i,timeOffset:o,locale:r}=e;const s=_A(t),a=MA(t);return"long-localized"===n?AA({date:t,hideTimeOffset:i,isDateOnly:s,isMonthOnly:a,locale:r,timeOffset:o}):kA({date:t,hideTimeOffset:i,isDateOnly:s,isMonthOnly:a,timeOffset:o})}function LA(e,t){return 2===e.length&&0===t.indexOf(e)?t:e}function NA(e,t){var n;t=BA(e,t);const i=(new Intl.DateTimeFormat).resolvedOptions().locale;if(t)return LA(t,i);const o=BA(e,null===(n="undefined"!==typeof document?document.querySelector("html"):null)||void 0===n?void 0:n.getAttribute("lang"));return o?LA(o,i):i}function BA(e,t){return t&&""!==t?((t=t&&t.replace(/^([a-z]{2})_/,"$1-"))&&!t.match(/^[a-z]{2}(-[A-Z]{2})?$/)&&(Pt(0,"Invalid locale provided: ".concat(t,". Falling back to default")),t=""),t):""}function OA(e){let{mountContent:t,unmountContent:n,context:o}=e;const r=(0,i.useRef)(null);return(0,i.useEffect)(()=>{const e=r.current;return t(e,o),()=>{n(e)}},[]),i.createElement("div",{ref:r})}const GA="awsui_root_37gf8_1udtb_9";const zA=e=>{let{className:t,testUtilClasses:n,action:o,discoveredActions:r,buttonText:s,wrappedClass:a,containerWidth:l,onButtonClick:u}=e;const[c,d]=(0,i.useState)(!1),h=i.useRef(null);(0,i.useLayoutEffect)(()=>{if(!h.current||!l||!a)return;function e(){const e=rr(h.current),{offsetWidth:t,offsetLeft:n}=h.current;d((e?l-t-n:n)<100)}const t=new MutationObserver(e);return t.observe(h.current,{attributes:!1,childList:!0,subtree:!0}),e(),()=>t.disconnect()});const p=function(e,t,n,o){return!t&&n&&(t=i.createElement("span",Object.assign({},Qi({action:"buttonClick"})),i.createElement(Es,{className:e.actionButton,onClick:o,formAction:"none"},n))),t?i.createElement("div",{className:e.actionSlot},t):null}(n,o,s,u);return p||0!==r.length?i.createElement("div",{ref:h,className:Gn(GA,t,c&&a)},p,r):null};const VA="awsui_header_17427_1ns0c_5",HA={alert:"awsui_alert_mx3cw_10dr6_193","awsui-motion-fade-in":"awsui_awsui-motion-fade-in_mx3cw_10dr6_1",root:"awsui_root_mx3cw_10dr6_215",hidden:"awsui_hidden_mx3cw_10dr6_250","alert-wrapper":"awsui_alert-wrapper_mx3cw_10dr6_299","initial-hidden":"awsui_initial-hidden_mx3cw_10dr6_311",header:"awsui_header_mx3cw_10dr6_316","header-replacement":"awsui_header-replacement_mx3cw_10dr6_317",action:"awsui_action_mx3cw_10dr6_321","action-slot":"awsui_action-slot_mx3cw_10dr6_325","action-button":"awsui_action-button_mx3cw_10dr6_326","alert-focus-wrapper":"awsui_alert-focus-wrapper_mx3cw_10dr6_330",text:"awsui_text_mx3cw_10dr6_361",icon:"awsui_icon_mx3cw_10dr6_368",message:"awsui_message_mx3cw_10dr6_371","action-wrapped":"awsui_action-wrapped_mx3cw_10dr6_375","icon-size-medium":"awsui_icon-size-medium_mx3cw_10dr6_379","icon-size-big":"awsui_icon-size-big_mx3cw_10dr6_383","icon-size-normal":"awsui_icon-size-normal_mx3cw_10dr6_387",content:"awsui_content_mx3cw_10dr6_391","content-replacement":"awsui_content-replacement_mx3cw_10dr6_392",dismiss:"awsui_dismiss_mx3cw_10dr6_396","dismiss-button":"awsui_dismiss-button_mx3cw_10dr6_401","type-error":"awsui_type-error_mx3cw_10dr6_405","type-warning":"awsui_type-warning_mx3cw_10dr6_413","type-success":"awsui_type-success_mx3cw_10dr6_421","type-info":"awsui_type-info_mx3cw_10dr6_429"},jA={error:"status-negative",warning:"status-warning",success:"status-positive",info:"status-info"},WA=(UA=Ra.alert.onActionRegistered,function(e){const[t,n]=(0,i.useState)([]),o=(0,i.useRef)(null),r=(0,i.useRef)(null);return(0,i.useEffect)(()=>UA(t=>{n(t.map(t=>function(e,t){return e?i.createElement(OA,{key:e.id+"-"+t.type,context:t,mountContent:e.mountContent,unmountContent:e.unmountContent}):null}(t,{type:e,headerRef:o,contentRef:r})))}),[e]),{discoveredActions:t,headerRef:o,contentRef:r}});var UA;const KA=function(e,t){return function(n){let{type:o,header:r,children:s}=n;const a=Yi("".concat(e,"-discovered-content")),l=(0,i.useRef)(null),u=(0,i.useRef)(null),c=(0,i.useRef)(null),d=(0,i.useRef)(null),[h,p]=(0,i.useState)(()=>t.initialCheck({instanceId:a,type:o,header:r,content:s})),[g,m]=(0,i.useState)("original"),[v,f]=(0,i.useState)("original"),w=(0,i.useRef)();return(0,i.useEffect)(()=>{const n={instanceId:a,type:o,headerRef:l,contentRef:u};return p(!1),t.onContentRegistered(t=>{let i=!0;function o(t){return!!i||(ra("".concat(e,"-content-replacer"),'"'.concat(t,'" called after component unmounted')),!1)}return w.current=t.runReplacer(n,{hideHeader(){o("hideHeader")&&m("remove")},restoreHeader(){o("restoreHeader")&&m("original")},replaceHeader(e){o("replaceHeader")&&(e(c.current),m("replaced"))},hideContent(){o("hideContent")&&f("remove")},restoreContent(){o("restoreContent")&&f("original")},replaceContent(e){o("replaceContent")&&(e(d.current),f("replaced"))}}),()=>{var e;null===(e=w.current)||void 0===e||e.unmount({replacementHeaderContainer:c.current,replacementContentContainer:d.current}),i=!1}})},[a,o]),(0,i.useEffect)(()=>{var e;null===(e=w.current)||void 0===e||e.update()},[o,r,s]),{initialHidden:h,headerReplacementType:g,contentReplacementType:v,headerRef:l,replacementHeaderRef:c,contentRef:u,replacementContentRef:d}}}("alert",Ra.alertContent),qA=i.forwardRef((e,t)=>{var n,o,{type:r,i18nStrings:s,visible:a=!0,dismissible:l,children:u,header:c,buttonText:d,action:h,onDismiss:p,onButtonClick:g,__internalRootRef:m,statusIconAriaLabel:v,dismissAriaLabel:f,messageSlotId:w,style:C}=e;const b=zt(Et(e,["type","i18nStrings","visible","dismissible","children","header","buttonText","action","onDismiss","onButtonClick","__internalRootRef","statusIconAriaLabel","dismissAriaLabel","messageSlotId","style"])),y=Mt("alert"),S=(0,i.useRef)(null);Wr(t,S);const{discoveredActions:x,headerRef:D,contentRef:E}=WA(r),{initialHidden:F,headerReplacementType:k,contentReplacementType:A,headerRef:R,contentRef:P,replacementHeaderRef:T,replacementContentRef:_}=KA({type:r,header:c,children:u}),[M,I]=YD(),L=Tt(I,m),N=Tt(D,R),B=Tt(E,P),O=Cn()?"normal":"remove"!==k&&c&&"remove"!==A&&u?"big":"normal",G=Boolean(h||d||x.length),z={[Ro]:r},V=y("i18nStrings.".concat(r,"IconAriaLabel"),null!==(n=null===s||void 0===s?void 0:s["".concat(r,"IconAriaLabel")])&&void 0!==n?n:v),H=y("i18nStrings.dismissAriaLabel",null!==(o=null===s||void 0===s?void 0:s.dismissAriaLabel)&&void 0!==o?o:y("dismissAriaLabel",f));return i.createElement("div",Object.assign({},b,z,{"aria-hidden":!a,className:Gn(HA.root,{[HA.hidden]:!a,[HA["initial-hidden"]]:F},b.className),ref:L}),i.createElement(fg.Provider,{value:{defaultVariant:"primary"}},i.createElement(ji,{contextName:"alert"},i.createElement("div",{className:Gn(HA.alert,HA["type-".concat(r)],HA["icon-size-".concat(O)],G&&HA["with-action"],l&&HA["with-dismiss"]),style:void 0},i.createElement("div",{className:HA["alert-wrapper"]},i.createElement("div",{className:HA["alert-focus-wrapper"],tabIndex:-1,ref:S,role:"group"},i.createElement("div",{className:Gn(HA.icon,HA.text)},i.createElement(oo,{name:jA[r],size:O,ariaLabel:V})),i.createElement("div",{className:Gn(HA.message,HA.text),id:w},i.createElement("div",{className:Gn(c&&HA.header,"original"!==k?HA.hidden:VA),ref:N},c),i.createElement("div",{className:Gn(HA["header-replacement"],"replaced"!==k?HA.hidden:VA),ref:T}),i.createElement("div",{className:Gn(HA.content,"original"!==A&&HA.hidden),ref:B},u),i.createElement("div",{className:Gn(HA["content-replacement"],"replaced"!==A&&HA.hidden),ref:_}))),i.createElement(zA,{className:HA.action,testUtilClasses:{actionSlot:HA["action-slot"],actionButton:HA["action-button"]},action:h,discoveredActions:x,buttonText:d,onButtonClick:()=>_i(g),containerWidth:M,wrappedClass:HA["action-wrapped"]})),l&&i.createElement("div",Object.assign({className:HA.dismiss},Qi({action:"dismiss"})),i.createElement(Ds,{className:HA["dismiss-button"],variant:"icon",iconName:"close",formAction:"none",ariaLabel:H,onClick:()=>_i(p),style:void 0}))))))}),YA=qA;function ZA(e,t){SD(2,arguments);var n=xD(e),i=xD(t);return n.getFullYear()===i.getFullYear()}function $A(e,t){SD(2,arguments);var n=xD(e),i=xD(t);return n.getFullYear()===i.getFullYear()&&n.getMonth()===i.getMonth()}function XA(e,t){return SD(2,arguments),PD(e,12*AD(t))}function QA(e){SD(1,arguments);var t=xD(e),n=new Date(0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}function JA(e){SD(1,arguments);var t=xD(e);return t.setDate(1),t.setHours(0,0,0,0),t}function eR(e,t){SD(2,arguments);var n=xD(e),i=xD(t);return n.getTime()<i.getTime()}function tR(e){SD(1,arguments);var t=xD(e);return t.setHours(23,59,59,999),t}function nR(e,t){SD(2,arguments);var n=xD(e),i=xD(t);return n.getTime()>i.getTime()}function iR(e,t){return t.toLocaleDateString(e,{year:"numeric",month:"long"})}function oR(e,t){return t.toLocaleDateString(e,{year:"numeric"})}const rR=new Map;function sR(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"full";const i=e+t.getTime()+n,o=rR.get(i);if(o)return o;const r=t.toLocaleDateString(e,{weekday:"full"===n?"long":void 0,month:"long",day:"numeric",year:"numeric"});return rR.set(i,r),r}function aR(e,t,n){let i={};"hh"===n&&(i={hour:"2-digit"}),"hh:mm"===n&&(i={hour:"2-digit",minute:"2-digit"});return t.toLocaleTimeString(e,i)}function lR(e,t){SD(2,arguments);var n=xD(e),i=xD(t),o=n.getTime()-i.getTime();return o<0?-1:o>0?1:o}function uR(e,t){SD(2,arguments);var n=xD(e),i=xD(t),o=lR(n,i),r=Math.abs(function(e,t){SD(2,arguments);var n=xD(e),i=xD(t);return n.getFullYear()-i.getFullYear()}(n,i));n.setFullYear(1584),i.setFullYear(1584);var s=lR(n,i)===-o,a=o*(r-Number(s));return 0===a?0:a}function cR(e,t){return mR(e,t,1)}function dR(e,t){return mR(e,t,-1)}function hR(e,t){return mR(e,t,7)}function pR(e,t){return mR(e,t,-7)}function gR(e,t){const n=JA(e);if(t(n))return n;const i=mR(n,t,1);return $A(n,i)?i:n}function mR(e,t,n){let i=RD(e,n);for(;!t(i);){if(Math.abs(uR(e,i))>1)return e;i=RD(i,n)}return i}function vR(e,t){return yR(e,t,1)}function fR(e,t){return yR(e,t,-1)}function wR(e,t){return yR(e,t,3)}function CR(e,t){return yR(e,t,-3)}function bR(e,t){const n=QA(e);if(t(n))return n;const i=yR(n,t,1);return ZA(n,i)?i:n}function yR(e,t,n){let i=PD(e,n);for(;!t(i);){if(Math.abs(uR(e,i))>10)return e;i=PD(i,n)}return i}function SR(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const[n,i,o]=e.split("-"),r=Number(n),s=Number(i),a=Number(o);return t&&(isNaN(r)||isNaN(s)||isNaN(a))?null:new Date(r,(s||1)-1,a||1)}function xR(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"day";const n=e.getFullYear(),i=SA("".concat(e.getMonth()+1),2);if("month"===t)return"".concat(n,"-").concat(i);const o=SA("".concat(e.getDate()),2);return"".concat(n,"-").concat(i,"-").concat(o)}function DR(e){const t=e.split(":");for(;t.length<3;)t.push("00");return t.join(":")}function ER(e,t){return"".concat(e,"T").concat(t)}function FR(e){const[t="",n=""]=e.split("T");return{date:t,time:n}}const kR=e=>{const t=SA("".concat(e.getHours()),2),n=SA("".concat(e.getMinutes()),2),i=SA("".concat(e.getSeconds()),2);return"".concat(t,":").concat(n,":").concat(i)};const AR={en:"US",zh:"CN",zh_hans:"CN",hans:"CN",wuu:"CN",hsn:"CN",hak:"CN",nan:"CN",gan:"CN",hi:"IN",te:"IN",mr:"IN",ta:"IN",gu:"IN",kn:"IN",or:"IN",ml:"IN",pa_guru:"IN",bho:"IN",awa:"IN",as:"IN",mwr:"IN",mai:"IN",mag:"IN",bgc:"IN",hne:"IN",dcc:"IN",dz:"BT",tn:"BW",am:"ET",om:"ET",quc:"GT",id:"ID",jv:"ID",su:"ID",mad:"ID",ms_arab:"ID",ga:"IE",he:"IL",jam:"JM",ja:"JP",km:"KH",ko:"KR",lo:"LA",mh:"MH",my:"MM",mt:"MT",ne:"NP",fil:"PH",ceb:"PH",ilo:"PH",ur:"PK",pa:"PK",pa_arab:"PK",arab:"PK",lah:"PK",ps:"PK",sd:"PK",sd_arab:"PK",skr:"PK",gn:"PY",th:"TH",tts:"TH",aeb:"TN",zh_hant:"TW",hant:"TW",sm:"WS",zu:"ZA",sn:"ZW",arq:"DZ",ar:"EG",arz:"EG",fa:"IR",az_arab:"IR",ary:"MA",bn:"BD",rkt:"BD",dv:"MV"};const RR={AG:0,ATG:0,28:0,AR:0,ARG:0,32:0,AS:0,ASM:0,16:0,AU:0,AUS:0,36:0,BR:0,BRA:0,76:0,BS:0,BHS:0,44:0,BT:0,BTN:0,64:0,BW:0,BWA:0,72:0,BZ:0,BLZ:0,84:0,CA:0,CAN:0,124:0,CN:0,CHN:0,156:0,CO:0,COL:0,170:0,DM:0,DMA:0,212:0,DO:0,DOM:0,214:0,ET:0,ETH:0,231:0,GT:0,GTM:0,320:0,GU:0,GUM:0,316:0,HK:0,HKG:0,344:0,HN:0,HND:0,340:0,ID:0,IDN:0,360:0,IE:0,IRL:0,372:0,IL:0,ISR:0,376:0,IN:0,IND:0,356:0,JM:0,JAM:0,388:0,JP:0,JPN:0,392:0,KE:0,KEN:0,404:0,KH:0,KHM:0,116:0,KR:0,KOR:0,410:0,LA:0,LA0:0,418:0,MH:0,MHL:0,584:0,MM:0,MMR:0,104:0,MO:0,MAC:0,446:0,MT:0,MLT:0,470:0,MX:0,MEX:0,484:0,MZ:0,MOZ:0,508:0,NI:0,NIC:0,558:0,NP:0,NPL:0,524:0,NZ:0,NZL:0,554:0,PA:0,PAN:0,591:0,PE:0,PER:0,604:0,PH:0,PHL:0,608:0,PK:0,PAK:0,586:0,PR:0,PRI:0,630:0,PY:0,PRY:0,600:0,SA:0,SAU:0,682:0,SG:0,SGP:0,702:0,SV:0,SLV:0,222:0,TH:0,THA:0,764:0,TN:0,TUN:0,788:0,TT:0,TTO:0,780:0,TW:0,TWN:0,158:0,UM:0,UMI:0,581:0,US:0,USA:0,840:0,VE:0,VEN:0,862:0,VI:0,VIR:0,850:0,WS:0,WSM:0,882:0,YE:0,YEM:0,887:0,ZA:0,ZAF:0,710:0,ZW:0,ZWE:0,716:0,AE:6,ARE:6,784:6,AF:6,AFG:6,4:6,BH:6,BHR:6,48:6,DJ:6,DJI:6,262:6,DZ:6,DZA:6,12:6,EG:6,EGY:6,818:6,IQ:6,IRQ:6,368:6,IR:6,IRN:6,364:6,JO:6,JOR:6,400:6,KW:6,KWT:6,414:6,LY:6,LBY:6,434:6,MA:6,MAR:6,504:6,OM:6,OMN:6,512:6,QA:6,QAT:6,634:6,SD:6,SDN:6,729:6,SY:6,SYR:6,760:6,BD:5,BGD:5,50:5,MV:5,MDV:5,462:5};function PR(e){return function(e,t,n){if(e){var i,o=e.toLowerCase().split(/[-_]/),r=o[0];if(o[1]&&4===o[1].length?(r+="_"+o[1],i=o[2]):i=o[1],i||(i=t[r]),i)return function(e,t){var n=t["string"===typeof e?e.toUpperCase():e];return"number"===typeof n?n:1}(i.match(/^\d+$/)?Number(i):i,n)}return 1}(e,AR,RR)}function TR(e,t){return"number"===typeof e?e%7:PR(t)}function _R(e){return null!==e&&void 0!==e}function MR(e,t,n){if(e&&n(e)&&$A(e,t))return e;const i=new Date;return n(i)&&$A(i,t)?i:n(t)?t:null}function IR(e,t,n){if(e&&n(e)&&ZA(e,t))return e;const i=new Date;return n(i)&&ZA(i,t)?i:n(t)?t:null}function LR(e,t){if(e.start.date){const n=SR(e.start.date);return JA(t?n:PD(n,1))}return e.end.date?JA(SR(e.end.date)):JA(Date.now())}function NR(e,t){if(e.start.date){const n=SR(e.start.date);return QA(t?n:XA(n,1))}return e.end.date?QA(SR(e.end.date)):QA(Date.now())}function BR(e,t){SD(2,arguments);var n=ED(e),i=ED(t);return n.getTime()===i.getTime()}function OR(e){return SD(1,arguments),BR(e,Date.now())}function GR(e){return SD(1,arguments),$A(Date.now(),e)}function zR(e){SD(1,arguments);var t=xD(e);return tR(t).getTime()===function(e){SD(1,arguments);var t=xD(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}(t).getTime()}var VR=function(e,t){var n=new Date(e);return n.setDate(n.getDate()+t),n},HR=function(e,t){var n=new Date(e);return n.setDate(t),n};function jR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}var WR=function(e,t){for(var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jR(Object(n),!0).forEach(function(t){u(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jR(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({firstDayOfWeek:1},t),i=n.firstDayOfWeek,o=new Date(e.getFullYear(),e.getMonth(),1),r=new Date(e.getFullYear(),e.getMonth()+1,0),s=o.getDay(),a=r.getDay(),l=r.getDate(),c=(6-a+i)%7,d=[],h=[],p=1-(s-i+7)%7;p<=l+c+1;p++)p<=0?h.push(VR(o,p-1)):p>l?h.push(VR(r,p-l)):h.push(HR(e,p)),7===h.length&&(d.push(h),h=[]);return d};class UR{constructor(e){let{padDates:t,baseDate:n,startOfWeek:i,selection:o}=e;this.padDates=t,this.weeks=[],this.range=[n,n];const r=function(e,t){let{startOfWeek:n,padDates:i}=t;switch(i){case"before":return[...YR(e,n),...qR(e,n)].slice(-6);case"after":return[...qR(e,n),...ZR(e,n)].slice(0,6)}}(n,{startOfWeek:i,padDates:t});this.weekdays=r[0].map(e=>e.getDay());const s=(e,i)=>{const o=r[e],s=null===o||void 0===o?void 0:o[i];if(!s)return!1;switch(t){case"before":return $A(s,n)||eR(s,n);case"after":return $A(s,n)||nR(s,n)}},a=(e,t)=>{const n=r[e],i=null===n||void 0===n?void 0:n[t];return!!(i&&o&&function(e,t,n){if(!t||!n||BR(t,n))return!1;const i=nR(e,t)&&eR(e,n)||nR(e,n)&&eR(e,t);return i||BR(e,t)||BR(e,n)}(i,o[0],o[1]))},l=e=>{var t;const i=r[e];if(i&&($A(i[0],n)||$A(i[i.length-1],n)))return(null!==(t=l(e-1))&&void 0!==t?t:0)+1};for(let u=0;u<r.length;u++){const e=r[u],t={days:[],testIndex:l(u)};for(let n=0;n<e.length;n++){const i=e[n],r=s(u,n),l=!(!o||!BR(i,o[0])&&!BR(i,o[1])),c=a(u,n),d=r&&!s(u-1,n),h=r&&!s(u+1,n),p=r&&!s(u,n-1),g=r&&!s(u,n+1),m=c&&!a(u-1,n),v=c&&!a(u+1,n),f=c&&!a(u,n-1),w=c&&!a(u,n+1);t.days.push({date:i,isVisible:r,isSelected:l,isInRange:c,isSelectionTop:d||m,isSelectionBottom:h||v,isSelectionLeft:p||f,isSelectionRight:g||w})}this.weeks.push(t)}}}class KR{constructor(e){let{baseDate:t,selection:n}=e;this.quarters=[],this.range=[t,t];const i=function(e){const t=e.getFullYear();return new Array(4).fill(0).map((e,n)=>new Array(3).fill(0).map((e,i)=>new Date(t,3*n+i)))}(t),o=(e,t)=>{const o=i[e],r=null===o||void 0===o?void 0:o[t];return!!(r&&n&&function(e,t,n){if(!t||!n||$A(t,n))return!1;const i=nR(e,t)&&eR(e,n)||nR(e,n)&&eR(e,t);return i||$A(e,t)||$A(e,n)}(r,n[0],n[1]))},r=(e,n)=>{const o=i[e],r=null===o||void 0===o?void 0:o[n];return!!r&&ZA(r,t)};for(let s=0;s<i.length;s++){const e=i[s],t={months:[]};for(let i=0;i<e.length;i++){const a=e[i],l=r(s,i),u=!(!n||!$A(a,n[0])&&!$A(a,n[1])),c=o(s,i),d=l&&!r(s-1,i),h=l&&!r(s+1,i),p=l&&!r(s,i-1),g=l&&!r(s,i+1),m=c&&!o(s-1,i),v=c&&!o(s+1,i),f=c&&!o(s,i-1),w=c&&!o(s,i+1);t.months.push({date:a,isVisible:l,isSelected:u,isInRange:c,isSelectionTop:d||m,isSelectionBottom:h||v,isSelectionLeft:p||f,isSelectionRight:g||w})}this.quarters.push(t)}}}function qR(e,t){return WR(e,{firstDayOfWeek:t})}function YR(e,t){const n=WR(function(e,t){return SD(2,arguments),PD(e,-AD(t))}(e,1),{firstDayOfWeek:t});return $A(e,n[n.length-1][n[n.length-1].length-1])?n.slice(0,-1):n}function ZR(e,t){const n=WR(PD(e,1),{firstDayOfWeek:t});return $A(e,n[0][0])?n.slice(1):n}const $R={root:"awsui_root_1afkv_i99li_5",dropdown:"awsui_dropdown_1afkv_i99li_6",label:"awsui_label_1afkv_i99li_7","relative-range-radio-group":"awsui_relative-range-radio-group_1afkv_i99li_8","custom-range-duration-input":"awsui_custom-range-duration-input_1afkv_i99li_9","custom-range-unit-select":"awsui_custom-range-unit-select_1afkv_i99li_10","mode-switch":"awsui_mode-switch_1afkv_i99li_11","first-grid":"awsui_first-grid_1afkv_i99li_12","second-grid":"awsui_second-grid_1afkv_i99li_13","calendar-header":"awsui_calendar-header_1afkv_i99li_14","calendar-next-page-btn":"awsui_calendar-next-page-btn_1afkv_i99li_15","calendar-prev-page-btn":"awsui_calendar-prev-page-btn_1afkv_i99li_16","calendar-next-month-btn":"awsui_calendar-next-month-btn_1afkv_i99li_17","calendar-prev-month-btn":"awsui_calendar-prev-month-btn_1afkv_i99li_18","calendar-aria-live":"awsui_calendar-aria-live_1afkv_i99li_19","calendar-date":"awsui_calendar-date_1afkv_i99li_20","calendar-week":"awsui_calendar-week_1afkv_i99li_21","calendar-month":"awsui_calendar-month_1afkv_i99li_22","calendar-quarter":"awsui_calendar-quarter_1afkv_i99li_23",today:"awsui_today_1afkv_i99li_24","this-month":"awsui_this-month_1afkv_i99li_25","day-header":"awsui_day-header_1afkv_i99li_26","start-date":"awsui_start-date_1afkv_i99li_27","end-date":"awsui_end-date_1afkv_i99li_28","start-time-input":"awsui_start-time-input_1afkv_i99li_29","end-time-input":"awsui_end-time-input_1afkv_i99li_30","start-date-input":"awsui_start-date-input_1afkv_i99li_31","end-date-input":"awsui_end-date-input_1afkv_i99li_32","start-month-input":"awsui_start-month-input_1afkv_i99li_33","end-month-input":"awsui_end-month-input_1afkv_i99li_34","disabled-reason-tooltip":"awsui_disabled-reason-tooltip_1afkv_i99li_35","validation-section":"awsui_validation-section_1afkv_i99li_36","validation-error":"awsui_validation-error_1afkv_i99li_37","clear-button":"awsui_clear-button_1afkv_i99li_38","apply-button":"awsui_apply-button_1afkv_i99li_39","cancel-button":"awsui_cancel-button_1afkv_i99li_40"},XR=(0,i.forwardRef)((e,t)=>{const{disabledReason:n}=e,o=Et(e,["disabledReason"]),r=!!n,{targetProps:s,descriptionEl:a}=Ur(n),l=(0,i.useRef)(null),[u,c]=(0,i.useState)(!1);return i.createElement("td",Object.assign({ref:Tt(t,l)},o,r?s:{},{onFocus:e=>{o.onFocus&&o.onFocus(e),r&&c(!0)},onBlur:e=>{o.onBlur&&o.onBlur(e),r&&c(!1)},onMouseEnter:e=>{o.onMouseEnter&&o.onMouseEnter(e),r&&c(!0)},onMouseLeave:e=>{o.onMouseLeave&&o.onMouseLeave(e),r&&c(!1)}}),e.children,r&&i.createElement(i.Fragment,null,a,u&&i.createElement(Or,{className:$R["disabled-reason-tooltip"],trackRef:l,value:n,onDismiss:()=>c(!1)})))});function QR(e,t,n){const i=new Date;return function(e,t){const n=t-e.getDay();e.setDate(e.getDate()+n)}(i,t),i.toLocaleDateString(e,{weekday:n})}Ln(XR,"GridCell");const JR=new Map;function eP(e){let{date:t,isCurrent:n,locale:i,granularity:o="day",currentLabel:r}=e;const s="month"===o?function(e,t){return t.toLocaleDateString(e,{year:"numeric",month:"long"})}(i,t):function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"full";const i=e+t.getTime()+n,o=JR.get(i);if(o)return o;const r=t.toLocaleDateString(e,{weekday:"full"===n?"long":void 0,month:"long",day:"numeric",year:"numeric"});return JR.set(i,r),r}(i,t,"short");return n&&r?"".concat(s,". ").concat(r):s}const tP={grid:"awsui_grid_1mfbn_96osr_149","grid-cell":"awsui_grid-cell_1mfbn_96osr_154","day-header":"awsui_day-header_1mfbn_96osr_161",day:"awsui_day_1mfbn_96osr_161",month:"awsui_month_1mfbn_96osr_172","day-inner":"awsui_day-inner_1mfbn_96osr_220","month-inner":"awsui_month-inner_1mfbn_96osr_221","in-first-row":"awsui_in-first-row_1mfbn_96osr_228","in-previous-month":"awsui_in-previous-month_1mfbn_96osr_228","in-previous-year":"awsui_in-previous-year_1mfbn_96osr_229","last-day-of-month":"awsui_last-day-of-month_1mfbn_96osr_233","last-month-of-year":"awsui_last-month-of-year_1mfbn_96osr_234","in-next-month":"awsui_in-next-month_1mfbn_96osr_238","in-next-year":"awsui_in-next-year_1mfbn_96osr_239","in-first-column":"awsui_in-first-column_1mfbn_96osr_243","in-visible-calendar":"awsui_in-visible-calendar_1mfbn_96osr_246","in-current-month":"awsui_in-current-month_1mfbn_96osr_246","in-current-year":"awsui_in-current-year_1mfbn_96osr_246",enabled:"awsui_enabled_1mfbn_96osr_250","in-range":"awsui_in-range_1mfbn_96osr_256","end-date":"awsui_end-date_1mfbn_96osr_256","start-date":"awsui_start-date_1mfbn_96osr_256","no-range":"awsui_no-range_1mfbn_96osr_256",selected:"awsui_selected_1mfbn_96osr_266",today:"awsui_today_1mfbn_96osr_271","this-month":"awsui_this-month_1mfbn_96osr_272","in-range-border-block-start":"awsui_in-range-border-block-start_1mfbn_96osr_328","in-range-border-inline-end":"awsui_in-range-border-inline-end_1mfbn_96osr_331","in-range-border-block-end":"awsui_in-range-border-block-end_1mfbn_96osr_334","in-range-border-inline-start":"awsui_in-range-border-inline-start_1mfbn_96osr_337"},nP={getItemKey:(e,t)=>"".concat(e,":").concat(t),isSameItem:(e,t)=>BR(e,t),isSamePage:(e,t)=>$A(e,t),checkIfCurrentDay:e=>OR(e),checkIfCurrentMonth:()=>!1,checkIfCurrent:e=>OR(e),getPageName:()=>"month"},iP={getItemKey:(e,t)=>"Month ".concat(3*e+t+1),isSameItem:(e,t)=>$A(e,t),isSamePage:(e,t)=>ZA(e,t),checkIfCurrentDay:()=>!1,checkIfCurrentMonth:e=>GR(e),checkIfCurrent:e=>GR(e),getPageName:()=>"year"};function oP(e){let{padDates:t,baseDate:n,selectedStartDate:o,selectedEndDate:r,rangeStartDate:s,rangeEndDate:a,focusedDate:l,focusedDateRef:u,onSelectDate:c,onGridKeyDownHandler:d,onFocusedDateChange:h,isDateEnabled:p,dateDisabledReason:g,locale:m,todayAriaLabel:v,currentMonthAriaLabel:f,ariaLabelledby:w,className:C,startOfWeek:b=0,granularity:y="day"}=e;const S=null===n||void 0===n?void 0:n.getTime(),x=Mt("date-range-picker"),D="month"===y,E=TR(b,m),F=(0,i.useMemo)(()=>{const e=null!==s&&void 0!==s?s:a,i=null!==a&&void 0!==a?a:s,o=e&&i?[e,i]:null;if(D){const e=new KR({baseDate:n,selection:o});return{header:[],rows:e.quarters,range:e.range}}const r=new UR({padDates:t,startOfWeek:E,baseDate:n,selection:o});return{header:r.weekdays,rows:r.weeks,range:r.range}},[t,E,S,s,a]),k=x(D?"i18nStrings.currentMonthAriaLabel":"i18nStrings.todayAriaLabel",D?f:v);return i.createElement("table",{role:"grid","aria-labelledby":w,className:Gn(tP.grid,C)},!D&&i.createElement("thead",null,i.createElement("tr",null,F.header.map(e=>i.createElement("th",{key:e,scope:"col",className:Gn(tP["grid-cell"],tP["day-header"],$R["day-header"])},i.createElement("span",{"aria-hidden":"true"},QR(m,e,"short")),i.createElement(id,null,QR(m,e,"long")))))),i.createElement("tbody",{onKeyDown:d},F.rows.map((e,t)=>{const d=D?e.months:e.days,v=D?void 0:e.testIndex;return i.createElement("tr",Object.assign({key:t,className:Gn({[$R["calendar-quarter"]]:D,[$R["calendar-week"]]:!D})},!D&&v?{"data-awsui-weekindex":v}:{}),d.map((e,d)=>{let{date:v,isVisible:f,isInRange:w,isSelectionTop:C,isSelectionBottom:b,isSelectionLeft:S,isSelectionRight:x}=e;const{getItemKey:E,isSameItem:F,isSamePage:A,checkIfCurrent:R,checkIfCurrentDay:P,checkIfCurrentMonth:T,getPageName:_}=D?iP:nP,M=E(t,d),I=_(),L=P(v),N=T(v),B=R(v),O=!!o&&F(v,o),G=!!r&&F(v,r),z=O||G,V=!!l&&F(v,l)&&A(v,n),H=s&&a?F(s,a):!o||!r,j=(!p||p(v))&&A(v,n),W=g(v),U=!j&&!!W,K=V&&(j||U),q={[$R["calendar-date"]]:!D&&$A(v,n),[$R["calendar-month"]]:D&&ZA(v,n),[tP.day]:!D,[tP.month]:D,[tP["grid-cell"]]:!0,[tP["in-first-row"]]:0===t,[tP["in-first-column"]]:0===d};if(!f)return i.createElement("td",{key:M,ref:V?u:void 0,className:Gn(q,{[tP["last-day-of-month"]]:!D&&zR(v),[tP["last-month-of-year"]]:D&&11===v.getMonth()})});const Y={};j&&(Y.onClick=()=>c(v),Y.onFocus=()=>h(v));let Z,$=eP({date:v,isCurrent:B,locale:m,granularity:y});return k&&(D&&GR(v)||!D&&OR(v))&&($+=". ".concat(k)),(j||U)&&(Z=K?0:-1),i.createElement(XR,Object.assign({ref:V?u:void 0,key:M,className:Gn(q,{[tP["in-visible-calendar"]]:!0,[tP["in-current-".concat(I)]]:A(v,n),[tP.enabled]:j,[tP.selected]:z,[tP["start-date"]]:O,[tP["end-date"]]:G,[$R["start-date"]]:O,[$R["end-date"]]:G,[tP["no-range"]]:z&&H,[tP["in-range"]]:w,[tP["in-range-border-block-start"]]:C,[tP["in-range-border-block-end"]]:b,[tP["in-range-border-inline-start"]]:S,[tP["in-range-border-inline-end"]]:x,[tP.today]:L,[$R.today]:L,[tP["this-month"]]:N,[$R["this-month"]]:N}),"aria-selected":j?z||w:void 0,"aria-current":B?"date":void 0,"data-date":xR(v,y),"aria-disabled":!j,tabIndex:Z,disabledReason:U?W:void 0},Y),i.createElement("span",{className:tP["".concat(y,"-inner")],"aria-hidden":"true"},D?v.toLocaleString(m,{month:"short"}):v.getDate()),i.createElement(id,null,$))}))})))}function rP(e,t,n,i){const o="day"===i?$A:ZA,r="day"===i?PD:XA;if(n)return o(e,t);return o(e,r(t,-1))||o(e,t)}const sP=e=>{let{baseDate:t,selectedStartDate:n,selectedEndDate:o,focusedDate:r,onFocusedDateChange:s,isDateEnabled:l,dateDisabledReason:u,isSingleGrid:c,onSelectDate:d,onPageChange:h,locale:p,todayAriaLabel:g,currentMonthAriaLabel:m,headingIdPrefix:v,startOfWeek:f=0,granularity:w="day"}=e;const C=(0,i.useRef)(null),[b,y]=(0,i.useState)(!1),S="month"===w,x=(0,i.useRef)(null),D=S?XA:PD,E=S?bR:gR,F=S?wR:hR,k=S?fR:dR,A=S?vR:cR,R=S?CR:pR,P=function(){const e=(0,i.useRef)(new Map);return t=>e.current.get(t.getTime())||(e.current.set(t.getTime(),t),t)}();t=P(t),r=r?P(r):null;const T=(0,i.useCallback)(e=>l(e)||!l(e)&&!!u(e),[l,u]);(0,i.useEffect)(()=>{if(r&&!rP(r,t,c,w)){const e=nR(r,t)?-1:1,n=c||-1!==e?t:D(t,-1),i=E(n,T),o=MR(r,i,T);s(o)}},[t,r,c,w,D,T,s,E]);(0,i.useEffect)(()=>{null!==r&&b&&x.current&&x.current!==document.activeElement&&x.current.focus()},[r,b]);const _=n&&o||b,M=[null!==n&&void 0!==n?n:r,null!==o&&void 0!==o?o:r].filter(_R),I=function(e){var t,n;if(SD(1,arguments),e&&"function"===typeof e.forEach)t=e;else{if("object"!==a(e)||null===e)return new Date(NaN);t=Array.prototype.slice.call(e)}return t.forEach(function(e){var t=xD(e);(void 0===n||n>t||isNaN(t.getDate()))&&(n=t)}),n||new Date(NaN)}(M),L=function(e){var t,n;if(SD(1,arguments),e&&"function"===typeof e.forEach)t=e;else{if("object"!==a(e)||null===e)return new Date(NaN);t=Array.prototype.slice.call(e)}return t.forEach(function(e){var t=xD(e);(void 0===n||n<t||isNaN(Number(t)))&&(n=t)}),n||new Date(NaN)}(M),N=S?"year":"month",B={selectedEndDate:o,selectedStartDate:n,focusedDate:r,focusedDateRef:x,rangeStartDate:_?I:null,rangeEndDate:_?L:null,isDateEnabled:l,dateDisabledReason:u,onSelectDate:d,onGridKeyDownHandler:e=>{let n=null;const i=[ir.up,ir.down,ir.left,ir.right,ir.space,ir.enter];if(null===r||-1===i.indexOf(e.keyCode))return;if(e.preventDefault(),$u(e,{onActivate:()=>{r&&l(r)&&d(r)},onBlockEnd:()=>r&&(n=F(r,T)),onBlockStart:()=>r&&(n=R(r,T)),onInlineStart:()=>r&&(n=k(r,T)),onInlineEnd:()=>r&&(n=A(r,T))}),!n)return;if(!rP(n,t,c,w)){const e=!c&&eR(n,t);h(e?D(n,1):n)}s(n)},onFocusedDateChange:s,locale:p,granularity:w,currentMonthAriaLabel:m,startOfWeek:f,todayAriaLabel:g};return i.createElement("div",{ref:C,onFocus:()=>{b||y(!0)},onBlur:e=>{var t;const n=e.relatedTarget||document.activeElement,i=null===(t=C.current)||void 0===t?void 0:t.contains(n);n&&!i&&b&&y(!1)}},i.createElement(Pp,{size:"xs",direction:"horizontal"},!c&&i.createElement(oP,Object.assign({},B,{padDates:"before",className:$R["first-grid"],baseDate:D(t,-1),ariaLabelledby:"".concat(v,"-prev").concat(N)})),i.createElement(oP,Object.assign({},B,{padDates:"after",className:$R["second-grid"],baseDate:t,ariaLabelledby:"".concat(v,"-current").concat(N)}))))};function aP(e){let{ariaLabel:t,onChangePage:n}=e;return i.createElement(Ds,{iconName:"angle-left",ariaLabel:t,variant:"icon",onClick:()=>n(-1),formAction:"none",className:Gn($R["calendar-prev-page-btn"],$R["calendar-prev-month-btn"])})}function lP(e){let{ariaLabel:t,onChangePage:n}=e;return i.createElement(Ds,{iconName:"angle-right",ariaLabel:t,variant:"icon",onClick:()=>n(1),formAction:"none",className:Gn($R["calendar-next-page-btn"],$R["calendar-next-month-btn"])})}const uP="awsui_calendar_mgja0_1ueys_153",cP="awsui_root_mgja0_1ueys_176",dP="awsui_wide_mgja0_1ueys_207",hP="awsui_focus-lock_mgja0_1ueys_214",pP="awsui_trigger-flexbox_mgja0_1ueys_218",gP="awsui_calendar-container_mgja0_1ueys_222",mP="awsui_one-grid_mgja0_1ueys_225",vP="awsui_calendar-header_mgja0_1ueys_229",fP="awsui_calendar-header-pages-wrapper_mgja0_1ueys_235",wP="awsui_calendar-header-page_mgja0_1ueys_235",CP="awsui_date-and-time-container_mgja0_1ueys_255",bP="awsui_date-and-time-wrapper_mgja0_1ueys_261",yP="awsui_footer_mgja0_1ueys_268",SP="awsui_has-clear-button_mgja0_1ueys_277",xP="awsui_footer-button-wrapper_mgja0_1ueys_286",DP="awsui_icon-wrapper_mgja0_1ueys_293",EP="awsui_label_mgja0_1ueys_298",FP="awsui_label-enabled_mgja0_1ueys_302",kP="awsui_label-text_mgja0_1ueys_306",AP="awsui_label-token-nowrap_mgja0_1ueys_311",RP="awsui_dropdown_mgja0_1ueys_315",PP="awsui_dropdown-content_mgja0_1ueys_337";function TP(e){let{baseDate:t,locale:n,onChangePage:o,previousPageLabel:r,nextPageLabel:s,isSingleGrid:a,headingIdPrefix:l,granularity:u="day"}=e;const c=Mt("date-range-picker"),d="month"===u,h=d?oR:iR,p=h(n,TD(t,"month"===u?{years:-1}:{months:-1})),g=h(n,t),m=d?"year":"month";return i.createElement(i.Fragment,null,i.createElement("div",{className:Gn($R["calendar-header"],vP)},i.createElement(aP,{ariaLabel:c(d?"i18nStrings.previousYearAriaLabel":"i18nStrings.previousMonthAriaLabel",r),onChangePage:o}),i.createElement("h2",{className:fP},!a&&i.createElement("span",{className:wP,id:"".concat(l,"-prev").concat(m)},p),i.createElement("span",{className:wP,id:"".concat(l,"-current").concat(m)},g)),i.createElement(lP,{ariaLabel:c(d?"i18nStrings.nextYearAriaLabel":"i18nStrings.nextMonthAriaLabel",s),onChangePage:o})),i.createElement(cs,{hidden:!0},a?g:"".concat(p,", ").concat(g)))}const _P=(e,t,n)=>(e=>e>7&&e<47&&e!==ir.space)(e)||((e,t)=>e||t)(t,n),MP=(e,t)=>t&&e.preventDefault(),IP=e=>{let{value:t="",onBlur:n,onChange:i,onKeyDown:o,format:r,inputRef:s,autofix:a=!1,disableAutocompleteOnBlur:l=!1,setPosition:u,showUnmaskedValue:c=!1}=e;r.isValid(t)||c||Pt(0,'Invalid string "'.concat(t,'" provided'));const d=e=>{const n=a?r.correctMinMaxValues(e):e;n!==t&&r.isValid(n)&&i(n)},h=a?r.correctMinMaxValues(t):t,p=r.getValidValue(h);return{value:p,onKeyDown:e=>{var t,n;const i=(null===(t=s.current)||void 0===t?void 0:t.selectionStart)||0,a=(null===(n=s.current)||void 0===n?void 0:n.selectionEnd)||0;let l;const{keyCode:c,key:h,ctrlKey:g,metaKey:m}=e.detail;if(!isNaN(parseInt(h,10))||r.isSeparator(h)?(l=((e,t,n,i,o)=>{let r=e;const s=i;if(i===r.length&&r.length===n.getMaxLength())return{value:r,position:s};if(i!==r.length&&o===r.length){const t=n.isCursorAtSeparator(i)?i+1:i;r=e.slice(0,t)}return n.isCursorAtSeparator(s)?{value:r,position:s+1}:n.processKey(r,t,s)})(p,h,r,i,a),MP(e,l)):c===ir.backspace?(l=((e,t,n,i)=>{if(n!==i)return i===e.length?{value:e.slice(0,n),position:n}:t.replaceDigitsWithZeroes(e,n,i);const o=t.isSegmentStart(n);return n===e.length?o?{value:e.slice(0,n-2),position:n-2}:{value:e.slice(0,n-1),position:n-1}:o?t.deleteSeparator(e,n):t.deleteDigit(e,n)})(p,r,i,a),MP(e,l)):c===ir.enter?l=((e,t)=>{if(!e)return{value:"",position:0};const n=t.autoComplete(e);return{value:n,position:n.length}})(p,r):_P(c,g,m)||e.preventDefault(),l){const{value:e,position:t}=l;d(e),u(t)}null===o||void 0===o||o(e)},onChange:e=>{let{detail:t}=e;return d(t.value)},onBlur:()=>{l||((e,t,n)=>{if(!e)return;const i=n.autoComplete(e);i!==e&&t(i)})(p,i,r),null===n||void 0===n||n()},onPaste:e=>{var t,n;if(e.clipboardData){const i=e.clipboardData.getData("text"),o=(null===(t=s.current)||void 0===t?void 0:t.selectionStart)||0,a=(null===(n=s.current)||void 0===n?void 0:n.selectionEnd)||0,l=r.formatPastedText(i,p,o,a);d(l)}}}},LP=function(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return e.slice(0,n)+t+e.slice(i)};const NP=class{constructor(e){let{separator:t,inputSeparators:n=[],segments:i}=e;this.positionFormats=new Map,this.segments=[],this.separator=t,this.inputSeparators=[...n,t],this.enrichSegmentDefinitions(i)}tryAppendSeparator(e){const t="".concat(e).concat(this.separator);return this.isValid(t)?t:e}isSeparator(e){return-1!==this.inputSeparators.indexOf(e)}isValid(e){const t=e.split(this.separator);return!(t.length>this.segments.length)&&t.every((n,i)=>{const o=this.segments[i];if(""===n)return i===t.length-1;if(!n.match(/^\d+$/))return!1;if(n.length<o.length&&i!==t.length-1)return!1;const r=parseInt(n,10);return!(n.length>o.length)&&(!(r<o.min||r>o.max(e))||i===t.length-1&&n.length<o.length)})}getValidValue(e){let t=e;do{if(this.isValid(t))return this.tryAppendSeparator(t);t=t.substring(0,t.length-1)}while(t.length>0);return""}autoComplete(e){const[t,...n]=e.split(this.separator).reverse(),i=this.segments[n.length],o=this.padWithDefaultValue(t,i),r=[...n.reverse(),o];for(;r.length<this.segments.length;){const e=this.segments[r.length],t=this.padWithDefaultValue("",e);r.push(t)}return e=r.join(this.separator),e=this.correctMinMaxValues(e)}getSegmentValueWithAddition(e,t,n){const i=this.positionFormats.get(e),o=t.substr(i.start,i.length),r=e-i.start,s=LP(o,n,r,r+1);return parseInt(s,10)}replaceDigitsWithZeroes(e,t,n){const i=this.isCursorAtSeparator(t)?t+1:t;if(this.isCursorAtSeparator(t)&&t++,!this.isSegmentStart(t)){const n=this.positionFormats.get(t);e=LP(e,SA("",n.end-t),t,n.end),t=n.end+1}let o;for(;t<n&&(o=this.positionFormats.get(t+1));){const i=Math.min(n,o.end);e=LP(e,SA("",i-o.start),o.start,i),t=i+1}return{value:e=this.correctMinMaxValues(e),position:i}}handleSeparatorInput(e,t){if(t===e.length&&!this.isSegmentStart(t)){const n=this.positionFormats.get(t);let i=e.substr(n.start,n.length);return i=this.padWithDefaultValue(i,n),e=LP(e,i,n.start,n.end),{value:e=this.correctMinMaxValues(e),position:e.length}}}isCursorAtSeparator(e){return 0<e&&e<this.getMaxLength()&&void 0===this.positionFormats.get(e)}isSegmentStart(e){return 0===e||this.isCursorAtSeparator(e-1)}getSegmentMaxValue(e,t){return this.positionFormats.get(t).max(e)}getSegmentMinValue(e,t){return this.positionFormats.get(t).min}getMaxLength(){const e=this.segments[this.segments.length-1];return e.start+e.length}deleteSeparator(e,t){return e=LP(e,"0",t-2,t-1),{value:this.correctMinMaxValues(e),position:t-2}}deleteDigit(e,t){const n=(e=LP(e,"0",t-1,t)).length;return"0:"===e.slice(n-2)&&(e=e.slice(0,n-2)),{value:this.correctMinMaxValues(e),position:t-1}}correctMinMaxValues(e){let t=this.positionFormats.get(0);for(;t&&e.length>=t.end;){const n=parseInt(e.substr(t.start,t.length),10),i=t.max(e);if(n<t.min){let n=t.min.toFixed();n=SA(n,t.length),e=LP(e,n,t.start,t.end)}n>i&&(e=LP(e,i.toFixed(),t.start,t.end)),t=this.positionFormats.get(t.end+1)}return e.substr(0,this.segments[this.segments.length-1].end)}formatPastedText(e,t,n,i){const o=e.trim().split("");let r=n,s=t;i>n&&i===t.length&&(s=t.slice(0,n));for(const a of o){if(r>=this.getMaxLength())break;const e=this.processKey(s,a,r);s=e.value,r=e.position}return this.tryAppendSeparator(s)}processKey(e,t,n){let i=e,o=n;if(this.isSeparator(t)){const e=this.handleSeparatorInput(i,o);e&&(i=e.value,o=e.position)}else{const e=o===i.length,n=this.getSegmentValueWithAddition(o,i,t),r=this.getSegmentMaxValue(i,o),s=this.getSegmentMinValue(i,o),a=parseInt(t,10)>parseInt(r.toFixed()[0],10),l=e||1===n.toFixed().length;this.isSegmentStart(o)&&l&&a?(i=LP(i,"0".concat(t),o,o+2),o+=2):n>r&&this.isSegmentStart(o)?(i=LP(i,r.toFixed(),o,o+r.toFixed().length),o+=r.toFixed().length):n>r?(i=LP(i,r.toFixed(),o-1,o+1),o+=1):n<s&&!this.isSegmentStart(o)?(i=LP(i,s.toFixed(),o,o+1),o+=1):(i=LP(i,t,o,o+1),o+=1)}return i=this.tryAppendSeparator(i),this.isCursorAtSeparator(o)&&o++,{value:i,position:o}}padWithDefaultValue(e,t){let n=(t.default||t.min).toFixed();return n=SA(n,t.length),LP(n,e,t.length-e.length,t.length)}enrichSegmentDefinitions(e){this.positionFormats=new Map,this.segments=[];let t=0;for(const n of e){const e=n.max,i=Object.assign(Object.assign({},n),{max:"number"===typeof e?()=>e:e,start:t,end:t+n.length});this.segments.push(i);for(let n=0;n<i.length;n++)this.positionFormats.set(t++,i);t++}}},BP=i.forwardRef((e,t)=>{var{value:n,onBlur:o,onChange:r,onKeyDown:s,mask:a,autofix:l=!1,disableAutocompleteOnBlur:u=!1,showUnmaskedValue:c=!1}=e,d=Et(e,["value","onBlur","onChange","onKeyDown","mask","autofix","disableAutocompleteOnBlur","showUnmaskedValue"]);const h=zt(d),p=zp(d),g=i.useRef(null),[m,v]=(0,i.useState)(null);(0,i.useLayoutEffect)(()=>{var e;null!==m&&(null===(e=g.current)||void 0===e||e.setSelectionRange(m,m))},[m,g]);const f=IP({format:new NP(a),value:n,inputRef:g,autofix:l,disableAutocompleteOnBlur:u,onChange:e=>!d.readOnly&&_i(r,{value:e}),onKeyDown:e=>!d.readOnly&&s&&Mi(s,e.detail,e),onBlur:()=>_i(o),setPosition:v,showUnmaskedValue:c}),{onPaste:w}=f,C=Et(f,["onPaste"]),b=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},d),h),p),C),{value:c?n:C.value}),y=Tt(t,g);return i.createElement(Yg,Object.assign({},b,{ref:y,__nativeAttributes:{onPaste:w}}))}),OP=BP;function GP(e){return e.replace(/\//g,"-")}const zP={min:0,max:9999,default:2e3,length:4},VP={min:1,max:12,length:2},HP={min:1,max:function(e){return function(e){SD(1,arguments);var t=xD(e),n=t.getFullYear(),i=t.getMonth(),o=new Date(0);return o.setFullYear(n,i+1,0),o.setHours(0,0,0,0),o.getDate()}(SR(GP(e).substring(0,7)))},length:2};const jP=function(){let{granularity:e="day",isIso:t=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{separator:t?"-":"/",inputSeparators:t?["/","."," "]:["-","."," "],segments:"month"===e?[zP,VP]:[zP,VP,HP]}};const WP="awsui_root_yodkx_im8v7_5",UP=i.forwardRef((e,t)=>{var{value:n,onChange:o,onBlur:r,onFocus:s,granularity:a="day",locale:l,format:u="slashed",inputFormat:c="slashed",__internalRootRef:d,__injectAnalyticsComponentMetadata:h=!1}=e,p=Et(e,["value","onChange","onBlur","onFocus","granularity","locale","format","inputFormat","__internalRootRef","__injectAnalyticsComponentMetadata"]);const[g,m]=(0,i.useState)(!1),v=(0,i.useRef)(null),f="iso"===u||"long-localized"===u&&"iso"===c;Wr(t,v);const w="long-localized"===u&&!(g&&!p.readOnly),C=(0,i.useMemo)(()=>{if(!n)return"";const e=GP(n),t={hideTimeOffset:!0,isDateOnly:!0,isMonthOnly:"month"===a,locale:l},i=function(e,t){if(!e)return"";const n=e.match(/^(\d{4})(?:-(\d{1,2})?)?(?:-(\d{1,2})?)?$/);if(!n)return"";const[,i,o,r]=n;return"day"===t&&2===(null===o||void 0===o?void 0:o.length)&&2===(null===r||void 0===r?void 0:r.length)?"".concat(i,"-").concat(o,"-").concat(r):2===(null===o||void 0===o?void 0:o.length)?"".concat(i,"-").concat(o):i}(e,a);return w&&i?AA(Object.assign({date:i},t)):f?kA(Object.assign({date:e},t)):function(e){return e.replace(/-/g,"/")}(e)},[n,f,a,l,w]),b={name:"awsui.DateInput",label:"input",properties:{value:n||""}};return i.createElement(OP,Object.assign({ref:v},p,{value:C,onChange:e=>{"long-localized"===u&&!(g||p.readOnly)||_i(o,{value:GP(e.detail.value)})},onFocus:e=>{m(!0),null===s||void 0===s||s(e)},onBlur:e=>{m(!1),null===r||void 0===r||r(e)},className:Gn(WP,p.className),mask:jP({granularity:a,isIso:f}),autofix:!w,disableAutocompleteOnBlur:!1,disableBrowserAutocorrect:!0,showUnmaskedValue:w,autoComplete:!1,__internalRootRef:d},h?Qi({component:b}):{}))}),KP=UP,qP="awsui_root_l809c_im8v7_5",YP=i.forwardRef((e,t)=>{var{format:n="hh:mm:ss",use24Hour:o=!0,autoComplete:r=!0,__internalRootRef:s}=e,a=Et(e,["format","use24Hour","autoComplete","__internalRootRef"]);const l=(0,i.useRef)(null);Wr(t,l);const u=((e,t)=>({separator:":",segments:[t?{min:0,max:23,length:2}:{min:1,max:12,length:2},{min:0,max:59,length:2},{min:0,max:59,length:2}].slice(0,e.split(":").length)}))(n,o);return i.createElement(OP,Object.assign({},a,{__internalRootRef:s,ref:l,className:Gn(qP,a.className),autoComplete:r,disableBrowserAutocorrect:!0,mask:u}))}),ZP=YP;function $P(e){let{startDate:t,onChangeStartDate:n,startTime:o,onChangeStartTime:r,endDate:s,onChangeEndDate:a,endTime:l,onChangeEndTime:u,i18nStrings:c,dateOnly:d,timeInputFormat:h,granularity:p="day"}=e;const g=Mt("date-range-picker"),m="month"===p,v=m?"YYYY/MM":"YYYY/MM/DD",f=!d&&!m;return i.createElement(mg,{constraintText:g(m?"i18nStrings.monthConstraintText":d?"i18nStrings.dateConstraintText":"i18nStrings.dateTimeConstraintText",m?null===c||void 0===c?void 0:c.monthConstraintText:d?null===c||void 0===c?void 0:c.dateConstraintText:null===c||void 0===c?void 0:c.dateTimeConstraintText)},i.createElement("div",{className:CP},i.createElement("div",{className:bP},i.createElement(mg,{stretch:!0,label:g(m?"i18nStrings.startMonthLabel":"i18nStrings.startDateLabel",m?null===c||void 0===c?void 0:c.startMonthLabel:null===c||void 0===c?void 0:c.startDateLabel)},i.createElement(KP,{value:t,className:Gn($R["start-date-input"],m&&$R["start-month-input"]),onChange:e=>n(e.detail.value),placeholder:v,granularity:p})),f&&i.createElement(mg,{stretch:!0,label:g("i18nStrings.startTimeLabel",null===c||void 0===c?void 0:c.startTimeLabel)},i.createElement(ZP,{value:o,onChange:e=>r(e.detail.value),format:h,placeholder:h,className:$R["start-time-input"]}))),i.createElement("div",{className:bP},i.createElement(mg,{stretch:!0,label:g(m?"i18nStrings.endMonthLabel":"i18nStrings.endDateLabel",m?null===c||void 0===c?void 0:c.endMonthLabel:null===c||void 0===c?void 0:c.endDateLabel)},i.createElement(KP,{value:s,className:Gn($R["end-date-input"],m&&$R["end-month-picker"]),onChange:e=>a(e.detail.value),placeholder:v,granularity:p})),f&&i.createElement(mg,{label:g("i18nStrings.endTimeLabel",null===c||void 0===c?void 0:c.endTimeLabel),stretch:!0},i.createElement(ZP,{value:l,onChange:e=>u(e.detail.value),format:h,placeholder:h,className:$R["end-time-input"]})))))}function XP(e){let{value:t,setValue:n,locale:o="",startOfWeek:r,isDateEnabled:s=()=>!0,dateDisabledReason:a=()=>"",i18nStrings:l,dateOnly:u=!1,timeInputFormat:c="hh:mm:ss",customAbsoluteRangeControl:d,granularity:h="day"}=e;var p,g;const m=In(),v="month"===h,f=v||u,w=NA("DateRangePicker",o),C=TR(r,w),b=Mt("date-range-picker"),[y,S]=(0,i.useState)(""),x=v?NR:LR,D=v?ZA:$A,E=v?XA:PD,F=v?QA:JA,k=v?IR:MR,[A,R]=(0,i.useState)(()=>x(t,m)),[P,T]=(0,i.useState)(()=>{if(t.start.date){const e=SR(t.start.date);if(D(e,A))return e;if(!m&&D(e,E(A,-1)))return e}return k(SR(t.start.date),A,s)}),_=e=>{if(v&&e.length>=4||e.length>=8){const t=F(SR(e));R(m?t:E(t,1))}},M=e=>"".concat(b("i18nStrings.startDateLabel",null===l||void 0===l?void 0:l.startDateLabel),", ").concat(sR(w,e)).concat(f?"":", ".concat(b("i18nStrings.startTimeLabel",null===l||void 0===l?void 0:l.startTimeLabel),", ").concat(aR(w,e,c)),". "),I=e=>"".concat(b("i18nStrings.endDateLabel",null===l||void 0===l?void 0:l.endDateLabel),", ").concat(sR(w,e)).concat(f?"":", ".concat(b("i18nStrings.endTimeLabel",null===l||void 0===l?void 0:l.endTimeLabel),", ").concat(aR(w,e,c)),". "),L=b("i18nStrings.renderSelectedAbsoluteRangeAriaLive",null===l||void 0===l?void 0:l.renderSelectedAbsoluteRangeAriaLive,e=>(t,n)=>e({startDate:t,endDate:n})),N=(e,t)=>L?L(sR(w,e),sR(w,t)):"".concat(sR(w,e)," \u2013 ").concat(sR(w,t)),B=Yi("date-range-picker-calendar-heading");return i.createElement(i.Fragment,null,i.createElement("div",{className:Gn(gP,{[mP]:m})},i.createElement(Pp,{size:"s"},i.createElement("div",{className:Gn(uP,{[mP]:m})},i.createElement(TP,{granularity:h,baseDate:A,locale:w,onChangePage:e=>{const t=v?bR:gR,n=(v?XA:PD)(A,e);R(n);const i=t(n,s);T(i)},previousPageLabel:v?null===l||void 0===l?void 0:l.previousYearAriaLabel:null===l||void 0===l?void 0:l.previousMonthAriaLabel,nextPageLabel:v?null===l||void 0===l?void 0:l.nextYearAriaLabel:null===l||void 0===l?void 0:l.nextMonthAriaLabel,isSingleGrid:m,headingIdPrefix:B}),i.createElement(sP,{granularity:h,isSingleGrid:m,locale:w,baseDate:A,focusedDate:P,onFocusedDateChange:T,isDateEnabled:s,dateDisabledReason:a,onSelectDate:e=>{const{start:i,end:o}=t;let r,s,a="";if(i.date||o.date){if(i.date&&o.date)r=ED(e),s=null,a=M(r);else if(i.date&&!o.date){const t=SR(i.date);eR(e,t)?(r=ED(e),s=tR(t),a=M(r)+N(r,s)):(s=tR(e),a=I(s)+N(t,s))}else if(!i.date&&o.date){const t=SR(o.date);nR(e,t)?(r=ED(t),s=tR(e),a=I(s)+N(r,s)):(r=ED(e),a=M(r)+N(r,t))}}else r=ED(e),a=M(r);const l=(e,t,n)=>null===e?{date:"",time:""}:void 0===e?t:n?FR(function(e){return xR(e)+"T"+kR(e)}(e)):{date:xR(e),time:""};n({start:l(r,t.start,!f),end:l(s,t.end,!f)}),S(a)},onPageChange:R,startOfWeek:C,todayAriaLabel:null===l||void 0===l?void 0:l.todayAriaLabel,currentMonthAriaLabel:null===l||void 0===l?void 0:l.currentMonthAriaLabel,selectedStartDate:(null===(p=null===t||void 0===t?void 0:t.start)||void 0===p?void 0:p.date)?SR(t.start.date,!v):null,selectedEndDate:(null===(g=null===t||void 0===t?void 0:t.end)||void 0===g?void 0:g.date)?SR(t.end.date,!v):null,headingIdPrefix:B})),i.createElement($P,{startDate:t.start.date,onChangeStartDate:e=>{n(t=>Object.assign(Object.assign({},t),{start:Object.assign(Object.assign({},t.start),{date:e})})),_(e)},startTime:t.start.time,onChangeStartTime:e=>n(t=>Object.assign(Object.assign({},t),{start:Object.assign(Object.assign({},t.start),{time:e})})),endDate:t.end.date,onChangeEndDate:e=>n(t=>Object.assign(Object.assign({},t),{end:Object.assign(Object.assign({},t.end),{date:e})})),endTime:t.end.time,onChangeEndTime:e=>n(t=>Object.assign(Object.assign({},t),{end:Object.assign(Object.assign({},t.end),{time:e})})),i18nStrings:l,dateOnly:u,timeInputFormat:c,granularity:h}),d&&i.createElement("div",null,d(t,e=>{n(t=>{const n="function"===typeof e?e(t):e;return _(n.start.date),n})})))),i.createElement(cs,{className:$R["calendar-aria-live"],hidden:!0,tagName:"span"},y))}function QP(e){let{i18nStrings:t,mode:n,onChange:o}=e;const r=Mt("date-range-picker");return i.createElement(ff,{className:$R["mode-switch"],selectedId:n,label:null===t||void 0===t?void 0:t.modeSelectionLabel,options:[{id:"relative",text:r("i18nStrings.relativeModeTitle",null===t||void 0===t?void 0:t.relativeModeTitle)},{id:"absolute",text:r("i18nStrings.absoluteModeTitle",null===t||void 0===t?void 0:t.absoluteModeTitle)}],onChange:e=>o(e.detail.selectedId)})}const JP="awsui_label_13tpe_9w8pd_5",eT="awsui_native-input_13tpe_9w8pd_6",tT="awsui_content_1wepg_fp1bh_145",nT="awsui_description_1wepg_fp1bh_146",iT="awsui_label_1wepg_fp1bh_147",oT="awsui_outline_1wepg_fp1bh_155",rT="awsui_show-outline_1wepg_fp1bh_158",sT="awsui_native-input_1wepg_fp1bh_162",aT="awsui_wrapper_1wepg_fp1bh_166",lT="awsui_label-wrapper_1wepg_fp1bh_172",uT="awsui_empty-content_1wepg_fp1bh_183",cT="awsui_description-bottom-padding_1wepg_fp1bh_193",dT="awsui_label-disabled_1wepg_fp1bh_201",hT="awsui_description-disabled_1wepg_fp1bh_202",pT="awsui_control_1wepg_fp1bh_206";function gT(e){return e.filter(e=>!!e).join(" ")}function mT(e){var t,n,o,r,s,a,{controlId:l,controlClassName:u,outlineClassName:c,showOutline:d,disabled:h,readOnly:p,nativeControl:g,styledControl:m,label:v,description:f,descriptionBottomPadding:w,ariaLabel:C,ariaLabelledby:b,ariaDescribedby:y,ariaControls:S,onClick:x,style:D,__internalRootRef:E}=e,F=Et(e,["controlId","controlClassName","outlineClassName","showOutline","disabled","readOnly","nativeControl","styledControl","label","description","descriptionBottomPadding","ariaLabel","ariaLabelledby","ariaDescribedby","ariaControls","onClick","style","__internalRootRef"]);const k=Yi(),A=l||k,R="".concat(A,"-label"),P="".concat(A,"-description"),T=[];v&&!C&&T.push(R),b&&T.push(b);const _=[];return y&&_.push(y),f&&_.push(P),i.createElement("span",Object.assign({},F,{className:Gn(aT,F.className),ref:E},eo(".".concat(v?JP:eT))),i.createElement("span",Object.assign({className:lT,"aria-disabled":h?"true":void 0,onClick:h||p?void 0:x},Qi(h||p?{}:{action:"select",detail:{label:".".concat(v?JP:eT)}})),i.createElement("span",{className:Gn(pT,u),style:Object.assign({background:null===(t=null===D||void 0===D?void 0:D.control)||void 0===t?void 0:t.background},(null===D||void 0===D?void 0:D.focusRing)&&{[bs.styleFocusRingBorderColor]:null===(n=D.focusRing)||void 0===n?void 0:n.borderColor,[bs.styleFocusRingBorderRadius]:null===(o=D.focusRing)||void 0===o?void 0:o.borderRadius,[bs.styleFocusRingBorderWidth]:null===(r=D.focusRing)||void 0===r?void 0:r.borderWidth})},m,g({id:A,disabled:h,className:Gn(sT,eT),"aria-describedby":_.length?gT(_):void 0,"aria-labelledby":T.length?gT(T):void 0,"aria-label":C,"aria-controls":S}),i.createElement("span",{className:Gn(oT,c,d&&rT)})),i.createElement("span",{className:Gn(tT,!v&&!f&&uT)},v&&i.createElement("span",{id:R,className:Gn(iT,JP,{[dT]:h}),style:{color:null===(s=null===D||void 0===D?void 0:D.label)||void 0===s?void 0:s.color}},v),f&&i.createElement("span",{id:P,className:Gn(nT,{[hT]:h,[cT]:w}),style:{color:null===(a=null===D||void 0===D?void 0:D.description)||void 0===a?void 0:a.color}},f))))}function vT(e,t,n,i){let o;return o}function fT(e,t,n,i){let o;return o}function wT(e,t,n,i){let o={};return o}const CT="awsui_root_1mabk_uj3do_145",bT="awsui_radio_1mabk_uj3do_178",yT="awsui_radio--has-description_1mabk_uj3do_186",ST="awsui_radio-control_1mabk_uj3do_190",xT="awsui_outline_1mabk_uj3do_198",DT="awsui_styled-circle-border_1mabk_uj3do_221",ET="awsui_styled-circle-disabled_1mabk_uj3do_225",FT="awsui_styled-circle-readonly_1mabk_uj3do_225",kT="awsui_styled-circle-fill_1mabk_uj3do_230",AT="awsui_styled-circle-checked_1mabk_uj3do_246",RT=i.forwardRef(function(e,t){var{name:n,label:o,value:r,checked:s,description:a,disabled:l,controlId:u,onChange:c,readOnly:d,className:h,style:p}=e,g=Et(e,["name","label","value","checked","description","disabled","controlId","onChange","readOnly","className","style"]);const m=(0,i.useRef)(null),v=Tt(m,t),{tabIndex:f}=Hr(m);return i.createElement(mT,Object.assign({className:Gn(bT,a&&yT,h),controlClassName:ST,outlineClassName:xT,label:o,description:a,disabled:l,readOnly:d,controlId:u,style:wT()},Ji(g),{nativeControl:e=>i.createElement("input",Object.assign({},e,{tabIndex:f,type:"radio",ref:v,name:n,value:r,checked:s,"aria-disabled":d&&!l?"true":void 0,onChange:()=>{}})),onClick:()=>{var e;null===(e=m.current)||void 0===e||e.focus(),s||_i(c,{value:r})},styledControl:i.createElement("svg",{viewBox:"0 0 100 100",focusable:"false","aria-hidden":"true"},i.createElement("circle",{className:Gn(DT,{[ET]:l,[FT]:d}),strokeWidth:6.25,cx:50,cy:50,r:46,style:vT()}),i.createElement("circle",{className:Gn(kT,{[ET]:l,[AT]:s,[FT]:d}),strokeWidth:30,cx:50,cy:50,r:35,style:fT()}))}))}),PT=i.forwardRef((e,t)=>{var{name:n,value:o,items:r,ariaLabel:s,ariaRequired:a,ariaControls:l,onChange:u,readOnly:c,__internalRootRef:d,style:h}=e,p=Et(e,["name","value","items","ariaLabel","ariaRequired","ariaControls","onChange","readOnly","__internalRootRef","style"]);const{ariaDescribedby:g,ariaLabelledby:m}=zp(p),v=zt(p),f=Yi("awsui-radio-"),[w,C]=function(e,t,n){const o=(0,i.useRef)(null),r=t&&function(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n;return-1}(t,e=>e.value===n);return(0,i.useImperativeHandle)(e,()=>({focus(){var e;null===(e=o.current)||void 0===e||e.focus()}})),[o,void 0!==r&&-1!==r?r:0]}(t,r,o);return i.createElement("div",Object.assign({role:"radiogroup","aria-labelledby":m,"aria-label":s,"aria-describedby":g,"aria-required":a,"aria-controls":l,"aria-readonly":c?"true":void 0},v,{className:Gn(v.className,CT),ref:d}),r&&r.map((e,t)=>i.createElement(RT,Object.assign({key:e.value,ref:t===C?w:void 0,checked:e.value===o,name:n||f,value:e.value,label:e.label,description:e.description,disabled:e.disabled,onChange:u,controlId:e.controlId,readOnly:c,style:h},Qi(e.disabled||c?{}:{detail:{position:"".concat(t+1),value:e.value}})))))}),TT=PT,_T="awsui_custom-range_16zmw_25w4q_145",MT="awsui_custom-range--no-padding_16zmw_25w4q_151",IT="awsui_custom-range-form-controls_16zmw_25w4q_155",LT="awsui_custom-range-duration_16zmw_25w4q_159",NT="awsui_custom-range-unit_16zmw_25w4q_160",BT="awsui_vertical_16zmw_25w4q_166",OT=["month","year"],GT=["day","week",...OT],zT=["second","minute","hour",...GT],VT="awsui-internal-custom-duration-key";function HT(e){let{dateOnly:t,options:n=[],initialSelection:o,onChange:r,i18nStrings:s,isSingleGrid:a,customUnits:l,granularity:u="day"}=e;var c;const d=Mt("date-range-picker"),h=d("i18nStrings.formatRelativeRange",null===s||void 0===s?void 0:s.formatRelativeRange,e=>t=>{let{amount:n,unit:i}=t;return e({amount:n,unit:i})}),p=d("i18nStrings.formatUnit",null===s||void 0===s?void 0:s.formatUnit,e=>(t,n)=>e({amount:n,unit:t})),g=n.map(e=>({value:e.key,label:null===h||void 0===h?void 0:h(e)}));g.push({value:VT,label:d("i18nStrings.customRelativeRangeOptionLabel",null===s||void 0===s?void 0:s.customRelativeRangeOptionLabel),description:d("i18nStrings.customRelativeRangeOptionDescription",null===s||void 0===s?void 0:s.customRelativeRangeOptionDescription)});const[m,v]=(0,i.useState)(()=>{var e;return o&&!o.key?VT:null!==(e=null===o||void 0===o?void 0:o.key)&&void 0!==e?e:null}),[f,w]=(0,i.useState)(()=>o?o.amount:NaN);let C="month"===u?OT:t?GT:zT;l&&(C=l.filter(e=>!!zT.includes(e)||(Pt(0,"Invalid unit found in customRelativeRangeUnits: ".concat(e,". This entry will be ignored.")),!1)));let b="month"===u?"month":t?"day":"minute";C.includes(b)||(b=C[0]);const[y,S]=(0,i.useState)(null!==(c=null===o||void 0===o?void 0:o.unit)&&void 0!==c?c:b),x=n.length>0,D=0===n.length||m===VT;return i.createElement("div",null,i.createElement(Pp,{size:"xs",direction:"vertical"},x&&i.createElement(mg,Object.assign({},{label:d("i18nStrings.relativeRangeSelectionHeading",null===s||void 0===s?void 0:s.relativeRangeSelectionHeading),description:"month"===u&&d("i18nStrings.relativeRangeSelectionMonthlyDescription",null===s||void 0===s?void 0:s.relativeRangeSelectionMonthlyDescription)}),i.createElement(TT,{className:$R["relative-range-radio-group"],onChange:e=>{let{detail:t}=e;if(v(t.value),t.value===VT)w(NaN),S(b),r({amount:NaN,unit:b,type:"relative"});else{const e=n.filter(e=>e.key===t.value)[0];r(e)}},value:m,items:g})),D&&i.createElement(Pp,{direction:"vertical",size:"xs"},!x&&i.createElement(Ua,{fontSize:"body-m",color:"text-body-secondary"},d("i18nStrings.customRelativeRangeOptionDescription",null===s||void 0===s?void 0:s.customRelativeRangeOptionDescription)),i.createElement("div",{className:Gn(_T,{[MT]:!x})},i.createElement("div",{className:Gn(IT,{[BT]:a})},i.createElement("div",{className:LT},i.createElement(mg,{label:d("i18nStrings.customRelativeRangeDurationLabel",null===s||void 0===s?void 0:s.customRelativeRangeDurationLabel)},i.createElement(Yg,{type:"number",className:$R["custom-range-duration-input"],value:isNaN(f)||0===f?"":null===f||void 0===f?void 0:f.toString(),onChange:e=>{const t=Number(e.detail.value);w(t),r({amount:t,unit:y,type:"relative"})},placeholder:d("i18nStrings.customRelativeRangeDurationPlaceholder",null===s||void 0===s?void 0:s.customRelativeRangeDurationPlaceholder),__inheritFormFieldProps:!0}))),i.createElement("div",{className:NT},i.createElement(mg,{label:d("i18nStrings.customRelativeRangeUnitLabel",null===s||void 0===s?void 0:s.customRelativeRangeUnitLabel)},i.createElement(pf,{className:$R["custom-range-unit-select"],selectedOption:{value:y,label:null===p||void 0===p?void 0:p(y,f)},onChange:e=>{const{value:t}=e.detail.selectedOption;S(t),r({amount:f,unit:t,type:"relative"})},options:C.map(e=>({value:e,label:null===p||void 0===p?void 0:p(e,f)})),renderHighlightedAriaLive:e=>e.label||e.value||""}))))))))}function jT(e,t){return SD(2,arguments),vk(e,6e4*AD(t))}function WT(e){const[,t=""]=e.split("T"),[,n,i]=t.split(/(-|\+)/);if(n&&i){const[e,t]=i.split(":");return Number(n+"1")*(60*Number(e)+Number(t))}if(-1!==e.indexOf("Z"))return 0;return 0-new Date(e).getTimezoneOffset()}function UT(e,t){const[n,i=""]=e.split("T"),[o]=i.split(/-|\+|Z/),r=ER(n,o),s=WT(e),a=new Date(r);t=null!==t&&void 0!==t?t:0-a.getTimezoneOffset();const l=jT(a,t-s);return ER(xR(l),kR(l))}function KT(e,t){if(!e||"absolute"!==e.type)return e;const n=/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}(:\d{2})?(\.\d{1,3})?(((\+|-)\d{2}(:\d{2})?)|Z)?$/;return n.test(e.startDate)&&n.test(e.endDate)?{type:"absolute",startDate:UT(e.startDate,t.startDate),endDate:UT(e.endDate,t.endDate)}:(Pt(),null)}function qT(e,t,n){if(e&&"absolute"===e.type){if(t)return{startDate:t(YT(e.startDate)),endDate:t(YT(e.endDate))};if(void 0!==n)return{startDate:n,endDate:n}}return{startDate:void 0,endDate:void 0}}function YT(e){return jT(new Date(e),WT(e))}function ZT(e){return null!==e&&"absolute"===(null===e||void 0===e?void 0:e.type)}function $T(e){return"absolute"===e.type&&""===e.startDate&&""===e.endDate}function XT(e,t){return t(e.startDate)&&t(e.endDate)}function QT(e,t){let{timeOffset:n,monthOnly:i,dateOnly:o}=t;if(!ZT(e)||$T(e))return e;if(i||o){const[t,n]=[e.startDate,e.endDate].map(e=>i?e.split("T")[0].split("-").slice(0,2).join("-"):e.split("T")[0]);return{type:"absolute",startDate:t,endDate:n}}return function(e,t){if("absolute"!==(null===e||void 0===e?void 0:e.type))return e;const n=e=>e.replace(/[Z]$|[+-]\d{2}:?\d{2}$/,"");return{type:"absolute",startDate:n(e.startDate)+xA(e.startDate,t.startDate),endDate:n(e.endDate)+xA(e.endDate,t.endDate)}}(e,null===n?{startDate:void 0,endDate:void 0}:n)}function JT(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const[n,i]=[e.start.time||"00:00:00",e.end.time||"23:59:59"].map(DR);return{type:"absolute",startDate:t?e.start.date:ER(e.start.date,n),endDate:t?e.end.date:ER(e.end.date,i)}}const e_={valid:!0};function t_(e){let{locale:t="",startOfWeek:n,isDateEnabled:o,dateDisabledReason:r=()=>"",isValidRange:s,value:a,onClear:l,onApply:u,getTimeOffset:c,timeOffset:d,onDropdownClose:h,relativeOptions:p,showClearButton:g,isSingleGrid:m,i18nStrings:v,dateOnly:f,timeInputFormat:w,rangeSelectorMode:C,ariaLabelledby:b,ariaDescribedby:y,customAbsoluteRangeControl:S,customRelativeRangeUnits:x,granularity:D="day"}=e;const E=Mt("date-range-picker"),F="month"===D,k=f||F,A=(0,i.useRef)(null),[R,P]=(0,i.useState)(function(e,t,n){return(null===e||void 0===e?void 0:e.type)?e.type:"relative-only"===n?"relative":"absolute-only"===n?"absolute":t.length>0?"relative":"absolute"}(a,p,C)),[T,_]=(0,i.useState)(()=>function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e?{start:Object.assign(Object.assign({},FR(e.startDate)),t?{time:""}:{}),end:Object.assign(Object.assign({},FR(e.endDate)),t?{time:""}:{})}:{start:{date:"",time:""},end:{date:"",time:""}}}("absolute"===(null===a||void 0===a?void 0:a.type)?a:null,k)),[M,I]=(0,i.useState)("relative"===(null===a||void 0===a?void 0:a.type)?a:null),L=(0,i.useRef)(null),N=(0,i.useRef)(null),[B,O]=(0,i.useState)(!1),[G,z]=(0,i.useState)(e_),V=()=>{O(!1),h()};return(0,i.useEffect)(()=>{if(B){const e="relative"===R?M:JT(T),t=QT(e,{dateOnly:f,monthOnly:F,timeOffset:f||F?null:qT(e,c,d)}),n=s(t);z(n||e_)}},[B,s,R,M,T,z,f,F,c,d]),(0,i.useEffect)(()=>{var e;return null===(e=L.current)||void 0===e?void 0:e.focus()},[L]),i.createElement(i.Fragment,null,i.createElement(nr,{className:hP,autoFocus:!0},i.createElement("div",{ref:L,className:Gn(RP,$R.dropdown),tabIndex:0,role:"dialog","aria-label":null===v||void 0===v?void 0:v.ariaLabel,"aria-labelledby":null!==b&&void 0!==b?b:null===v||void 0===v?void 0:v.ariaLabelledby,"aria-describedby":null!==y&&void 0!==y?y:null===v||void 0===v?void 0:v.ariaDescribedby},i.createElement("div",{className:Gn(PP,{[mP]:m})},i.createElement(Pp,{size:"l"},i.createElement(Ua,{padding:{top:"m",horizontal:"l"}},i.createElement(Pp,{direction:"vertical",size:"s"},"default"===C&&i.createElement(QP,{mode:R,onChange:e=>{P(e),O(!1),z(e_)},i18nStrings:v}),"absolute"===R&&i.createElement(XP,{value:T,setValue:_,locale:t,startOfWeek:n,isDateEnabled:o,dateDisabledReason:r,i18nStrings:v,dateOnly:f,timeInputFormat:w,customAbsoluteRangeControl:S,granularity:D}),"relative"===R&&i.createElement(HT,{isSingleGrid:m,options:p,dateOnly:f,initialSelection:M,onChange:e=>I(e),i18nStrings:v,customUnits:x,granularity:D})),i.createElement(Ua,{className:$R["validation-section"],margin:G.valid?void 0:{top:"s"}},!G.valid&&i.createElement(i.Fragment,null,i.createElement(YA,{type:"error",statusIconAriaLabel:E("i18nStrings.errorIconAriaLabel",null===v||void 0===v?void 0:v.errorIconAriaLabel)},i.createElement("span",{className:$R["validation-error"]},G.errorMessage)),i.createElement(cs,{hidden:!0,tagName:"span",ref:A},G.errorMessage)))),i.createElement("div",{className:Gn(yP,{[mP]:m,[SP]:g})},g&&i.createElement("div",{className:xP},i.createElement(Ds,{onClick:()=>{V(),l()},className:$R["clear-button"],variant:"link",formAction:"none"},E("i18nStrings.clearButtonLabel",null===v||void 0===v?void 0:v.clearButtonLabel))),i.createElement("div",{className:xP},i.createElement(Pp,{size:"xs",direction:"horizontal"},i.createElement(Ds,{onClick:V,className:$R["cancel-button"],variant:"link",formAction:"none"},E("i18nStrings.cancelButtonLabel",null===v||void 0===v?void 0:v.cancelButtonLabel)),i.createElement(Ds,{onClick:()=>{var e;const t="relative"===R?M:JT(T,k),n=u(t);!1===n.valid?(O(!0),z(n),null===(e=A.current)||void 0===e||e.reannounce()):(O(!1),V())},className:$R["apply-button"],ref:N,formAction:"none"},E("i18nStrings.applyButtonLabel",null===v||void 0===v?void 0:v.applyButtonLabel))))))))))}const n_=i.forwardRef((e,t)=>{var n,o,{locale:r="",startOfWeek:s,isDateEnabled:a=()=>!0,dateDisabledReason:l,value:u,placeholder:c,readOnly:d=!1,disabled:h=!1,onChange:p,onBlur:g,onFocus:m,relativeOptions:v=[],i18nStrings:f,isValidRange:w=()=>({valid:!0}),showClearButton:C=!0,dateOnly:b=!1,timeOffset:y,getTimeOffset:S,timeInputFormat:x="hh:mm:ss",expandToViewport:D=!1,rangeSelectorMode:E="default",customAbsoluteRangeControl:F,absoluteFormat:k="iso",hideTimeOffset:A,customRelativeRangeUnits:R,granularity:P="day"}=e,T=Et(e,["locale","startOfWeek","isDateEnabled","dateDisabledReason","value","placeholder","readOnly","disabled","onChange","onBlur","onFocus","relativeOptions","i18nStrings","isValidRange","showClearButton","dateOnly","timeOffset","getTimeOffset","timeInputFormat","expandToViewport","rangeSelectorMode","customAbsoluteRangeControl","absoluteFormat","hideTimeOffset","customRelativeRangeUnits","granularity"]);const{__internalRootRef:_}=Dn("DateRangePicker",{props:{absoluteFormat:k,dateOnly:b,expandToViewport:D,rangeSelectorMode:E,readOnly:d,showClearButton:C,timeInputFormat:x,hideTimeOffset:A,granularity:P},metadata:{hasDisabledReasons:Boolean(l)}}),M="month"===P,I=b||M;Wg();const L=I?{startDate:void 0,endDate:void 0}:qT(u,S,y);u=function(e,t,n,i){return ZT(e)?$T(e)?e:t||n?QT(e,{dateOnly:t,monthOnly:n,timeOffset:i}):XT(e,_A)||XT(e,MA)?e:KT(e,i):KT(e,i)}(u,b,M,L);const N=zt(T),{invalid:B,warning:O,controlId:G,ariaDescribedby:z,ariaLabelledby:V}=zp(Object.assign({ariaLabelledby:null!==(n=T.ariaLabelledby)&&void 0!==n?n:null===f||void 0===f?void 0:f.ariaLabelledby,ariaDescribedby:null!==(o=T.ariaDescribedby)&&void 0!==o?o:null===f||void 0===f?void 0:f.ariaDescribedby},T)),H=In(),j=(0,i.useRef)(null);Wr(t,j);const W=(0,i.useRef)(null),U=Yi("date-range-picker-dropdown"),K=Yi("date-range-picker-trigger");(e=>{let{rootRef:t,onBlur:n,onFocus:o}=e;const r=(0,i.useRef)(null);(0,i.useEffect)(()=>{if(t.current)return r.current=new gk(t.current,{onFocusLeave:()=>{_i(n)},onFocusEnter:()=>{_i(o)}}),r.current.initialize(),()=>{var e;null===(e=r.current)||void 0===e||e.destroy()}},[t,n,o])})({rootRef:W,onBlur:g,onFocus:m});const[q,Y]=(0,i.useState)(!1),Z=NA("DateRangePicker",r),$=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];var t;Y(!1),e&&(null===(t=j.current)||void 0===t||t.focus())},X=md(b);(0,i.useEffect)(()=>{void 0!==X&&X!==b&&Pt(0,'The provided `dateOnly` flag has been changed from "'.concat(X,'" to "').concat(b,'" which can lead to unexpected value format. Consider using separate components.'))},[X,b]),u&&"absolute"!==u.type&&"relative"!==u.type&&(Pt(),u=null),("absolute"===(null===u||void 0===u?void 0:u.type)&&"relative-only"===E||"relative"===(null===u||void 0===u?void 0:u.type)&&"absolute-only"===E)&&(Pt(),u=null);const Q=Mt("date-range-picker")("i18nStrings.formatRelativeRange",null===f||void 0===f?void 0:f.formatRelativeRange,e=>t=>{let{amount:n,unit:i}=t;return e({amount:n,unit:i})});const J=function(e){let{locale:t,range:n,placeholder:o="",formatRelativeRange:r,absoluteFormat:s,hideTimeOffset:a,timeOffset:l}=e;var u;const c=n?"relative"===n.type?null!==(u=null===r||void 0===r?void 0:r(n))&&void 0!==u?u:"":IA({date:n.startDate,timeOffset:l.startDate,hideTimeOffset:a,format:s,locale:t}):o,d="absolute"===(null===n||void 0===n?void 0:n.type)?IA({date:n.endDate,timeOffset:l.endDate,hideTimeOffset:a,format:s,locale:t}):"";return i.createElement("span",{className:!n&&kP||void 0,"aria-disabled":!n},i.createElement("span",{className:"absolute"===(null===n||void 0===n?void 0:n.type)?AP:void 0},c),i.createElement("span",null,d&&" \u2014 "),i.createElement("span",{className:AP},d))}({locale:Z,range:u,placeholder:c,formatRelativeRange:Q,absoluteFormat:k,hideTimeOffset:I||A,timeOffset:L}),ee=i.createElement(Mv,{ref:j,id:G,invalid:B,warning:O,ariaLabelledby:Hp(V,K),ariaLabel:null===f||void 0===f?void 0:f.ariaLabel,ariaDescribedby:z,className:Gn($R.label,EP,{[FP]:!d&&!h}),hideCaret:!0,onClick:()=>{Y(!0)},disabled:h,readOnly:d,ariaHasPopup:"dialog"},i.createElement("span",{className:pP},i.createElement("span",{className:DP},i.createElement(oo,{name:"calendar",variant:h||d?"disabled":"normal"})),i.createElement("span",{id:K},J))),te=Tt(W,_);return i.createElement("div",Object.assign({},N,{ref:te,className:Gn(N.className,cP,$R.root,"long-localized"===k&&!b&&!M&&dP),onKeyDown:e=>{e.keyCode===ir.escape&&(q&&e.stopPropagation(),$(!0))}}),i.createElement(El,{stretchWidth:!0,stretchHeight:!0,open:q,onDropdownClose:()=>$(),trigger:ee,stretchToTriggerWidth:!1,expandToViewport:D,dropdownId:U},i.createElement(pk,null,q&&i.createElement(t_,{startOfWeek:s,locale:Z,isSingleGrid:H,onDropdownClose:()=>$(!0),value:u,showClearButton:C,isDateEnabled:a,dateDisabledReason:l,i18nStrings:f,onClear:()=>{_i(p,{value:null})},onApply:e=>{const t=QT(e,{dateOnly:b,monthOnly:M,timeOffset:I?{startDate:void 0,endDate:void 0}:qT(e,S,y)}),n=w(t);return!1===(null===n||void 0===n?void 0:n.valid)?n:(_i(p,{value:t}),n||{valid:!0})},getTimeOffset:S,timeOffset:y,relativeOptions:v,isValidRange:w,dateOnly:b,timeInputFormat:x,rangeSelectorMode:E,ariaLabelledby:V,ariaDescribedby:z,customAbsoluteRangeControl:F,customRelativeRangeUnits:R,granularity:P}))))});Ln(n_,"DateRangePicker");const i_=n_,o_=i.forwardRef((e,t)=>{var{value:n,type:o="text",step:r,inputMode:s,autoComplete:a=!0,spellcheck:l,disabled:u,readOnly:c,disableBrowserAutocorrect:d,onKeyDown:h,onKeyUp:p,onChange:g,onBlur:m,onFocus:v,ariaRequired:f,name:w,placeholder:C,autoFocus:b,ariaLabel:y,ariaLabelledby:S,ariaDescribedby:x,invalid:D,warning:E,controlId:F,clearAriaLabel:k}=e,A=Et(e,["value","type","step","inputMode","autoComplete","spellcheck","disabled","readOnly","disableBrowserAutocorrect","onKeyDown","onKeyUp","onChange","onBlur","onFocus","ariaRequired","name","placeholder","autoFocus","ariaLabel","ariaLabelledby","ariaDescribedby","invalid","warning","controlId","clearAriaLabel"]);const R=Dn("Input",{props:{autoComplete:a,autoFocus:b,disableBrowserAutocorrect:d,inputMode:s,readOnly:c,spellcheck:l,type:o}}),P=zt(A),T=(0,i.useRef)(null);return(0,i.useImperativeHandle)(t,()=>({focus(){var e;null===(e=T.current)||void 0===e||e.focus(...arguments)},select(){var e;null===(e=T.current)||void 0===e||e.select()}}),[T]),i.createElement(Yg,Object.assign({ref:T},Object.assign(Object.assign(Object.assign({},P),R),{autoComplete:a,ariaLabel:y,ariaRequired:f,autoFocus:b,disabled:u,disableBrowserAutocorrect:d,name:w,onKeyDown:h,onKeyUp:p,onChange:g,onBlur:m,onFocus:v,placeholder:C,readOnly:c,type:o,step:r,inputMode:s,spellcheck:l,value:n,ariaDescribedby:x,ariaLabelledby:S,invalid:D,warning:E,controlId:F,clearAriaLabel:k}),{className:Gn(qg.root,P.className),__inheritFormFieldProps:!0,__injectAnalyticsComponentMetadata:!0}))});Ln(o_,"Input");const r_=o_;function s_(e){var{size:t="normal",variant:n="normal"}=e,o=Et(e,["size","variant"]);const r=Dn("Spinner",{props:{size:t,variant:n}});return i.createElement(gs,Object.assign({size:t,variant:n},o,r))}Ln(s_,"Spinner");const a_=(0,i.createContext)({}),l_={sortable:"caret-down",ascending:"caret-up-filled",descending:"caret-down-filled"},u_=(e,t)=>e===t||void 0!==e.sortingField&&e.sortingField===t.sortingField||void 0!==e.sortingComparator&&e.sortingComparator===t.sortingComparator,c_=ln(e=>{const t=new AbortController;return window.addEventListener("mousedown",function(t){e(t.target)},{signal:t.signal}),window.addEventListener("keydown",function(){e(null)},{signal:t.signal}),()=>{t.abort()}});function d_(e){const t=(0,i.useRef)(null),n=un(e);return(0,i.useEffect)(()=>{function e(e){wo(t.current,e.target)||n()}return document.addEventListener("click",e,{capture:!0}),()=>document.removeEventListener("click",e,{capture:!0})},[n]),t}const h_="awsui_expand-toggle-icon_1xe88_13yei_153",p_="awsui_expand-toggle-icon-expanded_1xe88_13yei_174",g_="awsui_expand-toggle_1xe88_13yei_153";function m_(e){let{isExpanded:t,onExpandableItemToggle:n,expandButtonLabel:o,collapseButtonLabel:r,customIcon:s}=e;const a=(0,i.useRef)(null),{tabIndex:l}=Hr(a);return i.createElement("button",{type:"button",ref:a,tabIndex:l,"aria-label":t?r:o,"aria-expanded":t,className:g_,onClick:n},null!==s&&void 0!==s?s:i.createElement(oo,{size:"small",name:"caret-down-filled",className:Gn(h_,t&&p_)}))}class v_{constructor(e){this._listeners=[],this._state=e}get(){return this._state}set(e){const t=this._state,n=e(t);this._state=n,(0,an.unstable_batchedUpdates)(()=>{for(const[e,i]of this._listeners)e(t)!==e(n)&&i(n,t)})}subscribe(e,t){return this._listeners.push([e,t]),()=>this.unsubscribe(t)}unsubscribe(e){for(let t=0;t<this._listeners.length;t++){const[,n]=this._listeners[t];if(n===e){this._listeners.splice(t,1);break}}}}function f_(e){let{visibleColumns:t,stickyColumnsFirst:n,stickyColumnsLast:o}=e;const r=(0,i.useMemo)(()=>new C_,[]),s=(0,i.useRef)(null),a=(0,i.useRef)(null),l=(0,i.useRef)(new Map),u=n+o>0,c=un(()=>{s.current&&a.current&&r.updateCellStyles({wrapper:s.current,table:a.current,cells:l.current,visibleColumns:t,stickyColumnsFirst:n,stickyColumnsLast:o})});ki(s,c),ki(a,c),(0,i.useEffect)(()=>{s.current&&a.current&&r.updateCellStyles({wrapper:s.current,table:a.current,cells:l.current,visibleColumns:t,stickyColumnsFirst:n,stickyColumnsLast:o})},[r,n,o,t]),(0,i.useEffect)(()=>{if(!u)return;const e=e=>e.wrapperState;return r.subscribe(e,(t,n)=>((e,t)=>{var n,i;i=t,((n=e).scrollPaddingInlineStart!==i.scrollPaddingInlineStart||n.scrollPaddingInlineEnd!==i.scrollPaddingInlineEnd)&&s.current&&(s.current.style.scrollPaddingInlineStart=e.scrollPaddingInlineStart+"px",s.current.style.scrollPaddingInlineEnd=e.scrollPaddingInlineEnd+"px")})(e(t),e(n)))},[r,u]);const d=(0,i.useCallback)(e=>{s.current&&s.current.removeEventListener("scroll",c),e&&u&&e.addEventListener("scroll",c),s.current=e},[u,c]),h=(0,i.useCallback)(e=>{a.current=e},[]),p=(0,i.useCallback)((e,t)=>{t?l.current.set(e,t):l.current.delete(e)},[]);return{store:r,style:{wrapper:u?Object.assign({},r.get().wrapperState):void 0},refs:{wrapper:d,table:h,cell:p}}}function w_(e){let{stickyColumns:t,columnId:n,getClassName:o}=e;var r;const s=t.refs.cell,a=(0,i.useRef)(null),l=(0,i.useCallback)(e=>{a.current&&a.current(),s(n,e);const i=e=>{var t;return null!==(t=e.cellState.get(n))&&void 0!==t?t:null};e&&(a.current=t.store.subscribe(i,(t,n)=>{((t,n)=>{if(r=n,(i=t)&&r?i.padInlineStart===r.padInlineStart&&i.lastInsetInlineStart===r.lastInsetInlineStart&&i.lastInsetInlineEnd===r.lastInsetInlineEnd&&i.offset.insetInlineStart===r.offset.insetInlineStart&&i.offset.insetInlineEnd===r.offset.insetInlineEnd:i===r)return;var i,r;const s=o(t);e&&(Object.keys(s).forEach(t=>{s[t]?e.classList.add(t):e.classList.remove(t)}),e.style.insetInlineStart=void 0!==(null===t||void 0===t?void 0:t.offset.insetInlineStart)?"".concat(t.offset.insetInlineStart,"px"):"",e.style.insetInlineEnd=void 0!==(null===t||void 0===t?void 0:t.offset.insetInlineEnd)?"".concat(t.offset.insetInlineEnd,"px"):"")})(i(t),i(n))}))},[n,s,t.store]),u=t.store.get().cellState.get(n);return{ref:l,className:u?Gn(o(u)):void 0,style:null!==(r=null===u||void 0===u?void 0:u.offset)&&void 0!==r?r:void 0}}class C_ extends v_{constructor(){super({cellState:new Map,wrapperState:{scrollPaddingInlineStart:0,scrollPaddingInlineEnd:0}}),this.cellOffsets={offsets:new Map,stickyWidthInlineStart:0,stickyWidthInlineEnd:0},this.isStuckToTheInlineStart=!1,this.isStuckToTheInlineEnd=!1,this.padInlineStart=!1,this.generateCellStyles=e=>{const t=this.isEnabled(e),n=e.stickyColumnsFirst-1,i=e.visibleColumns.length-e.stickyColumnsLast;return e.visibleColumns.reduce((o,r,s)=>{var a,l,u,c;let d="non-sticky";if(s<e.stickyColumnsFirst?d="inline-start":s>=e.visibleColumns.length-e.stickyColumnsLast&&(d="inline-end"),!t||"non-sticky"===d)return o;const h=0===s,p=null!==(l=null===(a=this.cellOffsets.offsets.get(r))||void 0===a?void 0:a.first)&&void 0!==l?l:0,g=null!==(c=null===(u=this.cellOffsets.offsets.get(r))||void 0===u?void 0:u.last)&&void 0!==c?c:0;return o.set(r,{padInlineStart:h&&this.padInlineStart,lastInsetInlineStart:this.isStuckToTheInlineStart&&n===s,lastInsetInlineEnd:this.isStuckToTheInlineEnd&&i===s,offset:{insetInlineStart:"inline-start"===d?p:void 0,insetInlineEnd:"inline-end"===d?g:void 0}}),o},new Map)},this.updateCellOffsets=e=>{this.cellOffsets=function(e,t){var n,i,o,r;const s=t.visibleColumns.length,a=[];for(let h=0;h<Math.min(s,t.stickyColumnsFirst);h++){const i=e.get(t.visibleColumns[h]),o=i?lr(i).inlineSize:0;a[h]=(null!==(n=a[h-1])&&void 0!==n?n:0)+o}const l=[];for(let h=0;h<Math.min(s,t.stickyColumnsLast);h++){const n=e.get(t.visibleColumns[s-1-h]),o=n?lr(n).inlineSize:0;l[h]=(null!==(i=l[h-1])&&void 0!==i?i:0)+o}const u=null!==(o=a[t.stickyColumnsFirst-1])&&void 0!==o?o:0,c=null!==(r=l[t.stickyColumnsLast-1])&&void 0!==r?r:0,d=t.visibleColumns.reduce((e,t,n)=>{var i,o;return e.set(t,{first:null!==(i=a[n-1])&&void 0!==i?i:0,last:null!==(o=l[s-1-n-1])&&void 0!==o?o:0})},new Map);return{offsets:d,stickyWidthInlineStart:u,stickyWidthInlineEnd:c}}(e.cells,e)},this.isEnabled=e=>{if(e.stickyColumnsFirst+e.stickyColumnsLast===0)return!1;const t=lr(e.wrapper).inlineSize;if(!(lr(e.table).inlineSize>t))return!1;return!!(this.cellOffsets.stickyWidthInlineStart+this.cellOffsets.stickyWidthInlineEnd+148+(parseFloat(getComputedStyle(e.table).paddingLeft)||0)+(parseFloat(getComputedStyle(e.table).paddingRight)||0)<t)}}updateCellStyles(e){const t=e.stickyColumnsFirst+e.stickyColumnsLast>0,n=this.cellOffsets.offsets.size>0;(t||n)&&(this.updateScroll(e),this.updateCellOffsets(e),this.set(()=>({cellState:this.generateCellStyles(e),wrapperState:{scrollPaddingInlineStart:this.cellOffsets.stickyWidthInlineStart,scrollPaddingInlineEnd:this.cellOffsets.stickyWidthInlineEnd}})))}updateScroll(e){const t=sr(e.wrapper),n=e.wrapper.scrollWidth,i=e.wrapper.clientWidth,o=parseFloat(getComputedStyle(e.table).paddingInlineStart)||0,r=parseFloat(getComputedStyle(e.table).paddingInlineEnd)||0;this.isStuckToTheInlineStart=t>o,this.isStuckToTheInlineEnd=Math.ceil(t)<n-i-r,this.padInlineStart=0!==o&&this.isStuckToTheInlineStart}}const b_={sortable:"none",ascending:"ascending",descending:"descending"};function y_(e){const t={};return t.role="grid-default"===e.tableRole?"grid":e.tableRole,t["aria-label"]=e.ariaLabel,t["aria-labelledby"]=e.ariaLabelledby,t["aria-rowcount"]="number"===typeof e.totalItemsCount?e.totalItemsCount+1:-1,"grid"!==e.tableRole&&"treegrid"!==e.tableRole||(t["aria-colcount"]=e.totalColumnsCount),"grid"!==e.tableRole&&"treegrid"!==e.tableRole||(t.tabIndex=-1),t}function S_(e){const t={};var n;return t.scope="col","grid"!==e.tableRole&&"treegrid"!==e.tableRole||(t["aria-colindex"]=e.colIndex+1),e.sortingStatus&&(t["aria-sort"]=(n=e.sortingStatus,b_[n])),t}const x_=(e,t)=>"function"===typeof e?e(t):t[e],D_=(e,t)=>e?x_(e,t):t,E_=(e,t)=>e.id||t,F_=e=>!e||"container"===e?"default":"borderless"===e?"embedded":e;function k_(e){let{columnDisplay:t,visibleColumns:n,columnDefinitions:i}=e;return t?function(e){let{columnDisplay:t,columnDefinitions:n}=e;const i=n.reduce((e,t)=>void 0===t.id?e:Object.assign(Object.assign({},e),{[t.id]:t}),{});return t.filter(e=>e.visible).map(e=>i[e.id]).filter(Boolean)}({columnDisplay:t,columnDefinitions:i}):n?function(e){let{visibleColumns:t,columnDefinitions:n}=e;const i=new Set(t);return n.filter(e=>{let{id:t}=e;return void 0!==t&&i.has(t)})}({visibleColumns:n,columnDefinitions:i}):i}function A_(e,t){return{[e["sticky-cell"]]:!!t,[e["sticky-cell-pad-inline-start"]]:!!(null===t||void 0===t?void 0:t.padInlineStart),[e["sticky-cell-last-inline-start"]]:!!(null===t||void 0===t?void 0:t.lastInsetInlineStart),[e["sticky-cell-last-inline-end"]]:!!(null===t||void 0===t?void 0:t.lastInsetInlineEnd)}}const R_={root:"awsui_root_wih1l_1dnvt_153",tools:"awsui_tools_wih1l_1dnvt_164","tools-filtering":"awsui_tools-filtering_wih1l_1dnvt_172","tools-align-right":"awsui_tools-align-right_wih1l_1dnvt_186","tools-pagination":"awsui_tools-pagination_wih1l_1dnvt_190","tools-preferences":"awsui_tools-preferences_wih1l_1dnvt_190","tools-small":"awsui_tools-small_wih1l_1dnvt_196",table:"awsui_table_wih1l_1dnvt_202","table-layout-fixed":"awsui_table-layout-fixed_wih1l_1dnvt_208",wrapper:"awsui_wrapper_wih1l_1dnvt_212","variant-stacked":"awsui_variant-stacked_wih1l_1dnvt_219","wrapper-content-measure":"awsui_wrapper-content-measure_wih1l_1dnvt_219","variant-container":"awsui_variant-container_wih1l_1dnvt_219","has-footer":"awsui_has-footer_wih1l_1dnvt_222","has-header":"awsui_has-header_wih1l_1dnvt_225","cell-merged":"awsui_cell-merged_wih1l_1dnvt_242","cell-merged-content":"awsui_cell-merged-content_wih1l_1dnvt_254",empty:"awsui_empty_wih1l_1dnvt_270",loading:"awsui_loading_wih1l_1dnvt_274","selection-control":"awsui_selection-control_wih1l_1dnvt_283","selection-control-header":"awsui_selection-control-header_wih1l_1dnvt_290","header-secondary":"awsui_header-secondary_wih1l_1dnvt_296","variant-full-page":"awsui_variant-full-page_wih1l_1dnvt_308","table-has-header":"awsui_table-has-header_wih1l_1dnvt_314","header-controls":"awsui_header-controls_wih1l_1dnvt_325","variant-embedded":"awsui_variant-embedded_wih1l_1dnvt_334","variant-borderless":"awsui_variant-borderless_wih1l_1dnvt_334","footer-wrapper":"awsui_footer-wrapper_wih1l_1dnvt_339",footer:"awsui_footer_wih1l_1dnvt_339","footer-with-pagination":"awsui_footer-with-pagination_wih1l_1dnvt_347","footer-pagination":"awsui_footer-pagination_wih1l_1dnvt_355","thead-active":"awsui_thead-active_wih1l_1dnvt_359",row:"awsui_row_wih1l_1dnvt_360","row-selected":"awsui_row-selected_wih1l_1dnvt_361"},P_={"expandable-toggle-wrapper":"awsui_expandable-toggle-wrapper_c6tup_1blv8_145","body-cell":"awsui_body-cell_c6tup_1blv8_152","body-cell-content":"awsui_body-cell-content_c6tup_1blv8_160","expandable-level-0":"awsui_expandable-level-0_c6tup_1blv8_166","expandable-level-1":"awsui_expandable-level-1_c6tup_1blv8_173","expandable-level-2":"awsui_expandable-level-2_c6tup_1blv8_180","expandable-level-3":"awsui_expandable-level-3_c6tup_1blv8_187","expandable-level-4":"awsui_expandable-level-4_c6tup_1blv8_194","expandable-level-5":"awsui_expandable-level-5_c6tup_1blv8_201","expandable-level-6":"awsui_expandable-level-6_c6tup_1blv8_208","expandable-level-7":"awsui_expandable-level-7_c6tup_1blv8_215","expandable-level-8":"awsui_expandable-level-8_c6tup_1blv8_222","expandable-level-9":"awsui_expandable-level-9_c6tup_1blv8_229","expandable-level-next":"awsui_expandable-level-next_c6tup_1blv8_236","body-cell-align-top":"awsui_body-cell-align-top_c6tup_1blv8_254","body-cell-wrap":"awsui_body-cell-wrap_c6tup_1blv8_260","is-visual-refresh":"awsui_is-visual-refresh_c6tup_1blv8_357","body-cell-edit-active":"awsui_body-cell-edit-active_c6tup_1blv8_447","body-cell-expandable":"awsui_body-cell-expandable_c6tup_1blv8_447","body-cell-editable":"awsui_body-cell-editable_c6tup_1blv8_447","has-striped-rows":"awsui_has-striped-rows_c6tup_1blv8_530","sticky-cell-pad-inline-start":"awsui_sticky-cell-pad-inline-start_c6tup_1blv8_696","has-selection":"awsui_has-selection_c6tup_1blv8_862","body-cell-first-row":"awsui_body-cell-first-row_c6tup_1blv8_1031","body-cell-last-row":"awsui_body-cell-last-row_c6tup_1blv8_1034","body-cell-selected":"awsui_body-cell-selected_c6tup_1blv8_1034","has-footer":"awsui_has-footer_c6tup_1blv8_1034","body-cell-shaded":"awsui_body-cell-shaded_c6tup_1blv8_1044","sticky-cell":"awsui_sticky-cell_c6tup_1blv8_696","table-variant-full-page":"awsui_table-variant-full-page_c6tup_1blv8_1095","sticky-cell-last-inline-end":"awsui_sticky-cell-last-inline-end_c6tup_1blv8_1112","sticky-cell-last-inline-start":"awsui_sticky-cell-last-inline-start_c6tup_1blv8_1121","body-cell-next-selected":"awsui_body-cell-next-selected_c6tup_1blv8_1143","body-cell-prev-selected":"awsui_body-cell-prev-selected_c6tup_1blv8_1150","body-cell-editor-wrapper":"awsui_body-cell-editor-wrapper_c6tup_1blv8_1176","body-cell-success":"awsui_body-cell-success_c6tup_1blv8_1181","body-cell-editor":"awsui_body-cell-editor_c6tup_1blv8_1176","body-cell-editor-disabled":"awsui_body-cell-editor-disabled_c6tup_1blv8_1206","body-cell-editor-row":"awsui_body-cell-editor-row_c6tup_1blv8_1215","body-cell-editor-controls":"awsui_body-cell-editor-controls_c6tup_1blv8_1225","body-cell-editor-row-editor":"awsui_body-cell-editor-row-editor_c6tup_1blv8_1228","body-cell-editor-focusable":"awsui_body-cell-editor-focusable_c6tup_1blv8_1231","body-cell-editor-icon":"awsui_body-cell-editor-icon_c6tup_1blv8_1255","resizable-columns":"awsui_resizable-columns_c6tup_1blv8_1367","expandable-cell-content":"awsui_expandable-cell-content_c6tup_1blv8_1370","body-cell-edit-disabled-popover":"awsui_body-cell-edit-disabled-popover_c6tup_1blv8_1421","body-cell-has-success":"awsui_body-cell-has-success_c6tup_1blv8_1424"},T_=i.forwardRef((e,t)=>{var{children:n,wrapLines:o,isRowHeader:r,isFirstRow:s,isLastRow:a,isSelected:l,isNextSelected:u,isPrevSelected:c,nativeAttributes:d,onClick:h,onFocus:p,onBlur:g,isEvenRow:m,stripedRows:v,isSelection:f,hasSelection:w,hasFooter:C,columnId:b,colIndex:y,stickyState:S,tableRole:x,level:D,isExpandable:E,isExpanded:F,onExpandableItemToggle:k,expandButtonLabel:A,collapseButtonLabel:R,verticalAlign:P,resizableColumns:T,resizableStyle:_,isEditable:M,isEditing:I,isEditingDisabled:L,hasSuccessIcon:N,tableVariant:B}=e,O=Et(e,["children","wrapLines","isRowHeader","isFirstRow","isLastRow","isSelected","isNextSelected","isPrevSelected","nativeAttributes","onClick","onFocus","onBlur","isEvenRow","stripedRows","isSelection","hasSelection","hasFooter","columnId","colIndex","stickyState","tableRole","level","isExpandable","isExpanded","onExpandableItemToggle","expandButtonLabel","collapseButtonLabel","verticalAlign","resizableColumns","resizableStyle","isEditable","isEditing","isEditingDisabled","hasSuccessIcon","tableVariant"]);const G=r?"th":"td",z=Cn();_=T?{}:_,d=Object.assign(Object.assign({},d),function(e){const t={};return"grid"!==e.tableRole&&"treegrid"!==e.tableRole||(t["aria-colindex"]=e.colIndex+1),e.isRowHeader&&(t.scope="row"),t}({tableRole:x,isRowHeader:r,colIndex:y}));const V=w_({stickyColumns:S,columnId:b,getClassName:e=>A_(P_,e)}),H=(0,i.useRef)(null),j=Tt(V.ref,t,H),{tabIndex:W}=Hr(H),U=I&&!L;return i.createElement(G,Object.assign({style:Object.assign(Object.assign({},_),V.style),className:Gn(P_["body-cell"],s&&P_["body-cell-first-row"],a&&P_["body-cell-last-row"],l&&P_["body-cell-selected"],u&&P_["body-cell-next-selected"],c&&P_["body-cell-prev-selected"],!m&&v&&P_["body-cell-shaded"],v&&P_["has-striped-rows"],z&&P_["is-visual-refresh"],f&&R_["selection-control"],w&&P_["has-selection"],C&&P_["has-footer"],T&&P_["resizable-columns"],"top"===P&&P_["body-cell-align-top"],M&&P_["body-cell-editable"],I&&!L&&P_["body-cell-edit-active"],I&&L&&P_["body-cell-edit-disabled-popover"],N&&P_["body-cell-has-success"],void 0!==D&&!U&&P_["body-cell-expandable"],void 0!==D&&!U&&P_["expandable-level-".concat(__(D))],B&&P_["table-variant-".concat(B)],V.className),onClick:h,onFocus:p,onBlur:g,ref:j},d,{tabIndex:-1===W?void 0:W},Ji(O)),void 0!==D&&E&&!U&&i.createElement("div",{className:P_["expandable-toggle-wrapper"]},i.createElement(m_,{isExpanded:F,onExpandableItemToggle:k,expandButtonLabel:A,collapseButtonLabel:R})),i.createElement("div",{className:Gn(P_["body-cell-content"],o&&P_["body-cell-wrap"])},n))});function __(e){return 0<=e&&e<=9?e:"next"}function M_(e){var t,{item:n,column:o,ariaLabels:r,isEditing:s,onEditStart:a,onEditEnd:l,editDisabledReason:u}=e,c=Et(e,["item","column","ariaLabels","isEditing","onEditStart","onEditEnd","editDisabledReason"]);const d=void 0!==c.level,h=d_(()=>{s&&l(!0)}),p=(0,i.useRef)(null),g=(0,i.useRef)(null),m=(0,i.useRef)(null);const v=()=>{var e;a(),null===(e=g.current)||void 0===e||e.focus()},{targetProps:f,descriptionEl:w}=Ur(u),C=Ya(m),{tabIndex:b}=Hr(g);return i.createElement(T_,Object.assign({},c,{nativeAttributes:{"data-inline-editing-active":s.toString()},isEditing:s,isEditingDisabled:!0,onClick:s||d?void 0:v,ref:d?void 0:h}),o.cell(n),i.createElement("div",{className:P_["body-cell-editor-wrapper"]},i.createElement("div",{ref:d?h:void 0},i.createElement("button",Object.assign({ref:g,tabIndex:b,className:Gn(P_["body-cell-editor"],P_["body-cell-editor-disabled"],d&&P_["body-cell-editor-focusable"]),onClick:!s&&d?v:void 0,"aria-label":null===(t=null===r||void 0===r?void 0:r.activateEditLabel)||void 0===t?void 0:t.call(r,o,n),"aria-haspopup":"dialog","aria-disabled":"true",onKeyDown:function(e){"Escape"===e.key&&l(!0)}},f),i.createElement("span",{className:P_["body-cell-editor-icon"]},i.createElement(oo,{name:"lock-private",variant:"normal",__internalRootRef:p})),w))),s&&i.createElement("span",{ref:m},i.createElement(Ko,null,i.createElement("span",{className:C},i.createElement(Sr,{size:"medium",fixedWidth:!1,position:"top",trackRef:p,arrow:e=>i.createElement(Yo,{position:e}),renderWithPortal:!0,zIndex:7e3},i.createElement(or,{dismissButton:!1,dismissAriaLabel:void 0,header:null,onDismiss:()=>{},overflowVisible:"both"},i.createElement(cs,{tagName:"span"},u)))))))}const I_=()=>{};function L_(e){let{ariaLabels:t,item:n,column:o,onEditEnd:r,submitEdit:s,__onRender:a}=e;var l,u,c,d;const[h,p]=(0,i.useState)(!1),[g,m]=(0,i.useState)(),v=Mt("table"),f=(0,i.useRef)(null);function w(){let{cancelled:e=!1,refocusCell:t=!0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e||m(void 0),r({cancelled:e,refocusCell:t})}function C(){var e;return Ft(this,void 0,void 0,function*(){if(void 0!==g){p(!0);try{yield s(n,o,g),p(!1),w()}catch(nce){p(!1),null===(e=f.current)||void 0===e||e.focusFirst()}}else w()})}function b(){let{reFocusEditedCell:e=!0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};h||w({cancelled:!0,refocusCell:e})}const y=d_(()=>b({reFocusEditedCell:!1}));(0,i.useEffect)(()=>{if(a){const e=setTimeout(a,1);return()=>clearTimeout(e)}},[a]);const{ariaLabel:S,validation:x=I_,errorIconAriaLabel:D,constraintText:E,editingCell:F,disableNativeForm:k}=o.editConfig,A={currentValue:g,setValue:m,submitValue:C},R=k?"div":"form";return i.createElement(nr,{restoreFocus:!0,ref:f},i.createElement("div",{role:"dialog",ref:y,"aria-label":null===(l=null===t||void 0===t?void 0:t.activateEditLabel)||void 0===l?void 0:l.call(t,o,n),onKeyDown:function(e){"Escape"===e.key&&b()}},i.createElement(R,{onSubmit:k?void 0:function(e){e.preventDefault(),e.stopPropagation(),C()}},i.createElement(mg,{stretch:!0,label:S,constraintText:E,__hideLabel:!0,__disableGutters:!0,i18nStrings:{errorIconAriaLabel:D},errorText:x(n,g)},i.createElement("div",{className:P_["body-cell-editor-row"]},i.createElement("div",{className:P_["body-cell-editor-row-editor"]},F(n,A)),i.createElement("span",{className:P_["body-cell-editor-controls"]},i.createElement(Pp,{direction:"horizontal",size:"xxs"},h?null:i.createElement(Es,{ariaLabel:null===(u=null===t||void 0===t?void 0:t.cancelEditLabel)||void 0===u?void 0:u.call(t,o),formAction:"none",iconName:"close",variant:"inline-icon",onClick:()=>b()}),i.createElement(Es,{ariaLabel:null===(c=null===t||void 0===t?void 0:t.submitEditLabel)||void 0===c?void 0:c.call(t,o),formAction:k?"none":"submit",onClick:k?C:void 0,iconName:"check",variant:"inline-icon",loading:h})),i.createElement(cs,{tagName:"span",hidden:!0},h?v("ariaLabels.submittingEditText",null===(d=null===t||void 0===t?void 0:t.submittingEditText)||void 0===d?void 0:d.call(t,o)):"")))))))}const N_=()=>{throw new Error("The function `handleSubmit` is required for editable columns")};function B_(e){var t,n,o,{item:r,column:s,isEditing:a,onEditStart:l,onEditEnd:u,submitEdit:c,ariaLabels:d,successfulEdit:h=!1}=e,p=Et(e,["item","column","isEditing","onEditStart","onEditEnd","submitEdit","ariaLabels","successfulEdit"]);const g=Mt("table"),m=(0,i.useRef)(null),v={"data-inline-editing-active":a.toString()},f=(0,i.useRef)(!1),w=void 0!==p.level;(0,i.useEffect)(()=>{!a&&m.current&&f.current&&(f.current=!1,m.current.focus())},[a]);const[C,b]=(0,i.useState)(!1),y=md(h),S=md(C),[x,D]=(0,i.useState)(!1);(0,i.useEffect)(()=>{h&&y&&!C&&S&&D(!1),h&&!y&&D(!0)},[C,h,S,y]);const{tabIndex:E}=Hr(m);return i.createElement(T_,Object.assign({},p,{nativeAttributes:v,isEditing:a,hasSuccessIcon:x&&C,onClick:a||w?void 0:l,onFocus:()=>b(!0),onBlur:()=>b(!1)}),a&&s.editConfig?i.createElement(L_,{ariaLabels:d,column:s,item:r,onEditEnd:e=>{D(!1),f.current=e.refocusCell,u(e.cancelled)},submitEdit:null!==c&&void 0!==c?c:N_}):i.createElement(i.Fragment,null,s.cell(r),x&&C&&i.createElement(i.Fragment,null,i.createElement("span",{className:P_["body-cell-success"],onMouseDown:e=>{e.preventDefault()}},i.createElement(oo,{name:"status-positive",variant:"success",ariaLabel:null===(t=null===d||void 0===d?void 0:d.successfulEditLabel)||void 0===t?void 0:t.call(d,s)})),i.createElement(cs,{tagName:"span",hidden:!0},g("ariaLabels.successfulEditLabel",null===(n=null===d||void 0===d?void 0:d.successfulEditLabel)||void 0===n?void 0:n.call(d,s)))),i.createElement("div",{className:P_["body-cell-editor-wrapper"]},i.createElement("button",{className:Gn(P_["body-cell-editor"],w&&P_["body-cell-editor-focusable"]),"aria-label":null===(o=null===d||void 0===d?void 0:d.activateEditLabel)||void 0===o?void 0:o.call(d,s,r),ref:m,onClick:!a&&w?l:void 0,tabIndex:E},i.createElement("span",{className:P_["body-cell-editor-icon"]},i.createElement(oo,{name:"edit"}))))))}function O_(e){var t,n;const o=null===(n=null===(t=e.column.editConfig)||void 0===t?void 0:t.disabledReason)||void 0===n?void 0:n.call(t,e.item);if(o)return i.createElement(M_,Object.assign({editDisabledReason:o},e));if(e.isEditable||e.isEditing)return i.createElement(B_,Object.assign({},e));const{column:r,item:s}=e;return i.createElement(T_,Object.assign({},e,{isEditable:!1}),r.cell(s))}function G_(e,t){function n(n){const i=t[n];let o="";"number"===typeof i&&(o=i+"px"),"string"===typeof i&&(o=i),e.style[n]!==o&&(e.style[n]=o)}n("width"),n("minWidth"),n("maxWidth")}const z_="selection-item";class V_{constructor(e,t){this.map=new Map,this.put=e=>this.map.set.call(this.map,D_(this.trackBy,e),e),this.has=e=>this.map.has.call(this.map,D_(this.trackBy,e)),this.forEach=this.map.forEach.bind(this.map),this.trackBy=e,t.forEach(this.put)}}const H_={item:{["data-"+z_]:"item"},all:{["data-"+z_]:"all"},root:{"data-selection-root":"true"}};function j_(e){let{totalColumnsCount:t,hasFooter:n,loading:o,loadingText:r,empty:s,tableRef:a,containerRef:l}=e;const u=(0,i.useRef)(null);return ki(l,e=>{let{contentBoxWidth:t}=e;if(a.current&&u.current){const e=t+(parseFloat(getComputedStyle(a.current).paddingInlineStart)||0)+(parseFloat(getComputedStyle(a.current).paddingInlineEnd)||0);u.current.style.inlineSize=Math.floor(e)+"px"}}),i.createElement("td",{colSpan:t,className:Gn(R_["cell-merged"],n&&R_["has-footer"])},i.createElement("div",{ref:u,className:R_["cell-merged-content"],"data-awsui-table-suppress-navigation":!0},o?i.createElement(Fg,{type:"loading",className:R_.loading,wrapText:!0},i.createElement(cs,{tagName:"span"},r)):i.createElement("div",{className:R_.empty},s)))}const W_="awsui_items-loader_115pt_16l07_5";function U_(e){let{item:t,trackBy:n,children:o}=e,r=t&&n?x_(n,t):void 0;return r="string"===typeof r?r:void 0,i.createElement("div",{"data-root":t?"false":"true","data-parentrow":r,className:W_},o)}function K_(e){var{item:t,trackBy:n,children:o}=e,r=Et(e,["item","trackBy","children"]);return i.createElement(T_,Object.assign({},r,{isEditable:!1,isEditing:!1}),r.isRowHeader?i.createElement(U_,{item:t,trackBy:n},o):null)}const q_=120;const Y_=(0,i.createContext)({getColumnStyles:()=>({}),columnWidths:new Map,updateColumn:()=>{},setCell:()=>{}});function Z_(e){let{visibleColumns:t,resizableColumns:n,containerRef:o,children:r}=e;const s=(0,i.useRef)(null),a=(0,i.useRef)(0),[l,u]=(0,i.useState)(null),c=(0,i.useRef)(new Map),d=(0,i.useRef)(new Map),h=e=>{var t;return null!==(t=c.current.get(e))&&void 0!==t?t:null},p=(e,i)=>{var o,r,s;const u=t.find(e=>e.id===i);if(!u)return{};if(e)return{width:(null===(o=c.current.get(u.id))||void 0===o?void 0:o.getBoundingClientRect().width)||(null!==(r=null===l||void 0===l?void 0:l.get(u.id))&&void 0!==r?r:u.width)};if(n&&l){const e=u.id===(null===(s=t[t.length-1])||void 0===s?void 0:s.id),n=t.reduce((e,t)=>{let{id:n}=t;return e+(l.get(n)||q_)},0);return e&&a.current>n?{width:"auto",minWidth:null===u||void 0===u?void 0:u.minWidth}:{width:l.get(u.id),minWidth:null===u||void 0===u?void 0:u.minWidth}}return{width:u.width,minWidth:u.minWidth,maxWidth:n?void 0:u.maxWidth}},g=un(()=>{for(const{id:e}of t){const t=c.current.get(e);t&&G_(t,p(!1,e))}for(const{id:e}of t){const t=d.current.get(e);t&&G_(t,p(!0,e))}});return ki(o,e=>{let{contentBoxWidth:t}=e;a.current=t,requestAnimationFrame(()=>g())}),(0,i.useEffect)(()=>{if(g(),!n)return;let e=!1;const i=new Map(l),o=s.current;if(o){for(let n=0;n<t.length;n++){const r=t[n];(null===l||void 0===l?void 0:l.get(r.id))||-1!==o.indexOf(r.id)||(e=!0,i.set(r.id,r.width||q_))}e&&u(i)}s.current=t.map(e=>e.id)},[l,n,t,g]),(0,i.useEffect)(()=>{n&&u(()=>function(e,t){const n=new Map;for(let i=0;i<t.length;i++){const o=t[i];let r=o.width||0;const s=o.minWidth||r||q_;if(!r&&i!==t.length-1){const t=e(o.id);r=t?lr(t).inlineSize:q_}n.set(o.id,Math.max(r,s))}return n}(h,t))},[]),i.createElement(Y_.Provider,{value:{getColumnStyles:p,columnWidths:null!==l&&void 0!==l?l:new Map,updateColumn:function(e,n){u(i=>function(e,t,n,i){const o=e.find(e=>e.id===i);let r=q_;if("number"===typeof(null===o||void 0===o?void 0:o.width)&&o.width<q_&&(r=null===o||void 0===o?void 0:o.width),"number"===typeof(null===o||void 0===o?void 0:o.minWidth)&&(r=null===o||void 0===o?void 0:o.minWidth),n=Math.max(n,r),t.get(i)===n)return t;const s=new Map(t);return s.set(i,n),s}(t,null!==i&&void 0!==i?i:new Map,n,e))},setCell:(e,t,n)=>{const i=e?d:c;n?i.current.set(t,n):i.current.delete(t)}}},r)}const $_="awsui_resize-active_x7peu_m370p_145",X_="awsui_resize-active-with-focus_x7peu_m370p_145",Q_="awsui_divider_x7peu_m370p_150",J_="awsui_divider-interactive_x7peu_m370p_151",eM="awsui_divider-disabled_x7peu_m370p_165",tM="awsui_divider-active_x7peu_m370p_169",nM="awsui_is-visual-refresh_x7peu_m370p_174",iM="awsui_resizer_x7peu_m370p_178",oM="awsui_has-focus_x7peu_m370p_228",rM="awsui_tracker_x7peu_m370p_257";function sM(e){const t=e&&sn(e,e=>"th"===e.tagName.toLowerCase());return t?lr(t).inlineSize:0}function aM(e){let{className:t}=e;return i.createElement("span",{className:Gn(Q_,eM,t)})}function lM(e){let{onWidthUpdate:t,onWidthUpdateCommit:n,ariaLabelledby:o,minWidth:r=q_,tabIndex:s,showFocusRing:a,focusId:l,roleDescription:u}=e;t=un(t),n=un(n);const c=Cn(),d=Yi(),h=(0,i.useRef)(null),p=(0,i.useRef)(null),[g,m]=(0,i.useState)(!1),[v,f]=(0,i.useState)(!1),w=(0,i.useRef)(),[C,b]=(0,i.useState)(!1),[y,S]=(0,i.useState)(0);(0,i.useEffect)(()=>{S(sM(h.current))},[]),(0,i.useEffect)(()=>{var e,i;const o=function(e){if(!e)return null;const t=sn(e,e=>"th"===e.tagName.toLowerCase());if(!t)return null;const n=sn(t,e=>e.className.indexOf(R_.root)>-1);if(!n)return null;const i=n.querySelector("table");if(!i)return null;const o=n.querySelector(".".concat(rM));if(!o)return null;const r=cr(t)[0];return r?{header:t,table:i,tracker:o,scrollParent:r}:null}(h.current),s=null!==(i=null===(e=h.current)||void 0===e?void 0:e.ownerDocument)&&void 0!==i?i:window.document;if(!g&&!C||!o)return;const{insetInlineStart:a,insetInlineEnd:l}=lr(o.scrollParent),u=e=>{const{insetInlineStart:t}=lr(o.table);o.tracker.style.insetBlockStart=lr(o.header).blockSize+"px",o.tracker.style.insetInlineStart=e-t-1+"px"},c=e=>{const{insetInlineEnd:n,inlineSize:i}=lr(o.header);u(n+(e<r?r:e)-i),e>=r&&S(e),t(e)},d=e=>{if(e>a){const t=lr(o.header).insetInlineStart;c(e-t)}},b=()=>{const e=lr(o.header).inlineSize;w.current=setTimeout(b,10),c(e+5),o.scrollParent.scrollLeft+=5*(rr(o.scrollParent)?-1:1)},y=e=>{clearTimeout(w.current);const t=ur(e);t>l?w.current=setTimeout(b,10):d(t)},x=e=>{d(ur(e)),m(!1),n(),clearTimeout(w.current)},D=e=>{if(v){-1!==[ir.left,ir.right,ir.enter,ir.right,ir.space,ir.escape].indexOf(e.keyCode)&&(e.preventDefault(),Zu(e)&&$u(e,{onActivate:()=>{var e;f(!1),null===(e=h.current)||void 0===e||e.focus()},onEscape:()=>{var e;f(!1),null===(e=h.current)||void 0===e||e.focus()},onInlineStart:()=>c(lr(o.header).inlineSize-10),onInlineEnd:()=>c(lr(o.header).inlineSize+10)}))}else e.keyCode!==ir.enter&&e.keyCode!==ir.space||(e.preventDefault(),Zu(e)&&$u(e,{onActivate:()=>{var e;f(!0),null===(e=p.current)||void 0===e||e.focus()}}))};u(lr(o.header).insetInlineEnd);const E=new AbortController;return g&&(s.body.classList.add($_),s.addEventListener("mousemove",y,{signal:E.signal}),s.addEventListener("mouseup",x,{signal:E.signal})),C&&(s.body.classList.add(X_),o.header.addEventListener("keydown",D,{signal:E.signal})),v&&s.body.classList.add($_),()=>{clearTimeout(w.current),s.body.classList.remove($_),s.body.classList.remove(X_),E.abort()}},[r,g,v,C,t,n]);const{tabIndex:x}=Hr(h,{tabIndex:s});return i.createElement(i.Fragment,null,i.createElement("button",{ref:h,className:Gn(iM,(C||a||v)&&oM,c&&nM),onMouseDown:e=>{0===e.button&&(e.preventDefault(),m(!0))},onClick:()=>{var e;m(!1),b(!0),f(!0),null===(e=p.current)||void 0===e||e.focus()},onFocus:()=>{S(sM(h.current)),b(!0)},onBlur:e=>{e.relatedTarget!==p.current&&b(!1)},"aria-roledescription":u,"aria-labelledby":o,tabIndex:x,"data-focus-id":l}),i.createElement("span",{className:Gn(J_,g&&tM,c&&nM),"data-awsui-table-suppress-navigation":!0,ref:p,id:d,role:"slider",tabIndex:-1,"aria-labelledby":o,"aria-hidden":!v,"aria-valuemin":r,"aria-valuemax":Number.MAX_SAFE_INTEGER,"aria-valuenow":y,"data-focus-id":l,onBlur:()=>{b(!1),v&&f(!1),n()}}))}function uM(){return i.createElement("span",{className:rM})}const cM="awsui_root_1s55x_14pps_145",dM="awsui_label_1s55x_14pps_149",hM="awsui_label-top_1s55x_14pps_163",pM="awsui_stud_1s55x_14pps_168";function gM(e,t){if("multi"!==e)return{};function n(e,n,i){let o=n;const r=sn(e,e=>"true"===e.dataset.selectionRoot);for(;o>=-1&&o<t;){o+=i;const e=mM(r,o);if(e&&!e.disabled){e.focus();break}}}const[i,o]=[1,-1].map(e=>t=>{const i=t.currentTarget,o=sn(i,e=>"item"===e.dataset.selectionItem);n(i,Array.prototype.indexOf.call(o.parentElement.children,o),e)});return{moveFocusDown:i,moveFocusUp:o,moveFocus:n}}function mM(e,t){return-1===t?e.querySelector("[data-".concat(z_,'="all"] .').concat(cM," input")):e.querySelectorAll("[data-".concat(z_,'="item"] .').concat(cM," input"))[t]}function vM(e){const t=function(e){let{ariaLabels:t,isItemDisabled:n=()=>!1,onSelectionChange:i,selectedItems:o=[],selectionType:r,trackBy:s,setLastUserAction:a}=e;const l=Yi();if("single"!==r)return{isItemSelected:()=>!1};const u=new V_(s,o.slice(0,1)),c=u.has.bind(u),d=e=>{n(e)||c(e)||(_i(i,{selectedItems:[e]}),null===a||void 0===a||a("selection"))};return{isItemSelected:c,getItemSelectionProps:e=>{var i;return{name:l,selectionType:"single",disabled:n(e),checked:c(e),onChange:()=>d(e),ariaLabel:Hp(null===t||void 0===t?void 0:t.selectionGroupLabel,null===(i=null===t||void 0===t?void 0:t.itemSelectionLabel)||void 0===i?void 0:i.call(t,{selectedItems:o},e))}}}}(e),n=function(e){let{ariaLabels:t,isItemDisabled:n=()=>!1,items:o,loading:r,onSelectionChange:s,selectedItems:a=[],selectionType:l,trackBy:u,setLastUserAction:c}=e;const d=Yi(),[h,p]=(0,i.useState)(!1),[g,m]=(0,i.useState)(null);if("multi"!==l)return{isItemSelected:()=>!1};const v=new V_(u,a),f=v.has.bind(v);let w=!0,C=!0;for(const i of o)w=w&&n(i),C=C&&(f(i)||n(i));const b=a.length>0&&C,y=a.length>0&&!C,S=new Map;o.forEach((e,t)=>S.set(D_(u,e),t));const x=e=>{const t=g?S.get(D_(u,g)):void 0;if(void 0!==t){const n=S.get(D_(u,e)),i=Math.min(n,t),r=Math.max(n,t);return o.slice(i,r+1)}return[e]},D=e=>{const t=[...a];return e.forEach(e=>{f(e)||n(e)||t.push(e)}),t},E=e=>{const t=new V_(u,e),i=[];return a.forEach(e=>{t.has(e)&&!n(e)||i.push(e)}),i},F=()=>{const e=C?E(o):D(o);_i(s,{selectedItems:e}),null===c||void 0===c||c("selection")},k=e=>{if(!n(e)){const t=h?x(e):[e],n=f(e)?E(t):D(t);_i(s,{selectedItems:n}),m(e),null===c||void 0===c||c("selection")}};return{isItemSelected:f,getSelectAllProps:()=>{var e;return{name:d,selectionType:"multi",disabled:w||!!r,checked:b,indeterminate:y,onChange:F,ariaLabel:Hp(null===t||void 0===t?void 0:t.selectionGroupLabel,null===(e=null===t||void 0===t?void 0:t.allItemsSelectionLabel)||void 0===e?void 0:e.call(t,{selectedItems:a})),selectionGroupLabel:null===t||void 0===t?void 0:t.selectionGroupLabel}},getItemSelectionProps:e=>{var i;return{name:d,selectionType:"multi",disabled:n(e),checked:f(e),onChange:()=>k(e),onShiftToggle:e=>p(e),ariaLabel:Hp(null===t||void 0===t?void 0:t.selectionGroupLabel,null===(i=null===t||void 0===t?void 0:t.itemSelectionLabel)||void 0===i?void 0:i.call(t,{selectedItems:a},e))}}}}(e);return"single"===e.selectionType?t:n}const fM={"header-cell":"awsui_header-cell_1spae_wii4_149","header-cell-fake-focus":"awsui_header-cell-fake-focus_1spae_wii4_183","header-cell-sticky":"awsui_header-cell-sticky_1spae_wii4_204","header-cell-stuck":"awsui_header-cell-stuck_1spae_wii4_207","header-cell-variant-full-page":"awsui_header-cell-variant-full-page_1spae_wii4_207","header-cell-hidden":"awsui_header-cell-hidden_1spae_wii4_213","header-cell-variant-embedded":"awsui_header-cell-variant-embedded_1spae_wii4_216","is-visual-refresh":"awsui_is-visual-refresh_1spae_wii4_216","sticky-cell":"awsui_sticky-cell_1spae_wii4_216","header-cell-variant-borderless":"awsui_header-cell-variant-borderless_1spae_wii4_216","header-cell-sortable":"awsui_header-cell-sortable_1spae_wii4_219","table-variant-full-page":"awsui_table-variant-full-page_1spae_wii4_240","sticky-cell-pad-left":"awsui_sticky-cell-pad-left_1spae_wii4_243","has-selection":"awsui_has-selection_1spae_wii4_243","sticky-cell-last-inline-start":"awsui_sticky-cell-last-inline-start_1spae_wii4_246","resize-divider":"awsui_resize-divider_1spae_wii4_251","sticky-cell-last-inline-end":"awsui_sticky-cell-last-inline-end_1spae_wii4_258","sorting-icon":"awsui_sorting-icon_1spae_wii4_268","edit-icon":"awsui_edit-icon_1spae_wii4_276","header-cell-content":"awsui_header-cell-content_1spae_wii4_282","header-cell-content-expandable":"awsui_header-cell-content-expandable_1spae_wii4_288","header-cell-disabled":"awsui_header-cell-disabled_1spae_wii4_340","header-cell-sorted":"awsui_header-cell-sorted_1spae_wii4_340","header-cell-text":"awsui_header-cell-text_1spae_wii4_354","header-cell-text-wrap":"awsui_header-cell-text-wrap_1spae_wii4_358","header-cell-ascending":"awsui_header-cell-ascending_1spae_wii4_364","header-cell-descending":"awsui_header-cell-descending_1spae_wii4_365","has-striped-rows":"awsui_has-striped-rows_1spae_wii4_479","sticky-cell-pad-inline-start":"awsui_sticky-cell-pad-inline-start_1spae_wii4_479","header-cell-resizable":"awsui_header-cell-resizable_1spae_wii4_491"};function wM(e){var{resizableStyle:t,sortingStatus:n,sortingDisabled:o,focusedComponent:r,stuck:s,sticky:a,resizable:l,hidden:u,stripedRows:c,isSelection:d,colIndex:h,columnId:p,stickyState:g,cellRef:m,tableRole:v,children:f,variant:w,ariaLabel:C,tableVariant:b}=e,y=Et(e,["resizableStyle","sortingStatus","sortingDisabled","focusedComponent","stuck","sticky","resizable","hidden","stripedRows","isSelection","colIndex","columnId","stickyState","cellRef","tableRole","children","variant","ariaLabel","tableVariant"]);const S=Cn(),x=w_({stickyColumns:g,columnId:p,getClassName:e=>A_(fM,e)}),D=(0,i.useRef)(null),E=Tt(x.ref,m,D),{tabIndex:F}=Hr(D);return i.createElement("th",Object.assign({"data-focus-id":"header-".concat(String(p)),className:Gn(fM["header-cell"],fM["header-cell-variant-".concat(w)],a&&fM["header-cell-sticky"],l&&fM["header-cell-resizable"],s&&fM["header-cell-stuck"],c&&fM["has-striped-rows"],S&&fM["is-visual-refresh"],d&&Gn(R_["selection-control"],R_["selection-control-header"]),b&&fM["table-variant-".concat(b)],{[fM["header-cell-fake-focus"]]:r==="header-".concat(String(p)),[fM["header-cell-sortable"]]:n,[fM["header-cell-sorted"]]:"ascending"===n||"descending"===n,[fM["header-cell-disabled"]]:o,[fM["header-cell-ascending"]]:"ascending"===n,[fM["header-cell-descending"]]:"descending"===n,[fM["header-cell-hidden"]]:u},x.className),style:Object.assign(Object.assign({},t),x.style),ref:E},S_({tableRole:v,sortingStatus:n,colIndex:h}),{tabIndex:-1===F?void 0:F},Ji(y),C?{"aria-label":C}:{}),f)}function CM(e,t,n,i,o){let r={};return r}function bM(e,t,n,i,o){let r={};return r}const yM="awsui_root_k2y2q_136q5_145",SM="awsui_checkbox-control_k2y2q_136q5_178",xM="awsui_outline_k2y2q_136q5_186",DM=i.forwardRef((e,t)=>{var{controlId:n,name:o,checked:r,disabled:s,readOnly:a,ariaRequired:l,indeterminate:u,children:c,description:d,ariaLabel:h,onFocus:p,onBlur:g,onChange:m,tabIndex:v,showOutline:f,ariaControls:w,style:C,__internalRootRef:b,__injectAnalyticsComponentMetadata:y=!1}=e,S=Et(e,["controlId","name","checked","disabled","readOnly","ariaRequired","indeterminate","children","description","ariaLabel","onFocus","onBlur","onChange","tabIndex","showOutline","ariaControls","style","__internalRootRef","__injectAnalyticsComponentMetadata"]);const{ariaDescribedby:x,ariaLabelledby:D}=zp(S),E=zt(S),F=(0,i.useRef)(null);Wr(t,F),(0,i.useEffect)(()=>{F.current&&(F.current.indeterminate=Boolean(u))});const{tabIndex:k}=Hr(F,{tabIndex:v}),A={},R={name:"awsui.Checkbox",label:{root:"self"},properties:{checked:"".concat(!!r)}};return y&&(A.component=R),s||a||(A.action=r?"deselect":"select"),i.createElement(mT,Object.assign({},E,{className:Gn(yM,E.className),controlClassName:SM,outlineClassName:xM,controlId:n,disabled:s,readOnly:a,label:c,description:d,descriptionBottomPadding:!0,ariaLabel:h,ariaLabelledby:D,ariaDescribedby:x,ariaControls:w,showOutline:f,nativeControl:e=>i.createElement("input",Object.assign({},e,{ref:F,type:"checkbox",checked:r,name:o,"aria-required":l?"true":void 0,"aria-disabled":a&&!s?"true":void 0,tabIndex:k,onFocus:()=>_i(p),onBlur:()=>_i(g),onChange:()=>{}})),onClick:()=>{var e;null===(e=F.current)||void 0===e||e.focus(),_i(m,u?{checked:!0,indeterminate:!1}:{checked:!r,indeterminate:!1})},styledControl:i.createElement(Am,{checked:r,indeterminate:u,disabled:s,readOnly:a,style:bM()}),style:CM(),__internalRootRef:b},Qi(A)))}),EM=DM;function FM(e){var{selectionType:t,indeterminate:n=!1,onShiftToggle:o,onFocusUp:r,onFocusDown:s,name:a,ariaLabel:l,focusedComponent:u,rowIndex:c,itemKey:d,verticalAlign:h="middle"}=e,p=Et(e,["selectionType","indeterminate","onShiftToggle","onFocusUp","onFocusDown","name","ariaLabel","focusedComponent","rowIndex","itemKey","verticalAlign"]);const g=Yi(),m="multi"===t,{navigationActive:v}=(0,i.useContext)(Vr),f=e=>{m&&(null===o||void 0===o||o(e.shiftKey))},w=m?i.createElement(EM,Object.assign({},p,{showOutline:"selection-control"===u,controlId:g,"data-focus-id":"selection-control",indeterminate:n})):i.createElement(RT,Object.assign({},p,{controlId:g,name:a,value:"",label:""}));return i.createElement(i.Fragment,null,i.createElement("label",Object.assign({onKeyDown:e=>{f(e),m&&!v&&(e.keyCode===ir.up&&(e.preventDefault(),null===r||void 0===r||r(e)),e.keyCode===ir.down&&(e.preventDefault(),null===s||void 0===s||s(e)))},onKeyUp:f,onMouseDown:e=>{f(e),m&&e.preventDefault()},onMouseUp:f,onClick:e=>{const t=e.currentTarget,n="INPUT"===t.tagName?t:t.querySelector("input");null===n||void 0===n||n.focus()},htmlFor:g,className:Gn(dM,cM,"top"===h&&hM),"aria-label":l,title:l},void 0===c||p.disabled?{}:Qi({detail:{position:"".concat(c+1),item:d||""}})),w),i.createElement("span",{className:pM,"aria-hidden":!0},"\xa0"))}function kM(e){var{focusedComponent:t,singleSelectionHeaderAriaLabel:n,getSelectAllProps:o,onFocusMove:r}=e,s=Et(e,["focusedComponent","singleSelectionHeaderAriaLabel","getSelectAllProps","onFocusMove"]);const a=o?o():void 0;return i.createElement(wM,Object.assign({},s,{isSelection:!0,colIndex:0,focusedComponent:t,ariaLabel:null===a||void 0===a?void 0:a.selectionGroupLabel},Qi({action:(null===a||void 0===a?void 0:a.checked)?"deselectAll":"selectAll"})),a?i.createElement(FM,Object.assign({onFocusDown:e=>{r(e.target,-1,1)},focusedComponent:t},a,s.sticky?{tabIndex:-1}:{})):i.createElement(id,null,n),i.createElement(aM,{className:R_["resize-divider"]}))}function AM(e){var{selectionControlProps:t}=e,n=Et(e,["selectionControlProps"]);return i.createElement(T_,Object.assign({},n,{isSelection:!0,wrapLines:!1,isEditable:!1,isEditing:!1,colIndex:0}),t?i.createElement(FM,Object.assign({},t,{verticalAlign:n.verticalAlign})):null)}const RM="awsui_header-cell-text_dpuyq_1id1o_5";function PM(e){let{tabIndex:t,column:n,activeSortingColumn:o,sortingDescending:r,sortingDisabled:s,wrapLines:a,focusedComponent:l,stuck:u,sticky:c,hidden:d,stripedRows:h,onClick:p,colIndex:g,updateColumn:m,resizableColumns:v,resizableStyle:f,onResizeFinish:w,isEditable:C,columnId:b,stickyState:y,cellRef:S,tableRole:x,resizerRoleDescription:D,isExpandable:E,hasDynamicContent:F,variant:k,tableVariant:A}=e;var R;const P=Mt("table"),T=!!n.sortingComparator||!!n.sortingField,_=!!o&&u_(n,o),M=((e,t,n,i)=>t?n?"descending":"ascending":e&&!i?"sortable":void 0)(T,_,!!r,!!s),I=()=>p({sortingColumn:n,isDescending:!!_&&!r}),L=Yi("table-header-"),N=(0,i.useRef)(null),{tabIndex:B}=Hr(N,{tabIndex:t}),O=(0,i.useRef)(null),G=Tt(S,O);return ki(F?O:()=>null,e=>{m(b,e.borderBoxWidth)}),i.createElement(wM,Object.assign({resizableStyle:f,cellRef:G,sortingStatus:M,sortingDisabled:s,focusedComponent:l,stuck:u,sticky:c,resizable:v,hidden:d,stripedRows:h,colIndex:g,columnId:b,stickyState:y,tableRole:x,variant:k,tableVariant:A},s?{}:Qi({action:"sort",detail:{position:"".concat(g+1),columnId:n.id?"".concat(n.id):"",label:".".concat(RM),sortingDescending:"".concat(!r)}})),i.createElement("div",Object.assign({ref:N,"data-focus-id":"sorting-control-".concat(String(b)),className:Gn(fM["header-cell-content"],{[fM["header-cell-fake-focus"]]:l==="sorting-control-".concat(String(b)),[fM["header-cell-content-expandable"]]:E}),"aria-label":n.ariaLabel?n.ariaLabel({sorted:_,descending:_&&!!r,disabled:!!s}):void 0},M&&!s?{onKeyPress:e=>{let{nativeEvent:t}=e;t.keyCode!==ir.enter&&t.keyCode!==ir.space||(t.preventDefault(),I())},tabIndex:B,role:"button",onClick:I}:{}),i.createElement("div",{className:Gn(fM["header-cell-text"],RM,a&&fM["header-cell-text-wrap"]),id:L},n.header,C?i.createElement("span",{className:fM["edit-icon"]},i.createElement(oo,{name:"edit",ariaLabel:P("columnDefinitions.editConfig.editIconAriaLabel",null===(R=n.editConfig)||void 0===R?void 0:R.editIconAriaLabel)})):null),M&&i.createElement("span",{className:fM["sorting-icon"]},i.createElement(oo,{name:(z=M,l_[z])}))),v?i.createElement(lM,{tabIndex:t,focusId:"resize-control-".concat(String(b)),showFocusRing:l==="resize-control-".concat(String(b)),onWidthUpdate:e=>m(b,e),onWidthUpdateCommit:w,ariaLabelledby:L,minWidth:"string"===typeof n.minWidth?parseInt(n.minWidth):n.minWidth,roleDescription:P("ariaLabels.resizerRoleDescription",D)}):i.createElement(aM,{className:fM["resize-divider"]}));var z}const TM=i.forwardRef((e,t)=>{let{selectionType:n,getSelectAllProps:o,columnDefinitions:r,sortingColumn:s,sortingDisabled:a,sortingDescending:l,resizableColumns:u,variant:c,tableVariant:d,wrapLines:h,onFocusMove:p,onSortingChange:g,onResizeFinish:m,singleSelectionHeaderAriaLabel:v,stripedRows:f,sticky:w=!1,hidden:C=!1,stuck:b=!1,stickyState:y,selectionColumnId:S,focusedComponent:x,onFocusedComponentChange:D,tableRole:E,resizerRoleDescription:F,isExpandable:k,setLastUserAction:A}=e;const{getColumnStyles:R,columnWidths:P,updateColumn:T,setCell:_}=(0,i.useContext)(Y_),M={stuck:b,sticky:w,hidden:C,stripedRows:f,tableRole:E,variant:c,tableVariant:d,stickyState:y};return i.createElement("thead",{className:Gn(!C&&R_["thead-active"])},i.createElement("tr",Object.assign({},H_.all,{ref:t,"aria-rowindex":1},function(e){const t={};return"grid"!==e.tableRole&&"grid-default"!==e.tableRole&&"treegrid"!==e.tableRole||(t["aria-rowindex"]=1),t}({tableRole:E}),{onFocus:e=>{var t;const n=sn(e.target,e=>!!e.getAttribute("data-focus-id")),i=null!==(t=null===n||void 0===n?void 0:n.getAttribute("data-focus-id"))&&void 0!==t?t:null;null===D||void 0===D||D(i)},onBlur:()=>null===D||void 0===D?void 0:D(null)}),n?i.createElement(kM,Object.assign({},M,{focusedComponent:x,columnId:S,getSelectAllProps:o,onFocusMove:p,singleSelectionHeaderAriaLabel:v})):null,r.map((e,t)=>{const o=E_(e,t);return i.createElement(PM,Object.assign({},M,{key:o,tabIndex:w?-1:0,focusedComponent:x,column:e,activeSortingColumn:s,sortingDescending:l,sortingDisabled:a,wrapLines:h,colIndex:n?t+1:t,columnId:o,updateColumn:T,onResizeFinish:()=>m(P),resizableColumns:u,resizableStyle:R(w,o),onClick:e=>{A("sorting"),_i(g,e)},isEditable:!!e.editConfig,cellRef:e=>_(w,o,e),tableRole:E,resizerRoleDescription:F,isExpandable:0===t&&k,hasDynamicContent:C&&!u&&e.hasDynamicContent}))})))}),_M=TM;function MM(e,t){const n=lr(t),i=lr(e);return n.insetBlockStart-i.insetBlockStart}function IM(e,t){const n=cr(t);n.length?n[0].scrollTop-=e:window.scrollTo({top:window.pageYOffset-e})}const LM=(e,t,n,o,r)=>{const s=In(),a=(0,i.useCallback)(()=>{e.current&&t.current&&n.current&&o.current&&r.current&&(o.current.style.inlineSize="".concat(e.current.getBoundingClientRect().width,"px"),r.current.style.marginBlockStart="-".concat(t.current.getBoundingClientRect().height,"px"))},[t,n,o,r,e]);(0,i.useLayoutEffect)(()=>{a()}),ki(t,a);const{scrollToItem:l}=(u=r,c=n,{scrollToTop:()=>{if(!u.current||!c.current)return;const e=MM(u.current,c.current);e>0&&IM(e,u.current)},scrollToItem:e=>{if(!e||!u.current||!c.current)return;const t=lr(c.current).insetBlockEnd-lr(e).insetBlockStart;t>0&&IM(t,u.current)}});var u,c;return{scrollToRow:e=>{s||l(e)},scrollToTop:()=>{if(!s&&t.current&&n.current&&r.current){const e=MM(t.current,n.current);e>0&&IM(e,r.current)}}}},NM=(0,i.forwardRef)(function(e,t){let{variant:n,theadProps:o,wrapperRef:r,theadRef:s,secondaryWrapperRef:a,onScroll:l,tableRef:u,tableHasHeader:c,contentDensity:d,tableRole:h}=e;const p=(0,i.useRef)(null),g=(0,i.useRef)(null),{isStuck:m}=(0,i.useContext)(Cf),[v,f]=(0,i.useState)(null),{scrollToRow:w,scrollToTop:C}=LM(u,s,p,g,r);return(0,i.useImperativeHandle)(t,()=>({scrollToTop:C,scrollToRow:w,setFocus:f})),i.createElement("div",{className:Gn(R_["header-secondary"],R_["variant-".concat(n)],{[R_["table-has-header"]]:c}),"aria-hidden":!0,tabIndex:-1,ref:a,onScroll:l},i.createElement("table",Object.assign({className:Gn(R_.table,R_["table-layout-fixed"],"compact"===d&&Hi("compact-table")),ref:g},y_({tableRole:h})),i.createElement(_M,Object.assign({ref:p,sticky:!0,stuck:m,focusedComponent:v},o))))});const BM="awsui_sticky-scrollbar_faqt8_105xs_181",OM="awsui_sticky-scrollbar-content_faqt8_105xs_193",GM="awsui_sticky-scrollbar-visible_faqt8_105xs_196",zM="awsui_sticky-scrollbar-native-invisible_faqt8_105xs_199",VM="awsui_sticky-scrollbar-offset_faqt8_105xs_202",HM="awsui_is-visual-refresh_faqt8_105xs_205",jM=(e,t,n,i,o)=>{if(!e||!n||!t)return;const{inlineSize:r}=lr(e),{inlineSize:s}=lr(t),a=fc().height;if(r>s?(n.classList.contains(GM)||requestAnimationFrame(()=>{n.scrollLeft=t.scrollLeft}),n.classList.add(GM),a||n.classList.add(zM)):n.classList.remove(GM),a&&n&&i&&(n.style.blockSize="".concat(a,"px"),i.style.blockSize="".concat(a,"px")),e&&t&&i&&n){const r=lr(t),s=lr(e);n.style.inlineSize="".concat(r.inlineSize,"px"),i.style.inlineSize="".concat(s.inlineSize,"px"),n.style.insetBlockEnd=o?"0px":"var(".concat(bc.stickyVerticalBottomOffset,", 0px)")}};function WM(e,t,n,o,r){const[s,a]=(0,i.useState)(!1),l=o.current;(0,i.useEffect)(()=>{var e;l&&a(!(!(e=l).parentElement||!sn(e.parentElement,ho))||!!cr(l)[0])},[l]),(0,i.useEffect)(()=>{if(o.current&&n.current){const i=new Fi(()=>{t.current&&jM(n.current,o.current,e.current,t.current,s)});return i.observe(o.current),i.observe(n.current),()=>{i.disconnect()}}},[t,e,n,o,s,r]),(0,i.useEffect)(()=>{const i=()=>{jM(n.current,o.current,e.current,t.current,s)};return i(),window.addEventListener("resize",i),()=>{window.removeEventListener("resize",i)}},[n,o,e,t,s])}const UM=(0,i.forwardRef)(function(e,t){let{wrapperRef:n,tableRef:o,onScroll:r,hasStickyColumns:s}=e;const a=Cn(),l=i.useRef(null),u=i.useRef(null),c=Tt(t,l),d=s||0===fc().height;WM(l,u,o,n,d);const{ref:h,isIntersecting:p}=Oh();return i.createElement(i.Fragment,null,i.createElement("div",{ref:c,className:Gn(BM,d&&VM,a&&HM),onScroll:r,"data-stuck":!p},i.createElement("div",{ref:u,className:OM})),i.createElement("div",{ref:h,style:{position:"absolute",right:0,bottom:0,left:0,height:1}}))});function KM(e){return e.closest("td,th")}function qM(e){return"TD"===e.tagName||"TH"===e.tagName}function YM(e){let{keyboardNavigation:t,pageSize:n,getTable:o,children:r}=e;const s=(0,i.useRef)(null),a=(0,i.useMemo)(()=>new ZM(s),[]),l=un(o);return(0,i.useEffect)(()=>{if(t){const e=l();if(e)return a.init(e),a.cleanup}},[t,a,l]),(0,i.useEffect)(()=>{a.update({pageSize:n})},[a,n]),(0,i.useEffect)(()=>{t&&a.refresh()}),i.createElement(jr,{ref:s,navigationActive:t,getNextFocusTarget:a.getNextFocusTarget,isElementSuppressed:a.isElementSuppressed,onRegisterFocusable:a.onRegisterFocusable,onUnregisterActive:a.onUnregisterActive},r)}class ZM{constructor(e){this._pageSize=0,this._table=null,this.focusedCell=null,this.focusInside=!1,this.keepUserIndex=!1,this.cleanup=()=>{},this.onRegisterFocusable=e=>{var t;if(!this.focusInside)return;const n=null===(t=this.focusedCell)||void 0===t?void 0:t.element;n&&qM(n)&&n.contains(e)&&e.focus({preventScroll:!0})},this.onUnregisterActive=()=>{this.focusedCell&&!wo(this.table,this.focusedCell.element)&&this.moveFocusBy(this.focusedCell,{x:0,y:0})},this.getNextFocusTarget=()=>{var e;if(!this.table)return null;const t=this.focusedCell,n=this.table.querySelector("td,th");let i=null!==(e=n&&this.getFocusablesFrom(n)[0])&&void 0!==e?e:n;return t&&(i=this.getNextFocusable(t,{x:0,y:0})),i},this.isElementSuppressed=e=>!!this.focusedCell&&(!e||function(e){let t=e;for(;t;){if(qM(t))return!1;if("dialog"===t.getAttribute("role")||"true"===t.getAttribute("data-awsui-table-suppress-navigation"))return!0;t=t.parentElement}return!1}(e)),this.onFocusin=e=>{var t;if(this.focusInside=!0,!(e.target instanceof HTMLElement))return;if(this.updateFocusedCell(e.target),!this.focusedCell)return;null===(t=this._navigationAPI.current)||void 0===t||t.updateFocusTarget();const n=this.focusedCell.element,i=qM(n)?this.getFocusablesFrom(n)[0]:null;i?i.focus({preventScroll:!0}):this.keepUserIndex=!1},this.onFocusout=()=>{this.focusInside=!1},this.onKeydown=e=>{if(!this.focusedCell)return;const t=[ir.up,ir.down,ir.left,ir.right,ir.pageUp,ir.pageDown,ir.home,ir.end];if((e.ctrlKey?1:0)+(e.altKey?1:0)+(e.shiftKey?1:0)+(e.metaKey?1:0)&&!e.ctrlKey||e.ctrlKey&&e.keyCode!==ir.home&&e.keyCode!==ir.end||this.isElementSuppressed(document.activeElement)||!this.isRegistered(document.activeElement)||-1===t.indexOf(e.keyCode))return;const n=this.focusedCell;e.preventDefault(),Zu(e)&&$u(e,{onBlockStart:()=>this.moveFocusBy(n,{y:-1,x:0}),onBlockEnd:()=>this.moveFocusBy(n,{y:1,x:0}),onInlineStart:()=>this.moveFocusBy(n,{y:0,x:-1}),onInlineEnd:()=>this.moveFocusBy(n,{y:0,x:1}),onPageUp:()=>this.moveFocusBy(n,{y:-this.pageSize,x:0}),onPageDown:()=>this.moveFocusBy(n,{y:this.pageSize,x:0}),onHome:()=>e.ctrlKey?this.moveFocusBy(n,{y:-1/0,x:-1/0}):this.moveFocusBy(n,{y:0,x:-1/0}),onEnd:()=>e.ctrlKey?this.moveFocusBy(n,{y:1/0,x:1/0}):this.moveFocusBy(n,{y:0,x:1/0})})},this._navigationAPI=e}init(e){this._table=e;const t=new AbortController;e.addEventListener("focusin",this.onFocusin,{signal:t.signal}),e.addEventListener("focusout",this.onFocusout,{signal:t.signal}),e.addEventListener("keydown",this.onKeydown,{signal:t.signal}),this.cleanup=()=>{t.abort()}}update(e){let{pageSize:t}=e;this._pageSize=t}refresh(){setTimeout(()=>{var e,t;this._table&&(this.updateFocusedCell(null===(e=this.focusedCell)||void 0===e?void 0:e.element),null===(t=this._navigationAPI.current)||void 0===t||t.updateFocusTarget())},0)}get pageSize(){return this._pageSize}get table(){return this._table}moveFocusBy(e,t){var n;0!==t.y&&0===t.x&&(this.keepUserIndex=!0),(n=this.getNextFocusable(e,t))&&(qM(n)&&0!==n.tabIndex&&(n.tabIndex=-1),n.focus())}isRegistered(e){var t,n;return!e||null!==(n=null===(t=this._navigationAPI.current)||void 0===t?void 0:t.isRegistered(e))&&void 0!==n&&n}updateFocusedCell(e){var t,n,i,o,r,s;if(!e)return;const a=KM(e),l=null===a||void 0===a?void 0:a.closest("tr");if(!a||!l)return;const u=parseInt(null!==(t=a.getAttribute("aria-colindex"))&&void 0!==t?t:""),c=parseInt(null!==(n=l.getAttribute("aria-rowindex"))&&void 0!==n?n:"");if(isNaN(u)||isNaN(c))return;const d=this.getFocusablesFrom(a).indexOf(e),h=null!==(o=null===(i=this.focusedCell)||void 0===i?void 0:i.colIndex)&&void 0!==o?o:-1,p=null!==(s=null===(r=this.focusedCell)||void 0===r?void 0:r.elementIndex)&&void 0!==s?s:-1;this.focusedCell={rowIndex:c,colIndex:this.keepUserIndex&&-1!==h?h:u,elementIndex:this.keepUserIndex&&-1!==p?p:d,element:e}}getNextFocusable(e,t){var n;const i=e.rowIndex+t.y,o=function(e,t,n){var i,o;let r=null;const s=Array.from(null!==(i=null===e||void 0===e?void 0:e.querySelectorAll("tr[aria-rowindex]"))&&void 0!==i?i:[]);n<0&&s.reverse();for(const a of s){const e=parseInt(null!==(o=a.getAttribute("aria-rowindex"))&&void 0!==o?o:"");if(r=a,e===t)break;if(n>=0&&e>t)break;if(n<0&&e<t)break}return r}(this.table,i,t.y);if(!o)return null;const r=KM(e.element),s=r?this.getFocusablesFrom(r):[],a=e.elementIndex+t.x,l=!!t.x,u=-1!==e.elementIndex&&0<=a&&a<s.length,c=e.element!==s[a];if(l&&u&&c)return s[a];const d=function(e,t,n){var i;let o=null;const r=Array.from(e.querySelectorAll("td[aria-colindex],th[aria-colindex]"));n<0&&r.reverse();for(const s of r){const e=parseInt(null!==(i=s.getAttribute("aria-colindex"))&&void 0!==i?i:"");if(o=s,e===t)break;if(n>=0&&e>t)break;if(n<0&&e<t)break}return o}(o,e.colIndex+t.x,t.x);if(!d)return null;if(d===r&&0!==t.x)return null;const h=this.getFocusablesFrom(d);let p=e.elementIndex;return(isFinite(t.x)&&t.x>0||t.x===-1/0)&&(p=0),(isFinite(t.x)&&t.x<0||t.x===1/0)&&(p=h.length-1),null!==(n=h[p])&&void 0!==n?n:d}getFocusablesFrom(e){const t=e=>{var t;return null===(t=this._navigationAPI.current)||void 0===t?void 0:t.isRegistered(e)};return Qo(e).filter(e=>{return t(e)&&!(((n=e)instanceof HTMLInputElement||n instanceof HTMLButtonElement)&&n.disabled);var n})}}function $M(e){let{header:t,filter:n,pagination:o,preferences:r,setLastUserAction:s}=e;const[a,l]=Ip(["xs"]),u="string"===typeof t,c=(0,i.useContext)(yf).assignId,d=Yi("heading");void 0!==c&&u&&c(d);const h="default"===a,p=n||o||r;return i.createElement(i.Fragment,null,u?i.createElement("span",{id:d},t):t,p&&i.createElement("div",{ref:l,className:Gn(R_.tools,h&&R_["tools-small"])},n&&i.createElement("div",{className:R_["tools-filtering"],onClickCapture:()=>null===s||void 0===s?void 0:s("filter"),onKeyDownCapture:()=>null===s||void 0===s?void 0:s("filter")},n),i.createElement("div",{className:R_["tools-align-right"]},o&&i.createElement("div",{className:R_["tools-pagination"],onClickCapture:()=>null===s||void 0===s?void 0:s("pagination")},o),r&&i.createElement("div",{className:R_["tools-preferences"],onClickCapture:()=>null===s||void 0===s?void 0:s("preferences")},r))))}var XM,QM,JM;const eI=".".concat(P_["sticky-cell"]);class tI{constructor(){XM.set(this,setTimeout(()=>{},0)),QM.set(this,0),JM.set(this,!1)}set(e){kt(this,JM,"f")||(At(this,JM,!0,"f"),At(this,QM,e,"f"),At(this,XM,setTimeout(()=>At(this,JM,!1,"f"),50),"f"))}clear(){At(this,JM,!1,"f"),clearTimeout(kt(this,XM,"f"))}get active(){return kt(this,JM,"f")}get scrollLeft(){return kt(this,QM,"f")}}XM=new WeakMap,QM=new WeakMap,JM=new WeakMap;const nI=function(e){let{enableKeyboardNavigation:t,selectionType:n,tableRoot:o,columnDefinitions:r,numRows:s}=e;const a=(0,i.useMemo)(()=>{const e=r.map(e=>!!e.editConfig);return n&&e.unshift(!1),e},[r,n]),l=a.length-1,u=n?1:0,c=(0,i.useCallback)((e,t)=>{(null===o||void 0===o?void 0:o.current)&&function(e,t){e.querySelectorAll("tr").forEach((e,n)=>{e.querySelectorAll("td").forEach((e,i)=>{t(e,n,i)})})}(o.current,(n,i,o)=>{var r;if(i===e&&o===t){const e=n.querySelector("button:last-child");e&&(null===(r=e.focus)||void 0===r||r.call(e),function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{block:"nearest",inline:"nearest"};var n;null===(n=null===e||void 0===e?void 0:e.scrollIntoView)||void 0===n||n.call(e,t)}(e))}})},[o]),d=(0,i.useCallback)((e,t)=>{var n;const i=null===(n=o.current)||void 0===n?void 0:n.querySelector("td:focus-within");if(!i)return;const r=i.cellIndex,d=i.parentElement.rowIndex;let h=d,p=r;if(0!==e&&(h=Math.min(s,Math.max(d+e,0))),0!==t)for(;p<=l&&p>=u&&(p+=t,!a[p]););d===h&&r===p||!o.current||c(h,p)},[c,a,l,u,s,o]),h=(0,i.useCallback)(e=>{var t,n;if(!(!!(null===(t=o.current)||void 0===t?void 0:t.querySelector('[data-inline-editing-active = "true"]'))||!(null===(n=document.activeElement)||void 0===n?void 0:n.closest("[data-inline-editing-active]"))))switch(e.key){case"ArrowUp":e.preventDefault(),d(-1,0);break;case"ArrowDown":e.preventDefault(),d(1,0);break;case"ArrowLeft":e.preventDefault(),d(0,-1);break;case"ArrowRight":e.preventDefault(),d(0,1);break;default:return}},[d,o]);(0,i.useEffect)(()=>{if(!o.current||t)return;const e=o.current;return o.current.addEventListener("keydown",h),()=>e&&e.removeEventListener("keydown",h)},[t,a,h,o])},iI=Symbol("selection-column-id"),oI=i.forwardRef((e,t)=>{const{funnelSubStepProps:n}=jo(),o=Object.assign(Object.assign({},e),{__funnelSubStepProps:n});return i.createElement(rI,Object.assign({},o,{ref:t}))}),rI=i.forwardRef((e,t)=>{var n,o,r,{header:s,footer:a,empty:l,filter:u,pagination:c,preferences:d,items:h,columnDefinitions:p,trackBy:g,loading:m,loadingText:v,selectionType:f,selectedItems:w,isItemDisabled:C,ariaLabels:b,onSelectionChange:y,onSortingChange:S,sortingColumn:x,sortingDescending:D,sortingDisabled:E,visibleColumns:F,stickyHeader:k,stickyHeaderVerticalOffset:A,onRowClick:R,onRowContextMenu:P,wrapLines:T,stripedRows:_,contentDensity:M,submitEdit:I,onEditCancel:L,resizableColumns:N,onColumnWidthsChange:B,variant:O,__internalRootRef:G,totalItemsCount:z,firstIndex:V,renderAriaLive:H,stickyColumns:j,columnDisplay:W,enableKeyboardNavigation:U,expandableRows:K,getLoadingStatus:q,renderLoaderPending:Y,renderLoaderLoading:Z,renderLoaderError:$,renderLoaderEmpty:X,cellVerticalAlign:Q,__funnelSubStepProps:J}=e,ee=Et(e,["header","footer","empty","filter","pagination","preferences","items","columnDefinitions","trackBy","loading","loadingText","selectionType","selectedItems","isItemDisabled","ariaLabels","onSelectionChange","onSortingChange","sortingColumn","sortingDescending","sortingDisabled","visibleColumns","stickyHeader","stickyHeaderVerticalOffset","onRowClick","onRowContextMenu","wrapLines","stripedRows","contentDensity","submitEdit","onEditCancel","resizableColumns","onColumnWidthsChange","variant","__internalRootRef","totalItemsCount","firstIndex","renderAriaLive","stickyColumns","columnDisplay","enableKeyboardNavigation","expandableRows","getLoadingStatus","renderLoaderPending","renderLoaderLoading","renderLoaderError","renderLoaderEmpty","cellVerticalAlign","__funnelSubStepProps"]);K&&void 0===U&&(U=!0);const te=zt(ee),ne=md(k);void 0!==ne&&!!k!==!!ne&&Pt(0,'`stickyHeader` has changed from "'.concat(ne,'" to "').concat(k,'". It is not recommended to change the value of this property during the component lifecycle. Please set it to either "true" or "false" unconditionally.'));const ie=In(),{isExpandable:oe,allItems:re,getExpandableItemProps:se}=function(e){let{items:t,expandableRows:n,trackBy:i,ariaLabels:o}=e;var r;const s=Mt("table"),a=!!n,l=new V_(i,null!==(r=null===n||void 0===n?void 0:n.expandedItems)&&void 0!==r?r:[]);let u=t;const c=new Map,d=e=>{var t,n;return null!==(n=null===(t=c.get(e))||void 0===t?void 0:t.level)&&void 0!==n?n:0};if(a){const e=new Array,i=(t,o)=>{const r=n.getItemChildren(t);c.set(t,Object.assign(Object.assign({},o),{children:r})),e.push(t),l.has(t)&&r.forEach((e,n)=>i(e,{level:o.level+1,setSize:r.length,posInSet:n+1,parent:t}))};t.forEach((e,n)=>i(e,{level:1,setSize:t.length,posInSet:n+1,parent:null}));for(let t=0;t<e.length;t++){const n=e[t];if(l.has(n)){let i=t+1;for(;i<e.length;i++){const t=e[i];if(d(n)>=d(t))break}i--}}u=e}return{isExpandable:a,allItems:u,getExpandableItemProps:e=>{var t,i,r,a;const{level:u=1,setSize:d=1,posInSet:h=1,parent:p=null,children:g=[]}=null!==(t=c.get(e))&&void 0!==t?t:{};return{level:u,setSize:d,posInSet:h,isExpandable:null===(i=null===n||void 0===n?void 0:n.isItemExpandable(e))||void 0===i||i,isExpanded:l.has(e),onExpandableItemToggle:()=>_i(null===n||void 0===n?void 0:n.onExpandableItemToggle,{item:e,expanded:!l.has(e)}),expandButtonLabel:s("ariaLabels.expandButtonLabel",null===(r=null===o||void 0===o?void 0:o.expandButtonLabel)||void 0===r?void 0:r.call(o,e)),collapseButtonLabel:s("ariaLabels.collapseButtonLabel",null===(a=null===o||void 0===o?void 0:o.collapseButtonLabel)||void 0===a?void 0:a.call(o,e)),parent:p,children:g}}}}({items:h,expandableRows:K,trackBy:g,ariaLabels:b}),{allRows:ae}=function(e){let{items:t,getLoadingStatus:n,getExpandableItemProps:i}=e;const o=new Array,r=e=>i(e).parent,s=e=>i(e).children,a=e=>e?i(e).level:0,l=e=>i(e).isExpanded;for(let u=0;u<t.length;u++){if(o.push({type:"data",item:t[u]}),l(t[u])&&0===s(t[u]).length){const e=null===n||void 0===n?void 0:n(t[u]);"loading"===e||"finished"===e||"error"===e?o.push({type:"loader",item:t[u],level:a(t[u]),status:e,from:0}):Pt()}let e=r(t[u]),i=a(t[u])-a(t[u+1]);for(;e&&i>0;){const t=null===n||void 0===n?void 0:n(e);if(t&&"finished"!==t){const n=e?a(e):0,i=e?s(e):[];o.push({type:"loader",item:e,level:n,status:t,from:i.length})}e=e&&r(e),i--}const c=null===n||void 0===n?void 0:n(null);u===t.length-1&&c&&"finished"!==c&&o.push({type:"loader",item:null,level:0,status:c,from:t.length})}return{allRows:o}}({items:re,getLoadingStatus:q,getExpandableItemProps:se}),[le,ue]=Ri(e=>e.contentBoxWidth),ce=(0,i.useRef)(null),de=Tt(ue,ce),[he,pe]=Ri(e=>e.contentBoxWidth),ge=(0,i.useRef)(null),me=i.useRef(null),ve=(0,i.useRef)(null),fe=i.useRef(null),we=i.useRef(null),Ce=function(e){var t=this;let{onCancel:n,onSubmit:o}=e;const[r,s]=(0,i.useState)(null),[a,l]=(0,i.useState)(null),[u,c]=(0,i.useState)(!1),d=(0,i.useCallback)(()=>s(null),[]),h=o?function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return Ft(t,void 0,void 0,function*(){c(!0);try{yield o(...n)}finally{c(!1)}})}:void 0;return{isLoading:u,startEdit:e=>{l(null),s(e)},cancelEdit:d,checkEditing:e=>{let{row:t,col:n}=e;return t===(null===r||void 0===r?void 0:r.row)&&n===r.col},checkLastSuccessfulEdit:e=>{let{row:t,col:n}=e;return t===(null===a||void 0===a?void 0:a.row)&&n===a.col},completeEdit:(e,t)=>{Mi(n,{})||(s(null),t||l(e))},submitEdit:h}}({onCancel:L,onSubmit:I}),{cancelEdit:be}=Ce,ye=Et(Ce,["cancelEdit"]),Se=(0,i.useRef)({}),xe=(0,i.useRef)({}),De=(0,i.useRef)({}),Ee=(0,i.useRef)({}),Fe=()=>{var e,t,n,i;return null!==(n=null===(t=null===(e=ut.current)||void 0===e?void 0:e.querySelector(".".concat(Af["heading-text"])))||void 0===t?void 0:t.innerText)&&void 0!==n?n:null===(i=ut.current)||void 0===i?void 0:i.innerText},ke=()=>{var e;return!!(null===(e=ut.current)||void 0===e?void 0:e.querySelector(".".concat(Af.actions," .").concat(ms.button)))?"table-with-actions":""},Ae=ts("table",()=>!m,ge,()=>({loading:null!==m&&void 0!==m&&m,header:Fe()}),[m]),Re=Vt(ee),{setLastUserAction:Pe,tableInteractionAttributes:Te}=function(e){let{elementRef:t,items:n,itemCount:o,instanceIdentifier:r,getComponentIdentifier:s,getComponentConfiguration:a,loading:l=!1,interactionMetadata:u}=e;const c=Ki(),d=Yr(t,"data-analytics-task-interaction-id",c),{isInFunnel:h}=Uo(),p=(0,i.useRef)(null),g=(0,i.useRef)(null),m=(0,i.useRef)(null),v=(0,i.useRef)({itemCount:o,getComponentIdentifier:s,getComponentConfiguration:a,interactionMetadata:u});v.current={itemCount:o,getComponentIdentifier:s,getComponentConfiguration:a,interactionMetadata:u},(0,i.useEffect)(()=>{h||ao.componentMounted({taskInteractionId:c,componentName:"table",componentConfiguration:v.current.getComponentConfiguration()})},[c,h]),(0,i.useEffect)(()=>{l&&(m.current=performance.now(),p.current&&p.current.time>performance.now()-1e3?g.current=p.current.name:g.current=null)},[l]),Zr(()=>{var e;if(!l&&null!==m.current){const t=performance.now()-m.current;m.current=null,so.tableInteraction({userAction:null!==(e=g.current)&&void 0!==e?e:"",interactionTime:Math.round(t),interactionMetadata:v.current.interactionMetadata(),componentIdentifier:v.current.getComponentIdentifier(),instanceIdentifier:r,noOfResourcesInTable:v.current.itemCount})}},[r,l,c,h]);const f=Ug(()=>{var e,t;ao.componentUpdated({taskInteractionId:c,componentName:"table",actionType:null!==(t=null===(e=p.current)||void 0===e?void 0:e.name)&&void 0!==t?t:"",componentConfiguration:v.current.getComponentConfiguration()})});return Zr(()=>{h||l||f()},[c,h,l,n,f]),{tableInteractionAttributes:d,setLastUserAction:e=>{p.current={name:e,time:performance.now()}}}}({elementRef:ge,loading:m,items:h,instanceIdentifier:null===Re||void 0===Re?void 0:Re.instanceIdentifier,itemCount:h.length,getComponentIdentifier:Fe,getComponentConfiguration:()=>{var e,t,n,i,o,r,s,a,l,u,c;const d=Ee.current,h=xe.current,p=Se.current,g=De.current;return{variant:O,flowType:null===(e=ee.analyticsMetadata)||void 0===e?void 0:e.flowType,resourceType:null===(t=ee.analyticsMetadata)||void 0===t?void 0:t.resourceType,instanceIdentifier:null===Re||void 0===Re?void 0:Re.instanceIdentifier,taskName:null!==(n=null===Re||void 0===Re?void 0:Re.instanceIdentifier)&&void 0!==n?n:Fe(),uxTaskName:Fe(),patternIdentifier:ke(),sortedBy:{columnId:null===x||void 0===x?void 0:x.sortingField,sortingOrder:x?D?"desc":"asc":void 0},filtered:null!==(i=null===h||void 0===h?void 0:h.filtered)&&void 0!==i?i:null,filteredBy:null!==(o=null===h||void 0===h?void 0:h.filteredBy)&&void 0!==o?o:[],filteredCount:null!==(r=null===h||void 0===h?void 0:h.filterCount)&&void 0!==r?r:null,totalNumberOfResources:null!==(s=null===d||void 0===d?void 0:d.totalCount)&&void 0!==s?s:null,tablePreferences:{visibleColumns:null!==(a=null===g||void 0===g?void 0:g.visibleColumns)&&void 0!==a?a:[],resourcesPerPage:null!==(l=null===g||void 0===g?void 0:g.pageSize)&&void 0!==l?l:null},pagination:{currentPageIndex:null!==(u=null===p||void 0===p?void 0:p.currentPageIndex)&&void 0!==u?u:0,totalNumberOfPages:(null===p||void 0===p?void 0:p.openEnd)?null:null!==(c=null===p||void 0===p?void 0:p.totalPageCount)&&void 0!==c?c:null,openEnd:Boolean(null===p||void 0===p?void 0:p.openEnd)},resourcesSelected:(null===w||void 0===w?void 0:w.length)>0}},interactionMetadata:()=>{const e=xe.current,t=Se.current;return JSON.stringify({filterData:e,paginationData:t,sortingColumn:null===x||void 0===x?void 0:x.sortingField,sortingOrder:x?D?"Descending":"Ascending":void 0})}});(0,i.useImperativeHandle)(t,()=>{var e;return{scrollToTop:(null===(e=fe.current)||void 0===e?void 0:e.scrollToTop)||(()=>{}),cancelEdit:be}},[be]);const _e=(0,i.useRef)(null),Me=function(e){const t=(0,i.useRef)(null);return n=>{const i=n.currentTarget;!i||null!==t.current&&t.current!==i||requestAnimationFrame(()=>{t.current=i,e.forEach(e=>{const t=e.current;t&&t!==i&&(t.scrollLeft=i.scrollLeft)}),requestAnimationFrame(()=>{t.current=null})})}}([_e,we,me]),{moveFocusDown:Ie,moveFocusUp:Le,moveFocus:Ne}=gM(f,re.length),{onRowClickHandler:Be,onRowContextMenuHandler:Oe}=function(e){let{onRowClick:t,onRowContextMenu:n}=e;return{onRowClickHandler:t&&((e,n,i)=>{const o=sn(i.target,e=>"td"===e.tagName.toLowerCase());o&&o.classList.contains(R_["selection-control"])||_i(t,{rowIndex:e,item:n})}),onRowContextMenuHandler:n&&((e,t,i)=>{const o={rowIndex:e,item:t,clientX:i.clientX,clientY:i.clientY};Mi(n,o,i)})}}({onRowClick:R,onRowContextMenu:P}),Ge=k_({columnDefinitions:p,columnDisplay:W,visibleColumns:F}),{isItemSelected:ze,getSelectAllProps:Ve,getItemSelectionProps:He}=vM({items:re,trackBy:g,selectedItems:w,selectionType:f,isItemDisabled:C,onSelectionChange:y,ariaLabels:Object.assign(Object.assign({},b),{selectionGroupLabel:void 0}),loading:m,setLastUserAction:Pe}),je=e=>"data"===e.type&&ze(e.item);const We=Cn()?O:["embedded","full-page"].indexOf(O)>-1?"container":O,Ue=!!(s||u||c||d),Ke=!!f,qe=ie&&"full-page"===O&&!!c,Ye=!!a||qe,Ze=(0,i.useRef)(void 0),$e=!(null===b||void 0===b?void 0:b.tableLabel)&&!!s&&Ze.current?Ze.current:void 0,Xe=(0,i.useCallback)(e=>{Ze.current=e},[]),Qe=[],Je=[];Ke&&(Qe.push({id:iI,width:54}),Je.push(iI));for(let i=0;i<Ge.length;i++){const e=E_(Ge[i],i);Qe.push(Object.assign(Object.assign({},Ge[i]),{id:e})),Je.push(e)}const et=f_({visibleColumns:Je,stickyColumnsFirst:(null!==(n=null===j||void 0===j?void 0:j.first)&&void 0!==n?n:0)+((null===j||void 0===j?void 0:j.first)&&Ke?1:0),stickyColumnsLast:(null===j||void 0===j?void 0:j.last)||0}),tt=!!((null!==(o=null===j||void 0===j?void 0:j.first)&&void 0!==o?o:0)+(null!==(r=null===j||void 0===j?void 0:j.last)&&void 0!==r?r:0)>0),nt=!!p.find(e=>e.editConfig);let it="table";oe?it="treegrid":U?it="grid":nt&&(it="grid-default");const ot={selectionType:f,getSelectAllProps:Ve,columnDefinitions:Ge,variant:We,tableVariant:We,wrapLines:T,resizableColumns:N,sortingColumn:x,sortingDisabled:E,sortingDescending:D,onSortingChange:S,onFocusMove:Ne,onResizeFinish(e){const t=p.map((t,n)=>e.get(E_(t,n))||t.width||q_),n=t.some((e,t)=>p[t].width!==e);n&&_i(B,{widths:t})},singleSelectionHeaderAriaLabel:null===b||void 0===b?void 0:b.selectionGroupLabel,resizerRoleDescription:null===b||void 0===b?void 0:b.resizerRoleDescription,stripedRows:_,stickyState:et,selectionColumnId:iI,tableRole:it,isExpandable:oe,setLastUserAction:Pe};!function(e){(0,i.useEffect)(()=>{if(e.current){const t=e.current,n=new tI,i=e=>{e.target&&e.target instanceof HTMLElement&&(e.target.matches(eI)||e.target.closest(eI))&&n.set(t.scrollLeft)};t.addEventListener("click",i);const o=()=>{n.active&&(t.scrollLeft=n.scrollLeft,n.clear())};return t.addEventListener("scroll",o),()=>{t.removeEventListener("click",i),t.removeEventListener("scroll",o)}}},[e])}(_e);const rt=Tt(_e,et.refs.wrapper),st=Tt(pe,ge,et.refs.table),at=function(e){const t={};return e.isScrollable&&(t.role="region",t.tabIndex=0,t["aria-label"]=e.ariaLabel,t["aria-labelledby"]=e.ariaLabelledby),t}({tableRole:it,isScrollable:!!(he&&le&&he>le),ariaLabel:null===b||void 0===b?void 0:b.tableLabel,ariaLabelledby:$e}),lt=function(){const e=(0,i.useRef)(null);return c_(t=>{e.current=t}),()=>e.current}();nI({enableKeyboardNavigation:U,selectionType:f,tableRoot:ge,columnDefinitions:Ge,numRows:null===ae||void 0===ae?void 0:ae.length});const ut=(0,i.useRef)(null),[ct,dt]=Ri(e=>e.borderBoxHeight),ht=Tt(ut,dt),pt=f?1:0,gt=Ge.length+pt;return i.createElement(fg.Provider,{value:{defaultVariant:"primary"}},i.createElement(Ef,{value:{paginationRef:Se,filterRef:xe,preferencesRef:De,headerRef:Ee}},i.createElement(Z_,{visibleColumns:Qe,resizableColumns:N,containerRef:ce},i.createElement(Uf,Object.assign({},te,Te,{__internalRootRef:G,className:Gn(te.className,R_.root),__funnelSubStepProps:J,__fullPage:"full-page"===O,header:i.createElement(i.Fragment,null,Ue&&i.createElement("div",null,i.createElement("div",{ref:ht,className:Gn(R_["header-controls"],R_["variant-".concat(We)])},i.createElement(yf.Provider,{value:{assignId:Xe}},i.createElement($M,{header:s,filter:u,pagination:c,preferences:d,setLastUserAction:Pe})))),k&&i.createElement(NM,{ref:fe,variant:We,theadProps:ot,wrapperRef:_e,theadRef:ve,secondaryWrapperRef:me,tableRef:ge,onScroll:Me,tableHasHeader:Ue,contentDensity:M,tableRole:it})),disableHeaderPaddings:!0,disableContentPaddings:!0,disableFooterPaddings:!0,variant:F_(We),__disableFooterDivider:!0,__disableStickyMobile:!1,footer:Ye?i.createElement("div",{className:Gn(R_["footer-wrapper"],R_["variant-".concat(We)])},i.createElement("div",{className:Gn(R_.footer,qe&&R_["footer-with-pagination"])},a&&i.createElement("span",null,a),qe&&i.createElement("div",{className:R_["footer-pagination"]},c))):null,__stickyHeader:k,__mobileStickyOffset:null!==ct&&void 0!==ct?ct:0,__stickyOffset:A},H_.root),i.createElement("div",Object.assign({ref:rt,className:Gn(R_.wrapper,R_["variant-".concat(We)],{[R_["has-footer"]]:Ye,[R_["has-header"]]:Ue}),style:et.style.wrapper,onScroll:Me},at),i.createElement("div",{className:R_["wrapper-content-measure"],ref:de}),!!H&&!!V&&i.createElement(cs,{hidden:!0,tagName:"span"},i.createElement("span",null,H({firstIndex:V,lastIndex:V+h.length-1,visibleItemsCount:re.length,totalItemsCount:z}))),i.createElement(YM,{keyboardNavigation:!!U,pageSize:10,getTable:()=>ge.current},i.createElement("table",Object.assign({},Ae,{ref:st,className:Gn(R_.table,N&&R_["table-layout-fixed"],"compact"===M&&Hi("compact-table"))},y_({tableRole:it,totalItemsCount:z,totalColumnsCount:gt,ariaLabel:null===b||void 0===b?void 0:b.tableLabel,ariaLabelledby:$e})),i.createElement(_M,Object.assign({ref:ve,hidden:k,onFocusedComponentChange:e=>{var t;return null===(t=fe.current)||void 0===t?void 0:t.setFocus(e)}},ot)),i.createElement("tbody",null,m||0===re.length?i.createElement("tr",null,i.createElement(j_,{totalColumnsCount:gt,hasFooter:Ye,loading:m,loadingText:v,empty:l,tableRef:ge,containerRef:ce})):ae.map((e,t)=>{const n=0===t,o=t===ae.length-1,r="data"===e.type?se(e.item):void 0,s=function(e){const t={};return"grid"===e.tableRole||"treegrid"===e.tableRole?t["aria-rowindex"]=(e.firstIndex||1)+e.rowIndex+1:void 0!==e.firstIndex&&(t["aria-rowindex"]=e.firstIndex+e.rowIndex+1),"treegrid"===e.tableRole&&e.level&&0!==e.level&&(t["aria-level"]=e.level),"treegrid"===e.tableRole&&e.setSize&&(t["aria-setsize"]=e.setSize),"treegrid"===e.tableRole&&e.posInSet&&(t["aria-posinset"]=e.posInSet),t}(Object.assign({tableRole:it,firstIndex:V,rowIndex:t,level:"loader"===e.type?e.level:void 0},r)),a=e=>((e,t,n)=>e?x_(e,t):n)(g,e,t),l={isFirstRow:n,isLastRow:o,isSelected:Ke&&je(e),isPrevSelected:Ke&&!n&&je(ae[t-1]),isNextSelected:Ke&&!o&&je(ae[t+1]),isEvenRow:t%2===0,stripedRows:_,hasSelection:Ke,hasFooter:Ye,stickyState:et,tableRole:it};if("data"===e.type){const n="".concat(a(e.item));return i.createElement("tr",Object.assign({key:n,className:Gn(R_.row,l.isSelected&&R_["row-selected"]),onFocus:e=>{let{currentTarget:t}=e;var n;t.contains(lt())||null===(n=fe.current)||void 0===n||n.scrollToRow(t)}},H_.item,{onClick:Be&&Be.bind(null,t,e.item),onContextMenu:Oe&&Oe.bind(null,t,e.item)},s),He&&i.createElement(AM,Object.assign({},l,{columnId:iI,selectionControlProps:Object.assign(Object.assign({},He(e.item)),{onFocusDown:Ie,onFocusUp:Le,rowIndex:t,itemKey:n}),verticalAlign:Q,tableVariant:We})),Ge.map((o,s)=>{var a,u;const c="".concat(E_(o,s)),d={row:n,col:c},h=ye.checkEditing(d),p=ye.checkLastSuccessfulEdit(d),g=!!o.editConfig&&!ye.isLoading,m=oe&&0===s?r:void 0,v={component:{innerContext:{position:"".concat(t+1,",").concat(s+1),columnId:o.id?"".concat(o.id):"",columnLabel:{selector:"table thead tr th:nth-child(".concat(s+(f?2:1),")"),root:"component"},item:n}}};return i.createElement(O_,Object.assign({key:c},l,{resizableStyle:{width:o.width,minWidth:o.minWidth,maxWidth:o.maxWidth},ariaLabels:b,column:o,item:e.item,wrapLines:T,isEditable:g,isEditing:h,isRowHeader:o.isRowHeader,successfulEdit:p,resizableColumns:N,onEditStart:()=>ye.startEdit(d),onEditEnd:e=>ye.completeEdit(d,e),submitEdit:ye.submitEdit,columnId:null!==(a=o.id)&&void 0!==a?a:s,colIndex:s+pt,verticalAlign:null!==(u=o.verticalAlign)&&void 0!==u?u:Q,tableVariant:We},m,Qi(v)))}))}const u=function(e){let{item:t,loadingStatus:n,renderLoaderPending:o,renderLoaderLoading:r,renderLoaderError:s,renderLoaderEmpty:a}=e,l=null;return"pending"===n&&o?l=o({item:t}):"loading"===n&&r?l=i.createElement(cs,{tagName:"span"},r({item:t})):"error"===n&&s?l=i.createElement(cs,{tagName:"span"},s({item:t})):"finished"===n&&a&&t?l=i.createElement(cs,{tagName:"span"},a({item:t})):Pt(),l}({item:e.item,loadingStatus:e.status,renderLoaderPending:Y,renderLoaderLoading:Z,renderLoaderError:$,renderLoaderEmpty:X});return u&&i.createElement("tr",Object.assign({key:(e.item?a(e.item):"root-"+t)+"-"+e.from,className:R_.row},s),He&&i.createElement(AM,Object.assign({},l,{columnId:iI,verticalAlign:Q,tableVariant:We})),Ge.map((t,n)=>{var o;return i.createElement(K_,Object.assign({key:E_(t,n)},l,{wrapLines:!1,columnId:null!==(o=t.id)&&void 0!==o?o:n,colIndex:n+pt,isRowHeader:0===n,level:e.level,item:e.item,trackBy:g}),u)}))})))),N&&i.createElement(uM,null)),i.createElement(UM,{ref:we,wrapperRef:_e,tableRef:ge,onScroll:Me,hasStickyColumns:tt})))))}),sI=rI,aI=i.forwardRef((e,t)=>{var n,o,r,{items:s=[],selectedItems:a=[],variant:l="container",contentDensity:u="comfortable",cellVerticalAlign:c="middle",firstIndex:d=1}=e,h=Et(e,["items","selectedItems","variant","contentDensity","cellVerticalAlign","firstIndex"]);const p=Vt(h),g=h.visibleColumns&&h.visibleColumns.length<h.columnDefinitions.length||(null===(n=h.columnDisplay)||void 0===n?void 0:n.some(e=>!e.visible)),m=!!(null===(o=h.stickyColumns)||void 0===o?void 0:o.first)||!!(null===(r=h.stickyColumns)||void 0===r?void 0:r.last),v=Dn("Table",{props:{contentDensity:u,resizableColumns:h.resizableColumns,selectionType:h.selectionType,stickyHeader:h.stickyHeader,stripedRows:h.stripedRows,variant:l,wrapLines:h.wrapLines,enableKeyboardNavigation:h.enableKeyboardNavigation,totalItemsCount:h.totalItemsCount,flowType:p.flowType,cellVerticalAlign:c},metadata:{expandableRows:!!h.expandableRows,progressiveLoading:!!h.getLoadingStatus,inlineEdit:h.columnDefinitions.some(e=>!!e.editConfig),disabledInlineEdit:h.columnDefinitions.some(e=>{var t;return!!(null===(t=e.editConfig)||void 0===t?void 0:t.disabledReason)}),hasSortableColumns:h.columnDefinitions.some(e=>e.sortingField||e.sortingComparator),hasHiddenColumns:g,hasStickyColumns:m,hasFilterSlot:!!h.filter,hasPaginationSlot:!!h.pagination,itemsCount:s.length,hasInstanceIdentifier:Boolean(null===p||void 0===p?void 0:p.instanceIdentifier),hasResourceType:Boolean(null===p||void 0===p?void 0:p.resourceType),usesVisibleColumns:!!h.visibleColumns,usesColumnDisplay:!!h.columnDisplay,usesColumnDefinitionsVerticalAlign:h.columnDefinitions.some(e=>e.verticalAlign!==c)}},p),f={name:"awsui.Table",label:{root:"self"},properties:{selectionType:h.selectionType||"none",itemsCount:"".concat(s.length),selectedItemsCount:"".concat(a.length),variant:l}},w=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;if(!t)return null;for(let n=0;n<e.length;n++)if(u_(e[n],t))return e[n].id||null;return null}(h.columnDefinitions,h.sortingColumn);w&&(f.properties.sortingColumnId=w,f.properties.sortingDescending="".concat(h.sortingDescending||!1));const C=Object.assign(Object.assign(Object.assign(Object.assign({items:s,selectedItems:a,variant:l,contentDensity:u,firstIndex:d,cellVerticalAlign:c},h),v),{ref:t}),Qi({component:f})),b={tableContentDensity:u,tableHasStripedRows:!!h.stripedRows,tableHasHiddenColumns:g,tableHasStickyColumns:m};return"borderless"===l||"embedded"===l?i.createElement(a_.Provider,{value:b},i.createElement(sI,Object.assign({},C))):i.createElement(a_.Provider,{value:b},i.createElement(Xw,null,i.createElement(oI,Object.assign({},C))))});Ln(aI,"Table");const lI=aI,uI={button:"awsui_button_m5h9f_19alj_145",expanded:"awsui_expanded_m5h9f_19alj_197","offset-right-none":"awsui_offset-right-none_m5h9f_19alj_208","offset-right-l":"awsui_offset-right-l_m5h9f_19alj_211","offset-right-xxl":"awsui_offset-right-xxl_m5h9f_19alj_214",text:"awsui_text_m5h9f_19alj_239",icon:"awsui_icon_m5h9f_19alj_243"},cI=i.forwardRef((e,t)=>{let{testUtilsClass:n,iconName:o,iconUrl:r,iconAlt:s,iconSvg:a,badge:l,ariaLabel:u,offsetRight:c,disabled:d,expanded:h,children:p,onClick:g}=e;const m=o||r||a;return i.createElement("button",{ref:t,type:"button",className:Gn(uI.button,uI["offset-right-".concat(c)],n,{[uI.expanded]:h}),"aria-label":u,"aria-expanded":!!h,"aria-haspopup":!0,disabled:d,onClick:e=>{e.preventDefault(),null===g||void 0===g||g()}},m&&i.createElement(oo,{className:uI.icon,name:o,url:r,alt:s,svg:a,badge:l}),p&&i.createElement("span",{className:uI.text},p),p&&i.createElement(oo,{name:"caret-down-filled",className:Tl(gu,"rotate",!!h)}))}),dI=e=>{var{iconName:t,iconUrl:n,iconAlt:o,iconSvg:r,badge:s,offsetRight:a,children:l}=e,u=Et(e,["iconName","iconUrl","iconAlt","iconSvg","badge","offsetRight","children"]);const c=zt(u);return i.createElement(vu,Object.assign({},c,u,{variant:"navigation",customTriggerBuilder:e=>{let{triggerRef:u,ariaLabel:c,isOpen:d,testUtilsClass:h,disabled:p,onClick:g}=e;return i.createElement(cI,{testUtilsClass:h,ref:u,disabled:p,expanded:d,iconName:t,iconUrl:n,iconAlt:o,iconSvg:r,badge:s,ariaLabel:c,offsetRight:a,onClick:g},l)},preferCenter:!0}))};Ln(dI,"MenuDropdown");const hI=dI,pI=(0,i.createContext)({state:{view:"utilities",data:null},setState:()=>{}}),gI=()=>{const{setState:e}=(0,i.useContext)(pI);return(t,n)=>{e({view:t,data:n})}},mI=e=>{let{view:t,element:n}=e;const{state:o}=(0,i.useContext)(pI);return t===o.view?"function"===typeof n?n(o.data):i.createElement(i.Fragment,null,n):null},vI=e=>{let{children:t}=e;const[n,o]=(0,i.useState)({view:"utilities",data:null});return i.createElement(pI.Provider,{value:{state:n,setState:o}},t)},fI={"top-navigation":"awsui_top-navigation_k5dlb_avvbm_145","padding-box":"awsui_padding-box_k5dlb_avvbm_178",medium:"awsui_medium_k5dlb_avvbm_188",narrow:"awsui_narrow_k5dlb_avvbm_188",virtual:"awsui_virtual_k5dlb_avvbm_199",hidden:"awsui_hidden_k5dlb_avvbm_203","\t":"awsui_\t_k5dlb_avvbm_1",identity:"awsui_identity_k5dlb_avvbm_215","identity-link":"awsui_identity-link_k5dlb_avvbm_218","no-logo":"awsui_no-logo_k5dlb_avvbm_238",logo:"awsui_logo_k5dlb_avvbm_242",title:"awsui_title_k5dlb_avvbm_254",inputs:"awsui_inputs_k5dlb_avvbm_269",search:"awsui_search_k5dlb_avvbm_277","search-expanded":"awsui_search-expanded_k5dlb_avvbm_281",utilities:"awsui_utilities_k5dlb_avvbm_285","utility-wrapper":"awsui_utility-wrapper_k5dlb_avvbm_296","utility-type-button-link":"awsui_utility-type-button-link_k5dlb_avvbm_317","utility-type-menu-dropdown":"awsui_utility-type-menu-dropdown_k5dlb_avvbm_322","utility-type-button-primary-button":"awsui_utility-type-button-primary-button_k5dlb_avvbm_331","utility-link-icon":"awsui_utility-link-icon_k5dlb_avvbm_339","utility-button-external-icon":"awsui_utility-button-external-icon_k5dlb_avvbm_343","offset-right-none":"awsui_offset-right-none_k5dlb_avvbm_347","offset-right-l":"awsui_offset-right-l_k5dlb_avvbm_351","offset-right-xxl":"awsui_offset-right-xxl_k5dlb_avvbm_355","overflow-menu-drawer":"awsui_overflow-menu-drawer_k5dlb_avvbm_360","overflow-menu":"awsui_overflow-menu_k5dlb_avvbm_360","overflow-menu-header":"awsui_overflow-menu-header_k5dlb_avvbm_401","overflow-menu-header-text":"awsui_overflow-menu-header-text_k5dlb_avvbm_409","overflow-menu-header-text--title":"awsui_overflow-menu-header-text--title_k5dlb_avvbm_416","overflow-menu-header-text--secondary":"awsui_overflow-menu-header-text--secondary_k5dlb_avvbm_425","overflow-menu-back-button":"awsui_overflow-menu-back-button_k5dlb_avvbm_433","overflow-menu-dismiss-button":"awsui_overflow-menu-dismiss-button_k5dlb_avvbm_437","overflow-menu-control":"awsui_overflow-menu-control_k5dlb_avvbm_441","overflow-menu-list-item-utility":"awsui_overflow-menu-list-item-utility_k5dlb_avvbm_479","overflow-menu-control-link":"awsui_overflow-menu-control-link_k5dlb_avvbm_487","overflow-menu-control-expandable-menu-trigger":"awsui_overflow-menu-control-expandable-menu-trigger_k5dlb_avvbm_490","overflow-menu-list":"awsui_overflow-menu-list_k5dlb_avvbm_479","overflow-menu-list-submenu":"awsui_overflow-menu-list-submenu_k5dlb_avvbm_526","overflow-menu-list-item":"awsui_overflow-menu-list-item_k5dlb_avvbm_479","overflow-menu-list-item-icon":"awsui_overflow-menu-list-item-icon_k5dlb_avvbm_535","overflow-menu-list-item-text":"awsui_overflow-menu-list-item-text_k5dlb_avvbm_538","overflow-menu-list-item-submenu":"awsui_overflow-menu-list-item-submenu_k5dlb_avvbm_547","overflow-menu-list-item-dropdown-menu":"awsui_overflow-menu-list-item-dropdown-menu_k5dlb_avvbm_553","overflow-menu-list-item-expandable":"awsui_overflow-menu-list-item-expandable_k5dlb_avvbm_557",icon:"awsui_icon_k5dlb_avvbm_562","icon-open":"awsui_icon-open_k5dlb_avvbm_576"},wI=e=>{let{children:t,secondaryText:n,backIconAriaLabel:o,dismissIconAriaLabel:r,onBack:s,onClose:a}=e;return i.createElement("div",{className:fI["overflow-menu-header"]},s&&i.createElement(Es,{className:fI["overflow-menu-back-button"],ariaLabel:o,iconName:"angle-left",variant:"icon",onClick:()=>s()}),i.createElement("h2",{className:fI["overflow-menu-header-text"]},i.createElement("div",{className:fI["overflow-menu-header-text--title"]},t),n&&i.createElement("div",{className:fI["overflow-menu-header-text--secondary"]},n)),i.createElement(Es,{className:fI["overflow-menu-dismiss-button"],ariaLabel:r,iconName:"close",variant:"icon",onClick:()=>a&&a()}))},CI=e=>{let{children:t,startIcon:n,endIcon:o}=e;return i.createElement(i.Fragment,null,n&&i.createElement("span",{className:fI["overflow-menu-list-item-icon"]},n),i.createElement("span",{className:fI["overflow-menu-list-item-text"]},t),o&&o)},bI=(0,i.forwardRef)((e,t)=>{let{children:n,external:o,href:r,target:s,rel:a,startIcon:l,endIcon:u,onClick:c,context:d,testId:h}=e;const p=null!==s&&void 0!==s?s:o?"_blank":void 0,g=null!==a&&void 0!==a?a:"_blank"===p?"noopener noreferrer":void 0,m=r?void 0:"button";return i.createElement("a",Object.assign({ref:t,onClick:c,className:Gn(fI["overflow-menu-control"],fI["overflow-menu-control-link"],d&&fI["overflow-menu-control-".concat(d)]),role:m,tabIndex:0,href:r,target:p,rel:g},h?{"data-testid":h}:{}),i.createElement(CI,{startIcon:l,endIcon:u},n))}),yI=(0,i.forwardRef)((e,t)=>{let{children:n,startIcon:o,endIcon:r,onClick:s,testId:a}=e;return i.createElement("button",Object.assign({ref:t,className:fI["overflow-menu-control"],onClick:s},"string"===typeof a?{"data-testid":a}:{}),i.createElement(CI,{startIcon:o,endIcon:r},n))}),SI=(0,i.forwardRef)((e,t)=>{var{startIcon:n,children:o,index:r,testId:s}=e,a=Et(e,["startIcon","children","index","testId"]);const l=gI();return i.createElement(yI,{ref:t,startIcon:n,endIcon:i.createElement(oo,{name:"angle-right"}),testId:s,onClick:()=>l("dropdown-menu",{definition:a,headerText:a.text||a.title,headerSecondaryText:a.description,utilityIndex:r})},o)}),xI=e=>{var{children:t,onItemClick:n}=e,o=Et(e,["children","onItemClick"]);const[r,s]=(0,i.useState)(!1),a=Yi("overflow-menu-item");return i.createElement(i.Fragment,null,i.createElement("button",{className:Gn(fI["overflow-menu-control"],fI["overflow-menu-control-expandable-menu-trigger"]),onClick:()=>s(e=>!e),"aria-expanded":r},i.createElement(CI,{endIcon:i.createElement("span",{className:Tl(fI,"icon",r)},i.createElement(oo,{name:"caret-down-filled"}))},i.createElement("span",{id:a},t))),r&&i.createElement("ul",{className:Gn(fI["overflow-menu-list"],fI["overflow-menu-list-submenu"]),"aria-labelledby":a},o.items.map((e,t)=>{const o="undefined"!==typeof e.items;return i.createElement("li",{key:t,className:Gn(fI["overflow-menu-list-item"],fI["overflow-menu-list-item-dropdown-menu"])},DI(e,o,n))})))};function DI(e,t,n){const o=e.text,r=!!e.iconName||!!e.iconUrl||!!e.iconAlt||!!e.iconSvg,s=Yl(e),a=r&&i.createElement(oo,{name:e.iconName,url:e.iconUrl,alt:e.iconAlt,svg:e.iconSvg});return t?i.createElement(xI,Object.assign({},e,{onItemClick:n}),o):i.createElement(bI,{startIcon:a,href:s?e.href:void 0,external:s?e.external:void 0,context:"dropdown-menu",testId:e.id,onClick:t=>n(t,e)},o,s&&e.external&&i.createElement(i.Fragment,null," ",i.createElement("span",{"aria-label":e.externalIconAriaLabel,role:e.externalIconAriaLabel?"img":void 0},i.createElement(oo,{name:"external",size:"normal"}))))}const EI=(0,i.forwardRef)((e,t)=>{var{index:n}=e,o=Et(e,["index"]);return i.createElement("li",{className:Gn(fI["overflow-menu-list-item"],fI["overflow-menu-list-item-utility"])},function(e,t,n){const o=e.text||e.title,r=(!!e.iconName||!!e.iconUrl||!!e.iconAlt||!!e.iconSvg)&&i.createElement(oo,{name:e.iconName,url:e.iconUrl,alt:e.iconAlt,svg:e.iconSvg});switch(e.type){case"button":{const s=t=>{var n;Boolean(e.href)&&Ni(t)&&Mi(e.onFollow,{href:e.href,target:e.target},t),Mi(e.onClick,{},t),null===(n=e.onClose)||void 0===n||n.call(e)},a=i.createElement(i.Fragment,null,o,e.external&&i.createElement(i.Fragment,null," ",i.createElement("span",{"aria-label":e.externalIconAriaLabel,role:e.externalIconAriaLabel?"img":void 0},i.createElement(oo,{name:"external",size:"normal"}))));return e.href?i.createElement(bI,{ref:n,startIcon:r,href:e.href,external:e.external,target:e.target,rel:e.rel,testId:"__".concat(t),onClick:s},a):i.createElement(yI,{ref:n,startIcon:r,onClick:s,testId:"__".concat(t)},a)}case"menu-dropdown":return i.createElement(SI,Object.assign({ref:n,startIcon:r,index:t},e,{testId:"__".concat(t)}),o)}}(o,n,t))}),FI=e=>{const t="undefined"!==typeof e.items;return i.createElement("li",{className:Gn(fI["overflow-menu-list-item"],fI["overflow-menu-list-item-submenu"],t&&fI["overflow-menu-list-item-expandable"])},DI(e,t,e.onClick))},kI=e=>{let{onClose:t,utilityIndex:n,headerText:o,headerSecondaryText:r,dismissIconAriaLabel:s,backIconAriaLabel:a,definition:l}=e;const u=gI(),c=Yi("overflow-menu-header");return i.createElement(nr,{autoFocus:!0},i.createElement(wI,{secondaryText:r,dismissIconAriaLabel:s,backIconAriaLabel:a,onClose:t,onBack:()=>u("utilities",{utilityIndex:n})},i.createElement("span",{id:c},o)),i.createElement("ul",{className:Gn(fI["overflow-menu-list"],fI["overflow-menu-list-submenu"]),"aria-labelledby":c},l.items.map((e,n)=>i.createElement(FI,Object.assign({key:n},e,{onClick:(e,n)=>{n.href&&Ni(e)&&Mi(l.onItemFollow,{id:n.id,href:n.href,external:n.external},e),Mi(l.onItemClick,{id:n.id,href:n.href,external:n.external},e),null===t||void 0===t||t()}})))))},AI=e=>{let{headerText:t,dismissIconAriaLabel:n,onClose:o,items:r=[],focusIndex:s}=e;const a=Yi("overflow-menu-header"),l=(0,i.useRef)(null);return(0,i.useEffect)(()=>{var e;"number"===typeof s&&(null===(e=l.current)||void 0===e||e.focus())},[s]),i.createElement(nr,{autoFocus:!0},i.createElement(wI,{dismissIconAriaLabel:n,onClose:o},i.createElement("span",{id:a},t)),i.createElement("ul",{className:fI["overflow-menu-list"],"aria-labelledby":a},r.map((e,t)=>i.createElement(EI,Object.assign({key:t,index:t,ref:t===s?l:void 0,onClose:o},e)))))},RI=e=>{let{headerText:t,dismissIconAriaLabel:n,backIconAriaLabel:o,items:r=[],onClose:s}=e;const a=Mt("top-navigation"),l=a("i18nStrings.overflowMenuDismissIconAriaLabel",n),u=a("i18nStrings.overflowMenuBackIconAriaLabel",o);return i.createElement("div",{className:fI["overflow-menu"],onKeyUp:e=>{"Escape"===e.key&&(null===s||void 0===s||s())}},i.createElement(vI,null,i.createElement(mI,{view:"utilities",element:e=>i.createElement(AI,{headerText:a("i18nStrings.overflowMenuTitleText",t),items:r,focusIndex:null===e||void 0===e?void 0:e.utilityIndex,dismissIconAriaLabel:l,backIconAriaLabel:u,onClose:s})}),i.createElement(mI,{view:"dropdown-menu",element:e=>i.createElement(kI,{headerText:null===e||void 0===e?void 0:e.headerText,headerSecondaryText:null===e||void 0===e?void 0:e.headerSecondaryText,dismissIconAriaLabel:l,backIconAriaLabel:u,definition:null===e||void 0===e?void 0:e.definition,utilityIndex:null===e||void 0===e?void 0:e.utilityIndex,onClose:s})})))};function PI(e){let{hideText:t,definition:n,offsetRight:o}=e;var r;const s=!!n.iconName||!!n.iconUrl||!!n.iconAlt||!!n.iconSvg,a=t&&!n.disableTextCollapse&&s;let l=null!==(r=n.ariaLabel)&&void 0!==r?r:n.text;if("button"===n.type)return l=n.ariaLabel?n.ariaLabel:Hp(n.text,n.externalIconAriaLabel),is(0,n.href),"primary-button"===n.variant?i.createElement("span",{className:fI["offset-right-".concat(o)]},i.createElement(Ds,{variant:"primary",href:n.href,target:n.external?"_blank":void 0,onClick:n.onClick,onFollow:n.onFollow,ariaLabel:l,iconName:n.iconName,iconUrl:n.iconUrl,iconAlt:n.iconAlt,iconSvg:n.iconSvg},a?null:i.createElement(i.Fragment,null,n.text,n.external&&i.createElement(i.Fragment,null," ",i.createElement("span",{className:Gn(fI["utility-button-external-icon"],fI["offset-right-".concat(o)]),"aria-label":n.externalIconAriaLabel,role:n.externalIconAriaLabel?"img":void 0},i.createElement(oo,{name:"external"})))))):i.createElement("span",{className:fI["offset-right-".concat(o)]},i.createElement(Dg,{variant:"top-navigation",href:n.href,target:n.target,rel:n.rel,external:n.external,onFollow:e=>{Mi(n.onFollow,{href:n.href,target:n.target,external:n.external},e),Mi(n.onClick,{href:n.href,target:n.target,external:n.external},e)},ariaLabel:l},s&&i.createElement(oo,{name:n.iconName,url:n.iconUrl,alt:n.iconAlt,svg:n.iconSvg,badge:n.badge}),!a&&n.text&&i.createElement("span",{className:s?fI["utility-link-icon"]:void 0},n.text)));if("menu-dropdown"===n.type){const e=n.title||n.text,t=a||!n.text,r=_I(n.items);return TI(n.items),i.createElement(hI,Object.assign({},n,{items:r,title:t?e:"",ariaLabel:l,offsetRight:o}),!a&&n.text)}return null}function TI(e){for(const t of e)Yl(t)&&is(0,t.href),"items"in t&&TI(t.items)}function _I(e){return e.map(e=>"checkbox"===e.itemType?null:"items"in e?Object.assign(Object.assign({},e),{items:_I(e.items)}):e).filter(e=>null!==e)}function MI(e){let{identity:t,search:n,utilities:o}=e;const r=(0,i.useRef)(null),s=(0,i.useRef)(null),[a,l]=Ip(["xxs","s"]),u=!!n,c=t&&!!t.logo&&!!t.title,d=(0,i.useMemo)(()=>function(e,t,n){const i=[{}];e.some(e=>e.text)&&i.push({hideUtilityText:!0});t&&i.push({hideUtilityText:!0,hideSearch:!0});const o=[];for(let r=0;r<e.length;r++)e[r].disableUtilityCollapse||(o.push(r),i.push({hideUtilityText:!0,hideSearch:t||void 0,hideUtilities:o.length>0?o.slice():void 0}));n&&i.push({hideUtilityText:!0,hideSearch:t||void 0,hideUtilities:o.length>0?o.slice():void 0,hideTitle:!0});return i}(o,u,c),[o,u,c]),[h,p]=(0,i.useState)(),g=(0,i.useCallback)(()=>{var e,t,n,i;if(!(null===r||void 0===r?void 0:r.current)||!s.current)return void p(d[0]);const o=function(e){const t=getComputedStyle(e);return parseFloat(t.width||"0px")-parseFloat(t.paddingLeft||"0px")-parseFloat(t.paddingRight||"0px")}(r.current.querySelector(".".concat(fI["padding-box"])));if(0===o)return void p(d[0]);const a={hasSearch:u,availableWidth:o,fullIdentityWidth:s.current.querySelector(".".concat(fI.identity)).getBoundingClientRect().width,titleWidth:null!==(t=null===(e=s.current.querySelector(".".concat(fI.title)))||void 0===e?void 0:e.getBoundingClientRect().width)&&void 0!==t?t:0,searchSlotWidth:null!==(i=null===(n=s.current.querySelector(".".concat(fI.search)))||void 0===n?void 0:n.getBoundingClientRect().width)&&void 0!==i?i:0,searchUtilityWidth:s.current.querySelector('[data-utility-special="search"]').getBoundingClientRect().width,utilitiesLeftPadding:parseFloat(getComputedStyle(s.current.querySelector(".".concat(fI.utilities))).paddingLeft||"0px"),utilityWithLabelWidths:Array.prototype.slice.call(s.current.querySelectorAll('[data-utility-hide="false"]')).map(e=>e.getBoundingClientRect().width),utilityWithoutLabelWidths:Array.prototype.slice.call(s.current.querySelectorAll('[data-utility-hide="true"]')).map(e=>e.getBoundingClientRect().width),menuTriggerUtilityWidth:s.current.querySelector('[data-utility-special="menu-trigger"]').getBoundingClientRect().width};p(function(e,t){const{hasSearch:n,availableWidth:i,utilitiesLeftPadding:o,fullIdentityWidth:r,titleWidth:s,searchSlotWidth:a,searchUtilityWidth:l,utilityWithLabelWidths:u,utilityWithoutLabelWidths:c,menuTriggerUtilityWidth:d}=t;for(const h of e){const e=n?h.hideSearch?l:a:0,t=(h.hideUtilityText?c:u).filter((e,t)=>!h.hideUtilities||-1===h.hideUtilities.indexOf(t)).reduce((e,t)=>e+t,0),p=h.hideUtilities?d:0;if((h.hideTitle?r-s:r)+e+o+t+p<=i-20)return h}return e[e.length-1]}(d,a))},[d,u]),[,m]=Ri(()=>{g()},[g]),v=(0,i.useCallback)(e=>{s.current=e,g()},[g]),[f,w]=(0,i.useState)(!0),C=!f&&u&&(null===h||void 0===h?void 0:h.hideSearch);(0,i.useEffect)(()=>{(null===h||void 0===h?void 0:h.hideSearch)||w(!0)},[h]),(0,i.useEffect)(()=>{var e,t;C&&(null===(t=null===(e=null===r||void 0===r?void 0:r.current)||void 0===e?void 0:e.querySelector(".".concat(fI.search," input")))||void 0===t||t.focus())},[C,r]);return{mainRef:Tt(r,m,l),virtualRef:v,responsiveState:null!==h&&void 0!==h?h:d[0],breakpoint:null!==a&&void 0!==a?a:"default",isSearchExpanded:!!C,onSearchUtilityClick:()=>w(e=>!e)}}function II(e){var{__internalRootRef:t,identity:n,i18nStrings:o,utilities:r,search:s}=e,a=Et(e,["__internalRootRef","identity","i18nStrings","utilities","search"]);is(0,n.href);const l=zt(a),{mainRef:u,virtualRef:c,breakpoint:d,responsiveState:h,isSearchExpanded:p,onSearchUtilityClick:g}=MI({identity:n,search:s,utilities:r}),[m,v]=(0,i.useState)(!1),f=(0,i.useRef)(null),w="default"===d,C="xxs"===d,b="s"===d,y=Mt("top-navigation");const S=e=>{Ni(e)&&Mi(n.onFollow,{},e)},x=()=>{v(e=>!e)},D=!p&&h.hideUtilities;(0,i.useEffect)(()=>{v(!1)},[D]),Zr(()=>{var e;m||null===(e=f.current)||void 0===e||e.focus()},[m]);const E=e=>{var t,a;const l=e?"div":"header",d=e||!p,v=e||!h.hideTitle,E=s&&(e||!h.hideSearch||p),F=e||s&&h.hideSearch,k=e||!p,A=e||D;return i.createElement(l,{ref:e?c:u,"aria-hidden":!!e||void 0,className:Gn(fI["top-navigation"],{[fI.virtual]:e,[fI.hidden]:e,[fI.narrow]:w,[fI.medium]:C})},i.createElement("div",{className:fI["padding-box"]},d&&i.createElement("div",{className:Gn(fI.identity,!n.logo&&fI["no-logo"])},i.createElement("a",{className:fI["identity-link"],href:n.href,onClick:S},n.logo&&i.createElement("img",{role:"img",src:null===(t=n.logo)||void 0===t?void 0:t.src,alt:null===(a=n.logo)||void 0===a?void 0:a.alt,className:Gn(fI.logo,{[fI.narrow]:w})}),v&&i.createElement("span",{className:fI.title},n.title))),E&&i.createElement("div",{className:fI.inputs},i.createElement("div",{className:Gn(fI.search,!e&&p&&fI["search-expanded"])},s)),i.createElement("div",{className:fI.utilities},F&&i.createElement("div",{className:Gn(fI["utility-wrapper"],fI["utility-type-button"],fI["utility-type-button-link"],{[fI.narrow]:w,[fI.medium]:C}),"data-utility-special":"search"},i.createElement(PI,{hideText:!0,definition:{type:"button",iconName:p?"close":"search",ariaLabel:p?y("i18nStrings.searchDismissIconAriaLabel",null===o||void 0===o?void 0:o.searchDismissIconAriaLabel):y("i18nStrings.searchIconAriaLabel",null===o||void 0===o?void 0:o.searchIconAriaLabel),onClick:g}})),k&&r.filter((t,n)=>e||!h.hideUtilities||-1===h.hideUtilities.indexOf(n)).map((t,n)=>{var o;const s=!!h.hideUtilityText,a=(e||!A)&&n===r.length-1,l=a&&b?"xxl":a?"l":void 0;return i.createElement("div",{key:n,className:Gn(fI["utility-wrapper"],fI["utility-type-".concat(t.type)],"button"===t.type&&fI["utility-type-button-".concat(null!==(o=t.variant)&&void 0!==o?o:"link")],{[fI.narrow]:w,[fI.medium]:C}),"data-utility-index":n,"data-utility-hide":"".concat(s)},i.createElement(PI,{hideText:s,definition:t,offsetRight:l}))}),e&&r.map((e,t)=>{var n;const o=!h.hideUtilityText,s=!A&&t===r.length-1,a=s&&b?"xxl":s?"l":void 0;return i.createElement("div",{key:t,className:Gn(fI["utility-wrapper"],fI["utility-type-".concat(e.type)],"button"===e.type&&fI["utility-type-button-".concat(null!==(n=e.variant)&&void 0!==n?n:"link")],{[fI.narrow]:w,[fI.medium]:C}),"data-utility-index":t,"data-utility-hide":"".concat(o)},i.createElement(PI,{hideText:o,definition:e,offsetRight:a}))}),A&&i.createElement("div",{className:Gn(fI["utility-wrapper"],fI["utility-type-menu-dropdown"],{[fI.narrow]:w,[fI.medium]:C}),"data-utility-special":"menu-trigger"},i.createElement(cI,{expanded:m,onClick:x,offsetRight:"l",ref:e?void 0:f},y("i18nStrings.overflowMenuTriggerText",null===o||void 0===o?void 0:o.overflowMenuTriggerText))))))};return i.createElement("div",Object.assign({},l,{ref:t}),i.createElement(ji,{contextName:"top-navigation"},E(!0),E(!1),D&&m&&i.createElement("div",{className:fI["overflow-menu-drawer"]},i.createElement(RI,{headerText:null===o||void 0===o?void 0:o.overflowMenuTitleText,dismissIconAriaLabel:null===o||void 0===o?void 0:o.overflowMenuDismissIconAriaLabel,backIconAriaLabel:null===o||void 0===o?void 0:o.overflowMenuBackIconAriaLabel,items:r.filter((e,t)=>(!h.hideUtilities||-1!==h.hideUtilities.indexOf(t))&&!e.disableUtilityCollapse),onClose:x}))))}function LI(e){var{utilities:t=[]}=e,n=Et(e,["utilities"]);const o=Dn("TopNavigation");return i.createElement(II,Object.assign({},o,{utilities:t},n))}Ln(LI,"TopNavigation");const NI=["rowSpan","spanRows"],BI=["key"];var OI,GI,zI=class{constructor(){this.allSyncListeners=new Map,this.allAsyncListeners=new Map,this.globalSyncListeners=new Set,this.globalAsyncListeners=new Set,this.asyncFunctionsQueue=[],this.scheduled=!1,this.firedEvents={}}setFrameworkOverrides(e){this.frameworkOverrides=e}getListeners(e,t,n){const i=t?this.allAsyncListeners:this.allSyncListeners;let o=i.get(e);return!o&&n&&(o=new Set,i.set(e,o)),o}noRegisteredListenersExist(){return 0===this.allSyncListeners.size&&0===this.allAsyncListeners.size&&0===this.globalSyncListeners.size&&0===this.globalAsyncListeners.size}addEventListener(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.getListeners(e,n,!0).add(t)}removeEventListener(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const i=this.getListeners(e,n,!1);i&&(i.delete(t),0===i.size&&(n?this.allAsyncListeners:this.allSyncListeners).delete(e))}addGlobalListener(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.getGlobalListeners(t).add(e)}removeGlobalListener(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.getGlobalListeners(t).delete(e)}dispatchEvent(e){this.dispatchToListeners(e,!0),this.dispatchToListeners(e,!1),this.firedEvents[e.type]=!0}dispatchEventOnce(e){this.firedEvents[e.type]||this.dispatchEvent(e)}dispatchToListeners(e,t){var n;const i=e.type;if(t&&"event"in e){const t=e.event;t instanceof Event&&(e.eventPath=t.composedPath())}const{frameworkOverrides:o}=this,r=e=>{const n=o?()=>o.wrapIncoming(e):e;t?this.dispatchAsync(n):n()},s=this.getListeners(i,t,!1);if((null!==(n=null===s||void 0===s?void 0:s.size)&&void 0!==n?n:0)>0){const t=new Set(s);for(const n of t)null!==s&&void 0!==s&&s.has(n)&&r(()=>n(e))}const a=this.getGlobalListeners(t);if(a.size>0){const t=new Set(a);for(const n of t)r(()=>n(i,e))}}getGlobalListeners(e){return e?this.globalAsyncListeners:this.globalSyncListeners}dispatchAsync(e){if(this.asyncFunctionsQueue.push(e),!this.scheduled){const e=()=>{window.setTimeout(this.flushAsyncQueue.bind(this),0)};this.frameworkOverrides?this.frameworkOverrides.wrapIncoming(e):e(),this.scheduled=!0}}flushAsyncQueue(){this.scheduled=!1;const e=this.asyncFunctionsQueue.slice();this.asyncFunctionsQueue=[],e.forEach(e=>e())}};function VI(e,t){return t}function HI(e){var t;return null!==(t=null===e||void 0===e?void 0:e.getLocaleTextFunc())&&void 0!==t?t:VI}function jI(e,t,n,i){const o=t[n];return e.getLocaleTextFunc()(n,"function"===typeof o?o(i):o,i)}function WI(e){return null==e||""===e?null:e}function UI(e){return null!=e&&""!==e}function KI(e){return!UI(e)}function qI(e){return null!=e&&"function"===typeof e.toString?e.toString():null}function YI(e,t){return(e?JSON.stringify(e):null)===(t?JSON.stringify(t):null)}function ZI(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const i=null==e,o=null==t;if(e&&e.toNumber&&(e=e.toNumber()),t&&t.toNumber&&(t=t.toNumber()),i&&o)return 0;if(i)return-1;if(o)return 1;function r(e,t){return e>t?1:e<t?-1:0}if("string"!==typeof e)return r(e,t);if(!n)return r(e,t);try{return e.localeCompare(t)}catch(nce){return r(e,t)}}var $I=new Set(["__proto__","constructor","prototype"]);function XI(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];UI(t)&&function(e,t){if(null!=e)if(Array.isArray(e))for(let n=0;n<e.length;n++)t(n.toString(),e[n]);else for(const n of Object.keys(e).filter(e=>!$I.has(e)))t(n,e[n])}(t,(t,o)=>{let r=e[t];if(r!==o){if(i){if(null==r&&null!=o){"object"===typeof o&&o.constructor===Object&&(r={},e[t]=r)}}JI(o)&&JI(r)&&!Array.isArray(r)?XI(r,o,n,i):(n||void 0!==o)&&(e[t]=o)}})}function QI(e,t,n){if(!t||!e)return;if(!n)return e[t];const i=t.split(".");let o=e;for(let r=0;r<i.length;r++){if(null==o)return;o=o[i[r]]}return o}function JI(e){return"object"===typeof e&&null!==e}var eL=class e{static applyGlobalGridOptions(t){if(!e.gridOptions)return d({},t);let n={};return XI(n,e.gridOptions,!0,!0),"deep"===e.mergeStrategy?XI(n,t,!0,!0):n=d(d({},n),t),e.gridOptions.context&&(n.context=e.gridOptions.context),t.context&&("deep"===e.mergeStrategy&&n.context&&XI(t.context,n.context,!0,!0),n.context=t.context),n}};eL.gridOptions=void 0,eL.mergeStrategy="shallow";var tL=eL;var nL,iL,oL,rL,sL,aL,lL,uL={suppressContextMenu:!1,preventDefaultOnContextMenu:!1,allowContextMenuWithControlKey:!1,suppressMenuHide:!0,enableBrowserTooltips:!1,tooltipTrigger:"hover",tooltipShowDelay:2e3,tooltipHideDelay:1e4,tooltipMouseTrack:!1,tooltipShowMode:"standard",tooltipInteraction:!1,copyHeadersToClipboard:!1,copyGroupHeadersToClipboard:!1,clipboardDelimiter:"\t",suppressCopyRowsToClipboard:!1,suppressCopySingleCellRanges:!1,suppressLastEmptyLineOnPaste:!1,suppressClipboardPaste:!1,suppressClipboardApi:!1,suppressCutToClipboard:!1,maintainColumnOrder:!1,enableStrictPivotColumnOrder:!1,suppressFieldDotNotation:!1,allowDragFromColumnsToolPanel:!1,suppressMovableColumns:!1,suppressColumnMoveAnimation:!1,suppressMoveWhenColumnDragging:!1,suppressDragLeaveHidesColumns:!1,suppressRowGroupHidesColumns:!1,suppressAutoSize:!1,autoSizePadding:20,skipHeaderOnAutoSize:!1,singleClickEdit:!1,suppressClickEdit:!1,readOnlyEdit:!1,stopEditingWhenCellsLoseFocus:!1,enterNavigatesVertically:!1,enterNavigatesVerticallyAfterEdit:!1,enableCellEditingOnBackspace:!1,undoRedoCellEditing:!1,undoRedoCellEditingLimit:10,suppressCsvExport:!1,suppressExcelExport:!1,cacheQuickFilter:!1,includeHiddenColumnsInQuickFilter:!1,excludeChildrenWhenTreeDataFiltering:!1,enableAdvancedFilter:!1,includeHiddenColumnsInAdvancedFilter:!1,enableCharts:!1,masterDetail:!1,keepDetailRows:!1,keepDetailRowsCount:10,detailRowAutoHeight:!1,tabIndex:0,rowBuffer:10,valueCache:!1,valueCacheNeverExpires:!1,enableCellExpressions:!1,suppressTouch:!1,suppressFocusAfterRefresh:!1,suppressBrowserResizeObserver:!1,suppressPropertyNamesCheck:!1,suppressChangeDetection:!1,debug:!1,suppressLoadingOverlay:!1,suppressNoRowsOverlay:!1,pagination:!1,paginationPageSize:100,paginationPageSizeSelector:!0,paginationAutoPageSize:!1,paginateChildRows:!1,suppressPaginationPanel:!1,pivotMode:!1,pivotPanelShow:"never",pivotDefaultExpanded:0,pivotSuppressAutoColumn:!1,suppressExpandablePivotGroups:!1,functionsReadOnly:!1,suppressAggFuncInHeader:!1,alwaysAggregateAtRootLevel:!1,aggregateOnlyChangedColumns:!1,suppressAggFilteredOnly:!1,removePivotHeaderRowWhenSingleValueColumn:!1,animateRows:!0,cellFlashDuration:500,cellFadeDuration:1e3,allowShowChangeAfterFilter:!1,domLayout:"normal",ensureDomOrder:!1,enableRtl:!1,suppressColumnVirtualisation:!1,suppressMaxRenderedRowRestriction:!1,suppressRowVirtualisation:!1,rowDragManaged:!1,rowDragInsertDelay:500,suppressRowDrag:!1,suppressMoveWhenRowDragging:!1,rowDragEntireRow:!1,rowDragMultiRow:!1,embedFullWidthRows:!1,groupDisplayType:"singleColumn",groupDefaultExpanded:0,groupMaintainOrder:!1,groupSelectsChildren:!1,groupSuppressBlankHeader:!1,groupSelectsFiltered:!1,showOpenedGroup:!1,groupRemoveSingleChildren:!1,groupRemoveLowestSingleChildren:!1,groupHideOpenParents:!1,groupAllowUnbalanced:!1,rowGroupPanelShow:"never",suppressMakeColumnVisibleAfterUnGroup:!1,treeData:!1,rowGroupPanelSuppressSort:!1,suppressGroupRowsSticky:!1,rowModelType:"clientSide",asyncTransactionWaitMillis:50,suppressModelUpdateAfterUpdateTransaction:!1,cacheOverflowSize:1,infiniteInitialRowCount:1,serverSideInitialRowCount:1,cacheBlockSize:100,maxBlocksInCache:-1,maxConcurrentDatasourceRequests:2,blockLoadDebounceMillis:0,purgeClosedRowNodes:!1,serverSideSortAllLevels:!1,serverSideOnlyRefreshFilteredGroups:!1,serverSidePivotResultFieldSeparator:"_",viewportRowModelPageSize:5,viewportRowModelBufferSize:5,alwaysShowHorizontalScroll:!1,alwaysShowVerticalScroll:!1,debounceVerticalScrollbar:!1,suppressHorizontalScroll:!1,suppressScrollOnNewData:!1,suppressScrollWhenPopupsAreOpen:!1,suppressAnimationFrame:!1,suppressMiddleClickScrolls:!1,suppressPreventDefaultOnMouseWheel:!1,rowMultiSelectWithClick:!1,suppressRowDeselection:!1,suppressRowClickSelection:!1,suppressCellFocus:!1,suppressHeaderFocus:!1,suppressMultiRangeSelection:!1,enableCellTextSelection:!1,enableRangeSelection:!1,enableRangeHandle:!1,enableFillHandle:!1,fillHandleDirection:"xy",suppressClearOnFillReduction:!1,accentedSort:!1,unSortIcon:!1,suppressMultiSort:!1,alwaysMultiSort:!1,suppressMaintainUnsortedOrder:!1,suppressRowHoverHighlight:!1,suppressRowTransform:!1,columnHoverHighlight:!1,deltaSort:!1,enableGroupEdit:!1,groupLockGroupColumns:0,serverSideEnableClientSideSort:!1,suppressServerSideFullWidthLoadingRow:!1,pivotMaxGeneratedColumns:-1,columnMenu:"new",reactiveCustomComponents:!0,suppressSetFilterByDefault:!1,rowNumbers:!1,enableFilterHandlers:!1};function cL(e,t,n){null==n||"string"===typeof n&&""==n?hL(e,t):dL(e,t,n)}function dL(e,t,n){e.setAttribute(pL(t),n.toString())}function hL(e,t){e.removeAttribute(pL(t))}function pL(e){return"aria-".concat(e)}function gL(e,t){t?e.setAttribute("role",t):e.removeAttribute("role")}function mL(e,t){cL(e,"label",t)}function vL(e,t){cL(e,"labelledby",t)}function fL(e,t){cL(e,"describedby",t)}function wL(e,t){cL(e,"live",t)}function CL(e,t){cL(e,"invalid",t)}function bL(e,t){cL(e,"level",t)}function yL(e,t){cL(e,"disabled",t)}function SL(e,t){cL(e,"hidden",t)}function xL(e,t){cL(e,"activedescendant",t)}function DL(e,t){dL(e,"expanded",t)}function EL(e){hL(e,"expanded")}function FL(e,t){dL(e,"setsize",t)}function kL(e,t){dL(e,"posinset",t)}function AL(e,t){dL(e,"rowcount",t)}function RL(e,t){dL(e,"rowindex",t)}function PL(e,t){dL(e,"colcount",t)}function TL(e,t){dL(e,"colindex",t)}function _L(e,t){dL(e,"colspan",t)}function ML(e,t){dL(e,"sort",t)}function IL(e){hL(e,"sort")}function LL(e,t){cL(e,"selected",t)}function NL(e,t){dL(e,"checked",void 0===t?"mixed":t)}function BL(e,t){cL(e,"controls",t)}function OL(e,t){BL(e,t.id),vL(t,e.id)}function GL(e,t){cL(e,"owns",t)}function zL(e,t){return void 0===t?e("ariaIndeterminate","indeterminate"):!0===t?e("ariaChecked","checked"):e("ariaUnchecked","unchecked")}function VL(){return void 0===nL&&(nL=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)),nL}function HL(){return void 0===iL&&(iL=/(firefox)/i.test(navigator.userAgent)),iL}function jL(){return void 0===oL&&(oL=/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)),oL}function WL(){return void 0===rL&&(rL=/iPad|iPhone|iPod/.test(navigator.platform)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1),rL}function UL(e){if(!e)return null;const t=e.tabIndex,n=e.getAttribute("tabIndex");return-1!==t||null!==n&&(""!==n||HL())?t.toString():null}function KL(){const e=document.body,t=document.createElement("div");t.style.width=t.style.height="100px",t.style.opacity="0",t.style.overflow="scroll",t.style.msOverflowStyle="scrollbar",t.style.position="absolute",e.appendChild(t);let n=t.offsetWidth-t.clientWidth;0===n&&0===t.clientWidth&&(n=null),t.parentNode&&t.parentNode.removeChild(t),null!=n&&(aL=n,sL=0===n)}function qL(){return null==sL&&KL(),sL}function YL(e,t,n){const i=e.parentElement;let o=i&&i.firstChild;for(;o;)t&&o.classList.toggle(t,o===e),n&&o.classList.toggle(n,o!==e),o=o.nextSibling}var ZL="[disabled], .ag-disabled:not(.ag-button), .ag-disabled *";function $L(e){const t=Element.prototype.matches||Element.prototype.msMatchesSelector,n=t.call(e,"input, select, button, textarea"),i=t.call(e,ZL),o=hN(e);return n&&!i&&o}function XL(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{skipAriaHidden:i}=n;e.classList.toggle("ag-hidden",!t),i||SL(e,!t)}function QL(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{skipAriaHidden:i}=n;e.classList.toggle("ag-invisible",!t),i||SL(e,!t)}function JL(e,t){var n;const i="disabled",o=t?e=>e.setAttribute(i,""):e=>e.removeAttribute(i);o(e);const r=null!==(n=e.querySelectorAll("input"))&&void 0!==n?n:[];for(const s of r)o(s)}function eN(e,t,n){let i=0;for(;e;){if(e.classList.contains(t))return!0;if(e=e.parentElement,"number"==typeof n){if(++i>n)break}else if(e===n)break}return!1}function tN(e){const{height:t,width:n,borderTopWidth:i,borderRightWidth:o,borderBottomWidth:r,borderLeftWidth:s,paddingTop:a,paddingRight:l,paddingBottom:u,paddingLeft:c,marginTop:d,marginRight:h,marginBottom:p,marginLeft:g,boxSizing:m}=window.getComputedStyle(e);return{height:parseFloat(t||"0"),width:parseFloat(n||"0"),borderTopWidth:parseFloat(i||"0"),borderRightWidth:parseFloat(o||"0"),borderBottomWidth:parseFloat(r||"0"),borderLeftWidth:parseFloat(s||"0"),paddingTop:parseFloat(a||"0"),paddingRight:parseFloat(l||"0"),paddingBottom:parseFloat(u||"0"),paddingLeft:parseFloat(c||"0"),marginTop:parseFloat(d||"0"),marginRight:parseFloat(h||"0"),marginBottom:parseFloat(p||"0"),marginLeft:parseFloat(g||"0"),boxSizing:m}}function nN(e){const t=tN(e);return"border-box"===t.boxSizing?t.height-t.paddingTop-t.paddingBottom:t.height}function iN(e){const t=tN(e);return"border-box"===t.boxSizing?t.width-t.paddingLeft-t.paddingRight:t.width}function oN(e){const{height:t,marginBottom:n,marginTop:i}=tN(e);return Math.floor(t+n+i)}function rN(e){const{width:t,marginLeft:n,marginRight:i}=tN(e);return Math.floor(t+n+i)}function sN(e){const t=e.getBoundingClientRect(),{borderTopWidth:n,borderLeftWidth:i,borderRightWidth:o,borderBottomWidth:r}=tN(e);return{top:t.top+(n||0),left:t.left+(i||0),right:t.right+(o||0),bottom:t.bottom+(r||0)}}function aN(e,t){let n=e.scrollLeft;return t&&(n=Math.abs(n)),n}function lN(e,t,n){n&&(t*=-1),e.scrollLeft=t}function uN(e){for(;e&&e.firstChild;)e.removeChild(e.firstChild)}function cN(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function dN(e){return!!e.offsetParent}function hN(e){const t=e;if(t.checkVisibility)return t.checkVisibility({checkVisibilityCSS:!0});return!(!dN(e)||"visible"!==window.getComputedStyle(e).visibility)}function pN(e){const t=document.createElement("div");return t.innerHTML=(e||"").trim(),t.firstChild}function gN(e,t,n){n&&n.nextSibling===t||(e.firstChild?n?n.nextSibling?e.insertBefore(t,n.nextSibling):e.appendChild(t):e.firstChild&&e.firstChild!==t&&e.insertAdjacentElement("afterbegin",t):e.appendChild(t))}function mN(e,t){for(let n=0;n<t.length;n++){const i=t[n],o=e.children[n];o!==i&&e.insertBefore(i,o)}}function vN(e){return e.replace(/[A-Z]/g,e=>"-".concat(e.toLocaleLowerCase()))}function fN(e,t){if(t)for(const n of Object.keys(t)){const i=t[n];if(!n||!n.length||null==i)continue;const o=vN(n),r=i.toString(),s=r.replace(/\s*!important/g,""),a=s.length!=r.length?"important":void 0;e.style.setProperty(o,s,a)}}function wN(e){return()=>{const t=e();return!t||(CN(t)||bN(t))}}function CN(e){return e.clientWidth<e.scrollWidth}function bN(e){return e.clientHeight<e.scrollHeight}function yN(e,t){"flex"===t?(e.style.removeProperty("width"),e.style.removeProperty("minWidth"),e.style.removeProperty("maxWidth"),e.style.flex="1 1 auto"):SN(e,t)}function SN(e,t){t=DN(t),e.style.width=t,e.style.maxWidth=t,e.style.minWidth=t}function xN(e,t){t=DN(t),e.style.height=t,e.style.maxHeight=t,e.style.minHeight=t}function DN(e){return"number"===typeof e?"".concat(e,"px"):e}function EN(e){return e instanceof Node||e instanceof HTMLElement}function FN(e,t,n){null==n||""===n?e.removeAttribute(t):e.setAttribute(t,n.toString())}function kN(e,t,n){const i=bB(e).ResizeObserver,o=i?new i(n):null;return null===o||void 0===o||o.observe(t),()=>null===o||void 0===o?void 0:o.disconnect()}function AN(e,t){if(!e.gos.get("enableCellTextSelection"))return t();if(!HL()&&!VL())return t();const{selection:n,ranges:i}=function(e){const t=yB(e),n="getSelection"in t?t.getSelection():null,i=[];for(let r=0;r<(null!==(o=null===n||void 0===n?void 0:n.rangeCount)&&void 0!==o?o:0);r++){var o;const e=null===n||void 0===n?void 0:n.getRangeAt(r);e&&i.push(e)}return{selection:n,ranges:i}}(e);t(),null===n||void 0===n||n.removeAllRanges();for(const o of i)null===n||void 0===n||n.addRange(o)}function RN(e,t){const n=bB(e);n.requestAnimationFrame?n.requestAnimationFrame(t):n.webkitRequestAnimationFrame?n.webkitRequestAnimationFrame(t):n.setTimeout(t,0)}var PN,TN="data-ref";function _N(){return null!==PN&&void 0!==PN||(PN=document.createTextNode(" ")),PN.cloneNode()}function MN(e){const{attrs:t,children:n,cls:i,ref:o,role:r,tag:s}=e,a=document.createElement(s);if(i&&(a.className=i),o&&a.setAttribute(TN,o),r&&a.setAttribute("role",r),t)for(const l of Object.keys(t))a.setAttribute(l,t[l]);if(n)if("string"===typeof n)a.textContent=n;else{let e=!0;for(const t of n)t&&("string"===typeof t?(a.appendChild(document.createTextNode(t)),e=!1):"function"===typeof t?a.appendChild(t()):(e&&(a.appendChild(_N()),e=!1),a.append(MN(t)),a.appendChild(_N())))}return a}var IN={};function LN(e,t){IN[t]||(e(),IN[t]=!0)}function NN(e,t){if(e.get("debug")){for(var n=arguments.length,i=new Array(n>2?n-2:0),o=2;o<n;o++)i[o-2]=arguments[o];console.log("AG Grid: "+t,...i)}}function BN(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];LN(()=>console.warn("AG Grid: "+e,...n),e+(null===n||void 0===n?void 0:n.join("")))}function ON(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];LN(()=>console.error("AG Grid: "+e,...n),e+(null===n||void 0===n?void 0:n.join("")))}var GN={pending:!1,funcs:[]},zN={pending:!1,funcs:[]};function VN(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"setTimeout",n=arguments.length>2?arguments[2]:void 0;const i="raf"===t?zN:GN;if(i.funcs.push(e),i.pending)return;i.pending=!0;const o=()=>{const e=i.funcs.slice();i.funcs.length=0,i.pending=!1,e.forEach(e=>e())};"raf"===t?RN(n,o):window.setTimeout(o,0)}function HN(e,t,n){let i;return function(){for(var o=arguments.length,r=new Array(o),s=0;s<o;s++)r[s]=arguments[s];const a=this;window.clearTimeout(i),i=window.setTimeout(function(){e.isAlive()&&t.apply(a,r)},n)}}function jN(e,t){let n=0;return function(){const i=Date.now();if(!(i-n<t)){n=i;for(var o=arguments.length,r=new Array(o),s=0;s<o;s++)r[s]=arguments[s];e.apply(this,r)}}}function WN(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100,i=arguments.length>3?arguments[3]:void 0;const o=Date.now();let r=null,s=!1;const a=()=>{const a=Date.now()-o>n;(e()||a)&&(t(),s=!0,null!=r&&(window.clearInterval(r),r=null),a&&i&&BN(i))};a(),s||(r=window.setInterval(a,10))}var UN="https://www.ag-grid.com",KN="34.1.2",qN="_version_",YN=null,ZN="".concat(UN,"/javascript-data-grid");function $N(e,t,n){var i,o;return null!==(i=null===(o=YN)||void 0===o?void 0:o.getConsoleMessage(e,t))&&void 0!==i?i:[nB(e,t,n)]}function XN(e,t,n,i){e("error #".concat(t),...$N(t,n,i))}function QN(e){let t=e;return e instanceof Error?t=e.toString():"object"===typeof e&&(t=function(e){if(!e)return String(e);const t={};for(const n of Object.keys(e))"object"!==typeof e[n]&&"function"!==typeof e[n]&&(t[n]=e[n]);return JSON.stringify(t)}(e)),t}function JN(e){return void 0===e?"undefined":null===e?"null":e}function eB(e,t){return"".concat(e,"?").concat(t.toString())}function tB(e,t){const n=new URLSearchParams;if(n.append(qN,KN),t)for(const r of Object.keys(t))n.append(r,QN(t[r]));const i="".concat(ZN,"/errors/").concat(e),o=eB(i,n);return o.length<=2e3?o:function(e,t,n){const i=Array.from(t.entries()).sort((e,t)=>t[1].length-e[1].length);let o=eB(e,t);for(const[r,s]of i){if(r===qN)continue;const i=o.length-n;if(i<=0)break;const a="...",l=i+a.length,u=s.length-l>100?s.slice(0,s.length-l)+a:s.slice(0,100)+a;t.set(r,u),o=eB(e,t)}return o}(i,n,2e3)}var nB=(e,t,n)=>{const i=tB(e,t);return"".concat(n?n+" \n":"","Visit ").concat(i).concat(n?"":" \n  Alternatively register the ValidationModule to see the full message in the console.")};function iB(){XN(BN,arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1])}function oB(){XN(ON,arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1])}function rB(e,t,n){XN(ON,e,t,n)}function sB(e,t){const n=t[0];return"error #".concat(n," ")+$N(n,t[1],e).join(" ")}function aB(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return sB(void 0,t)}function lB(e,t){return e.get("rowModelType")===t}function uB(e,t){return lB(e,"clientSide")}function cB(e,t){return lB(e,"serverSide")}function dB(e,t){return e.get("domLayout")===t}function hB(e){return void 0!==YB(e)}function pB(e){return"function"===typeof e.get("getRowHeight")}function gB(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3?arguments[3]:void 0;const{gos:o,environment:r}=e;if(null==i&&(i=r.getDefaultRowHeight()),pB(o)){if(n)return{height:i,estimated:!0};const e={node:t,data:t.data},r=o.getCallback("getRowHeight")(e);if(vB(r))return 0===r&&iB(23),{height:Math.max(1,r),estimated:!1}}if(t.detail&&o.get("masterDetail"))return function(e){if(e.get("detailRowAutoHeight"))return{height:1,estimated:!1};const t=e.get("detailRowHeight");if(vB(t))return{height:t,estimated:!1};return{height:300,estimated:!1}}(o);const s=o.get("rowHeight");return{height:s&&vB(s)?s:i,estimated:!1}}function mB(e){const{environment:t,gos:n}=e,i=n.get("rowHeight");if(!i||KI(i))return t.getDefaultRowHeight();const o=t.refreshRowHeightVariable();return-1!==o?o:(iB(24),t.getDefaultRowHeight())}function vB(e){return!isNaN(e)&&"number"===typeof e&&isFinite(e)}function fB(e,t,n){const i=t[e.getDomDataKey()];return i?i[n]:void 0}function wB(e,t,n,i){const o=e.getDomDataKey();let r=t[o];KI(r)&&(r={},t[o]=r),r[n]=i}function CB(e){const{gos:t,eGridDiv:n}=e;let i=null;const o=t.get("getDocument");return o&&UI(o)?i=o():n&&(i=n.ownerDocument),i&&UI(i)?i:document}function bB(e){return CB(e).defaultView||window}function yB(e){return e.eGridDiv.getRootNode()}function SB(e){return yB(e).activeElement}function xB(e){let t=null,n=null;try{t=CB(e).fullscreenElement}catch(nce){}finally{t||(t=yB(e));const o=t.querySelector("body");if(o)n=o;else if(t instanceof ShadowRoot)n=t;else if(t instanceof Document){var i;n=null===(i=t)||void 0===i?void 0:i.documentElement}else n=t}return n}function DB(e,t,n){const i=e.getBoundingClientRect().height,o=function(e){var t;const n=xB(e);return null!==(t=null===n||void 0===n?void 0:n.clientWidth)&&void 0!==t?t:window.innerWidth||-1}(n)-2,r=function(e){var t;const n=xB(e);return null!==(t=null===n||void 0===n?void 0:n.clientHeight)&&void 0!==t?t:window.innerHeight||-1}(n)-2;if(!e.offsetParent)return;const s=sN(e.offsetParent),{clientY:a,clientX:l}=t;let u=a-s.top-i/2,c=l-s.left-10;const d=CB(n),h=d.defaultView||window,p=h.pageYOffset||d.documentElement.scrollTop,g=h.pageXOffset||d.documentElement.scrollLeft;o>0&&c+e.clientWidth>o+g&&(c=o+g-e.clientWidth),c<0&&(c=0),r>0&&u+e.clientHeight>r+p&&(u=r+p-e.clientHeight),u<0&&(u=0),e.style.left="".concat(c,"px"),e.style.top="".concat(u,"px")}function EB(e){const t=SB(e);return null===t||t===CB(e).body}function FB(e){return!e.get("ensureDomOrder")&&e.get("animateRows")}function kB(e){return!(e.get("paginateChildRows")||e.get("groupHideOpenParents")||dB(e,"print"))}function AB(e){const t=e.get("autoGroupColumnDef");return!(null!==t&&void 0!==t&&t.comparator)&&!e.get("treeData")}function RB(e){const t=e.get("groupAggFiltering");return"function"===typeof t?e.getCallback("groupAggFiltering"):!0===t?()=>!0:void 0}function PB(e){return e.get("grandTotalRow")}function TB(e){const t=e.get("groupTotalRow");return"function"===typeof t?e.getCallback("groupTotalRow"):()=>null!==t&&void 0!==t?t:void 0}function _B(e){return!!e.get("groupHideOpenParents")||"multipleColumns"===e.get("groupDisplayType")}function MB(e,t){return!t&&"groupRows"===e.get("groupDisplayType")}function IB(e,t,n){return!!t.group&&!t.footer&&MB(e,n)}function LB(e){const t=e.getCallback("getRowId");return void 0===t?t:e=>{let n=t(e);return"string"!==typeof n&&(LN(()=>iB(25,{id:n}),"getRowIdString"),n=String(n)),n}}function NB(e){const t=e.get("maxConcurrentDatasourceRequests");return t>0?t:void 0}function BB(e,t){const n=e.get("suppressGroupChangesColumnVisibility");if(!0===n)return!1;if(t&&"suppressHideOnGroup"===n)return!1;if(!t&&"suppressShowOnUngroup"===n)return!1;const i=e.get("suppressRowGroupHidesColumns");if(t&&!0===i)return!1;const o=e.get("suppressMakeColumnVisibleAfterUnGroup");return!(!t&&!0===o)}function OB(e){var t;return null===(t=null===e||void 0===e?void 0:e.checkboxes)||void 0===t||t}function GB(e){var t;return"multiRow"===(null===e||void 0===e?void 0:e.mode)&&(null===(t=e.headerCheckbox)||void 0===t||t)}function zB(e){var t;if("object"===typeof e)return null!==(t=e.checkboxLocation)&&void 0!==t?t:"selectionColumn"}function VB(e){var t;return null!==(t=null===e||void 0===e?void 0:e.hideDisabledCheckboxes)&&void 0!==t&&t}function HB(e){return"string"!==typeof e.get("rowSelection")}function jB(e){var t;const n=e.get("cellSelection");return void 0!==n?"boolean"!==typeof n&&(null!==(t=null===n||void 0===n?void 0:n.suppressMultiRanges)&&void 0!==t&&t):e.get("suppressMultiRangeSelection")}function WB(e){const t=e.get("cellSelection");return void 0!==t?!!t:e.get("enableRangeSelection")}function UB(e){var t;const n=e.get("cellSelection");return void 0!==n?"boolean"!==typeof n&&"fill"===(null===(t=n.handle)||void 0===t?void 0:t.mode)?n.handle:void 0:{mode:"fill",setFillValue:e.get("fillOperation"),direction:e.get("fillHandleDirection"),suppressClearOnFillReduction:e.get("suppressClearOnFillReduction")}}function KB(e){var t,n;const i=null!==(t=e.get("rowSelection"))&&void 0!==t?t:"single";if("string"===typeof i){const t=e.get("suppressRowClickSelection"),n=e.get("suppressRowDeselection");return(!t||!n)&&(t?"enableDeselection":!n||"enableSelection")}return("singleRow"===i.mode||"multiRow"===i.mode)&&(null!==(n=i.enableClickSelection)&&void 0!==n&&n)}function qB(e){const t=e.get("rowSelection");return"string"===typeof t?e.get("isRowSelectable"):null===t||void 0===t?void 0:t.isRowSelectable}function YB(e){const t="beanName"in e&&"gos"===e.beanName?e.get("rowSelection"):e.rowSelection;if("string"===typeof t)switch(t){case"multiple":return"multiRow";case"single":return"singleRow";default:return}switch(null===t||void 0===t?void 0:t.mode){case"multiRow":case"singleRow":return t.mode;default:return}}function ZB(e){return"multiRow"===YB(e)}function $B(e){const t=e.get("rowSelection");if("string"===typeof t){const t=e.get("groupSelectsChildren"),n=e.get("groupSelectsFiltered");return t&&n?"filteredDescendants":t?"descendants":"self"}return"multiRow"===(null===t||void 0===t?void 0:t.mode)?t.groupSelects:void 0}function XB(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=e.get("rowSelection");return"object"!==typeof n?t?"all":void 0:"multiRow"===n.mode?n.selectAll:"all"}function QB(e){const t=$B(e);return"descendants"===t||"filteredDescendants"===t}function JB(e){const t=e.get("rowSelection");return"object"===typeof t&&t.masterSelects||"self"}function eO(e){return e.isModuleRegistered("SetFilter")&&!e.get("suppressSetFilterByDefault")}function tO(e){return"legacy"===e.get("columnMenu")}function nO(e){return!tO(e)}function iO(e,t){return e.addGridCommonParams(t)}function oO(e){return e.get("treeData")?e.get("treeDataParentIdField")?"treeSelfRef":e.get("treeDataChildrenField")?"treeNested":"treePath":"group"}function rO(e,t){var n,i,o,r;return null!==(n=null!==(i=null!==(o=e[t])&&void 0!==o?o:null===(r=e.gridOptions)||void 0===r?void 0:r[t])&&void 0!==i?i:function(e){var t;return null===(t=tL.gridOptions)||void 0===t?void 0:t[e]}(t))&&void 0!==n?n:uL[t]}var sO="__ag_Grid_Stop_Propagation",aO=["touchstart","touchend","touchmove","touchcancel","scroll"],lO=["wheel"],uO={};function cO(e){e[sO]=!0}function dO(e){return!0===e[sO]}var hO=(()=>{const e={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return t=>{if("boolean"===typeof uO[t])return uO[t];const n=document.createElement(e[t]||"div");return uO[t="on"+t]=t in n}})();function pO(e,t,n){let i=t;for(;i;){const t=fB(e,i,n);if(t)return t;i=i.parentElement}return null}function gO(e,t){return!(!t||!e)&&function(e){const t=e;if(t.path)return t.path;if(t.composedPath)return t.composedPath();return function(e){const t=[];let n=e.target;for(;n;)t.push(n),n=n.parentElement;return t}(t)}(t).indexOf(e)>=0}var mO=e=>{const t=aO.includes(e),n=lO.includes(e);return!!t||!n&&void 0},vO=class{constructor(){this.destroyFunctions=[],this.destroyed=!1,this.__v_skip=!0,this.propertyListenerId=0,this.lastChangeSetIdLookup={},this.isAlive=()=>!this.destroyed}preWireBeans(e){this.beans=e,this.stubContext=e.context,this.eventSvc=e.eventSvc,this.gos=e.gos}destroy(){const{destroyFunctions:e}=this;for(let t=0;t<e.length;t++)e[t]();e.length=0,this.destroyed=!0,this.dispatchLocalEvent({type:"destroyed"})}addEventListener(e,t,n){this.localEventService||(this.localEventService=new zI),this.localEventService.addEventListener(e,t,n)}removeEventListener(e,t,n){var i;null===(i=this.localEventService)||void 0===i||i.removeEventListener(e,t,n)}dispatchLocalEvent(e){var t;null===(t=this.localEventService)||void 0===t||t.dispatchEvent(e)}addManagedElementListeners(e,t){return this._setupListeners(e,t)}addManagedEventListeners(e){return this._setupListeners(this.eventSvc,e)}addManagedListeners(e,t){return this._setupListeners(e,t)}_setupListeners(e,t){const n=[];for(const i of Object.keys(t)){const o=t[i];o&&n.push(this._setupListener(e,i,o))}return n}_setupListener(e,t,n){if(this.destroyed)return()=>null;let i;return!function(e){return void 0!==e.__addEventListener}(e)?(e instanceof HTMLElement?function(e,t,n,i){const o=mO(n);let r;null!=o&&(r={passive:o}),e&&e.addEventListener&&e.addEventListener(t,n,i,r)}(this.beans.frameworkOverrides,e,t,n):e.addEventListener(t,n),i=()=>(e.removeEventListener(t,n),null)):(e.__addEventListener(t,n),i=()=>(e.__removeEventListener(t,n),null)),this.destroyFunctions.push(i),()=>(i(),this.destroyFunctions=this.destroyFunctions.filter(e=>e!==i),null)}setupGridOptionListener(e,t){const{gos:n}=this;n.addPropertyEventListener(e,t);const i=()=>(n.removePropertyEventListener(e,t),null);return this.destroyFunctions.push(i),()=>(i(),this.destroyFunctions=this.destroyFunctions.filter(e=>e!==i),null)}addManagedPropertyListener(e,t){return this.destroyed?()=>null:this.setupGridOptionListener(e,t)}addManagedPropertyListeners(e,t){if(this.destroyed)return;const n=e.join("-")+this.propertyListenerId++,i=e=>{if(e.changeSet){if(e.changeSet&&e.changeSet.id===this.lastChangeSetIdLookup[n])return;this.lastChangeSetIdLookup[n]=e.changeSet.id}const i={type:"gridPropertyChanged",changeSet:e.changeSet,source:e.source};t(i)};e.forEach(e=>this.setupGridOptionListener(e,i))}getLocaleTextFunc(){return HI(this.beans.localeSvc)}addDestroyFunc(e){this.isAlive()?this.destroyFunctions.push(e):e()}createOptionalManagedBean(e,t){return e?this.createManagedBean(e,t):void 0}createManagedBean(e,t){const n=this.createBean(e,t);return this.addDestroyFunc(this.destroyBean.bind(this,e,t)),n}createBean(e,t,n){return(t||this.stubContext).createBean(e,n)}destroyBean(e,t){return(t||this.stubContext).destroyBean(e)}destroyBeans(e,t){return(t||this.stubContext).destroyBeans(e)}};var fO=/[&<>"']/g,wO={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function CO(e){var t;return null!==(t=null===e||void 0===e?void 0:e.toString().toString())&&void 0!==t?t:null}function bO(e){var t,n;return null!==(t=null===(n=CO(e))||void 0===n?void 0:n.replace(fO,e=>wO[e]))&&void 0!==t?t:null}var yO={resizable:!0,sortable:!0},SO=0;function xO(){return SO++}function DO(e){return e instanceof EO}var EO=class extends vO{constructor(e,t,n,i){super(),this.colDef=e,this.userProvidedColDef=t,this.colId=n,this.primary=i,this.isColumn=!0,this.instanceId=xO(),this.autoHeaderHeight=null,this.moving=!1,this.resizing=!1,this.menuVisible=!1,this.lastLeftPinned=!1,this.firstRightPinned=!1,this.filterActive=!1,this.colEventSvc=new zI,this.tooltipEnabled=!1,this.rowGroupActive=!1,this.pivotActive=!1,this.aggregationActive=!1,this.flex=null,this.colIdSanitised=bO(n)}destroy(){var e;super.destroy(),null===(e=this.beans.rowSpanSvc)||void 0===e||e.deregister(this)}getInstanceId(){return this.instanceId}setState(){const{colDef:e,beans:{sortSvc:t,pinnedCols:n,colFlex:i}}=this;null===t||void 0===t||t.initCol(this);const o=e.hide;this.visible=void 0!==o?!o:!e.initialHide,null===n||void 0===n||n.initCol(this),null===i||void 0===i||i.initCol(this)}setColDef(e,t,n){const i=e.spanRows!==this.colDef.spanRows;var o;(this.colDef=e,this.userProvidedColDef=t,this.initMinAndMaxWidths(),this.initDotNotation(),this.initTooltip(),i)&&(null===(o=this.beans.rowSpanSvc)||void 0===o||o.deregister(this),this.initRowSpan());this.dispatchColEvent("colDefChanged",n)}getUserProvidedColDef(){return this.userProvidedColDef}getParent(){return this.parent}getOriginalParent(){return this.originalParent}postConstruct(){this.setState(),this.initMinAndMaxWidths(),this.resetActualWidth("gridInitializing"),this.initDotNotation(),this.initTooltip(),this.initRowSpan(),this.addPivotListener()}initDotNotation(){const{gos:e,colDef:{field:t,tooltipField:n}}=this,i=e.get("suppressFieldDotNotation");this.fieldContainsDots=UI(t)&&t.indexOf(".")>=0&&!i,this.tooltipFieldContainsDots=UI(n)&&n.indexOf(".")>=0&&!i}initMinAndMaxWidths(){var e,t;const n=this.colDef;this.minWidth=null!==(e=n.minWidth)&&void 0!==e?e:this.beans.environment.getDefaultColumnMinWidth(),this.maxWidth=null!==(t=n.maxWidth)&&void 0!==t?t:Number.MAX_SAFE_INTEGER}initTooltip(){var e;null===(e=this.beans.tooltipSvc)||void 0===e||e.initCol(this)}initRowSpan(){var e;this.colDef.spanRows&&(null===(e=this.beans.rowSpanSvc)||void 0===e||e.register(this))}addPivotListener(){const e=this.beans.pivotColDefSvc,t=this.colDef.pivotValueColumn;e&&t&&this.addManagedListeners(t,{colDefChanged:t=>{const n=e.recreateColDef(this.colDef);this.setColDef(n,n,t.source)}})}resetActualWidth(e){const t=this.calculateColInitialWidth(this.colDef);this.setActualWidth(t,e,!0)}calculateColInitialWidth(e){let t;const n=e.width,i=e.initialWidth;return t=null!=n?n:null!=i?i:200,Math.max(Math.min(t,this.maxWidth),this.minWidth)}isEmptyGroup(){return!1}isRowGroupDisplayed(e){var t,n;return null!==(t=null===(n=this.beans.showRowGroupCols)||void 0===n?void 0:n.isRowGroupDisplayed(this,e))&&void 0!==t&&t}isPrimary(){return this.primary}isFilterAllowed(){return!!this.colDef.filter}isFieldContainsDots(){return this.fieldContainsDots}isTooltipEnabled(){return this.tooltipEnabled}isTooltipFieldContainsDots(){return this.tooltipFieldContainsDots}getHighlighted(){return this.highlighted}__addEventListener(e,t){this.colEventSvc.addEventListener(e,t)}__removeEventListener(e,t){this.colEventSvc.removeEventListener(e,t)}addEventListener(e,t){var n,i,o,r;this.frameworkEventListenerService=null===(n=(i=this.beans.frameworkOverrides).createLocalEventListenerWrapper)||void 0===n?void 0:n.call(i,this.frameworkEventListenerService,this.colEventSvc);const s=null!==(o=null===(r=this.frameworkEventListenerService)||void 0===r?void 0:r.wrap(e,t))&&void 0!==o?o:t;this.colEventSvc.addEventListener(e,s)}removeEventListener(e,t){var n,i;const o=null!==(n=null===(i=this.frameworkEventListenerService)||void 0===i?void 0:i.unwrap(e,t))&&void 0!==n?n:t;this.colEventSvc.removeEventListener(e,o)}createColumnFunctionCallbackParams(e){return iO(this.gos,{node:e,data:e.data,column:this,colDef:this.colDef})}isSuppressNavigable(e){var t,n;return null!==(t=null===(n=this.beans.cellNavigation)||void 0===n?void 0:n.isSuppressNavigable(this,e))&&void 0!==t&&t}isCellEditable(e){var t,n;return null!==(t=null===(n=this.beans.editSvc)||void 0===n?void 0:n.isCellEditable({rowNode:e,column:this}))&&void 0!==t&&t}isSuppressFillHandle(){return!!this.colDef.suppressFillHandle}isAutoHeight(){return!!this.colDef.autoHeight}isAutoHeaderHeight(){return!!this.colDef.autoHeaderHeight}isRowDrag(e){return this.isColumnFunc(e,this.colDef.rowDrag)}isDndSource(e){return this.isColumnFunc(e,this.colDef.dndSource)}isCellCheckboxSelection(e){var t,n;return null!==(t=null===(n=this.beans.selectionSvc)||void 0===n?void 0:n.isCellCheckboxSelection(this,e))&&void 0!==t&&t}isSuppressPaste(e){var t,n;return this.isColumnFunc(e,null!==(t=null===(n=this.colDef)||void 0===n?void 0:n.suppressPaste)&&void 0!==t?t:null)}isResizable(){return!!this.getColDefValue("resizable")}getColDefValue(e){var t;return null!==(t=this.colDef[e])&&void 0!==t?t:yO[e]}isColumnFunc(e,t){if("boolean"===typeof t)return t;if("function"===typeof t){return t(this.createColumnFunctionCallbackParams(e))}return!1}createColumnEvent(e,t){return iO(this.gos,{type:e,column:this,columns:[this],source:t})}isMoving(){return this.moving}getSort(){return this.sort}isSortable(){return!!this.getColDefValue("sortable")}isSortAscending(){return"asc"===this.sort}isSortDescending(){return"desc"===this.sort}isSortNone(){return KI(this.sort)}isSorting(){return UI(this.sort)}getSortIndex(){return this.sortIndex}isMenuVisible(){return this.menuVisible}getAggFunc(){return this.aggFunc}getLeft(){return this.left}getOldLeft(){return this.oldLeft}getRight(){return this.left+this.actualWidth}setLeft(e,t){this.oldLeft=this.left,this.left!==e&&(this.left=e,this.dispatchColEvent("leftChanged",t))}isFilterActive(){return this.filterActive}isHovered(){var e;return iB(261),!(null===(e=this.beans.colHover)||void 0===e||!e.isHovered(this))}setFirstRightPinned(e,t){this.firstRightPinned!==e&&(this.firstRightPinned=e,this.dispatchColEvent("firstRightPinnedChanged",t))}setLastLeftPinned(e,t){this.lastLeftPinned!==e&&(this.lastLeftPinned=e,this.dispatchColEvent("lastLeftPinnedChanged",t))}isFirstRightPinned(){return this.firstRightPinned}isLastLeftPinned(){return this.lastLeftPinned}isPinned(){return"left"===this.pinned||"right"===this.pinned}isPinnedLeft(){return"left"===this.pinned}isPinnedRight(){return"right"===this.pinned}getPinned(){return this.pinned}setVisible(e,t){const n=!0===e;this.visible!==n&&(this.visible=n,this.dispatchColEvent("visibleChanged",t)),this.dispatchStateUpdatedEvent("hide")}isVisible(){return this.visible}isSpanHeaderHeight(){return!this.getColDef().suppressSpanHeaderHeight}getFirstRealParent(){let e=this.getOriginalParent();for(;e&&e.isPadding();)e=e.getOriginalParent();return e}getColumnGroupPaddingInfo(){let e=this.getParent();if(!e||!e.isPadding())return{numberOfParents:0,isSpanningTotal:!1};const t=e.getPaddingLevel()+1;let n=!0;for(;e;){if(!e.isPadding()){n=!1;break}e=e.getParent()}return{numberOfParents:t,isSpanningTotal:n}}getColDef(){return this.colDef}getDefinition(){return this.colDef}getColumnGroupShow(){return this.colDef.columnGroupShow}getColId(){return this.colId}getId(){return this.colId}getUniqueId(){return this.colId}getActualWidth(){return this.actualWidth}getAutoHeaderHeight(){return this.autoHeaderHeight}setAutoHeaderHeight(e){const t=e!==this.autoHeaderHeight;return this.autoHeaderHeight=e,t}createBaseColDefParams(e){return iO(this.gos,{node:e,data:e.data,colDef:this.colDef,column:this})}getColSpan(e){if(KI(this.colDef.colSpan))return 1;const t=this.createBaseColDefParams(e),n=this.colDef.colSpan(t);return Math.max(n,1)}getRowSpan(e){if(KI(this.colDef.rowSpan))return 1;const t=this.createBaseColDefParams(e),n=this.colDef.rowSpan(t);return Math.max(n,1)}setActualWidth(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e=Math.max(e,this.minWidth),e=Math.min(e,this.maxWidth),this.actualWidth!==e&&(this.actualWidth=e,null!=this.flex&&"flex"!==t&&"gridInitializing"!==t&&(this.flex=null),n||this.fireColumnWidthChangedEvent(t)),this.dispatchStateUpdatedEvent("width")}fireColumnWidthChangedEvent(e){this.dispatchColEvent("widthChanged",e)}isGreaterThanMax(e){return e>this.maxWidth}getMinWidth(){return this.minWidth}getMaxWidth(){return this.maxWidth}getFlex(){return this.flex}isRowGroupActive(){return this.rowGroupActive}isPivotActive(){return this.pivotActive}isAnyFunctionActive(){return this.isPivotActive()||this.isRowGroupActive()||this.isValueActive()}isAnyFunctionAllowed(){return this.isAllowPivot()||this.isAllowRowGroup()||this.isAllowValue()}isValueActive(){return this.aggregationActive}isAllowPivot(){return!0===this.colDef.enablePivot}isAllowValue(){return!0===this.colDef.enableValue}isAllowRowGroup(){return!0===this.colDef.enableRowGroup}dispatchColEvent(e,t,n){const i=this.createColumnEvent(e,t);n&&XI(i,n),this.colEventSvc.dispatchEvent(i)}dispatchStateUpdatedEvent(e){this.colEventSvc.dispatchEvent({type:"columnStateUpdated",key:e})}};function FO(e){return e instanceof kO}var kO=class extends vO{constructor(e,t,n,i){super(),this.colGroupDef=e,this.groupId=t,this.padding=n,this.level=i,this.isColumn=!1,this.expandable=!1,this.instanceId=xO(),this.expandableListenerRemoveCallback=null,this.expanded=!(null===e||void 0===e||!e.openByDefault)}destroy(){this.expandableListenerRemoveCallback&&this.reset(null,void 0),super.destroy()}reset(e,t){this.colGroupDef=e,this.level=t,this.originalParent=null,this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback(),this.children=void 0,this.expandable=void 0}getInstanceId(){return this.instanceId}getOriginalParent(){return this.originalParent}getLevel(){return this.level}isVisible(){return!!this.children&&this.children.some(e=>e.isVisible())}isPadding(){return this.padding}setExpanded(e){this.expanded=void 0!==e&&e,this.dispatchLocalEvent({type:"expandedChanged"})}isExpandable(){return this.expandable}isExpanded(){return this.expanded}getGroupId(){return this.groupId}getId(){return this.getGroupId()}setChildren(e){this.children=e}getChildren(){return this.children}getColGroupDef(){return this.colGroupDef}getLeafColumns(){const e=[];return this.addLeafColumns(e),e}forEachLeafColumn(e){if(this.children)for(const t of this.children)DO(t)?e(t):FO(t)&&t.forEachLeafColumn(e)}addLeafColumns(e){this.children&&this.children.forEach(t=>{DO(t)?e.push(t):FO(t)&&t.addLeafColumns(e)})}getColumnGroupShow(){const e=this.colGroupDef;if(e)return e.columnGroupShow}setupExpandable(){this.setExpandable(),this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback();const e=this.onColumnVisibilityChanged.bind(this);this.getLeafColumns().forEach(t=>t.__addEventListener("visibleChanged",e)),this.expandableListenerRemoveCallback=()=>{this.getLeafColumns().forEach(t=>t.__removeEventListener("visibleChanged",e)),this.expandableListenerRemoveCallback=null}}setExpandable(){if(this.isPadding())return;let e=!1,t=!1,n=!1;const i=this.findChildrenRemovingPadding();for(let r=0,s=i.length;r<s;r++){const o=i[r];if(!o.isVisible())continue;const s=o.getColumnGroupShow();"open"===s?(e=!0,n=!0):"closed"===s?(t=!0,n=!0):(e=!0,t=!0)}const o=e&&t&&n;this.expandable!==o&&(this.expandable=o,this.dispatchLocalEvent({type:"expandableChanged"}))}findChildrenRemovingPadding(){const e=[],t=n=>{n.forEach(n=>{FO(n)&&n.isPadding()?t(n.children):e.push(n)})};return t(this.children),e}onColumnVisibilityChanged(){this.setExpandable()}},AO={numericColumn:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"},rightAligned:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"}};function RO(e,t,n){const i={},o=e.gos;return Object.assign(i,o.get("defaultColGroupDef")),Object.assign(i,t),o.validateColDef(i,n),i}var PO=class{constructor(){this.existingKeys={}}addExistingKeys(e){for(let t=0;t<e.length;t++)this.existingKeys[e[t]]=!0}getUniqueKey(e,t){e=qI(e);let n=0;for(;;){let i=null!==e&&void 0!==e?e:t;if(i?0!==n&&(i+="_"+n):i=n,!this.existingKeys[i]){const t=String(i);return e&&n>0&&iB(273,{providedId:e,usedId:t}),this.existingKeys[t]=!0,t}n++}}},TO=Object.freeze([]);function _O(e){if(null!==e&&void 0!==e&&e.length)return e[e.length-1]}function MO(e,t,n){return null==e&&null==t||null!=e&&null!=t&&e.length===t.length&&e.every((e,i)=>n?n(e,t[i]):t[i]===e)}function IO(e,t){if(e)for(const n of e)t(n)}function LO(e,t){const n=e.indexOf(t);n>=0&&e.splice(n,1)}function NO(e,t,n){for(let i=0;i<t.length;i++)LO(e,t[i]);for(let i=t.length-1;i>=0;i--)e.splice(n,0,t[i])}function BO(e){return[].concat.apply([],e)}var OO="ag-Grid-AutoColumn",GO="ag-Grid-SelectionColumn",zO="ag-Grid-RowNumbersColumn";function VO(e){const t=[],n=e=>{for(let i=0;i<e.length;i++){const o=e[i];DO(o)?t.push(o):FO(o)&&n(o.getChildren())}};return n(e),t}function HO(e){return e.reduce((e,t)=>e+t.getActualWidth(),0)}function jO(e,t,n){const i={};if(!t)return;lG(null,t,e=>{i[e.getInstanceId()]=e}),n&&lG(null,n,e=>{i[e.getInstanceId()]=null});const o=Object.values(i).filter(e=>null!=e);e.context.destroyBeans(o)}function WO(e){return e.getId().startsWith(OO)}function UO(e){var t;const n="string"===typeof e?e:"getColId"in e?e.getColId():e.colId;return null!==(t=null===n||void 0===n?void 0:n.startsWith(GO))&&void 0!==t&&t}function KO(e){var t;const n="string"===typeof e?e:"getColId"in e?e.getColId():e.colId;return null!==(t=null===n||void 0===n?void 0:n.startsWith(zO))&&void 0!==t&&t}function qO(e){return UO(e)||KO(e)}function YO(e){let t=[];return e instanceof Array?t=e:"string"===typeof e&&(t=e.split(",")),t}function ZO(e,t){return MO(e,t,(e,t)=>e.getColId()===t.getColId())}function $O(e){e.map={},e.list.forEach(t=>e.map[t.getId()]=t)}function XO(e){return"gridOptionsUpdated"===e?"gridOptionsChanged":e}function QO(e,t){const n=e===t,i=e.getColDef()===t,o=e.getColId()==t;return n||i||o}function JO(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,r=arguments.length>4?arguments[4]:void 0;const{existingCols:s,existingGroups:a}=tG(o),l=new Map(s.map(e=>[e.getId(),e])),u=new Map(a.map(e=>[e.getId(),e]));let c=0;const d=(t,n)=>{var o,s,a;if(c=Math.max(c,n),aG(t)){if(!e.colGroupSvc)return null;const i=t.groupId,o=u.get(i),r=RO(e,t,i),s=new kO(r,i,!1,n);return e.context.createBean(s),o&&s.setExpanded(o.isExpanded()),s.setChildren(t.children.map(e=>d(e,n+1))),s}const h=t.colId;let p=l.get(h);const g=sG(e,t,null!==(o=null===(s=p)||void 0===s?void 0:s.getColId())&&void 0!==o?o:h);return p?(p.setColDef(g,t,r),rG(e,p,g,r)):(p=new EO(g,t,h,i),e.context.createBean(p)),null===(a=e.dataTypeSvc)||void 0===a||a.addColumnListeners(p),p},h=null!==(t=null===n||void 0===n?void 0:n.map(e=>d(e,0)))&&void 0!==t?t:[];let p=0;const g={getUniqueKey:(e,t)=>String(++p)},m=e.colGroupSvc?e.colGroupSvc.balanceColumnTree(h,0,c,g):h;return lG(null,m,(e,t)=>{FO(e)&&e.setupExpandable(),e.originalParent=t}),{columnTree:m,treeDepth:c}}function eG(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,r=arguments.length>4?arguments[4]:void 0;const s=new PO,{existingCols:a,existingGroups:l,existingColKeys:u}=tG(o);s.addExistingKeys(u);const c=nG(e,n,0,i,a,s,l,r),{colGroupSvc:d}=e,h=null!==(t=null===d||void 0===d?void 0:d.findMaxDepth(c,0))&&void 0!==t?t:0,p=d?d.balanceColumnTree(c,0,h,s):c;return lG(null,p,(e,t)=>{FO(e)&&e.setupExpandable(),e.originalParent=t}),{columnTree:p,treeDepth:h}}function tG(e){const t=[],n=[],i=[];return e&&lG(null,e,e=>{if(FO(e)){const t=e;n.push(t)}else{const n=e;i.push(n.getId()),t.push(n)}}),{existingCols:t,existingGroups:n,existingColKeys:i}}function nG(e,t,n,i,o,r,s,a){if(!t)return[];const{colGroupSvc:l}=e,u=new Array(t.length);for(let c=0;c<u.length;c++){const d=t[c];l&&aG(d)?u[c]=l.createProvidedColumnGroup(i,d,n,o,r,s,a):u[c]=iG(e,i,d,o,r,a)}return u}function iG(e,t,n,i,o,r){var s;const a=function(e,t){if(!t)return;for(let n=0;n<t.length;n++){const i=t[n].getUserProvidedColDef();if(!i)continue;if(null!=e.colId){if(t[n].getId()===e.colId)return{idx:n,column:t[n]};continue}if(null!=e.field){if(i.field===e.field)return{idx:n,column:t[n]}}else if(i===e)return{idx:n,column:t[n]}}return}(n,i);a&&(null===i||void 0===i||i.splice(a.idx,1));let l=null===a||void 0===a?void 0:a.column;if(l){const t=sG(e,n,l.getColId());l.setColDef(t,n,r),rG(e,l,t,r)}else{const i=o.getUniqueKey(n.colId,n.field),r=sG(e,n,i);l=new EO(r,n,i,t),e.context.createBean(l)}return null===(s=e.dataTypeSvc)||void 0===s||s.addColumnListeners(l),l}function oG(e,t,n,i,o,r,s,a){const{sortSvc:l,pinnedCols:u,colFlex:c}=e;void 0!==n&&t.setVisible(!n,a),l&&(l.updateColSort(t,i,a),void 0!==o&&l.setColSortIndex(t,o)),void 0!==r&&(null===u||void 0===u||u.setColPinned(t,r)),void 0!==s&&(null===c||void 0===c||c.setColFlex(t,s))}function rG(e,t,n,i){oG(e,t,n.hide,n.sort,n.sortIndex,n.pinned,n.flex,i);const o=t.getFlex();if(!(null!=o&&o>0))if(null!=n.width)t.setActualWidth(n.width,i);else{const e=t.getActualWidth();t.setActualWidth(e,i)}}function sG(e,t,n,i){const{gos:o,dataTypeSvc:r}=e,s={};XI(s,o.get("defaultColDef"),!1,!0);const a=function(e,t,n,i){var o,r,s;const a=null===(o=e.dataTypeSvc)||void 0===o?void 0:o.updateColDefAndGetColumnType(t,n,i),l=null!==(r=null!==(s=n.type)&&void 0!==s?s:a)&&void 0!==r?r:t.type;return t.type=l,l?YO(l):void 0}(e,s,t,n);a&&function(e,t,n){if(!t.length)return;const i=Object.assign({},AO),o=e.gos.get("columnTypes")||{};for(const r of Object.keys(o)){const e=o[r];if(r in i)iB(34,{key:r});else{e.type&&iB(35),i[r]=e}}t.forEach(e=>{const t=i[e.trim()];t?XI(n,t,!1,!0):iB(36,{t:e})})}(e,a,s);const l=s.cellDataType;XI(s,t,!1,!0),void 0!==l&&(s.cellDataType=l);const u=o.get("autoGroupColumnDef"),c=AB(o);return t.rowGroup&&u&&c&&XI(s,{sort:u.sort,initialSort:u.initialSort},!1,!0),r&&(r.postProcess(s),r.validateColDef(s)),o.validateColDef(s,n,i),s}function aG(e){return void 0!==e.children}function lG(e,t,n){if(t)for(let i=0;i<t.length;i++){const o=t[i];FO(o)&&lG(o,o.getChildren(),n),n(o,e)}}function uG(e,t){const n=[],i=[],o=[];e.forEach(e=>{const t=e.getColDef().lockPosition;"right"===t?o.push(e):"left"===t||!0===t?n.push(e):i.push(e)});return t.get("enableRtl")?[...o,...i,...n]:[...n,...i,...o]}function cG(e,t){let n=!0;return lG(null,t,t=>{if(!FO(t))return;const i=t,o=i.getColGroupDef();if(!(o&&o.marryChildren))return;const r=[];i.getLeafColumns().forEach(t=>{const n=e.indexOf(t);r.push(n)});Math.max.apply(Math,r)-Math.min.apply(Math,r)>i.getLeafColumns().length-1&&(n=!1)}),n}function dG(e,t){if(!e||0==e.length)return;const n=t(e[0]);for(let i=1;i<e.length;i++)if(n!==t(e[i]))return;return n}function hG(e,t,n){if(!t.length)return;const i=1===t.length?t[0]:null,o=dG(t,e=>e.getPinned());e.dispatchEvent({type:"columnPinned",pinned:null!=o?o:null,columns:t,column:i,source:n})}function pG(e,t,n,i){e.dispatchEvent({type:t,columns:n,column:n&&1==n.length?n[0]:null,source:i})}function gG(e,t,n,i){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;null!==t&&void 0!==t&&t.length&&e.dispatchEvent({type:"columnResized",columns:t,column:1===t.length?t[0]:null,flexColumns:o,finished:n,source:i})}function mG(e,t,n){var i;const{colModel:o,rowGroupColsSvc:r,pivotColsSvc:s,autoColSvc:a,selectionColSvc:l,colAnimation:u,visibleCols:c,pivotResultCols:d,environment:h,valueColsSvc:p,eventSvc:g,gos:m}=e,v=null!==(i=o.getColDefCols())&&void 0!==i?i:[],f=null===l||void 0===l?void 0:l.getColumns();if((null===v||void 0===v||!v.length)&&(null===f||void 0===f||!f.length))return!1;if(null!==t&&void 0!==t&&t.state&&!t.state.forEach)return iB(32),!1;const w=(i,o,a,l,u)=>{if(!i)return;const c=((e,t)=>(n,i)=>{const o={value1:void 0,value2:void 0};let r=!1;return e&&(void 0!==e[n]&&(o.value1=e[n],r=!0),UI(i)&&void 0!==e[i]&&(o.value2=e[i],r=!0)),!r&&t&&(void 0!==t[n]&&(o.value1=t[n]),UI(i)&&void 0!==t[i]&&(o.value2=t[i])),o})(o,t.defaultState),d=c("flex").value1;if(oG(e,i,c("hide").value1,c("sort").value1,c("sortIndex").value1,c("pinned").value1,d,n),null==d){const e=c("width").value1;if(null!=e){var g;const t=null!==(g=i.getColDef().minWidth)&&void 0!==g?g:h.getDefaultColumnMinWidth();null!=t&&e>=t&&i.setActualWidth(e,n)}}!u&&i.isPrimary()&&(null===p||void 0===p||p.syncColumnWithState(i,n,c),null===r||void 0===r||r.syncColumnWithState(i,n,c,a),null===s||void 0===s||s.syncColumnWithState(i,n,c,l))},C=(i,u,d)=>{var h,p,v,f;const C=fG(e,n),b=u.slice(),y={},S={},x=[],D=[],E=[];let F=0;const k=null!==(h=null===r||void 0===r?void 0:r.columns.slice())&&void 0!==h?h:[],A=null!==(p=null===s||void 0===s?void 0:s.columns.slice())&&void 0!==p?p:[];i.forEach(e=>{const t=e.colId;if(t.startsWith(OO))return x.push(e),void E.push(e);if(UO(t))return D.push(e),void E.push(e);const n=d(t);n?(w(n,e,y,S,!1),LO(b,n)):(E.push(e),F+=1)});const R=e=>w(e,null,y,S,!1);b.forEach(R),null===r||void 0===r||r.sortColumns(bG.bind(r,y,k)),null===s||void 0===s||s.sortColumns(bG.bind(s,S,A)),o.refreshCols(!1);const P=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];t.forEach(t=>{const i=e(t.colId);LO(n,i),w(i,t,null,null,!0)}),n.forEach(R)};return P(e=>{var t;return null!==(t=null===a||void 0===a?void 0:a.getColumn(e))&&void 0!==t?t:null},x,null===a||void 0===a||null===(v=a.getColumns())||void 0===v?void 0:v.slice()),P(e=>{var t;return null!==(t=null===l||void 0===l?void 0:l.getColumn(e))&&void 0!==t?t:null},D,null===l||void 0===l||null===(f=l.getColumns())||void 0===f?void 0:f.slice()),function(e,t,n){if(!e.applyOrder||!e.state)return;const i=[];e.state.forEach(e=>{null!=e.colId&&i.push(e.colId)}),function(e,t,n,i){if(null==e)return;let o=[];const r={};t.forEach(t=>{if(r[t])return;const n=e.map[t];n&&(o.push(n),r[t]=!0)});let s=0;if(e.list.forEach(e=>{const t=e.getColId();if(null!=r[t])return;t.startsWith(OO)?o.splice(s++,0,e):o.push(e)}),o=uG(o,i),!cG(o,n.getColTree()))return void iB(39);e.list=o}(t.cols,i,t,n)}(t,o,m),c.refresh(n),g.dispatchEvent({type:"columnEverythingChanged",source:n}),C(),{unmatchedAndAutoStates:E,unmatchedCount:F}};null===u||void 0===u||u.start();let{unmatchedAndAutoStates:b,unmatchedCount:y}=C(t.state||[],v,e=>o.getColDefCol(e));if(b.length>0||UI(t.defaultState)){var S,x;y=C(b,null!==(S=null===d||void 0===d||null===(x=d.getPivotResultCols())||void 0===x?void 0:x.list)&&void 0!==S?S:[],e=>{var t;return null!==(t=null===d||void 0===d?void 0:d.getPivotResultCol(e))&&void 0!==t?t:null}).unmatchedCount}return null===u||void 0===u||u.finish(),0===y}function vG(e,t){var n,i,o,r;const{colModel:s,autoColSvc:a,selectionColSvc:l,eventSvc:u,gos:c}=e,d=s.getColDefCols();if(null===d||void 0===d||!d.length)return;const h=VO(s.getColDefColTree()),p=[];let g=1e3,m=1e3;const v=e=>{const t=CG(e);KI(t.rowGroupIndex)&&t.rowGroup&&(t.rowGroupIndex=g++),KI(t.pivotIndex)&&t.pivot&&(t.pivotIndex=m++),p.push(t)};null===a||void 0===a||null===(n=a.getColumns())||void 0===n||n.forEach(v),null===l||void 0===l||null===(i=l.getColumns())||void 0===i||i.forEach(v),null===h||void 0===h||h.forEach(v),mG(e,{state:p},t);const f=null!==(o=null===a||void 0===a?void 0:a.getColumns())&&void 0!==o?o:[];mG(e,{state:[...null!==(r=null===l||void 0===l?void 0:l.getColumns())&&void 0!==r?r:[],...f,...d].map(e=>({colId:e.colId})),applyOrder:!0},t),u.dispatchEvent(iO(c,{type:"columnsReset",source:t}))}function fG(e,t){var n,i,o;const{rowGroupColsSvc:r,pivotColsSvc:s,valueColsSvc:a,colModel:l,sortSvc:u,eventSvc:c}=e,d={rowGroupColumns:null!==(n=null===r||void 0===r?void 0:r.columns.slice())&&void 0!==n?n:[],pivotColumns:null!==(i=null===s||void 0===s?void 0:s.columns.slice())&&void 0!==i?i:[],valueColumns:null!==(o=null===a||void 0===a?void 0:a.columns.slice())&&void 0!==o?o:[]},h=wG(e),p={};return h.forEach(e=>{p[e.colId]=e}),()=>{var n,i;const o=(e,n,i,o)=>{if(MO(n.map(o),i.map(o)))return;const r=new Set(n);i.forEach(e=>{r.delete(e)||r.add(e)});const s=[...r];c.dispatchEvent({type:e,columns:s,column:1===s.length?s[0]:null,source:t})},a=e=>{const t=[];return l.forAllCols(n=>{const i=p[n.getColId()];i&&e(i,n)&&t.push(n)}),t},g=e=>e.getColId();o("columnRowGroupChanged",d.rowGroupColumns,null!==(n=null===r||void 0===r?void 0:r.columns)&&void 0!==n?n:[],g),o("columnPivotChanged",d.pivotColumns,null!==(i=null===s||void 0===s?void 0:s.columns)&&void 0!==i?i:[],g);const m=a((e,t)=>{const n=null!=e.aggFunc,i=n!=t.isValueActive(),o=n&&e.aggFunc!=t.getAggFunc();return i||o});m.length>0&&pG(c,"columnValueChanged",m,t);gG(c,a((e,t)=>e.width!=t.getActualWidth()),!0,t);hG(c,a((e,t)=>e.pinned!=t.getPinned()),t);!function(e,t,n){if(!t.length)return;const i=1===t.length?t[0]:null,o=dG(t,e=>e.isVisible());e.dispatchEvent({type:"columnVisible",visible:o,columns:t,column:i,source:n})}(c,a((e,t)=>e.hide==t.isVisible()),t);const v=a((e,t)=>e.sort!=t.getSort()||e.sortIndex!=t.getSortIndex());v.length>0&&(null===u||void 0===u||u.dispatchSortChangedEvents(t,v));const f=wG(e);!function(e,t,n,i,o){const r={};t.forEach(e=>r[e.colId]=e);const s={};e.forEach(e=>{r[e.colId]&&(s[e.colId]=!0)});const a=e.filter(e=>s[e.colId]),l=t.filter(e=>s[e.colId]),u=[];if(l.forEach((e,t)=>{const n=a&&a[t];if(n&&n.colId!==e.colId){const e=i.getCol(n.colId);e&&u.push(e)}}),!u.length)return;o.dispatchEvent({type:"columnMoved",columns:u,column:1===u.length?u[0]:null,finished:!0,source:n})}(h,f,t,l,c)}}function wG(e){const{colModel:t,rowGroupColsSvc:n,pivotColsSvc:i}=e;if(KI(t.getColDefCols())||!t.isAlive())return[];const o=null===n||void 0===n?void 0:n.columns,r=null===i||void 0===i?void 0:i.columns,s=[];t.forAllCols(e=>(e=>{var t;const n=e.isRowGroupActive()&&o?o.indexOf(e):null,i=e.isPivotActive()&&r?r.indexOf(e):null,a=e.isValueActive()?e.getAggFunc():null,l=null!=e.getSort()?e.getSort():null,u=null!=e.getSortIndex()?e.getSortIndex():null;s.push({colId:e.getColId(),width:e.getActualWidth(),hide:!e.isVisible(),pinned:e.getPinned(),sort:l,sortIndex:u,aggFunc:a,rowGroup:e.isRowGroupActive(),rowGroupIndex:n,pivot:e.isPivotActive(),pivotIndex:i,flex:null!==(t=e.getFlex())&&void 0!==t?t:null})})(e));const a=new Map(t.getCols().map((e,t)=>[e.getColId(),t]));return s.sort((e,t)=>(a.has(e.colId)?a.get(e.colId):-1)-(a.has(t.colId)?a.get(t.colId):-1)),s}function CG(e){const t=(e,t)=>null!=e?e:null!=t?t:null,n=e.getColDef(),i=t(n.sort,n.initialSort),o=t(n.sortIndex,n.initialSortIndex),r=t(n.hide,n.initialHide),s=t(n.pinned,n.initialPinned),a=t(n.width,n.initialWidth),l=t(n.flex,n.initialFlex);let u=t(n.rowGroupIndex,n.initialRowGroupIndex),c=t(n.rowGroup,n.initialRowGroup);null!=u||null!=c&&0!=c||(u=null,c=null);let d=t(n.pivotIndex,n.initialPivotIndex),h=t(n.pivot,n.initialPivot);null!=d||null!=h&&0!=h||(d=null,h=null);const p=t(n.aggFunc,n.initialAggFunc);return{colId:e.getColId(),sort:i,sortIndex:o,hide:r,pinned:s,width:a,flex:l,rowGroup:c,rowGroupIndex:u,pivot:h,pivotIndex:d,aggFunc:p}}var bG=(e,t,n,i)=>{const o=e[n.getId()],r=e[i.getId()],s=null!=o,a=null!=r;if(s&&a)return o-r;if(s)return-1;if(a)return 1;const l=t.indexOf(n),u=t.indexOf(i),c=l>=0;return c&&u>=0?l-u:c?-1:1},yG=class extends vO{constructor(){super(...arguments),this.dispatchColumnChangedEvent=pG,this.columns=[],this.columnIndexMap={},this.updateIndexMap=()=>{this.columnIndexMap={},this.columns.forEach((e,t)=>this.columnIndexMap[e.getId()]=t)}}wireBeans(e){this.colModel=e.colModel,this.aggFuncSvc=e.aggFuncSvc,this.visibleCols=e.visibleCols}sortColumns(e){this.columns.sort(e),this.updateIndexMap()}setColumns(e,t){this.setColList(e,this.columns,this.eventName,!0,!0,this.columnProcessors.set,t)}addColumns(e,t){this.updateColList(e,this.columns,!0,!0,this.columnProcessors.add,this.eventName,t)}removeColumns(e,t){this.updateColList(e,this.columns,!1,!0,this.columnProcessors.remove,this.eventName,t)}getColumnIndex(e){return this.columnIndexMap[e]}setColList(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0,r=arguments.length>5?arguments[5]:void 0,s=arguments.length>6?arguments[6]:void 0;const a=this.colModel.getCols();if(!a||0===a.length)return;const l=new Map;t.forEach((e,t)=>l.set(e,t)),t.length=0,UI(e)&&e.forEach(e=>{const n=this.colModel.getColDefCol(e);n&&t.push(n)}),t.forEach((e,t)=>{const n=l.get(e);void 0!==n?i&&n!==t||l.delete(e):l.set(e,0)}),this.updateIndexMap();(this.colModel.getColDefCols()||[]).forEach(e=>{const n=t.indexOf(e)>=0;r(e,n,s)}),o&&this.colModel.refreshCols(!1),this.visibleCols.refresh(s),this.dispatchColumnChangedEvent(this.eventSvc,n,[...l.keys()],s)}updateColList(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0,r=arguments.length>5?arguments[5]:void 0,s=arguments.length>6?arguments[6]:void 0;if(!e||0===e.length)return;let a=!1;const l=new Set;if(e.forEach(e=>{if(!e)return;const i=this.colModel.getColDefCol(e);if(i){if(l.add(i),n){if(t.indexOf(i)>=0)return;t.push(i)}else{const e=t.indexOf(i);if(e<0)return;for(let n=e+1;n<t.length;n++)l.add(t[n]);LO(t,i)}o(i,n,s),a=!0}}),!a)return;this.updateIndexMap(),i&&this.colModel.refreshCols(!1),this.visibleCols.refresh(s);const u=Array.from(l);this.eventSvc.dispatchEvent({type:r,columns:u,column:1===u.length?u[0]:null,source:s})}extractCols(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const n=this.columns,i=[],o=[],{setFlagFunc:r,getIndexFunc:s,getInitialIndexFunc:a,getValueFunc:l,getInitialValueFunc:u}=this.columnExtractors;(this.colModel.getColDefCols()||[]).forEach(e=>{const r=t.indexOf(e)<0,c=e.getColDef(),d=l(c),h=u(c),p=s(c),g=a(c);let m;if(m=void 0!==d?d:void 0!==p?null!==p&&p>=0:r?void 0!==h?h:!!(void 0!==g)&&(null!=g&&g>=0):n.indexOf(e)>=0,m){(r?null!=p||null!=g:null!=p)?i.push(e):o.push(e)}});const c=e=>{const t=s(e.getColDef()),n=a(e.getColDef());return null!=t?t:n};i.sort((e,t)=>{const n=c(e),i=c(t);return n===i?0:n<i?-1:1});const d=[].concat(i);return n.forEach(e=>{o.indexOf(e)>=0&&d.push(e)}),o.forEach(e=>{d.indexOf(e)<0&&d.push(e)}),n.forEach(t=>{d.indexOf(t)<0&&r(t,!1,e)}),d.forEach(t=>{n.indexOf(t)<0&&r(t,!0,e)}),this.columns=d,this.updateIndexMap(),this.columns}restoreColumnOrder(e,t){const n=this.columns,i=this.colModel.getColDefCols();if(!n.length||!i)return e;const o=Object.keys(t),r=new Set(o),s=new Set(o),a=new Set(n.map(e=>{const t=e.getColId();return s.delete(t),t}).concat(o)),l=[],u={};let c=0;for(let C=0;C<i.length;C++){const e=i[C].getColId();a.has(e)&&(l.push(e),u[e]=c++)}let d=1e3,h=!1,p=0;const g=this.columnOrdering.enableProp,m=this.columnOrdering.initialEnableProp,v=this.columnOrdering.indexProp,f=this.columnOrdering.initialIndexProp,w=e=>{const n=u[e];for(let i=p;i<n;i++){const e=l[i];s.has(e)&&(t[e][v]=d++,s.delete(e))}p=n};return n.forEach(n=>{const i=n.getColId();if(r.has(i))w(i),t[i][v]=d++;else{const o=n.getColDef();if(null===o[v]||void 0===o[v]&&null==o[f]){if(!h){o[g]||void 0===o[g]&&o[m]?w(i):(s.forEach(e=>{t[e][v]=d+u[e]}),d+=l.length,h=!0)}e[i]||(e[i]={colId:i}),e[i][v]=d++}}}),e}},SG=class{constructor(){this.existingIds={}}getInstanceIdForKey(e){const t=this.existingIds[e];let n;return n="number"!==typeof t?0:t+1,this.existingIds[e]=n,n}},xG=class extends vO{};function DG(e,t,n){return n&&e.addDestroyFunc(()=>t.destroyBean(n)),null!==n&&void 0!==n?n:e}var EG=class{constructor(e){this.cssClassStates={},this.getGui=e}toggleCss(e,t){if(!e)return;if(e.indexOf(" ")>=0){const n=(e||"").split(" ");if(n.length>1)return void n.forEach(e=>this.toggleCss(e,t))}var n;this.cssClassStates[e]!==t&&e.length&&(null===(n=this.getGui())||void 0===n||n.classList.toggle(e,t),this.cssClassStates[e]=t)}},FG=0,kG=null,AG=class extends vO{constructor(e,t){super(),this.suppressDataRefValidation=!1,this.displayed=!0,this.visible=!0,this.compId=FG++,this.cssManager=new EG(()=>this.eGui),this.componentSelectors=new Map((null!==t&&void 0!==t?t:[]).map(e=>[e.selector,e])),e&&this.setTemplate(e)}preConstruct(){var e,t;this.wireTemplate(this.getGui());const n="component-"+(null===(e=Object.getPrototypeOf(this))||void 0===e||null===(e=e.constructor)||void 0===e?void 0:e.name);null===(t=this.css)||void 0===t||t.forEach(e=>this.beans.environment.addGlobalCSS(e,n))}wireTemplate(e,t){e&&this.gos&&(this.applyElementsToComponent(e),this.createChildComponentsFromTags(e,t))}getCompId(){return this.compId}getDataRefAttribute(e){return e.getAttribute?e.getAttribute(TN):null}applyElementsToComponent(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(void 0===t&&(t=this.getDataRefAttribute(e)),t){const o=this[t];if(o===kG)this[t]=null!==i&&void 0!==i?i:e;else{const e=n&&n[t];if(!this.suppressDataRefValidation&&!e)throw new Error("data-ref: ".concat(t," on ").concat(this.constructor.name," with ").concat(o))}}}createChildComponentsFromTags(e,t){const n=[];for(const o of null!==(i=e.childNodes)&&void 0!==i?i:[]){var i;n.push(o)}n.forEach(n=>{if(!(n instanceof HTMLElement))return;const i=this.createComponentFromElement(n,e=>{const t=e.getGui();if(t)for(const o of null!==(i=n.attributes)&&void 0!==i?i:[]){var i;t.setAttribute(o.name,o.value)}},t);if(i){if(i.addItems&&n.children.length){this.createChildComponentsFromTags(n,t);const e=Array.prototype.slice.call(n.children);i.addItems(e)}this.swapComponentForNode(i,e,n)}else n.childNodes&&this.createChildComponentsFromTags(n,t)})}createComponentFromElement(e,t,n){const i=e.nodeName,o=this.getDataRefAttribute(e),r=0===i.indexOf("AG-"),s=r?this.componentSelectors.get(i):null;let a=null;if(s){const e=n&&o?n[o]:void 0;a=new s.component(e),a.setParentComponent(this),this.createBean(a,null,t)}else if(r)throw new Error("selector: ".concat(i));return this.applyElementsToComponent(e,o,n,a),a}swapComponentForNode(e,t,n){const i=e.getGui();t.replaceChild(i,n),t.insertBefore(document.createComment(n.nodeName),i),this.addDestroyFunc(this.destroyBean.bind(this,e))}activateTabIndex(e){const t=this.gos.get("tabIndex");e||(e=[]),e.length||e.push(this.getGui()),e.forEach(e=>e.setAttribute("tabindex",t.toString()))}setTemplate(e,t,n){let i;i="string"===typeof e||null==e?pN(e):MN(e),this.setTemplateFromElement(i,t,n)}setTemplateFromElement(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(this.eGui=e,this.suppressDataRefValidation=i,t)for(let o=0;o<t.length;o++){const e=t[o];this.componentSelectors.set(e.selector,e)}this.wireTemplate(e,n)}getGui(){return this.eGui}getFocusableElement(){return this.eGui}getAriaElement(){return this.getFocusableElement()}setParentComponent(e){this.parentComponent=e}getParentComponent(){return this.parentComponent}setGui(e){this.eGui=e}queryForHtmlElement(e){return this.eGui.querySelector(e)}getContainerAndElement(e,t){let n=t;return null==e?null:(n||(n=this.eGui),EN(e)?{element:e,parent:n}:{element:e.getGui(),parent:n})}prependChild(e,t){const{element:n,parent:i}=this.getContainerAndElement(e,t)||{};n&&i&&i.insertAdjacentElement("afterbegin",n)}appendChild(e,t){const{element:n,parent:i}=this.getContainerAndElement(e,t)||{};n&&i&&i.appendChild(n)}isDisplayed(){return this.displayed}setVisible(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e!==this.visible){this.visible=e;const{skipAriaHidden:n}=t;QL(this.eGui,e,{skipAriaHidden:n})}}setDisplayed(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e!==this.displayed){this.displayed=e;const{skipAriaHidden:n}=t;XL(this.eGui,e,{skipAriaHidden:n});const i={type:"displayChanged",visible:this.displayed};this.dispatchLocalEvent(i)}}destroy(){this.parentComponent&&(this.parentComponent=void 0),super.destroy()}addGuiEventListener(e,t,n){this.eGui.addEventListener(e,t,n),this.addDestroyFunc(()=>this.eGui.removeEventListener(e,t))}addCss(e){this.cssManager.toggleCss(e,!0)}removeCss(e){this.cssManager.toggleCss(e,!1)}toggleCss(e,t){this.cssManager.toggleCss(e,t)}registerCSS(e){this.css||(this.css=[]),this.css.push(e)}};function RG(e){return"object"===typeof e&&!!e.component}var PG=class e{constructor(e){this.status=0,this.resolution=null,this.waiters=[],e(e=>this.onDone(e),e=>this.onReject(e))}static all(t){return t.length?new e(e=>{let n=t.length;const i=new Array(n);t.forEach((t,o)=>{t.then(t=>{i[o]=t,n--,0===n&&e(i)})})}):e.resolve()}static resolve(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return new e(e=>e(t))}then(t){return new e(e=>{1===this.status?e(t(this.resolution)):this.waiters.push(n=>e(t(n)))})}onDone(e){this.status=1,this.resolution=e,this.waiters.forEach(t=>t(e))}onReject(e){}};function TG(e,t,n,i){const{name:o}=n;let r,s,a,l,u,c;if(t){const n=t,d=n[o+"Selector"],h=d?d(i):null,p=t=>{if("string"===typeof t)r=t;else if(null!=t&&!0!==t){e.isFrameworkComponent(t)?a=t:s=t}};h?(p(h.component),l=h.params,u=h.popup,c=h.popupPosition):p(n[o])}return{compName:r,jsComp:s,fwComp:a,paramsFromSelector:l,popupFromSelector:u,popupPositionFromSelector:c}}var _G={name:"dateComponent",mandatoryMethods:["getDate","setDate"],optionalMethods:["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled","refresh"]},MG={name:"dragAndDropImageComponent",mandatoryMethods:["setIcon","setLabel"]},IG={name:"headerComponent",optionalMethods:["refresh"]},LG={name:"innerHeaderComponent"},NG={name:"innerHeaderGroupComponent"},BG={name:"headerGroupComponent"},OG={name:"innerRenderer",cellRenderer:!0,optionalMethods:["afterGuiAttached"]},GG={name:"cellRenderer",optionalMethods:["refresh","afterGuiAttached"],cellRenderer:!0},zG={name:"cellRenderer",optionalMethods:["refresh","afterGuiAttached"]},VG={name:"loadingCellRenderer",cellRenderer:!0},HG={name:"cellEditor",mandatoryMethods:["getValue"],optionalMethods:["isPopup","isCancelBeforeStart","isCancelAfterEnd","getPopupPosition","focusIn","focusOut","afterGuiAttached","refresh"]},jG={name:"loadingOverlayComponent",optionalMethods:["refresh"]},WG={name:"noRowsOverlayComponent",optionalMethods:["refresh"]},UG={name:"tooltipComponent"},KG={name:"filter",mandatoryMethods:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethods:["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged","onAnyFilterChanged","refresh"]},qG={name:"floatingFilterComponent",mandatoryMethods:["onParentModelChanged"],optionalMethods:["afterGuiAttached","refresh"]},YG={name:"fullWidthCellRenderer",optionalMethods:["refresh","afterGuiAttached"],cellRenderer:!0},ZG={name:"loadingCellRenderer",cellRenderer:!0},$G={name:"groupRowRenderer",optionalMethods:["afterGuiAttached"],cellRenderer:!0},XG={name:"detailCellRenderer",optionalMethods:["refresh"],cellRenderer:!0};function QG(e,t,n){return e.getCompDetails(t,OG,void 0,n)}function JG(e,t,n){return e.getCompDetails(t,GG,void 0,n)}function ez(e,t,n){return e.getCompDetails(t,zG,void 0,n)}function tz(e,t,n){return e.getCompDetails(t,VG,"agSkeletonCellRenderer",n,!0)}function nz(e,t,n){return e.getCompDetails(t,HG,"agCellEditor",n,!0)}function iz(e,t,n,i){const o=t.filter;return RG(o)&&(t={filter:o.component,filterParams:t.filterParams}),e.getCompDetails(t,KG,i,n,!0)}function oz(e,t,n,i){return e.getCompDetails(t,qG,i,n)}function rz(e,t){return TG(e,t,KG)}function sz(e,t,n){return e.mergeParams(t,KG,n)}function az(e){const t=e;return null!=t&&null!=t.getFrameworkComponentInstance?t.getFrameworkComponentInstance():e}var lz,uz=new Set,cz={},dz={},hz=!1,pz=!1,gz=!1;function mz(e){lz||(lz=e.version);const t=e=>"You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. ".concat(e," Please update all modules to the same version.");if(e.version?function(e){const[t,n]=e.version.split(".")||[],[i,o]=lz.split(".")||[];return t===i&&n===o}(e)||ON(t("'".concat(e.moduleName,"' is version ").concat(e.version," but the other modules are version ").concat(lz,"."))):ON(t("'".concat(e.moduleName,"' is incompatible."))),e.validate){const t=e.validate();if(!t.isValid){ON("".concat(t.message))}}}function vz(e,t){var n;let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];i||(hz=!0),mz(e);const o=null!==(n=e.rowModels)&&void 0!==n?n:["all"];let r;uz.add(e),void 0!==t?(pz=!0,void 0===dz[t]&&(dz[t]={}),r=dz[t]):r=cz,o.forEach(t=>{void 0===r[t]&&(r[t]={}),r[t][e.moduleName]=e}),e.dependsOn&&e.dependsOn.forEach(e=>vz(e,t,i))}function fz(e,t,n){const i=n=>{var i,o;return!(null===(i=cz[n])||void 0===i||!i[e])||!(null===(o=dz[t])||void 0===o||null===(o=o[n])||void 0===o||!o[e])};return i(n)||i("all")}function wz(){return pz}function Cz(e,t){var n,i,o;const r=null!==(n=dz[e])&&void 0!==n?n:{};return[...Object.values(null!==(i=r.all)&&void 0!==i?i:{}),...Object.values(null!==(o=r[t])&&void 0!==o?o:{})]}var bz=class{static register(e){vz(e,void 0)}static registerModules(e){e.forEach(e=>vz(e,void 0))}},yz=class{constructor(e){this.beans={},this.createdBeans=[],this.destroyed=!1,e&&e.beanClasses&&(this.beanDestroyComparator=e.beanDestroyComparator,this.init(e))}init(e){var t;for(const n of Object.keys(e.providedBeanInstances))this.beans[n]=e.providedBeanInstances[n];e.beanClasses.forEach(e=>{const t=new e;t.beanName?this.beans[t.beanName]=t:console.error("Bean ".concat(e.name," is missing beanName")),this.createdBeans.push(t)}),null===(t=e.derivedBeans)||void 0===t||t.forEach(e=>{const{beanName:t,bean:n}=e(this);this.beans[t]=n,this.createdBeans.push(n)}),e.beanInitComparator&&this.createdBeans.sort(e.beanInitComparator),this.initBeans(this.createdBeans)}getBeanInstances(){return Object.values(this.beans)}createBean(e,t){return this.initBeans([e],t),e}initBeans(e,t){e.forEach(e=>{var t,n;null===(t=e.preWireBeans)||void 0===t||t.call(e,this.beans),null===(n=e.wireBeans)||void 0===n||n.call(e,this.beans)}),e.forEach(e=>{var t;return null===(t=e.preConstruct)||void 0===t?void 0:t.call(e)}),t&&e.forEach(t),e.forEach(e=>{var t;return null===(t=e.postConstruct)||void 0===t?void 0:t.call(e)})}getBeans(){return this.beans}getBean(e){return this.beans[e]}destroy(){if(this.destroyed)return;this.destroyed=!0;const e=this.getBeanInstances();this.beanDestroyComparator&&e.sort(this.beanDestroyComparator),this.destroyBeans(e),this.beans={},this.createdBeans=[]}destroyBean(e){var t;null===e||void 0===e||null===(t=e.destroy)||void 0===t||t.call(e)}destroyBeans(e){if(e)for(let t=0;t<e.length;t++)this.destroyBean(e[t]);return[]}isDestroyed(){return this.destroyed}};function Sz(e){return"object"===typeof e&&!!e.getComp}var xz=class extends yz{init(e){this.gridId=e.gridId,this.beans.context=this,this.destroyCallback=e.destroyCallback,super.init(e)}destroy(){var e,t;super.destroy(),t=this.gridId,delete dz[t],null===(e=this.destroyCallback)||void 0===e||e.call(this)}getGridId(){return this.gridId}},Dz=class{constructor(){this.cellValidations=new Map}getCellValidation(e){var t;const{rowNode:n,column:i}=e||{};return null===(t=this.cellValidations)||void 0===t||null===(t=t.get(n))||void 0===t?void 0:t.get(i)}hasCellValidation(e){return e&&e.rowNode&&e.column?!!this.getCellValidation(e):this.cellValidations.size>0}setCellValidation(e,t){const{rowNode:n,column:i}=e;this.cellValidations.has(n)||this.cellValidations.set(n,new Map),this.cellValidations.get(n).set(i,t)}clearCellValidation(e){var t;const{rowNode:n,column:i}=e;null===(t=this.cellValidations.get(n))||void 0===t||t.delete(i)}setCellValidationMap(e){this.cellValidations=e}getCellValidationMap(){return this.cellValidations}clearCellValidationMap(){this.cellValidations.clear()}},Ez=class{constructor(){this.rowValidations=new Map}getRowValidation(e){const{rowNode:t}=e||{};return this.rowValidations.get(t)}hasRowValidation(e){return e&&e.rowNode?!!this.getRowValidation(e):this.rowValidations.size>0}setRowValidation(e,t){let{rowNode:n}=e;this.rowValidations.set(n,t)}clearRowValidation(e){let{rowNode:t}=e;this.rowValidations.delete(t)}setRowValidationMap(e){this.rowValidations=e}getRowValidationMap(){return this.rowValidations}clearRowValidationMap(){this.rowValidations.clear()}};function Fz(e){const{rowIndex:t,rowPinned:n,column:i}=e;return"".concat(t,".").concat(null==n?"null":n,".").concat(i.getId())}function kz(e,t){const n=e.column===t.column,i=e.rowPinned===t.rowPinned,o=e.rowIndex===t.rowIndex;return n&&i&&o}function Az(e,t){switch(e.rowPinned){case"top":if("top"!==t.rowPinned)return!0;break;case"bottom":if("bottom"!==t.rowPinned)return!1;break;default:if(UI(t.rowPinned))return"top"!==t.rowPinned}return e.rowIndex<t.rowIndex}function Rz(e,t){return!e&&!t||!(e&&!t||!e&&t)&&(e.rowIndex===t.rowIndex&&e.rowPinned==t.rowPinned)}function Pz(e){let t,n=null;const{pinnedRowModel:i,pageBounds:o}=e,r=null===i||void 0===i?void 0:i.getPinnedBottomRowCount(),s=null===i||void 0===i?void 0:i.getPinnedTopRowCount();return r?(n="bottom",t=r-1):e.rowModel.getRowCount()?(n=null,t=o.getLastRow()):s&&(n="top",t=s-1),void 0===t?null:{rowIndex:t,rowPinned:n}}function Tz(e,t){var n,i;switch(t.rowPinned){case"top":return null===(n=e.pinnedRowModel)||void 0===n?void 0:n.getPinnedTopRow(t.rowIndex);case"bottom":return null===(i=e.pinnedRowModel)||void 0===i?void 0:i.getPinnedBottomRow(t.rowIndex);default:return e.rowModel.getRow(t.rowIndex)}}function _z(e,t){var n;const i=null===(n=e.spannedRowRenderer)||void 0===n?void 0:n.getCellByPosition(t);if(i)return i;const o=e.rowRenderer.getRowByPosition(t);return o?o.getCellCtrl(t.column):null}function Mz(e,t){var n;const{rowIndex:i,rowPinned:o}=t,{pageBounds:r,pinnedRowModel:s,rowModel:a}=e;if(0===i)return"top"===o?null:"bottom"===o&&a.isRowsToRender()?{rowIndex:r.getLastRow(),rowPinned:null}:null!==s&&void 0!==s&&s.isRowsToRender("top")?{rowIndex:s.getPinnedTopRowCount()-1,rowPinned:"top"}:null;return null!==(n=Lz(e,o?void 0:a.getRow(i),!0))&&void 0!==n?n:{rowIndex:i-1,rowPinned:o}}function Iz(e,t){var n;const{rowIndex:i,rowPinned:o}=t,{pageBounds:r,pinnedRowModel:s,rowModel:a}=e;if(function(e,t){const{rowPinned:n,rowIndex:i}=t,{pinnedRowModel:o,pageBounds:r}=e;if("top"===n){var s;return(null!==(s=null===o||void 0===o?void 0:o.getPinnedTopRowCount())&&void 0!==s?s:0)-1<=i}if("bottom"===n){var a;return(null!==(a=null===o||void 0===o?void 0:o.getPinnedBottomRowCount())&&void 0!==a?a:0)-1<=i}const l=r.getLastRow();return l<=i}(e,t))return"bottom"===o?null:"top"===o&&a.isRowsToRender()?{rowIndex:r.getFirstRow(),rowPinned:null}:null!==s&&void 0!==s&&s.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null;return null!==(n=Lz(e,o?void 0:a.getRow(i)))&&void 0!==n?n:{rowIndex:i+1,rowPinned:o}}function Lz(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{gos:i,rowRenderer:o}=e;if(null===t||void 0===t||!t.sticky||!kB(i))return;const r=o.getStickyTopRowCtrls(),s=o.getStickyBottomRowCtrls(),a=!s.some(e=>e.rowNode.rowIndex===t.rowIndex),l=a?r:s,u=(n?-1:1)*(a?-1:1);let c;for(let d=0;d<l.length;d++)if(l[d].rowNode.rowIndex===t.rowIndex){c=l[d+u];break}return c?{rowIndex:c.rowNode.rowIndex,rowPinned:null}:void 0}function Nz(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{rowIndex:i,rowId:o,rowCtrl:r,rowPinned:s}=n;if(r)return r;const{rowModel:a,rowRenderer:l}=e;let{rowNode:u}=n;return u||(o?u=function(e,t,n){const{rowModel:i,pinnedRowModel:o}=e;let r;return null!==r&&void 0!==r||(r=null===i||void 0===i?void 0:i.getRowNode(t)),n?null!==r&&void 0!==r||(r=null===o||void 0===o?void 0:o.getPinnedRowById(t,n)):(null!==r&&void 0!==r||(r=null===o||void 0===o?void 0:o.getPinnedRowById(t,"top")),null!==r&&void 0!==r||(r=null===o||void 0===o?void 0:o.getPinnedRowById(t,"bottom"))),r}(e,o,s):null!=i&&(u=a.getRow(i))),null===(t=l.getRowCtrls(u?[u]:[]))||void 0===t?void 0:t[0]}function Bz(e){var t,n,i,o;let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{cellCtrl:s,colId:a,columnId:l,column:u}=r;if(s)return s;const c=e.colModel.getCol(null!==(t=null!==a&&void 0!==a?a:l)&&void 0!==t?t:Gz(u)),d=null!==(n=r.rowCtrl)&&void 0!==n?n:Nz(e,r),h=null!==(i=null===d||void 0===d?void 0:d.getCellCtrl(c))&&void 0!==i?i:void 0;if(h)return h;const p=null!==(o=r.rowNode)&&void 0!==o?o:null===d||void 0===d?void 0:d.rowNode;var g;return p?null===(g=e.rowRenderer.getCellCtrls([p],[c]))||void 0===g?void 0:g[0]:void 0}function Oz(e){const{editSvc:t}=e;null!==t&&void 0!==t&&t.isBatchEditing()?$z(e):null===t||void 0===t||t.stopEditing(void 0,{source:"api"})}function Gz(e){if(e)return"string"===typeof e?e:e.getColId()}var zz=Symbol("unedited");function Vz(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=[],i=e.rowRenderer.getCellCtrls(t.rowNodes,t.columns);for(const r of i){var o;const e=null===(o=r.comp)||void 0===o?void 0:o.getCellEditor();e&&n.push({ctrl:r,editor:az(e)})}return n}function Hz(e){let{pendingValue:t,sourceValue:n}=e;return t===zz&&(t=n),t!==n}function jz(e,t,n){var i,o,r;const{key:s,event:a,cellStartedEdit:l,silent:u}=null!==n&&void 0!==n?n:{},c=Bz(e,t),d=null===c||void 0===c||null===(i=c.comp)||void 0===i?void 0:i.getCellEditor(),h=Uz(e,t,s,l&&!u),p=null===(o=e.editModelSvc)||void 0===o?void 0:o.getEdit(t);let g=h.value;var m;if(void 0===g&&(g=null===p||void 0===p?void 0:p.sourceValue),null===(r=e.editModelSvc)||void 0===r||r.setEdit(t,{editorValue:g,state:"editing"}),d)return void(null===(m=d.refresh)||void 0===m||m.call(d,h));const v=t.column.getColDef(),f=nz(e.userCompFactory,v,h),w=null!=(null===f||void 0===f?void 0:f.popupFromSelector)?f.popupFromSelector:!!v.cellEditorPopup,C=null!=(null===f||void 0===f?void 0:f.popupPositionFromSelector)?f.popupPositionFromSelector:v.cellEditorPopupPosition;var b,y,S;(qz(f.params,a),c)&&(c.editCompDetails=f,null===(b=c.comp)||void 0===b||b.setEditDetails(f,w,C,e.gos.get("reactiveCustomComponents")),null===c||void 0===c||null===(y=c.rowCtrl)||void 0===y||y.refreshRow({suppressFlash:!0}),u||null===(S=e.editSvc)||void 0===S||S.dispatchCellEvent(t,a,"cellEditingStarted"))}function Wz(e){var t,n;const i={editorValueExists:!1},o=null===(t=e.getValidationErrors)||void 0===t?void 0:t.call(e);if((null!==(n=null===o||void 0===o?void 0:o.length)&&void 0!==n?n:0)>0)return i;return{editorValue:e.getValue(),editorValueExists:!0}}function Uz(e,t,n,i){var o,r,s,a,l,u;const{valueSvc:c,gos:d,editSvc:h}=e,p=Bz(e,t),g=null!==(o=null===(r=t.rowNode)||void 0===r?void 0:r.rowIndex)&&void 0!==o?o:void 0,m=null===h||void 0===h?void 0:h.isBatchEditing(),v=e.colModel.getCol(t.column.getId()),{rowNode:f,column:w}=t,C=null===(s=p.comp)||void 0===s?void 0:s.getCellEditor(),b=null!==(a=null===h||void 0===h?void 0:h.getCellDataValue(t,!1))&&void 0!==a?a:C?null===(l=Wz(C))||void 0===l?void 0:l.editorValue:void 0;return iO(d,{value:b===zz?null===(u=c.getValueForDisplay(v,f))||void 0===u?void 0:u.value:b,eventKey:null!==n&&void 0!==n?n:null,column:w,colDef:w.getColDef(),rowIndex:g,node:f,data:f.data,cellStartedEdit:null!==i&&void 0!==i&&i,onKeyDown:null===p||void 0===p?void 0:p.onKeyDown.bind(p),stopEditing:n=>{h.stopEditing(t,{source:m?"ui":"api",suppressNavigateAfterEdit:n}),Xz(e,t)},eGridCell:null===p||void 0===p?void 0:p.eGui,parseValue:e=>c.parseValue(v,f,e,null===p||void 0===p?void 0:p.value),formatValue:null===p||void 0===p?void 0:p.formatValue.bind(p),validate:()=>{null===h||void 0===h||h.validateEdit()}})}function Kz(e,t){const{editModelSvc:n}=e;null===n||void 0===n||n.getEditMap().forEach((e,i)=>{e.forEach((e,o)=>{(t||"editing"!==e.state&&e.pendingValue!==zz)&&(Hz(e)||"editing"===e.state&&!t||null===n||void 0===n||n.removeEdits({rowNode:i,column:o}))})})}function qz(e,t){var n,i;t instanceof KeyboardEvent&&"agNumberCellEditor"===e.column.getColDef().cellEditor?e.suppressPreventDefault=["-","+",".","e"].includes(null!==(n=null===t||void 0===t?void 0:t.key)&&void 0!==n?n:"")||e.suppressPreventDefault:null===t||void 0===t||null===(i=t.preventDefault)||void 0===i||i.call(t);return e}function Yz(e,t){var n;null===(n=e.editModelSvc)||void 0===n||n.getEditPositions().forEach(n=>{var i;const o=Bz(e,n);if(!o)return;const r=null===(i=o.comp)||void 0===i?void 0:i.getCellEditor();if(!r)return;const{editorValue:s,editorValueExists:a}=Wz(r);Zz(e,n,t,s,void 0,!a)})}function Zz(e,t,n,i,o,r){var s,a;const{editModelSvc:l,valueSvc:u}=e;if(!l)return;const{rowNode:c,column:d}=t;if(!c||!d)return;const h=Bz(e,t),p=!(null===h||void 0===h||null===(s=h.comp)||void 0===s||!s.getCellEditor());let g=l.getEdit(t,!0);null!==(a=g)&&void 0!==a&&a.sourceValue||(g=l.setEdit(t,{sourceValue:u.getValue(d,c,void 0,"api"),pendingValue:zz,state:p?"editing":"changed"})),l.setEdit(t,{editorValue:r?g.sourceValue:i,state:p?"editing":"changed"}),n&&function(e,t){const{editModelSvc:n}=e,i=null===n||void 0===n?void 0:n.getEdit(t,!0);null===n||void 0===n||n.setEdit(t,{pendingValue:null===i||void 0===i?void 0:i.editorValue})}(e,t)}function $z(e,t,n){var i;t||(t=null===(i=e.editModelSvc)||void 0===i?void 0:i.getEditPositions());t.forEach(t=>Xz(e,t,n))}function Xz(e,t,n){var i,o;const{editSvc:r,editModelSvc:s}=e,{rowNode:a,column:l}=t,u=Bz(e,t);if(!u)return void(null!==s&&void 0!==s&&s.hasEdits(t)&&a&&l&&(null===s||void 0===s||s.setEdit(t,{state:"changed"})));const{comp:c}=u;if(c&&!c.getCellEditor())return void(null===u||void 0===u||u.refreshCell());const d=null===c||void 0===c||null===(i=c.getCellEditor())||void 0===i||null===(o=i.getValidationErrors)||void 0===o?void 0:o.call(i),h=null===s||void 0===s?void 0:s.getCellValidationModel();null!==d&&void 0!==d&&d.length?null===h||void 0===h||h.setCellValidation(t,{errorMessages:d}):null===h||void 0===h||h.clearCellValidation(t),null!==s&&void 0!==s&&s.getEdit(t)&&(null===s||void 0===s||s.setEdit(t,{state:"changed"})),null===c||void 0===c||c.setEditDetails(),null===c||void 0===c||c.refreshEditStyles(!1,!1),null===u||void 0===u||u.refreshCell({force:!0,suppressFlash:!0});const p=null===s||void 0===s?void 0:s.getEdit(t);"changed"!==(null===p||void 0===p?void 0:p.state)||null!==n&&void 0!==n&&n.silent||null===r||void 0===r||r.dispatchCellEvent(t,null===n||void 0===n?void 0:n.event,"cellEditingStopped",{valueChanged:Hz(p),newValue:null===p||void 0===p?void 0:p.pendingValue,oldValue:null===p||void 0===p?void 0:p.sourceValue})}function Qz(e){const t=Vz(e),n=new Dz,{ariaAnnounce:i,localeSvc:o,editModelSvc:r,gos:s}=e,a="fullRow"===s.get("editType"),l=HI(o)("ariaValidationErrorPrefix","Cell Editor Validation");for(const C of t){var u,c,d,h;const{ctrl:e,editor:t}=C,{rowNode:o,column:r}=e,s=null!==(u=null===(c=t.getValidationErrors)||void 0===c?void 0:c.call(t))&&void 0!==u?u:[],a=(null===(d=t.getValidationElement)||void 0===d?void 0:d.call(t,!1))||!(null!==(h=t.isPopup)&&void 0!==h&&h.call(t))&&e.eGui;if(a){const e=null!=s&&s.length>0,t=e?s.join(". "):"";CL(a,e),e&&i.announceValue("".concat(l," ").concat(s),"editorValidation"),a instanceof HTMLInputElement?a.setCustomValidity(t):a.classList.toggle("invalid",e)}(null===s||void 0===s?void 0:s.length)>0&&n.setCellValidation({rowNode:o,column:r},{errorMessages:s})}Yz(e,!1),null===r||void 0===r||r.setCellValidationModel(n);const p=new Set;for(const{ctrl:C}of t)p.add(C.rowCtrl);if(a){const t=Jz(e);null===r||void 0===r||r.setRowValidationModel(t)}for(const C of p.values()){var g;null===(g=C.rowEditStyleFeature)||void 0===g||g.applyRowStyles();for(const e of C.getAllCellCtrls()){var m,v,f,w;null===(m=e.tooltipFeature)||void 0===m||m.refreshTooltip(!0),null===(v=e.editorTooltipFeature)||void 0===v||v.refreshTooltip(!0),null===(f=e.editStyleFeature)||void 0===f||null===(w=f.applyCellStyles)||void 0===w||w.call(f)}}}var Jz=e=>{var t;const n=new Ez,i=e.gos.get("getFullRowEditValidationErrors"),o=null===(t=e.editModelSvc)||void 0===t?void 0:t.getEditMap();if(!o)return n;for(const a of o.keys()){var r;const e=o.get(a);if(!e)continue;const t=[],{rowIndex:l,rowPinned:u}=a;for(const n of e.keys()){var s;const i=e.get(n);if(!i)continue;const{editorValue:o,pendingValue:r,sourceValue:a}=i,c=null!==(s=null!==o&&void 0!==o?o:r===zz?void 0:r)&&void 0!==s?s:a;t.push({column:n,colId:n.getColId(),rowIndex:l,rowPinned:u,oldValue:a,newValue:c})}const c=null!==(r=null===i||void 0===i?void 0:i({editorsState:t}))&&void 0!==r?r:[];c.length>0&&n.setRowValidation({rowNode:a},{errorMessages:c})}return n};function eV(e,t,n,i){return KI(e)?[]:iV(e.headerClass,e,t,n,i)}function tV(e,t,n,i){return KI(e)?[]:iV(e.toolPanelClass,e,t,n,i)}function nV(e,t,n){e.toggleCss("ag-column-first",n.isColAtEdge(t,"first")),e.toggleCss("ag-column-last",n.isColAtEdge(t,"last"))}function iV(e,t,n,i,o){if(KI(e))return[];let r;if("function"===typeof e){const s=function(e,t,n,i){return iO(t,{colDef:e,column:n,columnGroup:i})}(t,n,i,o);r=e(s)}else r=e;return"string"===typeof r?[r]:Array.isArray(r)?[...r]:[]}function oV(e){return!(!e.rowPinned||!e.pinnedSibling)}function rV(e,t,n,i){const o="top"===t;if(!n)return rV(e,t,o?e.getPinnedTopRow(0):e.getPinnedBottomRow(0),i);if(!i){const i=o?e.getPinnedTopRowCount():e.getPinnedBottomRowCount();return rV(e,t,n,o?e.getPinnedTopRow(i-1):e.getPinnedBottomRow(i-1))}let r=!1,s=!1;const a=[];return e.forEachPinnedRow(t,e=>e!==n||r?r&&e===i?(s=!0,void a.push(e)):void(r&&!s&&a.push(e)):(r=!0,void a.push(e))),a}var sV={BACKSPACE:"Backspace",TAB:"Tab",ENTER:"Enter",ESCAPE:"Escape",SPACE:" ",LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",DOWN:"ArrowDown",DELETE:"Delete",F2:"F2",PAGE_UP:"PageUp",PAGE_DOWN:"PageDown",PAGE_HOME:"Home",PAGE_END:"End",A:"KeyA",C:"KeyC",D:"KeyD",V:"KeyV",X:"KeyX",Y:"KeyY",Z:"KeyZ"},aV=!1,lV=0;function uV(e){const t=aV,n="keydown"===e.type;n&&(e.ctrlKey||e.metaKey||e.altKey)||t!==n&&(aV=n)}function cV(e){const t=CB(e);var n;return n=t,lV>0||(n.addEventListener("keydown",uV),n.addEventListener("mousedown",uV)),lV++,()=>{lV--,function(e){lV>0||(e.removeEventListener("keydown",uV),e.removeEventListener("mousedown",uV))}(t)}}function dV(){return aV}function hV(e,t,n){t.addManagedElementListeners(n,{keydown:t=>{if(!t.defaultPrevented&&t.key===sV.TAB){const i=t.shiftKey;mV(e,n,!1,i)||bV(e,i)&&t.preventDefault()}}})}function pV(e,t){let n=ZL;t&&(n+=", "+t),arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&(n+=', [tabindex="-1"]');const i=Array.prototype.slice.apply(e.querySelectorAll("[tabindex], input, select, button, textarea, [href]")).filter(e=>hN(e)),o=Array.prototype.slice.apply(e.querySelectorAll(n));if(!o.length)return i;return r=o,i.filter(e=>-1===r.indexOf(e));var r}function gV(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=pV(e,arguments.length>3&&void 0!==arguments[3]&&arguments[3]?".ag-tab-guard":null,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),i=t?_O(n):n[0];return!!i&&(i.focus({preventScroll:!0}),!0)}function mV(e,t,n,i){const o=pV(t,n?':not([tabindex="-1"])':null),r=SB(e);let s;s=n?o.findIndex(e=>e.contains(r)):o.indexOf(r);const a=s+(i?-1:1);return a<0||a>=o.length?null:o[a]}function vV(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,n=0;for(;e&&null===UL(e)&&++n<=t;)e=e.parentElement;return null===UL(e)?null:e}function fV(e,t){return e.ctrlsSvc.get("gridCtrl").focusInnerElement(t)}function wV(e){var t;return e.gos.get("suppressHeaderFocus")||!(null===(t=e.overlays)||void 0===t||!t.isExclusive())}function CV(e){var t;return e.gos.get("suppressCellFocus")||!(null===(t=e.overlays)||void 0===t||!t.isExclusive())}function bV(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const i=e.ctrlsSvc.get("gridCtrl");return!(n||!i.focusNextInnerContainer(t))||((n||!t&&!i.isDetailGrid())&&i.forceFocusOutOfContainer(t),!1)}var yV=class extends vO{constructor(e,t,n,i){super(),this.cellCtrl=e,this.rowNode=n,this.rowCtrl=i,this.beans=t}init(){this.eGui=this.cellCtrl.eGui}onKeyDown(e){const t=e.key;switch(t){case sV.ENTER:this.onEnterKeyDown(e);break;case sV.F2:this.onF2KeyDown(e);break;case sV.ESCAPE:this.onEscapeKeyDown(e);break;case sV.TAB:this.onTabKeyDown(e);break;case sV.BACKSPACE:case sV.DELETE:this.onBackspaceOrDeleteKeyDown(t,e);break;case sV.DOWN:case sV.UP:case sV.RIGHT:case sV.LEFT:this.onNavigationKeyDown(e,t)}}onNavigationKeyDown(e,t){var n;const{cellCtrl:i,beans:o}=this;if(null===(n=o.editSvc)||void 0===n||!n.isEditing(i,{withOpenEditor:!0})){if(e.shiftKey&&i.isRangeSelectionEnabled())this.onShiftRangeSelect(e);else{var r;const n=i.getFocusedCellPosition();null===(r=o.navigation)||void 0===r||r.navigateToNextCell(e,t,n,!0)}e.preventDefault()}}onShiftRangeSelect(e){const{rangeSvc:t,navigation:n}=this.beans;if(!t)return;const i=t.extendLatestRangeInDirection(e);i&&(e.key===sV.LEFT||e.key===sV.RIGHT?null===n||void 0===n||n.ensureColumnVisible(i.column):null===n||void 0===n||n.ensureRowVisible(i.rowIndex))}onTabKeyDown(e){var t;null===(t=this.beans.navigation)||void 0===t||t.onTabKeyDown(this.cellCtrl,e)}onBackspaceOrDeleteKeyDown(e,t){const{cellCtrl:n,beans:i,rowNode:o}=this,{gos:r,rangeSvc:s,eventSvc:a,editSvc:l}=i;if(a.dispatchEvent({type:"keyShortcutChangedCellStart"}),!function(e){return e===sV.DELETE||!(arguments.length>1&&void 0!==arguments[1]&&arguments[1])&&e===sV.BACKSPACE&&jL()}(e,r.get("enableCellEditingOnBackspace"))||null!==l&&void 0!==l&&l.isEditing(n,{withOpenEditor:!0})){if(null===l||void 0===l||!l.isEditing(n,{withOpenEditor:!0})){var u;null===(u=i.editSvc)||void 0===u||u.startEditing(n,{startedEdit:!0,event:t})}}else if(s&&WB(r))s.clearCellRangeCellValues({dispatchWrapperEvents:!0,wrapperEventSource:"deleteKey"});else if(n.isCellEditable()){const{column:e}=n,t=this.beans.valueSvc.getDeleteValue(e,o);o.setDataValue(e,t,"cellClear")}a.dispatchEvent({type:"keyShortcutChangedCellEnd"})}onEnterKeyDown(e){const{cellCtrl:t,beans:n}=this,{editSvc:i,navigation:o}=n,r=null===i||void 0===i?void 0:i.isEditing(t,{withOpenEditor:!0}),s=t.rowNode,a=null===i||void 0===i?void 0:i.isRowEditing(s,{withOpenEditor:!0}),l=t=>{(null===i||void 0===i?void 0:i.startEditing(t,{startedEdit:!0,event:e,source:"edit"}))&&e.preventDefault()};if(r||a){var u;if(this.isCtrlEnter(e))return void(null===i||void 0===i||i.applyBulkEdit(t,(null===n||void 0===n||null===(u=n.rangeSvc)||void 0===u?void 0:u.getCellRanges())||[]));if(Qz(n),"block-stop"===(null===i||void 0===i?void 0:i.checkNavWithValidation(void 0,e)))return;null!==i&&void 0!==i&&i.isEditing(t,{withOpenEditor:!0})?null===i||void 0===i||i.stopEditing(t,{event:e,source:"edit"}):a&&!t.isCellEditable()?null===i||void 0===i||i.stopEditing({rowNode:s},{event:e,source:"edit"}):l(t)}else if(n.gos.get("enterNavigatesVertically")){const n=e.shiftKey?sV.UP:sV.DOWN;null===o||void 0===o||o.navigateToNextCell(null,n,t.cellPosition,!1)}else{if(null!==i&&void 0!==i&&i.hasValidationErrors())return;null!==i&&void 0!==i&&i.hasValidationErrors(t)&&i.revertSingleCellEdit(t,!0),l(t)}}isCtrlEnter(e){return(e.ctrlKey||e.metaKey)&&e.key===sV.ENTER}onF2KeyDown(e){const{cellCtrl:t,beans:{editSvc:n}}=this;(null===n||void 0===n?void 0:n.isEditing())&&(Qz(this.beans),"block-stop"===(null===n||void 0===n?void 0:n.checkNavWithValidation(void 0,e)))||null===n||void 0===n||n.startEditing(t,{startedEdit:!0,event:e})}onEscapeKeyDown(e){const{cellCtrl:t,beans:{editSvc:n}}=this;"block-stop"===(null===n||void 0===n?void 0:n.checkNavWithValidation(t,e))&&n.revertSingleCellEdit(t),null===n||void 0===n||n.stopEditing(t,{event:e,cancel:!0})}processCharacter(e){const t=e.target!==this.eGui,{beans:{editSvc:n},cellCtrl:i}=this;if(t)return;if(null!==n&&void 0!==n&&n.isEditing(i,{withOpenEditor:!0}))return;if(e.key===sV.SPACE)this.onSpaceKeyDown(e);else if(null!==n&&void 0!==n&&n.isCellEditable(i,"ui")){var o;if(null!==n&&void 0!==n&&n.hasValidationErrors()&&(null===n||void 0===n||!n.hasValidationErrors(i)))return;null===n||void 0===n||n.startEditing(i,{startedEdit:!0,event:e,source:"api"});const t=i.editCompDetails;!(null!==t&&void 0!==t&&null!==(o=t.params)&&void 0!==o&&o.suppressPreventDefault)&&e.preventDefault()}}onSpaceKeyDown(e){const{gos:t,editSvc:n}=this.beans,{rowNode:i}=this.cellCtrl;var o;null!==n&&void 0!==n&&n.isEditing(this.cellCtrl,{withOpenEditor:!0})||!hB(t)||(null===(o=this.beans.selectionSvc)||void 0===o||o.handleSelectionEvent(e,i,"spaceKey"));e.preventDefault()}};function SV(e,t,n){if(0===n)return!1;const i=Math.abs(e.clientX-t.clientX),o=Math.abs(e.clientY-t.clientY);return Math.max(i,o)<=n}function xV(e,t){let{gos:n}=e;return 2===t.button||t.ctrlKey&&n.get("allowContextMenuWithControlKey")}var DV=class extends vO{constructor(e,t,n){super(),this.cellCtrl=e,this.column=n,this.beans=t}onMouseEvent(e,t){if(!dO(t))switch(e){case"click":this.onCellClicked(t);break;case"mousedown":case"touchstart":this.onMouseDown(t);break;case"dblclick":this.onCellDoubleClicked(t);break;case"mouseout":this.onMouseOut(t);break;case"mouseover":this.onMouseOver(t)}}onCellClicked(e){var t;if(null!==(t=this.beans.touchSvc)&&void 0!==t&&t.handleCellDoubleClick(this,e))return;const{eventSvc:n,rangeSvc:i,editSvc:o,editModelSvc:r,frameworkOverrides:s}=this.beans,a=e.ctrlKey||e.metaKey,{cellCtrl:l}=this,{column:u,cellPosition:c}=l;i&&a&&i.getCellRangeCount(c)>1&&i.intersectLastRange(!0);const d=l.createEvent(e,"cellClicked");n.dispatchEvent(d);const h=u.getColDef();if(h.onCellClicked&&window.setTimeout(()=>{s.wrapOutgoing(()=>{h.onCellClicked(d)})},0),"editing"!==(null===r||void 0===r?void 0:r.getState(l))){var p,g;const t=null===o||void 0===o?void 0:o.isEditing(),n=null!==(p=null===r||void 0===r?void 0:r.getCellValidationModel().getCellValidationMap().size)&&void 0!==p?p:0,i=null!==(g=null===r||void 0===r?void 0:r.getRowValidationModel().getRowValidationMap().size)&&void 0!==g?g:0;if(t&&(n>0||i>0))return;null!==o&&void 0!==o&&o.shouldStartEditing(l,e)?null===o||void 0===o||o.startEditing(l,{event:e}):null!==o&&void 0!==o&&o.shouldStopEditing(l,e)&&("fullRow"===this.beans.gos.get("editType")?null===o||void 0===o||o.stopEditing(l,{event:e,source:"edit"}):null===o||void 0===o||o.stopEditing(void 0,{event:e,source:"edit"}))}}onCellDoubleClicked(e){var t;const{column:n,beans:i,cellCtrl:o}=this,{eventSvc:r,frameworkOverrides:s,editSvc:a,editModelSvc:l}=i,u=n.getColDef(),c=o.createEvent(e,"cellDoubleClicked");if(r.dispatchEvent(c),"function"===typeof u.onCellDoubleClicked&&window.setTimeout(()=>{s.wrapOutgoing(()=>{u.onCellDoubleClicked(c)})},0),null!==a&&void 0!==a&&a.shouldStartEditing(this.cellCtrl,e)&&"editing"!==(null===(t=this.beans.editModelSvc)||void 0===t?void 0:t.getState(this.cellCtrl))){var d,h;const t=null===a||void 0===a?void 0:a.isEditing(),n=null!==(d=null===l||void 0===l?void 0:l.getCellValidationModel().getCellValidationMap().size)&&void 0!==d?d:0,i=null!==(h=null===l||void 0===l?void 0:l.getRowValidationModel().getRowValidationMap().size)&&void 0!==h?h:0;if(t&&(n>0||i>0))return;null===a||void 0===a||a.startEditing(o,{event:e})}}onMouseDown(e){const{ctrlKey:t,metaKey:n,shiftKey:i}=e,o=e.target,{cellCtrl:r,beans:s}=this,{eventSvc:a,rangeSvc:l,rowNumbersSvc:u,focusSvc:c,gos:d,editSvc:h}=s;if(this.isRightClickInExistingRange(e))return;const p=l&&!l.isEmpty(),g=this.containsWidget(o),{cellPosition:m,column:v}=r,f=KO(v);if(u&&f&&!u.handleMouseDownOnCell(m,e))return l&&e.preventDefault(),void e.stopImmediatePropagation();if(!i||!p){const t=null===h||void 0===h?void 0:h.isEditing(r),n=d.get("enableCellTextSelection")&&e.defaultPrevented,i=(VL()||n)&&!t&&!$L(o)&&!g;r.focusCell(i,e)}if(i&&p&&!c.isCellFocused(m)){e.preventDefault();const t=c.getFocusedCell();if(t){const{column:n,rowIndex:i,rowPinned:o}=t;null!==h&&void 0!==h&&h.isEditing(t)&&(null===h||void 0===h||h.stopEditing(t)),c.setFocusedCell({column:n,rowIndex:i,rowPinned:o,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0,sourceEvent:e})}}if(!g){if(l){f&&e.preventDefault();const o=xV(this.beans,e)&&f;if(i)l.extendLatestRangeToCell(m);else if(!o){const e=t||n;l.setRangeToCell(m,e)}}a.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseDown"))}}isRightClickInExistingRange(e){const{rangeSvc:t}=this.beans;if(t){const n=t.isCellInAnyRange(this.cellCtrl.cellPosition),i=xV(this.beans,e);if(n&&i)return!0}return!1}containsWidget(e){return eN(e,"ag-selection-checkbox",3)||eN(e,"ag-drag-handle",3)}onMouseOut(e){if(this.mouseStayingInsideCell(e))return;const{eventSvc:t,colHover:n}=this.beans;t.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseOut")),null===n||void 0===n||n.clearMouseOver()}onMouseOver(e){if(this.mouseStayingInsideCell(e))return;const{eventSvc:t,colHover:n}=this.beans;t.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseOver")),null===n||void 0===n||n.setMouseOver([this.column])}mouseStayingInsideCell(e){if(!e.target||!e.relatedTarget)return!1;const t=this.cellCtrl.eGui,n=t.contains(e.target),i=t.contains(e.relatedTarget);return n&&i}},EV=class extends vO{constructor(e,t){super(),this.cellCtrl=e,this.beans=t,this.column=e.column,this.rowNode=e.rowNode}setupRowSpan(){this.rowSpan=this.column.getRowSpan(this.rowNode),this.addManagedListeners(this.beans.eventSvc,{newColumnsLoaded:()=>this.onNewColumnsLoaded()})}init(){this.eSetLeft=this.cellCtrl.getRootElement(),this.eContent=this.cellCtrl.eGui;const e=this.cellCtrl.getCellSpan();if(e||(this.setupColSpan(),this.setupRowSpan()),this.onLeftChanged(),this.onWidthChanged(),e||this._legacyApplyRowSpan(),e){const t=this.refreshSpanHeight.bind(this,e);t(),this.addManagedListeners(this.beans.eventSvc,{paginationChanged:t,recalculateRowBounds:t,pinnedHeightChanged:t})}}refreshSpanHeight(e){const t=e.getCellHeight();null!=t&&(this.eContent.style.height="".concat(t,"px"))}onNewColumnsLoaded(){const e=this.column.getRowSpan(this.rowNode);this.rowSpan!==e&&(this.rowSpan=e,this._legacyApplyRowSpan(!0))}onDisplayColumnsChanged(){const e=this.getColSpanningList();MO(this.colsSpanning,e)||(this.colsSpanning=e,this.onWidthChanged(),this.onLeftChanged())}setupColSpan(){null!=this.column.getColDef().colSpan&&(this.colsSpanning=this.getColSpanningList(),this.addManagedListeners(this.beans.eventSvc,{displayedColumnsChanged:this.onDisplayColumnsChanged.bind(this),displayedColumnsWidthChanged:this.onWidthChanged.bind(this)}))}onWidthChanged(){if(!this.eContent)return;const e=this.getCellWidth();this.eContent.style.width="".concat(e,"px")}getCellWidth(){return this.colsSpanning?this.colsSpanning.reduce((e,t)=>e+t.getActualWidth(),0):this.column.getActualWidth()}getColSpanningList(){const{column:e,rowNode:t}=this,n=e.getColSpan(t),i=[];if(1===n)i.push(e);else{let t=e;const o=e.getPinned();for(let e=0;t&&e<n&&(i.push(t),t=this.beans.visibleCols.getColAfter(t),t&&!KI(t))&&o===t.getPinned();e++);}return i}onLeftChanged(){if(!this.eSetLeft)return;const e=this.modifyLeftForPrintLayout(this.getCellLeft());this.eSetLeft.style.left=e+"px"}getCellLeft(){let e;return e=this.beans.gos.get("enableRtl")&&this.colsSpanning?_O(this.colsSpanning):this.column,e.getLeft()}modifyLeftForPrintLayout(e){if(!this.cellCtrl.printLayout||"left"===this.column.getPinned())return e;const{visibleCols:t}=this.beans,n=t.getColsLeftWidth();if("right"===this.column.getPinned()){return n+t.bodyWidth+(e||0)}return n+(e||0)}_legacyApplyRowSpan(e){if(1===this.rowSpan&&!e)return;const t=mB(this.beans)*this.rowSpan;this.eContent.style.height="".concat(t,"px"),this.eContent.style.zIndex="1"}destroy(){super.destroy()}},FV="cellCtrl";function kV(e,t){return pO(e,t,FV)}var AV=0,RV=class extends vO{constructor(e,t,n,i){super(),this.column=e,this.rowNode=t,this.rowCtrl=i,this.rangeFeature=void 0,this.rowResizeFeature=void 0,this.positionFeature=void 0,this.customStyleFeature=void 0,this.editStyleFeature=void 0,this.mouseListener=void 0,this.keyboardListener=void 0,this.suppressRefreshCell=!1,this.onCompAttachedFuncs=[],this.onEditorAttachedFuncs=[],this.focusEventWhileNotReady=null,this.hasBeenFocused=!1,this.hasEdit=!1,this.tooltipFeature=void 0,this.editorTooltipFeature=void 0,this.beans=n,this.gos=n.gos,this.editSvc=n.editSvc,this.hasEdit=!!n.editSvc;const{colId:o}=e;this.instanceId=o+"-"+AV++,this.createCellPosition(),this.updateAndFormatValue(!1)}addFeatures(){var e,t;const{beans:n}=this;this.positionFeature=new EV(this,n),this.customStyleFeature=null===(e=n.cellStyles)||void 0===e?void 0:e.createCellCustomStyleFeature(this,n),this.editStyleFeature=null===(t=n.editSvc)||void 0===t?void 0:t.createCellStyleFeature(this,n),this.mouseListener=new DV(this,n,this.column),this.keyboardListener=new yV(this,n,this.rowNode,this.rowCtrl),this.enableTooltipFeature();const{rangeSvc:i}=n;i&&WB(n.gos)&&(this.rangeFeature=i.createCellRangeFeature(n,this)),KO(this.column)&&(this.rowResizeFeature=this.beans.rowNumbersSvc.createRowNumbersRowResizerFeature(n,this))}isCellSpanning(){return!1}getCellSpan(){}removeFeatures(){const e=this.beans.context;this.positionFeature=e.destroyBean(this.positionFeature),this.editorTooltipFeature=e.destroyBean(this.editorTooltipFeature),this.customStyleFeature=e.destroyBean(this.customStyleFeature),this.editStyleFeature=e.destroyBean(this.editStyleFeature),this.mouseListener=e.destroyBean(this.mouseListener),this.keyboardListener=e.destroyBean(this.keyboardListener),this.rangeFeature=e.destroyBean(this.rangeFeature),this.rowResizeFeature=e.destroyBean(this.rowResizeFeature),this.disableTooltipFeature()}enableTooltipFeature(e,t){var n;this.tooltipFeature=null===(n=this.beans.tooltipSvc)||void 0===n?void 0:n.enableCellTooltipFeature(this,e,t)}disableTooltipFeature(){this.tooltipFeature=this.beans.context.destroyBean(this.tooltipFeature)}enableEditorTooltipFeature(e){var t;this.editorTooltipFeature&&this.disableEditorTooltipFeature(),this.editorTooltipFeature=null===(t=this.beans.tooltipSvc)||void 0===t?void 0:t.setupCellEditorTooltip(this,e),Qz(this.beans)}disableEditorTooltipFeature(){this.editorTooltipFeature=this.beans.context.destroyBean(this.editorTooltipFeature)}setComp(e,t,n,i,o,r,s){var a,l,u,c,d,h,p,g;(this.comp=e,this.eGui=t,this.printLayout=o,null!==s&&void 0!==s||(s=this),this.addDomData(s),this.addFeatures(),s.addDestroyFunc(()=>this.removeFeatures()),this.onSuppressCellFocusChanged(this.beans.gos.get("suppressCellFocus")),this.setupFocus(),this.applyStaticCssClasses(),this.setWrapText(),this.onFirstRightPinnedChanged(),this.onLastLeftPinnedChanged(),this.onColumnHover(),this.setupControlComps(),this.setupAutoHeight(i,s),this.refreshFirstAndLastStyles(),this.refreshAriaColIndex(),null===(a=this.positionFeature)||void 0===a||a.init(),null===(l=this.customStyleFeature)||void 0===l||l.setComp(e),null===(u=this.editStyleFeature)||void 0===u||u.setComp(e),null===(c=this.tooltipFeature)||void 0===c||c.refreshTooltip(),null===(d=this.keyboardListener)||void 0===d||d.init(),null===(h=this.rangeFeature)||void 0===h||h.setComp(e),null===(p=this.rowResizeFeature)||void 0===p||p.refreshRowResizer(),r&&this.isCellEditable())?null===(g=this.editSvc)||void 0===g||g.startEditing(this,{startedEdit:!1,source:"api",silent:!0}):this.showValue(!1,!0);this.onCompAttachedFuncs.length&&(this.onCompAttachedFuncs.forEach(e=>e()),this.onCompAttachedFuncs=[])}setupAutoHeight(e,t){var n,i;this.isAutoHeight=null!==(n=null===(i=this.beans.rowAutoHeight)||void 0===i?void 0:i.setupCellAutoHeight(this,e,t))&&void 0!==n&&n}getCellAriaRole(){var e;return null!==(e=this.column.getColDef().cellAriaRole)&&void 0!==e?e:"gridcell"}isCellRenderer(){const e=this.column.getColDef();return null!=e.cellRenderer||null!=e.cellRendererSelector}getValueToDisplay(){var e;return null!==(e=this.valueFormatted)&&void 0!==e?e:this.value}getDeferLoadingCellRenderer(){var e;const{beans:t,column:n}=this,{userCompFactory:i,ctrlsSvc:o,eventSvc:r}=t,s=n.getColDef(),a=this.createCellRendererParams();a.deferRender=!0;const l=tz(i,s,a);if(null!==(e=o.getGridBodyCtrl())&&void 0!==e&&null!==(e=e.scrollFeature)&&void 0!==e&&e.isScrolling()){let e;const t=new PG(t=>{e=t});return this.addManagedListeners(r,{bodyScrollEnd:()=>e()}),{loadingComp:l,onReady:t}}return{loadingComp:l,onReady:PG.resolve()}}showValue(e,t){var n,i,o;const{beans:r,column:s,rowNode:a,rangeFeature:l}=this,{userCompFactory:u}=r;let c,h=this.getValueToDisplay();const p=a.stub&&null==(null===(n=a.groupData)||void 0===n?void 0:n[s.getId()]),g=s.getColDef();if(p||this.isCellRenderer()){const e=this.createCellRendererParams();c=!p||KO(s)?JG(u,g,e):tz(u,g,e)}if(!c&&!p&&null!==(i=r.findSvc)&&void 0!==i&&i.isMatch(a,s)){const e=this.createCellRendererParams();c=JG(u,d(d({},s.getColDef()),{},{cellRenderer:"agFindCellRenderer"}),e)}if(this.hasEdit&&this.editSvc.isBatchEditing()&&this.editSvc.isRowEditing(a,{checkSiblings:!0})){const e=this.editSvc.prepDetailsDuringBatch(this,{compDetails:c,valueToDisplay:h});e&&(e.compDetails?c=e.compDetails:e.valueToDisplay&&(h=e.valueToDisplay))}this.comp.setRenderDetails(c,h,e),!t&&l&&RN(r,()=>null===l||void 0===l?void 0:l.refreshHandle()),null===(o=this.rowResizeFeature)||void 0===o||o.refreshRowResizer()}setupControlComps(){const e=this.column.getColDef();this.includeSelection=this.isIncludeControl(this.isCheckboxSelection(e),!0),this.includeRowDrag=this.isIncludeControl(e.rowDrag),this.includeDndSource=this.isIncludeControl(e.dndSource),this.comp.setIncludeSelection(this.includeSelection),this.comp.setIncludeDndSource(this.includeDndSource),this.comp.setIncludeRowDrag(this.includeRowDrag)}isForceWrapper(){return this.beans.gos.get("enableCellTextSelection")||this.column.isAutoHeight()}isIncludeControl(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(null==this.rowNode.rowPinned||t&&oV(this.rowNode))&&!!e}isCheckboxSelection(e){const{rowSelection:t,groupDisplayType:n}=this.beans.gridOptions,i=zB(t),o=UO(this.column);return("custom"!==n||"selectionColumn"===i||!o)&&(e.checkboxSelection||o&&"object"===typeof t&&OB(t))}refreshShouldDestroy(){const e=this.column.getColDef(),t=this.includeSelection!=this.isIncludeControl(this.isCheckboxSelection(e),!0),n=this.includeRowDrag!=this.isIncludeControl(e.rowDrag),i=this.includeDndSource!=this.isIncludeControl(e.dndSource),o=this.isAutoHeight!=this.column.isAutoHeight();return t||n||i||o}onPopupEditorClosed(){const{editSvc:e}=this.beans;null!==e&&void 0!==e&&e.isEditing(this,{withOpenEditor:!0})&&(null===e||void 0===e||e.stopEditing(this,{source:null!==e&&void 0!==e&&e.isBatchEditing()?"ui":"api"}))}stopEditing(){var e;let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const{editSvc:n}=this.beans;return null!==(e=null===n||void 0===n?void 0:n.stopEditing(this,{cancel:t,source:null!==n&&void 0!==n&&n.isBatchEditing()?"ui":"api"}))&&void 0!==e&&e}createCellRendererParams(){const{value:e,valueFormatted:t,column:n,rowNode:i,comp:o,eGui:r,beans:{valueSvc:s,gos:a,editSvc:l}}=this;return iO(a,{value:e,valueFormatted:t,getValue:()=>s.getValueForDisplay(n,i).value,setValue:e=>(null===l||void 0===l?void 0:l.setDataValue({rowNode:i,column:n},e))||s.setValue(i,n,e),formatValue:this.formatValue.bind(this),data:i.data,node:i,pinned:n.getPinned(),colDef:n.getColDef(),column:n,refreshCell:this.refreshCell.bind(this),eGridCell:r,eParentOfValue:o.getParentOfValue(),registerRowDragger:(e,t,n,i)=>this.registerRowDragger(e,t,i),setTooltip:(e,t)=>{var n;a.assertModuleRegistered("Tooltip",3),this.tooltipFeature&&this.disableTooltipFeature(),this.enableTooltipFeature(e,t),null===(n=this.tooltipFeature)||void 0===n||n.refreshTooltip()}})}onCellChanged(e){e.column===this.column&&this.refreshCell({})}refreshOrDestroyCell(e){var t;this.refreshShouldDestroy()?null===(t=this.rowCtrl)||void 0===t||t.recreateCell(this):this.refreshCell(e);if(this.hasEdit&&this.editCompDetails){const{editSvc:e,comp:t}=this;null!==t&&void 0!==t&&t.getCellEditor()||!e.isEditing(this,{withOpenEditor:!0})||e.startEditing(this,{startedEdit:!1,source:"api",silent:!0})}}refreshCell(){var e,t;let{force:n,suppressFlash:i,newData:o}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.suppressRefreshCell)return;const r=this.column.getColDef(),s=null==r.field&&null==r.valueGetter&&null==r.showRowGroup,a=n||s||o,l=!!this.comp,u=this.updateAndFormatValue(l);if(l){if(a||u){var c,d,h,p,g;this.showValue(!!o,!1);const e=null===(c=this.beans.filterManager)||void 0===c?void 0:c.isSuppressFlashingCellsBecauseFiltering();var m;if(!i&&!e&&r.enableCellChangeFlash)null===(m=this.beans.cellFlashSvc)||void 0===m||m.flashCell(this);null===(d=this.editStyleFeature)||void 0===d||null===(h=d.applyCellStyles)||void 0===h||h.call(d),null===(p=this.customStyleFeature)||void 0===p||p.applyUserStyles(),null===(g=this.customStyleFeature)||void 0===g||g.applyClassesFromColDef()}null===(e=this.tooltipFeature)||void 0===e||e.refreshTooltip(),null===(t=this.customStyleFeature)||void 0===t||t.applyCellClassRules()}}isCellEditable(){return this.column.isCellEditable(this.rowNode)}formatValue(e){var t;return null!==(t=this.callValueFormatter(e))&&void 0!==t?t:e}callValueFormatter(e){return this.beans.valueSvc.formatValue(this.column,this.rowNode,e)}updateAndFormatValue(e){const t=this.value,n=this.valueFormatted,{value:i,valueFormatted:o}=this.beans.valueSvc.getValueForDisplay(this.column,this.rowNode,!0);return this.value=i,this.valueFormatted=o,!e||(!this.valuesAreEqual(t,this.value)||this.valueFormatted!=n)}valuesAreEqual(e,t){const n=this.column.getColDef();return n.equals?n.equals(e,t):e===t}addDomData(e){const t=this.eGui;wB(this.beans.gos,t,FV,this),e.addDestroyFunc(()=>wB(this.beans.gos,t,FV,null))}createEvent(e,t){const{rowNode:n,column:i,value:o,beans:r}=this;return function(e,t,n,i,o){let{rowNode:r,column:s}=i;return iO(e.gos,{type:n,node:r,data:r.data,value:o,column:s,colDef:s.getColDef(),rowPinned:r.rowPinned,event:t,rowIndex:r.rowIndex})}(r,e,t,{rowNode:n,column:i},o)}processCharacter(e){var t;null===(t=this.keyboardListener)||void 0===t||t.processCharacter(e)}onKeyDown(e){var t;null===(t=this.keyboardListener)||void 0===t||t.onKeyDown(e)}onMouseEvent(e,t){var n;null===(n=this.mouseListener)||void 0===n||n.onMouseEvent(e,t)}getColSpanningList(){var e,t;return null!==(e=null===(t=this.positionFeature)||void 0===t?void 0:t.getColSpanningList())&&void 0!==e?e:[]}onLeftChanged(){var e;this.comp&&(null===(e=this.positionFeature)||void 0===e||e.onLeftChanged())}onDisplayedColumnsChanged(){this.eGui&&(this.refreshAriaColIndex(),this.refreshFirstAndLastStyles())}refreshFirstAndLastStyles(){const{comp:e,column:t,beans:n}=this;nV(e,t,n.visibleCols)}refreshAriaColIndex(){const e=this.beans.visibleCols.getAriaColIndex(this.column);TL(this.eGui,e)}onWidthChanged(){var e;return null===(e=this.positionFeature)||void 0===e?void 0:e.onWidthChanged()}getRowPosition(){const{rowIndex:e,rowPinned:t}=this.cellPosition;return{rowIndex:e,rowPinned:t}}updateRangeBordersIfRangeCount(){var e;this.comp&&(null===(e=this.rangeFeature)||void 0===e||e.updateRangeBordersIfRangeCount())}onCellSelectionChanged(){var e;this.comp&&(null===(e=this.rangeFeature)||void 0===e||e.onCellSelectionChanged())}isRangeSelectionEnabled(){return null!=this.rangeFeature}focusCell(){var e;let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1?arguments[1]:void 0;const i=null===(e=this.editSvc)||void 0===e?void 0:e.allowedFocusTargetOnValidation(this);i&&i!==this||this.beans.focusSvc.setFocusedCell(d(d({},this.getFocusedCellPosition()),{},{forceBrowserFocus:t,sourceEvent:n}))}restoreFocus(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const{beans:{editSvc:t,focusSvc:n},comp:i}=this;if(!i||null!==t&&void 0!==t&&t.isEditing(this)||!this.isCellFocused()||!n.shouldTakeFocus())return;const o=()=>{if(!this.isAlive())return;const e=i.getFocusableElement();this.isCellFocused()&&e.focus({preventScroll:!0})};e?setTimeout(o,0):o()}onRowIndexChanged(){var e,t;this.createCellPosition(),this.onCellFocused(),this.restoreFocus(),null===(e=this.rangeFeature)||void 0===e||e.onCellSelectionChanged(),null===(t=this.rowResizeFeature)||void 0===t||t.refreshRowResizer()}onSuppressCellFocusChanged(e){const t=this.eGui;t&&(KO(this.column)&&(e=!0),FN(t,"tabindex",e?void 0:-1))}onFirstRightPinnedChanged(){if(!this.comp)return;const e=this.column.isFirstRightPinned();this.comp.toggleCss("ag-cell-first-right-pinned",e)}onLastLeftPinnedChanged(){if(!this.comp)return;const e=this.column.isLastLeftPinned();this.comp.toggleCss("ag-cell-last-left-pinned",e)}checkCellFocused(){return this.beans.focusSvc.isCellFocused(this.cellPosition)}isCellFocused(){const e=this.checkCellFocused();return this.hasBeenFocused||(this.hasBeenFocused=e),e}setupFocus(){var e;this.restoreFocus(!0),this.onCellFocused(null!==(e=this.focusEventWhileNotReady)&&void 0!==e?e:void 0)}onCellFocused(e){var t,n;const{beans:i}=this;if(CV(i))return;if(!this.comp)return void(e&&(this.focusEventWhileNotReady=e));const o=this.isCellFocused(),r=null!==(t=null===(n=i.editSvc)||void 0===n?void 0:n.isEditing(this))&&void 0!==t&&t;if(this.comp.toggleCss("ag-cell-focus",o),o&&e&&e.forceBrowserFocus){let t=this.comp.getFocusableElement();if(r){const e=pV(t,null,!0);e.length&&(t=e[0])}t.focus({preventScroll:!!e.preventScrollOnBrowserFocus})}o&&this.rowCtrl.announceDescription()}createCellPosition(){const{rowIndex:e,rowPinned:t}=this.rowNode;this.cellPosition={rowIndex:e,rowPinned:WI(t),column:this.column}}applyStaticCssClasses(){const{comp:e}=this;e.toggleCss("ag-cell",!0),e.toggleCss("ag-cell-not-inline-editing",!0);const t=1==this.column.isAutoHeight();e.toggleCss("ag-cell-auto-height",t),e.toggleCss("ag-cell-normal-height",!t)}onColumnHover(){var e;null===(e=this.beans.colHover)||void 0===e||e.onCellColumnHover(this.column,this.comp)}onColDefChanged(){var e,t;this.comp&&(this.column.isTooltipEnabled()?(this.disableTooltipFeature(),this.enableTooltipFeature()):this.disableTooltipFeature(),this.setWrapText(),null!==(e=this.editSvc)&&void 0!==e&&e.isEditing(this)?null===(t=this.editSvc)||void 0===t||t.handleColDefChanged(this):this.refreshOrDestroyCell({force:!0,suppressFlash:!0}))}setWrapText(){const e=1==this.column.getColDef().wrapText;this.comp.toggleCss("ag-cell-wrap-text",e)}dispatchCellContextMenuEvent(e){const t=this.column.getColDef(),n=this.createEvent(e,"cellContextMenu"),{beans:i}=this;i.eventSvc.dispatchEvent(n),t.onCellContextMenu&&window.setTimeout(()=>{i.frameworkOverrides.wrapOutgoing(()=>{t.onCellContextMenu(n)})},0)}getCellRenderer(){var e,t;return null!==(e=null===(t=this.comp)||void 0===t?void 0:t.getCellRenderer())&&void 0!==e?e:null}destroy(){this.onCompAttachedFuncs=[],this.onEditorAttachedFuncs=[],this.isCellFocused()&&this.hasBrowserFocus()&&this.beans.focusSvc.attemptToRecoverFocus(),super.destroy()}hasBrowserFocus(){var e,t;return null!==(e=null===(t=this.eGui)||void 0===t?void 0:t.contains(SB(this.beans)))&&void 0!==e&&e}createSelectionCheckbox(){var e;const t=null===(e=this.beans.selectionSvc)||void 0===e?void 0:e.createCheckboxSelectionComponent();if(t)return this.beans.context.createBean(t),t.init({rowNode:this.rowNode,column:this.column}),t}createDndSource(){const e=this.beans.registry.createDynamicBean("dndSourceComp",!1,this.rowNode,this.column,this.eGui);return e&&this.beans.context.createBean(e),e}registerRowDragger(e,t,n){if(this.customRowDragComp)return void this.customRowDragComp.setDragElement(e,t);const i=this.createRowDragComp(e,t,n);i&&(this.customRowDragComp=i,this.addDestroyFunc(()=>{this.beans.context.destroyBean(i),this.customRowDragComp=null}))}createRowDragComp(e,t,n){var i;const o=null===(i=this.beans.rowDragSvc)||void 0===i?void 0:i.createRowDragCompForCell(this.rowNode,this.column,()=>this.value,e,t,n);if(o)return this.beans.context.createBean(o),o}cellEditorAttached(){this.onEditorAttachedFuncs.forEach(e=>e()),this.onEditorAttachedFuncs=[]}setFocusedCellPosition(e){}getFocusedCellPosition(){return this.cellPosition}refreshAriaRowIndex(){}getRootElement(){return this.eGui}},PV="__ag_grid_instance";function TV(e,t){t[PV]=e.gridInstanceId}function _V(e,t){return MV(e,t.target)}function MV(e,t){let n=t;for(;n;){const t=n[PV];if(UI(t)){return t===e.gridInstanceId}n=n.parentElement}return!1}function IV(e,t){var n,i;return null!==(n=null===(i=kV(e,t.target))||void 0===i?void 0:i.getFocusedCellPosition())&&void 0!==n?n:null}function LV(e,t){const n=dB(e.gos,"normal"),i=t;let o,r;null!=i.clientX||null!=i.clientY?(o=i.clientX,r=i.clientY):(o=i.x,r=i.y);const{pageFirstPixel:s}=e.pageBounds.getCurrentPagePixelRange();if(r+=s,n){const t=e.ctrlsSvc.getScrollFeature(),n=t.getVScrollPosition();o+=t.getHScrollPosition().left,r+=n.top}return{x:o,y:r}}var NV=(e=>(e[e.ToolPanel=0]="ToolPanel",e[e.HeaderCell=1]="HeaderCell",e[e.RowDrag=2]="RowDrag",e[e.ChartPanel=3]="ChartPanel",e[e.AdvancedFilterBuilder=4]="AdvancedFilterBuilder",e))(NV||{});function BV(e,t){return e+"_"+t}function OV(e){return e instanceof GV}var GV=class extends vO{constructor(e,t,n,i){super(),this.providedColumnGroup=e,this.groupId=t,this.partId=n,this.pinned=i,this.isColumn=!1,this.displayedChildren=[],this.autoHeaderHeight=null,this.parent=null}reset(){this.parent=null,this.children=null,this.displayedChildren=null}getParent(){return this.parent}getUniqueId(){return BV(this.groupId,this.partId)}isEmptyGroup(){return 0===this.displayedChildren.length}isMoving(){const e=this.getProvidedColumnGroup().getLeafColumns();return!(!e||0===e.length)&&e.every(e=>e.isMoving())}checkLeft(){if(this.displayedChildren.forEach(e=>{OV(e)&&e.checkLeft()}),this.displayedChildren.length>0)if(this.gos.get("enableRtl")){const e=_O(this.displayedChildren).getLeft();this.setLeft(e)}else{const e=this.displayedChildren[0].getLeft();this.setLeft(e)}else this.setLeft(null)}getLeft(){return this.left}getOldLeft(){return this.oldLeft}setLeft(e){this.oldLeft=this.left,this.left!==e&&(this.left=e,this.dispatchLocalEvent({type:"leftChanged"}))}getPinned(){return this.pinned}getGroupId(){return this.groupId}getPartId(){return this.partId}getActualWidth(){var e;let t=0;return null===(e=this.displayedChildren)||void 0===e||e.forEach(e=>{t+=e.getActualWidth()}),t}isResizable(){if(!this.displayedChildren)return!1;let e=!1;return this.displayedChildren.forEach(t=>{t.isResizable()&&(e=!0)}),e}getMinWidth(){let e=0;return this.displayedChildren.forEach(t=>{e+=t.getMinWidth()}),e}addChild(e){this.children||(this.children=[]),this.children.push(e)}getDisplayedChildren(){return this.displayedChildren}getLeafColumns(){const e=[];return this.addLeafColumns(e),e}getDisplayedLeafColumns(){const e=[];return this.addDisplayedLeafColumns(e),e}getDefinition(){return this.providedColumnGroup.getColGroupDef()}getColGroupDef(){return this.providedColumnGroup.getColGroupDef()}isPadding(){return this.providedColumnGroup.isPadding()}isExpandable(){return this.providedColumnGroup.isExpandable()}isExpanded(){return this.providedColumnGroup.isExpanded()}setExpanded(e){this.providedColumnGroup.setExpanded(e)}isAutoHeaderHeight(){var e;return!(null===(e=this.getColGroupDef())||void 0===e||!e.autoHeaderHeight)}getAutoHeaderHeight(){return this.autoHeaderHeight}setAutoHeaderHeight(e){const t=e!==this.autoHeaderHeight;return this.autoHeaderHeight=e,t}addDisplayedLeafColumns(e){this.displayedChildren.forEach(t=>{DO(t)?e.push(t):OV(t)&&t.addDisplayedLeafColumns(e)})}addLeafColumns(e){this.children.forEach(t=>{DO(t)?e.push(t):OV(t)&&t.addLeafColumns(e)})}getChildren(){return this.children}getColumnGroupShow(){return this.providedColumnGroup.getColumnGroupShow()}getProvidedColumnGroup(){return this.providedColumnGroup}getPaddingLevel(){const e=this.getParent();return this.isPadding()&&e&&e.isPadding()?1+e.getPaddingLevel():0}calculateDisplayedColumns(){this.displayedChildren=[];let e=this;for(;null!=e&&e.isPadding();)e=e.getParent();if(!(!!e&&e.getProvidedColumnGroup().isExpandable()))return this.displayedChildren=this.children,void this.dispatchLocalEvent({type:"displayedChildrenChanged"});this.children.forEach(t=>{var n;if(OV(t)&&!(null!==(n=t.displayedChildren)&&void 0!==n&&n.length))return;switch(t.getColumnGroupShow()){case"open":e.getProvidedColumnGroup().isExpanded()&&this.displayedChildren.push(t);break;case"closed":e.getProvidedColumnGroup().isExpanded()||this.displayedChildren.push(t);break;default:this.displayedChildren.push(t)}}),this.dispatchLocalEvent({type:"displayedChildrenChanged"})}},zV="row-group-",VV="t-",HV="b-",jV=0,WV=class{constructor(e){this.master=!1,this.detail=void 0,this.rowIndex=null,this.key=null,this.sourceRowIndex=-1,this.childrenMapped=null,this.treeParent=null,this.treeNodeFlags=0,this.displayed=!1,this.rowTop=null,this.oldRowTop=null,this.selectable=!0,this.__objectId=jV++,this.alreadyRendered=!1,this.hovered=!1,this.__selected=!1,this.beans=e}setData(e){this.setDataCommon(e,!1)}updateData(e){this.setDataCommon(e,!0)}setDataCommon(e,t){var n;const{valueCache:i,eventSvc:o}=this.beans,r=this.data;this.data=e,null===i||void 0===i||i.onDataChanged(),this.updateDataOnDetailNode(),this.resetQuickFilterAggregateText();const s=this.createDataChangedEvent(e,r,t);if(null===(n=this.__localEventService)||void 0===n||n.dispatchEvent(s),this.sibling){var a;this.sibling.data=e;const n=this.sibling.createDataChangedEvent(e,r,t);null===(a=this.sibling.__localEventService)||void 0===a||a.dispatchEvent(n)}o.dispatchEvent({type:"rowNodeDataChanged",node:this});const l=this.pinnedSibling;var u;l&&(l.data=e,null===(u=l.__localEventService)||void 0===u||u.dispatchEvent(l.createDataChangedEvent(e,r,t)),o.dispatchEvent({type:"rowNodeDataChanged",node:l}))}updateDataOnDetailNode(){this.detailNode&&(this.detailNode.data=this.data)}createDataChangedEvent(e,t,n){return{type:"dataChanged",node:this,oldData:t,newData:e,update:n}}getRowIndexString(){return null==this.rowIndex?(oB(13),null):"top"===this.rowPinned?VV+this.rowIndex:"bottom"===this.rowPinned?HV+this.rowIndex:this.rowIndex.toString()}setDataAndId(e,t){var n,i;const{selectionSvc:o}=this.beans,r=null===o||void 0===o||null===(n=o.createDaemonNode)||void 0===n?void 0:n.call(o,this),s=this.data;this.data=e,this.updateDataOnDetailNode(),this.setId(t),o&&(o.updateRowSelectable(this),o.syncInRowNode(this,r));const a=this.createDataChangedEvent(e,s,!1);null===(i=this.__localEventService)||void 0===i||i.dispatchEvent(a)}setId(e){const t=LB(this.beans.gos);if(t)if(this.data){var n,i;const e=null!==(n=null===(i=this.parent)||void 0===i?void 0:i.getRoute())&&void 0!==n?n:[];this.id=t({data:this.data,parentKeys:e.length>0?e:void 0,level:this.level,rowPinned:this.rowPinned}),this.id.startsWith(zV)&&oB(14,{groupPrefix:zV})}else this.id=void 0;else this.id=e}setRowTop(e){this.oldRowTop=this.rowTop,this.rowTop!==e&&(this.rowTop=e,this.dispatchRowEvent("topChanged"),this.setDisplayed(null!==e))}clearRowTopAndRowIndex(){this.oldRowTop=null,this.setRowTop(null),this.setRowIndex(null)}setHovered(e){this.hovered=e}isHovered(){return this.hovered}setRowHeight(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.rowHeight=e,this.rowHeightEstimated=t,this.dispatchRowEvent("heightChanged")}setExpanded(e,t,n){var i;null===(i=this.beans.expansionSvc)||void 0===i||i.setExpanded(this,e,t,n)}setDataValue(e,t,n){var i;const{colModel:o,valueSvc:r,gos:s,editSvc:a}=this.beans,l="string"!==typeof e?e:null!==(i=o.getCol(e))&&void 0!==i?i:o.getColDefCol(e);if(!l)return!1;const u=r.getValueForDisplay(l,this,void 0,void 0,"api").value;if(s.get("readOnlyEdit")){const{beans:{eventSvc:e},data:i,rowIndex:o,rowPinned:r}=this;return e.dispatchEvent({type:"cellEditRequest",event:null,rowIndex:o,rowPinned:r,column:l,colDef:l.colDef,data:i,node:this,oldValue:u,newValue:t,value:t,source:n}),!1}if(a&&!a.committing){const e=a.setDataValue({rowNode:this,column:l},t,n);if(null!=e)return e}const c=r.setValue(this,l,t,n);this.dispatchCellChangedEvent(l,t,u);const d=this.pinnedSibling;return d&&c&&d.dispatchCellChangedEvent(l,t,u),c}updateHasChildren(){let e=this.group&&!this.footer||this.childrenAfterGroup&&this.childrenAfterGroup.length>0;const{rowChildrenSvc:t}=this.beans;t&&(e=t.getHasChildrenValue(this)),e!==this.__hasChildren&&(this.__hasChildren=!!e,this.dispatchRowEvent("hasChildrenChanged"))}hasChildren(){return null==this.__hasChildren&&this.updateHasChildren(),this.__hasChildren}dispatchCellChangedEvent(e,t,n){var i;const o={type:"cellChanged",node:this,column:e,newValue:t,oldValue:n};null===(i=this.__localEventService)||void 0===i||i.dispatchEvent(o)}resetQuickFilterAggregateText(){this.quickFilterAggregateText=null}isExpandable(){var e,t;return null!==(e=null===(t=this.beans.expansionSvc)||void 0===t?void 0:t.isExpandable(this))&&void 0!==e&&e}isSelected(){return this.footer?this.sibling.isSelected():this.rowPinned&&this.pinnedSibling?this.pinnedSibling.isSelected():this.__selected}depthFirstSearch(e){var t;null===(t=this.childrenAfterGroup)||void 0===t||t.forEach(t=>t.depthFirstSearch(e)),e(this)}dispatchRowEvent(e){var t;null===(t=this.__localEventService)||void 0===t||t.dispatchEvent({type:e,node:this})}setSelected(e){var t;let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"api";null===(t=this.beans.selectionSvc)||void 0===t||t.setNodesSelected({nodes:[this],newValue:e,clearSelection:n,source:i})}isRowPinned(){return!!this.rowPinned}__addEventListener(e,t){this.__localEventService||(this.__localEventService=new zI),this.__localEventService.addEventListener(e,t)}__removeEventListener(e,t){this.removeLocalListener(e,t)}addEventListener(e,t){var n,i,o,r,s;null===(n=this.beans.validation)||void 0===n||n.checkRowEvents(e),this.__localEventService||(this.__localEventService=new zI),this.frameworkEventListenerService=null===(i=(o=this.beans.frameworkOverrides).createLocalEventListenerWrapper)||void 0===i?void 0:i.call(o,this.frameworkEventListenerService,this.__localEventService);const a=null!==(r=null===(s=this.frameworkEventListenerService)||void 0===s?void 0:s.wrap(e,t))&&void 0!==r?r:t;this.__localEventService.addEventListener(e,a)}removeEventListener(e,t){var n,i;const o=null!==(n=null===(i=this.frameworkEventListenerService)||void 0===i?void 0:i.unwrap(e,t))&&void 0!==n?n:t;this.removeLocalListener(e,o)}removeLocalListener(e,t){var n,i;null===(n=this.__localEventService)||void 0===n||n.removeEventListener(e,t),null!==(i=this.__localEventService)&&void 0!==i&&i.noRegisteredListenersExist()&&(this.__localEventService=null)}isFullWidthCell(){if(iB(61),this.detail)return!0;const e=this.beans.gos.getCallback("isFullWidthRow");return!!e&&e({rowNode:this})}getRoute(){if(-1===this.level)return[];if(null==this.key)return;const e=[];let t=this;for(;t&&null!=t.key;)e.push(t.key),t=t.parent;return e.reverse()}setFirstChild(e){this.firstChild!==e&&(this.firstChild=e,this.dispatchRowEvent("firstChildChanged"))}setDisplayed(e){this.displayed!==e&&(this.displayed=e,this.dispatchRowEvent("displayedChanged"))}setRowIndex(e){this.rowIndex!==e&&(this.rowIndex=e,this.dispatchRowEvent("rowIndexChanged"))}setAllChildrenCount(e){this.allChildrenCount!==e&&(this.allChildrenCount=e,this.dispatchRowEvent("allChildrenCountChanged"))}setUiLevel(e){this.uiLevel!==e&&(this.uiLevel=e,this.dispatchRowEvent("uiLevelChanged"))}getFirstChild(){var e,t;return this.childStore?this.childStore.getFirstNode():null!==(e=null===(t=this.childrenAfterSort)||void 0===t?void 0:t[0])&&void 0!==e?e:null}};function UV(e,t,n){return iO(t,{type:n,node:e,data:e.data,rowIndex:e.rowIndex,rowPinned:e.rowPinned})}var KV=new Set(["__localEventService","__objectId","sticky","__autoHeights","__checkAutoHeightsDebounced","childStore"]);function qV(e,t){const n=new WV(t);return Object.keys(e).forEach(t=>{KV.has(t)||(n[t]=e[t])}),n.oldRowTop=null,n}var YV={agSetColumnFilter:"agSetColumnFilterHandler",agMultiColumnFilter:"agMultiColumnFilterHandler",agGroupColumnFilter:"agGroupColumnFilterHandler",agNumberColumnFilter:"agNumberColumnFilterHandler",agDateColumnFilter:"agDateColumnFilterHandler",agTextColumnFilter:"agTextColumnFilterHandler"},ZV=new Set(Object.values(YV));function $V(e,t){const n=e.filterUi;if(!n)return null;if(n.created)return n.promise;if(t)return null;const i=n.create(n.refreshed),o=n;return o.created=!0,o.promise=i,i}function XV(e,t,n,i,o,r){var s;return null===(s=t.refresh)||void 0===s||s.call(t,d(d({},n),{},{model:i,source:r})),e().then(e=>{if(e){const{filter:t,filterParams:n}=e;QV(t,n,i,o,r)}})}function QV(e,t,n,i,o){var r;null===e||void 0===e||null===(r=e.refresh)||void 0===r||r.call(e,d(d({},t),{},{model:n,state:i,source:o}))}function JV(e,t,n){const i=e();null!==i&&void 0!==i&&i.created&&i.promise.then(e=>{var o;const r=t();QV(e,i.filterParams,r,null!==(o=n())&&void 0!==o?o:{model:r},"ui")})}function eH(e,t,n,i,o,r){let s,a,l=!1;switch(e){case"apply":{var u;const e=i();a=null!==(u=null===e||void 0===e?void 0:e.model)&&void 0!==u?u:null,s={state:null===e||void 0===e?void 0:e.state,model:a},l=!0;break}case"clear":s={model:null};break;case"reset":s={model:null},l=!0,a=null;break;case"cancel":s={model:n()}}o(s),l?r(a):JV(t,n,i)}function tH(e,t){var n;return null!==(n=e[t])&&void 0!==n?n:null}var nH=class extends AG{constructor(e){const{className:t="ag-filter-apply-panel"}=null!==e&&void 0!==e?e:{};super(function(e){return{tag:"div",cls:e}}(t)),this.listeners=[],this.validationMessage=null,this.className=t}updateButtons(e,t){const n=this.buttons;if(this.buttons=e,n===e)return;const i=this.getGui();let o;uN(i),this.destroyListeners();const r=document.createDocumentFragment(),s=this.className,a=e=>{let{type:n,label:i}=e;const a=e=>{this.dispatchLocalEvent({type:n,event:e})};["apply","clear","reset","cancel"].includes(n)||iB(75);const l="apply"===n,u=MN({tag:"button",attrs:{type:l&&t?"submit":"button"},ref:"".concat(n,"FilterButton"),cls:"ag-button ag-standard-button ".concat(s,"-button").concat(l?" "+s+"-apply-button":""),children:i});this.activateTabIndex([u]),l&&(o=u);const c=e=>{e.key===sV.ENTER&&(e.preventDefault(),a(e))},d=this.listeners;u.addEventListener("click",a),d.push(()=>u.removeEventListener("click",a)),u.addEventListener("keydown",c),d.push(()=>u.removeEventListener("keydown",c)),r.append(u)};e.forEach(e=>a(e)),this.eApply=o;const l=this.validationTooltipFeature;o&&!l?this.validationTooltipFeature=this.createOptionalManagedBean(this.beans.registry.createDynamicBean("tooltipFeature",!1,{getGui:()=>this.eApply,getLocation:()=>"advancedFilter",getTooltipShowDelayOverride:()=>1e3})):!o&&l&&(this.validationTooltipFeature=this.destroyBean(l)),i.append(r)}getApplyButton(){return this.eApply}updateValidity(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const i=this.eApply;i&&(JL(i,!1===e),this.validationMessage=null!==n&&void 0!==n?n:null,null===(t=this.validationTooltipFeature)||void 0===t||t.setTooltipAndRefresh(this.validationMessage))}destroyListeners(){this.listeners.forEach(e=>e()),this.listeners=[]}destroy(){this.destroyListeners(),super.destroy()}},iH={selector:"AG-FILTER-BUTTON",component:nH},oH={applyFilter:"Apply",clearFilter:"Clear",resetFilter:"Reset",cancelFilter:"Cancel",textFilter:"Text Filter",numberFilter:"Number Filter",dateFilter:"Date Filter",setFilter:"Set Filter",filterOoo:"Filter...",empty:"Choose one",equals:"Equals",notEqual:"Does not equal",lessThan:"Less than",greaterThan:"Greater than",inRange:"Between",inRangeStart:"From",inRangeEnd:"To",lessThanOrEqual:"Less than or equal to",greaterThanOrEqual:"Greater than or equal to",contains:"Contains",notContains:"Does not contain",startsWith:"Begins with",endsWith:"Ends with",blank:"Blank",notBlank:"Not blank",before:"Before",after:"After",andCondition:"AND",orCondition:"OR",dateFormatOoo:"yyyy-mm-dd",filterSummaryInactive:"is (All)",filterSummaryContains:"contains",filterSummaryNotContains:"does not contain",filterSummaryTextEquals:"equals",filterSummaryTextNotEqual:"does not equal",filterSummaryStartsWith:"begins with",filterSummaryEndsWith:"ends with",filterSummaryBlank:"is blank",filterSummaryNotBlank:"is not blank",filterSummaryEquals:"=",filterSummaryNotEqual:"!=",filterSummaryGreaterThan:">",filterSummaryGreaterThanOrEqual:">=",filterSummaryLessThan:"<",filterSummaryLessThanOrEqual:"<=",filterSummaryInRange:"between",filterSummaryInRangeValues:e=>"(".concat(e[0],", ").concat(e[1],")"),filterSummaryTextQuote:e=>'"'.concat(e[0],'"')};function rH(e,t,n){return jI(e,oH,t,n)}function sH(e,t){const{debounceMs:n}=e;return aH(e)?(null!=n&&iB(71),0):null!==n&&void 0!==n?n:t}function aH(e){var t,n;return(null!==(t=null===(n=e.buttons)||void 0===n?void 0:n.indexOf("apply"))&&void 0!==t?t:-1)>=0}var lH=class extends AG{constructor(e,t,n,i,o,r){super(),this.column=e,this.wrapper=t,this.eventParent=n,this.updateModel=i,this.isGlobalButtons=o,this.enableGlobalButtonCheck=r,this.hidePopup=null,this.applyActive=!1}postConstruct(){const{comp:e,params:t}=this.wrapper,n=t,i=n.useForm,o=i?"form":"div";this.setTemplate({tag:o,cls:"ag-filter-wrapper"}),i&&this.addManagedElementListeners(this.getGui(),{submit:e=>{null===e||void 0===e||e.preventDefault()},keydown:this.handleKeyDown.bind(this)}),this.appendChild(e.getGui()),this.params=n,this.resetButtonsPanel(n),this.addManagedListeners(this.eventParent,d({filterParamsChanged:e=>{let{column:t,params:n}=e;t===this.column&&this.resetButtonsPanel(n,this.params)},filterStateChanged:e=>{let{column:t,state:n}=e;var i;t===this.column&&(null===(i=this.eButtons)||void 0===i||i.updateValidity(!1!==n.valid))},filterAction:e=>{let{column:t,action:n,event:i}=e;t===this.column&&this.afterAction(n,i)}},this.enableGlobalButtonCheck?{filterGlobalButtons:e=>{let{isGlobal:t}=e;if(t!==this.isGlobalButtons){this.isGlobalButtons=t;const e=this.params;this.resetButtonsPanel(e,e,!0)}}}:void 0))}afterGuiAttached(e){e&&(this.hidePopup=e.hidePopup)}resetButtonsPanel(e,t,n){const{buttons:i,readOnly:o}=null!==t&&void 0!==t?t:{},{buttons:r,readOnly:s,useForm:a}=e;if(!n&&o===s&&YI(i,r))return;const l=r&&r.length>0&&!e.readOnly&&!this.isGlobalButtons;let u=this.eButtons;if(l){const e=r.map(e=>({type:e,label:rH(this,"".concat(e,"Filter"))}));if(this.applyActive=aH(this.params),!u){var c;u=this.createBean(new nH),this.appendChild(u.getGui());const e=this.column,t=t=>n=>{let{event:i}=n;this.updateModel(e,t),this.afterAction(t,i)};null===(c=u)||void 0===c||c.addManagedListeners(u,{apply:t("apply"),clear:t("clear"),reset:t("reset"),cancel:t("cancel")}),this.eButtons=u}u.updateButtons(e,a)}else this.applyActive=!1,u&&(cN(u.getGui()),this.eButtons=this.destroyBean(u))}close(e){const t=this.hidePopup;if(!t)return;const n=e,i=n&&n.key;let o;i!==sV.ENTER&&i!==sV.SPACE||(o={keyboardEvent:n}),t(o),this.hidePopup=null}afterAction(e,t){const{params:n,applyActive:i}=this,o=null===n||void 0===n?void 0:n.closeOnApply;switch(e){case"apply":null===t||void 0===t||t.preventDefault(),o&&i&&this.close(t);break;case"reset":o&&i&&this.close();break;case"cancel":o&&this.close(t)}}handleKeyDown(e){!e.defaultPrevented&&e.key===sV.ENTER&&this.applyActive&&(this.updateModel(this.column,"apply"),this.afterAction("apply",e))}destroy(){this.hidePopup=null,this.eButtons=this.destroyBean(this.eButtons)}},uH={tag:"div",cls:"ag-filter"},cH=class extends AG{constructor(e,t,n){super(uH),this.column=e,this.source=t,this.enableGlobalButtonCheck=n,this.wrapper=null}postConstruct(){var e;null===(e=this.beans.colFilter)||void 0===e||e.activeFilterComps.add(this),this.createFilter(!0),this.addManagedEventListeners({filterDestroyed:this.onFilterDestroyed.bind(this)})}hasFilter(){return null!=this.wrapper}getFilter(){var e,t;return null!==(e=null===(t=this.wrapper)||void 0===t?void 0:t.then(e=>e.comp))&&void 0!==e?e:null}afterInit(){var e,t;return null!==(e=null===(t=this.wrapper)||void 0===t?void 0:t.then(()=>{}))&&void 0!==e?e:PG.resolve()}afterGuiAttached(e){var t;this.afterGuiAttachedParams=e,null===(t=this.wrapper)||void 0===t||t.then(t=>{var n,i,o;null===(n=this.comp)||void 0===n||n.afterGuiAttached(e),null===t||void 0===t||null===(i=t.comp)||void 0===i||null===(o=i.afterGuiAttached)||void 0===o||o.call(i,e)})}afterGuiDetached(){var e;null===(e=this.wrapper)||void 0===e||e.then(e=>{var t,n;null===e||void 0===e||null===(t=e.comp)||void 0===t||null===(n=t.afterGuiDetached)||void 0===n||n.call(t)})}createFilter(e){var t;const{column:n,source:i,beans:{colFilter:o}}=this,r=null!==(t=o.getFilterUiForDisplay(n))&&void 0!==t?t:null;this.wrapper=r,null===r||void 0===r||r.then(t=>{if(!t)return;const{isHandler:r,comp:s}=t;let a;if(r){const e=!!this.enableGlobalButtonCheck,i=this.createBean(new lH(n,t,o,o.updateModel.bind(o),e&&o.isGlobalButtons,e));this.comp=i,a=i.getGui()}else a=s.getGui(),UI(a)||iB(69,{guiFromFilter:a});var l;(this.appendChild(a),e)?this.eventSvc.dispatchEvent({type:"filterOpened",column:n,source:i,eGui:this.getGui()}):null===(l=s.afterGuiAttached)||void 0===l||l.call(s,this.afterGuiAttachedParams)})}onFilterDestroyed(e){const{source:t,column:n}=e;"api"!==t&&"paramsUpdated"!==t||n.getId()!==this.column.getId()||!this.beans.colModel.getColDefCol(this.column)||(uN(this.getGui()),this.comp=this.destroyBean(this.comp),this.createFilter())}destroy(){var e;null===(e=this.beans.colFilter)||void 0===e||e.activeFilterComps.delete(this),this.eventSvc.dispatchEvent({type:"filterClosed",column:this.column}),this.wrapper=null,this.comp=this.destroyBean(this.comp),this.afterGuiAttachedParams=void 0,super.destroy()}},dH=new RegExp("^\\d{4}-\\d{2}-\\d{2}(".concat("T","\\d{2}:\\d{2}:\\d{2}\\D?)?"));function hH(e,t){return e.toString().padStart(t,"0")}function pH(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"-";if(!e)return null;let i=[e.getFullYear(),e.getMonth()+1,e.getDate()].map(e=>hH(e,2)).join(n);return t&&(i+="T"+[e.getHours(),e.getMinutes(),e.getSeconds()].map(e=>hH(e,2)).join(":")),i}function gH(e){return e?!(arguments.length>1&&void 0!==arguments[1])||arguments[1]?[String(e.getFullYear()),String(e.getMonth()+1),hH(e.getDate(),2),hH(e.getHours(),2),":".concat(hH(e.getMinutes(),2)),":".concat(hH(e.getSeconds(),2))]:[e.getFullYear(),e.getMonth()+1,hH(e.getDate(),2)].map(String):null}var mH=e=>{if(e>3&&e<21)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd"}return"th"};function vH(e,t){if(null==t)return pH(e,!1);const n=hH(e.getFullYear(),4),i=["January","February","March","April","May","June","July","August","September","October","November","December"],o=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],r={YYYY:()=>n.slice(n.length-4,n.length),YY:()=>n.slice(n.length-2,n.length),Y:()=>"".concat(e.getFullYear()),MMMM:()=>i[e.getMonth()],MMM:()=>i[e.getMonth()].slice(0,3),MM:()=>hH(e.getMonth()+1,2),Mo:()=>"".concat(e.getMonth()+1).concat(mH(e.getMonth()+1)),M:()=>"".concat(e.getMonth()+1),Do:()=>"".concat(e.getDate()).concat(mH(e.getDate())),DD:()=>hH(e.getDate(),2),D:()=>"".concat(e.getDate()),dddd:()=>o[e.getDay()],ddd:()=>o[e.getDay()].slice(0,3),dd:()=>o[e.getDay()].slice(0,2),do:()=>"".concat(e.getDay()).concat(mH(e.getDay())),d:()=>"".concat(e.getDay())},s=new RegExp(Object.keys(r).join("|"),"g");return t.replace(s,e=>e in r?r[e]():e)}function fH(e){return!!wH(e,arguments.length>1&&void 0!==arguments[1]&&arguments[1])}function wH(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return null;if(!dH.test(e))return null;const[n,i]=e.split("T");if(!n)return null;const o=n.split("-").map(e=>parseInt(e,10));if(3!==o.filter(e=>!isNaN(e)).length)return null;const[r,s,a]=o,l=new Date(r,s-1,a);if(l.getFullYear()!==r||l.getMonth()!==s-1||l.getDate()!==a)return null;if(!i&&t)return null;if(!i||"00:00:00"===i)return l;const[u,c,d]=i.split(":").map(e=>parseInt(e,10));if(u>=0&&u<24)l.setHours(u);else if(t)return null;if(c>=0&&c<60)l.setMinutes(c);else if(t)return null;if(d>=0&&d<60)l.setSeconds(d);else if(t)return null;return l}var CH={january:"January",february:"February",march:"March",april:"April",may:"May",june:"June",july:"July",august:"August",september:"September",october:"October",november:"November",december:"December"},bH=["january","february","march","april","may","june","july","august","september","october","november","december"];function yH(e,t){return null==e?-1:null==t?1:parseFloat(e)-parseFloat(t)}function SH(e){return e instanceof Date&&!isNaN(e.getTime())}var xH={number:()=>{},boolean:()=>({maxNumConditions:1,debounceMs:0,filterOptions:["empty",{displayKey:"true",displayName:"True",predicate:(e,t)=>t,numberOfInputs:0},{displayKey:"false",displayName:"False",predicate:(e,t)=>!1===t,numberOfInputs:0}]}),date:()=>({isValidDate:SH}),dateString:e=>{let{dataTypeDefinition:t}=e;return{comparator:(e,n)=>{const i=t.dateParser(n);return null==n||i<e?-1:i>e?1:0},isValidDate:e=>"string"===typeof e&&SH(t.dateParser(e))}},dateTime:e=>xH.date(e),dateTimeString:e=>xH.dateString(e),object:()=>{},text:()=>{}},DH={number:()=>({comparator:yH}),boolean:e=>{let{t:t}=e;return{valueFormatter:e=>UI(e.value)?t(String(e.value),e.value?"True":"False"):t("blanks","(Blanks)")}},date:e=>{let{formatValue:t,t:n}=e;return{valueFormatter:e=>{const i=t(e);return UI(i)?i:n("blanks","(Blanks)")},treeList:!0,treeListFormatter:(e,t)=>{if("NaN"===e)return n("invalidDate","Invalid Date");if(1===t&&null!=e){const t=bH[Number(e)-1];return n(t,CH[t])}return null!==e&&void 0!==e?e:n("blanks","(Blanks)")},treeListPathGetter:e=>gH(e,!1)}},dateString:e=>{let{formatValue:t,dataTypeDefinition:n,t:i}=e;return{valueFormatter:e=>{const n=t(e);return UI(n)?n:i("blanks","(Blanks)")},treeList:!0,treeListPathGetter:e=>gH(n.dateParser(null!==e&&void 0!==e?e:void 0),!1),treeListFormatter:(e,t)=>{if(1===t&&null!=e){const t=bH[Number(e)-1];return i(t,CH[t])}return null!==e&&void 0!==e?e:i("blanks","(Blanks)")}}},dateTime:e=>{const t=DH.date(e);return t.treeListPathGetter=gH,t},dateTimeString(e){const t=e.dataTypeDefinition.dateParser,n=DH.dateString(e);return n.treeListPathGetter=e=>gH(t(null!==e&&void 0!==e?e:void 0)),n},object:e=>{let{formatValue:t,t:n}=e;return{valueFormatter:e=>{const i=t(e);return UI(i)?i:n("blanks","(Blanks)")}}},text:()=>{}};function EH(e,t,n,i,o,r,s){let a=t,l=n;const u="agSetColumnFilter"===e;l||"object"!==i.baseDataType||u||(l=e=>{let{column:t,node:n}=e;return o({column:t,node:n,value:r.valueSvc.getValue(t,n)})});const c=(0,(u?DH:xH)[i.baseDataType])({dataTypeDefinition:i,formatValue:o,t:s});return a="object"===typeof t?d(d({},c),t):c,{filterParams:a,filterValueGetter:l}}var FH={boolean:"agTextColumnFilter",date:"agDateColumnFilter",dateString:"agDateColumnFilter",dateTime:"agDateColumnFilter",dateTimeString:"agDateColumnFilter",number:"agNumberColumnFilter",object:"agTextColumnFilter",text:"agTextColumnFilter"},kH={boolean:"agTextColumnFloatingFilter",date:"agDateColumnFloatingFilter",dateString:"agDateColumnFloatingFilter",dateTime:"agDateColumnFloatingFilter",dateTimeString:"agDateColumnFloatingFilter",number:"agNumberColumnFloatingFilter",object:"agTextColumnFloatingFilter",text:"agTextColumnFloatingFilter"};function AH(e){return(arguments.length>1&&void 0!==arguments[1]&&arguments[1]?kH:FH)[null!==e&&void 0!==e?e:"text"]}var RH="ag-resizer-wrapper",PH=(e,t)=>({tag:"div",ref:"".concat(e,"Resizer"),cls:"ag-resizer ag-resizer-".concat(t)}),TH={tag:"div",cls:RH,children:[PH("eTopLeft","topLeft"),PH("eTop","top"),PH("eTopRight","topRight"),PH("eRight","right"),PH("eBottomRight","bottomRight"),PH("eBottom","bottom"),PH("eBottomLeft","bottomLeft"),PH("eLeft","left")]},_H=class extends vO{constructor(e,t){super(),this.element=e,this.dragStartPosition={x:0,y:0},this.position={x:0,y:0},this.lastSize={width:-1,height:-1},this.positioned=!1,this.resizersAdded=!1,this.resizeListeners=[],this.boundaryEl=null,this.isResizing=!1,this.isMoving=!1,this.resizable={},this.movable=!1,this.currentResizer=null,this.config=Object.assign({},{popup:!1},t)}wireBeans(e){this.popupSvc=e.popupSvc,this.dragSvc=e.dragSvc}center(e){const{clientHeight:t,clientWidth:n}=this.offsetParent,i=n/2-this.getWidth()/2,o=t/2-this.getHeight()/2;this.offsetElement(i,o,e)}initialisePosition(e){if(this.positioned)return;const{centered:t,forcePopupParentAsOffsetParent:n,minWidth:i,width:o,minHeight:r,height:s,x:a,y:l}=this.config;this.offsetParent||this.setOffsetParent();let u=0,c=0;const d=hN(this.element);if(d){const e=this.findBoundaryElement(),t=window.getComputedStyle(e);if(null!=t.minWidth){const n=e.offsetWidth-this.element.offsetWidth;c=parseInt(t.minWidth,10)-n}if(null!=t.minHeight){const n=e.offsetHeight-this.element.offsetHeight;u=parseInt(t.minHeight,10)-n}}if(this.minHeight=r||u,this.minWidth=i||c,o&&this.setWidth(o),s&&this.setHeight(s),o&&s||this.refreshSize(),t)this.center(e);else if(a||l)this.offsetElement(a,l,e);else if(d&&n){let t=this.boundaryEl,n=!0;if(t||(t=this.findBoundaryElement(),n=!1),t){const i=parseFloat(t.style.top),o=parseFloat(t.style.left);n?this.offsetElement(isNaN(o)?0:o,isNaN(i)?0:i,e):this.setPosition(o,i)}}this.positioned=!!this.offsetParent}isPositioned(){return this.positioned}getPosition(){return this.position}setMovable(e,t){if(!this.config.popup||e===this.movable)return;this.movable=e;const n=this.moveElementDragListener||{eElement:t,onDragStart:this.onMoveStart.bind(this),onDragging:this.onMove.bind(this),onDragStop:this.onMoveEnd.bind(this)};var i,o;e?(null===(i=this.dragSvc)||void 0===i||i.addDragSource(n),this.moveElementDragListener=n):(null===(o=this.dragSvc)||void 0===o||o.removeDragSource(n),this.moveElementDragListener=void 0)}setResizable(e){if(this.clearResizeListeners(),e?this.addResizers():this.removeResizers(),"boolean"===typeof e){if(!1===e)return;e={topLeft:e,top:e,topRight:e,right:e,bottomRight:e,bottom:e,bottomLeft:e,left:e}}Object.keys(e).forEach(t=>{const n=!!e[t],i=this.getResizerElement(t),o={dragStartPixels:0,eElement:i,onDragStart:e=>this.onResizeStart(e,t),onDragging:this.onResize.bind(this),onDragStop:e=>this.onResizeEnd(e,t)};if(n||!this.isAlive()&&!n){var r;if(n)null===(r=this.dragSvc)||void 0===r||r.addDragSource(o),this.resizeListeners.push(o),i.style.pointerEvents="all";else i.style.pointerEvents="none";this.resizable[t]=n}})}removeSizeFromEl(){this.element.style.removeProperty("height"),this.element.style.removeProperty("width"),this.element.style.removeProperty("flex")}restoreLastSize(){this.element.style.flex="0 0 auto";const{height:e,width:t}=this.lastSize;-1!==t&&(this.element.style.width="".concat(t,"px")),-1!==e&&(this.element.style.height="".concat(e,"px"))}getHeight(){return this.element.offsetHeight}setHeight(e){const{popup:t}=this.config,n=this.element;let i=!1;if("string"===typeof e&&-1!==e.indexOf("%"))xN(n,e),e=oN(n),i=!0;else if(e=Math.max(this.minHeight,e),this.positioned){const t=this.getAvailableHeight();t&&e>t&&(e=t)}this.getHeight()!==e&&(i?(n.style.maxHeight="unset",n.style.minHeight="unset"):t?xN(n,e):(n.style.height="".concat(e,"px"),n.style.flex="0 0 auto",this.lastSize.height="number"===typeof e?e:parseFloat(e)))}getAvailableHeight(){const{popup:e,forcePopupParentAsOffsetParent:t}=this.config;this.positioned||this.initialisePosition();const{clientHeight:n}=this.offsetParent;if(!n)return null;const i=this.element.getBoundingClientRect(),o=this.offsetParent.getBoundingClientRect(),r=e?this.position.y:i.top,s=e?0:o.top;let a=0;if(t){const e=this.element.parentElement;if(e){const{bottom:t}=e.getBoundingClientRect();a=t-i.bottom}}return n+s-r-a}getWidth(){return this.element.offsetWidth}setWidth(e){const t=this.element,{popup:n}=this.config;let i=!1;if("string"===typeof e&&-1!==e.indexOf("%"))SN(t,e),e=rN(t),i=!0;else if(this.positioned){e=Math.max(this.minWidth,e);const{clientWidth:t}=this.offsetParent,i=n?this.position.x:this.element.getBoundingClientRect().left;t&&e+i>t&&(e=t-i)}this.getWidth()!==e&&(i?(t.style.maxWidth="unset",t.style.minWidth="unset"):this.config.popup?SN(t,e):(t.style.width="".concat(e,"px"),t.style.flex=" unset",this.lastSize.width="number"===typeof e?e:parseFloat(e)))}offsetElement(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2?arguments[2]:void 0;const{forcePopupParentAsOffsetParent:o}=this.config,r=o?this.boundaryEl:this.element;r&&(null===(e=this.popupSvc)||void 0===e||e.positionPopup({ePopup:r,keepWithinBounds:!0,skipObserver:this.movable||this.isResizable(),updatePosition:()=>({x:t,y:n}),postProcessCallback:i}),this.setPosition(parseFloat(r.style.left),parseFloat(r.style.top)))}constrainSizeToAvailableHeight(e){if(!this.config.forcePopupParentAsOffsetParent)return;const t=()=>{const e=this.getAvailableHeight();this.element.style.setProperty("max-height","".concat(e,"px"))};var n,i;e&&this.popupSvc?(null===(n=this.resizeObserverSubscriber)||void 0===n||n.call(this),this.resizeObserverSubscriber=kN(this.beans,null===(i=this.popupSvc)||void 0===i?void 0:i.getPopupParent(),t)):(this.element.style.removeProperty("max-height"),this.resizeObserverSubscriber&&(this.resizeObserverSubscriber(),this.resizeObserverSubscriber=void 0))}setPosition(e,t){this.position.x=e,this.position.y=t}updateDragStartPosition(e,t){this.dragStartPosition={x:e,y:t}}calculateMouseMovement(e){const{e:t,isLeft:n,isTop:i,anywhereWithin:o,topBuffer:r}=e,s=t.clientX-this.dragStartPosition.x,a=t.clientY-this.dragStartPosition.y;return{movementX:this.shouldSkipX(t,!!n,!!o,s)?0:s,movementY:this.shouldSkipY(t,!!i,r,a)?0:a}}shouldSkipX(e,t,n,i){const o=this.element.getBoundingClientRect(),r=this.offsetParent.getBoundingClientRect(),s=this.boundaryEl.getBoundingClientRect(),a=this.config.popup?this.position.x:o.left;let l=a<=0&&r.left>=e.clientX||r.right<=e.clientX&&r.right<=s.right;return!!l||(l=t?i<0&&e.clientX>a+r.left||i>0&&e.clientX<a+r.left:n?i<0&&e.clientX>s.right||i>0&&e.clientX<a+r.left:i<0&&e.clientX>s.right||i>0&&e.clientX<s.right,l)}shouldSkipY(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3?arguments[3]:void 0;const o=this.element.getBoundingClientRect(),r=this.offsetParent.getBoundingClientRect(),s=this.boundaryEl.getBoundingClientRect(),a=this.config.popup?this.position.y:o.top;let l=a<=0&&r.top>=e.clientY||r.bottom<=e.clientY&&r.bottom<=s.bottom;return!!l||(l=t?i<0&&e.clientY>a+r.top+n||i>0&&e.clientY<a+r.top:i<0&&e.clientY>s.bottom||i>0&&e.clientY<s.bottom,l)}createResizeMap(){const e=e=>({element:this.element.querySelector("[data-ref=".concat(e,"Resizer]"))});this.resizerMap={topLeft:e("eTopLeft"),top:e("eTop"),topRight:e("eTopRight"),right:e("eRight"),bottomRight:e("eBottomRight"),bottom:e("eBottom"),bottomLeft:e("eBottomLeft"),left:e("eLeft")}}addResizers(){if(this.resizersAdded)return;const e=this.element;e&&(e.appendChild(MN(TH)),this.createResizeMap(),this.resizersAdded=!0)}removeResizers(){this.resizerMap=void 0;const e=this.element.querySelector(".".concat(RH));e&&this.element.removeChild(e),this.resizersAdded=!1}getResizerElement(e){return this.resizerMap[e].element}onResizeStart(e,t){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.currentResizer={isTop:!!t.match(/top/i),isRight:!!t.match(/right/i),isBottom:!!t.match(/bottom/i),isLeft:!!t.match(/left/i)},this.element.classList.add("ag-resizing"),this.resizerMap[t].element.classList.add("ag-active");const{popup:n,forcePopupParentAsOffsetParent:i}=this.config;n||i||this.applySizeToSiblings(this.currentResizer.isBottom||this.currentResizer.isTop),this.isResizing=!0,this.updateDragStartPosition(e.clientX,e.clientY)}getSiblings(){const e=this.element.parentElement;return e?Array.prototype.slice.call(e.children).filter(e=>!e.classList.contains("ag-hidden")):null}getMinSizeOfSiblings(){const e=this.getSiblings()||[];let t=0,n=0;for(let i=0;i<e.length;i++){const o=e[i],r=!!o.style.flex&&"0 0 auto"!==o.style.flex;if(o===this.element)continue;let s=this.minHeight||0,a=this.minWidth||0;if(r){const e=window.getComputedStyle(o);e.minHeight&&(s=parseInt(e.minHeight,10)),e.minWidth&&(a=parseInt(e.minWidth,10))}else s=o.offsetHeight,a=o.offsetWidth;t+=s,n+=a}return{height:t,width:n}}applySizeToSiblings(e){let t=null;const n=this.getSiblings();if(n){for(let i=0;i<n.length;i++){const o=n[i];o!==t&&(e?o.style.height="".concat(o.offsetHeight,"px"):o.style.width="".concat(o.offsetWidth,"px"),o.style.flex="0 0 auto",o===this.element&&(t=n[i+1]))}t&&(t.style.removeProperty("height"),t.style.removeProperty("min-height"),t.style.removeProperty("max-height"),t.style.flex="1 1 auto")}}isResizable(){return Object.values(this.resizable).some(e=>e)}onResize(e){if(!this.isResizing||!this.currentResizer)return;const{popup:t,forcePopupParentAsOffsetParent:n}=this.config,{isTop:i,isRight:o,isBottom:r,isLeft:s}=this.currentResizer,a=o||s,l=r||i,{movementX:u,movementY:c}=this.calculateMouseMovement({e:e,isLeft:s,isTop:i}),d=this.position.x,h=this.position.y;let p=0,g=0;if(a&&u){const e=s?-1:1,t=this.getWidth(),n=t+u*e;let i=!1;s&&(p=t-n,(d+p<=0||n<=this.minWidth)&&(i=!0,p=0)),i||this.setWidth(n)}if(l&&c){const e=i?-1:1,t=this.getHeight(),n=t+c*e;let o=!1;i?(g=t-n,(h+g<=0||n<=this.minHeight)&&(o=!0,g=0)):!this.config.popup&&!this.config.forcePopupParentAsOffsetParent&&t<n&&this.getMinSizeOfSiblings().height+n>this.element.parentElement.offsetHeight&&(o=!0),o||this.setHeight(n)}this.updateDragStartPosition(e.clientX,e.clientY),((t||n)&&p||g)&&this.offsetElement(d+p,h+g)}onResizeEnd(e,t){this.isResizing=!1,this.currentResizer=null,this.boundaryEl=null,this.element.classList.remove("ag-resizing"),this.resizerMap[t].element.classList.remove("ag-active"),this.dispatchLocalEvent({type:"resize"})}refreshSize(){const e=this.element;this.config.popup&&(this.config.width||this.setWidth(e.offsetWidth),this.config.height||this.setHeight(e.offsetHeight))}onMoveStart(e){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.isMoving=!0,this.element.classList.add("ag-moving"),this.updateDragStartPosition(e.clientX,e.clientY)}onMove(e){if(!this.isMoving)return;const{x:t,y:n}=this.position;let i;this.config.calculateTopBuffer&&(i=this.config.calculateTopBuffer());const{movementX:o,movementY:r}=this.calculateMouseMovement({e:e,isTop:!0,anywhereWithin:!0,topBuffer:i});this.offsetElement(t+o,n+r),this.updateDragStartPosition(e.clientX,e.clientY)}onMoveEnd(){this.isMoving=!1,this.boundaryEl=null,this.element.classList.remove("ag-moving")}setOffsetParent(){this.config.forcePopupParentAsOffsetParent&&this.popupSvc?this.offsetParent=this.popupSvc.getPopupParent():this.offsetParent=this.element.offsetParent}findBoundaryElement(){let e=this.element;for(;e;){if("static"!==window.getComputedStyle(e).position)return e;e=e.parentElement}return this.element}clearResizeListeners(){for(;this.resizeListeners.length;){var e;const t=this.resizeListeners.pop();null===(e=this.dragSvc)||void 0===e||e.removeDragSource(t)}}destroy(){var e;(super.destroy(),this.moveElementDragListener)&&(null===(e=this.dragSvc)||void 0===e||e.removeDragSource(this.moveElementDragListener));this.constrainSizeToAvailableHeight(!1),this.clearResizeListeners(),this.removeResizers()}},MH="ag-focus-managed",IH=class extends vO{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(),this.eFocusable=e,this.callbacks=t,this.callbacks=d({shouldStopEventPropagation:()=>!1,onTabKeyDown:e=>{if(e.defaultPrevented)return;const t=mV(this.beans,this.eFocusable,!1,e.shiftKey);t&&(t.focus(),e.preventDefault())}},t)}postConstruct(){const{eFocusable:e,callbacks:{onFocusIn:t,onFocusOut:n}}=this;e.classList.add(MH),this.addKeyDownListeners(e),t&&this.addManagedElementListeners(e,{focusin:t}),n&&this.addManagedElementListeners(e,{focusout:n})}addKeyDownListeners(e){this.addManagedElementListeners(e,{keydown:e=>{if(e.defaultPrevented||dO(e))return;const{callbacks:t}=this;t.shouldStopEventPropagation(e)?cO(e):e.key===sV.TAB?t.onTabKeyDown(e):t.handleKeyDown&&t.handleKeyDown(e)}})}},LH=class extends AG{constructor(e,t){super(),this.filterNameKey=e,this.cssIdentifier=t,this.applyActive=!1,this.debouncePending=!1,this.defaultDebounceMs=0}postConstruct(){const e={tag:"div",cls:"ag-filter-body-wrapper ag-".concat(this.cssIdentifier,"-body-wrapper"),children:[this.createBodyTemplate()]};this.setTemplate(e,this.getAgComponents()),this.createManagedBean(new IH(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)})),this.positionableFeature=this.createBean(new _H(this.getPositionableElement(),{forcePopupParentAsOffsetParent:!0}))}handleKeyDown(e){}init(e){const t=e;this.setParams(t),this.setModelIntoUi(t.state.model,!0).then(()=>this.updateUiVisibility())}refresh(e){const t=e,n=this.params;this.params=t;"colDef"===t.source&&this.updateParams(t,n);const i=t.state,o=this.state;return this.state=i,i.model===o.model&&i.state===o.state||this.setModelIntoUi(i.model),!0}setParams(e){this.params=e,this.state=e.state,this.commonUpdateParams(e)}updateParams(e,t){this.commonUpdateParams(e,t)}commonUpdateParams(e,t){this.applyActive=aH(e),this.setupApplyDebounced()}doesFilterPass(e){iB(283);const{getHandler:t,model:n,column:i}=this.params;return t().doesFilterPass(d(d({},e),{},{model:n,handlerParams:this.beans.colFilter.getHandlerParams(i)}))}getFilterTitle(){return this.translate(this.filterNameKey)}isFilterActive(){return iB(284),null!=this.params.model}setupApplyDebounced(){const e=sH(this.params,this.defaultDebounceMs),t=HN(this,this.checkApplyDebounce.bind(this),e);this.applyDebounced=()=>{this.debouncePending=!0,t()}}checkApplyDebounce(){this.debouncePending&&(this.debouncePending=!1,this.doApplyModel())}getModel(){return iB(285),this.params.model}setModel(e){iB(286);const{beans:t,params:n}=this;return t.colFilter.setModelForColumnLegacy(n.column,e)}applyModel(){return this.doApplyModel()}canApply(e){return!0}doApplyModel(e){const{params:t,state:n}=this,i=!this.areModelsEqual(t.model,n.model);return i&&t.onAction("apply",e),i}onNewRowsLoaded(){}onUiChanged(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.updateUiVisibility();const n=this.getModelFromUi(),i={model:n,state:this.getState(),valid:this.canApply(n)};this.state=i;const o=this.params;o.onStateChange(i),o.onUiChange(this.getUiChangeEventParams()),this.gos.get("enableFilterHandlers")||this.eventSvc.dispatchEvent({type:"filterModified",column:o.column,filterInstance:this}),null!==e&&void 0!==e||(e=this.applyActive?void 0:"debounce"),"immediately"===e?this.doApplyModel({afterFloatingFilter:t,afterDataChange:!1}):"debounce"===e&&this.applyDebounced()}getState(){}getUiChangeEventParams(){}afterGuiAttached(e){this.lastContainerType=null===e||void 0===e?void 0:e.container,this.refreshFilterResizer(null===e||void 0===e?void 0:e.container)}refreshFilterResizer(e){const{positionableFeature:t,gos:n}=this;if(!t)return;const i="floatingFilter"===e||"columnFilter"===e;i?(t.restoreLastSize(),t.setResizable(n.get("enableRtl")?{bottom:!0,bottomLeft:!0,left:!0}:{bottom:!0,bottomRight:!0,right:!0})):(t.removeSizeFromEl(),t.setResizable(!1)),t.constrainSizeToAvailableHeight(i)}afterGuiDetached(){var e;this.checkApplyDebounce(),null===(e=this.positionableFeature)||void 0===e||e.constrainSizeToAvailableHeight(!1)}destroy(){this.positionableFeature=this.destroyBean(this.positionableFeature),super.destroy()}translate(e){return rH(this,e)}getPositionableElement(){return this.getGui()}areModelsEqual(e,t){return e===t||null==e&&null==t||null!=e&&null!=t&&this.areNonNullModelsEqual(e,t)}};function NH(e,t,n){if(null==t)return null;let i=null;const{compName:o,jsComp:r,fwComp:s}=rz(e,t);if(o){i={agSetColumnFilter:"agSetColumnFloatingFilter",agMultiColumnFilter:"agMultiColumnFloatingFilter",agGroupColumnFilter:"agGroupColumnFloatingFilter",agNumberColumnFilter:"agNumberColumnFloatingFilter",agDateColumnFilter:"agDateColumnFloatingFilter",agTextColumnFilter:"agTextColumnFloatingFilter"}[o]}else{null==r&&null==s&&!0===t.filter&&(i=n())}return i}var BH={AUTO_HEIGHT:"ag-layout-auto-height",NORMAL:"ag-layout-normal",PRINT:"ag-layout-print"},OH=class extends vO{constructor(e){super(),this.view=e}postConstruct(){this.addManagedPropertyListener("domLayout",this.updateLayoutClasses.bind(this)),this.updateLayoutClasses()}updateLayoutClasses(){const e=this.gos.get("domLayout"),t={autoHeight:"autoHeight"===e,normal:"normal"===e,print:"print"===e},n=t.autoHeight?BH.AUTO_HEIGHT:t.print?BH.PRINT:BH.NORMAL;this.view.updateLayoutClasses(n,t)}},GH=(e=>(e[e.Vertical=0]="Vertical",e[e.Horizontal=1]="Horizontal",e))(GH||{}),zH="Viewport",VH="fakeVScrollComp",HH=["fakeHScrollComp","centerHeader","topCenter","bottomCenter","stickyTopCenter","stickyBottomCenter"],jH=class extends vO{constructor(e){super(),this.clearRetryListenerFncs=[],this.lastScrollSource=[null,null],this.scrollLeft=-1,this.nextScrollTop=-1,this.scrollTop=-1,this.lastOffsetHeight=-1,this.lastScrollTop=-1,this.lastIsHorizontalScrollShowing=!1,this.scrollTimer=0,this.isScrollActive=!1,this.isVerticalPositionInvalidated=!0,this.isHorizontalPositionInvalidated=!0,this.eBodyViewport=e,this.resetLastHScrollDebounced=HN(this,()=>this.lastScrollSource[1]=null,150),this.resetLastVScrollDebounced=HN(this,()=>this.lastScrollSource[0]=null,150)}wireBeans(e){this.ctrlsSvc=e.ctrlsSvc,this.animationFrameSvc=e.animationFrameSvc,this.visibleCols=e.visibleCols}destroy(){super.destroy(),this.clearRetryListenerFncs=[],window.clearTimeout(this.scrollTimer)}postConstruct(){this.enableRtl=this.gos.get("enableRtl");const e=this.invalidateVerticalScroll.bind(this),t=this.invalidateHorizontalScroll.bind(this);this.addManagedEventListeners({displayedColumnsWidthChanged:this.onDisplayedColumnsWidthChanged.bind(this),gridSizeChanged:e,scrollGapChanged:t}),this.addManagedElementListeners(this.eBodyViewport,{scroll:e}),this.ctrlsSvc.whenReady(this,e=>{this.centerRowsCtrl=e.center,this.onDisplayedColumnsWidthChanged(),this.addScrollListener()})}invalidateHorizontalScroll(){this.isHorizontalPositionInvalidated=!0}invalidateVerticalScroll(){this.isVerticalPositionInvalidated=!0}addScrollListener(){this.addHorizontalScrollListeners(),this.addVerticalScrollListeners()}addHorizontalScrollListeners(){this.addManagedElementListeners(this.centerRowsCtrl.eViewport,{scroll:this.onHScroll.bind(this,zH)});for(const e of HH){const t=this.ctrlsSvc.get(e);this.registerScrollPartner(t,this.onHScroll.bind(this,e))}}addVerticalScrollListeners(){const e=this.ctrlsSvc.get("fakeVScrollComp"),t=this.gos.get("debounceVerticalScrollbar"),n=t?HN(this,this.onVScroll.bind(this,zH),100):this.onVScroll.bind(this,zH),i=t?HN(this,this.onVScroll.bind(this,VH),100):this.onVScroll.bind(this,VH);this.addManagedElementListeners(this.eBodyViewport,{scroll:n}),this.registerScrollPartner(e,i)}registerScrollPartner(e,t){e.onScrollCallback(t)}onDisplayedColumnsWidthChanged(){this.enableRtl&&this.horizontallyScrollHeaderCenterAndFloatingCenter()}horizontallyScrollHeaderCenterAndFloatingCenter(e){null==this.centerRowsCtrl||(void 0===e&&(e=this.centerRowsCtrl.getCenterViewportScrollLeft()),this.setScrollLeftForAllContainersExceptCurrent(Math.abs(e)))}setScrollLeftForAllContainersExceptCurrent(e){for(const t of[...HH,zH]){if(this.lastScrollSource[1]===t)continue;lN(this.getViewportForSource(t),e,this.enableRtl)}}getViewportForSource(e){return e===zH?this.centerRowsCtrl.eViewport:this.ctrlsSvc.get(e).eViewport}isControllingScroll(e,t){return null==this.lastScrollSource[t]?(0===t?this.lastScrollSource[0]=e:this.lastScrollSource[1]=e,!0):this.lastScrollSource[t]===e}onHScroll(e){if(!this.isControllingScroll(e,1))return;const t=this.centerRowsCtrl.eViewport,{scrollLeft:n}=t;if(this.shouldBlockScrollUpdate(1,n,!0))return;const i=aN(this.getViewportForSource(e),this.enableRtl);this.doHorizontalScroll(i),this.resetLastHScrollDebounced()}onVScroll(e){if(!this.isControllingScroll(e,0))return;let t;if(t=e===zH?this.eBodyViewport.scrollTop:this.ctrlsSvc.get("fakeVScrollComp").getScrollPosition(),this.shouldBlockScrollUpdate(0,t,!0))return;const{animationFrameSvc:n}=this;null===n||void 0===n||n.setScrollTop(t),this.nextScrollTop=t,e===zH?this.ctrlsSvc.get("fakeVScrollComp").setScrollPosition(t):this.eBodyViewport.scrollTop=t,null!==n&&void 0!==n&&n.active?n.schedule():this.scrollGridIfNeeded(!0),this.resetLastVScrollDebounced()}doHorizontalScroll(e){const t=this.ctrlsSvc.get("fakeHScrollComp").getScrollPosition();this.scrollLeft===e&&e===t||(this.scrollLeft=e,this.fireScrollEvent(1),this.horizontallyScrollHeaderCenterAndFloatingCenter(e),this.centerRowsCtrl.onHorizontalViewportChanged(!0))}isScrolling(){return this.isScrollActive}fireScrollEvent(e){const t={type:"bodyScroll",direction:1===e?"horizontal":"vertical",left:this.scrollLeft,top:this.scrollTop};this.isScrollActive=!0,this.eventSvc.dispatchEvent(t),window.clearTimeout(this.scrollTimer),this.scrollTimer=window.setTimeout(()=>{this.scrollTimer=0,this.isScrollActive=!1,this.eventSvc.dispatchEvent(d(d({},t),{},{type:"bodyScrollEnd"}))},150)}shouldBlockScrollUpdate(e,t){return!(arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&!WL())&&(0===e?this.shouldBlockVerticalScroll(t):this.shouldBlockHorizontalScroll(t))}shouldBlockVerticalScroll(e){const t=nN(this.eBodyViewport),{scrollHeight:n}=this.eBodyViewport;return e<0||e+t>n}shouldBlockHorizontalScroll(e){const t=this.centerRowsCtrl.getCenterWidth(),{scrollWidth:n}=this.centerRowsCtrl.eViewport;if(this.enableRtl){if(e>0)return!0}else if(e<0)return!0;return Math.abs(e)+t>n}redrawRowsAfterScroll(){this.fireScrollEvent(0)}checkScrollLeft(){const e=this.scrollLeft;let t=!1;for(const n of HH){if(this.getViewportForSource(n).scrollLeft!==e){t=!0;break}}t&&this.onHScroll(zH)}scrollGridIfNeeded(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=this.scrollTop!=this.nextScrollTop;return t&&(this.scrollTop=this.nextScrollTop,e&&this.invalidateVerticalScroll(),this.redrawRowsAfterScroll()),t}setHorizontalScrollPosition(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=this.centerRowsCtrl.eViewport.scrollWidth-this.centerRowsCtrl.getCenterWidth();!t&&this.shouldBlockScrollUpdate(1,e)&&(e=this.enableRtl?e>0?0:n:Math.min(Math.max(e,0),n)),lN(this.centerRowsCtrl.eViewport,Math.abs(e),this.enableRtl),this.doHorizontalScroll(e)}setVerticalScrollPosition(e){this.invalidateVerticalScroll(),this.eBodyViewport.scrollTop=e}getVScrollPosition(){if(!this.isVerticalPositionInvalidated){const{lastOffsetHeight:e,lastScrollTop:t}=this;return{top:t,bottom:t+e}}this.isVerticalPositionInvalidated=!1;const{scrollTop:e,offsetHeight:t}=this.eBodyViewport;return this.lastScrollTop=e,this.lastOffsetHeight=t,{top:e,bottom:e+t}}getApproximateVScollPosition(){return this.lastScrollTop>=0&&this.lastOffsetHeight>=0?{top:this.scrollTop,bottom:this.scrollTop+this.lastOffsetHeight}:this.getVScrollPosition()}getHScrollPosition(){return this.centerRowsCtrl.getHScrollPosition()}isHorizontalScrollShowing(){return this.isHorizontalPositionInvalidated&&(this.lastIsHorizontalScrollShowing=this.centerRowsCtrl.isHorizontalScrollShowing(),this.isHorizontalPositionInvalidated=!1),this.lastIsHorizontalScrollShowing}scrollHorizontally(e){const t=this.centerRowsCtrl.eViewport.scrollLeft;return this.setHorizontalScrollPosition(t+e),this.centerRowsCtrl.eViewport.scrollLeft-t}scrollToTop(){this.eBodyViewport.scrollTop=0}ensureNodeVisible(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const{rowModel:n}=this.beans,i=n.getRowCount();let o=-1;for(let r=0;r<i;r++){const t=n.getRow(r);if("function"===typeof e){if(t&&e(t)){o=r;break}}else if(e===t||e===t.data){o=r;break}}o>=0&&this.ensureIndexVisible(o,t)}ensureIndexVisible(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(dB(this.gos,"print"))return;const{rowModel:i}=this.beans,o=i.getRowCount();if("number"!==typeof e||e<0||e>=o)return void iB(88,{index:e});this.clearRetryListeners();const{frameworkOverrides:r,pageBounds:s,rowContainerHeight:a,rowRenderer:l}=this.beans;r.wrapIncoming(()=>{var o,r;const u=this.ctrlsSvc.getGridBodyCtrl(),c=i.getRow(e);let d,h,p=0;this.invalidateVerticalScroll();do{const{stickyTopHeight:e,stickyBottomHeight:n}=u,i=c.rowTop,o=c.rowHeight,r=s.getPixelOffset(),g=c.rowTop-r,m=g+c.rowHeight,v=this.getVScrollPosition(),f=a.divStretchOffset,w=v.top+f,C=v.bottom+f,b=C-w,y=a.getScrollPositionForPixel(g),S=a.getScrollPositionForPixel(m-b),x=Math.min((y+S)/2,g);let D=null;"top"===t?D=y-e:"bottom"===t?D=S+n:"middle"===t?D=x:w+e>g?D=y-e:C-n<m&&(D=S-y>b?y-e:S+n),null!==D&&(this.setVerticalScrollPosition(D),l.redraw({afterScroll:!0})),d=i!==c.rowTop||o!==c.rowHeight,h=e!==u.stickyTopHeight||n!==u.stickyBottomHeight,p++}while((d||h)&&p<10);if(null===(o=this.animationFrameSvc)||void 0===o||o.flushAllFrames(),n<10&&(null!==c&&void 0!==c&&c.stub||null===(r=this.beans.rowAutoHeight)||void 0===r||!r.areRowsMeasured())){const o=this.getVScrollPosition().top;this.clearRetryListenerFncs=this.addManagedEventListeners({bodyScroll:()=>{const e=this.getVScrollPosition().top;o!==e&&this.clearRetryListeners()},modelUpdated:()=>{this.clearRetryListeners(),e>=i.getRowCount()||this.ensureIndexVisible(e,t,n+1)}})}})}clearRetryListeners(){this.clearRetryListenerFncs.forEach(e=>e()),this.clearRetryListenerFncs=[]}ensureColumnVisible(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"auto";const{colModel:n,frameworkOverrides:i}=this.beans,o=n.getCol(e);if(!o)return;if(o.isPinned())return;if(!this.visibleCols.isColDisplayed(o))return;const r=this.getPositionedHorizontalScroll(o,t);i.wrapIncoming(()=>{var e;null!==r&&this.centerRowsCtrl.setCenterViewportScrollLeft(r),this.centerRowsCtrl.onHorizontalViewportChanged(),null===(e=this.animationFrameSvc)||void 0===e||e.flushAllFrames()})}getPositionedHorizontalScroll(e,t){const{columnBeforeStart:n,columnAfterEnd:i}=this.isColumnOutsideViewport(e),o=this.centerRowsCtrl.getCenterWidth()<e.getActualWidth(),r=this.centerRowsCtrl.getCenterWidth(),s=this.enableRtl;let a=(s?n:i)||o,l=s?i:n;"auto"!==t&&(a="start"===t,l="end"===t);const u="middle"===t;if(a||l||u){const{colLeft:t,colMiddle:n,colRight:i}=this.getColumnBounds(e);return u?n-r/2:a?s?i:t:s?t-r:i-r}return null}isColumnOutsideViewport(e){const{start:t,end:n}=this.getViewportBounds(),{colLeft:i,colRight:o}=this.getColumnBounds(e),r=this.enableRtl;return{columnBeforeStart:r?t>o:n<o,columnAfterEnd:r?n<i:t>i}}getColumnBounds(e){const t=this.enableRtl,n=this.visibleCols.bodyWidth,i=e.getActualWidth(),o=e.getLeft(),r=t?-1:1,s=t?n-o:o;return{colLeft:s,colMiddle:s+i/2*r,colRight:s+i*r}}getViewportBounds(){const e=this.centerRowsCtrl.getCenterWidth(),t=this.centerRowsCtrl.getCenterViewportScrollLeft();return{start:t,end:e+t,width:e}}},WH=class extends vO{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];super(),this.callback=e,this.addSpacer=t}postConstruct(){const e=this.setWidth.bind(this);this.addManagedPropertyListener("domLayout",e),this.addManagedEventListeners({columnContainerWidthChanged:e,displayedColumnsChanged:e,leftPinnedWidthChanged:e}),this.addSpacer&&this.addManagedEventListeners({rightPinnedWidthChanged:e,scrollVisibilityChanged:e,scrollbarWidthChanged:e}),this.setWidth()}setWidth(){const e=dB(this.gos,"print"),{visibleCols:t,scrollVisibleSvc:n}=this.beans,i=t.bodyWidth,o=t.getColsLeftWidth(),r=t.getDisplayedColumnsRightWidth();let s;if(e)s=i+o+r;else if(s=i,this.addSpacer){0===(this.gos.get("enableRtl")?o:r)&&n.verticalScrollShowing&&(s+=n.getScrollbarWidth())}this.callback(s)}},UH=class extends vO{constructor(e){super(),this.centerContainerCtrl=e}wireBeans(e){this.scrollVisibleSvc=e.scrollVisibleSvc}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridBodyCtrl=e.gridBodyCtrl,this.listenForResize()}),this.addManagedEventListeners({scrollbarWidthChanged:this.onScrollbarWidthChanged.bind(this)}),this.addManagedPropertyListeners(["alwaysShowHorizontalScroll","alwaysShowVerticalScroll"],()=>{this.checkViewportAndScrolls()})}listenForResize(){const{beans:e,centerContainerCtrl:t,gridBodyCtrl:n}=this,i=()=>{RN(e,()=>{this.onCenterViewportResized()})};t.registerViewportResizeListener(i),n.registerBodyViewportResizeListener(i)}onScrollbarWidthChanged(){this.checkViewportAndScrolls()}onCenterViewportResized(){if(this.scrollVisibleSvc.updateScrollGap(),this.centerContainerCtrl.isViewportInTheDOMTree()){const{pinnedCols:e,colFlex:t}=this.beans;null===e||void 0===e||e.keepPinnedColumnsNarrowerThanViewport(),this.checkViewportAndScrolls();const n=this.centerContainerCtrl.getCenterWidth();n!==this.centerWidth&&(this.centerWidth=n,null===t||void 0===t||t.refreshFlexedColumns({viewportWidth:this.centerWidth,updateBodyWidths:!0,fireResizedEvent:!0}))}else this.bodyHeight=0}checkViewportAndScrolls(){this.updateScrollVisibleService(),this.checkBodyHeight(),this.onHorizontalViewportChanged(),this.gridBodyCtrl.scrollFeature.checkScrollLeft()}getBodyHeight(){return this.bodyHeight}checkBodyHeight(){const e=nN(this.gridBodyCtrl.eBodyViewport);this.bodyHeight!==e&&(this.bodyHeight=e,this.eventSvc.dispatchEvent({type:"bodyHeightChanged"}))}updateScrollVisibleService(){this.updateScrollVisibleServiceImpl(),setTimeout(this.updateScrollVisibleServiceImpl.bind(this),500)}updateScrollVisibleServiceImpl(){const e={horizontalScrollShowing:this.centerContainerCtrl.isHorizontalScrollShowing(),verticalScrollShowing:this.gridBodyCtrl.isVerticalScrollShowing()};this.scrollVisibleSvc.setScrollsVisible(e)}onHorizontalViewportChanged(){const e=this.centerContainerCtrl.getCenterWidth(),t=this.centerContainerCtrl.getViewportScrollLeft();this.beans.colViewport.setScrollPosition(e,t)}};function KH(e,t,n,i,o,r){if(null==n&&null==t)return;const s={},a={},l=(e,t)=>{e.split(" ").forEach(e=>{""!=e.trim()&&t(e)})};if(n){const t=Object.keys(n);for(let o=0;o<t.length;o++){const r=t[o],u=n[r];let c;"string"===typeof u?c=!e||e.evaluate(u,i):"function"===typeof u&&(c=u(i)),l(r,e=>{c?s[e]=!0:a[e]=!0})}}t&&r&&Object.keys(t).forEach(e=>l(e,e=>{s[e]||(a[e]=!0)})),r&&Object.keys(a).forEach(r),Object.keys(s).forEach(o)}function qH(e){if(e.group)return e.level;const t=e.parent;return t?t.level+1:0}var YH=0,ZH="renderedRow",$H=class extends vO{constructor(e,t,n,i,o){var r,s,a;super(),this.rowNode=e,this.useAnimationFrameForCreate=i,this.printLayout=o,this.allRowGuis=[],this.active=!0,this.centerCellCtrls={list:[],map:{}},this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}},this.slideInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.fadeInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.rowDragComps=[],this.lastMouseDownOnDragger=!1,this.emptyStyle={},this.updateColumnListsPending=!1,this.rowId=null,this.businessKey=null,this.beans=t,this.gos=t.gos,this.paginationPage=null!==(r=null===(s=t.pagination)||void 0===s?void 0:s.getCurrentPage())&&void 0!==r?r:0,this.suppressRowTransform=this.gos.get("suppressRowTransform"),this.instanceId=e.id+"-"+YH++,this.rowId=bO(e.id),this.initRowBusinessKey(),this.rowFocused=t.focusSvc.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned),this.rowLevel=qH(this.rowNode),this.setRowType(),this.setAnimateFlags(n),this.rowStyles=this.processStylesFromGridOptions(),this.rowEditStyleFeature=null===(a=t.editSvc)||void 0===a?void 0:a.createRowStyleFeature(this,t),this.addListeners()}initRowBusinessKey(){this.businessKeyForNodeFunc=this.gos.get("getBusinessKeyForNode"),this.updateRowBusinessKey()}updateRowBusinessKey(){if("function"!==typeof this.businessKeyForNodeFunc)return;const e=this.businessKeyForNodeFunc(this.rowNode);this.businessKey=bO(e)}updateGui(e,t){"left"===e?this.leftGui=t:"right"===e?this.rightGui=t:"fullWidth"===e?this.fullWidthGui=t:this.centerGui=t}setComp(e,t,n,i){var o;const{context:r,focusSvc:s}=this.beans,a={rowComp:e,element:t,containerType:n,compBean:i=DG(this,r,i)};this.allRowGuis.push(a),this.updateGui(n,a),this.initialiseRowComp(a);const l=this.rowNode,u="FullWidthLoading"===this.rowType||l.stub,c=!l.data&&"infinite"===this.beans.rowModel.getType();u||c||l.rowPinned||this.beans.rowRenderer.dispatchFirstDataRenderedEvent();const d=null===(o=this.fullWidthGui)||void 0===o?void 0:o.element;if(d){var h;!(null===(h=this.beans.editSvc)||void 0===h?void 0:h.isEditing(this))&&s.isRowFocused(l.rowIndex,l.rowPinned)&&s.shouldTakeFocus()&&setTimeout(()=>d.focus({preventScroll:!0}),0)}}unsetComp(e){this.allRowGuis=this.allRowGuis.filter(t=>t.containerType!==e),this.updateGui(e,void 0)}isCacheable(){return"FullWidthDetail"===this.rowType&&this.gos.get("keepDetailRows")}setCached(e){const t=e?"none":"";this.allRowGuis.forEach(e=>e.element.style.display=t)}initialiseRowComp(e){const t=this.gos;this.onSuppressCellFocusChanged(this.beans.gos.get("suppressCellFocus")),this.listenOnDomOrder(e),this.onRowHeightChanged(e),this.updateRowIndexes(e),this.setFocusedClasses(e),this.setStylesFromGridOptions(!1,e),hB(t)&&this.rowNode.selectable&&this.onRowSelected(e),this.updateColumnLists(!this.useAnimationFrameForCreate);const n=e.rowComp;this.getInitialRowClasses(e.containerType).forEach(e=>n.toggleCss(e,!0)),this.executeSlideAndFadeAnimations(e),this.rowNode.group&&DL(e.element,1==this.rowNode.expanded),this.setRowCompRowId(n),this.setRowCompRowBusinessKey(n),wB(t,e.element,ZH,this),e.compBean.addDestroyFunc(()=>wB(t,e.element,ZH,null)),this.useAnimationFrameForCreate?this.beans.animationFrameSvc.createTask(this.addHoverFunctionality.bind(this,e),this.rowNode.rowIndex,"p2",!1):this.addHoverFunctionality(e),this.isFullWidth()&&this.setupFullWidth(e),t.get("rowDragEntireRow")&&this.addRowDraggerToRow(e),this.useAnimationFrameForCreate&&this.beans.animationFrameSvc.addDestroyTask(()=>{this.isAlive()&&e.rowComp.toggleCss("ag-after-created",!0)}),this.executeProcessRowPostCreateFunc()}setRowCompRowBusinessKey(e){null!=this.businessKey&&e.setRowBusinessKey(this.businessKey)}setRowCompRowId(e){const t=bO(this.rowNode.id);this.rowId=t,null!=t&&e.setRowId(t)}executeSlideAndFadeAnimations(e){const{containerType:t}=e;this.slideInAnimation[t]&&(VN(()=>{this.onTopChanged()}),this.slideInAnimation[t]=!1);this.fadeInAnimation[t]&&(VN(()=>{e.rowComp.toggleCss("ag-opacity-zero",!1)}),this.fadeInAnimation[t]=!1)}addRowDraggerToRow(e){var t;const n=null===(t=this.beans.rowDragSvc)||void 0===t?void 0:t.createRowDragCompForRow(this.rowNode,e.element);if(!n)return;const i=this.createBean(n,this.beans.context);this.rowDragComps.push(i),e.compBean.addDestroyFunc(()=>{this.rowDragComps=this.rowDragComps.filter(e=>e!==i),this.rowEditStyleFeature=this.destroyBean(this.rowEditStyleFeature,this.beans.context),this.destroyBean(i,this.beans.context)})}setupFullWidth(e){const t=this.getPinnedForContainer(e.containerType),n=this.createFullWidthCompDetails(e.element,t);e.rowComp.showFullWidth(n)}getFullWidthCellRenderers(){var e;return this.gos.get("embedFullWidthRows")?this.allRowGuis.map(e=>{var t;return null===e||void 0===e||null===(t=e.rowComp)||void 0===t?void 0:t.getFullWidthCellRenderer()}):[null===(e=this.fullWidthGui)||void 0===e||null===(e=e.rowComp)||void 0===e?void 0:e.getFullWidthCellRenderer()]}executeProcessRowPostCreateFunc(){const e=this.gos.getCallback("processRowPostCreate");if(!e||!this.areAllContainersReady())return;e({eRow:this.centerGui.element,ePinnedLeftRow:this.leftGui?this.leftGui.element:void 0,ePinnedRightRow:this.rightGui?this.rightGui.element:void 0,node:this.rowNode,rowIndex:this.rowNode.rowIndex,addRenderedRowListener:this.addEventListener.bind(this)})}areAllContainersReady(){const{leftGui:e,centerGui:t,rightGui:n,beans:{visibleCols:i}}=this,o=!!e||!i.isPinningLeft(),r=!!t,s=!!n||!i.isPinningRight();return o&&r&&s}isNodeFullWidthCell(){if(this.rowNode.detail)return!0;const e=this.beans.gos.getCallback("isFullWidthRow");return!!e&&e({rowNode:this.rowNode})}setRowType(){const e=this.rowNode.stub&&!this.gos.get("suppressServerSideFullWidthLoadingRow")&&!this.gos.get("groupHideOpenParents"),t=this.isNodeFullWidthCell(),n=this.gos.get("masterDetail")&&this.rowNode.detail,i=this.beans.colModel.isPivotMode(),o=IB(this.gos,this.rowNode,i);this.rowType=e?"FullWidthLoading":n?"FullWidthDetail":t?"FullWidth":o?"FullWidthGroup":"Normal"}updateColumnLists(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.isFullWidth())return;const{animationFrameSvc:n}=this.beans;null!==n&&void 0!==n&&n.active&&!e&&!this.printLayout?this.updateColumnListsPending||(n.createTask(()=>{this.active&&this.updateColumnListsImpl(!0)},this.rowNode.rowIndex,"p1",!1),this.updateColumnListsPending=!0):this.updateColumnListsImpl(t)}getNewCellCtrl(e){var t;if(!(null===(t=this.beans.rowSpanSvc)||void 0===t?void 0:t.isCellSpanning(e,this.rowNode)))return new RV(e,this.rowNode,this.beans,this)}isCorrectCtrlForSpan(e){var t;return!(null!==(t=this.beans.rowSpanSvc)&&void 0!==t&&t.isCellSpanning(e.column,this.rowNode))}createCellCtrls(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const i={list:[],map:{}},o=(e,t,n)=>{null!=n?i.list.splice(n,0,t):i.list.push(t),i.map[e]=t},r=[];for(const u of t){const t=u.getInstanceId();let n=e.map[t];n&&!this.isCorrectCtrlForSpan(n)&&(n.destroy(),n=void 0),n||(n=this.getNewCellCtrl(u)),n&&o(t,n)}for(const u of e.list){const e=u.column.getInstanceId();if(null!=i.map[e])continue;!this.isCellEligibleToBeRemoved(u,n)?r.push([e,u]):u.destroy()}if(r.length)for(const[u,c]of r){const e=i.list.findIndex(e=>e.column.getLeft()>c.column.getLeft()),t=-1===e?void 0:Math.max(e-1,0);o(u,c,t)}const{focusSvc:s,visibleCols:a}=this.beans,l=s.getFocusedCell();if(l&&l.column.getPinned()==n){const e=l.column.getInstanceId();if(!i.map[e]&&a.allCols.includes(l.column)){const t=this.createFocusedCellCtrl();if(t){const n=i.list.findIndex(e=>e.column.getLeft()>t.column.getLeft()),r=-1===n?void 0:Math.max(n-1,0);o(e,t,r)}}}return i}createFocusedCellCtrl(){const{focusSvc:e,rowSpanSvc:t}=this.beans,n=e.getFocusedCell();if(!n)return;const i=null===t||void 0===t?void 0:t.getCellSpan(n.column,this.rowNode);if(i){if(i.firstNode!==this.rowNode||!i.doesSpanContain(n))return}else if(!e.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned))return;return this.getNewCellCtrl(n.column)}updateColumnListsImpl(e){this.updateColumnListsPending=!1,this.createAllCellCtrls(),this.setCellCtrls(e)}setCellCtrls(e){this.allRowGuis.forEach(t=>{const n=this.getCellCtrlsForContainer(t.containerType);t.rowComp.setCellCtrls(n,e)})}getCellCtrlsForContainer(e){switch(e){case"left":return this.leftCellCtrls.list;case"right":return this.rightCellCtrls.list;case"fullWidth":return[];case"center":return this.centerCellCtrls.list}}createAllCellCtrls(){const e=this.beans.colViewport,t=this.beans.visibleCols;if(this.printLayout)this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,t.allCols),this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}};else{const n=e.getColsWithinViewport(this.rowNode);this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,n);const i=t.getLeftColsForRow(this.rowNode);this.leftCellCtrls=this.createCellCtrls(this.leftCellCtrls,i,"left");const o=t.getRightColsForRow(this.rowNode);this.rightCellCtrls=this.createCellCtrls(this.rightCellCtrls,o,"right")}}isCellEligibleToBeRemoved(e,t){const n=!0,{column:i}=e;if(i.getPinned()!=t)return n;if(!this.isCorrectCtrlForSpan(e))return n;const{visibleCols:o,editSvc:r}=this.beans,s=null===r||void 0===r?void 0:r.isEditing(e),a=e.isCellFocused();if(s||a){return!(o.allCols.indexOf(i)>=0)&&n}return n}getDomOrder(){return this.gos.get("ensureDomOrder")||dB(this.gos,"print")}listenOnDomOrder(e){e.compBean.addManagedPropertyListeners(["domLayout","ensureDomOrder"],()=>{e.rowComp.setDomOrder(this.getDomOrder())})}setAnimateFlags(e){if(this.rowNode.sticky||!e)return;const t=UI(this.rowNode.oldRowTop),{visibleCols:n}=this.beans,i=n.isPinningLeft(),o=n.isPinningRight();if(t){const{slideInAnimation:e}=this;if(this.isFullWidth()&&!this.gos.get("embedFullWidthRows"))return void(e.fullWidth=!0);e.center=!0,e.left=i,e.right=o}else{const{fadeInAnimation:e}=this;if(this.isFullWidth()&&!this.gos.get("embedFullWidthRows"))return void(e.fullWidth=!0);e.center=!0,e.left=i,e.right=o}}isFullWidth(){return"Normal"!==this.rowType}refreshFullWidth(){const e=(e,t)=>!e||e.rowComp.refreshFullWidth(()=>this.createFullWidthCompDetails(e.element,t).params),t=e(this.fullWidthGui,null),n=e(this.centerGui,null),i=e(this.leftGui,"left"),o=e(this.rightGui,"right");return t&&n&&i&&o}addListeners(){var e;const{beans:t,gos:n,rowNode:i}=this,{expansionSvc:o,eventSvc:r,context:s,rowSpanSvc:a}=t;this.addManagedListeners(this.rowNode,d({heightChanged:()=>this.onRowHeightChanged(),rowSelected:()=>this.onRowSelected(),rowIndexChanged:this.onRowIndexChanged.bind(this),topChanged:this.onTopChanged.bind(this)},null!==(e=null===o||void 0===o?void 0:o.getRowExpandedListeners(this))&&void 0!==e?e:{})),i.detail&&this.addManagedListeners(i.parent,{dataChanged:this.onRowNodeDataChanged.bind(this)}),this.addManagedListeners(i,{dataChanged:this.onRowNodeDataChanged.bind(this),cellChanged:this.postProcessCss.bind(this),rowHighlightChanged:this.onRowNodeHighlightChanged.bind(this),draggingChanged:this.postProcessRowDragging.bind(this),uiLevelChanged:this.onUiLevelChanged.bind(this),rowPinned:this.onRowPinned.bind(this)}),this.addManagedListeners(r,{paginationPixelOffsetChanged:this.onPaginationPixelOffsetChanged.bind(this),heightScaleChanged:this.onTopChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),virtualColumnsChanged:this.onVirtualColumnsChanged.bind(this),cellFocused:this.onCellFocusChanged.bind(this),cellFocusCleared:this.onCellFocusChanged.bind(this),paginationChanged:this.onPaginationChanged.bind(this),modelUpdated:this.refreshFirstAndLastRowStyles.bind(this),columnMoved:()=>this.updateColumnLists()}),a&&this.addManagedListeners(a,{spannedCellsUpdated:e=>{let{pinned:t}=e;t&&!i.rowPinned||this.updateColumnLists()}}),this.addDestroyFunc(()=>{this.rowDragComps=this.destroyBeans(this.rowDragComps,s),this.tooltipFeature=this.destroyBean(this.tooltipFeature,s),this.rowEditStyleFeature=this.destroyBean(this.rowEditStyleFeature,s)}),this.addManagedPropertyListeners(["rowStyle","getRowStyle","rowClass","getRowClass","rowClassRules"],this.postProcessCss.bind(this)),this.addManagedPropertyListener("rowDragEntireRow",()=>{n.get("rowDragEntireRow")?this.allRowGuis.forEach(e=>{this.addRowDraggerToRow(e)}):this.rowDragComps=this.destroyBeans(this.rowDragComps,s)}),this.addListenersForCellComps()}addListenersForCellComps(){this.addManagedListeners(this.rowNode,{rowIndexChanged:()=>this.getAllCellCtrls().forEach(e=>e.onRowIndexChanged()),cellChanged:e=>this.getAllCellCtrls().forEach(t=>t.onCellChanged(e))})}onRowPinned(){for(const e of this.allRowGuis)e.rowComp.toggleCss("ag-row-pinned-source",!!this.rowNode.pinnedSibling)}onRowNodeDataChanged(e){this.refreshRow({suppressFlash:!e.update,newData:!e.update})}refreshRow(e){if(this.isFullWidth()!==!!this.isNodeFullWidthCell())this.beans.rowRenderer.redrawRow(this.rowNode);else{if(this.isFullWidth()){return void(this.refreshFullWidth()||this.beans.rowRenderer.redrawRow(this.rowNode))}this.getAllCellCtrls().forEach(t=>t.refreshCell(e)),this.allRowGuis.forEach(e=>{this.setRowCompRowId(e.rowComp),this.updateRowBusinessKey(),this.setRowCompRowBusinessKey(e.rowComp)}),this.onRowSelected(),this.postProcessCss()}}postProcessCss(){var e;this.setStylesFromGridOptions(!0),this.postProcessClassesFromGridOptions(),this.postProcessRowClassRules(),null===(e=this.rowEditStyleFeature)||void 0===e||e.applyRowStyles(),this.postProcessRowDragging()}onRowNodeHighlightChanged(){const e=this.beans.rowDropHighlightSvc,t=(null===e||void 0===e?void 0:e.row)===this.rowNode?e.position:"none",n="above"===t,i="inside"===t,o="below"===t,r=this.gos.get("treeData")&&(o||n),s=this.rowNode.uiLevel.toString();this.allRowGuis.forEach(e=>{const t=e.rowComp;t.toggleCss("ag-row-highlight-above",n),t.toggleCss("ag-row-highlight-inside",i),t.toggleCss("ag-row-highlight-below",o),t.toggleCss("ag-row-highlight-indent",r),r?e.element.style.setProperty("--ag-row-highlight-level",s):e.element.style.removeProperty("--ag-row-highlight-level")})}postProcessRowDragging(){const e=this.rowNode.dragging;this.allRowGuis.forEach(t=>t.rowComp.toggleCss("ag-row-dragging",e))}onDisplayedColumnsChanged(){var e;this.updateColumnLists(!0),null===(e=this.beans.rowAutoHeight)||void 0===e||e.requestCheckAutoHeight()}onVirtualColumnsChanged(){this.updateColumnLists(!1,!0)}getRowPosition(){return{rowPinned:WI(this.rowNode.rowPinned),rowIndex:this.rowNode.rowIndex}}onKeyboardNavigate(e){var t;const n=this.findFullWidthInfoForEvent(e);if(!n)return;const{rowGui:i,column:o}=n;if(!(i.element===e.target))return;const r=this.rowNode,{focusSvc:s,navigation:a}=this.beans,l=s.getFocusedCell(),u={rowIndex:r.rowIndex,rowPinned:r.rowPinned,column:null!==(t=null===l||void 0===l?void 0:l.column)&&void 0!==t?t:o};null===a||void 0===a||a.navigateToNextCell(e,e.key,u,!0),e.preventDefault()}onTabKeyDown(e){if(e.defaultPrevented||dO(e))return;const t=this.allRowGuis.find(t=>t.element.contains(e.target)),n=t?t.element:null,i=n===e.target,o=SB(this.beans);let r=!1;n&&o&&(r=n.contains(o)&&o.classList.contains("ag-cell"));let s=null;var a;(i||r||(s=mV(this.beans,n,!1,e.shiftKey)),this.isFullWidth()&&i||!s)&&(null===(a=this.beans.navigation)||void 0===a||a.onTabKeyDown(this,e))}getFullWidthElement(){return this.fullWidthGui?this.fullWidthGui.element:null}getRowYPosition(){var e;const t=null===(e=this.allRowGuis.find(e=>hN(e.element)))||void 0===e?void 0:e.element;return t?t.getBoundingClientRect().top:0}onSuppressCellFocusChanged(e){const t=this.isFullWidth()&&e?void 0:-1;this.allRowGuis.forEach(e=>{FN(e.element,"tabindex",t)})}onFullWidthRowFocused(e){const t=this.rowNode,n=!!e&&(this.isFullWidth()&&e.rowIndex===t.rowIndex&&e.rowPinned==t.rowPinned);let i;if(this.fullWidthGui)i=this.fullWidthGui.element;else{const t=this.beans.colModel.getCol(null===e||void 0===e?void 0:e.column),n=null===t||void 0===t?void 0:t.pinned;var o,r,s;if(n)i="right"===n?null===(o=this.rightGui)||void 0===o?void 0:o.element:null===(r=this.leftGui)||void 0===r?void 0:r.element;else i=null===(s=this.centerGui)||void 0===s?void 0:s.element}i&&(i.classList.toggle("ag-full-width-focus",n),n&&null!==e&&void 0!==e&&e.forceBrowserFocus&&i.focus({preventScroll:!0}))}recreateCell(e){this.centerCellCtrls=this.removeCellCtrl(this.centerCellCtrls,e),this.leftCellCtrls=this.removeCellCtrl(this.leftCellCtrls,e),this.rightCellCtrls=this.removeCellCtrl(this.rightCellCtrls,e),e.destroy(),this.updateColumnLists()}removeCellCtrl(e,t){const n={list:[],map:{}};return e.list.forEach(e=>{e!==t&&(n.list.push(e),n.map[e.column.getInstanceId()]=e)}),n}onMouseEvent(e,t){switch(e){case"dblclick":this.onRowDblClick(t);break;case"click":this.onRowClick(t);break;case"touchstart":case"mousedown":this.onRowMouseDown(t)}}createRowEvent(e,t){const{rowNode:n}=this;return iO(this.gos,{type:e,node:n,data:n.data,rowIndex:n.rowIndex,rowPinned:n.rowPinned,event:t})}createRowEventWithSource(e,t){const n=this.createRowEvent(e,t);return n.source=this,n}onRowDblClick(e){dO(e)||this.beans.eventSvc.dispatchEvent(this.createRowEventWithSource("rowDoubleClicked",e))}findFullWidthInfoForEvent(e){if(!e)return;const t=this.findFullWidthRowGui(e.target),n=this.getColumnForFullWidth(t);return t&&n?{rowGui:t,column:n}:void 0}findFullWidthRowGui(e){return this.allRowGuis.find(t=>t.element.contains(e))}getColumnForFullWidth(e){const{visibleCols:t}=this.beans;switch(null===e||void 0===e?void 0:e.containerType){case"center":return t.centerCols[0];case"left":return t.leftCols[0];case"right":return t.rightCols[0];default:return t.allCols[0]}}onRowMouseDown(e){if(this.lastMouseDownOnDragger=eN(e.target,"ag-row-drag",3),!this.isFullWidth())return;const t=this.rowNode,{rangeSvc:n,focusSvc:i}=this.beans;null===n||void 0===n||n.removeAllCellRanges();const o=this.findFullWidthInfoForEvent(e);if(!o)return;const{rowGui:r,column:s}=o,a=r.element,l=e.target;let u=e.defaultPrevented||VL();a&&a.contains(l)&&$L(l)&&(u=!1),i.setFocusedCell({rowIndex:t.rowIndex,column:s,rowPinned:t.rowPinned,forceBrowserFocus:u})}onRowClick(e){if(dO(e)||this.lastMouseDownOnDragger)return;const{eventSvc:t,selectionSvc:n}=this.beans;t.dispatchEvent(this.createRowEventWithSource("rowClicked",e)),null===n||void 0===n||n.handleSelectionEvent(e,this.rowNode,"rowClicked")}setupDetailRowAutoHeight(e){var t;"FullWidthDetail"===this.rowType&&(null===(t=this.beans.masterDetailSvc)||void 0===t||t.setupDetailRowAutoHeight(this,e))}createFullWidthCompDetails(e,t){const{gos:n,rowNode:i}=this,o=iO(n,{fullWidth:!0,data:i.data,node:i,value:i.key,valueFormatted:i.key,eGridCell:e,eParentOfValue:e,pinned:t,addRenderedRowListener:this.addEventListener.bind(this),registerRowDragger:(e,t,n,i)=>this.addFullWidthRowDragging(e,t,n,i),setTooltip:(e,t)=>{n.assertModuleRegistered("Tooltip",3),this.setupFullWidthRowTooltip(e,t)}}),r=this.beans.userCompFactory;switch(this.rowType){case"FullWidthDetail":return function(e,t){return e.getCompDetailsFromGridOptions(XG,"agDetailCellRenderer",t,!0)}(r,o);case"FullWidthGroup":{const{value:e,valueFormatted:t}=this.beans.valueSvc.getValueForDisplay(void 0,this.rowNode,!0);return o.value=e,o.valueFormatted=t,function(e,t){return e.getCompDetailsFromGridOptions($G,"agGroupRowRenderer",t,!0)}(r,o)}case"FullWidthLoading":return function(e,t){return e.getCompDetailsFromGridOptions(ZG,"agLoadingCellRenderer",t,!0)}(r,o);default:return function(e,t){return e.getCompDetailsFromGridOptions(YG,void 0,t,!0)}(r,o)}}setupFullWidthRowTooltip(e,t){var n;this.fullWidthGui&&(this.tooltipFeature=null===(n=this.beans.tooltipSvc)||void 0===n?void 0:n.setupFullWidthRowTooltip(this.tooltipFeature,this,e,t))}addFullWidthRowDragging(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=arguments.length>3?arguments[3]:void 0;const{rowDragSvc:o,context:r}=this.beans;if(!o||!this.isFullWidth())return;const s=o.createRowDragComp(()=>n,this.rowNode,void 0,e,t,i);this.createBean(s,r),this.addDestroyFunc(()=>{this.destroyBean(s,r)})}onUiLevelChanged(){const e=qH(this.rowNode);if(this.rowLevel!=e){const t="ag-row-level-"+e,n="ag-row-level-"+this.rowLevel;this.allRowGuis.forEach(e=>{e.rowComp.toggleCss(t,!0),e.rowComp.toggleCss(n,!1)})}this.rowLevel=e}isFirstRowOnPage(){return this.rowNode.rowIndex===this.beans.pageBounds.getFirstRow()}isLastRowOnPage(){return this.rowNode.rowIndex===this.beans.pageBounds.getLastRow()}refreshFirstAndLastRowStyles(){const e=this.isFirstRowOnPage(),t=this.isLastRowOnPage();this.firstRowOnPage!==e&&(this.firstRowOnPage=e,this.allRowGuis.forEach(t=>t.rowComp.toggleCss("ag-row-first",e))),this.lastRowOnPage!==t&&(this.lastRowOnPage=t,this.allRowGuis.forEach(e=>e.rowComp.toggleCss("ag-row-last",t)))}getAllCellCtrls(){if(0===this.leftCellCtrls.list.length&&0===this.rightCellCtrls.list.length)return this.centerCellCtrls.list;return[...this.centerCellCtrls.list,...this.leftCellCtrls.list,...this.rightCellCtrls.list]}postProcessClassesFromGridOptions(){var e;const t=[];null===(e=this.beans.rowStyleSvc)||void 0===e||e.processClassesFromGridOptions(t,this.rowNode),t.length&&t.forEach(e=>{this.allRowGuis.forEach(t=>t.rowComp.toggleCss(e,!0))})}postProcessRowClassRules(){var e;null===(e=this.beans.rowStyleSvc)||void 0===e||e.processRowClassRules(this.rowNode,e=>{this.allRowGuis.forEach(t=>t.rowComp.toggleCss(e,!0))},e=>{this.allRowGuis.forEach(t=>t.rowComp.toggleCss(e,!1))})}setStylesFromGridOptions(e,t){e&&(this.rowStyles=this.processStylesFromGridOptions()),this.forEachGui(t,e=>e.rowComp.setUserStyles(this.rowStyles))}getPinnedForContainer(e){return"left"===e||"right"===e?e:null}getInitialRowClasses(e){var t;const n=this.getPinnedForContainer(e),i=this.isFullWidth(),{rowNode:o,beans:r}=this,s=[];var a;(s.push("ag-row"),s.push(this.rowFocused?"ag-row-focus":"ag-row-no-focus"),this.fadeInAnimation[e]&&s.push("ag-opacity-zero"),s.push(o.rowIndex%2===0?"ag-row-even":"ag-row-odd"),o.isRowPinned())&&(s.push("ag-row-pinned"),null!==(a=r.pinnedRowModel)&&void 0!==a&&a.isManual()&&s.push("ag-row-pinned-manual"));!o.isRowPinned()&&o.pinnedSibling&&s.push("ag-row-pinned-source"),o.isSelected()&&s.push("ag-row-selected"),o.footer&&s.push("ag-row-footer"),s.push("ag-row-level-"+this.rowLevel),o.stub&&s.push("ag-row-loading"),i&&s.push("ag-full-width-row"),null===(t=r.expansionSvc)||void 0===t||t.addExpandedCss(s,o),o.dragging&&s.push("ag-row-dragging");const{rowStyleSvc:l}=r;return l&&(l.processClassesFromGridOptions(s,o),l.preProcessRowClassRules(s,o)),s.push(this.printLayout?"ag-row-position-relative":"ag-row-position-absolute"),this.isFirstRowOnPage()&&s.push("ag-row-first"),this.isLastRowOnPage()&&s.push("ag-row-last"),i&&("left"===n&&s.push("ag-cell-last-left-pinned"),"right"===n&&s.push("ag-cell-first-right-pinned")),s}processStylesFromGridOptions(){var e,t;return null!==(e=null===(t=this.beans.rowStyleSvc)||void 0===t?void 0:t.processStylesFromGridOptions(this.rowNode))&&void 0!==e?e:this.emptyStyle}onRowSelected(e){var t;null===(t=this.beans.selectionSvc)||void 0===t||t.onRowCtrlSelected(this,e=>{e!==this.centerGui&&e!==this.fullWidthGui||this.announceDescription()},e)}announceDescription(){var e;null===(e=this.beans.selectionSvc)||void 0===e||e.announceAriaRowSelection(this.rowNode)}addHoverFunctionality(e){if(!this.active)return;const{element:t,compBean:n}=e,{rowNode:i,beans:o,gos:r}=this;n.addManagedListeners(t,{pointerenter:e=>{"mouse"===e.pointerType&&i.dispatchRowEvent("mouseEnter")},pointerleave:e=>{"mouse"===e.pointerType&&i.dispatchRowEvent("mouseLeave")}}),n.addManagedListeners(i,{mouseEnter:()=>{var e;null!==(e=o.dragSvc)&&void 0!==e&&e.dragging||r.get("suppressRowHoverHighlight")||(t.classList.add("ag-row-hover"),i.setHovered(!0))},mouseLeave:()=>{this.resetHoveredStatus(t)}})}resetHoveredStatus(e){const t=e?[e]:this.allRowGuis.map(e=>e.element);for(const n of t)n.classList.remove("ag-row-hover");this.rowNode.setHovered(!1)}roundRowTopToBounds(e){const t=this.beans.ctrlsSvc.getScrollFeature().getApproximateVScollPosition(),n=this.applyPaginationOffset(t.top,!0)-100,i=this.applyPaginationOffset(t.bottom,!0)+100;return Math.min(Math.max(n,e),i)}forEachGui(e,t){e?t(e):this.allRowGuis.forEach(t)}isRowRendered(){return this.allRowGuis.length>0}onRowHeightChanged(e){if(null==this.rowNode.rowHeight)return;const t=this.rowNode.rowHeight,n=this.beans.environment.getDefaultRowHeight(),i=pB(this.gos)?gB(this.beans,this.rowNode).height:void 0,o=i?"".concat(Math.min(n,i)-2,"px"):void 0;this.forEachGui(e,e=>{e.element.style.height="".concat(t,"px"),o&&e.element.style.setProperty("--ag-line-height",o)})}destroyFirstPass(){var e;let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.active=!1;const{rowNode:n}=this;if(!t&&FB(this.gos)&&!n.sticky){if(null!=n.rowTop){const e=this.roundRowTopToBounds(n.rowTop);this.setRowTop(e)}else this.allRowGuis.forEach(e=>e.rowComp.toggleCss("ag-opacity-zero",!0))}null!==(e=this.fullWidthGui)&&void 0!==e&&e.element.contains(SB(this.beans))&&this.beans.focusSvc.attemptToRecoverFocus(),n.setHovered(!1);const i=this.createRowEvent("virtualRowRemoved");this.dispatchLocalEvent(i),this.beans.eventSvc.dispatchEvent(i),super.destroy()}destroySecondPass(){this.allRowGuis.length=0;const e=e=>(e.list.forEach(e=>e.destroy()),{list:[],map:{}});this.centerCellCtrls=e(this.centerCellCtrls),this.leftCellCtrls=e(this.leftCellCtrls),this.rightCellCtrls=e(this.rightCellCtrls)}setFocusedClasses(e){this.forEachGui(e,e=>{e.rowComp.toggleCss("ag-row-focus",this.rowFocused),e.rowComp.toggleCss("ag-row-no-focus",!this.rowFocused)})}onCellFocusChanged(){const{focusSvc:e}=this.beans,t=e.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned);t!==this.rowFocused&&(this.rowFocused=t,this.setFocusedClasses())}onPaginationChanged(){var e,t;const n=null!==(e=null===(t=this.beans.pagination)||void 0===t?void 0:t.getCurrentPage())&&void 0!==e?e:0;this.paginationPage!==n&&(this.paginationPage=n,this.onTopChanged()),this.refreshFirstAndLastRowStyles()}onTopChanged(){this.setRowTop(this.rowNode.rowTop)}onPaginationPixelOffsetChanged(){this.onTopChanged()}applyPaginationOffset(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.rowNode.isRowPinned()||this.rowNode.sticky)return e;return e+this.beans.pageBounds.getPixelOffset()*(t?1:-1)}setRowTop(e){if(!this.printLayout&&UI(e)){const t=this.applyPaginationOffset(e),n=this.rowNode.isRowPinned()||this.rowNode.sticky?t:this.beans.rowContainerHeight.getRealPixelPosition(t),i="".concat(n,"px");this.setRowTopStyle(i)}}getInitialRowTop(e){return this.suppressRowTransform?this.getInitialRowTopShared(e):void 0}getInitialTransform(e){return this.suppressRowTransform?void 0:"translateY(".concat(this.getInitialRowTopShared(e),")")}getInitialRowTopShared(e){if(this.printLayout)return"";const t=this.rowNode;let n;if(t.sticky)n=t.stickyRowTop;else{const i=this.slideInAnimation[e]?this.roundRowTopToBounds(t.oldRowTop):t.rowTop,o=this.applyPaginationOffset(i);n=t.isRowPinned()?o:this.beans.rowContainerHeight.getRealPixelPosition(o)}return n+"px"}setRowTopStyle(e){this.allRowGuis.forEach(t=>this.suppressRowTransform?t.rowComp.setTop(e):t.rowComp.setTransform("translateY(".concat(e,")")))}getCellCtrl(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=null;return this.getAllCellCtrls().forEach(t=>{t.column==e&&(n=t)}),null!=n||t||this.getAllCellCtrls().forEach(t=>{(null===t||void 0===t?void 0:t.getColSpanningList().indexOf(e))>=0&&(n=t)}),n}onRowIndexChanged(){null!=this.rowNode.rowIndex&&(this.onCellFocusChanged(),this.updateRowIndexes(),this.postProcessCss())}updateRowIndexes(e){var t,n,i,o;const r=this.rowNode.getRowIndexString();if(null===r)return;const s=(null!==(t=null===(n=this.beans.ctrlsSvc.getHeaderRowContainerCtrl())||void 0===n?void 0:n.getRowCount())&&void 0!==t?t:0)+(null!==(i=null===(o=this.beans.filterManager)||void 0===o?void 0:o.getHeaderRowCount())&&void 0!==i?i:0),a=this.rowNode.rowIndex%2===0,l=s+this.rowNode.rowIndex+1;this.forEachGui(e,e=>{e.rowComp.setRowIndex(r),e.rowComp.toggleCss("ag-row-even",a),e.rowComp.toggleCss("ag-row-odd",!a),RL(e.element,l)})}};function XH(e){var t;if(e.altKey||e.ctrlKey||e.metaKey)return!1;return 1===(null===(t=e.key)||void 0===t?void 0:t.length)}function QH(e,t,n,i,o){const r=i?i.getColDef().suppressKeyboardEvent:void 0;if(!r)return!1;const s=iO(e,{event:t,editing:o,column:i,node:n,data:n.data,colDef:i.getColDef()});if(r){if(r(s))return!0}return!1}function JH(e){var t,n;const{pinnedRowModel:i,rowModel:o}=e,[r,s]=[null===(t=null===i||void 0===i?void 0:i.isEmpty("top"))||void 0===t||t,null===(n=null===i||void 0===i?void 0:i.isEmpty("bottom"))||void 0===n||n],a=r?null:"top";let l,u;var c;s?(l=null,u=o.getRowCount()-1):(l="bottom",u=null!==(c=null===i||void 0===i?void 0:i.getPinnedBottomRowCount())&&void 0!==c?c:-1);const{visibleCols:d,rangeSvc:h}=e,p=d.allCols;h&&null!==p&&void 0!==p&&p.length&&h.setCellRange({rowStartIndex:0,rowStartPinned:a,rowEndIndex:u,rowEndPinned:l})}var ej=class extends vO{constructor(e){super(),this.element=e}postConstruct(){var e;this.addKeyboardListeners(),this.addMouseListeners(),null===(e=this.beans.touchSvc)||void 0===e||e.mockRowContextMenu(this),this.editSvc=this.beans.editSvc}addKeyboardListeners(){const e="keydown",t=this.processKeyboardEvent.bind(this,e);this.addManagedElementListeners(this.element,{[e]:t})}addMouseListeners(){["dblclick","contextmenu","mouseover","mouseout","click",hO("touchstart")?"touchstart":"mousedown"].forEach(e=>{const t=this.processMouseEvent.bind(this,e);this.addManagedElementListeners(this.element,{[e]:t})})}processMouseEvent(e,t){if(!_V(this.gos,t)||dO(t))return;const{cellCtrl:n,rowCtrl:i}=this.getControlsForEventTarget(t.target);var o;"contextmenu"===e?(null!==n&&void 0!==n&&n.column&&n.dispatchCellContextMenuEvent(t),null===(o=this.beans.contextMenuSvc)||void 0===o||o.handleContextMenuMouseEvent(t,void 0,i,n)):(n&&n.onMouseEvent(e,t),i&&i.onMouseEvent(e,t))}getControlsForEventTarget(e){const{gos:t}=this;return{cellCtrl:kV(t,e),rowCtrl:pO(t,e,ZH)}}processKeyboardEvent(e,t){const{cellCtrl:n,rowCtrl:i}=this.getControlsForEventTarget(t.target);t.defaultPrevented||(n?this.processCellKeyboardEvent(n,e,t):null!==i&&void 0!==i&&i.isFullWidth()&&this.processFullWidthRowKeyboardEvent(i,e,t))}processCellKeyboardEvent(e,t,n){var i,o;const r=null!==(i=null===(o=this.editSvc)||void 0===o?void 0:o.isEditing(e,{withOpenEditor:!0}))&&void 0!==i&&i;if(!QH(this.gos,n,e.rowNode,e.column,r)&&"keydown"===t){var s;!r&&(null===(s=this.beans.navigation)||void 0===s?void 0:s.handlePageScrollingKey(n))||e.onKeyDown(n),this.doGridOperations(n,r),XH(n)&&e.processCharacter(n)}"keydown"===t&&this.eventSvc.dispatchEvent(e.createEvent(n,"cellKeyDown"))}processFullWidthRowKeyboardEvent(e,t,n){const{rowNode:i}=e,{focusSvc:o,navigation:r}=this.beans,s=o.getFocusedCell(),a=null===s||void 0===s?void 0:s.column;if(!QH(this.gos,n,i,a,!1)){const i=n.key;if("keydown"===t)switch(i){case sV.PAGE_HOME:case sV.PAGE_END:case sV.PAGE_UP:case sV.PAGE_DOWN:null===r||void 0===r||r.handlePageScrollingKey(n,!0);break;case sV.LEFT:case sV.RIGHT:if(!this.gos.get("embedFullWidthRows"))break;case sV.UP:case sV.DOWN:e.onKeyboardNavigate(n);break;case sV.TAB:e.onTabKeyDown(n)}}"keydown"===t&&this.eventSvc.dispatchEvent(e.createRowEvent("cellKeyDown",n))}doGridOperations(e,t){if(!e.ctrlKey&&!e.metaKey)return;if(t)return;if(!_V(this.gos,e))return;const n=function(e){const{keyCode:t}=e;let n;switch(t){case 65:n=sV.A;break;case 67:n=sV.C;break;case 86:n=sV.V;break;case 68:n=sV.D;break;case 90:n=sV.Z;break;case 89:n=sV.Y;break;default:n=e.code}return n}(e),{clipboardSvc:i,undoRedo:o}=this.beans;return n===sV.A?this.onCtrlAndA(e):n===sV.C?this.onCtrlAndC(i,e):n===sV.D?this.onCtrlAndD(i,e):n===sV.V?this.onCtrlAndV(i,e):n===sV.X?this.onCtrlAndX(i,e):n===sV.Y?this.onCtrlAndY(o):n===sV.Z?this.onCtrlAndZ(o,e):void 0}onCtrlAndA(e){const{beans:{rowModel:t,rangeSvc:n,selectionSvc:i},gos:o}=this;n&&WB(o)&&t.isRowsToRender()?JH(this.beans):i&&(null===i||void 0===i||i.selectAllRowNodes({source:"keyboardSelectAll",selectAll:XB(o)})),e.preventDefault()}onCtrlAndC(e,t){var n;if(!e||this.gos.get("enableCellTextSelection"))return;const{cellCtrl:i}=this.getControlsForEventTarget(t.target);null!==(n=this.editSvc)&&void 0!==n&&n.isEditing(i,{withOpenEditor:!0})||(t.preventDefault(),e.copyToClipboard())}onCtrlAndX(e,t){var n;if(!e||this.gos.get("enableCellTextSelection")||this.gos.get("suppressCutToClipboard"))return;const{cellCtrl:i}=this.getControlsForEventTarget(t.target);null!==(n=this.editSvc)&&void 0!==n&&n.isEditing(i,{withOpenEditor:!0})||(t.preventDefault(),e.cutToClipboard(void 0,"ui"))}onCtrlAndV(e,t){var n;const{cellCtrl:i}=this.getControlsForEventTarget(t.target);null!==(n=this.editSvc)&&void 0!==n&&n.isEditing(i,{withOpenEditor:!0})||e&&!this.gos.get("suppressClipboardPaste")&&e.pasteFromClipboard()}onCtrlAndD(e,t){e&&!this.gos.get("suppressClipboardPaste")&&e.copyRangeDown(),t.preventDefault()}onCtrlAndZ(e,t){this.gos.get("undoRedoCellEditing")&&e&&(t.preventDefault(),t.shiftKey?e.redo("ui"):e.undo("ui"))}onCtrlAndY(e){null===e||void 0===e||e.redo("ui")}},tj=class extends vO{constructor(e,t){super(),this.eContainer=e,this.eViewport=t}postConstruct(){this.addManagedEventListeners({rowContainerHeightChanged:this.onHeightChanged.bind(this,this.beans.rowContainerHeight)})}onHeightChanged(e){const t=e.uiContainerHeight,n=null!=t?"".concat(t,"px"):"";this.eContainer.style.height=n,this.eViewport&&(this.eViewport.style.height=n)}},nj=e=>e.topRowCtrls,ij=e=>e.getStickyTopRowCtrls(),oj=e=>e.getStickyBottomRowCtrls(),rj=e=>e.bottomRowCtrls,sj=e=>e.allRowCtrls,aj=e=>e.getCtrls("top"),lj=e=>e.getCtrls("center"),uj=e=>e.getCtrls("bottom"),cj={center:{type:"center",name:"center-cols",getRowCtrls:sj,getSpannedRowCtrls:lj},left:{type:"left",name:"pinned-left-cols",pinnedType:"left",getRowCtrls:sj,getSpannedRowCtrls:lj},right:{type:"right",name:"pinned-right-cols",pinnedType:"right",getRowCtrls:sj,getSpannedRowCtrls:lj},fullWidth:{type:"fullWidth",name:"full-width",fullWidth:!0,getRowCtrls:sj},topCenter:{type:"center",name:"floating-top",getRowCtrls:nj,getSpannedRowCtrls:aj},topLeft:{type:"left",name:"pinned-left-floating",container:"ag-pinned-left-floating-top",pinnedType:"left",getRowCtrls:nj,getSpannedRowCtrls:aj},topRight:{type:"right",name:"pinned-right-floating",container:"ag-pinned-right-floating-top",pinnedType:"right",getRowCtrls:nj,getSpannedRowCtrls:aj},topFullWidth:{type:"fullWidth",name:"floating-top-full-width",fullWidth:!0,getRowCtrls:nj},stickyTopCenter:{type:"center",name:"sticky-top",getRowCtrls:ij},stickyTopLeft:{type:"left",name:"pinned-left-sticky-top",container:"ag-pinned-left-sticky-top",pinnedType:"left",getRowCtrls:ij},stickyTopRight:{type:"right",name:"pinned-right-sticky-top",container:"ag-pinned-right-sticky-top",pinnedType:"right",getRowCtrls:ij},stickyTopFullWidth:{type:"fullWidth",name:"sticky-top-full-width",fullWidth:!0,getRowCtrls:ij},stickyBottomCenter:{type:"center",name:"sticky-bottom",getRowCtrls:oj},stickyBottomLeft:{type:"left",name:"pinned-left-sticky-bottom",container:"ag-pinned-left-sticky-bottom",pinnedType:"left",getRowCtrls:oj},stickyBottomRight:{type:"right",name:"pinned-right-sticky-bottom",container:"ag-pinned-right-sticky-bottom",pinnedType:"right",getRowCtrls:oj},stickyBottomFullWidth:{type:"fullWidth",name:"sticky-bottom-full-width",fullWidth:!0,getRowCtrls:oj},bottomCenter:{type:"center",name:"floating-bottom",getRowCtrls:rj,getSpannedRowCtrls:uj},bottomLeft:{type:"left",name:"pinned-left-floating-bottom",container:"ag-pinned-left-floating-bottom",pinnedType:"left",getRowCtrls:rj,getSpannedRowCtrls:uj},bottomRight:{type:"right",name:"pinned-right-floating-bottom",container:"ag-pinned-right-floating-bottom",pinnedType:"right",getRowCtrls:rj,getSpannedRowCtrls:uj},bottomFullWidth:{type:"fullWidth",name:"floating-bottom-full-width",fullWidth:!0,getRowCtrls:rj}};function dj(e){const t=gj(e);return"ag-".concat(t.name,"-viewport")}function hj(e){var t;const n=gj(e);return null!==(t=n.container)&&void 0!==t?t:"ag-".concat(n.name,"-container")}function pj(e){const t=gj(e);return"ag-".concat(t.name,"-spanned-cells-container")}function gj(e){return cj[e]}var mj=["center","left","right","fullWidth"],vj=["stickyTopCenter","stickyBottomCenter","center","topCenter","bottomCenter"],fj=["left","bottomLeft","topLeft","stickyTopLeft","stickyBottomLeft"],wj=["right","bottomRight","topRight","stickyTopRight","stickyBottomRight"],Cj=["stickyTopCenter","stickyTopLeft","stickyTopRight"],bj=["stickyBottomCenter","stickyBottomLeft","stickyBottomRight"],yj=[...Cj,"stickyTopFullWidth",...bj,"stickyBottomFullWidth"],Sj=["topCenter","topLeft","topRight","bottomCenter","bottomLeft","bottomRight","center","left","right",...Cj,...bj],xj=class extends vO{constructor(e){super(),this.name=e,this.visible=!0,this.EMPTY_CTRLS=[],this.options=gj(e)}postConstruct(){this.enableRtl=this.gos.get("enableRtl"),this.forContainers(["center"],()=>{this.viewportSizeFeature=this.createManagedBean(new UH(this)),this.addManagedEventListeners({stickyTopOffsetChanged:this.onStickyTopOffsetChanged.bind(this)})})}onStickyTopOffsetChanged(e){this.comp.setOffsetTop("".concat(e.offset,"px"))}registerWithCtrlsService(){this.options.fullWidth||this.beans.ctrlsSvc.register(this.name,this)}forContainers(e,t){e.indexOf(this.name)>=0&&t()}setComp(e,t,n,i){var o;this.comp=e,this.eContainer=t,this.eSpannedContainer=n,this.eViewport=i,this.createManagedBean(new ej(null!==(o=this.eViewport)&&void 0!==o?o:this.eContainer)),this.addPreventScrollWhileDragging(),this.listenOnDomOrder();const{pinnedCols:r,rangeSvc:s}=this.beans,a=()=>this.onPinnedWidthChanged();this.forContainers(fj,()=>{this.pinnedWidthFeature=this.createOptionalManagedBean(null===r||void 0===r?void 0:r.createPinnedWidthFeature(!0,this.eContainer,this.eSpannedContainer)),this.addManagedEventListeners({leftPinnedWidthChanged:a})}),this.forContainers(wj,()=>{this.pinnedWidthFeature=this.createOptionalManagedBean(null===r||void 0===r?void 0:r.createPinnedWidthFeature(!1,this.eContainer,this.eSpannedContainer)),this.addManagedEventListeners({rightPinnedWidthChanged:a})}),this.forContainers(mj,()=>this.createManagedBean(new tj(this.eContainer,"center"===this.name?i:void 0))),s&&this.forContainers(Sj,()=>this.createManagedBean(s.createDragListenerFeature(this.eContainer))),this.forContainers(vj,()=>this.createManagedBean(new WH(e=>this.comp.setContainerWidth("".concat(e,"px"))))),this.visible=this.isContainerVisible(),this.addListeners(),this.registerWithCtrlsService()}onScrollCallback(e){this.addManagedElementListeners(this.eViewport,{scroll:e})}addListeners(){const{spannedRowRenderer:e,gos:t}=this.beans,n=this.onDisplayedColumnsChanged.bind(this);this.addManagedEventListeners({displayedColumnsChanged:n,displayedColumnsWidthChanged:n,displayedRowsChanged:e=>this.onDisplayedRowsChanged(e.afterScroll)}),n(),this.onDisplayedRowsChanged(),e&&this.options.getSpannedRowCtrls&&t.get("enableCellSpan")&&this.addManagedListeners(e,{spannedRowsUpdated:()=>{const t=this.options.getSpannedRowCtrls(e);t&&this.comp.setSpannedRowCtrls(t,!1)}})}listenOnDomOrder(){if(yj.indexOf(this.name)>=0)return void this.comp.setDomOrder(!0);const e=()=>{const e=this.gos.get("ensureDomOrder"),t=dB(this.gos,"print");this.comp.setDomOrder(e||t)};this.addManagedPropertyListener("domLayout",e),e()}onDisplayedColumnsChanged(){this.forContainers(["center"],()=>this.onHorizontalViewportChanged())}addPreventScrollWhileDragging(){const{dragSvc:e}=this.beans;if(!e)return;const t=t=>{e.dragging&&t.cancelable&&t.preventDefault()};this.eContainer.addEventListener("touchmove",t,{passive:!1}),this.addDestroyFunc(()=>this.eContainer.removeEventListener("touchmove",t))}onHorizontalViewportChanged(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=this.getCenterWidth(),n=this.getCenterViewportScrollLeft();this.beans.colViewport.setScrollPosition(t,n,e)}hasHorizontalScrollGap(){return this.eContainer.clientWidth-this.eViewport.clientWidth<0}hasVerticalScrollGap(){return this.eContainer.clientHeight-this.eViewport.clientHeight<0}getCenterWidth(){return iN(this.eViewport)}getCenterViewportScrollLeft(){return aN(this.eViewport,this.enableRtl)}registerViewportResizeListener(e){const t=kN(this.beans,this.eViewport,e);this.addDestroyFunc(()=>t())}isViewportInTheDOMTree(){return dN(this.eViewport)}getViewportScrollLeft(){return aN(this.eViewport,this.enableRtl)}isHorizontalScrollShowing(){return this.gos.get("alwaysShowHorizontalScroll")||CN(this.eViewport)}setHorizontalScroll(e){this.comp.setHorizontalScroll(e)}getHScrollPosition(){return{left:this.eViewport.scrollLeft,right:this.eViewport.scrollLeft+this.eViewport.offsetWidth}}setCenterViewportScrollLeft(e){lN(this.eViewport,e,this.enableRtl)}isContainerVisible(){return!(null!=this.options.pinnedType)||!!this.pinnedWidthFeature&&this.pinnedWidthFeature.getWidth()>0}onPinnedWidthChanged(){const e=this.isContainerVisible();this.visible!=e&&(this.visible=e,this.onDisplayedRowsChanged())}onDisplayedRowsChanged(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=this.options.getRowCtrls(this.beans.rowRenderer);if(!this.visible||0===t.length)return void this.comp.setRowCtrls({rowCtrls:this.EMPTY_CTRLS});const n=dB(this.gos,"print"),i=this.gos.get("embedFullWidthRows")||n,o=t.filter(e=>{const t=e.isFullWidth();return this.options.fullWidth?!i&&t:i||!t});this.comp.setRowCtrls({rowCtrls:o,useFlushSync:e})}},Dj="ag-force-vertical-scroll",Ej=class extends vO{constructor(){super(...arguments),this.stickyTopHeight=0,this.stickyBottomHeight=0}wireBeans(e){this.ctrlsSvc=e.ctrlsSvc,this.colModel=e.colModel,this.scrollVisibleSvc=e.scrollVisibleSvc,this.pinnedRowModel=e.pinnedRowModel,this.filterManager=e.filterManager,this.rowGroupColsSvc=e.rowGroupColsSvc}setComp(e,t,n,i,o,r,s){var a,l;this.comp=e,this.eGridBody=t,this.eBodyViewport=n,this.eTop=i,this.eBottom=o,this.eStickyTop=r,this.eStickyBottom=s,this.eCenterColsViewport=n.querySelector(".".concat(dj("center"))),this.eFullWidthContainer=n.querySelector(".".concat(hj("fullWidth"))),this.eStickyTopFullWidthContainer=r.querySelector(".".concat(hj("stickyTopFullWidth"))),this.eStickyBottomFullWidthContainer=s.querySelector(".".concat(hj("stickyBottomFullWidth"))),this.setCellTextSelection(this.gos.get("enableCellTextSelection")),this.addManagedPropertyListener("enableCellTextSelection",e=>this.setCellTextSelection(e.currentValue)),this.createManagedBean(new OH(this.comp)),this.scrollFeature=this.createManagedBean(new jH(n)),null===(a=this.beans.rowDragSvc)||void 0===a||a.setupRowDrag(n,this),this.setupRowAnimationCssClass(),this.addEventListeners(),this.addFocusListeners([i,n,o,r,s]),this.setGridRootRole(),this.onGridColumnsChanged(),this.addBodyViewportListener(),this.setFloatingHeights(),this.disableBrowserDragging(),this.addStopEditingWhenGridLosesFocus(),this.updateScrollingClasses(),null===(l=this.filterManager)||void 0===l||l.setupAdvFilterHeaderComp(i),this.ctrlsSvc.register("gridBodyCtrl",this)}addEventListeners(){const e=this.setFloatingHeights.bind(this),t=this.setGridRootRole.bind(this),n=this.toggleRowResizeStyles.bind(this);this.addManagedEventListeners({gridColumnsChanged:this.onGridColumnsChanged.bind(this),scrollVisibilityChanged:this.onScrollVisibilityChanged.bind(this),scrollGapChanged:this.updateScrollingClasses.bind(this),pinnedRowDataChanged:e,pinnedHeightChanged:e,pinnedRowsChanged:e,headerHeightChanged:this.setStickyTopOffsetTop.bind(this),columnRowGroupChanged:t,columnPivotChanged:t,rowResizeStarted:n,rowResizeEnded:n}),this.addManagedPropertyListener("treeData",t)}toggleRowResizeStyles(e){const t="rowResizeStarted"===e.type;this.eBodyViewport.classList.toggle("ag-prevent-animation",t)}onGridColumnsChanged(){const e=this.beans.colModel.getCols();this.comp.setColumnCount(e.length)}onScrollVisibilityChanged(){const{scrollVisibleSvc:e}=this,t=e.verticalScrollShowing;this.setVerticalScrollPaddingVisible(t),this.setStickyWidth(t),this.setStickyBottomOffsetBottom();const n=t&&e.getScrollbarWidth()||0,i=qL()?16:0,o="calc(100% + ".concat(n+i,"px)");RN(this.beans,()=>this.comp.setBodyViewportWidth(o)),this.updateScrollingClasses()}setGridRootRole(){const{rowGroupColsSvc:e,colModel:t}=this;let n=this.gos.get("treeData");if(!n){const i=t.isPivotMode();n=(e?e.columns.length:0)>=(i?2:1)}this.comp.setGridRootRole(n?"treegrid":"grid")}addFocusListeners(e){e.forEach(e=>{this.addManagedElementListeners(e,{focusin:t=>{const{target:n}=t,i=eN(n,"ag-root",e);e.classList.toggle("ag-has-focus",!i)},focusout:t=>{const{target:n,relatedTarget:i}=t,o=e.contains(i),r=eN(i,"ag-root",e);eN(n,"ag-root",e)||o&&!r||e.classList.remove("ag-has-focus")}})})}setColumnMovingCss(e){this.comp.setColumnMovingCss("ag-column-moving",e)}setCellTextSelection(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.comp.setCellSelectableCss("ag-selectable",e)}updateScrollingClasses(){const{eGridBody:{classList:e},scrollVisibleSvc:t}=this;e.toggle("ag-body-vertical-content-no-gap",!t.verticalScrollGap),e.toggle("ag-body-horizontal-content-no-gap",!t.horizontalScrollGap)}disableBrowserDragging(){this.addManagedElementListeners(this.eGridBody,{dragstart:e=>{if(e.target instanceof HTMLImageElement)return e.preventDefault(),!1}})}addStopEditingWhenGridLosesFocus(){var e;null===(e=this.beans.editSvc)||void 0===e||e.addStopEditingWhenGridLosesFocus([this.eBodyViewport,this.eBottom,this.eTop,this.eStickyTop,this.eStickyBottom])}updateRowCount(){var e,t,n,i;const o=(null!==(e=null===(t=this.ctrlsSvc.getHeaderRowContainerCtrl())||void 0===t?void 0:t.getRowCount())&&void 0!==e?e:0)+(null!==(n=null===(i=this.filterManager)||void 0===i?void 0:i.getHeaderRowCount())&&void 0!==n?n:0),{rowModel:r}=this.beans,s=r.isLastRowIndexKnown()?r.getRowCount():-1,a=-1===s?-1:o+s;this.comp.setRowCount(a)}registerBodyViewportResizeListener(e){this.comp.registerBodyViewportResizeListener(e)}setVerticalScrollPaddingVisible(e){const t=e?"scroll":"hidden";this.comp.setPinnedTopBottomOverflowY(t)}isVerticalScrollShowing(){const e=this.gos.get("alwaysShowVerticalScroll"),t=e?Dj:null,n=dB(this.gos,"normal");return this.comp.setAlwaysVerticalScrollClass(t,e),e||n&&bN(this.eBodyViewport)}setupRowAnimationCssClass(){const{rowContainerHeight:e,environment:t}=this.beans;let n=t.sizesMeasured;const i=()=>{const t=n&&FB(this.gos)&&!e.stretching,i=t?"ag-row-animation":"ag-row-no-animation";this.comp.setRowAnimationCssOnBodyViewport(i,t)};i(),this.addManagedEventListeners({heightScaleChanged:i}),this.addManagedPropertyListener("animateRows",i),this.addManagedEventListeners({gridStylesChanged:()=>{!n&&t.sizesMeasured&&(n=!0,i())}})}addBodyViewportListener(){const{eBodyViewport:e,eStickyTop:t,eStickyBottom:n,eTop:i,eBottom:o,beans:{popupSvc:r,touchSvc:s}}=this,a=this.onBodyViewportContextMenu.bind(this);this.addManagedElementListeners(e,{contextmenu:a}),null===s||void 0===s||s.mockBodyContextMenu(this,a),this.addManagedElementListeners(e,{wheel:this.onBodyViewportWheel.bind(this,r)});const l=this.onStickyWheel.bind(this);for(const c of[t,n,i,o])this.addManagedElementListeners(c,{wheel:l});const u=this.onHorizontalWheel.bind(this);for(const c of["left","right","topLeft","topRight","bottomLeft","bottomRight"])this.addManagedElementListeners(this.ctrlsSvc.get(c).eContainer,{wheel:u});this.addFullWidthContainerWheelListener()}addFullWidthContainerWheelListener(){this.addManagedElementListeners(this.eFullWidthContainer,{wheel:e=>this.onFullWidthContainerWheel(e)})}onFullWidthContainerWheel(e){const{deltaX:t,deltaY:n,shiftKey:i}=e;(i||Math.abs(t)>Math.abs(n))&&_V(this.gos,e)&&this.scrollGridBodyToMatchEvent(e)}onStickyWheel(e){const{deltaY:t}=e;this.scrollVertically(t)>0&&e.preventDefault()}onHorizontalWheel(e){const{deltaX:t,deltaY:n,shiftKey:i}=e;(i||Math.abs(t)>Math.abs(n))&&this.scrollGridBodyToMatchEvent(e)}scrollGridBodyToMatchEvent(e){const{deltaX:t,deltaY:n}=e;e.preventDefault(),this.eCenterColsViewport.scrollBy({left:t||n})}onBodyViewportContextMenu(e,t,n){if(!e&&!n)return;if(this.gos.get("preventDefaultOnContextMenu")){(e||n).preventDefault()}const{target:i}=e||t;var o;i!==this.eBodyViewport&&i!==this.ctrlsSvc.get("center").eViewport||(null===(o=this.beans.contextMenuSvc)||void 0===o||o.showContextMenu({mouseEvent:e,touchEvent:n,value:null,anchorToElement:this.eGridBody,source:"ui"}))}onBodyViewportWheel(e,t){this.gos.get("suppressScrollWhenPopupsAreOpen")&&null!==e&&void 0!==e&&e.hasAnchoredPopup()&&t.preventDefault()}scrollVertically(e){const t=this.eBodyViewport.scrollTop;return this.scrollFeature.setVerticalScrollPosition(t+e),this.eBodyViewport.scrollTop-t}setFloatingHeights(){const{pinnedRowModel:e,beans:{environment:t}}=this,n=null===e||void 0===e?void 0:e.getPinnedTopTotalHeight(),i=null===e||void 0===e?void 0:e.getPinnedBottomTotalHeight(),o=t.getPinnedRowBorderWidth()-t.getRowBorderWidth(),r=n?o+n:0,s=i?o+i:0;this.comp.setTopHeight(r),this.comp.setBottomHeight(s),this.comp.setTopInvisible(r<=0),this.comp.setBottomInvisible(s<=0),this.setStickyTopOffsetTop(),this.setStickyBottomOffsetBottom()}setStickyTopHeight(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.comp.setStickyTopHeight("".concat(e,"px")),this.stickyTopHeight=e}setStickyBottomHeight(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.comp.setStickyBottomHeight("".concat(e,"px")),this.stickyBottomHeight=e}setStickyWidth(e){if(e){const e=this.scrollVisibleSvc.getScrollbarWidth();this.comp.setStickyTopWidth("calc(100% - ".concat(e,"px)")),this.comp.setStickyBottomWidth("calc(100% - ".concat(e,"px)"))}else this.comp.setStickyTopWidth("100%"),this.comp.setStickyBottomWidth("100%")}setStickyTopOffsetTop(){var e,t,n,i;const o=this.ctrlsSvc.get("gridHeaderCtrl").headerHeight+(null!==(e=null===(t=this.filterManager)||void 0===t?void 0:t.getHeaderHeight())&&void 0!==e?e:0),r=null!==(n=null===(i=this.pinnedRowModel)||void 0===i?void 0:i.getPinnedTopTotalHeight())&&void 0!==n?n:0;let s=0;o>0&&(s+=o),r>0&&(s+=r),s>0&&(s+=1),this.comp.setStickyTopTop("".concat(s,"px"))}setStickyBottomOffsetBottom(){var e;const{pinnedRowModel:t,scrollVisibleSvc:n,comp:i}=this,o=(null!==(e=null===t||void 0===t?void 0:t.getPinnedBottomTotalHeight())&&void 0!==e?e:0)+(n.horizontalScrollShowing&&n.getScrollbarWidth()||0);i.setStickyBottomBottom("".concat(o,"px"))}},Fj=class extends AG{constructor(e,t){super(),this.direction=t,this.eViewport=kG,this.eContainer=kG,this.hideTimeout=0,this.setTemplate(e)}postConstruct(){this.addManagedEventListeners({scrollVisibilityChanged:this.onScrollVisibilityChanged.bind(this)}),this.onScrollVisibilityChanged(),this.toggleCss("ag-apple-scrollbar",jL()||WL())}destroy(){super.destroy(),window.clearTimeout(this.hideTimeout)}initialiseInvisibleScrollbar(){void 0===this.invisibleScrollbar&&(this.invisibleScrollbar=qL(),this.invisibleScrollbar&&(this.hideAndShowInvisibleScrollAsNeeded(),this.addActiveListenerToggles()))}addActiveListenerToggles(){const e=this.getGui(),t=()=>this.toggleCss("ag-scrollbar-active",!0),n=()=>this.toggleCss("ag-scrollbar-active",!1);this.addManagedListeners(e,{mouseenter:t,mousedown:t,touchstart:t,mouseleave:n,touchend:n})}onScrollVisibilityChanged(){void 0===this.invisibleScrollbar&&this.initialiseInvisibleScrollbar(),RN(this.beans,()=>this.setScrollVisible())}hideAndShowInvisibleScrollAsNeeded(){this.addManagedEventListeners({bodyScroll:e=>{e.direction===this.direction&&(this.hideTimeout&&(window.clearTimeout(this.hideTimeout),this.hideTimeout=0),this.toggleCss("ag-scrollbar-scrolling",!0))},bodyScrollEnd:()=>{this.hideTimeout=window.setTimeout(()=>{this.toggleCss("ag-scrollbar-scrolling",!1),this.hideTimeout=0},400)}})}attemptSettingScrollPosition(e){const t=this.eViewport;WN(()=>hN(t),()=>this.setScrollPosition(e),100)}onScrollCallback(e){this.addManagedElementListeners(this.eViewport,{scroll:e})}},kj={tag:"div",cls:"ag-body-horizontal-scroll",attrs:{"aria-hidden":"true"},children:[{tag:"div",ref:"eLeftSpacer",cls:"ag-horizontal-left-spacer"},{tag:"div",ref:"eViewport",cls:"ag-body-horizontal-scroll-viewport",children:[{tag:"div",ref:"eContainer",cls:"ag-body-horizontal-scroll-container"}]},{tag:"div",ref:"eRightSpacer",cls:"ag-horizontal-right-spacer"}]},Aj=class extends Fj{constructor(){super(kj,"horizontal"),this.eLeftSpacer=kG,this.eRightSpacer=kG,this.setScrollVisibleDebounce=0}wireBeans(e){this.visibleCols=e.visibleCols,this.scrollVisibleSvc=e.scrollVisibleSvc}postConstruct(){super.postConstruct();const e=this.setFakeHScrollSpacerWidths.bind(this);this.addManagedEventListeners({displayedColumnsChanged:e,displayedColumnsWidthChanged:e,pinnedRowDataChanged:this.refreshCompBottom.bind(this)}),this.addManagedPropertyListener("domLayout",e),this.beans.ctrlsSvc.register("fakeHScrollComp",this),this.createManagedBean(new WH(e=>this.eContainer.style.width="".concat(e,"px"))),this.addManagedPropertyListeners(["suppressHorizontalScroll"],this.onScrollVisibilityChanged.bind(this))}destroy(){window.clearTimeout(this.setScrollVisibleDebounce),super.destroy()}initialiseInvisibleScrollbar(){void 0===this.invisibleScrollbar&&(this.enableRtl=this.gos.get("enableRtl"),super.initialiseInvisibleScrollbar(),this.invisibleScrollbar&&this.refreshCompBottom())}refreshCompBottom(){var e,t;if(!this.invisibleScrollbar)return;const n=null!==(e=null===(t=this.beans.pinnedRowModel)||void 0===t?void 0:t.getPinnedBottomTotalHeight())&&void 0!==e?e:0;this.getGui().style.bottom="".concat(n,"px")}onScrollVisibilityChanged(){super.onScrollVisibilityChanged(),this.setFakeHScrollSpacerWidths()}setFakeHScrollSpacerWidths(){const e=this.scrollVisibleSvc.verticalScrollShowing;let t=this.visibleCols.getDisplayedColumnsRightWidth();const n=!this.enableRtl&&e,i=this.scrollVisibleSvc.getScrollbarWidth();n&&(t+=i),SN(this.eRightSpacer,t),this.eRightSpacer.classList.toggle("ag-scroller-corner",t<=i);let o=this.visibleCols.getColsLeftWidth();this.enableRtl&&e&&(o+=i),SN(this.eLeftSpacer,o),this.eLeftSpacer.classList.toggle("ag-scroller-corner",o<=i)}setScrollVisible(){const e=this.scrollVisibleSvc.horizontalScrollShowing,t=this.invisibleScrollbar,n=this.gos.get("suppressHorizontalScroll"),i=e&&this.scrollVisibleSvc.getScrollbarWidth()||0,o=n?0:0===i&&t?16:i,r=()=>{this.setScrollVisibleDebounce=0,this.toggleCss("ag-scrollbar-invisible",t),xN(this.getGui(),o),xN(this.eViewport,o),xN(this.eContainer,o),o||this.eContainer.style.setProperty("min-height","1px"),this.setVisible(e,{skipAriaHidden:!0})};window.clearTimeout(this.setScrollVisibleDebounce),e?this.setScrollVisibleDebounce=window.setTimeout(r,100):r()}getScrollPosition(){return aN(this.eViewport,this.enableRtl)}setScrollPosition(e){hN(this.eViewport)||this.attemptSettingScrollPosition(e),lN(this.eViewport,e,this.enableRtl)}},Rj={selector:"AG-FAKE-HORIZONTAL-SCROLL",component:Aj},Pj={tag:"div",cls:"ag-body-vertical-scroll",attrs:{"aria-hidden":"true"},children:[{tag:"div",ref:"eViewport",cls:"ag-body-vertical-scroll-viewport",children:[{tag:"div",ref:"eContainer",cls:"ag-body-vertical-scroll-container"}]}]},Tj=class extends Fj{constructor(){super(Pj,"vertical")}postConstruct(){super.postConstruct(),this.createManagedBean(new tj(this.eContainer));const{ctrlsSvc:e}=this.beans;e.register("fakeVScrollComp",this),this.addManagedEventListeners({rowContainerHeightChanged:this.onRowContainerHeightChanged.bind(this,e)})}setScrollVisible(){const{scrollVisibleSvc:e}=this.beans,t=e.verticalScrollShowing,n=this.invisibleScrollbar,i=t&&e.getScrollbarWidth()||0,o=0===i&&n?16:i;this.toggleCss("ag-scrollbar-invisible",n),SN(this.getGui(),o),SN(this.eViewport,o),SN(this.eContainer,o),this.setDisplayed(t,{skipAriaHidden:!0})}onRowContainerHeightChanged(e){const t=e.getGridBodyCtrl().eBodyViewport,n=this.getScrollPosition(),i=t.scrollTop;n!=i&&this.setScrollPosition(i,!0)}getScrollPosition(){return this.eViewport.scrollTop}setScrollPosition(e,t){t||hN(this.eViewport)||this.attemptSettingScrollPosition(e),this.eViewport.scrollTop=e}},_j={selector:"AG-FAKE-VERTICAL-SCROLL",component:Tj};function Mj(e){var t,n;return null!==(t=null===(n=e.ctrlsSvc.getHeaderRowContainerCtrl())||void 0===n?void 0:n.getRowCount())&&void 0!==t?t:0}function Ij(e){const t=[],n=e.ctrlsSvc.getHeaderRowContainerCtrls();for(const i of n){if(!i)continue;const n=i.getGroupRowCount()||0;for(let o=0;o<n;o++){const n=i.getGroupRowCtrlAtIndex(o),r=t[o];if(n){const i=Lj(e,n);(null==r||i>r)&&(t[o]=i)}}}return t}function Lj(e,t){let n=e.colModel.isPivotMode()?function(e){var t;return null!==(t=e.gos.get("pivotGroupHeaderHeight"))&&void 0!==t?t:Gj(e)}(e):Gj(e);const i=t.getHeaderCellCtrls();for(const o of i){const{column:e}=o,t=e.getAutoHeaderHeight();null!=t&&t>n&&e.isAutoHeaderHeight()&&(n=t)}return n}function Nj(e){let t=e.colModel.isPivotMode()?function(e){var t;return null!==(t=e.gos.get("pivotHeaderHeight"))&&void 0!==t?t:Bj(e)}(e):Bj(e);return e.colModel.forAllCols(e=>{const n=e.getAutoHeaderHeight();null!=n&&n>t&&e.isAutoHeaderHeight()&&(t=n)}),t}function Bj(e){var t;return null!==(t=e.gos.get("headerHeight"))&&void 0!==t?t:e.environment.getDefaultHeaderHeight()}function Oj(e){var t;return null!==(t=e.gos.get("floatingFiltersHeight"))&&void 0!==t?t:Bj(e)}function Gj(e){var t;return null!==(t=e.gos.get("groupHeaderHeight"))&&void 0!==t?t:Bj(e)}var zj=class extends vO{setComp(e,t,n){this.comp=e,this.eGui=t;const{beans:i}=this,{headerNavigation:o,touchSvc:r,ctrlsSvc:s}=i;o&&this.createManagedBean(new IH(n,{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedEventListeners({columnPivotModeChanged:this.onPivotModeChanged.bind(this,i),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this,i)}),this.onPivotModeChanged(i),this.setupHeaderHeight();const a=this.onHeaderContextMenu.bind(this);this.addManagedElementListeners(this.eGui,{contextmenu:a}),null===r||void 0===r||r.mockHeaderContextMenu(this,a),s.register("gridHeaderCtrl",this)}setupHeaderHeight(){const e=this.setHeaderHeight.bind(this);e(),this.addManagedPropertyListeners(["headerHeight","pivotHeaderHeight","groupHeaderHeight","pivotGroupHeaderHeight","floatingFiltersHeight"],e),this.addManagedEventListeners({headerRowsChanged:e,columnHeaderHeightChanged:e,columnGroupHeaderHeightChanged:()=>RN(this.beans,()=>e()),gridStylesChanged:e,advancedFilterEnabledChanged:e})}setHeaderHeight(){var e;const{beans:t}=this;let n=0;const i=Ij(t).reduce((e,t)=>e+t,0),o=Nj(t);if(null!==(e=t.filterManager)&&void 0!==e&&e.hasFloatingFilters()&&(n+=Oj(t)),n+=i,n+=o,this.headerHeight===n)return;this.headerHeight=n;const r="".concat(n+1,"px");this.comp.setHeightAndMinHeight(r),this.eventSvc.dispatchEvent({type:"headerHeightChanged"})}onPivotModeChanged(e){const t=e.colModel.isPivotMode();this.comp.toggleCss("ag-pivot-on",t),this.comp.toggleCss("ag-pivot-off",!t)}onDisplayedColumnsChanged(e){const t=e.visibleCols.allCols.some(e=>e.isSpanHeaderHeight());this.comp.toggleCss("ag-header-allow-overflow",t)}onTabKeyDown(e){const t=this.gos.get("enableRtl"),n=e.shiftKey,i=n!==t?"LEFT":"RIGHT",{beans:o}=this,{headerNavigation:r,focusSvc:s}=o;(r.navigateHorizontally(i,!0,e)||!n&&s.focusOverlay(!1)||bV(o,n,!0))&&e.preventDefault()}handleKeyDown(e){let t=null;const{headerNavigation:n}=this.beans;switch(e.key){case sV.LEFT:t="LEFT";case sV.RIGHT:UI(t)||(t="RIGHT"),n.navigateHorizontally(t,!1,e)&&e.preventDefault();break;case sV.UP:t="UP";case sV.DOWN:UI(t)||(t="DOWN"),n.navigateVertically(t,e)&&e.preventDefault();break;default:return}}onFocusOut(e){const{relatedTarget:t}=e,{eGui:n,beans:i}=this;!t&&n.contains(SB(i))||n.contains(t)||(i.focusSvc.focusedHeader=null)}onHeaderContextMenu(e,t,n){var i;const{menuSvc:o,ctrlsSvc:r}=this.beans;if(!e&&!n||null===o||void 0===o||!o.isHeaderContextMenuEnabled())return;const{target:s}=null!==e&&void 0!==e?e:t;s!==this.eGui&&s!==(null===(i=r.getHeaderRowContainerCtrl())||void 0===i?void 0:i.eViewport)||o.showHeaderContextMenu(void 0,e,n)}},Vj=class extends AG{constructor(e,t){super(e),this.ctrl=t}getCtrl(){return this.ctrl}},Hj={tag:"div",cls:"ag-header-cell",role:"columnheader",children:[{tag:"div",ref:"eResize",cls:"ag-header-cell-resize",role:"presentation"},{tag:"div",ref:"eHeaderCompWrapper",cls:"ag-header-cell-comp-wrapper",role:"presentation"}]},jj=class extends Vj{constructor(e){super(Hj,e),this.eResize=kG,this.eHeaderCompWrapper=kG,this.headerCompVersion=0}postConstruct(){const e=this.getGui(),t=()=>{const e=this.ctrl.getSelectAllGui();e&&(this.eResize.insertAdjacentElement("afterend",e),this.addDestroyFunc(()=>e.remove()))};var n,i;n="col-id",null!=(i=this.ctrl.column.getColId())&&""!=i?e.setAttribute(n,i):e.removeAttribute(n);const o={setWidth:t=>e.style.width=t,toggleCss:(e,t)=>this.toggleCss(e,t),setUserStyles:t=>fN(e,t),setAriaSort:t=>t?ML(e,t):IL(e),setUserCompDetails:e=>this.setUserCompDetails(e),getUserCompInstance:()=>this.headerComp,refreshSelectAllGui:t,removeSelectAllGui:()=>{var e;return null===(e=this.ctrl.getSelectAllGui())||void 0===e?void 0:e.remove()}};this.ctrl.setComp(o,this.getGui(),this.eResize,this.eHeaderCompWrapper,void 0),t()}destroy(){this.destroyHeaderComp(),super.destroy()}destroyHeaderComp(){this.headerComp&&(this.eHeaderCompWrapper.removeChild(this.headerCompGui),this.headerComp=this.destroyBean(this.headerComp),this.headerCompGui=void 0)}setUserCompDetails(e){this.headerCompVersion++;const t=this.headerCompVersion;e.newAgStackInstance().then(e=>this.afterCompCreated(t,e))}afterCompCreated(e,t){e==this.headerCompVersion&&this.isAlive()?(this.destroyHeaderComp(),this.headerComp=t,this.headerCompGui=t.getGui(),this.eHeaderCompWrapper.appendChild(this.headerCompGui),this.ctrl.setDragSource(this.getGui())):this.destroyBean(t)}},Wj={tag:"div",cls:"ag-header-group-cell",role:"columnheader",children:[{tag:"div",ref:"eHeaderCompWrapper",cls:"ag-header-cell-comp-wrapper",role:"presentation"},{tag:"div",ref:"eResize",cls:"ag-header-cell-resize",role:"presentation"}]},Uj=class extends Vj{constructor(e){super(Wj,e),this.eResize=kG,this.eHeaderCompWrapper=kG}postConstruct(){const e=this.getGui();e.setAttribute("col-id",this.ctrl.column.getUniqueId());const t={toggleCss:(e,t)=>this.toggleCss(e,t),setUserStyles:t=>fN(e,t),setHeaderWrapperHidden:e=>{e?this.eHeaderCompWrapper.style.setProperty("display","none"):this.eHeaderCompWrapper.style.removeProperty("display")},setHeaderWrapperMaxHeight:e=>{null!=e?this.eHeaderCompWrapper.style.setProperty("max-height","".concat(e,"px")):this.eHeaderCompWrapper.style.removeProperty("max-height"),this.eHeaderCompWrapper.classList.toggle("ag-header-cell-comp-wrapper-limited-height",null!=e)},setResizableDisplayed:e=>XL(this.eResize,e),setWidth:t=>e.style.width=t,setAriaExpanded:t=>{return n="aria-expanded",void 0!=(i=t)?e.setAttribute(n,i):e.removeAttribute(n);var n,i},setUserCompDetails:e=>this.setUserCompDetails(e),getUserCompInstance:()=>this.headerGroupComp};this.ctrl.setComp(t,e,this.eResize,this.eHeaderCompWrapper,void 0)}setUserCompDetails(e){e.newAgStackInstance().then(e=>this.afterHeaderCompCreated(e))}afterHeaderCompCreated(e){const t=()=>this.destroyBean(e);if(!this.isAlive())return void t();const n=this.getGui(),i=e.getGui();this.eHeaderCompWrapper.appendChild(i),this.addDestroyFunc(t),this.headerGroupComp=e,this.ctrl.setDragSource(n)}},Kj={tag:"div",cls:"ag-header-cell ag-floating-filter",role:"gridcell",children:[{tag:"div",ref:"eFloatingFilterBody",role:"presentation"},{tag:"div",ref:"eButtonWrapper",cls:"ag-floating-filter-button ag-hidden",role:"presentation",children:[{tag:"button",ref:"eButtonShowMainFilter",cls:"ag-button ag-floating-filter-button-button",attrs:{type:"button",tabindex:"-1"}}]}]},qj=class extends Vj{constructor(e){super(Kj,e),this.eFloatingFilterBody=kG,this.eButtonWrapper=kG,this.eButtonShowMainFilter=kG}postConstruct(){const e=this.getGui(),t={toggleCss:(e,t)=>this.toggleCss(e,t),setUserStyles:t=>fN(e,t),addOrRemoveBodyCssClass:(e,t)=>this.eFloatingFilterBody.classList.toggle(e,t),setButtonWrapperDisplayed:e=>XL(this.eButtonWrapper,e),setCompDetails:e=>this.setCompDetails(e),getFloatingFilterComp:()=>this.compPromise,setWidth:t=>e.style.width=t,setMenuIcon:e=>this.eButtonShowMainFilter.appendChild(e)};this.ctrl.setComp(t,e,this.eButtonShowMainFilter,this.eFloatingFilterBody,void 0)}setCompDetails(e){if(!e)return this.destroyFloatingFilterComp(),void(this.compPromise=null);this.compPromise=e.newAgStackInstance(),this.compPromise.then(e=>this.afterCompCreated(e))}destroy(){this.destroyFloatingFilterComp(),super.destroy()}destroyFloatingFilterComp(){this.floatingFilterComp&&(this.eFloatingFilterBody.removeChild(this.floatingFilterComp.getGui()),this.floatingFilterComp=this.destroyBean(this.floatingFilterComp))}afterCompCreated(e){e&&(this.isAlive()?(this.destroyFloatingFilterComp(),this.floatingFilterComp=e,this.eFloatingFilterBody.appendChild(e.getGui()),e.afterGuiAttached&&e.afterGuiAttached()):this.destroyBean(e))}},Yj=class extends AG{constructor(e){super({tag:"div",cls:e.headerRowClass,role:"row"}),this.ctrl=e,this.headerComps={}}postConstruct(){RL(this.getGui(),this.ctrl.getAriaRowIndex());const e={setHeight:e=>this.getGui().style.height=e,setTop:e=>this.getGui().style.top=e,setHeaderCtrls:(e,t)=>this.setHeaderCtrls(e,t),setWidth:e=>this.getGui().style.width=e,setRowIndex:e=>RL(this.getGui(),e)};this.ctrl.setComp(e,void 0)}destroy(){this.setHeaderCtrls([],!1),super.destroy()}setHeaderCtrls(e,t){if(!this.isAlive())return;const n=this.headerComps;if(this.headerComps={},e.forEach(e=>{const t=e.instanceId;let i=n[t];delete n[t],null==i&&(i=this.createHeaderComp(e),this.getGui().appendChild(i.getGui())),this.headerComps[t]=i}),Object.values(n).forEach(e=>{this.getGui().removeChild(e.getGui()),this.destroyBean(e)}),t){const e=Object.values(this.headerComps);e.sort((e,t)=>e.getCtrl().column.getLeft()-t.getCtrl().column.getLeft());const t=e.map(e=>e.getGui());mN(this.getGui(),t)}}createHeaderComp(e){let t;switch(this.ctrl.type){case"group":t=new Uj(e);break;case"filter":t=new qj(e);break;default:t=new jj(e)}return this.createBean(t),t.setParentComponent(this),t}},Zj=class extends vO{constructor(e,t,n,i){super(),this.columnOrGroup=e,this.eCell=t,this.colsSpanning=i,this.columnOrGroup=e,this.ariaEl=t.querySelector("[role=columnheader]")||t,this.beans=n}setColsSpanning(e){this.colsSpanning=e,this.onLeftChanged()}getColumnOrGroup(){const{beans:e,colsSpanning:t}=this;return e.gos.get("enableRtl")&&t?_O(t):this.columnOrGroup}postConstruct(){const e=this.onLeftChanged.bind(this);this.addManagedListeners(this.columnOrGroup,{leftChanged:e}),this.setLeftFirstTime(),this.addManagedEventListeners({displayedColumnsWidthChanged:e}),this.addManagedPropertyListener("domLayout",e)}setLeftFirstTime(){const{gos:e,colAnimation:t}=this.beans,n=e.get("suppressColumnMoveAnimation"),i=UI(this.columnOrGroup.getOldLeft());(null===t||void 0===t?void 0:t.isActive())&&i&&!n?this.animateInLeft():this.onLeftChanged()}animateInLeft(){const e=this.getColumnOrGroup(),t=this.modifyLeftForPrintLayout(e,e.getOldLeft()),n=this.modifyLeftForPrintLayout(e,e.getLeft());this.setLeft(t),this.actualLeft=n,this.beans.colAnimation.executeNextVMTurn(()=>{this.actualLeft===n&&this.setLeft(n)})}onLeftChanged(){const e=this.getColumnOrGroup(),t=e.getLeft();this.actualLeft=this.modifyLeftForPrintLayout(e,t),this.setLeft(this.actualLeft)}modifyLeftForPrintLayout(e,t){const{gos:n,visibleCols:i}=this.beans;if(!dB(n,"print"))return t;if("left"===e.getPinned())return t;const o=i.getColsLeftWidth();if("right"===e.getPinned()){return o+i.bodyWidth+t}return o+t}setLeft(e){if(UI(e)&&(this.eCell.style.left="".concat(e,"px")),OV(this.columnOrGroup)){const e=this.columnOrGroup.getLeafColumns();if(!e.length)return;e.length>1&&_L(this.ariaEl,e.length)}}},$j=0,Xj="headerCtrl",Qj=class extends vO{constructor(e,t){super(),this.column=e,this.rowCtrl=t,this.resizeToggleTimeout=0,this.resizeMultiplier=1,this.resizeFeature=null,this.lastFocusEvent=null,this.dragSource=null,this.instanceId=e.getUniqueId()+"-"+$j++}postConstruct(){const e=this.refreshTabIndex.bind(this);this.addManagedPropertyListeners(["suppressHeaderFocus"],e),this.addManagedEventListeners({overlayExclusiveChanged:e})}shouldStopEventPropagation(e){const{headerRowIndex:t,column:n}=this.beans.focusSvc.focusedHeader,i=n.getDefinition(),o=i&&i.suppressHeaderKeyboardEvent;if(!UI(o))return!1;return!!o(iO(this.gos,{colDef:i,column:n,headerRowIndex:t,event:e}))}getWrapperHasFocus(){return SB(this.beans)===this.eGui}setGui(e,t){this.eGui=e,this.addDomData(t),t.addManagedListeners(this.beans.eventSvc,{displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this)}),t.addManagedElementListeners(this.eGui,{focus:this.onGuiFocus.bind(this)}),this.onDisplayedColumnsChanged(),this.refreshTabIndex()}refreshHeaderStyles(){const e=this.column.getDefinition();if(!e)return;const{headerStyle:t}=e;let n;if("function"===typeof t){n=t(this.getHeaderClassParams())}else n=t;n&&this.comp.setUserStyles(n)}onGuiFocus(){this.eventSvc.dispatchEvent({type:"headerFocused",column:this.column})}setupAutoHeight(e){const{wrapperElement:t,checkMeasuringCallback:n,compBean:i}=e,{beans:o}=this,r=e=>{if(!this.isAlive()||!i.isAlive())return;const{paddingTop:n,paddingBottom:s,borderBottomWidth:a,borderTopWidth:l}=tN(this.eGui),u=n+s+a+l,c=t.offsetHeight+u;if(e<5){const n=CB(o);if(!n||!n.contains(t)||0==c)return void VN(()=>r(e+1),"raf",o)}this.setColHeaderHeight(this.column,c)};let s,a=!1;const l=()=>{const e=this.column.isAutoHeaderHeight();e&&!a&&u(),!e&&a&&c()},u=()=>{a=!0,r(0),this.comp.toggleCss("ag-header-cell-auto-height",!0),s=kN(this.beans,t,()=>r(0))},c=()=>{a=!1,s&&s(),this.comp.toggleCss("ag-header-cell-auto-height",!1),s=void 0};l(),i.addDestroyFunc(()=>c()),i.addManagedListeners(this.column,{widthChanged:()=>a&&r(0)}),i.addManagedEventListeners({sortChanged:()=>{a&&window.setTimeout(()=>r(0))}}),n&&n(l)}onDisplayedColumnsChanged(){const{comp:e,column:t,beans:n,eGui:i}=this;e&&t&&i&&(nV(e,t,n.visibleCols),TL(i,n.visibleCols.getAriaColIndex(t)))}addResizeAndMoveKeyboardListeners(e){e.addManagedListeners(this.eGui,{keydown:this.onGuiKeyDown.bind(this),keyup:this.onGuiKeyUp.bind(this)})}refreshTabIndex(){const e=wV(this.beans);this.eGui&&FN(this.eGui,"tabindex",e?null:"-1")}onGuiKeyDown(e){const t=SB(this.beans),n=e.key===sV.LEFT||e.key===sV.RIGHT;if(this.isResizing&&(e.preventDefault(),e.stopImmediatePropagation()),t!==this.eGui||!e.shiftKey&&!e.altKey)return;if((this.isResizing||n)&&(e.preventDefault(),e.stopImmediatePropagation()),!n)return;const i=e.key===sV.LEFT!==this.gos.get("enableRtl")?"left":"right";if(e.altKey){var o;this.isResizing=!0,this.resizeMultiplier+=1;const t=this.getViewportAdjustedResizeDiff(e);this.resizeHeader(t,e.shiftKey),null===(o=this.resizeFeature)||void 0===o||o.toggleColumnResizing(!0)}else this.moveHeader(i)}moveHeader(e){var t;null===(t=this.beans.colMoves)||void 0===t||t.moveHeader(e,this.eGui,this.column,this.rowCtrl.pinned,this)}getViewportAdjustedResizeDiff(e){const t=this.getResizeDiff(e),{pinnedCols:n}=this.beans;return n?n.getHeaderResizeDiff(t,this.column):t}getResizeDiff(e){const{gos:t,column:n}=this;let i=e.key===sV.LEFT!==t.get("enableRtl");const o=n.getPinned(),r=t.get("enableRtl");return o&&r!==("right"===o)&&(i=!i),(i?-1:1)*this.resizeMultiplier}onGuiKeyUp(){this.isResizing&&(this.resizeToggleTimeout&&(window.clearTimeout(this.resizeToggleTimeout),this.resizeToggleTimeout=0),this.isResizing=!1,this.resizeMultiplier=1,this.resizeToggleTimeout=window.setTimeout(()=>{var e;null===(e=this.resizeFeature)||void 0===e||e.toggleColumnResizing(!1)},150))}handleKeyDown(e){const t=this.getWrapperHasFocus();switch(e.key){case sV.PAGE_DOWN:case sV.PAGE_UP:case sV.PAGE_HOME:case sV.PAGE_END:t&&e.preventDefault()}}addDomData(e){const t=Xj,{eGui:n,gos:i}=this;wB(i,n,t,this),e.addDestroyFunc(()=>wB(i,n,t,null))}focus(e){const{eGui:t}=this;return!!t&&(this.lastFocusEvent=e||null,t.focus(),!0)}focusThis(){this.beans.focusSvc.focusedHeader={headerRowIndex:this.rowCtrl.rowIndex,column:this.column}}removeDragSource(){var e;this.dragSource&&(null===(e=this.beans.dragAndDrop)||void 0===e||e.removeDragSource(this.dragSource),this.dragSource=null)}handleContextMenuMouseEvent(e,t,n){const i=null!==e&&void 0!==e?e:t,{menuSvc:o,gos:r}=this.beans;r.get("preventDefaultOnContextMenu")&&i.preventDefault(),null!==o&&void 0!==o&&o.isHeaderContextMenuEnabled(n)&&o.showHeaderContextMenu(n,e,t),this.dispatchColumnMouseEvent("columnHeaderContextMenu",n)}dispatchColumnMouseEvent(e,t){this.eventSvc.dispatchEvent({type:e,column:t})}setColHeaderHeight(e,t){if(!e.setAutoHeaderHeight(t))return;const{eventSvc:n}=this;e.isColumn?n.dispatchEvent({type:"columnHeaderHeightChanged",column:e,columns:[e],source:"autosizeColumnHeaderHeight"}):n.dispatchEvent({type:"columnGroupHeaderHeightChanged",columnGroup:e,source:"autosizeColumnGroupHeaderHeight"})}clearComponent(){this.removeDragSource(),this.resizeFeature=null,this.comp=null,this.eGui=null}destroy(){super.destroy(),this.column=null,this.lastFocusEvent=null,this.rowCtrl=null}},Jj=class extends Qj{constructor(){super(...arguments),this.refreshFunctions={},this.userHeaderClasses=new Set,this.ariaDescriptionProperties=new Map}setComp(e,t,n,i,o){this.comp=e;const{rowCtrl:r,column:s,beans:a}=this,{colResize:l,context:u,colHover:c,rangeSvc:d}=a,h=DG(this,u,o);this.setGui(t,h),this.updateState(),this.setupWidth(h),this.setupMovingCss(h),this.setupMenuClass(h),this.setupSortableClass(h),this.setupWrapTextClass(),this.refreshSpanHeaderHeight(),this.setupAutoHeight({wrapperElement:i,checkMeasuringCallback:e=>this.setRefreshFunction("measuring",e),compBean:h}),this.addColumnHoverListener(h),this.setupFilterClass(h),this.setupStylesFromColDef(),this.setupClassesFromColDef(),this.setupTooltip(),this.addActiveHeaderMouseListeners(h),this.setupSelectAll(h),this.setupUserComp(),this.refreshAria(),l?this.resizeFeature=h.createManagedBean(l.createResizeFeature(r.pinned,s,n,e,this)):XL(n,!1),null===c||void 0===c||c.createHoverFeature(h,[s],t),null===d||void 0===d||d.createRangeHighlightFeature(h,s,e),h.createManagedBean(new Zj(s,t,a)),h.createManagedBean(new IH(t,{shouldStopEventPropagation:e=>this.shouldStopEventPropagation(e),onTabKeyDown:()=>null,handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addResizeAndMoveKeyboardListeners(h),h.addManagedPropertyListeners(["suppressMovableColumns","suppressMenuHide","suppressAggFuncInHeader","enableAdvancedFilter"],()=>this.refresh()),h.addManagedListeners(s,{colDefChanged:()=>this.refresh()}),h.addManagedListeners(s,{headerHighlightChanged:this.onHeaderHighlightChanged.bind(this)});const p=()=>this.checkDisplayName();h.addManagedEventListeners({columnValueChanged:p,columnRowGroupChanged:p,columnPivotChanged:p,headerHeightChanged:this.onHeaderHeightChanged.bind(this)}),h.addDestroyFunc(()=>{this.refreshFunctions={},this.selectAllFeature=null,this.dragSourceElement=void 0,this.userCompDetails=null,this.userHeaderClasses.clear(),this.ariaDescriptionProperties.clear(),this.clearComponent()})}resizeHeader(e,t){var n;null===(n=this.beans.colResize)||void 0===n||n.resizeHeader(this.column,e,t)}getHeaderClassParams(){const{column:e,beans:t}=this,n=e.colDef;return iO(t.gos,{colDef:n,column:e,floatingFilter:!1})}setupUserComp(){const e=this.lookupUserCompDetails();e&&this.setCompDetails(e)}setCompDetails(e){this.userCompDetails=e,this.comp.setUserCompDetails(e)}lookupUserCompDetails(){const e=this.createParams(),t=this.column.getColDef();return function(e,t,n){return e.getCompDetails(t,IG,"agColumnHeader",n)}(this.beans.userCompFactory,t,e)}createParams(){const{menuSvc:e,sortSvc:t,colFilter:n,gos:i}=this.beans;return iO(i,{column:this.column,displayName:this.displayName,enableSorting:this.column.isSortable(),enableMenu:this.menuEnabled,enableFilterButton:this.openFilterEnabled&&!(null===e||void 0===e||!e.isHeaderFilterButtonEnabled(this.column)),enableFilterIcon:!!n&&(!this.openFilterEnabled||tO(this.gos)),showColumnMenu:(t,n)=>{null===e||void 0===e||e.showColumnMenu({column:this.column,buttonElement:t,positionBy:"button",onClosedCallback:n})},showColumnMenuAfterMouseClick:(t,n)=>{null===e||void 0===e||e.showColumnMenu({column:this.column,mouseEvent:t,positionBy:"mouse",onClosedCallback:n})},showFilter:t=>{null===e||void 0===e||e.showFilterMenu({column:this.column,buttonElement:t,containerType:"columnFilter",positionBy:"button"})},progressSort:e=>{null===t||void 0===t||t.progressSort(this.column,!!e,"uiColumnSorted")},setSort:(e,n)=>{null===t||void 0===t||t.setSortForColumn(this.column,e,!!n,"uiColumnSorted")},eGridHeader:this.eGui,setTooltip:(e,t)=>{i.assertModuleRegistered("Tooltip",3),this.setupTooltip(e,t)}})}setupSelectAll(e){var t;const{selectionSvc:n}=this.beans;n&&(this.selectAllFeature=e.createOptionalManagedBean(n.createSelectAllFeature(this.column)),null===(t=this.selectAllFeature)||void 0===t||t.setComp(this),e.addManagedPropertyListener("rowSelection",()=>{const t=n.createSelectAllFeature(this.column);var i;t&&!this.selectAllFeature?(this.selectAllFeature=e.createManagedBean(t),null===(i=this.selectAllFeature)||void 0===i||i.setComp(this),this.comp.refreshSelectAllGui()):this.selectAllFeature&&!t&&(this.comp.removeSelectAllGui(),this.selectAllFeature=this.destroyBean(this.selectAllFeature))}))}getSelectAllGui(){var e;return null===(e=this.selectAllFeature)||void 0===e?void 0:e.getCheckboxGui()}handleKeyDown(e){var t;(super.handleKeyDown(e),e.key===sV.SPACE)&&(null===(t=this.selectAllFeature)||void 0===t||t.onSpaceKeyDown(e));e.key===sV.ENTER&&this.onEnterKeyDown(e),e.key===sV.DOWN&&e.altKey&&this.showMenuOnKeyPress(e,!1)}onEnterKeyDown(e){if(e.ctrlKey||e.metaKey)this.showMenuOnKeyPress(e,!0);else if(this.sortable){var t;null===(t=this.beans.sortSvc)||void 0===t||t.progressSort(this.column,e.shiftKey,"uiColumnSorted")}}showMenuOnKeyPress(e,t){const n=this.comp.getUserCompInstance();eW(n)&&n.onMenuKeyboardShortcut(t)&&e.preventDefault()}onFocusIn(e){this.eGui.contains(e.relatedTarget)||(this.focusThis(),this.announceAriaDescription()),dV()&&this.setActiveHeader(!0)}onFocusOut(e){this.eGui.contains(e.relatedTarget)||this.setActiveHeader(!1)}setupTooltip(e,t){var n;this.tooltipFeature=null===(n=this.beans.tooltipSvc)||void 0===n?void 0:n.setupHeaderTooltip(this.tooltipFeature,this,e,t)}setupStylesFromColDef(){this.setRefreshFunction("headerStyles",this.refreshHeaderStyles.bind(this)),this.refreshHeaderStyles()}setupClassesFromColDef(){const e=()=>{const e=eV(this.column.getColDef(),this.gos,this.column,null),t=this.userHeaderClasses;this.userHeaderClasses=new Set(e),e.forEach(e=>{t.has(e)?t.delete(e):this.comp.toggleCss(e,!0)}),t.forEach(e=>this.comp.toggleCss(e,!1))};this.setRefreshFunction("headerClasses",e),e()}setDragSource(e){var t,n;this.dragSourceElement=e,this.removeDragSource(),e&&this.draggable&&(this.dragSource=null!==(t=null===(n=this.beans.colMoves)||void 0===n?void 0:n.setDragSourceForHeader(e,this.column,this.displayName))&&void 0!==t?t:null)}updateState(){const{menuSvc:e}=this.beans;this.menuEnabled=!(null===e||void 0===e||!e.isColumnMenuInHeaderEnabled(this.column)),this.openFilterEnabled=!(null===e||void 0===e||!e.isFilterMenuInHeaderEnabled(this.column)),this.sortable=this.column.isSortable(),this.displayName=this.calculateDisplayName(),this.draggable=this.workOutDraggable()}setRefreshFunction(e,t){this.refreshFunctions[e]=t}refresh(){this.updateState(),this.refreshHeaderComp(),this.refreshAria(),Object.values(this.refreshFunctions).forEach(e=>e())}refreshHeaderComp(){const e=this.lookupUserCompDetails();if(!e)return;!!(null!=this.comp.getUserCompInstance()&&this.userCompDetails.componentClass==e.componentClass)&&this.attemptHeaderCompRefresh(e.params)?this.setDragSource(this.dragSourceElement):this.setCompDetails(e)}attemptHeaderCompRefresh(e){const t=this.comp.getUserCompInstance();if(!t)return!1;if(!t.refresh)return!1;return t.refresh(e)}calculateDisplayName(){return this.beans.colNames.getDisplayNameForColumn(this.column,"header",!0)}checkDisplayName(){this.displayName!==this.calculateDisplayName()&&this.refresh()}workOutDraggable(){const e=this.column.getColDef();return!!(!this.gos.get("suppressMovableColumns")&&!e.suppressMovable&&!e.lockPosition)||!!e.enableRowGroup||!!e.enablePivot}setupWidth(e){const t=()=>{const e=this.column.getActualWidth();this.comp.setWidth("".concat(e,"px"))};e.addManagedListeners(this.column,{widthChanged:t}),t()}setupMovingCss(e){const t=()=>{this.comp.toggleCss("ag-header-cell-moving",this.column.isMoving())};e.addManagedListeners(this.column,{movingChanged:t}),t()}setupMenuClass(e){const t=()=>{var e;null===(e=this.comp)||void 0===e||e.toggleCss("ag-column-menu-visible",this.column.isMenuVisible())};e.addManagedListeners(this.column,{menuVisibleChanged:t}),t()}setupSortableClass(e){const t=()=>{this.comp.toggleCss("ag-header-cell-sortable",!!this.sortable)};t(),this.setRefreshFunction("updateSortable",t),e.addManagedEventListeners({sortChanged:this.refreshAriaSort.bind(this)})}setupFilterClass(e){const t=()=>{const e=this.column.isFilterActive();this.comp.toggleCss("ag-header-cell-filtered",e),this.refreshAria()};e.addManagedListeners(this.column,{filterActiveChanged:t}),t()}setupWrapTextClass(){const e=()=>{const e=!!this.column.getColDef().wrapHeaderText;this.comp.toggleCss("ag-header-cell-wrap-text",e)};e(),this.setRefreshFunction("wrapText",e)}onHeaderHighlightChanged(){const e=this.column.getHighlighted(),t=0===e,n=1===e;this.comp.toggleCss("ag-header-highlight-before",t),this.comp.toggleCss("ag-header-highlight-after",n)}onDisplayedColumnsChanged(){super.onDisplayedColumnsChanged(),this.isAlive()&&this.onHeaderHeightChanged()}onHeaderHeightChanged(){this.refreshSpanHeaderHeight()}refreshSpanHeaderHeight(){var e,t;const{eGui:n,column:i,comp:o,beans:r}=this,s=Ij(this.beans),a=0===s.reduce((e,t)=>e+t,0);if(o.toggleCss("ag-header-parent-hidden",a),!i.isSpanHeaderHeight())return n.style.removeProperty("top"),n.style.removeProperty("height"),o.toggleCss("ag-header-span-height",!1),void o.toggleCss("ag-header-span-total",!1);const{numberOfParents:l,isSpanningTotal:u}=this.column.getColumnGroupPaddingInfo();o.toggleCss("ag-header-span-height",l>0);const c=Nj(r);if(0===l)return o.toggleCss("ag-header-span-total",!1),n.style.setProperty("top","0px"),void n.style.setProperty("height","".concat(c,"px"));o.toggleCss("ag-header-span-total",u);const d=(null!==(e=null===(t=this.column.getFirstRealParent())||void 0===t?void 0:t.getLevel())&&void 0!==e?e:-1)+1,h=s.length-d;let p=0;for(let g=0;g<h;g++)p+=s[s.length-1-g];n.style.setProperty("top","".concat(-p,"px")),n.style.setProperty("height","".concat(c+p,"px"))}refreshAriaSort(){if(this.sortable){var e;const t=this.getLocaleTextFunc(),n=(null===(e=this.beans.sortSvc)||void 0===e?void 0:e.getDisplaySortForColumn(this.column))||null;this.comp.setAriaSort(function(e){let t;return t="asc"===e?"ascending":"desc"===e?"descending":"mixed"===e?"other":"none",t}(n)),this.setAriaDescriptionProperty("sort",t("ariaSortableColumn","Press ENTER to sort"))}else this.comp.setAriaSort(),this.setAriaDescriptionProperty("sort",null)}refreshAriaMenu(){if(this.menuEnabled){const e=this.getLocaleTextFunc();this.setAriaDescriptionProperty("menu",e("ariaMenuColumn","Press ALT DOWN to open column menu"))}else this.setAriaDescriptionProperty("menu",null)}refreshAriaFilterButton(){if(this.openFilterEnabled&&!tO(this.gos)){const e=this.getLocaleTextFunc();this.setAriaDescriptionProperty("filterButton",e("ariaFilterColumn","Press CTRL ENTER to open filter"))}else this.setAriaDescriptionProperty("filterButton",null)}refreshAriaFiltered(){const e=this.getLocaleTextFunc();this.column.isFilterActive()?this.setAriaDescriptionProperty("filter",e("ariaColumnFiltered","Column Filtered")):this.setAriaDescriptionProperty("filter",null)}setAriaDescriptionProperty(e,t){null!=t?this.ariaDescriptionProperties.set(e,t):this.ariaDescriptionProperties.delete(e)}announceAriaDescription(){var e;if(!this.eGui.contains(SB(this.beans)))return;const t=Array.from(this.ariaDescriptionProperties.keys()).sort((e,t)=>"filter"===e?-1:t.charCodeAt(0)-e.charCodeAt(0)).map(e=>this.ariaDescriptionProperties.get(e)).join(". ");null===(e=this.beans.ariaAnnounce)||void 0===e||e.announceValue(t,"columnHeader")}refreshAria(){this.refreshAriaSort(),this.refreshAriaMenu(),this.refreshAriaFilterButton(),this.refreshAriaFiltered()}addColumnHoverListener(e){var t;null===(t=this.beans.colHover)||void 0===t||t.addHeaderColumnHoverListener(e,this.comp,this.column)}addActiveHeaderMouseListeners(e){const t=e=>this.handleMouseOverChange("mouseenter"===e.type);e.addManagedListeners(this.eGui,{mouseenter:t,mouseleave:t,click:()=>{this.setActiveHeader(!0),this.dispatchColumnMouseEvent("columnHeaderClicked",this.column)},contextmenu:e=>this.handleContextMenuMouseEvent(e,void 0,this.column)})}handleMouseOverChange(e){this.setActiveHeader(e),this.eventSvc.dispatchEvent({type:e?"columnHeaderMouseOver":"columnHeaderMouseLeave",column:this.column})}setActiveHeader(e){this.comp.toggleCss("ag-header-active",e)}getAnchorElementForMenu(e){const t=this.comp.getUserCompInstance();return eW(t)?t.getAnchorElementForMenu(e):this.eGui}destroy(){this.tooltipFeature=this.destroyBean(this.tooltipFeature),super.destroy()}};function eW(e){return"function"===typeof(null===e||void 0===e?void 0:e.getAnchorElementForMenu)&&"function"===typeof e.onMenuKeyboardShortcut}var tW=0,nW=class extends vO{constructor(e,t,n){super(),this.rowIndex=e,this.pinned=t,this.type=n,this.instanceId=tW++,this.comp=null,this.allCtrls=[];let i="ag-header-row-column";"group"===n?i="ag-header-row-group":"filter"===n&&(i="ag-header-row-filter"),this.headerRowClass="ag-header-row ".concat(i)}setRowIndex(e){var t;this.rowIndex=e,null===(t=this.comp)||void 0===t||t.setRowIndex(this.getAriaRowIndex()),this.onRowHeightChanged()}postConstruct(){this.isPrintLayout=dB(this.gos,"print"),this.isEnsureDomOrder=this.gos.get("ensureDomOrder")}areCellsRendered(){return!!this.comp&&this.allCtrls.every(e=>null!=e.eGui)}setComp(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this.comp=e,t=DG(this,this.beans.context,t),n&&(this.setRowIndex(this.rowIndex),this.onVirtualColumnsChanged()),this.setWidth(),this.addEventListeners(t)}getAriaRowIndex(){return this.rowIndex+1}addEventListeners(e){const t=this.onRowHeightChanged.bind(this),n=this.onDisplayedColumnsChanged.bind(this);e.addManagedEventListeners({columnResized:this.setWidth.bind(this),displayedColumnsChanged:n,virtualColumnsChanged:e=>this.onVirtualColumnsChanged(e.afterScroll),columnGroupHeaderHeightChanged:t,columnHeaderHeightChanged:t,gridStylesChanged:t,advancedFilterEnabledChanged:t}),e.addManagedPropertyListener("domLayout",n),e.addManagedPropertyListener("ensureDomOrder",e=>this.isEnsureDomOrder=e.currentValue),e.addManagedPropertyListeners(["headerHeight","pivotHeaderHeight","groupHeaderHeight","pivotGroupHeaderHeight","floatingFiltersHeight"],t)}onDisplayedColumnsChanged(){this.isPrintLayout=dB(this.gos,"print"),this.onVirtualColumnsChanged(),this.setWidth(),this.onRowHeightChanged()}setWidth(){if(!this.comp)return;const e=this.getWidthForRow();this.comp.setWidth("".concat(e,"px"))}getWidthForRow(){const{visibleCols:e}=this.beans;if(this.isPrintLayout){return null!=this.pinned?0:e.getContainerWidth("right")+e.getContainerWidth("left")+e.getContainerWidth(null)}return e.getContainerWidth(this.pinned)}onRowHeightChanged(){if(!this.comp)return;const{topOffset:e,rowHeight:t}=this.getTopAndHeight();this.comp.setTop(e+"px"),this.comp.setHeight(t+"px")}getTopAndHeight(){let e=0;const t=Ij(this.beans);for(let i=0;i<t.length;i++){if(i===this.rowIndex&&"group"===this.type)return{topOffset:e,rowHeight:t[i]};e+=t[i]}const n=Nj(this.beans);if("column"===this.type)return{topOffset:e,rowHeight:n};e+=n;return{topOffset:e,rowHeight:Oj(this.beans)}}onVirtualColumnsChanged(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.comp)return;const t=this.getUpdatedHeaderCtrls(),n=this.isEnsureDomOrder||this.isPrintLayout;this.comp.setHeaderCtrls(t,n,e)}getUpdatedHeaderCtrls(){const e=this.ctrlsById;this.ctrlsById=new Map;const t=this.getColumnsInViewport();for(const i of t)this.recycleAndCreateHeaderCtrls(i,this.ctrlsById,e);const n=e=>{const{focusSvc:t,visibleCols:n}=this.beans;if(!t.isHeaderWrapperFocused(e))return!1;return n.isVisible(e.column)};if(e)for(const[i,o]of e){n(o)?this.ctrlsById.set(i,o):this.destroyBean(o)}return this.allCtrls=Array.from(this.ctrlsById.values()),this.allCtrls}getHeaderCellCtrls(){return this.allCtrls}recycleAndCreateHeaderCtrls(e,t,n){if(e.isEmptyGroup())return;const i=e.getUniqueId();let o;n&&(o=n.get(i),n.delete(i));if(o&&o.column!=e&&(this.destroyBean(o),o=void 0),null==o)switch(this.type){case"filter":o=this.createBean(this.beans.registry.createDynamicBean("headerFilterCellCtrl",!0,e,this));break;case"group":o=this.createBean(this.beans.registry.createDynamicBean("headerGroupCellCtrl",!0,e,this));break;default:o=this.createBean(new Jj(e,this))}t.set(i,o)}getColumnsInViewport(){if(!this.isPrintLayout)return this.getComponentsToRender();if(this.pinned)return[];const e=[];return["left",null,"right"].forEach(t=>{e.push(...this.getComponentsToRender(t))}),e}getComponentsToRender(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.pinned;return"group"===this.type?this.beans.colViewport.getHeadersToRender(e,this.rowIndex):this.beans.colViewport.getColumnHeadersToRender(e)}focusHeader(e,t){const n=this.allCtrls.find(t=>t.column==e);if(!n)return!1;return n.focus(t)}destroy(){this.allCtrls=this.destroyBeans(this.allCtrls),this.ctrlsById=void 0,this.comp=null,super.destroy()}},iW=class extends vO{constructor(e){super(),this.pinned=e,this.hidden=!1,this.includeFloatingFilter=!1,this.groupsRowCtrls=[]}setComp(e,t){this.comp=e,this.eViewport=t;const{pinnedCols:n,ctrlsSvc:i,colModel:o,colMoves:r}=this.beans;this.setupCenterWidth(),null===n||void 0===n||n.setupHeaderPinnedWidth(this),this.setupDragAndDrop(r,this.eViewport);const s=this.refresh.bind(this,!0);this.addManagedEventListeners({displayedColumnsChanged:s,advancedFilterEnabledChanged:s});const a="".concat("string"===typeof this.pinned?this.pinned:"center","Header");i.register(a,this),o.ready&&this.refresh()}getAllCtrls(){const e=[...this.groupsRowCtrls];return this.columnsRowCtrl&&e.push(this.columnsRowCtrl),this.filtersRowCtrl&&e.push(this.filtersRowCtrl),e}refresh(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const{focusSvc:t,filterManager:n,visibleCols:i}=this.beans;let o=0;const r=t.getFocusHeaderToUseAfterRefresh(),s=this.getAllCtrls();(()=>{const e=i.headerGroupRowCount;o=e;const t=this.groupsRowCtrls.length;if(t!==e)if(t>e){for(let n=e;n<t;n++)this.destroyBean(this.groupsRowCtrls[n]);this.groupsRowCtrls.length=e}else for(let n=t;n<e;n++){const e=this.createBean(new nW(n,this.pinned,"group"));this.groupsRowCtrls.push(e)}})(),(()=>{const t=o++;this.hidden?this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl):null!=this.columnsRowCtrl&&e?this.columnsRowCtrl.rowIndex!==t&&this.columnsRowCtrl.setRowIndex(t):(this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl),this.columnsRowCtrl=this.createBean(new nW(t,this.pinned,"column")))})(),(()=>{this.includeFloatingFilter=!(null===n||void 0===n||!n.hasFloatingFilters())&&!this.hidden;const t=()=>{this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl)};if(!this.includeFloatingFilter)return void t();e||t();const i=o++;if(this.filtersRowCtrl){this.filtersRowCtrl.rowIndex!==i&&this.filtersRowCtrl.setRowIndex(i)}else this.filtersRowCtrl=this.createBean(new nW(i,this.pinned,"filter"))})();const a=this.getAllCtrls();this.comp.setCtrls(a),this.restoreFocusOnHeader(t,r),s.length!==a.length&&this.beans.eventSvc.dispatchEvent({type:"headerRowsChanged"})}getHeaderCtrlForColumn(e){const t=t=>null===t||void 0===t?void 0:t.getHeaderCellCtrls().find(t=>t.column===e);if(DO(e))return t(this.columnsRowCtrl);if(0!==this.groupsRowCtrls.length)for(let n=0;n<this.groupsRowCtrls.length;n++){const e=t(this.groupsRowCtrls[n]);if(e)return e}}getHtmlElementForColumnHeader(e){var t,n;return null!==(t=null===(n=this.getHeaderCtrlForColumn(e))||void 0===n?void 0:n.eGui)&&void 0!==t?t:null}getRowType(e){var t;return null===(t=this.getAllCtrls()[e])||void 0===t?void 0:t.type}focusHeader(e,t,n){const i=this.getAllCtrls()[e];return!!i&&i.focusHeader(t,n)}getGroupRowCount(){return this.groupsRowCtrls.length}getGroupRowCtrlAtIndex(e){return this.groupsRowCtrls[e]}getRowCount(){return this.groupsRowCtrls.length+(this.columnsRowCtrl?1:0)+(this.filtersRowCtrl?1:0)}setHorizontalScroll(e){this.comp.setViewportScrollLeft(e)}onScrollCallback(e){this.addManagedElementListeners(this.eViewport,{scroll:e})}destroy(){this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl),this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl),this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls),super.destroy()}setupDragAndDrop(e,t){const n=null===e||void 0===e?void 0:e.createBodyDropTarget(this.pinned,t);n&&this.createManagedBean(n)}restoreFocusOnHeader(e,t){if(!t)return;const{column:n}=t;n.getPinned()==this.pinned&&e.focusHeaderPosition({headerPosition:t})}setupCenterWidth(){null==this.pinned&&this.createManagedBean(new WH(e=>this.comp.setCenterWidth("".concat(e,"px")),!0))}};function oW(e,t,n){e.menuVisible!==t&&(e.menuVisible=t,e.dispatchColEvent("menuVisibleChanged",n))}function rW(e){const{enterpriseMenuFactory:t,filterMenuFactory:n,gos:i}=e;return t&&tO(i)?t:n}var sW=class extends AG{isPopup(){return!0}setParentComponent(e){e.addCss("ag-has-popup"),super.setParentComponent(e)}destroy(){const e=this.parentComponent;e&&e.isAlive()&&e.getGui().classList.remove("ag-has-popup"),super.destroy()}},aW=class extends sW{constructor(){super(...arguments),this.errorMessages=null}init(e){this.params=e,this.initialiseEditor(e),this.eEditor.onValueChange(()=>e.validate())}destroy(){this.errorMessages=null}},lW=class extends AG{constructor(){super()}},uW={tag:"span",cls:"ag-overlay-loading-center",attrs:{"aria-live":"polite","aria-atomic":"true"}},cW={tag:"span",cls:"ag-overlay-no-rows-center"};function dW(e,t,n){const i=hW(e,t,n);if(i){const{className:e}=i;if("string"===typeof e&&e.indexOf("ag-icon")>-1||"object"===typeof e&&e["ag-icon"])return i}const o=MN({tag:"span"});return o.appendChild(i),o}function hW(e,t,n){let i=null;"smallDown"===e?iB(262):"smallLeft"===e?iB(263):"smallRight"===e&&iB(264);const o=n&&n.getColDef().icons;if(o&&(i=o[e]),t.gos&&!i){const n=t.gos.get("icons");n&&(i=n[e])}if(i){let t;if("function"===typeof i)t=i();else{if("string"!==typeof i)return void iB(38,{iconName:e});t=i}return"string"===typeof t?pN(t):EN(t)?t:void iB(133,{iconName:e})}{const n=t.registry.getIcon(e);var r;if(!n)null===(r=t.validation)||void 0===r||r.validateIcon(e);return MN({tag:"span",cls:"ag-icon ag-icon-".concat(null!==n&&void 0!==n?n:e),role:"presentation",attrs:{unselectable:"on"}})}}var pW={tag:"div",children:[{tag:"div",ref:"eGhost",cls:"ag-dnd-ghost ag-unselectable",children:[{tag:"span",ref:"eIcon",cls:"ag-dnd-ghost-icon ag-shake-left-to-right"},{tag:"div",ref:"eLabel",cls:"ag-dnd-ghost-label"}]}]},gW=class extends AG{constructor(e,t,n){super(t,n),this.labelSeparator="",this.labelAlignment="left",this.disabled=!1,this.label="",this.config=e||{},this.registerCSS(".ag-label{white-space:nowrap}:where(.ag-ltr) .ag-label{margin-right:var(--ag-spacing)}:where(.ag-rtl) .ag-label{margin-left:var(--ag-spacing)}:where(.ag-label-align-right) .ag-label{order:1}:where(.ag-ltr) :where(.ag-label-align-right) .ag-label{margin-left:var(--ag-spacing)}:where(.ag-rtl) :where(.ag-label-align-right) .ag-label{margin-right:var(--ag-spacing)}.ag-label-align-right>*{flex:none}.ag-label-align-top{align-items:flex-start;flex-direction:column;>*{align-self:stretch}}.ag-label-ellipsis{flex:1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}:where(.ag-label-align-top) .ag-label{margin-bottom:calc(var(--ag-spacing)*.5)}")}postConstruct(){this.addCss("ag-labeled"),this.eLabel.classList.add("ag-label");const{labelSeparator:e,label:t,labelWidth:n,labelAlignment:i,disabled:o}=this.config;null!=o&&this.setDisabled(o),null!=e&&this.setLabelSeparator(e),null!=t&&this.setLabel(t),null!=n&&this.setLabelWidth(n),this.setLabelAlignment(i||this.labelAlignment),this.refreshLabel()}refreshLabel(){const{label:e,eLabel:t}=this;uN(t),"string"===typeof e?t.innerText=e+this.labelSeparator:e&&t.appendChild(e),""===e?(XL(t,!1),gL(t,"presentation")):(XL(t,!0),gL(t,null))}setLabelSeparator(e){return this.labelSeparator===e||(this.labelSeparator=e,null!=this.label&&this.refreshLabel()),this}getLabelId(){const e=this.eLabel;return e.id=e.id||"ag-".concat(this.getCompId(),"-label"),e.id}getLabel(){return this.label}setLabel(e){return this.label===e||(this.label=e,this.refreshLabel()),this}setLabelAlignment(e){const t=this.getGui().classList;return t.toggle("ag-label-align-left","left"===e),t.toggle("ag-label-align-right","right"===e),t.toggle("ag-label-align-top","top"===e),this}setLabelEllipsis(e){return this.eLabel.classList.toggle("ag-label-ellipsis",e),this}setLabelWidth(e){return null==this.label||yN(this.eLabel,e),this}setDisabled(e){e=!!e;const t=this.getGui();return JL(t,e),t.classList.toggle("ag-disabled",e),this.disabled=e,this}isDisabled(){return!!this.disabled}},mW=class extends gW{constructor(e,t,n,i){super(e,t,n),this.className=i}postConstruct(){super.postConstruct();const{width:e,value:t,onValueChange:n}=this.config;null!=e&&this.setWidth(e),null!=t&&this.setValue(t),null!=n&&this.onValueChange(n),this.className&&this.addCss(this.className),this.refreshAriaLabelledBy()}setLabel(e){return super.setLabel(e),this.refreshAriaLabelledBy(),this}refreshAriaLabelledBy(){const e=this.getAriaElement(),t=this.getLabelId(),n=this.getLabel();null==n||""==n||null!==e.getAttribute("aria-label")?vL(e,""):vL(e,null!==t&&void 0!==t?t:"")}setAriaLabel(e){return mL(this.getAriaElement(),e),this.refreshAriaLabelledBy(),this}onValueChange(e){return this.addManagedListeners(this,{fieldValueChanged:()=>e(this.getValue())}),this}getWidth(){return this.getGui().clientWidth}setWidth(e){return SN(this.getGui(),e),this}getPreviousValue(){return this.previousValue}getValue(){return this.value}setValue(e,t){return this.value===e||(this.previousValue=this.value,this.value=e,t||this.dispatchLocalEvent({type:"fieldValueChanged"})),this}};var vW=class extends mW{constructor(e,t){var n;let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"text",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"input";super(e,null!==(n=null===e||void 0===e?void 0:e.template)&&void 0!==n?n:function(e){return{tag:"div",role:"presentation",children:[{tag:"div",ref:"eLabel",cls:"ag-input-field-label"},{tag:"div",ref:"eWrapper",cls:"ag-wrapper ag-input-wrapper",role:"presentation",children:[{tag:e,ref:"eInput",cls:"ag-input-field-input"}]}]}}(o),[],t),this.inputType=i,this.displayFieldTag=o,this.eLabel=kG,this.eWrapper=kG,this.eInput=kG}postConstruct(){super.postConstruct(),this.setInputType(this.inputType);const{eLabel:e,eWrapper:t,eInput:n,className:i}=this;e.classList.add("".concat(i,"-label")),t.classList.add("".concat(i,"-input-wrapper")),n.classList.add("".concat(i,"-input")),this.addCss("ag-input-field"),n.id=n.id||"ag-".concat(this.getCompId(),"-input");const{inputName:o,inputWidth:r}=this.config;null!=o&&this.setInputName(o),null!=r&&this.setInputWidth(r),this.addInputListeners(),this.activateTabIndex([n])}addInputListeners(){this.addManagedElementListeners(this.eInput,{input:e=>this.setValue(e.target.value)})}setInputType(e){"input"===this.displayFieldTag&&(this.inputType=e,FN(this.eInput,"type",e))}getInputElement(){return this.eInput}setInputWidth(e){return yN(this.eWrapper,e),this}setInputName(e){return this.getInputElement().setAttribute("name",e),this}getFocusableElement(){return this.eInput}setMaxLength(e){return this.eInput.maxLength=e,this}setInputPlaceholder(e){return FN(this.eInput,"placeholder",e),this}setInputAriaLabel(e){return mL(this.eInput,e),this.refreshAriaLabelledBy(),this}setDisabled(e){return JL(this.eInput,e),super.setDisabled(e)}setAutoComplete(e){if(!0===e)FN(this.eInput,"autocomplete",null);else{const t="string"===typeof e?e:"off";FN(this.eInput,"autocomplete",t)}return this}},fW=class extends vW{constructor(e){super(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ag-checkbox",arguments.length>2&&void 0!==arguments[2]?arguments[2]:"checkbox"),this.labelAlignment="right",this.selected=!1,this.readOnly=!1,this.passive=!1}postConstruct(){super.postConstruct();const{readOnly:e,passive:t}=this.config;"boolean"===typeof e&&this.setReadOnly(e),"boolean"===typeof t&&this.setPassive(t)}addInputListeners(){this.addManagedElementListeners(this.eInput,{click:this.onCheckboxClick.bind(this)}),this.addManagedElementListeners(this.eLabel,{click:this.toggle.bind(this)})}getNextValue(){return void 0===this.selected||!this.selected}setPassive(e){this.passive=e}isReadOnly(){return this.readOnly}setReadOnly(e){this.eWrapper.classList.toggle("ag-disabled",e),this.eInput.disabled=e,this.readOnly=e}setDisabled(e){return this.eWrapper.classList.toggle("ag-disabled",e),super.setDisabled(e)}toggle(){if(this.eInput.disabled)return;const e=this.isSelected(),t=this.getNextValue();this.passive?this.dispatchChange(t,e):this.setValue(t)}getValue(){return this.isSelected()}setValue(e,t){return this.refreshSelectedClass(e),this.setSelected(e,t),this}setName(e){return this.getInputElement().name=e,this}isSelected(){return this.selected}setSelected(e,t){if(this.isSelected()===e)return;this.previousValue=this.isSelected(),e=this.selected="boolean"===typeof e?e:void 0;const n=this.eInput;n.checked=e,n.indeterminate=void 0===e,t||this.dispatchChange(this.selected,this.previousValue)}dispatchChange(e,t,n){this.dispatchLocalEvent({type:"fieldValueChanged",selected:e,previousValue:t,event:n});const i=this.getInputElement();this.eventSvc.dispatchEvent({type:"checkboxChanged",id:i.id,name:i.name,selected:e,previousValue:t})}onCheckboxClick(e){if(this.passive||this.eInput.disabled)return;const t=this.isSelected(),n=this.selected=e.target.checked;this.refreshSelectedClass(n),this.dispatchChange(n,t,e)}refreshSelectedClass(e){const t=this.eWrapper.classList;t.toggle("ag-checked",!0===e),t.toggle("ag-indeterminate",null==e)}},wW={selector:"AG-CHECKBOX",component:fW},CW={tag:"div",cls:"ag-cell-wrapper ag-checkbox-cell",role:"presentation",children:[{tag:"ag-checkbox",ref:"eCheckbox",role:"presentation"}]},bW=class{constructor(e,t){this.beans=e,this.floating=t,this.all=new Set,this.visible=new Set,this.order=[],this.queued=new Set}size(){return this.visible.size}add(e){const{all:t,visible:n,order:i}=this;t.has(e)||(t.add(e),n.add(e),i.push(e),this.sort())}delete(e){this.all.delete(e),this.visible.delete(e),this.queued.delete(e.id),LO(this.order,e)}has(e){return this.visible.has(e)}forEach(e){this.order.forEach(e)}getByIndex(e){return this.order[e]}getById(e){for(const t of this.visible)if(t.id==e)return t}clear(){const{all:e,visible:t,order:n,queued:i}=this;e.clear(),i.clear(),t.clear(),n.length=0}sort(){var e,t;const{sortSvc:n,rowNodeSorter:i,gos:o}=this.beans,r=null!==(e=null===n||void 0===n?void 0:n.getSortOptions())&&void 0!==e?e:[],s=function(e){const t=e.findIndex(xW);var n;if(t>-1)return null===(n=e.splice(t,1))||void 0===n?void 0:n[0]}(this.order);if(this.order.sort((e,t)=>{var n,i,o,r;return(null!==(n=null===(i=e.pinnedSibling)||void 0===i?void 0:i.rowIndex)&&void 0!==n?n:0)-(null!==(o=null===(r=t.pinnedSibling)||void 0===r?void 0:r.rowIndex)&&void 0!==o?o:0)}),this.order=null!==(t=null===i||void 0===i?void 0:i.doFullSort(this.order,r))&&void 0!==t?t:this.order,!s)return;const a=PB(o);"bottom"===a||"pinnedBottom"===a?this.order.push(s):this.order.unshift(s)}hide(e){const{all:t,visible:n}=this;t.forEach(t=>e(t)?n.delete(t):n.add(t)),this.order=Array.from(n),this.sort()}queue(e){this.queued.add(e)}unqueue(e){this.queued.delete(e)}forEachQueued(e){this.queued.forEach(e)}};function yW(e){var t;if(-1===e.level)return!0;const n=e.parent;return!(null===n||void 0===n||null===(t=n.childrenAfterSort)||void 0===t||!t.some(t=>t==e))&&yW(n)}function SW(e,t){const{gos:n,rowModel:i,filterManager:o}=e;return cB(n)?!i.getRowNode(t.id):null!==o&&void 0!==o&&o.isAnyFilterPresent()?!yW(t):!!n.get("pivotMode")&&!t.group}function xW(e){return!!e.pinnedSibling&&function(e){return!!e.footer&&-1===e.level}(e.pinnedSibling)}var DW=class extends vO{postConstruct(){const{gos:e,beans:t}=this;this.top=new bW(t,"top"),this.bottom=new bW(t,"bottom");const n=e=>SW(t,e.pinnedSibling),i=()=>{const n=e.get("isRowPinned");n&&e.get("enableRowPinning")&&t.rowModel.forEachNode(e=>this.pinRow(e,n(e)),!0),this.refreshRowPositions(),this.dispatchRowPinnedEvents()};this.addManagedEventListeners({gridStylesChanged:this.onGridStylesChanges.bind(this),modelUpdated:e=>{let{keepRenderedRows:t}=e;this.tryToEmptyQueues(),this.pinGrandTotalRow(),this.forContainers(e=>e.hide(n)),this.refreshRowPositions(),t||this.dispatchRowPinnedEvents()},columnRowGroupChanged:()=>{this.forContainers(kW),this.refreshRowPositions()},rowNodeDataChanged:t=>{var n;let{node:i}=t;const o=e.get("isRowPinnable");null===(n=null===o||void 0===o?void 0:o(i))||void 0===n||n||this.pinRow(i,null)},firstDataRendered:i}),this.addManagedPropertyListener("pivotMode",()=>{this.forContainers(e=>e.hide(n)),this.dispatchRowPinnedEvents()}),this.addManagedPropertyListener("grandTotalRow",e=>{let{currentValue:t}=e;this._grandTotalPinned="pinnedBottom"===t?"bottom":"pinnedTop"===t?"top":null}),this.addManagedPropertyListener("isRowPinned",i)}destroy(){this.reset(!1),super.destroy()}reset(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.forContainers(e=>{const t=[];e.forEach(e=>t.push(e)),t.forEach(e=>this.pinRow(e,null)),e.clear()}),e&&this.dispatchRowPinnedEvents()}pinRow(e,t,n){var i,o;if(e.footer&&e.level>-1)return;if(e.footer&&-1===e.level)return this._grandTotalPinned=t,void function(e){let{gos:t,rowModel:n}=e;uB(t)&&n.refreshModel({step:"map"})}(this.beans);const r=null!==(i=e.rowPinned)&&void 0!==i?i:null===(o=e.pinnedSibling)||void 0===o?void 0:o.rowPinned;if(null!=r&&null!=t&&t!=r){const i=e.rowPinned?e:e.pinnedSibling,o=e.rowPinned?e.pinnedSibling:e;return this.pinRow(i,null,n),void this.pinRow(o,t,n)}const s=n&&function(e,t,n){var i;const{rowSpanSvc:o}=e,r=null!==(i=n&&(null===o||void 0===o?void 0:o.isCellSpanning(n,t)))&&void 0!==i&&i;var s;if(n&&r)return null===o||void 0===o||null===(s=o.getCellSpan(n,t))||void 0===s?void 0:s.spannedNodes}(this.beans,e,n);if(s)s.forEach(e=>this.pinRow(e,t));else if(null==t){const n=e.rowPinned?e:e.pinnedSibling,i=this.findPinnedRowNode(n);if(!i)return;i.delete(n);const o=n.pinnedSibling;FW(n),this.refreshRowPositions(t),this.dispatchRowPinnedEvents(o)}else{const n=EW(this.beans,e,t),i=this.getContainer(t);i.add(n),SW(this.beans,e)&&i.hide(e=>SW(this.beans,e.pinnedSibling)),this.refreshRowPositions(t),this.dispatchRowPinnedEvents(e)}}isManual(){return!0}isEmpty(e){return 0===this.getContainer(e).size()}isRowsToRender(e){return!this.isEmpty(e)}ensureRowHeightsValid(){let e=!1,t=0;const n=n=>{if(n.rowHeightEstimated){const i=gB(this.beans,n);n.setRowTop(t),n.setRowHeight(i.height),t+=i.height,e=!0}};return this.bottom.forEach(n),t=0,this.top.forEach(n),this.eventSvc.dispatchEvent({type:"pinnedHeightChanged"}),e}getPinnedTopTotalHeight(){return AW(this.top)}getPinnedBottomTotalHeight(){return AW(this.bottom)}getPinnedTopRowCount(){return this.top.size()}getPinnedBottomRowCount(){return this.bottom.size()}getPinnedTopRow(e){return this.top.getByIndex(e)}getPinnedBottomRow(e){return this.bottom.getByIndex(e)}getPinnedRowById(e,t){return this.getContainer(t).getById(e)}forEachPinnedRow(e,t){this.getContainer(e).forEach(t)}getPinnedState(){const e=e=>{const t=[];return this.forEachPinnedRow(e,e=>t.push(e.pinnedSibling.id)),t};return{top:e("top"),bottom:e("bottom")}}setPinnedState(e){this.forContainers((t,n)=>{for(const i of e[n]){const e=this.beans.rowModel.getRowNode(i);e?this.pinRow(e,n):t.queue(i)}})}getGrandTotalPinned(){return this._grandTotalPinned}setGrandTotalPinned(e){this._grandTotalPinned=e}tryToEmptyQueues(){this.forContainers((e,t)=>{const n=new Set;e.forEachQueued(e=>{const t=this.beans.rowModel.getRowNode(e);t&&n.add(t)});for(const i of n)e.unqueue(i.id),this.pinRow(i,t)})}pinGrandTotalRow(){var e;const{gos:t,beans:n,_grandTotalPinned:i}=this,o=n.rowModel;if(!uB(t))return;const r=null===(e=o.rootNode)||void 0===e?void 0:e.sibling;if(!r)return;const s=r.pinnedSibling,a=s&&this.findPinnedRowNode(s);if(i){if(a&&a.floating!==i&&(a.delete(s),FW(s)),!a||a.floating!==i){const e=EW(n,r,i);this.getContainer(i).add(e)}}else{if(!a)return;a.delete(s),FW(s)}}onGridStylesChanges(e){e.rowHeightChanged&&this.forContainers(e=>e.forEach(e=>e.setRowHeight(e.rowHeight,!0)))}getContainer(e){return"top"===e?this.top:this.bottom}findPinnedRowNode(e){return this.top.has(e)?this.top:this.bottom.has(e)?this.bottom:void 0}refreshRowPositions(e){const t=e=>function(e,t){let n=0;t.forEach((t,i)=>{t.setRowTop(n),(t.rowHeightEstimated||null==t.rowHeight)&&t.setRowHeight(gB(e,t).height),t.setRowIndex(i),n+=t.rowHeight})}(this.beans,e);return null==e?this.forContainers(t):t(this.getContainer(e))}forContainers(e){e(this.top,"top"),e(this.bottom,"bottom")}dispatchRowPinnedEvents(e){this.eventSvc.dispatchEvent({type:"pinnedRowsChanged"}),null===e||void 0===e||e.dispatchRowEvent("rowPinned")}};function EW(e,t,n){if(t.pinnedSibling)return t.pinnedSibling;const i=qV(t,e);i.setRowTop(null),i.setRowIndex(null),i.rowPinned=n;const o="top"===n?VV:HV;return i.id="".concat(o).concat(n,"-").concat(t.id),i.pinnedSibling=t,t.pinnedSibling=i,i}function FW(e){if(!e.pinnedSibling)return;e.rowPinned=null,e.setRowTop(null),e.setRowIndex(null);const t=e.pinnedSibling;e.pinnedSibling=void 0,t&&(t.pinnedSibling=void 0,t.rowPinned=null)}function kW(e){const t=new Set;e.forEach(e=>{e.group&&t.add(e)}),t.forEach(t=>e.delete(t))}function AW(e){const t=e.size();if(0===t)return 0;const n=e.getByIndex(t-1);return void 0===n?0:n.rowTop+n.rowHeight}var RW=class extends vO{constructor(){super(...arguments),this.nextId=0,this.pinnedTopRows={cache:{},order:[]},this.pinnedBottomRows={cache:{},order:[]}}postConstruct(){const e=this.gos;this.setPinnedRowData(e.get("pinnedTopRowData"),"top"),this.setPinnedRowData(e.get("pinnedBottomRowData"),"bottom"),this.addManagedPropertyListener("pinnedTopRowData",e=>this.setPinnedRowData(e.currentValue,"top")),this.addManagedPropertyListener("pinnedBottomRowData",e=>this.setPinnedRowData(e.currentValue,"bottom")),this.addManagedEventListeners({gridStylesChanged:this.onGridStylesChanges.bind(this)})}reset(){}isEmpty(e){return 0===this.getCache(e).order.length}isRowsToRender(e){return!this.isEmpty(e)}isManual(){return!1}pinRow(e,t){}onGridStylesChanges(e){if(e.rowHeightChanged){const e=e=>{e.setRowHeight(e.rowHeight,!0)};MW(this.pinnedBottomRows,e),MW(this.pinnedTopRows,e)}}ensureRowHeightsValid(){let e=!1,t=0;const n=n=>{if(n.rowHeightEstimated){const i=gB(this.beans,n);n.setRowTop(t),n.setRowHeight(i.height),t+=i.height,e=!0}};return MW(this.pinnedBottomRows,n),t=0,MW(this.pinnedTopRows,n),this.eventSvc.dispatchEvent({type:"pinnedHeightChanged"}),e}setPinnedRowData(e,t){this.updateNodesFromRowData(e,t),this.eventSvc.dispatchEvent({type:"pinnedRowDataChanged"})}updateNodesFromRowData(e,t){const n=this.getCache(t);if(void 0===e)return n.order.length=0,void(n.cache={});const i=LB(this.gos),o="top"===t?VV:HV,r=new Set(n.order),s=[],a=new Set;let l=0,u=-1;for(const d of e){var c;const e=null!==(c=null===i||void 0===i?void 0:i({data:d,level:0,rowPinned:t}))&&void 0!==c?c:o+this.nextId++;if(a.has(e)){iB(96,{id:e,data:d});continue}u++,a.add(e),s.push(e);const h=TW(n,e);if(void 0!==h)h.data!==d&&h.updateData(d),l+=this.setRowTopAndRowIndex(h,l,u),r.delete(e);else{const i=new WV(this.beans);i.id=e,i.data=d,i.rowPinned=t,l+=this.setRowTopAndRowIndex(i,l,u),n.cache[e]=i,n.order.push(e)}}r.forEach(e=>{var t;null===(t=TW(n,e))||void 0===t||t.clearRowTopAndRowIndex(),delete n.cache[e]}),n.order=s}setRowTopAndRowIndex(e,t,n){return e.setRowTop(t),e.setRowHeight(gB(this.beans,e).height),e.setRowIndex(n),e.rowHeight}getPinnedTopTotalHeight(){return PW(this.pinnedTopRows)}getPinnedBottomTotalHeight(){return PW(this.pinnedBottomRows)}getPinnedTopRowCount(){return IW(this.pinnedTopRows)}getPinnedBottomRowCount(){return IW(this.pinnedBottomRows)}getPinnedTopRow(e){return _W(this.pinnedTopRows,e)}getPinnedBottomRow(e){return _W(this.pinnedBottomRows,e)}getPinnedRowById(e,t){return TW(this.getCache(t),e)}forEachPinnedRow(e,t){return MW(this.getCache(e),t)}getCache(e){return"top"===e?this.pinnedTopRows:this.pinnedBottomRows}getPinnedState(){return{top:[],bottom:[]}}setPinnedState(){}getGrandTotalPinned(){}setGrandTotalPinned(){}};function PW(e){const t=IW(e);if(0===t)return 0;const n=_W(e,t-1);return void 0===n?0:n.rowTop+n.rowHeight}function TW(e,t){return e.cache[t]}function _W(e,t){return TW(e,e.order[t])}function MW(e,t){e.order.forEach((n,i)=>{const o=TW(e,n);o&&t(o,i)})}function IW(e){return e.order.length}var LW=class extends vO{constructor(){super(...arguments),this.nextId=0,this.allNodesMap={},this.rootNode=null}getRowNode(e){return this.allNodesMap[e]}extractRowData(){var e;return null===(e=this.rootNode)||void 0===e||null===(e=e.allLeafChildren)||void 0===e?void 0:e.map(e=>e.data)}activate(e){this.rootNode=e,e.group=!0,e.level=-1,e.id="ROOT_NODE_ID",e.allLeafChildren=[],e.childrenAfterGroup=[],e.childrenAfterSort=[],e.childrenAfterAggFilter=[],e.childrenAfterFilter=[],this.updateRootSiblingArrays(e)}deactivate(){this.rootNode&&(this.allNodesMap={},this.rootNode=null)}destroy(){super.destroy(),this.allNodesMap={},this.rootNode=null}setNewRowData(e){const t=this.rootNode;t&&(this.dispatchRowDataUpdateStartedEvent(e),t.childrenAfterFilter=null,t.childrenAfterGroup=null,t.childrenAfterAggFilter=null,t.childrenAfterSort=null,t.childrenMapped=null,t.updateHasChildren(),this.allNodesMap={},this.nextId=0,this.loadNewRowData(e),this.updateRootSiblingArrays(t))}updateRootSiblingArrays(e){const t=e.sibling;t&&(t.childrenAfterFilter=e.childrenAfterFilter,t.childrenAfterGroup=e.childrenAfterGroup,t.childrenAfterAggFilter=e.childrenAfterAggFilter,t.childrenAfterSort=e.childrenAfterSort,t.childrenMapped=e.childrenMapped,t.allLeafChildren=e.allLeafChildren)}loadNewRowData(e){var t;this.rootNode.allLeafChildren=null!==(t=null===e||void 0===e?void 0:e.map((e,t)=>this.createRowNode(e,t)))&&void 0!==t?t:[]}setImmutableRowData(e,t){const n=LB(this.gos),i=!this.gos.get("suppressMaintainUnsortedOrder"),o=e.changedRowNodes,r=new Set,s=this.rootNode,a=s.allLeafChildren,l=a.length;let u=!1,c=!1,d=!1,h=!1;for(let m=0,v=-1,f=t.length;m<f;m++){const e=t[m];let s=this.getRowNode(n({data:e,level:0}));if(s){if(i){const e=s.sourceRowIndex;h||(h=e<=v||u),v=e}s.data!==e&&(d=!0,s.updateData(e),o.update(s))}else u=!0,s=this.createRowNode(e,-1),o.add(s);r.add(s)}const p=[];for(let m=0;m<l;m++){const e=a[m];if(!r.has(e)){var g;if(c=!0,e.isSelected()&&p.push(e),e.pinnedSibling)null===(g=this.beans.pinnedRowModel)||void 0===g||g.pinRow(e.pinnedSibling,null);this.rowNodeDeleted(e),o.remove(e)}}if(u||c||h){const t=new Array(r.size);let n=0;if(!i)for(let e=0;e<l;++e){const i=a[e];r.delete(i)&&(i.sourceRowIndex=n,t[n++]=i)}for(const e of r)e.sourceRowIndex=n,t[n++]=e;s.allLeafChildren=t;const o=s.sibling;o&&(o.allLeafChildren=t),e.rowNodesOrderChanged||(e.rowNodesOrderChanged=h)}(u||c||h||d)&&(this.deselectNodes(p),e.rowDataUpdated=!0)}rowNodeDeleted(e){e.clearRowTopAndRowIndex();const t=e.id,n=this.allNodesMap;n[t]===e&&delete n[t]}updateRowData(e,t){this.dispatchRowDataUpdateStartedEvent(e.add);const n={changedRowNodes:t,rowNodeTransaction:{remove:[],update:[],add:[]},rowsInserted:!1},i=[],o=LB(this.gos);return this.executeRemove(o,e,n,i),this.executeUpdate(o,e,n,i),this.executeAdd(e,n),this.deselectNodes(i),n}executeAdd(e,t){const n=e.add;if(null===n||void 0===n||!n.length)return;let i=this.rootNode.allLeafChildren,o=i.length;if("number"===typeof e.addIndex&&(o=this.sanitizeAddIndex(e.addIndex),o>0)){if(this.gos.get("treeData")&&this.gos.get("getDataPath"))for(let e=0;e<i.length;e++){const t=i[e];if((null===t||void 0===t?void 0:t.rowIndex)==o-1){o=e+1;break}}}const r=n.length,s=t.changedRowNodes,a=new Array(r);for(let c=0;c<r;c++){const e=this.createRowNode(n[c],o+c);s.add(e),a[c]=e}const l=this.rootNode;if(o<i.length){const e=i.slice(0,o),n=i.slice(o,i.length),r=e.length+a.length;for(let t=0,i=n.length;t<i;++t)n[t].sourceRowIndex=r+t;i=[...e,...a,...n],t.rowsInserted=!0}else i=i.concat(a);l.allLeafChildren=i;const u=l.sibling;u&&(u.allLeafChildren=i),t.rowNodeTransaction.add=a}executeRemove(e,t,n,i){var o,r,s;let{changedRowNodes:a,rowNodeTransaction:l}=n;const{remove:u}=t;if(null===u||void 0===u||!u.length)return;const c={};u.forEach(t=>{const n=this.lookupRowNode(e,t);if(n){var o;if(n.isSelected()&&i.push(n),n.pinnedSibling)null===(o=this.beans.pinnedRowModel)||void 0===o||o.pinRow(n.pinnedSibling,null);n.clearRowTopAndRowIndex(),c[n.id]=!0,delete this.allNodesMap[n.id],l.remove.push(n),a.remove(n)}});const d=this.rootNode;d.allLeafChildren=null!==(o=null===(r=d.allLeafChildren)||void 0===r?void 0:r.filter(e=>!c[e.id]))&&void 0!==o?o:null,null===(s=d.allLeafChildren)||void 0===s||s.forEach((e,t)=>{e.sourceRowIndex=t});const h=d.sibling;h&&(h.allLeafChildren=d.allLeafChildren)}executeUpdate(e,t,n,i){let{changedRowNodes:o,rowNodeTransaction:r}=n;const{update:s}=t;null!==s&&void 0!==s&&s.length&&s.forEach(t=>{const n=this.lookupRowNode(e,t);n&&(n.updateData(t),!n.selectable&&n.isSelected()&&i.push(n),r.update.push(n),o.update(n))})}dispatchRowDataUpdateStartedEvent(e){this.eventSvc.dispatchEvent({type:"rowDataUpdateStarted",firstRowData:null!==e&&void 0!==e&&e.length?e[0]:null})}deselectNodes(e){var t;const n="rowDataChanged",i=this.beans.selectionSvc,o=e.length>0;var r;(o&&(null===i||void 0===i||i.setNodesSelected({newValue:!1,nodes:e,suppressFinishActions:!0,source:n})),null===i||void 0===i||null===(t=i.updateGroupsFromChildrenSelections)||void 0===t||t.call(i,n),o)&&this.eventSvc.dispatchEvent({type:"selectionChanged",source:n,selectedNodes:null!==(r=null===i||void 0===i?void 0:i.getSelectedNodes())&&void 0!==r?r:null,serverSideState:null})}sanitizeAddIndex(e){var t,n;const i=null!==(t=null===(n=this.rootNode.allLeafChildren)||void 0===n?void 0:n.length)&&void 0!==t?t:0;return e<0||e>=i||Number.isNaN(e)?i:Math.ceil(e)}createRowNode(e,t){const n=new WV(this.beans);return n.parent=this.rootNode,n.level=0,n.group=!1,n.expanded=!1,n.sourceRowIndex=t,n.setDataAndId(e,String(this.nextId)),this.allNodesMap[n.id]&&iB(2,{nodeId:n.id}),this.allNodesMap[n.id]=n,this.nextId++,n}lookupRowNode(e,t){let n;if(e){const i=e({data:t,level:0});if(n=this.allNodesMap[i],!n)return oB(4,{id:i}),null}else{var i;if(n=null===(i=this.rootNode)||void 0===i||null===(i=i.allLeafChildren)||void 0===i?void 0:i.find(e=>e.data===t),!n)return oB(5,{data:t}),null}return n||null}},NW=(e=>(e.Applied="Applied",e.StoreNotFound="StoreNotFound",e.StoreLoading="StoreLoading",e.StoreWaitingToLoad="StoreWaitingToLoad",e.StoreLoadingFailed="StoreLoadingFailed",e.StoreWrongType="StoreWrongType",e.Cancelled="Cancelled",e.StoreNotStarted="StoreNotStarted",e))(NW||{}),BW={tag:"div",cls:"ag-selection-checkbox",role:"presentation",children:[{tag:"ag-checkbox",ref:"eCheckbox",role:"presentation"}]},OW=class extends AG{constructor(){super(BW,[wW]),this.eCheckbox=kG}postConstruct(){this.eCheckbox.setPassive(!0)}onDataChanged(){this.onSelectionChanged()}onSelectableChanged(){this.showOrHideSelect()}onSelectionChanged(){const e=this.getLocaleTextFunc(),{rowNode:t,eCheckbox:n}=this,i=t.isSelected(),o=zL(e,i),[r,s]=t.selectable?["ariaRowToggleSelection","Press Space to toggle row selection"]:["ariaRowSelectionDisabled","Row Selection is disabled for this row"],a=e(r,s);n.setValue(i,!0),n.setInputAriaLabel("".concat(a," (").concat(o,")"))}init(e){this.rowNode=e.rowNode,this.column=e.column,this.overrides=e.overrides,this.onSelectionChanged(),this.addManagedListeners(this.eCheckbox.getInputElement(),{dblclick:cO,click:e=>{var t;cO(e),null===(t=this.beans.selectionSvc)||void 0===t||t.handleSelectionEvent(e,this.rowNode,"checkboxSelected")}}),this.addManagedListeners(this.rowNode,{rowSelected:this.onSelectionChanged.bind(this),dataChanged:this.onDataChanged.bind(this),selectableChanged:this.onSelectableChanged.bind(this)}),this.addManagedPropertyListener("rowSelection",e=>{let{currentValue:t,previousValue:n}=e;("object"===typeof t?VB(t):void 0)!==("object"===typeof n?VB(n):void 0)&&this.onSelectableChanged()});if(qB(this.gos)||"function"===typeof this.getIsVisible()){const e=this.showOrHideSelect.bind(this);this.addManagedEventListeners({displayedColumnsChanged:e}),this.addManagedListeners(this.rowNode,{dataChanged:e,cellChanged:e}),this.showOrHideSelect()}this.eCheckbox.getInputElement().setAttribute("tabindex","-1")}showOrHideSelect(){const{column:e,rowNode:t,overrides:n,gos:i}=this,o=t.selectable,r=this.getIsVisible();let s;if("function"===typeof r){const i=null===n||void 0===n?void 0:n.callbackParams;if(e){const n=e.createColumnFunctionCallbackParams(t);s=r(d(d({},i),n))}else s=r(d(d({},i),{},{node:t,data:t.data}))}else s=null!==r&&void 0!==r&&r;const a=o&&!s||!o&&s,l=o||s,u=i.get("rowSelection"),c=u&&"string"!==typeof u?!VB(u):!(null===e||void 0===e||!e.getColDef().showDisabledCheckboxes);this.setVisible(l&&(!a||c)),this.setDisplayed(l&&(!a||c)),l&&this.eCheckbox.setDisabled(a),null!==n&&void 0!==n&&n.removeHidden&&this.setDisplayed(l)}getIsVisible(){var e;const t=this.overrides;if(t)return t.isVisible;const n=this.gos.get("rowSelection");return n&&"string"!==typeof n?OB(n):null===(e=this.column)||void 0===e||null===(e=e.getColDef())||void 0===e?void 0:e.checkboxSelection}},GW=class{constructor(e,t){this.rowModel=e,this.pinnedRowModel=t,this.selectAll=!1,this.rootId=null,this.endId=null,this.cachedRange=[]}reset(){this.rootId=null,this.endId=null,this.cachedRange.length=0}setRoot(e){this.rootId=e.id,this.endId=null,this.cachedRange.length=0}setEndRange(e){this.endId=e.id,this.cachedRange.length=0}getRange(){if(0===this.cachedRange.length){var e;const t=this.getRoot(),n=this.getEnd();if(null==t||null==n)return this.cachedRange;this.cachedRange=null!==(e=this.getNodesInRange(t,n))&&void 0!==e?e:[]}return this.cachedRange}isInRange(e){return null!==this.rootId&&this.getRange().some(t=>t.id===e.id)}getRoot(e){return this.rootId?this.getRowNode(this.rootId):e?(this.setRoot(e),e):void 0}getEnd(){if(this.endId)return this.getRowNode(this.endId)}getRowNode(e){let t;const{rowModel:n,pinnedRowModel:i}=this;return null!==t&&void 0!==t||(t=n.getRowNode(e)),null!==i&&void 0!==i&&i.isManual()&&(null!==t&&void 0!==t||(t=i.getPinnedRowById(e,"top")),null!==t&&void 0!==t||(t=i.getPinnedRowById(e,"bottom"))),t}truncate(e){const t=this.getRange();if(0===t.length)return{keep:[],discard:[]};const n=t[0].id===this.rootId,i=t.findIndex(t=>t.id===e.id);if(i>-1){const o=t.slice(0,i),r=t.slice(i+1);return this.setEndRange(e),n?{keep:o,discard:r}:{keep:r,discard:o}}return{keep:t,discard:[]}}extend(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=this.getRoot();if(null==n){const n=this.getRange().slice();return t&&e.depthFirstSearch(e=>!e.group&&n.push(e)),n.push(e),this.setRoot(e),{keep:n,discard:[]}}const i=this.getNodesInRange(n,e);if(!i)return this.setRoot(e),{keep:[e],discard:[]};if(i.find(e=>e.id===this.endId))return this.setEndRange(e),{keep:this.getRange(),discard:[]};{const t=this.getRange().slice();return this.setEndRange(e),{keep:this.getRange(),discard:t}}}getNodesInRange(e,t){const{pinnedRowModel:n,rowModel:i}=this;if(null===n||void 0===n||!n.isManual())return i.getNodesInRangeForSelection(e,t);if("top"===e.rowPinned&&!t.rowPinned){var o;return rV(n,"top",e,void 0).concat(null!==(o=i.getNodesInRangeForSelection(i.getRow(0),t))&&void 0!==o?o:[])}if("bottom"===e.rowPinned&&!t.rowPinned){var r;const o=rV(n,"bottom",void 0,e),s=i.getRowCount(),a=i.getRow(s-1);return(null!==(r=i.getNodesInRangeForSelection(t,a))&&void 0!==r?r:[]).concat(o)}if(!e.rowPinned&&!t.rowPinned)return i.getNodesInRangeForSelection(e,t);if("top"===e.rowPinned&&"top"===t.rowPinned)return rV(n,"top",e,t);if("bottom"===e.rowPinned&&"top"===t.rowPinned){var s;const o=rV(n,"top",t,void 0),r=rV(n,"bottom",void 0,e),a=i.getRow(0),l=i.getRow(i.getRowCount()-1);return o.concat(null!==(s=i.getNodesInRangeForSelection(a,l))&&void 0!==s?s:[]).concat(r)}if(!e.rowPinned&&"top"===t.rowPinned){var a;return rV(n,"top",t,void 0).concat(null!==(a=i.getNodesInRangeForSelection(i.getRow(0),e))&&void 0!==a?a:[])}if("top"===e.rowPinned&&"bottom"===t.rowPinned){var l;const o=rV(n,"top",e,void 0),r=rV(n,"bottom",void 0,t),s=i.getRow(0),a=i.getRow(i.getRowCount()-1);return o.concat(null!==(l=i.getNodesInRangeForSelection(s,a))&&void 0!==l?l:[]).concat(r)}if("bottom"===e.rowPinned&&"bottom"===t.rowPinned)return rV(n,"bottom",e,t);if(!e.rowPinned&&"bottom"===t.rowPinned){var u;const o=rV(n,"bottom",void 0,t),r=i.getRow(i.getRowCount());return(null!==(u=i.getNodesInRangeForSelection(e,r))&&void 0!==u?u:[]).concat(o)}return null}},zW=class extends vO{constructor(e){super(),this.column=e,this.cbSelectAllVisible=!1,this.processingEventFromCheckbox=!1}onSpaceKeyDown(e){const t=this.cbSelectAll;t.isDisplayed()&&!t.getGui().contains(SB(this.beans))&&(e.preventDefault(),t.setValue(!t.getValue()))}getCheckboxGui(){return this.cbSelectAll.getGui()}setComp(e){this.headerCellCtrl=e;const t=this.createManagedBean(new fW);this.cbSelectAll=t,t.addCss("ag-header-select-all"),gL(t.getGui(),"presentation"),this.showOrHideSelectAll();const n=this.updateStateOfCheckbox.bind(this);this.addManagedEventListeners({newColumnsLoaded:()=>this.showOrHideSelectAll(),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),selectionChanged:n,paginationChanged:n,modelUpdated:n}),this.addManagedPropertyListener("rowSelection",e=>{let{currentValue:t,previousValue:n}=e;const i=e=>"string"!==typeof e&&e&&"singleRow"!==e.mode?e.selectAll:void 0;i(t)!==i(n)&&this.showOrHideSelectAll(),this.updateStateOfCheckbox()}),this.addManagedListeners(t,{fieldValueChanged:this.onCbSelectAll.bind(this)}),t.getInputElement().setAttribute("tabindex","-1"),this.refreshSelectAllLabel()}onDisplayedColumnsChanged(e){this.isAlive()&&this.showOrHideSelectAll("uiColumnMoved"===e.source)}showOrHideSelectAll(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=this.isCheckboxSelection();this.cbSelectAllVisible=t,this.cbSelectAll.setDisplayed(t),t&&(this.checkRightRowModelType("selectAllCheckbox"),this.checkSelectionType("selectAllCheckbox"),this.updateStateOfCheckbox()),this.refreshSelectAllLabel(e)}updateStateOfCheckbox(){if(!this.cbSelectAllVisible||this.processingEventFromCheckbox)return;this.processingEventFromCheckbox=!0;const e=this.getSelectAllMode(),t=this.beans.selectionSvc,n=this.cbSelectAll,i=t.getSelectAllState(e);n.setValue(i);const o=t.hasNodesToSelect(e);n.setDisabled(!o),this.refreshSelectAllLabel(),this.processingEventFromCheckbox=!1}refreshSelectAllLabel(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=this.getLocaleTextFunc(),{headerCellCtrl:n,cbSelectAll:i,cbSelectAllVisible:o}=this,r=zL(t,i.getValue()),s=t("ariaRowSelectAll","Press Space to toggle all rows selection");n.setAriaDescriptionProperty("selectAll",o?"".concat(s," (").concat(r,")"):null),i.setInputAriaLabel(t("ariaHeaderSelection","Column with Header Selection")),e||n.announceAriaDescription()}checkSelectionType(e){return!!ZB(this.gos)||(iB(128,{feature:e}),!1)}checkRightRowModelType(e){const{gos:t,rowModel:n}=this.beans;return!(!uB(t)&&!cB(t))||(iB(129,{feature:e,rowModel:n.getType()}),!1)}onCbSelectAll(){if(this.processingEventFromCheckbox)return;if(!this.cbSelectAllVisible)return;const e=this.cbSelectAll.getValue(),t=this.getSelectAllMode();let n="uiSelectAll";"currentPage"===t?n="uiSelectAllCurrentPage":"filtered"===t&&(n="uiSelectAllFiltered");const i={source:n,selectAll:t},o=this.beans.selectionSvc;e?o.selectAllRowNodes(i):o.deselectAllRowNodes(i)}isCheckboxSelection(){const{column:e,gos:t,beans:n}=this,i="object"===typeof t.get("rowSelection")?"headerCheckbox":"headerCheckboxSelection";return VW(n,e)&&this.checkRightRowModelType(i)&&this.checkSelectionType(i)}getSelectAllMode(){const e=XB(this.gos,!1);if(e)return e;const{headerCheckboxSelectionCurrentPageOnly:t,headerCheckboxSelectionFilteredOnly:n}=this.column.getColDef();return t?"currentPage":n?"filtered":"all"}destroy(){super.destroy(),this.cbSelectAll=void 0,this.headerCellCtrl=void 0}};function VW(e,t){let{gos:n,selectionColSvc:i}=e;const o=n.get("rowSelection"),r=t.getColDef(),{headerCheckboxSelection:s}=r;let a=!1;if("object"===typeof o){const e=UO(t),n=WO(t);("autoGroupColumn"===zB(o)&&n||e&&null!==i&&void 0!==i&&i.isSelectionColumnEnabled())&&(a=GB(o))}else a="function"===typeof s?s(iO(n,{column:t,colDef:r})):!!s;return a}var HW=class extends vO{postConstruct(){const{gos:e,beans:t}=this;this.selectionCtx=new GW(t.rowModel,t.pinnedRowModel),this.addManagedPropertyListeners(["isRowSelectable","rowSelection"],()=>{const t=qB(e);t!==this.isRowSelectable&&(this.isRowSelectable=t,this.updateSelectable())}),this.isRowSelectable=qB(e),this.addManagedEventListeners({cellValueChanged:e=>this.updateRowSelectable(e.node),rowNodeDataChanged:e=>this.updateRowSelectable(e.node)})}destroy(){super.destroy(),this.selectionCtx.reset()}createCheckboxSelectionComponent(){return new OW}createSelectAllFeature(e){if(VW(this.beans,e))return new zW(e)}isMultiSelect(){return ZB(this.gos)}onRowCtrlSelected(e,t,n){const i=!!e.rowNode.isSelected();e.forEachGui(n,e=>{e.rowComp.toggleCss("ag-row-selected",i);const n=e.element;LL(n,i);n.contains(SB(this.beans))&&t(e)})}announceAriaRowSelection(e){var t;if(this.isRowSelectionBlocked(e))return;const n=e.isSelected();if(!e.selectable)return;const i=this.getLocaleTextFunc()(n?"ariaRowDeselect":"ariaRowSelect","Press SPACE to ".concat(n?"deselect":"select"," this row"));null===(t=this.beans.ariaAnnounce)||void 0===t||t.announceValue(i,"rowSelection")}isRowSelectionBlocked(e){return!e.selectable||e.rowPinned&&!oV(e)||!hB(this.gos)}updateRowSelectable(e,t){var n,i;const o=e.rowPinned&&e.pinnedSibling?e.pinnedSibling.selectable:null===(n=null===(i=this.isRowSelectable)||void 0===i?void 0:i.call(this,e))||void 0===n||n;return this.setRowSelectable(e,o,t),o}setRowSelectable(e,t,n){if(e.selectable!==t){if(e.selectable=t,e.dispatchRowEvent("selectableChanged"),n)return;if(QB(this.gos)){const t=this.calculateSelectedFromChildren(e);return void this.setNodesSelected({nodes:[e],newValue:null!==t&&void 0!==t&&t,source:"selectableChanged"})}e.isSelected()&&!e.selectable&&this.setNodesSelected({nodes:[e],newValue:!1,source:"selectableChanged"})}}calculateSelectedFromChildren(e){var t;let n=!1,i=!1;if(null===(t=e.childrenAfterGroup)||void 0===t||!t.length)return e.selectable?e.__selected:null;for(let o=0;o<e.childrenAfterGroup.length;o++){const t=e.childrenAfterGroup[o];let r=t.isSelected();if(!t.selectable){const e=this.calculateSelectedFromChildren(t);if(null===e)continue;r=e}switch(r){case!0:n=!0;break;case!1:i=!0;break;default:return}}return n&&i?void 0:!!n||!i&&(e.selectable?e.__selected:null)}selectRowNode(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"api";const o=!e.selectable&&t,r=e.__selected===t;if(o||r)return!1;e.__selected=t,e.dispatchRowEvent("rowSelected");const s=e.sibling;s&&s.footer&&s.__localEventService&&s.dispatchRowEvent("rowSelected");const a=e.pinnedSibling;return a&&a.rowPinned&&a.__localEventService&&a.dispatchRowEvent("rowSelected"),this.eventSvc.dispatchEvent(d(d({},UV(e,this.gos,"rowSelected")),{},{event:n||null,source:i})),!0}isCellCheckboxSelection(e,t){const n=this.gos.get("rowSelection");if(n&&"string"!==typeof n){const i=UO(e)&&OB(n);return e.isColumnFunc(t,i)}return e.isColumnFunc(t,e.colDef.checkboxSelection)}inferNodeSelections(e,t,n,i){const{gos:o,selectionCtx:r}=this,s=e.isSelected(),a=QB(o),l=function(e){const t=KB(e);return!0===t||"enableSelection"===t}(o),u=function(e){const t=KB(e);return!0===t||"enableDeselection"===t}(o),c=this.isMultiSelect(),d="rowClicked"===i;if(d&&!l&&!u)return null;if(t&&n&&c){const t=r.getRoot();if(t){if(t.isSelected()){const t=r.isInRange(e)?r.truncate(e):r.extend(e,a);return{deselect:t.discard,select:t.keep,reset:!1}}return{select:[],deselect:r.extend(e,a).keep,reset:!1}}return null}if(t&&c){const t=r.selectAll?this.beans.rowModel.getRow(0):void 0,n=r.getRoot(t),i=r.isInRange(e)?r.truncate(e):r.extend(e,a);return{select:i.keep,deselect:i.discard,reset:r.selectAll||!(!n||n.isSelected())}}if(n){if(d){const t=!s;return t&&!l||!t&&!u?null:(r.setRoot(e),{node:e,newValue:t,clearSelection:!1})}return r.setRoot(e),{node:e,newValue:!s,clearSelection:!c}}{r.setRoot(e);const t=function(e){var t;const n=e.get("rowSelection");return"string"===typeof n?e.get("rowMultiSelectWithClick"):null!==(t=null===n||void 0===n?void 0:n.enableSelectionWithoutKeys)&&void 0!==t&&t}(o),n=d&&(!t||!l);if("filteredDescendants"===$B(o)&&void 0===s&&uB(o))return{node:e,newValue:!1,clearSelection:!c||n};if(d){const i=s?!t:l;return i===s&&!n||i&&!l||!i&&!u?null:{node:e,newValue:i,clearSelection:!c||n,keepDescendants:e.group&&a}}return{node:e,newValue:!s,clearSelection:!c||n}}}},jW=class extends fW{constructor(e){super(e,"ag-radio-button","radio")}isSelected(){return this.eInput.checked}toggle(){this.eInput.disabled||this.isSelected()||this.setValue(!0)}addInputListeners(){super.addInputListeners(),this.addManagedEventListeners({checkboxChanged:this.onChange.bind(this)})}onChange(e){const t=this.eInput;e.selected&&e.name&&t.name&&t.name===e.name&&e.id&&t.id!==e.id&&this.setValue(!1,!0)}},WW=class extends fW{constructor(e){super(e,"ag-toggle-button"),this.registerCSS('.ag-toggle-button{flex:none;min-width:unset;width:unset}.ag-toggle-button-input-wrapper{background-color:var(--ag-toggle-button-off-background-color);border-radius:calc(var(--ag-toggle-button-height)*.5);flex:none;height:var(--ag-toggle-button-height);max-width:var(--ag-toggle-button-width);min-width:var(--ag-toggle-button-width);position:relative;transition:background-color .1s;:where(.ag-toggle-button-input){-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;display:block;height:var(--ag-toggle-button-height);margin:0;max-width:var(--ag-toggle-button-width);min-width:var(--ag-toggle-button-width);opacity:0}&:before{background-color:var(--ag-toggle-button-switch-background-color);border-radius:100%;content:"";display:block;height:calc(var(--ag-toggle-button-height) - var(--ag-toggle-button-switch-inset)*2);left:var(--ag-toggle-button-switch-inset);pointer-events:none;position:absolute;top:var(--ag-toggle-button-switch-inset);transition:left .1s;width:calc(var(--ag-toggle-button-height) - var(--ag-toggle-button-switch-inset)*2)}&.ag-checked{background-color:var(--ag-toggle-button-on-background-color);&:before{left:calc(100% - var(--ag-toggle-button-height) + var(--ag-toggle-button-switch-inset))}}&:focus-within{box-shadow:var(--ag-focus-shadow)}&.ag-disabled{opacity:.5}}')}setValue(e,t){return super.setValue(e,t),this.toggleCss("ag-selected",this.getValue()),this}},UW={selector:"AG-TOGGLE-BUTTON",component:WW},KW=class extends vW{constructor(e){super(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ag-text-field",arguments.length>2&&void 0!==arguments[2]?arguments[2]:"text")}postConstruct(){super.postConstruct(),this.config.allowedCharPattern&&this.preventDisallowedCharacters()}setValue(e,t){const n=this.eInput;return n.value!==e&&(n.value=UI(e)?e:""),super.setValue(e,t)}setStartValue(e){this.setValue(e,!0)}preventDisallowedCharacters(){const e=new RegExp("[".concat(this.config.allowedCharPattern,"]"));this.addManagedListeners(this.eInput,{keydown:t=>{XH(t)&&t.key&&!e.test(t.key)&&t.preventDefault()},paste:t=>{var n;const i=null===(n=t.clipboardData)||void 0===n?void 0:n.getData("text");i&&i.split("").some(t=>!e.test(t))&&t.preventDefault()}})}},qW={selector:"AG-INPUT-TEXT-FIELD",component:KW},YW={selector:"AG-INPUT-TEXT-AREA",component:class extends vW{constructor(e){super(e,"ag-text-area",null,"textarea")}setValue(e,t){const n=super.setValue(e,t);return this.eInput.value=e,n}setCols(e){return this.eInput.cols=e,this}setRows(e){return this.eInput.rows=e,this}}},ZW=class extends KW{constructor(e){super(e,"ag-number-field","number")}postConstruct(){super.postConstruct();const e=this.eInput;this.addManagedListeners(e,{blur:()=>{const t=parseFloat(e.value),n=isNaN(t)?"":this.normalizeValue(t.toString());this.value!==n&&this.setValue(n)},wheel:this.onWheel.bind(this)}),e.step="any";const{precision:t,min:n,max:i,step:o}=this.config;"number"===typeof t&&this.setPrecision(t),"number"===typeof n&&this.setMin(n),"number"===typeof i&&this.setMax(i),"number"===typeof o&&this.setStep(o)}onWheel(e){SB(this.beans)===this.eInput&&e.preventDefault()}normalizeValue(e){return""===e?"":(null!=this.precision&&(e=this.adjustPrecision(e)),e)}adjustPrecision(e,t){const n=this.precision;if(null==n)return e;if(t){const t=parseFloat(e).toFixed(n);return parseFloat(t).toString()}const i=String(e).split(".");if(i.length>1){if(i[1].length<=n)return e;if(n>0)return"".concat(i[0],".").concat(i[1].slice(0,n))}return i[0]}setMin(e){return this.min===e||(this.min=e,FN(this.eInput,"min",e)),this}setMax(e){return this.max===e||(this.max=e,FN(this.eInput,"max",e)),this}setPrecision(e){return this.precision=e,this}setStep(e){return this.step===e||(this.step=e,FN(this.eInput,"step",e)),this}setValue(e,t){return this.setValueOrInputValue(e=>super.setValue(e,t),()=>this,e)}setStartValue(e){return this.setValueOrInputValue(e=>super.setValue(e,!0),e=>{this.eInput.value=e},e)}setValueOrInputValue(e,t,n){if(UI(n)){let i=this.isScientificNotation(n);if(i&&this.eInput.validity.valid)return e(n);if(!i){i=(n=this.adjustPrecision(n))!=this.normalizeValue(n)}if(i)return t(n)}return e(n)}getValue(){const e=this.eInput;if(!e.validity.valid)return;const t=e.value;return this.isScientificNotation(t)?this.adjustPrecision(t,!0):super.getValue()}isScientificNotation(e){return"string"===typeof e&&e.includes("e")}},$W={selector:"AG-INPUT-NUMBER-FIELD",component:ZW},XW=class extends KW{constructor(e){super(e,"ag-date-field","date")}postConstruct(){super.postConstruct();const e=VL();this.addManagedListeners(this.eInput,{wheel:this.onWheel.bind(this),mousedown:()=>{this.isDisabled()||e||this.eInput.focus()}}),this.eInput.step="any"}onWheel(e){SB(this.beans)===this.eInput&&e.preventDefault()}setMin(e){var t;const n=e instanceof Date?null!==(t=pH(null!==e&&void 0!==e?e:null,!!this.includeTime))&&void 0!==t?t:void 0:e;return this.min===n||(this.min=n,FN(this.eInput,"min",n)),this}setMax(e){var t;const n=e instanceof Date?null!==(t=pH(null!==e&&void 0!==e?e:null,!!this.includeTime))&&void 0!==t?t:void 0:e;return this.max===n||(this.max=n,FN(this.eInput,"max",n)),this}setStep(e){return this.step===e||(this.step=e,FN(this.eInput,"step",e)),this}setIncludeTime(e){return this.includeTime===e||(this.includeTime=e,super.setInputType(e?"datetime-local":"date"),e&&this.setStep(1)),this}getDate(){var e;if(this.eInput.validity.valid)return null!==(e=wH(this.getValue()))&&void 0!==e?e:void 0}setDate(e,t){this.setValue(pH(null!==e&&void 0!==e?e:null,this.includeTime),t)}},QW={selector:"AG-INPUT-DATE-FIELD",component:XW},JW=class extends AG{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];super({tag:"div",cls:"ag-list ag-".concat(e,"-list")}),this.cssIdentifier=e,this.unFocusable=t,this.activeClass="ag-active-item",this.options=[],this.itemEls=[]}postConstruct(){const e=this.getGui();this.addManagedElementListeners(e,{mouseleave:()=>this.clearHighlighted()}),this.unFocusable||this.addManagedElementListeners(e,{keydown:this.handleKeyDown.bind(this)})}handleKeyDown(e){const t=e.key;switch(t){case sV.ENTER:if(this.highlightedEl){const e=this.itemEls.indexOf(this.highlightedEl);this.setValueByIndex(e)}else this.setValue(this.getValue());break;case sV.DOWN:case sV.UP:e.preventDefault(),this.navigate(t);break;case sV.PAGE_DOWN:case sV.PAGE_UP:case sV.PAGE_HOME:case sV.PAGE_END:e.preventDefault(),this.navigateToPage(t)}}navigate(e){const t=e===sV.DOWN;let n;const{itemEls:i,highlightedEl:o}=this;if(o){let e=i.indexOf(o)+(t?1:-1);e=Math.min(Math.max(e,0),i.length-1),n=i[e]}else n=i[t?0:i.length-1];this.highlightItem(n)}navigateToPage(e){const{itemEls:t,highlightedEl:n}=this;if(!n||0===t.length)return;const i=t.indexOf(n),o=this.options.length-1,r=t[0].clientHeight,s=Math.floor(this.getGui().clientHeight/r);let a=-1;e===sV.PAGE_HOME?a=0:e===sV.PAGE_END?a=o:e===sV.PAGE_DOWN?a=Math.min(i+s,o):e===sV.PAGE_UP&&(a=Math.max(i-s,0)),-1!==a&&this.highlightItem(t[a])}addOptions(e){return e.forEach(e=>this.addOption(e)),this}addOption(e){const{value:t,text:n}=e,i=null!==n&&void 0!==n?n:t;return this.options.push({value:t,text:i}),this.renderOption(t,i),this.updateIndices(),this}clearOptions(){this.options=[],this.reset(!0),this.itemEls.forEach(e=>{cN(e)}),this.itemEls=[],this.refreshAriaRole()}refreshAriaRole(){gL(this.getGui(),0===this.options.length?"presentation":"listbox")}updateIndices(){const e=this.getGui().querySelectorAll(".ag-list-item");this.refreshAriaRole(),e.forEach((t,n)=>{kL(t,n+1),FL(t,e.length)})}renderOption(e,t){const n=MN({tag:"div",cls:"ag-list-item ag-".concat(this.cssIdentifier,"-list-item"),attrs:{role:"option"}}),i=MN({tag:"span",children:t});n.appendChild(i),this.unFocusable||(n.tabIndex=-1),this.itemEls.push(n),this.addManagedListeners(n,{mouseover:()=>this.highlightItem(n),mousedown:t=>{t.preventDefault(),t.stopPropagation(),this.setValue(e)}}),this.createOptionalManagedBean(this.beans.registry.createDynamicBean("tooltipFeature",!1,{getTooltipValue:()=>t,getGui:()=>n,getLocation:()=>"UNKNOWN",shouldDisplayTooltip:()=>i.scrollWidth>i.clientWidth})),this.getGui().appendChild(n)}setValue(e,t){if(this.value===e)return this.fireItemSelected(),this;if(null==e)return this.reset(t),this;const n=this.options.findIndex(t=>t.value===e);if(-1!==n){const e=this.options[n];this.value=e.value,this.displayValue=e.text,this.highlightItem(this.itemEls[n]),t||this.fireChangeEvent()}return this}setValueByIndex(e){return this.setValue(this.options[e].value)}getValue(){return this.value}getDisplayValue(){return this.displayValue}refreshHighlighted(){this.clearHighlighted();const e=this.options.findIndex(e=>e.value===this.value);-1!==e&&this.highlightItem(this.itemEls[e])}reset(e){this.value=null,this.displayValue=null,this.clearHighlighted(),e||this.fireChangeEvent()}highlightItem(e){if(!hN(e))return;this.clearHighlighted(),this.highlightedEl=e,e.classList.add(this.activeClass),LL(e,!0);const t=this.getGui(),{scrollTop:n,clientHeight:i}=t,{offsetTop:o,offsetHeight:r}=e;(o+r>n+i||o<n)&&e.scrollIntoView({block:"nearest"}),this.unFocusable||e.focus()}clearHighlighted(){const e=this.highlightedEl;e&&hN(e)&&(e.classList.remove(this.activeClass),LL(e,!1),this.highlightedEl=null)}fireChangeEvent(){this.dispatchLocalEvent({type:"fieldValueChanged"}),this.fireItemSelected()}fireItemSelected(){this.dispatchLocalEvent({type:"selectedItem"})}},eU={tag:"div",cls:"ag-picker-field",role:"presentation",children:[{tag:"div",ref:"eLabel"},{tag:"div",ref:"eWrapper",cls:"ag-wrapper ag-picker-field-wrapper ag-picker-collapsed",children:[{tag:"div",ref:"eDisplayField",cls:"ag-picker-field-display"},{tag:"div",ref:"eIcon",cls:"ag-picker-field-icon",attrs:{"aria-hidden":"true"}}]}]},tU=class extends mW{constructor(e){if(super(e,(null===e||void 0===e?void 0:e.template)||eU,(null===e||void 0===e?void 0:e.agComponents)||[],null===e||void 0===e?void 0:e.className),this.isPickerDisplayed=!1,this.skipClick=!1,this.pickerGap=4,this.hideCurrentPicker=null,this.eLabel=kG,this.eWrapper=kG,this.eDisplayField=kG,this.eIcon=kG,this.registerCSS(".ag-picker-field-display{flex:1 1 auto}.ag-picker-field{align-items:center;display:flex}.ag-picker-field-icon{border:0;cursor:pointer;display:flex;margin:0;padding:0}.ag-picker-field-wrapper{background-color:var(--ag-picker-button-background-color);border:var(--ag-picker-button-border);border-radius:5px;min-height:max(var(--ag-list-item-height),calc(var(--ag-spacing)*4));overflow:hidden;&:where(.ag-picker-has-focus),&:where(:focus-within){background-color:var(--ag-picker-button-focus-background-color);border:var(--ag-picker-button-focus-border);box-shadow:var(--ag-focus-shadow);&:where(.invalid){box-shadow:var(--ag-focus-error-shadow)}}&:where(.invalid){background-color:var(--ag-input-invalid-background-color);border:var(--ag-input-invalid-border);color:var(--ag-input-invalid-text-color)}&:disabled{opacity:.5}}"),this.ariaRole=null===e||void 0===e?void 0:e.ariaRole,this.onPickerFocusIn=this.onPickerFocusIn.bind(this),this.onPickerFocusOut=this.onPickerFocusOut.bind(this),!e)return;const{pickerGap:t,maxPickerHeight:n,variableWidth:i,minPickerWidth:o,maxPickerWidth:r}=e;null!=t&&(this.pickerGap=t),this.variableWidth=!!i,null!=n&&this.setPickerMaxHeight(n),null!=o&&this.setPickerMinWidth(o),null!=r&&this.setPickerMaxWidth(r)}postConstruct(){super.postConstruct(),this.setupAria();const e="ag-".concat(this.getCompId(),"-display");this.eDisplayField.setAttribute("id",e);const t=this.getAriaElement();this.addManagedElementListeners(t,{keydown:this.onKeyDown.bind(this)}),this.addManagedElementListeners(this.eLabel,{mousedown:this.onLabelOrWrapperMouseDown.bind(this)}),this.addManagedElementListeners(this.eWrapper,{mousedown:this.onLabelOrWrapperMouseDown.bind(this)});const{pickerIcon:n,inputWidth:i}=this.config;if(n){const e=hW(n,this.beans);e&&this.eIcon.appendChild(e)}null!=i&&this.setInputWidth(i)}setupAria(){const e=this.getAriaElement();e.setAttribute("tabindex",this.gos.get("tabIndex").toString()),DL(e,!1),this.ariaRole&&gL(e,this.ariaRole)}onLabelOrWrapperMouseDown(e){if(e){const t=this.getFocusableElement();if(t!==this.eWrapper&&(null===e||void 0===e?void 0:e.target)===t)return;e.preventDefault(),this.getFocusableElement().focus()}this.skipClick?this.skipClick=!1:this.isDisabled()||(this.isPickerDisplayed?this.hidePicker():this.showPicker())}onKeyDown(e){switch(e.key){case sV.UP:case sV.DOWN:case sV.ENTER:case sV.SPACE:e.preventDefault(),this.onLabelOrWrapperMouseDown();break;case sV.ESCAPE:this.isPickerDisplayed&&(e.preventDefault(),e.stopPropagation(),this.hideCurrentPicker&&this.hideCurrentPicker())}}showPicker(){this.isPickerDisplayed=!0,this.pickerComponent||(this.pickerComponent=this.createPickerComponent());const e=this.pickerComponent.getGui();e.addEventListener("focusin",this.onPickerFocusIn),e.addEventListener("focusout",this.onPickerFocusOut),this.hideCurrentPicker=this.renderAndPositionPicker(),this.toggleExpandedStyles(!0)}renderAndPositionPicker(){const e=this.pickerComponent.getGui();this.gos.get("suppressScrollWhenPopupsAreOpen")||([this.destroyMouseWheelFunc]=this.addManagedEventListeners({bodyScroll:()=>{this.hidePicker()}}));const t=this.getLocaleTextFunc(),{config:{pickerAriaLabelKey:n,pickerAriaLabelValue:i,modalPicker:o=!0},maxPickerHeight:r,minPickerWidth:s,maxPickerWidth:a,variableWidth:l,beans:u,eWrapper:c}=this,d={modal:o,eChild:e,closeOnEsc:!0,closedCallback:()=>{const e=EB(u);this.beforeHidePicker(),e&&this.isAlive()&&this.getFocusableElement().focus()},ariaLabel:t(n,i),anchorToElement:c};e.style.position="absolute";const h=u.popupSvc,p=h.addPopup(d);l?(s&&(e.style.minWidth=s),e.style.width=DN(rN(c)),a&&(e.style.maxWidth=a)):yN(e,null!==a&&void 0!==a?a:rN(c));const g=null!==r&&void 0!==r?r:"".concat(nN(h.getPopupParent()),"px");return e.style.setProperty("max-height",g),this.alignPickerToComponent(),p.hideFunc}alignPickerToComponent(){if(!this.pickerComponent)return;const{pickerGap:e,config:{pickerType:t},beans:{popupSvc:n,gos:i},eWrapper:o,pickerComponent:r}=this,s=i.get("enableRtl")?"right":"left";n.positionPopupByComponent({type:t,eventSource:o,ePopup:r.getGui(),position:"under",alignSide:s,keepWithinBounds:!0,nudgeY:e})}beforeHidePicker(){this.destroyMouseWheelFunc&&(this.destroyMouseWheelFunc(),this.destroyMouseWheelFunc=void 0),this.toggleExpandedStyles(!1);const e=this.pickerComponent.getGui();e.removeEventListener("focusin",this.onPickerFocusIn),e.removeEventListener("focusout",this.onPickerFocusOut),this.isPickerDisplayed=!1,this.pickerComponent=void 0,this.hideCurrentPicker=null}toggleExpandedStyles(e){if(!this.isAlive())return;DL(this.getAriaElement(),e);const t=this.eWrapper.classList;t.toggle("ag-picker-expanded",e),t.toggle("ag-picker-collapsed",!e)}onPickerFocusIn(){this.togglePickerHasFocus(!0)}onPickerFocusOut(e){var t;null!==(t=this.pickerComponent)&&void 0!==t&&t.getGui().contains(e.relatedTarget)||this.togglePickerHasFocus(!1)}togglePickerHasFocus(e){this.pickerComponent&&this.eWrapper.classList.toggle("ag-picker-has-focus",e)}hidePicker(){this.hideCurrentPicker&&(this.hideCurrentPicker(),this.dispatchLocalEvent({type:"pickerHidden"}))}setInputWidth(e){return yN(this.eWrapper,e),this}getFocusableElement(){return this.eWrapper}setPickerGap(e){return this.pickerGap=e,this}setPickerMinWidth(e){return"number"===typeof e&&(e="".concat(e,"px")),this.minPickerWidth=null==e?void 0:e,this}setPickerMaxWidth(e){return"number"===typeof e&&(e="".concat(e,"px")),this.maxPickerWidth=null==e?void 0:e,this}setPickerMaxHeight(e){return"number"===typeof e&&(e="".concat(e,"px")),this.maxPickerHeight=null==e?void 0:e,this}destroy(){this.hidePicker(),super.destroy()}},nU=class extends tU{constructor(e){super(d({pickerAriaLabelKey:"ariaLabelSelectField",pickerAriaLabelValue:"Select Field",pickerType:"ag-list",className:"ag-select",pickerIcon:"selectOpen",ariaRole:"combobox"},e)),this.registerCSS(".ag-select{align-items:center;display:flex;&.ag-disabled{opacity:.5}}:where(.ag-select){.ag-picker-field-wrapper{cursor:default}&.ag-disabled .ag-picker-field-wrapper:focus{box-shadow:none}&:not(.ag-cell-editor,.ag-label-align-top){min-height:var(--ag-list-item-height)}.ag-picker-field-display{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ag-picker-field-icon{align-items:center;display:flex}}:where(.ag-ltr) :where(.ag-select){.ag-picker-field-wrapper{padding-left:calc(var(--ag-cell-horizontal-padding)/2);padding-right:var(--ag-spacing)}}:where(.ag-rtl) :where(.ag-select){.ag-picker-field-wrapper{padding-left:var(--ag-spacing);padding-right:calc(var(--ag-cell-horizontal-padding)/2)}}")}postConstruct(){this.tooltipFeature=this.createOptionalManagedBean(this.beans.registry.createDynamicBean("tooltipFeature",!1,{shouldDisplayTooltip:wN(()=>this.eDisplayField),getGui:()=>this.getGui()})),super.postConstruct(),this.createListComponent(),this.eWrapper.tabIndex=this.gos.get("tabIndex");const{options:e,value:t,placeholder:n}=this.config;null!=e&&this.addOptions(e),null!=t&&this.setValue(t,!0),n&&null==t&&(this.eDisplayField.textContent=n),this.addManagedElementListeners(this.eWrapper,{focusout:this.onWrapperFocusOut.bind(this)})}onWrapperFocusOut(e){this.eWrapper.contains(e.relatedTarget)||this.hidePicker()}createListComponent(){const e=this.createBean(new JW("select",!0));this.listComponent=e,e.setParentComponent(this);const t=e.getAriaElement(),n="ag-select-list-".concat(e.getCompId());t.setAttribute("id",n),OL(this.getAriaElement(),t),e.addManagedElementListeners(e.getGui(),{mousedown:e=>{null===e||void 0===e||e.preventDefault()}}),e.addManagedListeners(e,{selectedItem:()=>{this.hidePicker(),this.dispatchLocalEvent({type:"selectedItem"})},fieldValueChanged:()=>{this.listComponent&&(this.setValue(this.listComponent.getValue(),!1,!0),this.hidePicker())}})}createPickerComponent(){return this.listComponent}onKeyDown(e){const{key:t}=e;switch(t===sV.TAB&&this.hidePicker(),t){case sV.ENTER:case sV.UP:case sV.DOWN:case sV.PAGE_UP:case sV.PAGE_DOWN:case sV.PAGE_HOME:case sV.PAGE_END:var n;if(e.preventDefault(),this.isPickerDisplayed)null===(n=this.listComponent)||void 0===n||n.handleKeyDown(e);else super.onKeyDown(e);break;case sV.ESCAPE:super.onKeyDown(e);break;case sV.SPACE:this.isPickerDisplayed?e.preventDefault():super.onKeyDown(e)}}showPicker(){const e=this.listComponent;e&&(super.showPicker(),e.refreshHighlighted())}addOptions(e){return e.forEach(e=>this.addOption(e)),this}addOption(e){return this.listComponent.addOption(e),this}clearOptions(){var e;return null===(e=this.listComponent)||void 0===e||e.clearOptions(),this.setValue(void 0,!0),this}setValue(e,t,n){const{listComponent:i,config:{placeholder:o},eDisplayField:r,tooltipFeature:s}=this;if(this.value===e||!i)return this;n||i.setValue(e,!0);if(i.getValue()===this.getValue())return this;let a=i.getDisplayValue();return null==a&&o&&(a=o),r.textContent=a,null===s||void 0===s||s.setTooltipAndRefresh(null!==a&&void 0!==a?a:null),super.setValue(e,t)}destroy(){this.listComponent=this.destroyBean(this.listComponent),super.destroy()}},iU={selector:"AG-SELECT",component:nU},oU="ag-tab-guard",rU="ag-tab-guard-top",sU="ag-tab-guard-bottom",aU=class extends vO{constructor(e){super(),this.skipTabGuardFocus=!1,this.forcingFocusOut=!1,this.allowFocus=!1;const{comp:t,eTopGuard:n,eBottomGuard:i,focusTrapActive:o,forceFocusOutWhenTabGuardsAreEmpty:r,isFocusableContainer:s,focusInnerElement:a,onFocusIn:l,onFocusOut:u,shouldStopEventPropagation:c,onTabKeyDown:d,handleKeyDown:h,isEmpty:p,eFocusableElement:g}=e;this.comp=t,this.eTopGuard=n,this.eBottomGuard=i,this.providedFocusInnerElement=a,this.eFocusableElement=g,this.focusTrapActive=!!o,this.forceFocusOutWhenTabGuardsAreEmpty=!!r,this.isFocusableContainer=!!s,this.providedFocusIn=l,this.providedFocusOut=u,this.providedShouldStopEventPropagation=c,this.providedOnTabKeyDown=d,this.providedHandleKeyDown=h,this.providedIsEmpty=p}postConstruct(){this.createManagedBean(new IH(this.eFocusableElement,{shouldStopEventPropagation:()=>this.shouldStopEventPropagation(),onTabKeyDown:e=>this.onTabKeyDown(e),handleKeyDown:e=>this.handleKeyDown(e),onFocusIn:e=>this.onFocusIn(e),onFocusOut:e=>this.onFocusOut(e)})),this.activateTabGuards(),[this.eTopGuard,this.eBottomGuard].forEach(e=>this.addManagedElementListeners(e,{focus:this.onFocus.bind(this)}))}handleKeyDown(e){this.providedHandleKeyDown&&this.providedHandleKeyDown(e)}tabGuardsAreActive(){return!!this.eTopGuard&&this.eTopGuard.hasAttribute("tabIndex")}shouldStopEventPropagation(){return!!this.providedShouldStopEventPropagation&&this.providedShouldStopEventPropagation()}activateTabGuards(){if(this.forcingFocusOut)return;const e=this.gos.get("tabIndex");this.comp.setTabIndex(e.toString())}deactivateTabGuards(){this.comp.setTabIndex()}onFocus(e){if(this.isFocusableContainer&&!this.eFocusableElement.contains(e.relatedTarget)&&!this.allowFocus)return void this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard);if(this.skipTabGuardFocus)return void(this.skipTabGuardFocus=!1);if(this.forceFocusOutWhenTabGuardsAreEmpty){if(this.providedIsEmpty?this.providedIsEmpty():0===pV(this.eFocusableElement,".ag-tab-guard").length)return void this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard)}if(this.isFocusableContainer&&this.eFocusableElement.contains(e.relatedTarget))return;const t=e.target===this.eBottomGuard;!(this.providedFocusInnerElement?this.providedFocusInnerElement(t):this.focusInnerElement(t))&&this.forceFocusOutWhenTabGuardsAreEmpty&&this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard)}findNextElementOutsideAndFocus(e){var t;const n=pV(CB(this.beans).body,null,!0),i=n.indexOf(e?this.eTopGuard:this.eBottomGuard);if(-1===i)return;let o,r;e?(o=0,r=i):(o=i+1,r=n.length);const s=n.slice(o,r),a=this.gos.get("tabIndex");s.sort((e,t)=>{const n=parseInt(e.getAttribute("tabindex")||"0"),i=parseInt(t.getAttribute("tabindex")||"0");return i===a?1:n===a?-1:0===n?1:0===i?-1:n-i}),null===(t=s[e?s.length-1:0])||void 0===t||t.focus()}onFocusIn(e){this.focusTrapActive||this.forcingFocusOut||(this.providedFocusIn&&this.providedFocusIn(e),this.isFocusableContainer||this.deactivateTabGuards())}onFocusOut(e){this.focusTrapActive||(this.providedFocusOut&&this.providedFocusOut(e),this.eFocusableElement.contains(e.relatedTarget)||this.activateTabGuards())}onTabKeyDown(e){if(this.providedOnTabKeyDown)return void this.providedOnTabKeyDown(e);if(this.focusTrapActive)return;if(e.defaultPrevented)return;const t=this.tabGuardsAreActive();t&&this.deactivateTabGuards();const n=this.getNextFocusableElement(e.shiftKey);t&&setTimeout(()=>this.activateTabGuards(),0),n&&(n.focus(),e.preventDefault())}focusInnerElement(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=pV(this.eFocusableElement);return this.tabGuardsAreActive()&&(t.splice(0,1),t.splice(t.length-1,1)),!!t.length&&(t[e?t.length-1:0].focus({preventScroll:!0}),!0)}getNextFocusableElement(e){return mV(this.beans,this.eFocusableElement,!1,e)}forceFocusOutOfContainer(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.forcingFocusOut)return;const t=e?this.eTopGuard:this.eBottomGuard;this.activateTabGuards(),this.skipTabGuardFocus=!0,this.forcingFocusOut=!0,t.focus(),window.setTimeout(()=>{this.forcingFocusOut=!1,this.activateTabGuards()})}isTabGuard(e,t){return e===this.eTopGuard&&!t||e===this.eBottomGuard&&(null===t||void 0===t||t)}setAllowFocus(e){this.allowFocus=e}},lU=class extends vO{constructor(e){super(),this.comp=e}initialiseTabGuard(e){this.eTopGuard=this.createTabGuard("top"),this.eBottomGuard=this.createTabGuard("bottom"),this.eFocusableElement=this.comp.getFocusableElement();const{eTopGuard:t,eBottomGuard:n,eFocusableElement:i}=this,o=[t,n],r={setTabIndex:e=>{o.forEach(t=>null!=e?t.setAttribute("tabindex",e):t.removeAttribute("tabindex"))}};this.addTabGuards(t,n);const{focusTrapActive:s=!1,onFocusIn:a,onFocusOut:l,focusInnerElement:u,handleKeyDown:c,onTabKeyDown:d,shouldStopEventPropagation:h,isEmpty:p,forceFocusOutWhenTabGuardsAreEmpty:g,isFocusableContainer:m}=e;this.tabGuardCtrl=this.createManagedBean(new aU({comp:r,focusTrapActive:s,eTopGuard:t,eBottomGuard:n,eFocusableElement:i,onFocusIn:a,onFocusOut:l,focusInnerElement:u,handleKeyDown:c,onTabKeyDown:d,shouldStopEventPropagation:h,isEmpty:p,forceFocusOutWhenTabGuardsAreEmpty:g,isFocusableContainer:m}))}getTabGuardCtrl(){return this.tabGuardCtrl}createTabGuard(e){const t=CB(this.beans).createElement("div"),n="top"===e?rU:sU;return t.classList.add(oU,n),gL(t,"presentation"),t}addTabGuards(e,t){const n=this.eFocusableElement;n.insertAdjacentElement("afterbegin",e),n.insertAdjacentElement("beforeend",t)}removeAllChildrenExceptTabGuards(){const e=[this.eTopGuard,this.eBottomGuard];uN(this.comp.getFocusableElement()),this.addTabGuards(...e)}forceFocusOutOfContainer(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.tabGuardCtrl.forceFocusOutOfContainer(e)}appendChild(e,t,n){EN(t)||(t=t.getGui());const{eBottomGuard:i}=this;i?i.insertAdjacentElement("beforebegin",t):e(t,n)}destroy(){const{eTopGuard:e,eBottomGuard:t}=this;cN(e),cN(t),super.destroy()}},uU=class extends AG{initialiseTabGuard(e){this.tabGuardFeature=this.createManagedBean(new lU(this)),this.tabGuardFeature.initialiseTabGuard(e)}forceFocusOutOfContainer(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.tabGuardFeature.forceFocusOutOfContainer(e)}appendChild(e,t){this.tabGuardFeature.appendChild(super.appendChild.bind(this),e,t)}},cU=class{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.DOUBLE_TAP_MILLIS=500,this.destroyFuncs=[],this.touching=!1,this.localEventService=new zI,this.preventMouseClick=t;const n=this.onTouchStart.bind(this),i=this.onTouchMove.bind(this),o=this.onTouchEnd.bind(this);e.addEventListener("touchstart",n,{passive:!0}),e.addEventListener("touchmove",i,{passive:!0}),e.addEventListener("touchend",o,{passive:!1}),this.destroyFuncs.push(()=>{e.removeEventListener("touchstart",n,{passive:!0}),e.removeEventListener("touchmove",i,{passive:!0}),e.removeEventListener("touchend",o,{passive:!1})})}getActiveTouch(e){for(let t=0;t<e.length;t++){if(e[t].identifier===this.touchStart.identifier)return e[t]}return null}addEventListener(e,t){this.localEventService.addEventListener(e,t)}removeEventListener(e,t){this.localEventService.removeEventListener(e,t)}onTouchStart(e){if(this.touching)return;this.touchStart=e.touches[0],this.touching=!0,this.moved=!1;const t=this.touchStart;window.setTimeout(()=>{const n=this.touchStart===t;if(this.touching&&n&&!this.moved){this.moved=!0;const t={type:"longTap",touchStart:this.touchStart,touchEvent:e};this.localEventService.dispatchEvent(t)}},500)}onTouchMove(e){if(!this.touching)return;const t=this.getActiveTouch(e.touches);if(!t)return;!SV(t,this.touchStart,4)&&(this.moved=!0)}onTouchEnd(e){if(this.touching){if(!this.moved){const e={type:"tap",touchStart:this.touchStart};this.localEventService.dispatchEvent(e),this.checkForDoubleTap()}this.preventMouseClick&&e.cancelable&&e.preventDefault(),this.touching=!1}}checkForDoubleTap(){const e=Date.now();if(this.lastTapTime&&this.lastTapTime>0){if(e-this.lastTapTime>this.DOUBLE_TAP_MILLIS){const e={type:"doubleTap",touchStart:this.touchStart};this.localEventService.dispatchEvent(e),this.lastTapTime=null}else this.lastTapTime=e}else this.lastTapTime=e}destroy(){this.destroyFuncs.forEach(e=>e())}},dU=(e=>(e[e.VALUE=0]="VALUE",e[e.DIMENSION=1]="DIMENSION",e))(dU||{}),hU=class{constructor(e){this.tickingInterval=null,this.onScrollCallback=null,this.scrollContainer=e.scrollContainer,this.scrollHorizontally=-1!==e.scrollAxis.indexOf("x"),this.scrollVertically=-1!==e.scrollAxis.indexOf("y"),this.scrollByTick=null!=e.scrollByTick?e.scrollByTick:20,e.onScrollCallback&&(this.onScrollCallback=e.onScrollCallback),this.scrollVertically&&(this.getVerticalPosition=e.getVerticalPosition,this.setVerticalPosition=e.setVerticalPosition),this.scrollHorizontally&&(this.getHorizontalPosition=e.getHorizontalPosition,this.setHorizontalPosition=e.setHorizontalPosition),this.shouldSkipVerticalScroll=e.shouldSkipVerticalScroll||(()=>!1),this.shouldSkipHorizontalScroll=e.shouldSkipHorizontalScroll||(()=>!1)}check(e){const t=arguments.length>1&&void 0!==arguments[1]&&arguments[1]||this.shouldSkipVerticalScroll();if(t&&this.shouldSkipHorizontalScroll())return;const n=this.scrollContainer.getBoundingClientRect(),i=this.scrollByTick;this.tickLeft=e.clientX<n.left+i,this.tickRight=e.clientX>n.right-i,this.tickUp=e.clientY<n.top+i&&!t,this.tickDown=e.clientY>n.bottom-i&&!t,this.tickLeft||this.tickRight||this.tickUp||this.tickDown?this.ensureTickingStarted():this.ensureCleared()}ensureTickingStarted(){null===this.tickingInterval&&(this.tickingInterval=window.setInterval(this.doTick.bind(this),100),this.tickCount=0)}doTick(){this.tickCount++;const e=this.tickCount>20?200:this.tickCount>10?80:40;if(this.scrollVertically){const t=this.getVerticalPosition();this.tickUp&&this.setVerticalPosition(t-e),this.tickDown&&this.setVerticalPosition(t+e)}if(this.scrollHorizontally){const t=this.getHorizontalPosition();this.tickLeft&&this.setHorizontalPosition(t-e),this.tickRight&&this.setHorizontalPosition(t+e)}this.onScrollCallback&&this.onScrollCallback()}ensureCleared(){this.tickingInterval&&(window.clearInterval(this.tickingInterval),this.tickingInterval=null)}},pU=class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"javascript";var t;this.frameworkName=e,this.renderingEngine="vanilla",this.batchFrameworkComps=!1,this.wrapIncoming=e=>e(),this.wrapOutgoing=e=>e(),this.baseDocLink="".concat(UN,"/").concat(this.frameworkName,"-data-grid"),t=this.baseDocLink,ZN=t}setInterval(e,t){return new PG(n=>{n(window.setInterval(e,t))})}addEventListener(e,t,n,i){let o={};if("object"===typeof i?o=i:"boolean"===typeof i&&(o={capture:i}),null==o.passive){const e=mO(t);null!=e&&(o.passive=e)}e.addEventListener(t,n,o)}frameworkComponent(e){return null}isFrameworkComponent(e){return!1}getDocLink(e){return"".concat(this.baseDocLink).concat(e?"/".concat(e):"")}};function gU(e){return{beanName:"gridApi",bean:e.getBean("apiFunctionSvc").api}}var mU=Object.fromEntries(["licenseManager","environment","eventSvc","gos","paginationAutoPageSizeSvc","apiFunctionSvc","gridApi","registry","agCompUtils","userCompFactory","rowContainerHeight","horizontalResizeSvc","localeSvc","pinnedRowModel","dragSvc","colGroupSvc","visibleCols","popupSvc","selectionSvc","colFilter","quickFilter","filterManager","colModel","headerNavigation","pageBounds","pagination","pageBoundsListener","rowSpanSvc","stickyRowSvc","rowRenderer","expressionSvc","alignedGridsSvc","navigation","valueCache","valueSvc","autoWidthCalc","filterMenuFactory","dragAndDrop","focusSvc","cellNavigation","cellStyles","scrollVisibleSvc","sortSvc","colHover","colAnimation","autoColSvc","selectionColSvc","changeDetectionSvc","animationFrameSvc","undoRedo","colDefFactory","rowStyleSvc","rowNodeBlockLoader","rowNodeSorter","ctrlsSvc","pinnedCols","dataTypeSvc","syncSvc","overlays","stateSvc","expansionSvc","apiEventSvc","ariaAnnounce","menuSvc","colMoves","colAutosize","colFlex","colResize","pivotColsSvc","valueColsSvc","rowGroupColsSvc","funcColsSvc","colNames","colViewport","pivotResultCols","showRowGroupCols","validation"].map((e,t)=>[e,t]));function vU(e,t){var n,i;return(null!==(n=e.beanName?mU[e.beanName]:void 0)&&void 0!==n?n:Number.MAX_SAFE_INTEGER)-(null!==(i=t.beanName?mU[t.beanName]:void 0)&&void 0!==i?i:Number.MAX_SAFE_INTEGER)}function fU(e,t){return"gridDestroySvc"===(null===e||void 0===e?void 0:e.beanName)?-1:"gridDestroySvc"===(null===t||void 0===t?void 0:t.beanName)?1:0}var wU={tag:"div",cls:"ag-pinned-left-header",role:"rowgroup"},CU={tag:"div",cls:"ag-pinned-right-header",role:"rowgroup"},bU={tag:"div",cls:"ag-header-viewport",role:"presentation",attrs:{tabindex:"-1"},children:[{tag:"div",ref:"eCenterContainer",cls:"ag-header-container",role:"rowgroup"}]},yU=class extends AG{constructor(e){super(),this.eCenterContainer=kG,this.headerRowComps={},this.rowCompsList=[],this.pinned=e}postConstruct(){this.selectAndSetTemplate();const e={setDisplayed:e=>this.setDisplayed(e),setCtrls:e=>this.setCtrls(e),setCenterWidth:e=>this.eCenterContainer.style.width=e,setViewportScrollLeft:e=>this.getGui().scrollLeft=e,setPinnedContainerWidth:e=>{const t=this.getGui();t.style.width=e,t.style.maxWidth=e,t.style.minWidth=e}};this.createManagedBean(new iW(this.pinned)).setComp(e,this.getGui())}selectAndSetTemplate(){const e="left"==this.pinned,t="right"==this.pinned,n=e?wU:t?CU:bU;this.setTemplate(n),this.eRowContainer=this.eCenterContainer!==kG?this.eCenterContainer:this.getGui()}destroy(){this.setCtrls([]),super.destroy()}destroyRowComp(e){this.destroyBean(e),this.eRowContainer.removeChild(e.getGui())}setCtrls(e){const t=this.headerRowComps;let n;this.headerRowComps={},this.rowCompsList=[];const i=e=>{const t=e.getGui();t.parentElement!=this.eRowContainer&&this.eRowContainer.appendChild(t),n&&gN(this.eRowContainer,t,n),n=t};e.forEach(e=>{const n=e.instanceId,o=t[n];delete t[n];const r=o||this.createBean(new Yj(e));this.headerRowComps[n]=r,this.rowCompsList.push(r),i(r)}),Object.values(t).forEach(e=>this.destroyRowComp(e))}},SU={tag:"div",cls:"ag-header",role:"presentation"},xU={selector:"AG-HEADER-ROOT",component:class extends AG{constructor(){super(SU)}postConstruct(){const e={toggleCss:(e,t)=>this.toggleCss(e,t),setHeightAndMinHeight:e=>{this.getGui().style.height=e,this.getGui().style.minHeight=e}};this.createManagedBean(new zj).setComp(e,this.getGui(),this.getFocusableElement());const t=e=>{this.createManagedBean(e),this.appendChild(e)};t(new yU("left")),t(new yU(null)),t(new yU("right"))}}},DU=class extends AG{constructor(e,t,n,i,o){super(),this.cellCtrl=t,this.rendererVersion=0,this.editorVersion=0,this.beans=e,this.gos=e.gos,this.column=t.column,this.rowNode=t.rowNode,this.eRow=i;const r=MN({tag:"div",role:t.getCellAriaRole(),attrs:{"comp-id":"".concat(this.getCompId()),"col-id":t.column.colIdSanitised}});let s;this.eCell=r,t.isCellSpanning()?(s=MN({tag:"div",cls:"ag-spanned-cell-wrapper",role:"presentation"}),s.appendChild(r),this.setTemplateFromElement(s)):this.setTemplateFromElement(r),this.cellCssManager=new EG(()=>r),this.forceWrapper=t.isForceWrapper(),this.refreshWrapper(!1);const a={toggleCss:(e,t)=>this.cellCssManager.toggleCss(e,t),setUserStyles:e=>fN(r,e),getFocusableElement:()=>r,setIncludeSelection:e=>this.includeSelection=e,setIncludeRowDrag:e=>this.includeRowDrag=e,setIncludeDndSource:e=>this.includeDndSource=e,setRenderDetails:(e,t,n)=>this.setRenderDetails(e,t,n),setEditDetails:(e,t,n)=>this.setEditDetails(e,t,n),getCellEditor:()=>this.cellEditor||null,getCellRenderer:()=>this.cellRenderer||null,getParentOfValue:()=>this.getParentOfValue(),refreshEditStyles:(e,t)=>this.refreshEditStyles(e,t)};t.setComp(a,r,s,this.eCellWrapper,n,o,void 0)}getParentOfValue(){var e,t;return null!==(e=null!==(t=this.eCellValue)&&void 0!==t?t:this.eCellWrapper)&&void 0!==e?e:this.eCell}setRenderDetails(e,t,n){if(this.cellEditor&&!this.cellEditorPopupWrapper)return;this.firstRender=null==this.firstRender;const i=this.refreshWrapper(!1);if(this.refreshEditStyles(!1),e){!(n||i)&&this.refreshCellRenderer(e)||(this.destroyRenderer(),this.createCellRendererInstance(e))}else this.destroyRenderer(),this.insertValueWithoutCellRenderer(t)}setEditDetails(e,t,n){e?this.createCellEditorInstance(e,t,n):this.destroyEditor()}removeControls(){const e=this.beans.context;this.checkboxSelectionComp=e.destroyBean(this.checkboxSelectionComp),this.dndSourceComp=e.destroyBean(this.dndSourceComp),this.rowDraggingComp=e.destroyBean(this.rowDraggingComp)}refreshWrapper(e){const t=this.includeRowDrag||this.includeDndSource||this.includeSelection,n=t||this.forceWrapper,i=n&&null==this.eCellWrapper;i&&(this.eCellWrapper=MN({tag:"div",cls:"ag-cell-wrapper",role:"presentation"}),this.eCell.appendChild(this.eCellWrapper));const o=!n&&null!=this.eCellWrapper;o&&(cN(this.eCellWrapper),this.eCellWrapper=void 0),this.cellCssManager.toggleCss("ag-cell-value",!n);const r=!e&&n,s=r&&null==this.eCellValue;s&&(this.eCellValue=MN({tag:"span",cls:"ag-cell-value",role:"presentation"}),this.eCellWrapper.appendChild(this.eCellValue));const a=!r&&null!=this.eCellValue;a&&(cN(this.eCellValue),this.eCellValue=void 0);const l=i||o||s||a;return l&&this.removeControls(),!e&&t&&this.addControls(),l}addControls(){const{cellCtrl:e,eCellWrapper:t,eCellValue:n,includeRowDrag:i,includeDndSource:o,includeSelection:r}=this,s=e=>{e&&t.insertBefore(e.getGui(),n)};i&&null==this.rowDraggingComp&&(this.rowDraggingComp=e.createRowDragComp(),s(this.rowDraggingComp)),o&&null==this.dndSourceComp&&(this.dndSourceComp=e.createDndSource(),s(this.dndSourceComp)),r&&null==this.checkboxSelectionComp&&(this.checkboxSelectionComp=e.createSelectionCheckbox(),s(this.checkboxSelectionComp))}createCellEditorInstance(e,t,n){const i=this.editorVersion,o=e.newAgStackInstance(),{params:r}=e;o.then(e=>this.afterCellEditorCreated(i,e,r,t,n));KI(this.cellEditor)&&r.cellStartedEdit&&this.cellCtrl.focusCell(!0)}insertValueWithoutCellRenderer(e){const t=this.getParentOfValue();uN(t);const n=CO(e);null!=n&&(t.textContent=n)}destroyRenderer(){const{context:e}=this.beans;this.cellRenderer=e.destroyBean(this.cellRenderer),cN(this.cellRendererGui),this.cellRendererGui=null,this.rendererVersion++}destroyEditor(){var e,t;const{context:n}=this.beans;((null===(e=this.cellEditorPopupWrapper)||void 0===e?void 0:e.getGui().contains(SB(this.beans)))||this.cellCtrl.hasBrowserFocus())&&this.eCell.focus({preventScroll:!0}),null===(t=this.hideEditorPopup)||void 0===t||t.call(this),this.hideEditorPopup=void 0,this.cellEditor=n.destroyBean(this.cellEditor),this.cellEditorPopupWrapper=n.destroyBean(this.cellEditorPopupWrapper),cN(this.cellEditorGui),this.cellCtrl.disableEditorTooltipFeature(),this.cellEditorGui=null,this.editorVersion++}refreshCellRenderer(e){var t;if(null==(null===(t=this.cellRenderer)||void 0===t?void 0:t.refresh))return!1;if(this.cellRendererClass!==e.componentClass)return!1;const n=this.cellRenderer.refresh(e.params);return!0===n||void 0===n}createCellRendererInstance(e){var t,n=this;const i=this.rendererVersion,o=e=>t=>{if(this.rendererVersion!==i||!this.isAlive())return;const n=e.newAgStackInstance(),o=this.afterCellRendererCreated.bind(this,i,e.componentClass);null===n||void 0===n||n.then(o)},{animationFrameSvc:r}=this.beans;let s;if(s=null!==r&&void 0!==r&&r.active&&this.firstRender?function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];r.createTask(o(e),n.rowNode.rowIndex,"p2",e.componentFromFramework,t)}:e=>o(e)(),null!==(t=e.params)&&void 0!==t&&t.deferRender&&!this.cellCtrl.rowNode.group){const{loadingComp:t,onReady:n}=this.cellCtrl.getDeferLoadingCellRenderer();t&&(s(t),n.then(()=>s(e,!0)))}else s(e)}afterCellRendererCreated(e,t,n){if(!this.isAlive()||e!==this.rendererVersion)return void this.beans.context.destroyBean(n);this.cellRenderer=n,this.cellRendererClass=t;const i=n.getGui();if(this.cellRendererGui=i,null!=i){const e=this.getParentOfValue();uN(e),e.appendChild(i)}}afterCellEditorCreated(e,t,n,i,o){var r;const s=e!==this.editorVersion,{context:a}=this.beans;if(s)return void a.destroyBean(t);if(t.isCancelBeforeStart&&t.isCancelBeforeStart())return a.destroyBean(t),void this.cellCtrl.stopEditing(!0);if(!t.getGui)return iB(97,{colId:this.column.getId()}),void a.destroyBean(t);this.cellEditor=t,this.cellEditorGui=t.getGui();const l=i||void 0!==t.isPopup&&t.isPopup();l?this.addPopupCellEditor(n,o):this.addInCellEditor(),this.refreshEditStyles(!0,l),null===(r=t.afterGuiAttached)||void 0===r||r.call(t),this.cellCtrl.enableEditorTooltipFeature(t),this.cellCtrl.cellEditorAttached()}refreshEditStyles(e,t){const{cellCssManager:n}=this;n.toggleCss("ag-cell-inline-editing",e&&!t),n.toggleCss("ag-cell-popup-editing",e&&!!t),n.toggleCss("ag-cell-not-inline-editing",!e||!!t)}addInCellEditor(){const{eCell:e}=this;if(e.contains(SB(this.beans))&&e.focus(),this.destroyRenderer(),this.refreshWrapper(!0),uN(this.getParentOfValue()),this.cellEditorGui){this.getParentOfValue().appendChild(this.cellEditorGui)}}addPopupCellEditor(e,t){var n,i;const{gos:o,context:r,popupSvc:s,editSvc:a}=this.beans;"fullRow"===o.get("editType")&&iB(98);const l=this.cellEditorPopupWrapper=r.createBean(a.createPopupEditorWrapper(e)),{cellEditor:u,cellEditorGui:c,eCell:d,rowNode:h,column:p,cellCtrl:g}=this,m=l.getGui();c&&m.appendChild(c);const v=o.get("stopEditingWhenCellsLoseFocus"),f={ePopup:m,column:p,rowNode:h,type:"popupCellEditor",eventSource:d,position:null!=t?t:null!==(n=null===(i=u.getPopupPosition)||void 0===i?void 0:i.call(u))&&void 0!==n?n:"over",alignSide:o.get("enableRtl")?"right":"left",keepWithinBounds:!0},w=s.positionPopupByComponent.bind(s,f),C=s.addPopup({modal:v,eChild:m,closeOnEsc:!0,closedCallback:()=>{g.onPopupEditorClosed()},anchorToElement:d,positionCallback:w,ariaOwns:d});C&&(this.hideEditorPopup=C.hideFunc)}detach(){this.eRow.removeChild(this.getGui())}destroy(){this.destroyRenderer(),this.destroyEditor(),this.removeControls(),super.destroy()}},EU=class extends AG{constructor(e,t,n){super(),this.cellComps=new Map,this.beans=t,this.rowCtrl=e;const i=MN({tag:"div",role:"row",attrs:{"comp-id":"".concat(this.getCompId())}});this.setInitialStyle(i,n),this.setTemplateFromElement(i);const o=i.style;this.domOrder=this.rowCtrl.getDomOrder();const r={setDomOrder:e=>this.domOrder=e,setCellCtrls:e=>this.setCellCtrls(e),showFullWidth:e=>this.showFullWidth(e),getFullWidthCellRenderer:()=>this.fullWidthCellRenderer,toggleCss:(e,t)=>this.toggleCss(e,t),setUserStyles:e=>fN(i,e),setTop:e=>o.top=e,setTransform:e=>o.transform=e,setRowIndex:e=>i.setAttribute("row-index",e),setRowId:e=>i.setAttribute("row-id",e),setRowBusinessKey:e=>i.setAttribute("row-business-key",e),refreshFullWidth:e=>{var t,n,i;return null!==(t=null===(n=this.fullWidthCellRenderer)||void 0===n||null===(i=n.refresh)||void 0===i?void 0:i.call(n,e()))&&void 0!==t&&t}};e.setComp(r,this.getGui(),n,void 0),this.addDestroyFunc(()=>{e.unsetComp(n)})}setInitialStyle(e,t){const n=this.rowCtrl.getInitialTransform(t);if(n)e.style.setProperty("transform",n);else{const n=this.rowCtrl.getInitialRowTop(t);n&&e.style.setProperty("top",n)}}showFullWidth(e){e.newAgStackInstance().then(e=>{if(this.isAlive()){const t=e.getGui();this.getGui().appendChild(t),this.rowCtrl.setupDetailRowAutoHeight(t),this.setFullWidthRowComp(e)}else this.beans.context.destroyBean(e)})}setCellCtrls(e){const t=new Map(this.cellComps);for(const n of e){const e=n.instanceId;this.cellComps.has(e)?t.delete(e):this.newCellComp(n)}this.destroyCells(t),this.ensureDomOrder(e)}ensureDomOrder(e){if(!this.domOrder)return;const t=[];for(const n of e){const e=this.cellComps.get(n.instanceId);e&&t.push(e.getGui())}mN(this.getGui(),t)}newCellComp(e){var t,n;const i=null!==(t=null===(n=this.beans.editSvc)||void 0===n?void 0:n.isEditing(e,{withOpenEditor:!0}))&&void 0!==t&&t,o=new DU(this.beans,e,this.rowCtrl.printLayout,this.getGui(),i);this.cellComps.set(e.instanceId,o),this.getGui().appendChild(o.getGui())}destroy(){super.destroy(),this.destroyCells(this.cellComps)}setFullWidthRowComp(e){this.fullWidthCellRenderer=e,this.addDestroyFunc(()=>{this.fullWidthCellRenderer=this.beans.context.destroyBean(this.fullWidthCellRenderer)})}destroyCells(e){for(const t of e.values()){if(!t)return;const e=t.cellCtrl.instanceId;if(this.cellComps.get(e)!==t)return;t.detach(),t.destroy(),this.cellComps.delete(e)}}};var FU={selector:"AG-ROW-CONTAINER",component:class extends AG{constructor(e){super(),this.eViewport=kG,this.eContainer=kG,this.eSpannedContainer=kG,this.rowCompsNoSpan={},this.rowCompsWithSpan={},this.name=null===e||void 0===e?void 0:e.name,this.options=gj(this.name)}postConstruct(){this.setTemplate(function(e,t,n){const i=!!n.gos.get("enableCellSpan")&&!!t.getSpannedRowCtrls,o={tag:"div",ref:"eContainer",cls:hj(e),role:"rowgroup"};if("center"===t.type||i){const t={tag:"div",ref:"eSpannedContainer",cls:"ag-spanning-container ".concat(pj(e)),role:"rowgroup"};return{tag:"div",ref:"eViewport",cls:"ag-viewport ".concat(dj(e)),role:"presentation",children:[o,i?t:null]}}return o}(this.name,this.options,this.beans));const e={setHorizontalScroll:e=>this.eViewport.scrollLeft=e,setViewportHeight:e=>this.eViewport.style.height=e,setRowCtrls:e=>{let{rowCtrls:t}=e;return this.setRowCtrls(t)},setSpannedRowCtrls:e=>this.setRowCtrls(e,!0),setDomOrder:e=>{this.domOrder=e},setContainerWidth:e=>{this.eContainer.style.width=e,this.eSpannedContainer&&(this.eSpannedContainer.style.width=e)},setOffsetTop:e=>{const t="translateY(".concat(e,")");this.eContainer.style.transform=t,this.eSpannedContainer&&(this.eSpannedContainer.style.transform=t)}};this.createManagedBean(new xj(this.name)).setComp(e,this.eContainer,this.eSpannedContainer,this.eViewport)}destroy(){this.setRowCtrls([]),this.setRowCtrls([],!0),super.destroy(),this.lastPlacedElement=null}setRowCtrls(e,t){const{beans:n,options:i}=this,o=t?this.eSpannedContainer:this.eContainer,r=d({},t?this.rowCompsWithSpan:this.rowCompsNoSpan),s={};t?this.rowCompsWithSpan=s:this.rowCompsNoSpan=s,this.lastPlacedElement=null;const a=[];for(const l of e){const e=l.instanceId,t=r[e];let o;if(t)o=t,delete r[e];else{if(!l.rowNode.displayed)continue;o=new EU(l,n,i.type)}s[e]=o,a.push([o,!t])}this.removeOldRows(Object.values(r),o),this.addRowNodes(a,o)}addRowNodes(e,t){const{domOrder:n}=this;for(const[i,o]of e){const e=i.getGui();n?this.ensureDomOrder(e,t):o&&t.appendChild(e)}}removeOldRows(e,t){for(const n of e)t.removeChild(n.getGui()),n.destroy()}ensureDomOrder(e,t){gN(t,e,this.lastPlacedElement),this.lastPlacedElement=e}}};function kU(e,t){return t.map(t=>{const n="e".concat(t[0].toUpperCase()+t.substring(1),"RowContainer");return e[n]={name:t},{tag:"ag-row-container",ref:n,attrs:{name:t}}})}var AU={selector:"AG-GRID-BODY",component:class extends AG{constructor(){super(...arguments),this.eGridRoot=kG,this.eBodyViewport=kG,this.eStickyTop=kG,this.eStickyBottom=kG,this.eTop=kG,this.eBottom=kG,this.eBody=kG}postConstruct(){const{overlays:e,rangeSvc:t}=this.beans,n=null===e||void 0===e?void 0:e.getOverlayWrapperSelector(),{paramsMap:i,elementParams:o}=function(e){const t={};return{paramsMap:t,elementParams:{tag:"div",ref:"eGridRoot",cls:"ag-root ag-unselectable",children:[{tag:"ag-header-root"},{tag:"div",ref:"eTop",cls:"ag-floating-top",role:"presentation",children:kU(t,["topLeft","topCenter","topRight","topFullWidth"])},{tag:"div",ref:"eBody",cls:"ag-body",role:"presentation",children:[{tag:"div",ref:"eBodyViewport",cls:"ag-body-viewport",role:"presentation",children:kU(t,["left","center","right","fullWidth"])},{tag:"ag-fake-vertical-scroll"}]},{tag:"div",ref:"eStickyTop",cls:"ag-sticky-top",role:"presentation",children:kU(t,["stickyTopLeft","stickyTopCenter","stickyTopRight","stickyTopFullWidth"])},{tag:"div",ref:"eStickyBottom",cls:"ag-sticky-bottom",role:"presentation",children:kU(t,["stickyBottomLeft","stickyBottomCenter","stickyBottomRight","stickyBottomFullWidth"])},{tag:"div",ref:"eBottom",cls:"ag-floating-bottom",role:"presentation",children:kU(t,["bottomLeft","bottomCenter","bottomRight","bottomFullWidth"])},{tag:"ag-fake-horizontal-scroll"},e?{tag:"ag-overlay-wrapper"}:null]}}}(!!n);this.setTemplate(o,[...n?[n]:[],Rj,_j,xU,FU],i);const r=(e,t)=>{const n="".concat(e,"px");t.style.minHeight=n,t.style.height=n},s={setRowAnimationCssOnBodyViewport:(e,t)=>this.setRowAnimationCssOnBodyViewport(e,t),setColumnCount:e=>PL(this.getGui(),e),setRowCount:e=>AL(this.getGui(),e),setTopHeight:e=>r(e,this.eTop),setBottomHeight:e=>r(e,this.eBottom),setTopInvisible:e=>this.eTop.classList.toggle("ag-invisible",e),setBottomInvisible:e=>this.eBottom.classList.toggle("ag-invisible",e),setStickyTopHeight:e=>this.eStickyTop.style.height=e,setStickyTopTop:e=>this.eStickyTop.style.top=e,setStickyTopWidth:e=>this.eStickyTop.style.width=e,setStickyBottomHeight:e=>{this.eStickyBottom.style.height=e,this.eStickyBottom.classList.toggle("ag-invisible","0px"===e)},setStickyBottomBottom:e=>this.eStickyBottom.style.bottom=e,setStickyBottomWidth:e=>this.eStickyBottom.style.width=e,setColumnMovingCss:(e,t)=>this.toggleCss(e,t),updateLayoutClasses:(e,t)=>{const n=[this.eBodyViewport.classList,this.eBody.classList];for(const i of n)i.toggle(BH.AUTO_HEIGHT,t.autoHeight),i.toggle(BH.NORMAL,t.normal),i.toggle(BH.PRINT,t.print);this.toggleCss(BH.AUTO_HEIGHT,t.autoHeight),this.toggleCss(BH.NORMAL,t.normal),this.toggleCss(BH.PRINT,t.print)},setAlwaysVerticalScrollClass:(e,t)=>this.eBodyViewport.classList.toggle(Dj,t),registerBodyViewportResizeListener:e=>{const t=kN(this.beans,this.eBodyViewport,e);this.addDestroyFunc(()=>t())},setPinnedTopBottomOverflowY:e=>this.eTop.style.overflowY=this.eBottom.style.overflowY=e,setCellSelectableCss:(e,t)=>{[this.eTop,this.eBodyViewport,this.eBottom].forEach(n=>n.classList.toggle(e,t))},setBodyViewportWidth:e=>this.eBodyViewport.style.width=e,setGridRootRole:e=>gL(this.eGridRoot,e)};this.ctrl=this.createManagedBean(new Ej),this.ctrl.setComp(s,this.getGui(),this.eBodyViewport,this.eTop,this.eBottom,this.eStickyTop,this.eStickyBottom),(t&&WB(this.gos)||ZB(this.gos))&&dL(this.getGui(),"multiselectable",!0)}setRowAnimationCssOnBodyViewport(e,t){const n=this.eBodyViewport.classList;n.toggle("ag-row-animation",t),n.toggle("ag-row-no-animation",!t)}}},RU=class extends vO{constructor(){super(...arguments),this.additionalFocusableContainers=new Set}setComp(e,t,n){this.view=e,this.eGridHostDiv=t,this.eGui=n,this.eGui.setAttribute("grid-id",this.beans.context.getGridId());const{dragAndDrop:i,ctrlsSvc:o}=this.beans;null===i||void 0===i||i.registerGridDropTarget(()=>this.eGui,this),TV(this.gos,t),this.createManagedBean(new OH(this.view)),this.view.setRtlClass(this.gos.get("enableRtl")?"ag-rtl":"ag-ltr");const r=kN(this.beans,this.eGridHostDiv,this.onGridSizeChanged.bind(this));this.addDestroyFunc(()=>r()),o.register("gridCtrl",this)}isDetailGrid(){var e;const t=vV(this.getGui());return(null===t||void 0===t||null===(e=t.getAttribute("row-id"))||void 0===e?void 0:e.startsWith("detail"))||!1}getOptionalSelectors(){var e,t,n,i,o;const r=this.beans;return{paginationSelector:null===(e=r.pagination)||void 0===e?void 0:e.getPaginationSelector(),gridHeaderDropZonesSelector:null===(t=r.registry)||void 0===t?void 0:t.getSelector("AG-GRID-HEADER-DROP-ZONES"),sideBarSelector:null===(n=r.sideBar)||void 0===n?void 0:n.getSelector(),statusBarSelector:null===(i=r.registry)||void 0===i?void 0:i.getSelector("AG-STATUS-BAR"),watermarkSelector:null===(o=r.licenseManager)||void 0===o?void 0:o.getWatermarkSelector()}}onGridSizeChanged(){this.eventSvc.dispatchEvent({type:"gridSizeChanged",clientWidth:this.eGridHostDiv.clientWidth,clientHeight:this.eGridHostDiv.clientHeight})}destroyGridUi(){this.view.destroyGridUi()}getGui(){return this.eGui}setResizeCursor(e){const{view:t}=this;if(!1===e)t.setCursor(null);else{const n=1===e?"ew-resize":"ns-resize";t.setCursor(n)}}disableUserSelect(e){this.view.setUserSelect(e?"none":null)}focusNextInnerContainer(e){const t=this.getFocusableContainers(),{indexWithFocus:n,nextIndex:i}=this.getNextFocusableIndex(t,e);if(i<0||i>=t.length)return!1;if(0===i){if(n>0){const{visibleCols:e,focusSvc:t}=this.beans,n=_O(e.allCols);if(t.focusGridView({column:n,backwards:!0}))return!0}return!1}return this.focusContainer(t[i],e)}focusInnerElement(e){const t=this.gos.getCallback("focusGridInnerElement");if(t&&t({fromBottom:!!e}))return!0;const n=this.getFocusableContainers(),{focusSvc:i,visibleCols:o}=this.beans,r=o.allCols;if(e){if(n.length>1)return this.focusContainer(_O(n),e);const t=_O(r);if(i.focusGridView({column:t,backwards:e}))return!0}if(0===this.gos.get("headerHeight")||wV(this.beans)){if(i.focusGridView({column:r[0],backwards:e}))return!0;for(let t=1;t<n.length;t++)if(gV(n[t].getGui(),e))return!0;return!1}return i.focusFirstHeader()}forceFocusOutOfContainer(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.view.forceFocusOutOfContainer(e)}addFocusableContainer(e){this.additionalFocusableContainers.add(e)}removeFocusableContainer(e){this.additionalFocusableContainers.delete(e)}allowFocusForNextCoreContainer(e){var t;const n=this.view.getFocusableContainers(),{nextIndex:i,indexWithFocus:o}=this.getNextFocusableIndex(n,e);if(-1===o||i<0||i>=n.length)return;const r=n[i];null===(t=r.setAllowFocus)||void 0===t||t.call(r,!0),setTimeout(()=>{var e;null===(e=r.setAllowFocus)||void 0===e||e.call(r,!1)})}isFocusable(){var e;const t=this.beans;return!CV(t)||!wV(t)||!(null===(e=t.sideBar)||void 0===e||null===(e=e.comp)||void 0===e||!e.isDisplayed())}getNextFocusableIndex(e,t){const n=SB(this.beans),i=e.findIndex(e=>e.getGui().contains(n));return{indexWithFocus:i,nextIndex:i+(t?-1:1)}}focusContainer(e,t){var n,i;null===(n=e.setAllowFocus)||void 0===n||n.call(e,!0);const o=gV(e.getGui(),t,!1,!0);return null===(i=e.setAllowFocus)||void 0===i||i.call(e,!1),o}getFocusableContainers(){return[...this.view.getFocusableContainers(),...this.additionalFocusableContainers]}destroy(){this.additionalFocusableContainers.clear(),super.destroy()}},PU=class extends uU{constructor(e){super(),this.gridBody=kG,this.sideBar=kG,this.pagination=kG,this.rootWrapperBody=kG,this.eGridDiv=e}postConstruct(){const e={destroyGridUi:()=>this.destroyBean(this),setRtlClass:e=>this.addCss(e),forceFocusOutOfContainer:this.forceFocusOutOfContainer.bind(this),updateLayoutClasses:this.updateLayoutClasses.bind(this),getFocusableContainers:this.getFocusableContainers.bind(this),setUserSelect:e=>{this.getGui().style.userSelect=null!=e?e:"",this.getGui().style.webkitUserSelect=null!=e?e:""},setCursor:e=>{this.getGui().style.cursor=null!=e?e:""}},t=this.createManagedBean(new RU),n=t.getOptionalSelectors(),i=this.createTemplate(n),o=[AU,...Object.values(n).filter(e=>!!e)];this.setTemplate(i,o),t.setComp(e,this.eGridDiv,this.getGui()),this.insertGridIntoDom(),this.initialiseTabGuard({onTabKeyDown:()=>{},focusInnerElement:e=>t.focusInnerElement(e),forceFocusOutWhenTabGuardsAreEmpty:!0,isEmpty:()=>!t.isFocusable()})}insertGridIntoDom(){const e=this.getGui();this.eGridDiv.appendChild(e),this.addDestroyFunc(()=>{this.eGridDiv.removeChild(e),NN(this.gos,"Grid removed from DOM")})}updateLayoutClasses(e,t){const n=this.rootWrapperBody.classList,{AUTO_HEIGHT:i,NORMAL:o,PRINT:r}=BH,{autoHeight:s,normal:a,print:l}=t;n.toggle(i,s),n.toggle(o,a),n.toggle(r,l),this.toggleCss(i,s),this.toggleCss(o,a),this.toggleCss(r,l)}createTemplate(e){const t=e.gridHeaderDropZonesSelector?{tag:"ag-grid-header-drop-zones"}:null,n=e.sideBarSelector?{tag:"ag-side-bar",ref:"sideBar"}:null,i=e.statusBarSelector?{tag:"ag-status-bar"}:null,o=e.watermarkSelector?{tag:"ag-watermark"}:null;return{tag:"div",cls:"ag-root-wrapper",role:"presentation",children:[t,{tag:"div",ref:"rootWrapperBody",cls:"ag-root-wrapper-body",role:"presentation",children:[{tag:"ag-grid-body",ref:"gridBody"},n]},i,e.paginationSelector?{tag:"ag-pagination",ref:"pagination"}:null,o]}}getFocusableElement(){return this.rootWrapperBody}forceFocusOutOfContainer(){var e;let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];t||null===(e=this.pagination)||void 0===e||!e.isDisplayed()?super.forceFocusOutOfContainer(t):this.pagination.forceFocusOutOfContainer(t)}getFocusableContainers(){const e=[this.gridBody];return[this.sideBar,this.pagination].forEach(t=>{t&&e.push(t)}),e.filter(e=>hN(e.getGui()))}},TU=(e,t)=>{for(const n of Object.keys(t))t[n]=e;return t},_U=d(d(d(d(d(d(d(d(d(d(d(d(d(d(d(d(d(d(d(d(d(d(d(d(d(d(d(d(d(d(d(d(d(d(d(d(d(d(d(d(d(d(d(d(d(d(d(d(d({dispatchEvent:"CommunityCore"},TU("CommunityCore",{destroy:0,getGridId:0,getGridOption:0,isDestroyed:0,setGridOption:0,updateGridOptions:0,isModuleRegistered:0})),TU("GridState",{getState:0,setState:0})),TU("SharedRowSelection",{setNodesSelected:0,selectAll:0,deselectAll:0,selectAllFiltered:0,deselectAllFiltered:0,selectAllOnCurrentPage:0,deselectAllOnCurrentPage:0,getSelectedNodes:0,getSelectedRows:0})),TU("RowApi",{redrawRows:0,setRowNodeExpanded:0,getRowNode:0,addRenderedRowListener:0,getRenderedNodes:0,forEachNode:0,getFirstDisplayedRowIndex:0,getLastDisplayedRowIndex:0,getDisplayedRowAtIndex:0,getDisplayedRowCount:0})),TU("ScrollApi",{getVerticalPixelRange:0,getHorizontalPixelRange:0,ensureColumnVisible:0,ensureIndexVisible:0,ensureNodeVisible:0})),TU("KeyboardNavigation",{getFocusedCell:0,clearFocusedCell:0,setFocusedCell:0,tabToNextCell:0,tabToPreviousCell:0,setFocusedHeader:0})),TU("EventApi",{addEventListener:0,addGlobalListener:0,removeEventListener:0,removeGlobalListener:0})),TU("ValueCache",{expireValueCache:0})),TU("CellApi",{getCellValue:0})),TU("SharedMenu",{showColumnMenu:0,hidePopupMenu:0})),TU("Sort",{onSortChanged:0})),TU("PinnedRow",{getPinnedTopRowCount:0,getPinnedBottomRowCount:0,getPinnedTopRow:0,getPinnedBottomRow:0,forEachPinnedRow:0})),TU("Overlay",{showLoadingOverlay:0,showNoRowsOverlay:0,hideOverlay:0})),TU("RenderApi",{setGridAriaProperty:0,refreshCells:0,refreshHeader:0,isAnimationFrameQueueEmpty:0,flushAllAnimationFrames:0,getSizesForCurrentTheme:0,getCellRendererInstances:0})),TU("HighlightChanges",{flashCells:0})),TU("RowDrag",{addRowDropZone:0,removeRowDropZone:0,getRowDropZoneParams:0,getRowDropPositionIndicator:0,setRowDropPositionIndicator:0})),TU("ColumnApi",{getColumnDefs:0,getColumnDef:0,getDisplayNameForColumn:0,getColumn:0,getColumns:0,applyColumnState:0,getColumnState:0,resetColumnState:0,isPinning:0,isPinningLeft:0,isPinningRight:0,getDisplayedColAfter:0,getDisplayedColBefore:0,setColumnsVisible:0,setColumnsPinned:0,getAllGridColumns:0,getDisplayedLeftColumns:0,getDisplayedCenterColumns:0,getDisplayedRightColumns:0,getAllDisplayedColumns:0,getAllDisplayedVirtualColumns:0})),TU("ColumnAutoSize",{sizeColumnsToFit:0,autoSizeColumns:0,autoSizeAllColumns:0})),TU("ColumnGroup",{setColumnGroupOpened:0,getColumnGroup:0,getProvidedColumnGroup:0,getDisplayNameForColumnGroup:0,getColumnGroupState:0,setColumnGroupState:0,resetColumnGroupState:0,getLeftDisplayedColumnGroups:0,getCenterDisplayedColumnGroups:0,getRightDisplayedColumnGroups:0,getAllDisplayedColumnGroups:0})),TU("ColumnMove",{moveColumnByIndex:0,moveColumns:0})),TU("ColumnResize",{setColumnWidths:0})),TU("ColumnHover",{isColumnHovered:0})),TU("EditCore",{getCellEditorInstances:0,getEditingCells:0,stopEditing:0,startEditingCell:0,isEditing:0,validateEdit:0})),TU("BatchEdit",{startBatchEdit:0,cancelBatchEdit:0,commitBatchEdit:0,isBatchEditing:0})),TU("UndoRedoEdit",{undoCellEditing:0,redoCellEditing:0,getCurrentUndoSize:0,getCurrentRedoSize:0})),TU("FilterCore",{isAnyFilterPresent:0,onFilterChanged:0})),TU("ColumnFilter",{isColumnFilterPresent:0,getColumnFilterInstance:0,destroyFilter:0,setFilterModel:0,getFilterModel:0,getColumnFilterModel:0,setColumnFilterModel:0,showColumnFilter:0,hideColumnFilter:0,getColumnFilterHandler:0,doFilterAction:0})),TU("QuickFilter",{isQuickFilterPresent:0,getQuickFilter:0,resetQuickFilter:0})),TU("Find",{findGetActiveMatch:0,findGetTotalMatches:0,findGoTo:0,findNext:0,findPrevious:0,findGetNumMatches:0,findGetParts:0,findClearActive:0,findRefresh:0})),TU("Pagination",{paginationIsLastPageFound:0,paginationGetPageSize:0,paginationGetCurrentPage:0,paginationGetTotalPages:0,paginationGetRowCount:0,paginationGoToNextPage:0,paginationGoToPreviousPage:0,paginationGoToFirstPage:0,paginationGoToLastPage:0,paginationGoToPage:0})),TU("CsrmSsrmSharedApi",{expandAll:0,collapseAll:0,onRowHeightChanged:0})),TU("SsrmInfiniteSharedApi",{setRowCount:0,getCacheBlockState:0,isLastRowIndexKnown:0})),TU("ClientSideRowModelApi",{onGroupExpandedOrCollapsed:0,refreshClientSideRowModel:0,isRowDataEmpty:0,forEachLeafNode:0,forEachNodeAfterFilter:0,forEachNodeAfterFilterAndSort:0,resetRowHeights:0,applyTransaction:0,applyTransactionAsync:0,flushAsyncTransactions:0,getBestCostNodeSelection:0})),TU("CsvExport",{getDataAsCsv:0,exportDataAsCsv:0})),TU("InfiniteRowModel",{refreshInfiniteCache:0,purgeInfiniteCache:0,getInfiniteRowCount:0})),TU("AdvancedFilter",{getAdvancedFilterModel:0,setAdvancedFilterModel:0,showAdvancedFilterBuilder:0,hideAdvancedFilterBuilder:0})),TU("IntegratedCharts",{getChartModels:0,getChartRef:0,getChartImageDataURL:0,downloadChart:0,openChartToolPanel:0,closeChartToolPanel:0,createRangeChart:0,createPivotChart:0,createCrossFilterChart:0,updateChart:0,restoreChart:0})),TU("Clipboard",{copyToClipboard:0,cutToClipboard:0,copySelectedRowsToClipboard:0,copySelectedRangeToClipboard:0,copySelectedRangeDown:0,pasteFromClipboard:0})),TU("ExcelExport",{getDataAsExcel:0,exportDataAsExcel:0,getSheetDataForExcel:0,getMultipleSheetsAsExcel:0,exportMultipleSheetsAsExcel:0})),TU("SharedMasterDetail",{addDetailGridInfo:0,removeDetailGridInfo:0,getDetailGridInfo:0,forEachDetailGridInfo:0})),TU("ContextMenu",{showContextMenu:0})),TU("ColumnMenu",{showColumnChooser:0,hideColumnChooser:0})),TU("CellSelection",{getCellRanges:0,addCellRange:0,clearRangeSelection:0,clearCellSelection:0})),TU("SharedRowGrouping",{setRowGroupColumns:0,removeRowGroupColumns:0,addRowGroupColumns:0,getRowGroupColumns:0,moveRowGroupColumn:0})),TU("SharedAggregation",{addAggFuncs:0,clearAggFuncs:0,setColumnAggFunc:0})),TU("SharedPivot",{isPivotMode:0,getPivotResultColumn:0,setValueColumns:0,getValueColumns:0,removeValueColumns:0,addValueColumns:0,setPivotColumns:0,removePivotColumns:0,addPivotColumns:0,getPivotColumns:0,setPivotResultColumns:0,getPivotResultColumns:0})),TU("ServerSideRowModelApi",{getServerSideSelectionState:0,setServerSideSelectionState:0,applyServerSideTransaction:0,applyServerSideTransactionAsync:0,applyServerSideRowData:0,retryServerSideLoads:0,flushServerSideAsyncTransactions:0,refreshServerSide:0,getServerSideGroupLevelState:0})),TU("SideBar",{isSideBarVisible:0,setSideBarVisible:0,setSideBarPosition:0,openToolPanel:0,closeToolPanel:0,getOpenedToolPanel:0,refreshToolPanel:0,isToolPanelShowing:0,getToolPanelInstance:0,getSideBar:0})),TU("StatusBar",{getStatusPanel:0})),MU={isDestroyed:()=>!0,destroy(){},preConstruct(){},postConstruct(){},preWireBeans(){},wireBeans(){}},IU=(e,t)=>e.eventSvc.dispatchEvent(t),LU=class{};Reflect.defineProperty(LU,"name",{value:"GridApi"});function NU(e){return e.context.getGridId()}function BU(e,t){e.gos.updateGridOptions({options:t})}var OU={tag:"div",cls:"ag-drag-handle ag-row-drag",attrs:{draggable:"true"}};var GU={tag:"div",cls:"ag-drag-handle ag-row-drag",attrs:{"aria-hidden":"true"}},zU=class extends AG{constructor(e,t,n,i,o,r){super(),this.cellValueFn=e,this.rowNode=t,this.column=n,this.customGui=i,this.dragStartPixels=o,this.suppressVisibilityChange=r,this.dragSource=null}isCustomGui(){return null!=this.customGui}postConstruct(){const{beans:e,rowNode:t,column:n,gos:i}=this;if(this.customGui?this.setDragElement(this.customGui,this.dragStartPixels):(this.setTemplate(GU),this.getGui().appendChild(hW("rowDrag",e,null)),this.addDragSource()),!this.suppressVisibilityChange){const e=i.get("rowDragManaged")?new jU(this,t,n):new HU(this,t,n);this.createManagedBean(e,this.beans.context)}}setDragElement(e,t){this.setTemplateFromElement(e,void 0,void 0,!0),this.addDragSource(t)}getSelectedNodes(){var e,t;const n=this.rowNode;if(!this.gos.get("rowDragMultiRow"))return[n];const i=null!==(e=null===(t=this.beans.selectionSvc)||void 0===t?void 0:t.getSelectedNodes())&&void 0!==e?e:[];return-1!==i.indexOf(n)?i:[n]}getDragItem(){const{column:e,rowNode:t}=this;return{rowNode:t,rowNodes:this.getSelectedNodes(),columns:e?[e]:void 0,defaultTextValue:this.cellValueFn()}}getRowDragText(e){if(e){const t=e.getColDef();if(t.rowDragText)return t.rowDragText}return this.gos.get("rowDragText")}addDragSource(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:4;if(this.dragSource&&this.removeDragSource(),this.gos.get("rowDragManaged")&&this.rowNode.footer)return;const t=this.getGui();this.gos.get("enableCellTextSelection")&&(this.removeMouseDownListener(),this.mouseDownListener=this.addManagedElementListeners(t,{mousedown:e=>{null===e||void 0===e||e.preventDefault()}})[0]);const n=this.getLocaleTextFunc();this.dragSource={type:2,eElement:t,dragItemName:()=>{var e;const t=this.getDragItem(),i=(null===(e=t.rowNodes)||void 0===e?void 0:e.length)||1,o=this.getRowDragText(this.column);return o?o(t,i):1===i?this.cellValueFn():"".concat(i," ").concat(n("rowDragRows","rows"))},getDragItem:()=>this.getDragItem(),dragStartPixels:e,dragSourceDomDataKey:this.gos.getDomDataKey()},this.beans.dragAndDrop.addDragSource(this.dragSource,!0)}destroy(){this.removeDragSource(),this.removeMouseDownListener(),super.destroy()}removeDragSource(){this.dragSource&&(this.beans.dragAndDrop.removeDragSource(this.dragSource),this.dragSource=null)}removeMouseDownListener(){this.mouseDownListener&&(this.mouseDownListener(),this.mouseDownListener=void 0)}},VU=class extends vO{constructor(e,t,n){super(),this.parent=e,this.rowNode=t,this.column=n}setDisplayedOrVisible(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n={skipAriaHidden:!0};if(e)this.parent.setDisplayed(!1,n);else{let e=!t,i=!1;const{column:o,rowNode:r,parent:s}=this;if(o){const n=o.getColDef().rowDrag;i="function"===typeof n,e=(t?!!n:o.isRowDrag(r))||s.isCustomGui()}i?(s.setDisplayed(!0,n),s.setVisible(e&&!t,n)):(s.setDisplayed(e,n),s.setVisible(!t,n))}}},HU=class extends VU{postConstruct(){this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this));const e=this.workOutVisibility.bind(this);this.addManagedListeners(this.rowNode,{dataChanged:e,cellChanged:e}),this.addManagedListeners(this.beans.eventSvc,{newColumnsLoaded:e}),this.workOutVisibility()}onSuppressRowDrag(){this.workOutVisibility()}workOutVisibility(){const e=this.gos.get("suppressRowDrag");this.setDisplayedOrVisible(e)}},jU=class extends VU{postConstruct(){const e=this.workOutVisibility.bind(this);this.addManagedListeners(this.beans.eventSvc,{sortChanged:e,filterChanged:e,columnRowGroupChanged:e,newColumnsLoaded:e}),this.addManagedListeners(this.rowNode,{dataChanged:e,cellChanged:e}),this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.workOutVisibility()}onSuppressRowDrag(){this.workOutVisibility()}workOutVisibility(){const{rowDragSvc:e,dragAndDrop:t,gos:n}=this.beans,i=e.rowDragFeature,o=i&&i.shouldPreventRowMove(),r=n.get("suppressRowDrag"),s=t.hasExternalDropZones(),a=o&&!s||r;this.setDisplayedOrVisible(a,this.rowNode.footer)}},WU=class{constructor(e,t){this.active=!0,this.nodeIdsToColumns={},this.mapToItems={},this.keepingColumns=e,this.pathRoot={rowNode:t,children:null},this.mapToItems[t.id]=this.pathRoot}depthFirstSearchChangedPath(e,t){const{rowNode:n,children:i}=e;if(i)for(let o=0;o<i.length;++o)this.depthFirstSearchChangedPath(i[o],t);t(n)}depthFirstSearchEverything(e,t,n){const i=e.childrenAfterGroup;if(i)for(let o=0,r=i.length;o<r;++o){const e=i[o];e.childrenAfterGroup?this.depthFirstSearchEverything(e,t,n):n&&t(e)}t(e)}forEachChangedNodeDepthFirst(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.active&&!n?this.depthFirstSearchChangedPath(this.pathRoot,e):this.depthFirstSearchEverything(this.pathRoot.rowNode,e,t)}executeFromRootNode(e){e(this.pathRoot.rowNode)}createPathItems(e){let t=e,n=0;for(;!this.mapToItems[t.id];){const e={rowNode:t,children:null};this.mapToItems[t.id]=e,n++,t=t.parent}return n}populateColumnsMap(e,t){if(!this.keepingColumns||!t)return;let n=e;for(;n;)this.nodeIdsToColumns[n.id]||(this.nodeIdsToColumns[n.id]={}),t.forEach(e=>this.nodeIdsToColumns[n.id][e.getId()]=!0),n=n.parent}linkPathItems(e,t){let n=e;for(let i=0;i<t;i++){const e=this.mapToItems[n.id],t=this.mapToItems[n.parent.id];t.children||(t.children=[]),t.children.push(e),n=n.parent}}addParentNode(e,t){if(!e||e.isRowPinned())return;const n=this.createPathItems(e);this.linkPathItems(e,n),this.populateColumnsMap(e,t)}canSkip(e){return this.active&&!this.mapToItems[e.id]}getValueColumnsForNode(e,t){if(!this.keepingColumns)return t;const n=this.nodeIdsToColumns[e.id];return t.filter(e=>n[e.getId()])}getNotValueColumnsForNode(e,t){if(!this.keepingColumns)return null;const n=this.nodeIdsToColumns[e.id];return t.filter(e=>!n[e.getId()])}},UU=class extends vO{constructor(e){super(),this.eContainer=null,this.lastDraggingEvent=null,this.autoScrollService=null,this.makeGroupThrottleTimer=null,this.makeGroupThrottleTarget=null,this.makeGroupThrottled=!1,this.makeGroupThrottleCallback=()=>{this.makeGroupThrottleTimer=null;const e=this.lastDraggingEvent;e&&(this.makeGroupThrottled=!0,this.doManagedDrag(e,!1),this.makeGroupExpanded(this.makeGroupThrottleTarget))},this.eContainer=e}postConstruct(){const{rowModel:e,gos:t,ctrlsSvc:n}=this.beans;uB(t)&&(this.clientSideRowModel=e),n.whenReady(this,e=>{const t=e.gridBodyCtrl;let n=0;const i=()=>t.scrollFeature.getVScrollPosition().top;this.autoScrollService=new hU({scrollContainer:t.eBodyViewport,scrollAxis:"y",getVerticalPosition:i,setVerticalPosition:e=>t.scrollFeature.setVerticalScrollPosition(e),onScrollCallback:()=>{const e=i();if(n!==e){n=e;const t=this.lastDraggingEvent;t&&this.onDragging(t)}}})})}destroy(){super.destroy(),this.eContainer=null,this.lastDraggingEvent=null,this.makeGroupThrottleClear();const e=this.autoScrollService;e&&(this.autoScrollService=null,null===e||void 0===e||e.ensureCleared())}getContainer(){return this.eContainer}isInterestedIn(e){return 2===e}getIconName(){return this.gos.get("rowDragManaged")&&this.shouldPreventRowMove()?"notAllowed":"move"}shouldPreventRowMove(){var e;const{rowGroupColsSvc:t,filterManager:n,sortSvc:i}=this.beans;if((null!==(e=null===t||void 0===t?void 0:t.columns)&&void 0!==e?e:[]).length)return!0;if(null===n||void 0===n?void 0:n.isAnyFilterPresent())return!0;return!!(null===i||void 0===i?void 0:i.isSortActive())}getRowNodes(e){if(!this.isFromThisGrid(e))return e.dragItem.rowNodes||[];const t=e.dragItem.rowNode;if(this.gos.get("rowDragMultiRow")){var n,i;const e=[...null!==(n=null===(i=this.beans.selectionSvc)||void 0===i?void 0:i.getSelectedNodes())&&void 0!==n?n:[]].sort((e,t)=>null==e.rowIndex||null==t.rowIndex?0:this.getRowIndexNumber(e)-this.getRowIndexNumber(t));if(-1!==e.indexOf(t))return e}return[t]}onDragEnter(e){e.dragItem.rowNodes=this.getRowNodes(e),this.dispatchGridEvent("rowDragEnter",e),this.getRowNodes(e).forEach(e=>{this.setRowNodeDragging(e,!0)}),this.onEnterOrDragging(e)}onDragging(e){this.onEnterOrDragging(e)}isFromThisGrid(e){const{dragSourceDomDataKey:t}=e.dragSource;return t===this.gos.getDomDataKey()}onEnterOrDragging(e){this.autoScrollService&&(this.dispatchGridEvent("rowDragMove",e),this.lastDraggingEvent=e,this.gos.get("rowDragManaged")&&this.doManagedDrag(e,!0),this.autoScrollService.check(e.event))}doManagedDrag(e,t){const{dragAndDrop:n,gos:i}=this.beans,o=this.isFromThisGrid(e);if(!i.get("rowDragManaged")||!this.shouldPreventRowMove())if(i.get("suppressMoveWhenRowDragging")||!o){if(n.isDropZoneWithinThisGrid(e)){const n=this.managedRowsDrop(e,t),i=null===n||void 0===n?void 0:n.target,o=this.beans.rowDropHighlightSvc;i&&n.rows.length?o.set(i,n.position):o.clear()}}else{const n=this.managedRowsDrop(e,t);n&&this.dropRows(n)}}getRowIndexNumber(e){const t=e.getRowIndexString();return parseInt(_O(t.split("-")),10)}managedRowsDrop(e,t){var n,i,o,r;const{rowNode:s,rowNodes:a}=e.dragItem,l=(null===a||void 0===a?void 0:a.length)&&(null!==s&&void 0!==s?s:a[0]);if(!l)return this.makeGroupThrottleClear(),null;const{beans:u,gos:c,clientSideRowModel:d}=this,h=d.rootNode,p=LV(u,e).y;let g=d.getRowIndexAtPixel(p),m=null!==(n=d.getRow(g))&&void 0!==n?n:null;const v=l!==m;let f=m?(p-m.rowTop-m.rowHeight/2)/m.rowHeight||0:1;const w=this.isFromThisGrid(e),C="group"!==oO(c)&&w;let b=null;if(C&&null!==(i=m)&&void 0!==i&&i.footer){var y,S;b=null!==(y=m.sibling)&&void 0!==y?y:h;const e=null!==(S=qU(d,-1,m))&&void 0!==S?S:qU(d,1,m);f=e&&e.rowIndex>m.rowIndex?-.5:.5,m=null!==e&&void 0!==e?e:null}let x=f<0,D=!1;if(w&&m){if(v){if(D=a.indexOf(m)>=0,D){const e=KU(d,g<l.rowIndex,a);(null===e||void 0===e?void 0:e.parent)===m.parent&&(m=e,g=m.rowIndex)}}else{if(Math.abs(f)<=.5)return this.makeGroupThrottleClear(),null;D=!0}(D||!C&&1===Math.abs(g-l.rowIndex))&&(x=g<l.rowIndex)}const E=this.makeGroupThrottleTarget;var F,k;(null!==E&&E!==m&&this.makeGroupThrottleClear(),null!==(o=m)&&void 0!==o&&o.expanded&&null!==(r=m.childrenAfterSort)&&void 0!==r&&r.length&&(this.makeGroupThrottled=!0,this.makeGroupThrottleTarget=m),null===b&&C)&&(!m||f>=.5&&m.rowIndex===u.pageBounds.getLastRow()?b=h:this.targetShouldBeParent(m,f,D,a)&&(this.makeGroupThrottled&&(b=m),!t||null!==b&&m.expanded||(this.makeGroupThrottleTarget=m,this.makeGroupThrottleStart())),null!==b&&void 0!==b||(b=null!==(F=null===(k=m)||void 0===k?void 0:k.parent)&&void 0!==F?F:h));let A=!1;if(null!==b){if(b===m&&b!==h){A=!0;const e=b.expanded?qU(d,1,m):null;(null===e||void 0===e?void 0:e.parent)===b&&(m=e,A=!1,x=!0)}if(m&&!A){let e=m;for(;e&&e!==h&&e!==b;)m=e,e=e.parent}ZU(a,b)&&(b=null)}if(!b&&D&&(C||l===m))return null;const R=A?"inside":x?"above":"below",P={api:this.beans.gridApi,context:this.beans.gridOptions.context,draggingEvent:e,sameGrid:w,position:R,source:l,target:m,newParent:b,rows:a};let T=!1;const _=c.get("isRowValidDropPosition");if(_){const e=_(P);if(e){if("object"===typeof e){var M;if(void 0!==e.rows)P.rows=null!==(M=e.rows)&&void 0!==M?M:TO;void 0!==e.newParent&&(P.newParent=e.newParent),void 0!==e.target&&(P.target=e.target),e.position&&(T=!0,P.position=e.position)}}else P.rows=TO}return P.newParent&&P.rows.length||T||(P.position=x?"above":"below"),P}makeGroupThrottleStart(){null===this.makeGroupThrottleTimer&&(this.makeGroupThrottleTimer=window.setTimeout(this.makeGroupThrottleCallback,this.gos.get("rowDragInsertDelay")))}makeGroupExpanded(e){var t,n;e&&!e.expanded&&null!==(t=e.childrenAfterSort)&&void 0!==t&&t.length&&e.isExpandable()&&e.setExpanded(!0,null===(n=this.lastDraggingEvent)||void 0===n?void 0:n.event,!0)}makeGroupThrottleClear(){this.makeGroupThrottled=!1,this.makeGroupThrottleTarget=null;const e=this.makeGroupThrottleTimer;null!==e&&(this.makeGroupThrottleTimer=null,clearTimeout(e))}targetShouldBeParent(e,t,n,i){const o=null===e||void 0===e?void 0:e.rowIndex;if(n||null===o)return!1;if(t<-.25)return!1;if(t<.25)return!0;let r,s=o+1;const a=this.clientSideRowModel;do{r=a.getRow(s++)}while(r&&r.footer);const l=e.childrenAfterGroup;if(r&&r.parent===e&&null!==l&&void 0!==l&&l.length){const e=new Set(i);for(const t of l)if(null!==t.rowIndex&&!e.has(t))return!0}return!1}addRowDropZone(e){if(!e.getContainer())return void iB(55);const t=this.beans.dragAndDrop;if(t.findExternalZone(e))return void iB(56);let n={getContainer:e.getContainer};e.fromGrid?n=e:(e.onDragEnter&&(n.onDragEnter=t=>{e.onDragEnter(this.draggingToRowDragEvent("rowDragEnter",t))}),e.onDragLeave&&(n.onDragLeave=t=>{e.onDragLeave(this.draggingToRowDragEvent("rowDragLeave",t))}),e.onDragging&&(n.onDragging=t=>{e.onDragging(this.draggingToRowDragEvent("rowDragMove",t))}),e.onDragStop&&(n.onDragStop=t=>{e.onDragStop(this.draggingToRowDragEvent("rowDragEnd",t))}),e.onDragCancel&&(n.onDragCancel=t=>{e.onDragCancel(this.draggingToRowDragEvent("rowDragCancel",t))}));const i=d({isInterestedIn:e=>2===e,getIconName:()=>"move",external:!0},n);t.addDropTarget(i),this.addDestroyFunc(()=>t.removeDropTarget(i))}getRowDropZone(e){const t=this.getContainer.bind(this),n=this.onDragEnter.bind(this),i=this.onDragLeave.bind(this),o=this.onDragging.bind(this),r=this.onDragStop.bind(this),s=this.onDragCancel.bind(this);let a;return a=e?{getContainer:t,onDragEnter:e.onDragEnter?t=>{n(t),e.onDragEnter(this.draggingToRowDragEvent("rowDragEnter",t))}:n,onDragLeave:e.onDragLeave?t=>{i(t),e.onDragLeave(this.draggingToRowDragEvent("rowDragLeave",t))}:i,onDragging:e.onDragging?t=>{o(t),e.onDragging(this.draggingToRowDragEvent("rowDragMove",t))}:o,onDragStop:e.onDragStop?t=>{r(t),e.onDragStop(this.draggingToRowDragEvent("rowDragEnd",t))}:r,onDragCancel:e.onDragCancel?t=>{s(t),e.onDragCancel(this.draggingToRowDragEvent("rowDragCancel",t))}:s,fromGrid:!0}:{getContainer:t,onDragEnter:n,onDragLeave:i,onDragging:o,onDragStop:r,onDragCancel:s,fromGrid:!0},a}draggingToRowDragEvent(e,t){const n=this.beans,{pageBounds:i,rowModel:o,gos:r}=n,s=LV(this.beans,t).y;let a,l=-1;s>i.getCurrentPagePixelRange().pageLastPixel||(l=o.getRowIndexAtPixel(s),a=o.getRow(l));return iO(r,{type:e,event:t.event,node:t.dragItem.rowNode,nodes:t.dragItem.rowNodes,overIndex:l,overNode:a,y:s,vDirection:t.vDirection})}dispatchGridEvent(e,t){const n=this.draggingToRowDragEvent(e,t);this.eventSvc.dispatchEvent(n)}onDragLeave(e){this.dispatchGridEvent("rowDragLeave",e),this.stopDragging(e),this.gos.get("rowDragManaged")&&this.beans.rowDropHighlightSvc.clear(),this.makeGroupThrottleClear()}onDragStop(e){this.dispatchGridEvent("rowDragEnd",e),this.stopDragging(e);const{dragAndDrop:t,gos:n}=this.beans;if(n.get("rowDragManaged")&&(n.get("suppressMoveWhenRowDragging")||!this.isFromThisGrid(e))&&t.isDropZoneWithinThisGrid(e)){const t=this.managedRowsDrop(e,!1);t&&this.dropRows(t),this.beans.rowDropHighlightSvc.clear()}this.makeGroupThrottleClear()}onDragCancel(e){this.dispatchGridEvent("rowDragCancel",e),this.stopDragging(e);const{dragAndDrop:t,gos:n}=this.beans;n.get("rowDragManaged")&&(n.get("suppressMoveWhenRowDragging")||!this.isFromThisGrid(e))&&t.isDropZoneWithinThisGrid(e)&&this.beans.rowDropHighlightSvc.clear(),this.makeGroupThrottleClear()}stopDragging(e){var t;null===(t=this.autoScrollService)||void 0===t||t.ensureCleared(),this.getRowNodes(e).forEach(e=>{this.setRowNodeDragging(e,!1)})}setRowNodeDragging(e,t){e.dragging!==t&&(e.dragging=t,e.dispatchRowEvent("draggingChanged"))}dropRows(e){return e.sameGrid?this.moveRows(e):this.addRows(e)}addRows(e){let{position:t,target:n,rows:i}=e;const o=LB(this.gos),r=this.clientSideRowModel,s=i.filter(e=>{var t;let{data:n,rowPinned:i}=e;return!r.getRowNode(null!==(t=null===o||void 0===o?void 0:o({data:n,level:0,rowPinned:i}))&&void 0!==t?t:n.id)}).map(e=>{let{data:t}=e;return t});if(0===s.length)return!1;const a=n?$U(n)+("above"===t?0:1):void 0;return r.updateRowData({add:s,addIndex:a}),!0}refreshModelAfterDrop(){this.clientSideRowModel.refreshModel({step:"group",keepRenderedRows:!0,animate:!this.gos.get("suppressAnimationFrame"),changedPath:new WU(!1,this.clientSideRowModel.rootNode),rowNodesOrderChanged:!0})}moveRows(e){let{position:t,target:n,rows:i,newParent:o}=e,r=!1;const s=this.clientSideRowModel,a=new Set;for(const d of i){if(d.footer||null===d.rowTop&&d!==s.getRowNode(d.id))continue;if(o&&d.parent!==o){if(YU(d,o))continue;d.treeParent=o,r=!0}const e=XU(d);e&&a.add(e)}if(!r&&0===a.size)return!1;const l=this.beans.focusSvc,u=l.getFocusedCell(),c=u&&_z(this.beans,u);return a.size&&this.reorderLeafChildren(a,...this.getMoveRowsBounds(a,n,"above"===t))&&(r=!0),!!r&&(this.refreshModelAfterDrop(),c?c.focusCell():l.clearFocusedCell(),!0)}getMoveRowsBounds(e,t,n){var i,o;const r=null!==(i=null===(o=this.clientSideRowModel.rootNode)||void 0===o?void 0:o.allLeafChildren.length)&&void 0!==i?i:0;let s=$U(t);s<0||s>=r?s=r:n||++s;let a=s,l=Math.min(s,r-1);for(const u of e){const e=u.sourceRowIndex;e<a&&(a=e),e>l&&(l=e)}return[a,s,l]}reorderLeafChildren(e,t,n,i){var o;let r=!1;const s=null===(o=this.clientSideRowModel.rootNode)||void 0===o?void 0:o.allLeafChildren;if(!e.size||!s)return!1;let a=t;for(let u=t;u<n;++u){const t=s[u];e.has(t)||(t.sourceRowIndex!==a&&(t.sourceRowIndex=a,s[a]=t,r=!0),++a)}let l=i;for(let u=i;u>=n;--u){const t=s[u];e.has(t)||(t.sourceRowIndex!==l&&(t.sourceRowIndex=l,s[l]=t,r=!0),--l)}for(const u of e)u.sourceRowIndex!==a&&(u.sourceRowIndex=a,s[a]=u,r=!0),++a;return r}},KU=(e,t,n)=>t?qU(e,-1,n[0]):qU(e,1,_O(n)),qU=(e,t,n)=>{if(n){const i=e.getRowCount();let o=n.rowIndex+t;for(;o>=0&&o<i;){const n=e.getRow(o);if(!n||!n.footer)return n;o+=t}}},YU=(e,t)=>{let n=t;for(;n;){if(n===e)return!0;n=n.parent}return!1},ZU=(e,t)=>{for(let n=0,i=e.length;n<i;++n)if(e[n].parent!==t)return!1;return!0},$U=e=>{const t=XU(e);return void 0!==t?t.sourceRowIndex:-1},XU=e=>{for(;e;){if(e.sourceRowIndex>=0)return e;const t=e.childrenAfterGroup;if(null===t||void 0===t||!t.length)return;e=t[0]}},QU={moduleName:"Drag",version:KN,beans:[class extends vO{constructor(){super(...arguments),this.beanName="dragSvc",this.dragEndFunctions=[],this.dragSources=[]}destroy(){const{dragSources:e}=this;e.forEach(this.removeListener.bind(this)),e.length=0,super.destroy()}removeListener(e){const t=e.dragSource.eElement,n=e.mouseDownListener;if(t.removeEventListener("mousedown",n),e.touchEnabled){const n=e.touchStartListener;t.removeEventListener("touchstart",n,{passive:!0})}}removeDragSource(e){const{dragSources:t}=this,n=t.find(t=>t.dragSource===e);n&&(this.removeListener(n),LO(t,n))}addDragSource(e){const t=this.onMouseDown.bind(this,e),{eElement:n,includeTouch:i,stopPropagationForTouch:o}=e;n.addEventListener("mousedown",t);let r=null;const s=this.gos.get("suppressTouch");i&&!s&&(r=t=>{$L(t.target)||(o&&t.stopPropagation(),this.onTouchStart(e,t))},n.addEventListener("touchstart",r,{passive:!1})),this.dragSources.push({dragSource:e,mouseDownListener:t,touchStartListener:r,touchEnabled:!!i})}onTouchStart(e,t){this.currentDragParams=e,this.dragging=!1;const n=t.touches[0];this.touchLastTime=n,this.touchStart=n;const i=t=>this.onTouchUp(t,e.eElement),o=t.target,r=[{target:yB(this.beans),type:"touchmove",listener:e=>{e.cancelable&&e.preventDefault()},options:{passive:!1}},{target:o,type:"touchmove",listener:t=>this.onTouchMove(t,e.eElement),options:{passive:!0}},{target:o,type:"touchend",listener:i,options:{passive:!0}},{target:o,type:"touchcancel",listener:i,options:{passive:!0}}];this.addTemporaryEvents(r),0===e.dragStartPixels&&this.onCommonMove(n,this.touchStart,e.eElement)}onMouseDown(e,t){const n=t;if(e.skipMouseEvent&&e.skipMouseEvent(t))return;if(n._alreadyProcessedByDragService)return;if(n._alreadyProcessedByDragService=!0,0!==t.button)return;this.shouldPreventMouseEvent(t)&&t.preventDefault(),this.currentDragParams=e,this.dragging=!1,this.mouseStartEvent=t,this.startTarget=t.target;const i=yB(this.beans),o=[{target:i,type:"mousemove",listener:t=>this.onMouseMove(t,e.eElement)},{target:i,type:"mouseup",listener:t=>this.onMouseUp(t,e.eElement)},{target:i,type:"contextmenu",listener:e=>e.preventDefault()},{target:i,type:"keydown",listener:t=>{t.key===sV.ESCAPE&&this.cancelDrag(e.eElement)}}];this.addTemporaryEvents(o),0===e.dragStartPixels&&this.onMouseMove(t,e.eElement)}addTemporaryEvents(e){e.forEach(e=>{const{target:t,type:n,listener:i,options:o}=e;t.addEventListener(n,i,o)}),this.dragEndFunctions.push(()=>{e.forEach(e=>{const{target:t,type:n,listener:i,options:o}=e;t.removeEventListener(n,i,o)})})}isEventNearStartEvent(e,t){const{dragStartPixels:n}=this.currentDragParams;return SV(e,t,UI(n)?n:4)}getFirstActiveTouch(e){for(let t=0;t<e.length;t++)if(e[t].identifier===this.touchStart.identifier)return e[t];return null}onCommonMove(e,t,n){var i;if(!this.dragging){if(this.isEventNearStartEvent(e,t))return;if(this.dragging=!0,this.eventSvc.dispatchEvent({type:"dragStarted",target:n}),this.currentDragParams.onDragStart(t),!this.currentDragParams)return void(this.dragging=!1);this.currentDragParams.onDragging(t)}null===(i=this.currentDragParams)||void 0===i||i.onDragging(e)}onTouchMove(e,t){const n=this.getFirstActiveTouch(e.touches);n&&this.onCommonMove(n,this.touchStart,t)}onMouseMove(e,t){if(VL()){var n;null===(n=CB(this.beans).getSelection())||void 0===n||n.removeAllRanges()}this.shouldPreventMouseEvent(e)&&e.preventDefault(),this.onCommonMove(e,this.mouseStartEvent,t)}shouldPreventMouseEvent(e){const{gos:t}=this,n=t.get("enableCellTextSelection"),i="mousemove"===e.type;return n&&i&&e.cancelable&&_V(t,e)&&!(e=>{const t=e.target,n=null===t||void 0===t?void 0:t.tagName.toLocaleLowerCase();return!(null===n||void 0===n||!n.match("^a$|textarea|input|select|button"))})(e)}onTouchUp(e,t){let n=this.getFirstActiveTouch(e.changedTouches);n||(n=this.touchLastTime),this.onUpCommon(n,t)}onMouseUp(e,t){this.onUpCommon(e,t)}onUpCommon(e,t){this.dragging&&(this.dragging=!1,this.currentDragParams.onDragStop(e),this.eventSvc.dispatchEvent({type:"dragStopped",target:t})),this.resetDragProperties()}cancelDrag(e){var t,n;this.eventSvc.dispatchEvent({type:"dragCancelled",target:e}),null===(t=this.currentDragParams)||void 0===t||null===(n=t.onDragCancel)||void 0===n||n.call(t),this.resetDragProperties()}resetDragProperties(){this.mouseStartEvent=null,this.startTarget=null,this.touchStart=null,this.touchLastTime=null,this.currentDragParams=null;const{dragEndFunctions:e}=this;e.forEach(e=>e()),e.length=0}}]},JU={moduleName:"DragAndDrop",version:KN,dynamicBeans:{dndSourceComp:class extends AG{constructor(e,t,n){super(OU),this.rowNode=e,this.column=t,this.eCell=n}postConstruct(){this.getGui().appendChild(hW("rowDrag",this.beans,null)),this.addGuiEventListener("mousedown",e=>{e.stopPropagation()}),this.addDragSource(),this.checkVisibility()}addDragSource(){this.addGuiEventListener("dragstart",this.onDragStart.bind(this))}onDragStart(e){const{rowNode:t,column:n,eCell:i,gos:o}=this,r=n.getColDef().dndSourceOnRowDrag,s=e.dataTransfer;if(s.setDragImage(i,0,0),r){r(iO(o,{rowNode:t,dragEvent:e}))}else try{const e=JSON.stringify(t.data);s.setData("application/json",e),s.setData("text/plain",e)}catch(nce){}}checkVisibility(){const e=this.column.isDndSource(this.rowNode);this.setDisplayed(e)}}},icons:{rowDrag:"grip"}},eK={moduleName:"SharedDragAndDrop",version:KN,beans:[class extends vO{constructor(){super(...arguments),this.beanName="dragAndDrop",this.dragSourceAndParamsList=[],this.dropTargets=[]}wireBeans(e){this.ctrlsSvc=e.ctrlsSvc,this.dragSvc=e.dragSvc,this.environment=e.environment,this.userCompFactory=e.userCompFactory}addDragSource(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n={eElement:e.eElement,dragStartPixels:e.dragStartPixels,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this),onDragging:this.onDragging.bind(this),onDragCancel:this.onDragCancel.bind(this),includeTouch:t};this.dragSourceAndParamsList.push({params:n,dragSource:e}),this.dragSvc.addDragSource(n)}getDragAndDropImageComponent(){const{dragAndDropImageComp:e}=this;return e&&e.comp?e.comp:null}removeDragSource(e){const{dragSourceAndParamsList:t,dragSvc:n}=this,i=t.find(t=>t.dragSource===e);i&&(n.removeDragSource(i.params),LO(t,i))}destroy(){const{dragSourceAndParamsList:e,dragSvc:t,dropTargets:n}=this;e.forEach(e=>t.removeDragSource(e.params)),e.length=0,n.length=0,this.clearDragAndDropProperties(),super.destroy()}nudge(){this.dragging&&this.onDragging(this.eventLastTime,!0)}onDragStart(e,t){var n;this.dragging=!0,this.dragSource=e,this.eventLastTime=t,this.dragItem=e.getDragItem(),null===(n=e.onDragStarted)||void 0===n||n.call(e),this.createDragAndDropImageComponent()}onDragStop(e){var t,n;null===(t=this.dragSource)||void 0===t||null===(n=t.onDragStopped)||void 0===n||n.call(t);const{lastDropTarget:i}=this;if(null!==i&&void 0!==i&&i.onDragStop){const t=this.createDropTargetEvent(i,e,null,null,!1);i.onDragStop(t)}this.clearDragAndDropProperties()}onDragCancel(){var e;const{dragSource:t,lastDropTarget:n}=this;null===t||void 0===t||null===(e=t.onDragCancelled)||void 0===e||e.call(t),null!==n&&void 0!==n&&n.onDragCancel&&n.onDragCancel(this.createDropTargetEvent(n,this.eventLastTime,null,null,!1)),this.clearDragAndDropProperties()}clearDragAndDropProperties(){this.eventLastTime=null,this.dragging=!1,this.lastDropTarget=void 0,this.dragItem=null,this.dragSource=null,this.removeDragAndDropImageComponent()}onDragging(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=this.getHorizontalDirection(e),i=this.getVerticalDirection(e);this.eventLastTime=e,this.positionDragAndDropImageComp(e);const o=this.dropTargets.filter(t=>this.isMouseOnDropTarget(e,t)),r=this.findCurrentDropTarget(e,o),{lastDropTarget:s,dragSource:a,dragAndDropImageComp:l,dragItem:u}=this;if(r!==s){var c,d;if(this.leaveLastTargetIfExists(e,n,i,t),null!==s&&null===r)null===a||void 0===a||null===(c=a.onGridExit)||void 0===c||c.call(a,u);if(null===s&&null!==r)null===a||void 0===a||null===(d=a.onGridEnter)||void 0===d||d.call(a,u);if(this.enterDragTargetIfExists(r,e,n,i,t),r&&l){const{comp:e,promise:t}=l;e?e.setIcon(r.getIconName?r.getIconName():null,!1):t.then(e=>{e&&e.setIcon(r.getIconName?r.getIconName():null,!1)})}this.lastDropTarget=r}else if(r&&r.onDragging){const o=this.createDropTargetEvent(r,e,n,i,t);r.onDragging(o)}}getAllContainersFromDropTarget(e){const t=e.getSecondaryContainers?e.getSecondaryContainers():null,n=[[e.getContainer()]];return t?n.concat(t):n}isMouseOnDropTarget(e,t){const n=this.getAllContainersFromDropTarget(t);let i=!1;const o=(e,t)=>{for(const n of t){const{width:t,height:i,left:o,right:r,top:s,bottom:a}=n.getBoundingClientRect();if(0===t||0===i)return!1;const l=e.clientX>=o&&e.clientX<r,u=e.clientY>=s&&e.clientY<a;if(!l||!u)return!1}return!0};for(const a of n)if(o(e,a)){i=!0;break}const{eElement:r,type:s}=this.dragSource;return!(t.targetContainsSource&&!t.getContainer().contains(r))&&(i&&t.isInterestedIn(s,r))}findCurrentDropTarget(e,t){const n=t.length;if(0===n)return null;if(1===n)return t[0];const i=yB(this.beans).elementsFromPoint(e.clientX,e.clientY);for(const o of i)for(const e of t){if(-1!==this.getAllContainersFromDropTarget(e).flatMap(e=>e).indexOf(o))return e}return null}enterDragTargetIfExists(e,t,n,i,o){if(e&&e.onDragEnter){const r=this.createDropTargetEvent(e,t,n,i,o);e.onDragEnter(r)}}leaveLastTargetIfExists(e,t,n,i){const{lastDropTarget:o}=this;if(!o)return;if(o.onDragLeave){const r=this.createDropTargetEvent(o,e,t,n,i);o.onDragLeave(r)}const r=this.getDragAndDropImageComponent();r&&r.setIcon(null,!1)}addDropTarget(e){this.dropTargets.push(e)}removeDropTarget(e){this.dropTargets=this.dropTargets.filter(t=>t.getContainer()!==e.getContainer())}hasExternalDropZones(){return this.dropTargets.some(e=>e.external)}findExternalZone(e){return this.dropTargets.filter(e=>e.external).find(t=>t.getContainer()===e.getContainer())||null}isDropZoneWithinThisGrid(e){const t=this.ctrlsSvc.getGridBodyCtrl().eGridBody,{dropZoneTarget:n}=e;return t.contains(n)}getHorizontalDirection(e){var t;const n=null===(t=this.eventLastTime)||void 0===t?void 0:t.clientX,i=e.clientX;return n===i?null:n>i?"left":"right"}getVerticalDirection(e){var t;const n=null===(t=this.eventLastTime)||void 0===t?void 0:t.clientY,i=e.clientY;return n===i?null:n>i?"up":"down"}createDropTargetEvent(e,t,n,i,o){const r=e.getContainer(),s=r.getBoundingClientRect(),{dragItem:a,dragSource:l,gos:u}=this;return iO(u,{event:t,x:t.clientX-s.left,y:t.clientY-s.top,vDirection:i,hDirection:n,dragSource:l,fromNudge:o,dragItem:a,dropZoneTarget:r})}positionDragAndDropImageComp(e){const t=this.getDragAndDropImageComponent();t&&DB(t.getGui(),e,this.beans)}removeDragAndDropImageComponent(){const{dragAndDropImageComp:e}=this;if(e){const{comp:n}=e;if(n){var t;const e=n.getGui();null===(t=this.dragAndDropImageParent)||void 0===t||t.removeChild(e),this.destroyBean(n)}}this.dragAndDropImageComp=null}createDragAndDropImageComponent(){const{dragSource:e,gos:t,userCompFactory:n}=this;if(!e)return;const i=function(e,t){return e.getCompDetailsFromGridOptions(MG,"agDragAndDropImage",t,!0)}(n,iO(t,{dragSource:e}));if(!i)return;const o=i.newAgStackInstance();this.dragAndDropImageComp={promise:o},o.then(e=>{e&&this.isAlive()&&(this.processDragAndDropImageComponent(e),this.dragAndDropImageComp.comp=e)})}processDragAndDropImageComponent(e){const{dragSource:t,environment:n}=this;if(!t)return;const i=e.getGui();i.style.setProperty("position","absolute"),i.style.setProperty("z-index","9999"),TV(this.gos,i),n.applyThemeClasses(i),e.setIcon(null,!1);let{dragItemName:o}=t;"function"===typeof o&&(o=o()),e.setLabel(o||""),i.style.top="20px",i.style.left="20px";const r=xB(this.beans);this.dragAndDropImageParent=r,r?r.appendChild(i):iB(54)}registerGridDropTarget(e,t){const n={getContainer:e,isInterestedIn:e=>1===e||0===e,getIconName:()=>"notAllowed"};this.addDropTarget(n),t.addDestroyFunc(()=>this.removeDropTarget(n))}}],dependsOn:[QU],userComponents:{agDragAndDropImage:class extends AG{constructor(){super(),this.dragSource=null,this.eIcon=kG,this.eLabel=kG,this.eGhost=kG,this.registerCSS(".ag-dnd-ghost{align-items:center;background-color:var(--ag-drag-and-drop-image-background-color);border:var(--ag-drag-and-drop-image-border);border-radius:var(--ag-border-radius);box-shadow:var(--ag-drag-and-drop-image-shadow);color:var(--ag-text-color);cursor:move;display:flex;font-weight:500;gap:var(--ag-cell-widget-spacing);height:var(--ag-header-height);overflow:hidden;padding-left:var(--ag-cell-horizontal-padding);padding-right:var(--ag-cell-horizontal-padding);text-overflow:ellipsis;transform:translateY(calc(var(--ag-spacing)*2));white-space:nowrap}")}postConstruct(){const e=e=>dW(e,this.beans,null);this.dropIconMap={pinned:e("columnMovePin"),hide:e("columnMoveHide"),move:e("columnMoveMove"),left:e("columnMoveLeft"),right:e("columnMoveRight"),group:e("columnMoveGroup"),aggregate:e("columnMoveValue"),pivot:e("columnMovePivot"),notAllowed:e("dropNotAllowed")}}init(e){this.dragSource=e.dragSource,this.setTemplate(pW),this.beans.environment.applyThemeClasses(this.eGhost)}destroy(){this.dragSource=null,super.destroy()}setIcon(e,t){const{eIcon:n,dragSource:i,dropIconMap:o,gos:r}=this;uN(n);let s=null;e||(e=null!==i&&void 0!==i&&i.getDefaultIconName?i.getDefaultIconName():"notAllowed"),s=o[e],n.classList.toggle("ag-shake-left-to-right",t),s===o.hide&&r.get("suppressDragLeaveHidesColumns")||s&&n.appendChild(s)}setLabel(e){this.eLabel.textContent=e}}},icons:{columnMovePin:"pin",columnMoveHide:"eye-slash",columnMoveMove:"arrows",columnMoveLeft:"left",columnMoveRight:"right",columnMoveGroup:"group",columnMoveValue:"aggregation",columnMovePivot:"pivot",dropNotAllowed:"not-allowed",rowDrag:"grip"}},tK={moduleName:"RowDrag",version:KN,beans:[class extends vO{constructor(){super(...arguments),this.beanName="rowDropHighlightSvc",this.uiLevel=0,this.row=null,this.position="none"}postConstruct(){this.addManagedEventListeners({modelUpdated:this.onModelUpdated.bind(this)})}onModelUpdated(){const e=this.row;e&&null!==e.rowIndex&&"none"!==this.position?this.set(e,this.position):this.clear()}destroy(){this.clear(),super.destroy()}clear(){const e=this.row;e&&(this.uiLevel=0,this.position="none",this.row=null,e.dispatchRowEvent("rowHighlightChanged"))}set(e,t){const n=e!==this.row,i=e.uiLevel,o=t!==this.position,r=i!==this.uiLevel;(n||o||r)&&(n&&this.clear(),this.uiLevel=i,this.position=t,this.row=e,e.dispatchRowEvent("rowHighlightChanged"))}},class extends vO{constructor(){super(...arguments),this.beanName="rowDragSvc"}setupRowDrag(e,t){const n=t.createManagedBean(new UU(e)),i=this.beans.dragAndDrop;i.addDropTarget(n),t.addDestroyFunc(()=>i.removeDropTarget(n)),this.rowDragFeature=n}createRowDragComp(e,t,n,i,o,r){return new zU(e,t,n,i,o,r)}createRowDragCompForRow(e,t){if(WB(this.gos))return;const n=this.getLocaleTextFunc();return this.createRowDragComp(()=>"1 ".concat(n("rowDragRow","row")),e,void 0,t,void 0,!0)}createRowDragCompForCell(e,t,n,i,o,r){const s=this.gos;if(s.get("rowDragManaged")&&(!uB(s)||s.get("pagination")))return;return this.createRowDragComp(n,e,t,i,o,r)}}],apiFunctions:{addRowDropZone:function(e,t){var n;null===(n=e.rowDragSvc)||void 0===n||null===(n=n.rowDragFeature)||void 0===n||n.addRowDropZone(t)},removeRowDropZone:function(e,t){var n;const i=null===(n=e.dragAndDrop)||void 0===n?void 0:n.findExternalZone(t);var o;i&&(null===(o=e.dragAndDrop)||void 0===o||o.removeDropTarget(i))},getRowDropZoneParams:function(e,t){var n;return null===(n=e.rowDragSvc)||void 0===n||null===(n=n.rowDragFeature)||void 0===n?void 0:n.getRowDropZone(t)},getRowDropPositionIndicator:function(e){const t=e.rowDropHighlightSvc;return t?{row:t.row,dropIndicatorPosition:t.position}:{row:null,dropIndicatorPosition:"none"}},setRowDropPositionIndicator:function(e,t){const n=e.rowDropHighlightSvc;if(!n)return;const i=null===t||void 0===t?void 0:t.row;let o=null===t||void 0===t?void 0:t.dropIndicatorPosition;"above"!==o&&"below"!==o&&"inside"!==o&&(o="none");const r=null===i||void 0===i?void 0:i.rowIndex;null===r||void 0===r||"none"===o?n.clear():n.set(i,o)}},dependsOn:[eK]},nK={moduleName:"HorizontalResize",version:KN,beans:[class extends vO{constructor(){super(...arguments),this.beanName="horizontalResizeSvc"}addResizeBar(e){const t={dragStartPixels:e.dragStartPixels||0,eElement:e.eResizeBar,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this,e),onDragging:this.onDragging.bind(this,e),onDragCancel:this.onDragStop.bind(this,e),includeTouch:!0,stopPropagationForTouch:!0},{dragSvc:n}=this.beans;n.addDragSource(t);return()=>n.removeDragSource(t)}onDragStart(e,t){this.dragStartX=t.clientX,this.setResizeIcons();const n=t instanceof MouseEvent&&!0===t.shiftKey;e.onResizeStart(n)}setResizeIcons(){const e=this.beans.ctrlsSvc.get("gridCtrl");e.setResizeCursor(1),e.disableUserSelect(!0)}onDragStop(e){e.onResizeEnd(this.resizeAmount),this.resetIcons()}resetIcons(){const e=this.beans.ctrlsSvc.get("gridCtrl");e.setResizeCursor(!1),e.disableUserSelect(!1)}onDragging(e,t){this.resizeAmount=t.clientX-this.dragStartX,e.onResizing(this.resizeAmount)}}],dependsOn:[QU]};var iK=class extends vO{constructor(e){super(),this.pinned=e,this.columnsToAggregate=[],this.columnsToGroup=[],this.columnsToPivot=[]}onDragEnter(e){if(this.clearColumnsList(),this.gos.get("functionsReadOnly"))return;const t=e.dragItem.columns;t&&t.forEach(e=>{e.isPrimary()&&(e.isAnyFunctionActive()||(e.isAllowValue()?this.columnsToAggregate.push(e):e.isAllowRowGroup()?this.columnsToGroup.push(e):e.isAllowPivot()&&this.columnsToPivot.push(e)))})}getIconName(){return this.columnsToAggregate.length+this.columnsToGroup.length+this.columnsToPivot.length>0?this.pinned?"pinned":"move":null}onDragLeave(e){this.clearColumnsList()}clearColumnsList(){this.columnsToAggregate.length=0,this.columnsToGroup.length=0,this.columnsToPivot.length=0}onDragging(e){}onDragStop(e){const{valueColsSvc:t,rowGroupColsSvc:n,pivotColsSvc:i}=this.beans;this.columnsToAggregate.length>0&&(null===t||void 0===t||t.addColumns(this.columnsToAggregate,"toolPanelDragAndDrop")),this.columnsToGroup.length>0&&(null===n||void 0===n||n.addColumns(this.columnsToGroup,"toolPanelDragAndDrop")),this.columnsToPivot.length>0&&(null===i||void 0===i||i.addColumns(this.columnsToPivot,"toolPanelDragAndDrop"))}onDragCancel(){this.clearColumnsList()}};function oK(e){const{isFromHeader:t,fromLeft:n,xPosition:i,fromEnter:o,fakeEvent:r,pinned:s,gos:a,colModel:l,colMoves:u,visibleCols:c}=e;let{allMovingColumns:d}=e;t&&(d=function(e){const t=[...e];return e.forEach(e=>{let n=null,i=e.getParent();for(;null!=i&&1===i.getDisplayedLeafColumns().length;)n=i,i=i.getParent();var o;null!=n&&(null!==(o=n.getColGroupDef())&&void 0!==o&&o.marryChildren?n.getProvidedColumnGroup().getLeafColumns():n.getLeafColumns()).forEach(e=>{t.includes(e)||t.push(e)})}),t}(d));const h=d.slice();!function(e,t){if(!t||t.length<=1)return;t.filter(t=>e.indexOf(t)<0).length>0||t.sort((t,n)=>e.indexOf(t)-e.indexOf(n))}(l.getCols(),h);const p=function(e){const{movingCols:t,draggingRight:n,xPosition:i,pinned:o,gos:r,colModel:s,visibleCols:a}=e,l=r.get("suppressMovableColumns")||t.some(e=>e.getColDef().suppressMovable);if(l)return[];const u=function(e,t){switch(t){case"left":return e.leftCols;case"right":return e.rightCols;default:return e.centerCols}}(a,o),c=s.getCols(),d=u.filter(e=>t.includes(e)),h=u.filter(e=>!t.includes(e)),p=c.filter(e=>!t.includes(e));let g,m=0,v=i;if(n){let e=0;d.forEach(t=>e+=t.getActualWidth()),v-=e}if(v>0){for(let e=0;e<h.length;e++){if(v-=h[e].getActualWidth(),v<0)break;m++}n&&m++}if(m>0){const e=h[m-1];g=p.indexOf(e)+1}else g=p.indexOf(h[0]),-1===g&&(g=0);const f=[g],w=(e,t)=>e-t;if(n){let e=g+1;const t=c.length-1;for(;e<=t;)f.push(e),e++;f.sort(w)}else{let e=g;const t=c.length-1;let n=c[e];for(;e<=t&&u.indexOf(n)<0;)e++,f.push(e),n=c[e];e=g-1;const i=0;for(;e>=i;)f.push(e),e--;f.sort(w).reverse()}return f}({movingCols:h,draggingRight:n,xPosition:i,pinned:s,gos:a,colModel:l,visibleCols:c}),g=function(e,t){const n=t.getCols(),i=e.map(e=>n.indexOf(e)).sort((e,t)=>e-t),o=i[0],r=_O(i);return r-o!==i.length-1?null:o}(h,l);if(0===p.length)return;const m=p[0];if(null!==g&&(t||!o)&&!r){if(!n&&m>=g)return;if(n&&m<=g)return}const v=function(e,t,n,i){const o=i.allCols;let r=null,s=null;for(let a=0;a<e.length;a++){const i=e[a],l=n.getProposedColumnOrder(t,i);if(!n.doesOrderPassRules(l))continue;const u=l.filter(e=>o.includes(e));if(null===s)s=u;else if(!MO(u,s))break;const c=sK(l);(null===r||c<r.fragCount)&&(r={move:i,fragCount:c})}return r}(p,h,u,c);if(!v)return;const f=v.move;return f>l.getCols().length-h.length?void 0:{columns:h,toIndex:f}}function rK(e){const{columns:t,toIndex:n}=oK(e)||{},{finished:i,colMoves:o}=e;return t&&null!=n?(o.moveColumns(t,n,"uiColumnMoved",i),i?null:{columns:t,toIndex:n}):null}function sK(e){function t(e){const t=[];let n=e.getOriginalParent();for(;null!=n;)t.push(n),n=n.getOriginalParent();return t}let n=0;for(let i=0;i<e.length-1;i++){let o=t(e[i]),r=t(e[i+1]);[o,r]=o.length>r.length?[o,r]:[r,o],o.forEach(e=>{-1===r.indexOf(e)&&n++})}return n}function aK(e){var t;const{pinned:n,fromKeyboard:i,gos:o,ctrlsSvc:r,useHeaderRow:s,skipScrollPadding:a}=e;let l=null===(t=r.getHeaderRowContainerCtrl(n))||void 0===t?void 0:t.eViewport,{x:u}=e;return l?(i&&(u-=l.getBoundingClientRect().left),o.get("enableRtl")&&(s&&(l=l.querySelector(".ag-header-row")),u=l.clientWidth-u),null!=n||a||(u+=r.get("center").getCenterViewportScrollLeft()),u):0}function lK(e,t){for(const n of e)n.moving=t,n.dispatchColEvent("movingChanged","uiColumnMoved")}var uK=class extends vO{constructor(e){super(),this.pinned=e,this.needToMoveLeft=!1,this.needToMoveRight=!1,this.lastMovedInfo=null,this.isCenterContainer=!UI(e)}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridBodyCon=e.gridBodyCtrl})}getIconName(){var e;const{pinned:t,lastDraggingEvent:n}=this,{dragItem:i}=n||{},o=null!==(e=null===i||void 0===i?void 0:i.columns)&&void 0!==e?e:[];for(const r of o){const e=r.getPinned();if(r.getColDef().lockPinned){if(e==t)return"move";continue}const n=null===i||void 0===i?void 0:i.containerType;if(n===t||!t)return"move";if(t&&(!e||n!==t))return"pinned"}return"notAllowed"}onDragEnter(e){const t=e.dragItem,n=t.columns;if(0===e.dragSource.type)this.setColumnsVisible(n,!0,"uiColumnDragged");else{const e=t.visibleState,i=(n||[]).filter(t=>e[t.getId()]&&!t.isVisible());this.setColumnsVisible(i,!0,"uiColumnDragged")}this.gos.get("suppressMoveWhenColumnDragging")||this.attemptToPinColumns(n,this.pinned),this.onDragging(e,!0,!0)}onDragging(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.lastDraggingEvent,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const{gos:o,ctrlsSvc:r}=this.beans,s=o.get("suppressMoveWhenColumnDragging");if(i&&!s)return void this.finishColumnMoving();if(this.lastDraggingEvent=e,!e||!i&&KI(e.hDirection))return;const a=aK({x:e.x,pinned:this.pinned,gos:o,ctrlsSvc:r});t||this.checkCenterForScrolling(a),s?this.handleColumnDragWhileSuppressingMovement(e,t,n,a,i):this.handleColumnDragWhileAllowingMovement(e,t,n,a,i)}onDragLeave(){this.ensureIntervalCleared(),this.clearHighlighted(),this.updateDragItemContainerType(),this.lastMovedInfo=null}onDragStop(){this.onDragging(this.lastDraggingEvent,!1,!0,!0),this.ensureIntervalCleared(),this.lastMovedInfo=null}onDragCancel(){this.clearHighlighted(),this.ensureIntervalCleared(),this.lastMovedInfo=null}setColumnsVisible(e,t,n){if(null===e||void 0===e||!e.length)return;const i=e.filter(e=>!e.getColDef().lockVisible);i.length&&this.beans.colModel.setColsVisible(i,t,n)}finishColumnMoving(){this.clearHighlighted();const e=this.lastMovedInfo;if(!e)return;const{columns:t,toIndex:n}=e;this.beans.colMoves.moveColumns(t,n,"uiColumnMoved",!0)}updateDragItemContainerType(){const{lastDraggingEvent:e}=this;if(this.gos.get("suppressMoveWhenColumnDragging")||!e)return;const t=e.dragItem;t&&(t.containerType=this.pinned)}handleColumnDragWhileSuppressingMovement(e,t,n,i,o){const r=this.getAllMovingColumns(e,!0);if(o){const e=this.isAttemptingToPin(r);e&&this.attemptToPinColumns(r,void 0,!0);const{fromLeft:i,xPosition:o}=this.getNormalisedXPositionInfo(r,e)||{};if(null==i||null==o)return void this.finishColumnMoving();this.moveColumnsAfterHighlight({allMovingColumns:r,xPosition:o,fromEnter:t,fakeEvent:n,fromLeft:i})}else{if(!this.beans.dragAndDrop.isDropZoneWithinThisGrid(e))return;this.highlightHoveredColumn(r,i)}}handleColumnDragWhileAllowingMovement(e,t,n,i,o){const r=this.getAllMovingColumns(e),s="right"===this.normaliseDirection(e.hDirection),a=1===e.dragSource.type,l=rK(d(d({},this.getMoveColumnParams({allMovingColumns:r,isFromHeader:a,xPosition:i,fromLeft:s,fromEnter:t,fakeEvent:n})),{},{finished:o}));l&&(this.lastMovedInfo=l)}getAllMovingColumns(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=e.dragSource.getDragItem();let i=null;t?(i=n.columnsInSplit,i||(i=n.columns)):i=n.columns;return i?i.filter(e=>!e.getColDef().lockPinned||e.getPinned()==this.pinned):[]}getMoveColumnParams(e){const{allMovingColumns:t,isFromHeader:n,xPosition:i,fromLeft:o,fromEnter:r,fakeEvent:s}=e,{gos:a,colModel:l,colMoves:u,visibleCols:c}=this.beans;return{allMovingColumns:t,isFromHeader:n,fromLeft:o,xPosition:i,pinned:this.pinned,fromEnter:r,fakeEvent:s,gos:a,colModel:l,colMoves:u,visibleCols:c}}highlightHoveredColumn(e,t){var n;const{gos:i,colModel:o}=this.beans,r=i.get("enableRtl"),s=o.getCols().filter(e=>e.isVisible()&&e.getPinned()===this.pinned);let a,l=null,u=null,c=null;for(const d of s){if(u=d.getActualWidth(),l=this.getNormalisedColumnLeft(d,0,r),null!=l){if(l<=t&&l+u>=t){c=d;break}}l=null,u=null}if(c)-1!==e.indexOf(c)&&(c=null);else{for(let e=s.length-1;e>=0;e--){const t=s[e],n=s[e].getParent();if(!n){c=t;break}const i=null===n||void 0===n?void 0:n.getDisplayedLeafColumns();if(i.length){c=_O(i);break}}if(!c)return;l=this.getNormalisedColumnLeft(c,0,r),u=c.getActualWidth()}(null===(n=this.lastHighlightedColumn)||void 0===n?void 0:n.column)!==c&&this.clearHighlighted(),null!=c&&null!=l&&null!=u&&(a=t-l<u/2!==r?0:1,cK(c,a),this.lastHighlightedColumn={column:c,position:a})}getNormalisedXPositionInfo(e,t){const{gos:n,visibleCols:i}=this.beans,o=n.get("enableRtl"),{firstMovingCol:r,column:s,position:a}=this.getColumnMoveAndTargetInfo(e,t,o);if(!r||!s||null==a)return;const l=i.allCols,u=l.indexOf(r),c=l.indexOf(s),d=0===a!==o,h=u<c||u===c&&!d;let p=0;if(d?h&&(p-=1):h||(p+=1),c+p===u)return;const g=l[c+p];if(!g)return;return{fromLeft:h,xPosition:this.getNormalisedColumnLeft(g,20,o)}}getColumnMoveAndTargetInfo(e,t,n){const i=this.lastHighlightedColumn||{},{firstMovingCol:o,lastMovingCol:r}=function(e){const t=e.length;let n,i;for(let o=0;o<t;o++){if(!n){const t=e[o];null!=t.getLeft()&&(n=t)}if(!i){const n=e[t-1-o];null!=n.getLeft()&&(i=n)}if(n&&i)break}return{firstMovingCol:n,lastMovingCol:i}}(e);if(!o||!r||i.column||!t)return d({firstMovingCol:o},i);const s="left"===this.getPinDirection();return{firstMovingCol:o,position:s?1:0,column:s!==n?o:r}}normaliseDirection(e){if(this.gos.get("enableRtl"))switch(e){case"left":return"right";case"right":return"left"}return e}getNormalisedColumnLeft(e,t,n){const{gos:i,ctrlsSvc:o}=this.beans,r=e.getLeft();if(null==r)return null;const s=e.getActualWidth();return aK({x:n?r+s-t:r+t,pinned:e.getPinned(),useHeaderRow:n,skipScrollPadding:!0,gos:i,ctrlsSvc:o})}isAttemptingToPin(e){const t=this.needToMoveLeft||this.needToMoveRight,n=this.failedMoveAttempts>7;return t&&n||e.some(e=>e.getPinned()!==this.pinned)}moveColumnsAfterHighlight(e){const{allMovingColumns:t,xPosition:n,fromEnter:i,fakeEvent:o,fromLeft:r}=e,s=this.getMoveColumnParams({allMovingColumns:t,isFromHeader:!0,xPosition:n,fromLeft:r,fromEnter:i,fakeEvent:o}),{columns:a,toIndex:l}=oK(s)||{};a&&null!=l&&(this.lastMovedInfo={columns:a,toIndex:l}),this.finishColumnMoving()}clearHighlighted(){const{lastHighlightedColumn:e}=this;e&&(cK(e.column,null),this.lastHighlightedColumn=null)}checkCenterForScrolling(e){if(!this.isCenterContainer)return;const t=this.beans.ctrlsSvc.get("center"),n=t.getCenterViewportScrollLeft(),i=n+t.getCenterWidth();let o,r;this.gos.get("enableRtl")?(o=e<n+50,r=e>i-50):(r=e<n+50,o=e>i-50),this.needToMoveRight=o,this.needToMoveLeft=r,r||o?this.ensureIntervalStarted():this.ensureIntervalCleared()}ensureIntervalStarted(){var e;this.movingIntervalId||(this.intervalCount=0,this.failedMoveAttempts=0,this.movingIntervalId=window.setInterval(this.moveInterval.bind(this),100),null===(e=this.beans.dragAndDrop.getDragAndDropImageComponent())||void 0===e||e.setIcon(this.needToMoveLeft?"left":"right",!0))}ensureIntervalCleared(){var e;this.movingIntervalId&&(window.clearInterval(this.movingIntervalId),this.movingIntervalId=null,this.failedMoveAttempts=0,null===(e=this.beans.dragAndDrop.getDragAndDropImageComponent())||void 0===e||e.setIcon(this.getIconName(),!1))}moveInterval(){let e;this.intervalCount++,e=10+5*this.intervalCount,e>100&&(e=100);let t=null;const n=this.gridBodyCon.scrollFeature;if(this.needToMoveLeft?t=n.scrollHorizontally(-e):this.needToMoveRight&&(t=n.scrollHorizontally(e)),0!==t)this.onDragging(this.lastDraggingEvent),this.failedMoveAttempts=0;else{var i;this.failedMoveAttempts++;const{pinnedCols:e,dragAndDrop:t,gos:n}=this.beans;if(this.failedMoveAttempts<=8||!e)return;if(null===(i=t.getDragAndDropImageComponent())||void 0===i||i.setIcon("pinned",!1),!n.get("suppressMoveWhenColumnDragging")){var o;const e=null===(o=this.lastDraggingEvent)||void 0===o?void 0:o.dragItem.columns;this.attemptToPinColumns(e,void 0,!0)}}}getPinDirection(){return this.needToMoveLeft||"left"===this.pinned?"left":this.needToMoveRight||"right"===this.pinned?"right":void 0}attemptToPinColumns(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const i=(e||[]).filter(e=>!e.getColDef().lockPinned);if(!i.length)return 0;n&&(t=this.getPinDirection());const{pinnedCols:o,dragAndDrop:r}=this.beans;return null===o||void 0===o||o.setColsPinned(i,t,"uiColumnDragged"),n&&r.nudge(),i.length}destroy(){super.destroy(),this.lastDraggingEvent=null,this.clearHighlighted(),this.lastMovedInfo=null}};function cK(e,t){e.highlighted!==t&&(e.highlighted=t,e.dispatchColEvent("headerHighlightChanged","uiColumnMoved"))}var dK=class extends vO{constructor(e,t){super(),this.pinned=e,this.eContainer=t}postConstruct(){const{ctrlsSvc:e,dragAndDrop:t}=this.beans,n=this.pinned;e.whenReady(this,e=>{let t;const i=e.gridBodyCtrl.eBodyViewport;switch(n){case"left":t=[[i,e.left.eContainer],[e.bottomLeft.eContainer],[e.topLeft.eContainer]];break;case"right":t=[[i,e.right.eContainer],[e.bottomRight.eContainer],[e.topRight.eContainer]];break;default:t=[[i,e.center.eViewport],[e.bottomCenter.eViewport],[e.topCenter.eViewport]]}this.eSecondaryContainers=t}),this.moveColumnFeature=this.createManagedBean(new uK(n)),this.bodyDropPivotTarget=this.createManagedBean(new iK(n)),t.addDropTarget(this),this.addDestroyFunc(()=>t.removeDropTarget(this))}isInterestedIn(e){return 1===e||0===e&&this.gos.get("allowDragFromColumnsToolPanel")}getSecondaryContainers(){return this.eSecondaryContainers}getContainer(){return this.eContainer}getIconName(){return this.currentDropListener.getIconName()}isDropColumnInPivotMode(e){return this.beans.colModel.isPivotMode()&&0===e.dragSource.type}onDragEnter(e){this.currentDropListener=this.isDropColumnInPivotMode(e)?this.bodyDropPivotTarget:this.moveColumnFeature,this.currentDropListener.onDragEnter(e)}onDragLeave(e){this.currentDropListener.onDragLeave(e)}onDragging(e){this.currentDropListener.onDragging(e)}onDragStop(e){this.currentDropListener.onDragStop(e)}onDragCancel(){this.currentDropListener.onDragCancel()}};var hK={moduleName:"ColumnMove",version:KN,beans:[class extends vO{constructor(){super(...arguments),this.beanName="colMoves"}moveColumnByIndex(e,t,n){const i=this.beans.colModel.getCols();if(!i)return;const o=i[e];this.moveColumns([o],t,n)}moveColumns(e,t,n){let i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];const{colModel:o,colAnimation:r,visibleCols:s,eventSvc:a}=this.beans,l=o.getCols();if(!l)return;if(t>l.length-e.length)return void iB(30,{toIndex:t});null===r||void 0===r||r.start();const u=o.getColsForKeys(e);this.doesMovePassRules(u,t)&&(NO(o.getCols(),u,t),s.refresh(n),a.dispatchEvent({type:"columnMoved",columns:u,column:1===u.length?u[0]:null,toIndex:t,finished:i,source:n})),null===r||void 0===r||r.finish()}doesMovePassRules(e,t){const n=this.getProposedColumnOrder(e,t);return this.doesOrderPassRules(n)}doesOrderPassRules(e){const{colModel:t,gos:n}=this.beans;if(!cG(e,t.getColTree()))return!1;return!!(e=>{const t=n.get("enableRtl");let i=t?1:-1,o=!0;return e.forEach(e=>{const n=(e=>e?"left"===e||!0===e?-1:1:0)(e.getColDef().lockPosition);t?n>i&&(o=!1):n<i&&(o=!1),i=n}),o})(e)}getProposedColumnOrder(e,t){const n=this.beans.colModel.getCols().slice();return NO(n,e,t),n}createBodyDropTarget(e,t){return new dK(e,t)}moveHeader(e,t,n,i,o){const{ctrlsSvc:r,gos:s,colModel:a,visibleCols:l,focusSvc:u}=this.beans,c=t.getBoundingClientRect(),h=c.left,p=OV(n),g=p?c.width:n.getActualWidth(),m="left"===e!==s.get("enableRtl"),v=aK({x:m?h-20:h+g+20,pinned:i,fromKeyboard:!0,gos:s,ctrlsSvc:r}),f=u.focusedHeader;let w;if(rK({allMovingColumns:p?n.getLeafColumns():[n],isFromHeader:!0,fromLeft:"right"===e,xPosition:v,pinned:i,fromEnter:!1,fakeEvent:!1,gos:s,colModel:a,colMoves:this,visibleCols:l,finished:!0}),p){const e=n.getDisplayedLeafColumns();w=m?e[0]:_O(e)}else w=n;if(r.getScrollFeature().ensureColumnVisible(w,"auto"),(!o.isAlive()||s.get("ensureDomOrder"))&&f){let e;if(p){const t=n.getGroupId(),i=n.getLeafColumns();if(!i.length)return;const o=i[0].getParent();if(!o)return;e=function(e,t){for(;e;){if(e.getGroupId()===t)return e;e=e.getParent()}return}(o,t)}else e=n;e&&u.focusHeaderPosition({headerPosition:d(d({},f),{},{column:e})})}}setDragSourceForHeader(e,t,n){const{gos:i,colModel:o,dragAndDrop:r,visibleCols:s}=this.beans;let a=!i.get("suppressDragLeaveHidesColumns");const l=OV(t),u=l?t.getProvidedColumnGroup().getLeafColumns():[t],c=l?()=>function(e,t){var n;const i=e.getProvidedColumnGroup().getLeafColumns(),o={};i.forEach(e=>o[e.getId()]=e.isVisible());const r=[];t.forEach(e=>{i.indexOf(e)>=0&&(r.push(e),LO(i,e))}),i.forEach(e=>r.push(e));const s=[],a=e.getLeafColumns();for(const l of r)-1!==a.indexOf(l)&&s.push(l);return{columns:r,columnsInSplit:s,visibleState:o,containerType:null===(n=s[0])||void 0===n?void 0:n.pinned}}(t,s.allCols):()=>function(e){const t={};return t[e.getId()]=e.isVisible(),{columns:[e],visibleState:t,containerType:e.pinned}}(t),d={type:1,eElement:e,getDefaultIconName:()=>a?"hide":"notAllowed",getDragItem:c,dragItemName:n,onDragStarted:()=>{a=!i.get("suppressDragLeaveHidesColumns"),lK(u,!0)},onDragStopped:()=>lK(u,!1),onDragCancelled:()=>lK(u,!1),onGridEnter:e=>{if(a){const{columns:t=[],visibleState:n}=null!==e&&void 0!==e?e:{},i=l?e=>!n||n[e.getColId()]:()=>!0,r=t.filter(e=>!e.getColDef().lockVisible&&i(e));o.setColsVisible(r,!0,"uiColumnMoved")}},onGridExit:e=>{if(a){var t;const n=(null===e||void 0===e||null===(t=e.columns)||void 0===t?void 0:t.filter(e=>!e.getColDef().lockVisible))||[];o.setColsVisible(n,!1,"uiColumnMoved")}}};return r.addDragSource(d,!0),d}},class extends vO{constructor(){super(...arguments),this.beanName="colAnimation",this.executeNextFuncs=[],this.executeLaterFuncs=[],this.active=!1,this.activeNext=!1,this.suppressAnimation=!1,this.animationThreadCount=0}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>this.gridBodyCtrl=e.gridBodyCtrl)}isActive(){return this.active&&!this.suppressAnimation}setSuppressAnimation(e){this.suppressAnimation=e}start(){if(this.active)return;const{gos:e}=this;e.get("suppressColumnMoveAnimation")||e.get("enableRtl")||(this.ensureAnimationCssClassPresent(),this.active=!0,this.activeNext=!0)}finish(){this.active&&this.flush(()=>this.activeNext=!1,()=>this.active=!1)}executeNextVMTurn(e){this.activeNext?this.executeNextFuncs.push(e):e()}executeLaterVMTurn(e){this.active?this.executeLaterFuncs.push(e):e()}ensureAnimationCssClassPresent(){this.animationThreadCount++;const e=this.animationThreadCount,{gridBodyCtrl:t}=this;t.setColumnMovingCss(!0),this.executeLaterFuncs.push(()=>{this.animationThreadCount===e&&t.setColumnMovingCss(!1)})}flush(e,t){const{executeNextFuncs:n,executeLaterFuncs:i}=this;if(0===n.length&&0===i.length)return e(),void t();const o=e=>{for(;e.length;){const t=e.pop();t&&t()}};this.beans.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{e(),o(n)},0),window.setTimeout(()=>{t(),o(i)},200)})}}],apiFunctions:{moveColumnByIndex:function(e,t,n){var i;null===(i=e.colMoves)||void 0===i||i.moveColumnByIndex(t,n,"api")},moveColumns:function(e,t,n){var i;null===(i=e.colMoves)||void 0===i||i.moveColumns(t,n,"api")}},dependsOn:[eK],css:[":where(.ag-ltr) :where(.ag-column-moving){.ag-cell,.ag-header-cell,.ag-spanned-cell-wrapper{transition:left .2s}.ag-header-group-cell{transition:left .2s,width .2s}}:where(.ag-rtl) :where(.ag-column-moving){.ag-cell,.ag-header-cell,.ag-spanned-cell-wrapper{transition:right .2s}.ag-header-group-cell{transition:right .2s,width .2s}}"]},pK={moduleName:"AutoWidth",version:KN,beans:[class extends vO{constructor(){super(...arguments),this.beanName="autoWidthCalc"}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.centerRowContainerCtrl=e.center})}getPreferredWidthForColumn(e,t){const n=this.getHeaderCellForColumn(e);if(!n)return-1;const i=this.beans.rowRenderer.getAllCellsNotSpanningForColumn(e);return t||i.push(n),this.getPreferredWidthForElements(i)}getPreferredWidthForColumnGroup(e){const t=this.getHeaderCellForColumn(e);return t?this.getPreferredWidthForElements([t]):-1}getPreferredWidthForElements(e,t){const n=document.createElement("form");n.style.position="fixed";const i=this.centerRowContainerCtrl.eContainer;e.forEach(e=>this.cloneItemIntoDummy(e,n)),i.appendChild(n);const o=n.offsetWidth;return i.removeChild(n),o+(t=null!==t&&void 0!==t?t:this.gos.get("autoSizePadding"))}getHeaderCellForColumn(e){let t=null;return this.beans.ctrlsSvc.getHeaderRowContainerCtrls().forEach(n=>{const i=n.getHtmlElementForColumnHeader(e);null!=i&&(t=i)}),t}cloneItemIntoDummy(e,t){const n=e.cloneNode(!0);n.style.width="",n.style.position="static",n.style.left="";const i=document.createElement("div"),o=i.classList;["ag-header-cell","ag-header-group-cell"].some(e=>n.classList.contains(e))?(o.add("ag-header","ag-header-row"),i.style.position="static"):o.add("ag-row");let r=e.parentElement;for(;r;){if(["ag-header-row","ag-row"].some(e=>r.classList.contains(e))){for(let e=0;e<r.classList.length;e++){const t=r.classList[e];"ag-row-position-absolute"!=t&&o.add(t)}break}r=r.parentElement}i.appendChild(n),t.appendChild(i)}}]};var gK=class extends vO{constructor(e,t,n,i){super(),this.comp=e,this.eResize=t,this.pinned=n,this.columnGroup=i}postConstruct(){if(!this.columnGroup.isResizable())return void this.comp.setResizableDisplayed(!1);const{horizontalResizeSvc:e,gos:t,colAutosize:n}=this.beans,i=e.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});this.addDestroyFunc(i),!t.get("suppressAutoSize")&&n&&this.addDestroyFunc(n.addColumnGroupResize(this.eResize,this.columnGroup,()=>this.resizeLeafColumnsToFit("uiColumnResized")))}onResizeStart(e){const{columnsToResize:t,resizeStartWidth:n,resizeRatios:i,groupAfterColumns:o,groupAfterStartWidth:r,groupAfterRatios:s}=this.getInitialValues(e);this.resizeCols=t,this.resizeStartWidth=n,this.resizeRatios=i,this.resizeTakeFromCols=o,this.resizeTakeFromStartWidth=r,this.resizeTakeFromRatios=s,this.toggleColumnResizing(!0)}onResizing(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"uiColumnResized";const i=this.normaliseDragChange(t),o=this.resizeStartWidth+i;this.resizeColumnsFromLocalValues(o,n,e)}getInitialValues(e){const t=e=>e.reduce((e,t)=>e+t.getActualWidth(),0),n=(e,t)=>e.map(e=>e.getActualWidth()/t),i=this.getColumnsToResize(),o=t(i),r={columnsToResize:i,resizeStartWidth:o,resizeRatios:n(i,o)};let s=null;var a,l;e&&(s=null!==(a=null===(l=this.beans.colGroupSvc)||void 0===l?void 0:l.getGroupAtDirection(this.columnGroup,"After"))&&void 0!==a?a:null);if(s){const e=s.getDisplayedLeafColumns(),i=r.groupAfterColumns=e.filter(e=>e.isResizable()),o=r.groupAfterStartWidth=t(i);r.groupAfterRatios=n(i,o)}else r.groupAfterColumns=void 0,r.groupAfterStartWidth=void 0,r.groupAfterRatios=void 0;return r}resizeLeafColumnsToFit(e){const t=this.beans.autoWidthCalc.getPreferredWidthForColumnGroup(this.columnGroup),n=this.getInitialValues();t>n.resizeStartWidth&&this.resizeColumns(n,t,e,!0)}resizeColumnsFromLocalValues(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!this.resizeCols||!this.resizeRatios)return;const i={columnsToResize:this.resizeCols,resizeStartWidth:this.resizeStartWidth,resizeRatios:this.resizeRatios,groupAfterColumns:this.resizeTakeFromCols,groupAfterStartWidth:this.resizeTakeFromStartWidth,groupAfterRatios:this.resizeTakeFromRatios};this.resizeColumns(i,e,t,n)}resizeColumns(e,t,n){var i;let o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];const{columnsToResize:r,resizeStartWidth:s,resizeRatios:a,groupAfterColumns:l,groupAfterStartWidth:u,groupAfterRatios:c}=e,d=[];if(d.push({columns:r,ratios:a,width:t}),l){const e=t-s;d.push({columns:l,ratios:c,width:u-e})}null===(i=this.beans.colResize)||void 0===i||i.resizeColumnSets({resizeSets:d,finished:o,source:n}),o&&this.toggleColumnResizing(!1)}toggleColumnResizing(e){this.comp.toggleCss("ag-column-resizing",e)}getColumnsToResize(){return this.columnGroup.getDisplayedLeafColumns().filter(e=>e.isResizable())}normaliseDragChange(e){let t=e;return this.gos.get("enableRtl")?"left"!==this.pinned&&(t*=-1):"right"===this.pinned&&(t*=-1),t}destroy(){super.destroy(),this.resizeCols=void 0,this.resizeRatios=void 0,this.resizeTakeFromCols=void 0,this.resizeTakeFromRatios=void 0}},mK=class extends vO{constructor(e,t,n,i,o){super(),this.pinned=e,this.column=t,this.eResize=n,this.comp=i,this.ctrl=o}postConstruct(){const e=[];let t,n;const i=()=>{if(XL(this.eResize,t),!t)return;const{horizontalResizeSvc:i,colAutosize:o}=this.beans,r=i.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});e.push(r),n&&o&&e.push(o.addColumnAutosize(this.eResize,this.column))},o=()=>{e.forEach(e=>e()),e.length=0},r=()=>{const e=this.column.isResizable(),r=!this.gos.get("suppressAutoSize")&&!this.column.getColDef().suppressAutoSize;(e!==t||r!==n)&&(t=e,n=r,o(),i())};r(),this.addDestroyFunc(o),this.ctrl.setRefreshFunction("resize",r)}onResizing(e,t){const{column:n,lastResizeAmount:i,resizeStartWidth:o,beans:r}=this,s=this.normaliseResizeAmount(t),a=[{key:n,newWidth:o+s}],{pinnedCols:l,ctrlsSvc:u,colResize:c}=r;if(this.column.getPinned()){var d,h;if((null!==(d=null===l||void 0===l?void 0:l.leftWidth)&&void 0!==d?d:0)+(null!==(h=null===l||void 0===l?void 0:l.rightWidth)&&void 0!==h?h:0)+(s-i)>iN(u.getGridBodyCtrl().eBodyViewport)-50)return}this.lastResizeAmount=s,null===c||void 0===c||c.setColumnWidths(a,this.resizeWithShiftKey,e,"uiColumnResized"),e&&this.toggleColumnResizing(!1)}onResizeStart(e){this.resizeStartWidth=this.column.getActualWidth(),this.lastResizeAmount=0,this.resizeWithShiftKey=e,this.toggleColumnResizing(!0)}toggleColumnResizing(e){this.column.resizing=e,this.comp.toggleCss("ag-column-resizing",e)}normaliseResizeAmount(e){let t=e;const n="left"!==this.pinned,i="right"===this.pinned;return this.gos.get("enableRtl")?n&&(t*=-1):i&&(t*=-1),t}};var vK={moduleName:"ColumnResize",version:KN,beans:[class extends vO{constructor(){super(...arguments),this.beanName="colResize"}setColumnWidths(e,t,n,i){const o=[],{colModel:r,gos:s,visibleCols:a}=this.beans;e.forEach(e=>{const n=r.getColDefCol(e.key)||r.getCol(e.key);if(!n)return;o.push({width:e.newWidth,ratios:[1],columns:[n]});if("shift"===s.get("colResizeDefault")&&(t=!t),t){const t=a.getColAfter(n);if(!t)return;const i=n.getActualWidth()-e.newWidth,r=t.getActualWidth()+i;o.push({width:r,ratios:[1],columns:[t]})}}),0!==o.length&&this.resizeColumnSets({resizeSets:o,finished:n,source:i})}resizeColumnSets(e){const{resizeSets:t,finished:n,source:i}=e;if(!(!t||t.every(e=>function(e){const{columns:t,width:n}=e;let i=0,o=0,r=!0;t.forEach(e=>{const t=e.getMinWidth();i+=t||0;const n=e.getMaxWidth();n>0?o+=n:r=!1});const s=!r||n<=o;return n>=i&&s}(e)))){if(n){const e=t&&t.length>0?t[0].columns:null;gG(this.eventSvc,e,n,i)}return}const o=[],r=[];t.forEach(e=>{const{width:t,columns:n,ratios:s}=e,a={},l={};n.forEach(e=>r.push(e));let u=!0,c=0;for(;u;){if(c++,c>1e3){oB(31);break}u=!1;const e=[];let i=0,o=t;n.forEach((t,n)=>{if(l[t.getId()])o-=a[t.getId()];else{e.push(t);const o=s[n];i+=o}});const r=1/i;e.forEach((n,i)=>{let c;i===e.length-1?c=o:(c=Math.round(s[i]*t*r),o-=c);const d=n.getMinWidth(),h=n.getMaxWidth();c<d?(c=d,l[n.getId()]=!0,u=!0):h>0&&c>h&&(c=h,l[n.getId()]=!0,u=!0),a[n.getId()]=c})}n.forEach(e=>{const t=a[e.getId()];e.getActualWidth()!==t&&(e.setActualWidth(t,i),o.push(e))})});const s=o.length>0;let a=[];if(s){var l;const{colFlex:e,visibleCols:t,colViewport:n}=this.beans;a=null!==(l=null===e||void 0===e?void 0:e.refreshFlexedColumns({resizingCols:r,skipSetLeft:!0}))&&void 0!==l?l:[],t.setLeftValues(i),t.updateBodyWidths(),n.checkViewportColumns()}const u=r.concat(a);(s||n)&&gG(this.eventSvc,u,n,i,a)}resizeHeader(e,t,n){if(!e.isResizable())return;const i=e.getActualWidth(),o=e.getMinWidth(),r=e.getMaxWidth(),s=Math.min(Math.max(i+t,o),r);this.setColumnWidths([{key:e,newWidth:s}],n,!0,"uiColumnResized")}createResizeFeature(e,t,n,i,o){return new mK(e,t,n,i,o)}createGroupResizeFeature(e,t,n,i){return new gK(e,t,n,i)}}],apiFunctions:{setColumnWidths:function(e,t){var n;let i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"api";null===(n=e.colResize)||void 0===n||n.setColumnWidths(t,!1,i,o)}},dependsOn:[nK,pK]},fK=class extends vO{constructor(e,t){super(),this.removeChildListenersFuncs=[],this.columnGroup=t,this.comp=e}postConstruct(){this.addListenersToChildrenColumns(),this.addManagedListeners(this.columnGroup,{displayedChildrenChanged:this.onDisplayedChildrenChanged.bind(this)}),this.onWidthChanged(),this.addDestroyFunc(this.removeListenersOnChildrenColumns.bind(this))}addListenersToChildrenColumns(){this.removeListenersOnChildrenColumns();const e=this.onWidthChanged.bind(this);this.columnGroup.getLeafColumns().forEach(t=>{t.__addEventListener("widthChanged",e),t.__addEventListener("visibleChanged",e),this.removeChildListenersFuncs.push(()=>{t.__removeEventListener("widthChanged",e),t.__removeEventListener("visibleChanged",e)})})}removeListenersOnChildrenColumns(){this.removeChildListenersFuncs.forEach(e=>e()),this.removeChildListenersFuncs=[]}onDisplayedChildrenChanged(){this.addListenersToChildrenColumns(),this.onWidthChanged()}onWidthChanged(){const e=this.columnGroup.getActualWidth();this.comp.setWidth("".concat(e,"px")),this.comp.toggleCss("ag-hidden",0===e)}};function wK(e,t,n){if(e)for(let i=0;i<e.length;i++){const o=e[i];if(OV(o)){wK(t?o.getDisplayedChildren():o.getChildren(),t,n)}n(o)}}function CK(e){const t=[];return wK(e,!0,e=>{DO(e)&&t.push(e)}),t}var bK={moduleName:"ColumnGroup",version:KN,dynamicBeans:{headerGroupCellCtrl:class extends Qj{constructor(){super(...arguments),this.onSuppressColMoveChange=()=>{!this.isAlive()||this.isSuppressMoving()?this.removeDragSource():this.dragSource||this.setDragSource(this.eGui)}}setComp(e,t,n,i,o){const{column:r,beans:s}=this,{context:a,colNames:l,colHover:u,rangeSvc:c,colResize:d}=s;this.comp=e,o=DG(this,a,o),this.setGui(t,o),this.displayName=l.getDisplayNameForColumnGroup(r,"header"),this.refreshHeaderStyles(),this.addClasses(),this.setupMovingCss(o),this.setupExpandable(o),this.setupTooltip(),this.setupAutoHeight({wrapperElement:i,compBean:o}),this.setupUserComp(),this.addHeaderMouseListeners(o),this.addManagedPropertyListener("groupHeaderHeight",this.refreshMaxHeaderHeight.bind(this)),this.refreshMaxHeaderHeight();const h=this.rowCtrl.pinned,p=r.getProvidedColumnGroup().getLeafColumns();null===u||void 0===u||u.createHoverFeature(o,p,t),null===c||void 0===c||c.createRangeHighlightFeature(o,r,e),o.createManagedBean(new Zj(r,t,s)),o.createManagedBean(new fK(e,r)),d?this.resizeFeature=o.createManagedBean(d.createGroupResizeFeature(e,n,h,r)):e.setResizableDisplayed(!1),o.createManagedBean(new IH(t,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:()=>{},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)})),this.addHighlightListeners(o,p),o.addManagedPropertyListener("suppressMovableColumns",this.onSuppressColMoveChange),this.addResizeAndMoveKeyboardListeners(o),o.addDestroyFunc(()=>this.clearComponent())}getHeaderClassParams(){const{column:e,beans:t}=this,n=e.getDefinition();return iO(t.gos,{colDef:n,columnGroup:e,floatingFilter:!1})}refreshMaxHeaderHeight(){const{gos:e,comp:t}=this,n=e.get("groupHeaderHeight");null!=n?0===n?t.setHeaderWrapperHidden(!0):t.setHeaderWrapperMaxHeight(n):(t.setHeaderWrapperHidden(!1),t.setHeaderWrapperMaxHeight(null))}addHighlightListeners(e,t){if(this.beans.gos.get("suppressMoveWhenColumnDragging"))for(const n of t)e.addManagedListeners(n,{headerHighlightChanged:this.onLeafColumnHighlightChanged.bind(this,n)})}onLeafColumnHighlightChanged(e){const t=this.column.getDisplayedLeafColumns(),n=t[0]===e,i=_O(t)===e;if(!n&&!i)return;const o=e.getHighlighted();let r=!1,s=!1;if(!!this.rowCtrl.getHeaderCellCtrls().find(e=>e.column.isMoving())){const e=this.beans.gos.get("enableRtl"),t=1===o,a=0===o;n&&(e?s=t:r=a),i&&(e?r=a:s=t)}this.comp.toggleCss("ag-header-highlight-before",r),this.comp.toggleCss("ag-header-highlight-after",s)}resizeHeader(e,t){const{resizeFeature:n}=this;if(!n)return;const i=n.getInitialValues(t);n.resizeColumns(i,i.resizeStartWidth+e,"uiColumnResized",!0)}resizeLeafColumnsToFit(e){var t;null===(t=this.resizeFeature)||void 0===t||t.resizeLeafColumnsToFit(e)}setupUserComp(){const{colGroupSvc:e,userCompFactory:t,gos:n,enterpriseMenuFactory:i}=this.beans,o=this.column,r=o.getProvidedColumnGroup(),s=function(e,t){const n=t.columnGroup.getColGroupDef();return e.getCompDetails(n,BG,"agColumnGroupHeader",t)}(t,iO(n,{displayName:this.displayName,columnGroup:o,setExpanded:t=>{e.setColumnGroupOpened(r,t,"gridInitializing")},setTooltip:(e,t)=>{n.assertModuleRegistered("Tooltip",3),this.setupTooltip(e,t)},showColumnMenu:(e,t)=>null===i||void 0===i?void 0:i.showMenuAfterButtonClick(r,e,"columnMenu",t),showColumnMenuAfterMouseClick:(e,t)=>null===i||void 0===i?void 0:i.showMenuAfterMouseEvent(r,e,"columnMenu",t),eGridHeader:this.eGui}));s&&this.comp.setUserCompDetails(s)}addHeaderMouseListeners(e){const t=e=>this.handleMouseOverChange("mouseenter"===e.type);e.addManagedListeners(this.eGui,{mouseenter:t,mouseleave:t,click:()=>this.dispatchColumnMouseEvent("columnHeaderClicked",this.column.getProvidedColumnGroup()),contextmenu:e=>this.handleContextMenuMouseEvent(e,void 0,this.column.getProvidedColumnGroup())})}handleMouseOverChange(e){this.eventSvc.dispatchEvent({type:e?"columnHeaderMouseOver":"columnHeaderMouseLeave",column:this.column.getProvidedColumnGroup()})}setupTooltip(e,t){var n;this.tooltipFeature=null===(n=this.beans.tooltipSvc)||void 0===n?void 0:n.setupHeaderGroupTooltip(this.tooltipFeature,this,e,t)}setupExpandable(e){const t=this.column.getProvidedColumnGroup();this.refreshExpanded();const n=this.refreshExpanded.bind(this);e.addManagedListeners(t,{expandedChanged:n,expandableChanged:n})}refreshExpanded(){const{column:e}=this;this.expandable=e.isExpandable();const t=e.isExpanded();this.expandable?this.comp.setAriaExpanded(t?"true":"false"):this.comp.setAriaExpanded(void 0),this.refreshHeaderStyles()}addClasses(){const{column:e}=this,t=e.getColGroupDef(),n=eV(t,this.gos,null,e);if(e.isPadding()){n.push("ag-header-group-cell-no-group");e.getLeafColumns().every(e=>e.isSpanHeaderHeight())&&n.push("ag-header-span-height")}else n.push("ag-header-group-cell-with-group"),null!==t&&void 0!==t&&t.wrapHeaderText&&n.push("ag-header-cell-wrap-text");n.forEach(e=>this.comp.toggleCss(e,!0))}setupMovingCss(e){const{column:t}=this,n=t.getProvidedColumnGroup().getLeafColumns(),i=()=>this.comp.toggleCss("ag-header-cell-moving",t.isMoving());n.forEach(t=>{e.addManagedListeners(t,{movingChanged:i})}),i()}onFocusIn(e){this.eGui.contains(e.relatedTarget)||this.focusThis()}handleKeyDown(e){super.handleKeyDown(e);const t=this.getWrapperHasFocus();if(this.expandable&&t&&e.key===sV.ENTER){const e=this.column,t=!e.isExpanded();this.beans.colGroupSvc.setColumnGroupOpened(e.getProvidedColumnGroup(),t,"uiColumnExpanded")}}setDragSource(e){var t,n;this.isAlive()&&!this.isSuppressMoving()&&(this.removeDragSource(),e&&(this.dragSource=null!==(t=null===(n=this.beans.colMoves)||void 0===n?void 0:n.setDragSourceForHeader(e,this.column,this.displayName))&&void 0!==t?t:null))}isSuppressMoving(){return this.gos.get("suppressMovableColumns")||this.column.getLeafColumns().some(e=>e.getColDef().suppressMovable||e.getColDef().lockPosition)}destroy(){this.tooltipFeature=this.destroyBean(this.tooltipFeature),super.destroy()}}},beans:[class extends vO{constructor(){super(...arguments),this.beanName="colGroupSvc"}getColumnGroupState(){const e=[];return lG(null,this.beans.colModel.getColTree(),t=>{FO(t)&&e.push({groupId:t.getGroupId(),open:t.isExpanded()})}),e}resetColumnGroupState(e){const t=this.beans.colModel.getColDefColTree();if(!t)return;const n=[];lG(null,t,e=>{if(FO(e)){const t=e.getColGroupDef(),i={groupId:e.getGroupId(),open:t?t.openByDefault:void 0};n.push(i)}}),this.setColumnGroupState(n,e)}setColumnGroupState(e,t){const{colModel:n,colAnimation:i,visibleCols:o,eventSvc:r}=this.beans;if(!n.getColTree().length)return;null===i||void 0===i||i.start();const s=[];e.forEach(e=>{const t=e.groupId,n=e.open,i=this.getProvidedColGroup(t);i&&i.isExpanded()!==n&&(i.setExpanded(n),s.push(i))}),o.refresh(t,!0),s.length&&r.dispatchEvent({type:"columnGroupOpened",columnGroup:1===s.length?s[0]:void 0,columnGroups:s}),null===i||void 0===i||i.finish()}setColumnGroupOpened(e,t,n){let i;i=FO(e)?e.getId():e||"",this.setColumnGroupState([{groupId:i,open:t}],n)}getProvidedColGroup(e){let t=null;return lG(null,this.beans.colModel.getColTree(),n=>{FO(n)&&n.getId()===e&&(t=n)}),t}getGroupAtDirection(e,t){const n=e.getProvidedColumnGroup().getLevel()+e.getPaddingLevel(),i=e.getDisplayedLeafColumns(),o="After"===t?_O(i):i[0],r="getCol".concat(t);for(;;){const t=this.beans.visibleCols[r](o);if(!t)return null;const i=this.getColGroupAtLevel(t,n);if(i!==e)return i}}getColGroupAtLevel(e,t){let n,i,o=e.getParent();for(;;){if(n=o.getProvidedColumnGroup().getLevel(),i=o.getPaddingLevel(),n+i<=t)break;o=o.getParent()}return o}updateOpenClosedVisibility(){wK(this.beans.visibleCols.getAllTrees(),!1,e=>{OV(e)&&e.calculateDisplayedColumns()})}getColumnGroup(e,t){if(!e)return null;if(OV(e))return e;const n=this.beans.visibleCols.getAllTrees(),i="number"===typeof t;let o=null;return wK(n,!1,n=>{if(OV(n)){const r=n;let s;s=i?e===r.getGroupId()&&t===r.getPartId():e===r.getGroupId(),s&&(o=r)}}),o}createColumnGroups(e){const{columns:t,idCreator:n,pinned:i,oldDisplayedGroups:o,isStandaloneStructure:r}=e,s=this.mapOldGroupsById(o),a=[];let l=t;for(;l.length;){const e=l;l=[];let t=0;const o=o=>{const u=t;t=o;const c=e[u],d=(OV(c)?c.getProvidedColumnGroup():c).getOriginalParent();if(null==d){for(let t=u;t<o;t++)a.push(e[t]);return}const h=this.createColumnGroup(d,n,s,i,r);for(let t=u;t<o;t++)h.addChild(e[t]);l.push(h)};for(let n=1;n<e.length;n++){const i=e[n],r=(OV(i)?i.getProvidedColumnGroup():i).getOriginalParent(),s=e[t];r!==(OV(s)?s.getProvidedColumnGroup():s).getOriginalParent()&&o(n)}t<e.length&&o(e.length)}return r||this.setupParentsIntoCols(a,null),a}createProvidedColumnGroup(e,t,n,i,o,r,s){const a=o.getUniqueKey(t.groupId||null,null),l=RO(this.beans,t,a),u=new kO(l,a,!1,n);this.createBean(u);const c=this.findExistingGroup(t,r);c&&r.splice(c.idx,1);const d=null===c||void 0===c?void 0:c.group;d&&u.setExpanded(d.isExpanded());const h=nG(this.beans,l.children,n+1,e,i,o,r,s);return u.setChildren(h),u}balanceColumnTree(e,t,n,i){const o=[];for(let r=0;r<e.length;r++){const s=e[r];if(FO(s)){const e=s,r=this.balanceColumnTree(e.getChildren(),t+1,n,i);e.setChildren(r),o.push(e)}else{let r,a;for(let e=t;e<n;e++){const t=i.getUniqueKey(null,null),n=RO(this.beans,null,t),o=new kO(n,t,!0,e);this.createBean(o),a&&a.setChildren([o]),a=o,r||(r=a)}if(r&&a){o.push(r);if(e.some(e=>FO(e))){a.setChildren([s]);continue}a.setChildren(e);break}o.push(s)}}return o}findDepth(e){let t=0,n=e;for(;n&&n[0]&&FO(n[0]);)t++,n=n[0].getChildren();return t}findMaxDepth(e,t){let n=t;for(let i=0;i<e.length;i++){const o=e[i];if(FO(o)){const e=o,i=this.findMaxDepth(e.getChildren(),t+1);n<i&&(n=i)}}return n}balanceTreeForAutoCols(e,t){const n=[];return e.forEach(e=>{let i=e;for(let n=t-1;n>=0;n--){const t=new kO(null,"FAKE_PATH_".concat(e.getId(),"}_").concat(n),!0,n);this.createBean(t),t.setChildren([i]),i.originalParent=t,i=t}0===t&&(e.originalParent=null),n.push(i)}),n}findExistingGroup(e,t){if(null!=e.groupId)for(let n=0;n<t.length;n++){const i=t[n];if(i.getColGroupDef()&&i.getId()===e.groupId)return{idx:n,group:i}}}createColumnGroup(e,t,n,i,o){const r=e.getGroupId(),s=t.getInstanceIdForKey(r);let a=n[BV(r,s)];return a&&a.getProvidedColumnGroup()!==e&&(a=null),UI(a)?a.reset():(a=new GV(e,r,s,i),o||this.createBean(a)),a}mapOldGroupsById(e){const t={},n=e=>{e.forEach(e=>{if(OV(e)){const i=e;t[e.getUniqueId()]=i,n(i.getChildren())}})};return e&&n(e),t}setupParentsIntoCols(e,t){e.forEach(e=>{if(e.parent!==t&&(this.beans.colViewport.colsWithinViewportHash=""),e.parent=t,OV(e)){const t=e;this.setupParentsIntoCols(t.getChildren(),t)}})}}],apiFunctions:{getAllDisplayedColumnGroups:function(e){return e.visibleCols.getAllTrees()},getCenterDisplayedColumnGroups:function(e){return e.visibleCols.treeCenter},getColumnGroup:function(e,t,n){var i,o;return null!==(i=null===(o=e.colGroupSvc)||void 0===o?void 0:o.getColumnGroup(t,n))&&void 0!==i?i:null},getColumnGroupState:function(e){var t,n;return null!==(t=null===(n=e.colGroupSvc)||void 0===n?void 0:n.getColumnGroupState())&&void 0!==t?t:[]},getDisplayNameForColumnGroup:function(e,t,n){return e.colNames.getDisplayNameForColumnGroup(t,n)||""},getLeftDisplayedColumnGroups:function(e){return e.visibleCols.treeLeft},getProvidedColumnGroup:function(e,t){var n,i;return null!==(n=null===(i=e.colGroupSvc)||void 0===i?void 0:i.getProvidedColGroup(t))&&void 0!==n?n:null},getRightDisplayedColumnGroups:function(e){return e.visibleCols.treeRight},resetColumnGroupState:function(e){var t;null===(t=e.colGroupSvc)||void 0===t||t.resetColumnGroupState("api")},setColumnGroupOpened:function(e,t,n){var i;null===(i=e.colGroupSvc)||void 0===i||i.setColumnGroupOpened(t,n,"api")},setColumnGroupState:function(e,t){var n;null===(n=e.colGroupSvc)||void 0===n||n.setColumnGroupState(t,"api")}}},yK={tag:"div",cls:"ag-skeleton-container"},SK={moduleName:"CheckboxCellRenderer",version:KN,userComponents:{agCheckboxCellRenderer:class extends AG{constructor(){super(CW,[wW]),this.eCheckbox=kG,this.registerCSS(".ag-checkbox-cell{height:100%}")}init(e){this.refresh(e);const{eCheckbox:t,beans:n}=this,i=t.getInputElement();i.setAttribute("tabindex","-1"),wL(i,"polite"),this.addManagedListeners(i,{click:e=>{if(cO(e),t.isDisabled())return;const n=t.getValue();this.onCheckboxChanged(n)},dblclick:e=>{cO(e)}}),this.addManagedElementListeners(e.eGridCell,{keydown:i=>{if(i.key===sV.SPACE&&!t.isDisabled()){e.eGridCell===SB(n)&&t.toggle();const o=t.getValue();this.onCheckboxChanged(o),i.preventDefault()}}})}refresh(e){return this.params=e,this.updateCheckbox(e),!0}updateCheckbox(e){var t;let n,i=!0;const{value:o,column:r,node:s}=e;if(s.group&&r)if("boolean"===typeof o)n=o;else{const e=r.getColId();e.startsWith(OO)?n=null==o||""===o?void 0:"true"===o:s.aggData&&void 0!==s.aggData[e]?n=null!==o&&void 0!==o?o:void 0:i=!1}else n=null!==o&&void 0!==o?o:void 0;const{eCheckbox:a}=this;if(!i)return void a.setDisplayed(!1);a.setValue(n);const l=null!==(t=e.disabled)&&void 0!==t?t:!(null!==r&&void 0!==r&&r.isCellEditable(s));a.setDisabled(l);const u=this.getLocaleTextFunc(),c=zL(u,n),d=l?c:"".concat(u("ariaToggleCellValue","Press SPACE to toggle cell value")," (").concat(c,")");a.setInputAriaLabel(d)}onCheckboxChanged(e){var t,n,i;const{params:o}=this,{column:r,node:s,value:a}=o;null===(t=this.beans)||void 0===t||null===(t=t.editSvc)||void 0===t||t.setEditingCells([{column:r,colId:r.getColId(),rowIndex:s.rowIndex,rowPinned:s.rowPinned,state:"changed",oldValue:a,newValue:a}],{update:!0});const l=s.setDataValue(r,e,"renderer");null===(n=this.beans.editSvc)||void 0===n||n.stopEditing({rowNode:s,column:r},{source:null!==(i=this.beans.editSvc)&&void 0!==i&&i.isBatchEditing()?"ui":"api"}),l||this.updateCheckbox(o)}}}},xK={moduleName:"SkeletonCellRenderer",version:KN,userComponents:{agSkeletonCellRenderer:class extends AG{constructor(){super(yK)}init(e){const t="ag-cell-skeleton-renderer-".concat(this.getCompId());this.getGui().setAttribute("id",t),this.addDestroyFunc(()=>vL(e.eParentOfValue)),vL(e.eParentOfValue,t),e.deferRender?this.setupLoading(e):e.node.failedLoad?this.setupFailed():this.setupLoading(e)}setupFailed(){const e=this.getLocaleTextFunc();this.getGui().textContent=e("loadingError","ERR");const t=e("ariaSkeletonCellLoadingFailed","Row failed to load");mL(this.getGui(),t)}setupLoading(e){const t=MN({tag:"div",cls:"ag-skeleton-effect"}),n=e.node.rowIndex;if(null!=n){const e=75+25*(n%2===0?Math.sin(n):Math.cos(n));t.style.width="".concat(e,"%")}this.getGui().appendChild(t);const i=this.getLocaleTextFunc(),o=e.deferRender?i("ariaDeferSkeletonCellLoading","Cell is loading"):i("ariaSkeletonCellLoading","Row data is loading");mL(this.getGui(),o)}refresh(e){return!1}}}};function DK(e,t){if(!e)return;const n=e,i={};return Object.keys(n).forEach(e=>{if(t&&t.indexOf(e)>=0||$I.has(e))return;const o=n[e],r="object"===typeof o&&null!==o&&o.constructor===Object;i[e]=r?DK(o):o}),i}var EK=["dateTimeString","dateString","text","number","boolean","date"];function FK(e,t){const n=d(d({},e),t);return e.columnTypes&&t.columnTypes&&t.appendColumnTypes&&(n.columnTypes=[...YO(e.columnTypes),...YO(t.columnTypes)]),n}function kK(e,t,n){return t?t.baseDataType===e.baseDataType||(iB(46),!1):(iB(45,{parentCellDataType:n}),!1)}function AK(e,t){if(e.valueFormatter)return n=>{var i;if(null!==(i=n.node)&&void 0!==i&&i.group){var o;const t=(null!==(o=n.colDef.pivotValueColumn)&&void 0!==o?o:n.column).getAggFunc();if(t){if("first"===t||"last"===t)return e.valueFormatter(n);if("number"===e.baseDataType&&"count"!==t){if("number"===typeof n.value)return e.valueFormatter(n);if("object"===typeof n.value){if(!n.value)return;if("toNumber"in n.value)return e.valueFormatter(d(d({},n),{},{value:n.value.toNumber()}));if("value"in n.value)return e.valueFormatter(d(d({},n),{},{value:n.value.value}))}}return}}else if(t.get("groupHideOpenParents")&&n.column.isRowGroupActive()){var r;if("string"===typeof n.value&&(null===(r=e.dataTypeMatcher)||void 0===r||!r.call(e,n.value)))return}return e.valueFormatter(n)}}function RK(e,t){return[["cellRenderer","agSparklineCellRenderer"],["valueGetter",void 0],["valueParser",void 0],["refData",void 0]].some(n=>{let[i,o]=n;return function(e,t,n,i){if(!t[n])return!1;const o=e[n];return null===o?(t[n]=!1,!1):void 0===i?!!o:o===i}(e,t,i,o)})}function PK(e,t){const n=CG(e);return t.forEach(e=>{delete n[e],"rowGroup"===e?delete n.rowGroupIndex:"pivot"===e&&delete n.pivotIndex}),n}var TK={moduleName:"DataType",version:KN,beans:[class extends vO{constructor(){super(...arguments),this.beanName="dataTypeSvc",this.dataTypeDefinitions={},this.isPendingInference=!1,this.isColumnTypeOverrideInDataTypeDefinitions=!1,this.columnStateUpdatesPendingInference={},this.columnStateUpdateListenerDestroyFuncs=[],this.columnDefinitionPropsPerDataType={number:()=>({cellEditor:"agNumberCellEditor"}),boolean:()=>({cellEditor:"agCheckboxCellEditor",cellRenderer:"agCheckboxCellRenderer",getFindText:()=>null,suppressKeyboardEvent:e=>!!e.colDef.editable&&e.event.key===sV.SPACE}),date(e){let{formatValue:t}=e;return{cellEditor:"agDateCellEditor",keyCreator:t}},dateString(e){let{formatValue:t}=e;return{cellEditor:"agDateStringCellEditor",keyCreator:t}},dateTime(e){return this.date(e)},dateTimeString(e){return this.dateString(e)},object(e){let{formatValue:t,colModel:n,colId:i}=e;return{cellEditorParams:{useFormatter:!0},comparator:(e,o)=>{const r=n.getColDefCol(i),s=null===r||void 0===r?void 0:r.getColDef();if(!r||!s)return 0;const a=null==e?"":t({column:r,node:null,value:e}),l=null==o?"":t({column:r,node:null,value:o});return a===l?0:a>l?1:-1},keyCreator:t}},text:()=>({})}}wireBeans(e){this.colModel=e.colModel}postConstruct(){this.processDataTypeDefinitions(),this.addManagedPropertyListener("dataTypeDefinitions",e=>{this.processDataTypeDefinitions(),this.colModel.recreateColumnDefs(e)})}processDataTypeDefinitions(){var e;const t=this.getDefaultDataTypes(),n={},i={},o=e=>t=>{const{column:n,node:i,value:o}=t;let r=n.getColDef().valueFormatter;return r===e.groupSafeValueFormatter&&(r=e.valueFormatter),this.beans.valueSvc.formatValue(n,i,o,r)};for(const h of Object.keys(t)){const e=t[h],r=d(d({},e),{},{groupSafeValueFormatter:AK(e,this.gos)});n[h]=r,i[h]=o(r)}const r=null!==(e=this.gos.get("dataTypeDefinitions"))&&void 0!==e?e:{},s={};for(const d of Object.keys(r)){const e=r[d],a=this.processDataTypeDefinition(e,r,[d],t);a&&(n[d]=a,e.dataTypeMatcher&&(s[d]=e.dataTypeMatcher),i[d]=o(a))}const{valueParser:a,valueFormatter:l}=t.object,{valueParser:u,valueFormatter:c}=n.object;this.hasObjectValueParser=u!==a,this.hasObjectValueFormatter=c!==l,this.formatValueFuncs=i,this.dataTypeDefinitions=n,this.dataTypeMatchers=this.sortKeysInMatchers(s,t)}sortKeysInMatchers(e,t){const n=d({},e);for(const o of EK){var i;delete n[o],n[o]=null!==(i=e[o])&&void 0!==i?i:t[o].dataTypeMatcher}return n}processDataTypeDefinition(e,t,n,i){let o;const r=e.extendsDataType;if(e.columnTypes&&(this.isColumnTypeOverrideInDataTypeDefinitions=!0),e.extendsDataType===e.baseDataType){let n=i[r];const s=t[r];if(n&&s&&(n=s),!kK(e,n,r))return;o=FK(n,e)}else{if(n.includes(r))return void iB(44);const s=t[r];if(!kK(e,s,r))return;const a=this.processDataTypeDefinition(s,t,[...n,r],i);if(!a)return;o=FK(a,e)}return d(d({},o),{},{groupSafeValueFormatter:AK(o,this.gos)})}updateColDefAndGetColumnType(e,t,n){let{cellDataType:i}=t;const{field:o}=t;if(void 0===i&&(i=e.cellDataType),null!=i&&!0!==i||(i=!!this.canInferCellDataType(e,t)&&this.inferCellDataType(o,n)),!i)return void(e.cellDataType=!1);const r=this.dataTypeDefinitions[i];if(r)return e.cellDataType=i,r.groupSafeValueFormatter&&(e.valueFormatter=r.groupSafeValueFormatter),r.valueParser&&(e.valueParser=r.valueParser),r.suppressDefaultProperties||this.setColDefPropertiesForBaseDataType(e,i,r,n),r.columnTypes;iB(47,{cellDataType:i})}addColumnListeners(e){if(!this.isPendingInference)return;const t=this.columnStateUpdatesPendingInference[e.getColId()];if(!t)return;const n=e=>{t.add(e.key)};e.__addEventListener("columnStateUpdated",n),this.columnStateUpdateListenerDestroyFuncs.push(()=>e.__removeEventListener("columnStateUpdated",n))}canInferCellDataType(e,t){const{gos:n}=this;if(!uB(n))return!1;const i={cellRenderer:!0,valueGetter:!0,valueParser:!0,refData:!0};if(RK(t,i))return!1;const o=null===t.type?e.type:t.type;if(o){var r;const e=null!==(r=n.get("columnTypes"))&&void 0!==r?r:{};if(YO(o).some(t=>{const n=e[t.trim()];return n&&RK(n,i)}))return!1}return!RK(e,i)}inferCellDataType(e,t){if(!e)return;let n;const i=this.getInitialData();if(i){const t=e.indexOf(".")>=0&&!this.gos.get("suppressFieldDotNotation");n=QI(i,e,t)}else this.initWaitForRowData(t);if(null==n)return;const o=Object.keys(this.dataTypeMatchers).find(e=>this.dataTypeMatchers[e](n));return null!==o&&void 0!==o?o:"object"}getInitialData(){const e=this.gos.get("rowData");if(null!==e&&void 0!==e&&e.length)return e[0];if(this.initialData)return this.initialData;{var t;const e=null===(t=this.beans.rowModel.rootNode)||void 0===t?void 0:t.allLeafChildren;if(null!==e&&void 0!==e&&e.length)return e[0].data}return null}initWaitForRowData(e){if(this.columnStateUpdatesPendingInference[e]=new Set,this.isPendingInference)return;this.isPendingInference=!0;const t=this.isColumnTypeOverrideInDataTypeDefinitions,{colAutosize:n,eventSvc:i}=this.beans;t&&n&&(n.shouldQueueResizeOperations=!0);const[o]=this.addManagedEventListeners({rowDataUpdateStarted:e=>{const{firstRowData:r}=e;r&&(null===o||void 0===o||o(),this.isPendingInference=!1,this.processColumnsPendingInference(r,t),this.columnStateUpdatesPendingInference={},t&&(null===n||void 0===n||n.processResizeOperations()),i.dispatchEvent({type:"dataTypesInferred"}))}})}processColumnsPendingInference(e,t){this.initialData=e;const n=[];this.destroyColumnStateUpdateListeners();const i={},o={};for(const r of Object.keys(this.columnStateUpdatesPendingInference)){const e=this.columnStateUpdatesPendingInference[r],s=this.colModel.getCol(r);if(!s)return;const a=s.getColDef();if(!this.resetColDefIntoCol(s,"cellDataTypeInferred"))return;const l=s.getColDef();if(t&&l.type&&l.type!==a.type){const t=PK(s,e);t.rowGroup&&null==t.rowGroupIndex&&(i[r]=t),t.pivot&&null==t.pivotIndex&&(o[r]=t),n.push(t)}}t&&n.push(...this.generateColumnStateForRowGroupAndPivotIndexes(i,o)),n.length&&mG(this.beans,{state:n},"cellDataTypeInferred"),this.initialData=null}generateColumnStateForRowGroupAndPivotIndexes(e,t){const n={},{rowGroupColsSvc:i,pivotColsSvc:o}=this.beans;return null===i||void 0===i||i.restoreColumnOrder(n,e),null===o||void 0===o||o.restoreColumnOrder(n,t),Object.values(n)}resetColDefIntoCol(e,t){const n=e.getUserProvidedColDef();if(!n)return!1;const i=sG(this.beans,n,e.getColId());return e.setColDef(i,n,t),!0}getDateStringTypeDefinition(e){var t;const{dateString:n}=this.dataTypeDefinitions;return e&&null!==(t=this.getDataTypeDefinition(e))&&void 0!==t?t:n}getDateParserFunction(e){return this.getDateStringTypeDefinition(e).dateParser}getDateFormatterFunction(e){return this.getDateStringTypeDefinition(e).dateFormatter}getDateIncludesTimeFlag(e){return"dateTime"===e||"dateTimeString"===e}getDataTypeDefinition(e){const t=e.getColDef();if(t.cellDataType)return this.dataTypeDefinitions[t.cellDataType]}getBaseDataType(e){var t;return null===(t=this.getDataTypeDefinition(e))||void 0===t?void 0:t.baseDataType}checkType(e,t){var n;if(null==t)return!0;const i=null===(n=this.getDataTypeDefinition(e))||void 0===n?void 0:n.dataTypeMatcher;return!i||i(t)}validateColDef(e){const t=e=>iB(48,{property:e});if("object"===e.cellDataType){const{object:n}=this.dataTypeDefinitions;e.valueFormatter!==n.groupSafeValueFormatter||this.hasObjectValueFormatter||t("Formatter"),e.editable&&e.valueParser===n.valueParser&&!this.hasObjectValueParser&&t("Parser")}}postProcess(e){var t;const n=e.cellDataType;if(!n||"string"!==typeof n)return;const{dataTypeDefinitions:i,beans:o,formatValueFuncs:r}=this,s=i[n];null===(t=o.colFilter)||void 0===t||t.setColDefPropsForDataType(e,s,r[n])}getFormatValue(e){return this.formatValueFuncs[e]}isColPendingInference(e){return this.isPendingInference&&!!this.columnStateUpdatesPendingInference[e]}setColDefPropertiesForBaseDataType(e,t,n,i){const o=this.formatValueFuncs[t],r=this.columnDefinitionPropsPerDataType[n.baseDataType]({colDef:e,cellDataType:t,colModel:this.colModel,dataTypeDefinition:n,colId:i,formatValue:o});Object.assign(e,r)}getDateObjectTypeDef(e){const t=this.getLocaleTextFunc(),n=this.getDateIncludesTimeFlag(e);return{baseDataType:e,valueParser:e=>wH(e.newValue&&String(e.newValue)),valueFormatter:e=>{var i;return null==e.value?"":e.value instanceof Date&&!isNaN(e.value.getTime())?null!==(i=pH(e.value,n))&&void 0!==i?i:"":t("invalidDate","Invalid Date")},dataTypeMatcher:e=>e instanceof Date}}getDateStringTypeDef(e){const t=this.getDateIncludesTimeFlag(e);return{baseDataType:e,dateParser:e=>{var t;return null!==(t=wH(e))&&void 0!==t?t:void 0},dateFormatter:e=>{var n;return null!==(n=pH(null!==e&&void 0!==e?e:null,t))&&void 0!==n?n:void 0},valueParser:e=>fH(String(e.newValue))?e.newValue:null,valueFormatter:e=>fH(String(e.value))?String(e.value):"",dataTypeMatcher:e=>"string"===typeof e&&fH(e)}}getDefaultDataTypes(){const e=this.getLocaleTextFunc();return{number:{baseDataType:"number",valueParser:e=>{var t,n;return""===(null===(t=e.newValue)||void 0===t||null===(n=t.trim)||void 0===n?void 0:n.call(t))?null:Number(e.newValue)},valueFormatter:t=>null==t.value?"":"number"!==typeof t.value||isNaN(t.value)?e("invalidNumber","Invalid Number"):String(t.value),dataTypeMatcher:e=>"number"===typeof e},text:{baseDataType:"text",valueParser:e=>""===e.newValue?null:qI(e.newValue),dataTypeMatcher:e=>"string"===typeof e},boolean:{baseDataType:"boolean",valueParser:e=>{var t,n;return null==e.newValue?e.newValue:""===(null===(t=e.newValue)||void 0===t||null===(n=t.trim)||void 0===n?void 0:n.call(t))?null:"true"===String(e.newValue).toLowerCase()},valueFormatter:e=>null==e.value?"":String(e.value),dataTypeMatcher:e=>"boolean"===typeof e},date:this.getDateObjectTypeDef("date"),dateString:this.getDateStringTypeDef("dateString"),dateTime:this.getDateObjectTypeDef("dateTime"),dateTimeString:d(d({},this.getDateStringTypeDef("dateTimeString")),{},{dataTypeMatcher:e=>"string"===typeof e&&function(e){return fH(e,!0)}(e)}),object:{baseDataType:"object",valueParser:()=>null,valueFormatter:e=>{var t;return null!==(t=qI(e.value))&&void 0!==t?t:""}}}}destroyColumnStateUpdateListeners(){this.columnStateUpdateListenerDestroyFuncs.forEach(e=>e()),this.columnStateUpdateListenerDestroyFuncs=[]}destroy(){this.dataTypeDefinitions={},this.dataTypeMatchers={},this.formatValueFuncs={},this.columnStateUpdatesPendingInference={},this.destroyColumnStateUpdateListeners(),super.destroy()}}],dependsOn:[SK]},_K={moduleName:"ColumnFlex",version:KN,beans:[class extends vO{constructor(){super(...arguments),this.beanName="colFlex"}refreshFlexedColumns(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=null!==(e=t.source)&&void 0!==e?e:"flex";null!=t.viewportWidth&&(this.flexViewportWidth=t.viewportWidth);const i=this.flexViewportWidth;if(!i)return[];const{visibleCols:o}=this.beans,r=o.centerCols;let s=-1;if(t.resizingCols){const e=new Set(t.resizingCols);for(let t=r.length-1;t>=0;t--)if(e.has(r[t])){s=t;break}}let a=!1;const l=r.map((e,t)=>{const n=e.getFlex(),i=null!=n&&n>0&&t>s;return a||(a=i),{col:e,isFlex:i,flex:Math.max(0,null!==n&&void 0!==n?n:0),initialSize:e.getActualWidth(),min:e.getMinWidth(),max:e.getMaxWidth(),targetSize:0}});if(!a)return[];let u=l.length,c=l.reduce((e,t)=>e+t.flex,0),d=i;const h=(e,t)=>{e.frozenSize=t,e.col.setActualWidth(t,n),d-=t,c-=e.flex,u-=1},p=e=>null!=e.frozenSize;for(const m of l)m.isFlex||h(m,m.initialSize);for(;u>0;){const e=Math.round(c<1?d*c:d);let t,n=0,i=0;for(const s of l){if(p(s))continue;t=s,i+=e*(s.flex/c);const o=i-n,r=Math.round(o);s.targetSize=r,n+=r}t&&(t.targetSize+=e-n);let o=0;for(const s of l){if(p(s))continue;const e=s.targetSize,t=Math.min(Math.max(e,s.min),s.max);o+=t-e,s.violationType=t===e?void 0:t<e?"max":"min",s.targetSize=t}const r=0===o?"all":o>0?"min":"max";for(const s of l)p(s)||"all"!==r&&s.violationType!==r||h(s,s.targetSize)}t.skipSetLeft||o.setLeftValues(n),t.updateBodyWidths&&o.updateBodyWidths();const g=l.filter(e=>e.isFlex&&!e.violationType).map(e=>e.col);if(t.fireResizedEvent){const e=l.filter(e=>e.initialSize!==e.frozenSize).map(e=>e.col),t=l.filter(e=>e.flex).map(e=>e.col);gG(this.eventSvc,e,!0,n,t)}return g}initCol(e){const{flex:t,initialFlex:n}=e.colDef;void 0!==t?e.flex=t:void 0!==n&&(e.flex=n)}setColFlex(e,t){e.flex=null!==t&&void 0!==t?t:null,e.dispatchStateUpdatedEvent("flex")}}]},MK={moduleName:"ColumnApi",version:KN,beans:[class extends vO{constructor(){super(...arguments),this.beanName="colDefFactory"}wireBeans(e){this.rowGroupColsSvc=e.rowGroupColsSvc,this.pivotColsSvc=e.pivotColsSvc}getColumnDefs(e,t,n,i){var o,r;const s=e.slice();t?s.sort((e,t)=>n.indexOf(e)-n.indexOf(t)):n&&s.sort((e,t)=>i.indexOf(e)-i.indexOf(t));const a=null===(o=this.rowGroupColsSvc)||void 0===o?void 0:o.columns,l=null===(r=this.pivotColsSvc)||void 0===r?void 0:r.columns;return this.buildColumnDefs(s,a,l)}buildColumnDefs(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];const i=[],o={};return e.forEach(e=>{let r=!0,s=this.createDefFromColumn(e,t,n),a=e.getOriginalParent(),l=null;for(;a;){let e=null;if(a.isPadding()){a=a.getOriginalParent();continue}const t=o[a.getGroupId()];if(t){t.children.push(s),r=!1;break}if(e=this.createDefFromGroup(a),e&&(e.children=[s],o[e.groupId]=e,s=e,a=a.getOriginalParent()),null!=a&&l===a){r=!1;break}l=a}r&&i.push(s)}),i}createDefFromGroup(e){const t=DK(e.getColGroupDef(),["children"]);return t&&(t.groupId=e.getGroupId()),t}createDefFromColumn(e,t,n){const i=DK(e.getColDef());return i.colId=e.getColId(),i.width=e.getActualWidth(),i.rowGroup=e.isRowGroupActive(),i.rowGroupIndex=e.isRowGroupActive()?t.indexOf(e):null,i.pivot=e.isPivotActive(),i.pivotIndex=e.isPivotActive()?n.indexOf(e):null,i.aggFunc=e.isValueActive()?e.getAggFunc():null,i.hide=!e.isVisible()||void 0,i.pinned=e.isPinned()?e.getPinned():null,i.sort=e.getSort()?e.getSort():null,i.sortIndex=null!=e.getSortIndex()?e.getSortIndex():null,i}}],apiFunctions:{getColumnDef:function(e,t){const n=e.colModel.getColDefCol(t);return n?n.getColDef():null},getDisplayNameForColumn:function(e,t,n){return e.colNames.getDisplayNameForColumn(t,n)||""},getColumn:function(e,t){return e.colModel.getColDefCol(t)},getColumns:function(e){return e.colModel.getColDefCols()},applyColumnState:function(e,t){return mG(e,t,"api")},getColumnState:function(e){return wG(e)},resetColumnState:function(e){vG(e,"api")},isPinning:function(e){return e.visibleCols.isPinningLeft()||e.visibleCols.isPinningRight()},isPinningLeft:function(e){return e.visibleCols.isPinningLeft()},isPinningRight:function(e){return e.visibleCols.isPinningRight()},getDisplayedColAfter:function(e,t){return e.visibleCols.getColAfter(t)},getDisplayedColBefore:function(e,t){return e.visibleCols.getColBefore(t)},setColumnsVisible:function(e,t,n){e.colModel.setColsVisible(t,n,"api")},setColumnsPinned:function(e,t,n){var i;null===(i=e.pinnedCols)||void 0===i||i.setColsPinned(t,n,"api")},getAllGridColumns:function(e){return e.colModel.getCols()},getDisplayedLeftColumns:function(e){return e.visibleCols.leftCols},getDisplayedCenterColumns:function(e){return e.visibleCols.centerCols},getDisplayedRightColumns:function(e){return e.visibleCols.rightCols},getAllDisplayedColumns:function(e){return e.visibleCols.allCols},getAllDisplayedVirtualColumns:function(e){return e.colViewport.getViewportColumns()},getColumnDefs:function(e){return e.colModel.getColumnDefs()}}};var IK,LK,NK={moduleName:"CellRendererFunction",version:KN,beans:[class extends vO{constructor(){super(...arguments),this.beanName="agCompUtils"}adaptFunction(e,t){if(!e.cellRenderer)return null;return class{refresh(){return!1}getGui(){return this.eGui}init(e){const n=t(e),i=typeof n;this.eGui="string"!==i&&"number"!==i&&"boolean"!==i?null!=n?n:MN({tag:"span"}):pN("<span>"+n+"</span>")}}}}]},BK="object"!==typeof window||!(null!==(OI=window)&&void 0!==OI&&null!==(OI=OI.document)&&void 0!==OI&&null!==(OI=OI.fonts)&&void 0!==OI&&OI.forEach),OK=(e,t,n,i,o,r)=>{if(BK)return;if(yq)return;i&&(e="@layer ".concat(CSS.escape(i)," { ").concat(e," }"));let s=zK.map.get(t);if(s||(s=[],zK.map.set(t,s)),s.find(t=>t.css===e))return;const a=document.createElement("style");r&&a.setAttribute("nonce",r),a.dataset.agGlobalCss=n,a.textContent=e;const l={css:e,el:a,priority:o};let u;for(const c of s){if(c.priority>o)break;u=c}if(u){u.el.insertAdjacentElement("afterend",a);const e=s.indexOf(u);s.splice(e+1,0,l)}else t.insertBefore(a,t.querySelector(":not(title, meta)")),s.push(l)},GK=(e,t,n)=>{OK(':where(.ag-root-wrapper,.ag-popup,.ag-dnd-ghost,.ag-chart),:where(.ag-root-wrapper,.ag-popup,.ag-dnd-ghost,.ag-chart) :where([class^=ag-]){box-sizing:border-box;&:after,&:before{box-sizing:border-box}&:where(div,span,label):focus-visible{box-shadow:inset var(--ag-focus-shadow);outline:none;&:where(.invalid){box-shadow:inset var(--ag-focus-error-shadow)}}&:where(button){color:inherit}}:where(.ag-root-wrapper,.ag-popup,.ag-dnd-ghost,.ag-chart) :where([class^=ag-]) ::-ms-clear{display:none}.ag-aria-description-container{border:0;z-index:9999;clip:rect(1px,1px,1px,1px);height:1px;overflow:hidden;padding:0;position:absolute;white-space:nowrap;width:1px}.ag-hidden{display:none!important}.ag-invisible{visibility:hidden!important}.ag-unselectable{-webkit-user-select:none;-moz-user-select:none;user-select:none}.ag-selectable{-webkit-user-select:text;-moz-user-select:text;user-select:text}.ag-tab-guard{display:block;height:0;position:absolute;width:0}:where(.ag-virtual-list-viewport) .ag-tab-guard{position:sticky}.ag-tab-guard-top{top:1px}.ag-tab-guard-bottom{bottom:1px}.ag-shake-left-to-right{animation-direction:alternate;animation-duration:.2s;animation-iteration-count:infinite;animation-name:ag-shake-left-to-right}@keyframes ag-shake-left-to-right{0%{padding-left:6px;padding-right:2px}to{padding-left:2px;padding-right:6px}}.ag-body-horizontal-scroll-viewport,.ag-body-vertical-scroll-viewport,.ag-body-viewport,.ag-center-cols-viewport,.ag-floating-bottom-viewport,.ag-floating-top-viewport,.ag-header-viewport,.ag-sticky-bottom-viewport,.ag-sticky-top-viewport,.ag-virtual-list-viewport{flex:1 1 auto;height:100%;min-width:0;overflow:hidden;position:relative}.ag-viewport{position:relative}.ag-spanning-container{position:absolute;top:0;z-index:1}.ag-body-viewport,.ag-center-cols-viewport,.ag-floating-bottom-viewport,.ag-floating-top-viewport,.ag-header-viewport,.ag-sticky-bottom-viewport,.ag-sticky-top-viewport{overflow-x:auto;-ms-overflow-style:none!important;scrollbar-width:none!important;&::-webkit-scrollbar{display:none!important}}.ag-body-viewport{display:flex;overflow-x:hidden;&:where(.ag-layout-normal){overflow-y:auto;-webkit-overflow-scrolling:touch}}.ag-floating-bottom-container,.ag-floating-top-container,.ag-sticky-bottom-container,.ag-sticky-top-container{min-height:1px}.ag-center-cols-viewport{min-height:100%;width:100%}.ag-body-horizontal-scroll-viewport{overflow-x:scroll}.ag-body-vertical-scroll-viewport{overflow-y:scroll}.ag-virtual-list-viewport{overflow:auto;width:100%}.ag-body-container,.ag-body-horizontal-scroll-container,.ag-body-vertical-scroll-container,.ag-center-cols-container,.ag-floating-bottom-container,.ag-floating-bottom-full-width-container,.ag-floating-top-container,.ag-full-width-container,.ag-header-container,.ag-pinned-left-cols-container,.ag-pinned-right-cols-container,.ag-sticky-bottom-container,.ag-sticky-top-container,.ag-virtual-list-container{position:relative}.ag-floating-bottom-container,.ag-floating-top-container,.ag-header-container,.ag-pinned-left-floating-bottom,.ag-pinned-left-floating-top,.ag-pinned-right-floating-bottom,.ag-pinned-right-floating-top,.ag-sticky-bottom-container,.ag-sticky-top-container{height:100%;white-space:nowrap}.ag-center-cols-container,.ag-pinned-right-cols-container{display:block}.ag-body-horizontal-scroll-container{height:100%}.ag-body-vertical-scroll-container{width:100%}.ag-floating-bottom-full-width-container,.ag-floating-top-full-width-container,.ag-full-width-container,.ag-sticky-bottom-full-width-container,.ag-sticky-top-full-width-container{pointer-events:none;position:absolute;top:0}:where(.ag-ltr) .ag-floating-bottom-full-width-container,:where(.ag-ltr) .ag-floating-top-full-width-container,:where(.ag-ltr) .ag-full-width-container,:where(.ag-ltr) .ag-sticky-bottom-full-width-container,:where(.ag-ltr) .ag-sticky-top-full-width-container{left:0}:where(.ag-rtl) .ag-floating-bottom-full-width-container,:where(.ag-rtl) .ag-floating-top-full-width-container,:where(.ag-rtl) .ag-full-width-container,:where(.ag-rtl) .ag-sticky-bottom-full-width-container,:where(.ag-rtl) .ag-sticky-top-full-width-container{right:0}.ag-full-width-container{width:100%}.ag-floating-bottom-full-width-container,.ag-floating-top-full-width-container{display:inline-block;height:100%;overflow:hidden;width:100%}.ag-virtual-list-container{overflow:hidden}.ag-body{display:flex;flex:1 1 auto;flex-direction:row!important;min-height:0;position:relative}.ag-body-horizontal-scroll,.ag-body-vertical-scroll{display:flex;min-height:0;min-width:0;position:relative;&:where(.ag-scrollbar-invisible){bottom:0;position:absolute;&:where(.ag-apple-scrollbar){opacity:0;transition:opacity .4s;visibility:hidden;&:where(.ag-scrollbar-scrolling,.ag-scrollbar-active){opacity:1;visibility:visible}}}}.ag-body-horizontal-scroll{width:100%;&:where(.ag-scrollbar-invisible){left:0;right:0}}.ag-body-vertical-scroll{height:100%;&:where(.ag-scrollbar-invisible){top:0;z-index:10}}:where(.ag-ltr) .ag-body-vertical-scroll{&:where(.ag-scrollbar-invisible){right:0}}:where(.ag-rtl) .ag-body-vertical-scroll{&:where(.ag-scrollbar-invisible){left:0}}.ag-force-vertical-scroll{overflow-y:scroll!important}.ag-horizontal-left-spacer,.ag-horizontal-right-spacer{height:100%;min-width:0;overflow-x:scroll;&:where(.ag-scroller-corner){overflow-x:hidden}}:where(.ag-row-animation) .ag-row{transition:transform .4s,top .4s,opacity .2s;&:where(.ag-after-created){transition:transform .4s,top .4s,height .4s,opacity .2s}}:where(.ag-row-animation.ag-prevent-animation) .ag-row{transition:none!important;&:where(.ag-row.ag-after-created){transition:none!important}}:where(.ag-row-no-animation) .ag-row{transition:none}.ag-row-loading{align-items:center;display:flex}.ag-row-position-absolute{position:absolute}.ag-row-position-relative{position:relative}.ag-full-width-row{overflow:hidden;pointer-events:all}.ag-row-inline-editing{z-index:1}.ag-row-dragging{z-index:2}.ag-stub-cell{align-items:center;display:flex}.ag-cell{display:inline-block;height:100%;position:absolute;white-space:nowrap;&:focus-visible{box-shadow:none}}.ag-cell-value{flex:1 1 auto}.ag-cell-value,.ag-group-value{overflow:hidden;text-overflow:ellipsis}.ag-cell-wrap-text{white-space:normal;word-break:break-word}:where(.ag-cell) .ag-icon{display:inline-block;vertical-align:middle}.ag-floating-top{display:flex;overflow:hidden;position:relative;white-space:nowrap;width:100%}:where(.ag-floating-top:not(.ag-invisible)){border-bottom:var(--ag-pinned-row-border)}.ag-floating-bottom{display:flex;overflow:hidden;position:relative;white-space:nowrap;width:100%}:where(.ag-floating-bottom:not(.ag-invisible)){border-top:var(--ag-pinned-row-border)}.ag-sticky-bottom,.ag-sticky-top{background-color:var(--ag-background-color);display:flex;height:0;overflow:hidden;position:absolute;width:100%;z-index:1}.ag-opacity-zero{opacity:0!important}.ag-cell-label-container{align-items:center;display:flex;flex-direction:row-reverse;height:100%;justify-content:space-between;width:100%}:where(.ag-right-aligned-header){.ag-cell-label-container{flex-direction:row}.ag-header-cell-text{text-align:end}}.ag-column-group-icons{display:block;>*{cursor:pointer}}:where(.ag-ltr){direction:ltr;.ag-body,.ag-body-horizontal-scroll,.ag-body-viewport,.ag-floating-bottom,.ag-floating-top,.ag-header,.ag-sticky-bottom,.ag-sticky-top{flex-direction:row}}:where(.ag-rtl){direction:rtl;text-align:right;.ag-body,.ag-body-horizontal-scroll,.ag-body-viewport,.ag-floating-bottom,.ag-floating-top,.ag-header,.ag-sticky-bottom,.ag-sticky-top{flex-direction:row-reverse}.ag-icon-contracted,.ag-icon-expanded,.ag-icon-tree-closed{display:block}}:where(.ag-rtl){.ag-icon-contracted,.ag-icon-expanded,.ag-icon-tree-closed{transform:rotate(180deg)}}:where(.ag-rtl){.ag-icon-contracted,.ag-icon-expanded,.ag-icon-tree-closed{transform:rotate(-180deg)}}.ag-measurement-container{height:0;overflow:hidden;visibility:hidden;width:0}.ag-measurement-element-border{display:inline-block;&:before{border-left:var(--ag-internal-measurement-border);content:"";display:block}}.ag-group{position:relative;width:100%}.ag-group-title-bar{align-items:center;display:flex;padding:var(--ag-spacing)}.ag-group-title{display:inline;min-width:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}:where(.ag-group-title-bar) .ag-group-title{cursor:default}.ag-group-toolbar{align-items:center;display:flex;padding:var(--ag-spacing)}.ag-group-container{display:flex}.ag-disabled .ag-group-container{pointer-events:none}.ag-disabled-group-container,.ag-disabled-group-title-bar{opacity:.5}.ag-group-container-horizontal{flex-flow:row wrap}.ag-group-container-vertical{flex-direction:column}.ag-group-title-bar-icon{cursor:pointer;flex:none}:where(.ag-ltr) .ag-group-title-bar-icon{margin-right:var(--ag-spacing)}:where(.ag-rtl) .ag-group-title-bar-icon{margin-left:var(--ag-spacing)}:where(.ag-group-item-alignment-stretch) .ag-group-item{align-items:stretch}:where(.ag-group-item-alignment-start) .ag-group-item{align-items:flex-start}:where(.ag-group-item-alignment-end) .ag-group-item{align-items:flex-end}.ag-popup-child{top:0;z-index:5;&:where(:not(.ag-tooltip-custom)){box-shadow:var(--ag-popup-shadow)}}.ag-popup-editor{position:absolute;-webkit-user-select:none;-moz-user-select:none;user-select:none}.ag-large-text-input{display:block}:where(.ag-ltr) .ag-row:not(.ag-row-level-0) .ag-pivot-leaf-group{margin-left:var(--ag-row-group-indent-size)}:where(.ag-rtl) .ag-row:not(.ag-row-level-0) .ag-pivot-leaf-group{margin-right:var(--ag-row-group-indent-size)}:where(.ag-ltr) .ag-row-group-leaf-indent{margin-left:calc(var(--ag-cell-widget-spacing) + var(--ag-icon-size))}:where(.ag-rtl) .ag-row-group-leaf-indent{margin-right:calc(var(--ag-cell-widget-spacing) + var(--ag-icon-size))}.ag-value-change-delta{padding:0 2px}.ag-value-change-delta-up{color:var(--ag-value-change-delta-up-color)}.ag-value-change-delta-down{color:var(--ag-value-change-delta-down-color)}.ag-value-change-value{background-color:transparent;border-radius:1px;padding-left:1px;padding-right:1px;transition:background-color 1s}.ag-value-change-value-highlight{background-color:var(--ag-value-change-value-highlight-background-color);transition:background-color .1s}.ag-cell-data-changed{background-color:var(--ag-value-change-value-highlight-background-color)!important}.ag-cell-data-changed-animation{background-color:transparent}.ag-cell-highlight{background-color:var(--ag-range-selection-highlight-color)!important}.ag-row,.ag-spanned-row{color:var(--ag-cell-text-color);font-family:var(--ag-cell-font-family);font-size:var(--ag-data-font-size);white-space:nowrap;--ag-internal-content-line-height:calc(min(var(--ag-row-height), var(--ag-line-height, 1000px)) - var(--ag-internal-row-border-width, 1px) - 2px)}.ag-row{background-color:var(--ag-background-color);border-bottom:var(--ag-row-border);height:var(--ag-row-height);width:100%;&.ag-row-editing-invalid{background-color:var(--ag-full-row-edit-invalid-background-color)}}:where(.ag-body-vertical-content-no-gap>div>div>div,.ag-body-vertical-content-no-gap>div>div>div>div)>.ag-row-last{border-bottom-color:transparent}.ag-sticky-bottom{border-top:var(--ag-row-border);box-sizing:content-box!important}.ag-group-contracted,.ag-group-expanded{cursor:pointer}.ag-cell,.ag-full-width-row .ag-cell-wrapper.ag-row-group{border:1px solid transparent;line-height:var(--ag-internal-content-line-height);-webkit-font-smoothing:subpixel-antialiased}:where(.ag-ltr) .ag-cell{border-right:var(--ag-column-border)}:where(.ag-rtl) .ag-cell{border-left:var(--ag-column-border)}.ag-spanned-cell-wrapper{background-color:var(--ag-background-color);position:absolute}.ag-spanned-cell-wrapper>.ag-spanned-cell{display:block;position:relative}:where(.ag-ltr) :where(.ag-body-horizontal-content-no-gap) .ag-column-last{border-right-color:transparent}:where(.ag-rtl) :where(.ag-body-horizontal-content-no-gap) .ag-column-last{border-left-color:transparent}.ag-cell-wrapper{align-items:center;display:flex;>:where(:not(.ag-cell-value,.ag-group-value)){align-items:center;display:flex;height:var(--ag-internal-content-line-height)}&:where(.ag-row-group){align-items:flex-start}:where(.ag-full-width-row) &:where(.ag-row-group){align-items:center;height:100%}}:where(.ag-ltr) .ag-cell-wrapper{padding-left:calc(var(--ag-indentation-level)*var(--ag-row-group-indent-size))}:where(.ag-rtl) .ag-cell-wrapper{padding-right:calc(var(--ag-indentation-level)*var(--ag-row-group-indent-size))}:where(.ag-cell-wrap-text:not(.ag-cell-auto-height)) .ag-cell-wrapper{align-items:normal;height:100%;:where(.ag-cell-value){height:100%}}:where(.ag-ltr) .ag-row>.ag-cell-wrapper.ag-row-group{padding-left:calc(var(--ag-cell-horizontal-padding) + var(--ag-row-group-indent-size)*var(--ag-indentation-level))}:where(.ag-rtl) .ag-row>.ag-cell-wrapper.ag-row-group{padding-right:calc(var(--ag-cell-horizontal-padding) + var(--ag-row-group-indent-size)*var(--ag-indentation-level))}.ag-cell-focus:not(.ag-cell-range-selected):focus-within,.ag-cell-range-single-cell,.ag-cell-range-single-cell.ag-cell-range-handle,.ag-context-menu-open .ag-cell-focus:not(.ag-cell-range-selected),.ag-context-menu-open .ag-full-width-row.ag-row-focus .ag-cell-wrapper.ag-row-group,.ag-full-width-row.ag-row-focus:focus .ag-cell-wrapper.ag-row-group{border:1px solid;border-color:var(--ag-range-selection-border-color);border-style:var(--ag-range-selection-border-style);outline:initial}.ag-full-width-row.ag-row-focus:focus{box-shadow:none}:where(.ag-ltr) .ag-group-contracted,:where(.ag-ltr) .ag-group-expanded,:where(.ag-ltr) .ag-row-drag,:where(.ag-ltr) .ag-selection-checkbox{margin-right:var(--ag-cell-widget-spacing)}:where(.ag-rtl) .ag-group-contracted,:where(.ag-rtl) .ag-group-expanded,:where(.ag-rtl) .ag-row-drag,:where(.ag-rtl) .ag-selection-checkbox{margin-left:var(--ag-cell-widget-spacing)}:where(.ag-ltr) .ag-group-child-count{margin-left:3px}:where(.ag-rtl) .ag-group-child-count{margin-right:3px}.ag-row-highlight-above:after,.ag-row-highlight-below:after,.ag-row-highlight-inside:after{background-color:var(--ag-range-selection-border-color);content:"";height:1px;pointer-events:none;position:absolute;width:calc(100% - 1px)}:where(.ag-ltr) .ag-row-highlight-above:after,:where(.ag-ltr) .ag-row-highlight-below:after,:where(.ag-ltr) .ag-row-highlight-inside:after{left:1px}:where(.ag-rtl) .ag-row-highlight-above:after,:where(.ag-rtl) .ag-row-highlight-below:after,:where(.ag-rtl) .ag-row-highlight-inside:after{right:1px}.ag-row-highlight-above:after{top:0}.ag-row-highlight-below:after{bottom:0}.ag-row-highlight-indent:after{display:block;width:auto}:where(.ag-ltr) .ag-row-highlight-indent:after{left:calc((var(--ag-cell-widget-spacing) + var(--ag-icon-size))*2 + var(--ag-cell-horizontal-padding) + var(--ag-row-highlight-level)*var(--ag-row-group-indent-size));right:1px}:where(.ag-rtl) .ag-row-highlight-indent:after{left:1px;right:calc((var(--ag-cell-widget-spacing) + var(--ag-icon-size))*2 + var(--ag-cell-horizontal-padding) + var(--ag-row-highlight-level)*var(--ag-row-group-indent-size))}.ag-row-highlight-inside:after{background-color:var(--ag-selected-row-background-color);border:1px solid var(--ag-range-selection-border-color);display:block;height:auto;inset:0;width:auto}.ag-row-odd{background-color:var(--ag-odd-row-background-color)}.ag-row-selected:before{background-color:var(--ag-selected-row-background-color);content:"";display:block;inset:0;pointer-events:none;position:absolute}.ag-row-hover.ag-full-width-row.ag-row-group:before,.ag-row-hover:not(.ag-full-width-row):before{background-color:var(--ag-row-hover-color);content:"";display:block;inset:0;pointer-events:none;position:absolute}.ag-row-hover.ag-row-selected:before{background-color:var(--ag-row-hover-color);background-image:linear-gradient(var(--ag-selected-row-background-color),var(--ag-selected-row-background-color))}.ag-row.ag-full-width-row.ag-row-group>*{position:relative}.ag-column-hover{background-color:var(--ag-column-hover-color)}.ag-header-range-highlight{background-color:var(--ag-range-header-highlight-color)}.ag-right-aligned-cell{font-variant-numeric:tabular-nums}:where(.ag-ltr) .ag-right-aligned-cell{text-align:right}:where(.ag-rtl) .ag-right-aligned-cell{text-align:left}.ag-right-aligned-cell .ag-cell-value,.ag-right-aligned-cell .ag-group-value{margin-left:auto}:where(.ag-ltr) .ag-cell:not(.ag-cell-inline-editing),:where(.ag-ltr) .ag-full-width-row .ag-cell-wrapper.ag-row-group{padding-left:calc(var(--ag-cell-horizontal-padding) - 1px + var(--ag-row-group-indent-size)*var(--ag-indentation-level));padding-right:calc(var(--ag-cell-horizontal-padding) - 1px)}:where(.ag-rtl) .ag-cell:not(.ag-cell-inline-editing),:where(.ag-rtl) .ag-full-width-row .ag-cell-wrapper.ag-row-group{padding-left:calc(var(--ag-cell-horizontal-padding) - 1px);padding-right:calc(var(--ag-cell-horizontal-padding) - 1px + var(--ag-row-group-indent-size)*var(--ag-indentation-level))}.ag-row>.ag-cell-wrapper{padding-left:calc(var(--ag-cell-horizontal-padding) - 1px);padding-right:calc(var(--ag-cell-horizontal-padding) - 1px)}.ag-row-dragging{cursor:move;opacity:.5}.ag-details-row{background-color:var(--ag-background-color);padding:calc(var(--ag-spacing)*3.75)}.ag-layout-auto-height,.ag-layout-print{.ag-center-cols-container,.ag-center-cols-viewport{min-height:150px}}.ag-overlay-loading-wrapper{background-color:var(--ag-modal-overlay-background-color)}.ag-skeleton-container{align-content:center;height:100%;width:100%}.ag-skeleton-effect{animation:ag-skeleton-loading 1.5s ease-in-out .5s infinite;background-color:var(--ag-row-loading-skeleton-effect-color);border-radius:.25rem;height:1em;width:100%}:where(.ag-ltr) .ag-right-aligned-cell .ag-skeleton-effect{margin-left:auto}:where(.ag-rtl) .ag-right-aligned-cell .ag-skeleton-effect{margin-right:auto}@keyframes ag-skeleton-loading{0%{background-color:var(--ag-row-loading-skeleton-effect-color)}50%{background-color:color-mix(in srgb,transparent,var(--ag-row-loading-skeleton-effect-color) 40%)}to{background-color:var(--ag-row-loading-skeleton-effect-color)}}.ag-loading{align-items:center;display:flex;height:100%}:where(.ag-ltr) .ag-loading{padding-left:var(--ag-cell-horizontal-padding)}:where(.ag-rtl) .ag-loading{padding-right:var(--ag-cell-horizontal-padding)}:where(.ag-ltr) .ag-loading-icon{padding-right:var(--ag-cell-widget-spacing)}:where(.ag-rtl) .ag-loading-icon{padding-left:var(--ag-cell-widget-spacing)}.ag-icon-loading{animation-duration:1s;animation-iteration-count:infinite;animation-name:spin;animation-timing-function:linear}@keyframes spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}.ag-input-wrapper,.ag-picker-field-wrapper{align-items:center;display:flex;flex:1 1 auto;line-height:normal;position:relative}.ag-input-field{align-items:center;display:flex;flex-direction:row}.ag-input-field-input:where(:not([type=checkbox],[type=radio])){flex:1 1 auto;min-width:0;width:100%}.ag-header{background-color:var(--ag-header-background-color);border-bottom:var(--ag-header-row-border);color:var(--ag-header-text-color);display:flex;font-family:var(--ag-header-font-family);font-size:var(--ag-header-font-size);font-weight:var(--ag-header-font-weight);overflow:hidden;white-space:nowrap;width:100%}.ag-header-row{height:var(--ag-header-height);position:absolute}.ag-floating-filter-button-button,.ag-header-cell-filter-button,.ag-header-cell-menu-button,.ag-header-expand-icon,.ag-panel-title-bar-button,:where(.ag-header-cell-sortable) .ag-header-cell-label{cursor:pointer}:where(.ag-ltr) .ag-header-expand-icon{margin-left:4px}:where(.ag-rtl) .ag-header-expand-icon{margin-right:4px}.ag-header-row:where(:not(:first-child)){:where(.ag-header-cell:not(.ag-header-span-height.ag-header-span-total,.ag-header-parent-hidden),.ag-header-group-cell.ag-header-group-cell-with-group){border-top:var(--ag-header-row-border)}}.ag-header-row:where(:not(.ag-header-row-column-group)){overflow:hidden}:where(.ag-header.ag-header-allow-overflow) .ag-header-row{overflow:visible}.ag-header-cell{display:inline-flex;overflow:hidden}.ag-header-group-cell{contain:paint;display:flex}.ag-header-cell,.ag-header-group-cell{align-items:center;gap:var(--ag-cell-widget-spacing);height:100%;padding:0 var(--ag-cell-horizontal-padding);position:absolute}@property --ag-internal-moving-color{syntax:"<color>";inherits:false;initial-value:transparent}@property --ag-internal-hover-color{syntax:"<color>";inherits:false;initial-value:transparent}.ag-header-cell:where(:not(.ag-floating-filter)),.ag-header-group-cell{&:before{background-image:linear-gradient(var(--ag-internal-hover-color),var(--ag-internal-hover-color)),linear-gradient(var(--ag-internal-moving-color),var(--ag-internal-moving-color));content:"";inset:0;position:absolute;--ag-internal-moving-color:transparent;--ag-internal-hover-color:transparent;transition:--ag-internal-moving-color var(--ag-header-cell-background-transition-duration),--ag-internal-hover-color var(--ag-header-cell-background-transition-duration)}&:where(:hover):before{--ag-internal-hover-color:var(--ag-header-cell-hover-background-color)}&:where(.ag-header-cell-moving):before{--ag-internal-moving-color:var(--ag-header-cell-moving-background-color);--ag-internal-hover-color:var(--ag-header-cell-hover-background-color)}}:where(.ag-header-cell:not(.ag-floating-filter) *,.ag-header-group-cell *){position:relative;z-index:1}.ag-header-cell-menu-button:where(:not(.ag-header-menu-always-show)){opacity:0;transition:opacity .2s}.ag-header-cell-filter-button,:where(.ag-header-cell.ag-header-active) .ag-header-cell-menu-button{opacity:1}.ag-header-cell-label,.ag-header-group-cell-label{align-items:center;align-self:stretch;display:flex;flex:1 1 auto;overflow:hidden;padding:5px 0}:where(.ag-ltr) .ag-sort-indicator-icon{padding-left:var(--ag-spacing)}:where(.ag-rtl) .ag-sort-indicator-icon{padding-right:var(--ag-spacing)}.ag-header-cell-label{text-overflow:ellipsis}.ag-header-group-cell-label.ag-sticky-label{flex:none;max-width:100%;overflow:visible;position:sticky}:where(.ag-ltr) .ag-header-group-cell-label.ag-sticky-label{left:var(--ag-cell-horizontal-padding)}:where(.ag-rtl) .ag-header-group-cell-label.ag-sticky-label{right:var(--ag-cell-horizontal-padding)}.ag-header-cell-text,.ag-header-group-text{overflow:hidden;text-overflow:ellipsis}.ag-header-cell-text{word-break:break-word}.ag-header-cell-comp-wrapper{width:100%}:where(.ag-header-group-cell) .ag-header-cell-comp-wrapper{display:flex}:where(.ag-header-cell:not(.ag-header-cell-auto-height)) .ag-header-cell-comp-wrapper{align-items:center;display:flex;height:100%}.ag-header-cell-wrap-text .ag-header-cell-comp-wrapper{white-space:normal}.ag-header-cell-comp-wrapper-limited-height>*{overflow:hidden}:where(.ag-right-aligned-header) .ag-header-cell-label{flex-direction:row-reverse}:where(.ag-ltr) :where(.ag-header-cell:not(.ag-right-aligned-header)){.ag-header-label-icon,.ag-header-menu-icon{margin-left:var(--ag-spacing)}}:where(.ag-rtl) :where(.ag-header-cell:not(.ag-right-aligned-header)){.ag-header-label-icon,.ag-header-menu-icon{margin-right:var(--ag-spacing)}}:where(.ag-ltr) :where(.ag-header-cell.ag-right-aligned-header){.ag-header-label-icon,.ag-header-menu-icon{margin-right:var(--ag-spacing)}}:where(.ag-rtl) :where(.ag-header-cell.ag-right-aligned-header){.ag-header-label-icon,.ag-header-menu-icon{margin-left:var(--ag-spacing)}}.ag-header-cell:after,.ag-header-group-cell:where(:not(.ag-header-span-height.ag-header-group-cell-no-group)):after{content:"";height:var(--ag-header-column-border-height);position:absolute;top:calc(50% - var(--ag-header-column-border-height)*.5);z-index:1}:where(.ag-ltr) .ag-header-cell:after,:where(.ag-ltr) .ag-header-group-cell:where(:not(.ag-header-span-height.ag-header-group-cell-no-group)):after{border-right:var(--ag-header-column-border);right:0}:where(.ag-rtl) .ag-header-cell:after,:where(.ag-rtl) .ag-header-group-cell:where(:not(.ag-header-span-height.ag-header-group-cell-no-group)):after{border-left:var(--ag-header-column-border);left:0}.ag-header-highlight-after:after,.ag-header-highlight-before:after{background-color:var(--ag-accent-color);content:"";height:100%;position:absolute;width:1px}:where(.ag-ltr) .ag-header-highlight-before:after{left:0}:where(.ag-rtl) .ag-header-highlight-before:after{right:0}:where(.ag-ltr) .ag-header-highlight-after:after{right:0;:where(.ag-pinned-left-header) &{right:1px}}:where(.ag-rtl) .ag-header-highlight-after:after{left:0;:where(.ag-pinned-left-header) &{left:1px}}.ag-header-cell-resize{align-items:center;cursor:ew-resize;display:flex;height:100%;position:absolute;top:0;width:8px;z-index:2;&:after{background-color:var(--ag-header-column-resize-handle-color);content:"";height:var(--ag-header-column-resize-handle-height);position:absolute;top:calc(50% - var(--ag-header-column-resize-handle-height)*.5);width:var(--ag-header-column-resize-handle-width);z-index:1}}:where(.ag-ltr) .ag-header-cell-resize{right:-3px;&:after{left:calc(50% - var(--ag-header-column-resize-handle-width))}}:where(.ag-rtl) .ag-header-cell-resize{left:-3px;&:after{right:calc(50% - var(--ag-header-column-resize-handle-width))}}:where(.ag-header-cell.ag-header-span-height) .ag-header-cell-resize:after{height:calc(100% - var(--ag-spacing)*4);top:calc(var(--ag-spacing)*2)}.ag-header-group-cell-no-group:where(.ag-header-span-height){display:none}.ag-sort-indicator-container{display:flex;gap:var(--ag-spacing)}.ag-layout-print{&.ag-body{display:block;height:unset}&.ag-root-wrapper{display:inline-block}.ag-body-horizontal-scroll,.ag-body-vertical-scroll{display:none}&.ag-force-vertical-scroll{overflow-y:visible!important}}@media print{.ag-root-wrapper.ag-layout-print{display:table;.ag-body-horizontal-scroll-viewport,.ag-body-viewport,.ag-center-cols-container,.ag-center-cols-viewport,.ag-root,.ag-root-wrapper-body,.ag-virtual-list-viewport{display:block!important;height:auto!important;overflow:hidden!important}.ag-cell,.ag-row{-moz-column-break-inside:avoid;break-inside:avoid}}}ag-grid,ag-grid-angular{display:block}.ag-chart,.ag-dnd-ghost,.ag-popup,.ag-root-wrapper{cursor:default;line-height:normal;white-space:normal;-webkit-font-smoothing:antialiased;background-color:var(--ag-background-color);color:var(--ag-text-color);color-scheme:var(--ag-browser-color-scheme);font-family:var(--ag-font-family);font-size:var(--ag-font-size);--ag-indentation-level:0}.ag-root-wrapper{border:var(--ag-wrapper-border);border-radius:var(--ag-wrapper-border-radius);display:flex;flex-direction:column;overflow:hidden;position:relative;&.ag-layout-normal{height:100%}}.ag-root-wrapper-body{display:flex;flex-direction:row;&.ag-layout-normal{flex:1 1 auto;height:0;min-height:0}}.ag-root{display:flex;flex-direction:column;position:relative;&.ag-layout-auto-height,&.ag-layout-normal{flex:1 1 auto;overflow:hidden;width:0}&.ag-layout-normal{height:100%}}.ag-list-item,.ag-virtual-list-item{height:var(--ag-list-item-height)}.ag-virtual-list-item{position:absolute;width:100%}.ag-select-list{background-color:var(--ag-picker-list-background-color);border:var(--ag-picker-list-border);border-radius:var(--ag-border-radius);box-shadow:var(--ag-dropdown-shadow);overflow:hidden auto}.ag-list-item{align-items:center;display:flex;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;&.ag-active-item{background-color:var(--ag-row-hover-color)}}.ag-select-list-item{cursor:default;-webkit-user-select:none;-moz-user-select:none;user-select:none;:where(span){overflow:hidden;text-overflow:ellipsis;white-space:nowrap}}:where(.ag-ltr) .ag-select-list-item{padding-left:calc(var(--ag-cell-horizontal-padding)/2)}:where(.ag-rtl) .ag-select-list-item{padding-right:calc(var(--ag-cell-horizontal-padding)/2)}.ag-list-item-hovered:after{background-color:var(--ag-accent-color);content:"";height:1px;left:0;position:absolute;right:0}.ag-item-highlight-top:after{top:0}.ag-item-highlight-bottom:after{bottom:0}:where(.ag-icon):before{align-items:center;background-color:currentcolor;color:inherit;content:"";display:flex;font-family:inherit;font-size:var(--ag-icon-size);font-style:normal;font-variant:normal;height:var(--ag-icon-size);justify-content:center;line-height:var(--ag-icon-size);-webkit-mask-size:contain;mask-size:contain;text-transform:none;width:var(--ag-icon-size)}.ag-icon{background-position:50%;background-repeat:no-repeat;background-size:contain;color:var(--ag-icon-color);display:block;height:var(--ag-icon-size);position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:var(--ag-icon-size)}.ag-column-select-column-group-readonly,.ag-column-select-column-readonly,.ag-disabled,[disabled]{.ag-icon{opacity:.5}&.ag-icon-grip{opacity:.35}}.ag-column-select-column-readonly{&.ag-icon-grip,.ag-icon-grip{opacity:.35}}.ag-drag-handle{color:var(--ag-drag-handle-color);cursor:grab;:where(.ag-icon){color:var(--ag-drag-handle-color)}}.ag-chart-menu-icon,.ag-chart-settings-next,.ag-chart-settings-prev,.ag-column-group-icons,.ag-column-select-header-icon,.ag-filter-toolpanel-expand,.ag-floating-filter-button-button,.ag-group-title-bar-icon,.ag-header-cell-filter-button,.ag-header-cell-menu-button,.ag-header-expand-icon,.ag-panel-title-bar-button,.ag-panel-title-bar-button-icon,.ag-set-filter-group-icons,:where(.ag-group-contracted) .ag-icon,:where(.ag-group-expanded) .ag-icon{background-color:var(--ag-icon-button-background-color);border-radius:var(--ag-icon-button-border-radius);box-shadow:0 0 0 var(--ag-icon-button-background-spread) var(--ag-icon-button-background-color);color:var(--ag-icon-button-color);&:hover{background-color:var(--ag-icon-button-hover-background-color);box-shadow:0 0 0 var(--ag-icon-button-background-spread) var(--ag-icon-button-hover-background-color);color:var(--ag-icon-button-hover-color)}}.ag-filter-active{background-image:linear-gradient(var(--ag-icon-button-active-background-color),var(--ag-icon-button-active-background-color));border-radius:1px;outline:solid var(--ag-icon-button-background-spread) var(--ag-icon-button-active-background-color);position:relative;&:after{background-color:var(--ag-icon-button-active-indicator-color);border-radius:50%;content:"";height:6px;position:absolute;top:-1px;width:6px}:where(.ag-icon-filter){clip-path:path("M8,0C8,4.415 11.585,8 16,8L16,16L0,16L0,0L8,0Z");color:var(--ag-icon-button-active-color)}}:where(.ag-ltr) .ag-filter-active{&:after{right:-1px}}:where(.ag-rtl) .ag-filter-active{&:after{left:-1px}}.ag-menu{background-color:var(--ag-menu-background-color);border:var(--ag-menu-border);border-radius:var(--ag-border-radius);box-shadow:var(--ag-menu-shadow);color:var(--ag-menu-text-color);max-height:100%;overflow-y:auto}.ag-menu,.ag-resizer{position:absolute;-webkit-user-select:none;-moz-user-select:none;user-select:none}.ag-resizer{pointer-events:none;z-index:1}:where(.ag-resizer){&.ag-resizer-topLeft{cursor:nwse-resize;height:5px;left:0;top:0;width:5px}&.ag-resizer-top{cursor:ns-resize;height:5px;left:5px;right:5px;top:0}&.ag-resizer-topRight{cursor:nesw-resize;height:5px;right:0;top:0;width:5px}&.ag-resizer-right{bottom:5px;cursor:ew-resize;right:0;top:5px;width:5px}&.ag-resizer-bottomRight{bottom:0;cursor:nwse-resize;height:5px;right:0;width:5px}&.ag-resizer-bottom{bottom:0;cursor:ns-resize;height:5px;left:5px;right:5px}&.ag-resizer-bottomLeft{bottom:0;cursor:nesw-resize;height:5px;left:0;width:5px}&.ag-resizer-left{bottom:5px;cursor:ew-resize;left:0;top:5px;width:5px}}',e,"core",t,0,n),Array.from(new Set(uz)).sort((e,t)=>e.moduleName.localeCompare(t.moduleName)).forEach(i=>{var o;return null===(o=i.css)||void 0===o?void 0:o.forEach(o=>OK(o,e,"module-".concat(i.moduleName),t,0,n))})},zK=null!==(GI=(IK="object"===typeof window?window:{}).agStyleInjectionState)&&void 0!==GI?GI:IK.agStyleInjectionState={map:new WeakMap,grids:new Set},VK=e=>new WK(e),HK="$default",jK=0,WK=class{constructor(e){var t;let{feature:n,params:i,modeParams:o={},css:r,cssImports:s}=e;this.feature=n,this.css=r,this.cssImports=s,this.modeParams=d({[HK]:d(d({},null!==(t=o[HK])&&void 0!==t?t:{}),null!==i&&void 0!==i?i:{})},o)}use(e,t,n){let i=this._inject;if(null==i){let{css:e}=this;if(e){var o;const t="ag-theme-".concat(null!==(o=this.feature)&&void 0!==o?o:"part","-").concat(++jK);"function"===typeof e&&(e=e()),e=":where(.".concat(t,") {\n").concat(e,"\n}\n");for(const n of null!==(r=this.cssImports)&&void 0!==r?r:[]){var r;e="@import url(".concat(JSON.stringify(n),");\n").concat(e)}i={css:e,class:t}}else i=!1;this._inject=i}return i&&e&&OK(i.css,e,i.class,t,1,n),!!i&&i.class}},UK=e=>"--ag-".concat(e.replace(/[A-Z]/g,e=>"-".concat(e)).toLowerCase()),KK=e=>"var(".concat(UK(e),")"),qK=e=>({ref:"accentColor",mix:e}),YK=e=>({ref:"foregroundColor",mix:e}),ZK=e=>({ref:"foregroundColor",mix:e,onto:"backgroundColor"}),$K={ref:"backgroundColor"},XK={ref:"foregroundColor"},QK={ref:"accentColor"},JK={backgroundColor:"#fff",foregroundColor:"#181d1f",borderColor:YK(.15),chromeBackgroundColor:ZK(.02),browserColorScheme:"light"},eq=d(d({},JK),{},{textColor:XK,accentColor:"#2196f3",invalidColor:"#e02525",wrapperBorder:!0,rowBorder:!0,headerRowBorder:!0,footerRowBorder:{ref:"rowBorder"},columnBorder:{style:"solid",width:1,color:"transparent"},headerColumnBorder:!1,headerColumnBorderHeight:"100%",pinnedColumnBorder:!0,pinnedRowBorder:!0,sidePanelBorder:!0,sideBarPanelWidth:250,sideBarBackgroundColor:{ref:"chromeBackgroundColor"},sideButtonBarBackgroundColor:{ref:"sideBarBackgroundColor"},sideButtonBarTopPadding:0,sideButtonSelectedUnderlineWidth:2,sideButtonSelectedUnderlineColor:"transparent",sideButtonSelectedUnderlineTransitionDuration:0,sideButtonBackgroundColor:"transparent",sideButtonTextColor:{ref:"textColor"},sideButtonHoverBackgroundColor:{ref:"sideButtonBackgroundColor"},sideButtonHoverTextColor:{ref:"sideButtonTextColor"},sideButtonSelectedBackgroundColor:$K,sideButtonSelectedTextColor:{ref:"sideButtonTextColor"},sideButtonBorder:"solid 1px transparent",sideButtonSelectedBorder:!0,sideButtonLeftPadding:{ref:"spacing"},sideButtonRightPadding:{ref:"spacing"},sideButtonVerticalPadding:{calc:"spacing * 3"},fontFamily:["-apple-system","BlinkMacSystemFont","Segoe UI","Roboto","Oxygen-Sans","Ubuntu","Cantarell","Helvetica Neue","sans-serif"],headerBackgroundColor:{ref:"chromeBackgroundColor"},headerFontFamily:{ref:"fontFamily"},cellFontFamily:{ref:"fontFamily"},headerFontWeight:500,headerFontSize:{ref:"fontSize"},dataFontSize:{ref:"fontSize"},headerTextColor:{ref:"textColor"},headerCellHoverBackgroundColor:"transparent",headerCellMovingBackgroundColor:{ref:"headerCellHoverBackgroundColor"},headerCellBackgroundTransitionDuration:"0.2s",cellTextColor:{ref:"textColor"},subtleTextColor:{ref:"textColor",mix:.5},rangeSelectionBorderStyle:"solid",rangeSelectionBorderColor:QK,rangeSelectionBackgroundColor:qK(.2),rangeSelectionChartBackgroundColor:"#0058FF1A",rangeSelectionChartCategoryBackgroundColor:"#00FF841A",rangeSelectionHighlightColor:qK(.5),rangeHeaderHighlightColor:(LK=.08,{ref:"foregroundColor",mix:LK,onto:"headerBackgroundColor"}),rowNumbersSelectedColor:qK(.5),rowHoverColor:qK(.08),columnHoverColor:qK(.05),selectedRowBackgroundColor:qK(.12),modalOverlayBackgroundColor:{ref:"backgroundColor",mix:.66},oddRowBackgroundColor:$K,borderWidth:1,borderRadius:4,wrapperBorderRadius:8,cellHorizontalPadding:{calc:"spacing * 2 * cellHorizontalPaddingScale"},cellWidgetSpacing:{calc:"spacing * 1.5"},cellHorizontalPaddingScale:1,rowGroupIndentSize:{calc:"cellWidgetSpacing + iconSize"},valueChangeDeltaUpColor:"#43a047",valueChangeDeltaDownColor:"#e53935",valueChangeValueHighlightBackgroundColor:"#16a08580",spacing:8,fontSize:14,rowHeight:{calc:"max(iconSize, dataFontSize) + spacing * 3.25 * rowVerticalPaddingScale"},rowVerticalPaddingScale:1,headerHeight:{calc:"max(iconSize, dataFontSize) + spacing * 4 * headerVerticalPaddingScale"},headerVerticalPaddingScale:1,paginationPanelHeight:{ref:"rowHeight",calc:"max(rowHeight, 22px)"},popupShadow:"0 0 16px #00000026",cardShadow:"0 1px 4px 1px #00000018",dropdownShadow:{ref:"cardShadow"},dragAndDropImageBackgroundColor:$K,dragAndDropImageBorder:!0,dragAndDropImageShadow:{ref:"popupShadow"},dragHandleColor:YK(.7),focusShadow:{spread:3,color:qK(.5)},focusErrorShadow:{spread:3,color:{ref:"invalidColor",onto:"backgroundColor",mix:.5}},headerColumnResizeHandleHeight:"30%",headerColumnResizeHandleWidth:2,headerColumnResizeHandleColor:{ref:"borderColor"},widgetContainerHorizontalPadding:{calc:"spacing * 1.5"},widgetContainerVerticalPadding:{calc:"spacing * 1.5"},widgetHorizontalSpacing:{calc:"spacing * 1.5"},widgetVerticalSpacing:{ref:"spacing"},listItemHeight:{calc:"max(iconSize, dataFontSize) + widgetVerticalSpacing"},iconSize:16,iconColor:"inherit",iconButtonColor:{ref:"iconColor"},iconButtonBackgroundColor:"transparent",iconButtonBackgroundSpread:4,iconButtonBorderRadius:1,iconButtonHoverColor:{ref:"iconButtonColor"},iconButtonHoverBackgroundColor:YK(.1),iconButtonActiveColor:QK,iconButtonActiveBackgroundColor:qK(.28),iconButtonActiveIndicatorColor:QK,toggleButtonWidth:28,toggleButtonHeight:18,toggleButtonOnBackgroundColor:QK,toggleButtonOffBackgroundColor:ZK(.3),toggleButtonSwitchBackgroundColor:$K,toggleButtonSwitchInset:2,menuBorder:{color:YK(.2)},menuBackgroundColor:ZK(.03),menuTextColor:ZK(.95),menuShadow:{ref:"popupShadow"},menuSeparatorColor:{ref:"borderColor"},setFilterIndentSize:{ref:"iconSize"},chartMenuPanelWidth:260,chartMenuLabelColor:YK(.8),dialogShadow:{ref:"popupShadow"},cellEditingBorder:{color:QK},cellEditingShadow:{ref:"cardShadow"},fullRowEditInvalidBackgroundColor:{ref:"invalidColor",onto:"backgroundColor",mix:.25},dialogBorder:{color:YK(.2)},panelBackgroundColor:$K,panelTitleBarBackgroundColor:{ref:"headerBackgroundColor"},panelTitleBarIconColor:{ref:"headerTextColor"},panelTitleBarTextColor:{ref:"headerTextColor"},panelTitleBarFontWeight:{ref:"headerFontWeight"},panelTitleBarBorder:!0,columnSelectIndentSize:{ref:"iconSize"},toolPanelSeparatorBorder:!0,tooltipBackgroundColor:{ref:"chromeBackgroundColor"},tooltipErrorBackgroundColor:{ref:"invalidColor",onto:"backgroundColor",mix:.1},tooltipTextColor:{ref:"textColor"},tooltipErrorTextColor:{ref:"invalidColor"},tooltipBorder:!0,tooltipErrorBorder:{color:{ref:"invalidColor",onto:"backgroundColor",mix:.25}},columnDropCellBackgroundColor:YK(.07),columnDropCellTextColor:{ref:"textColor"},columnDropCellDragHandleColor:{ref:"textColor"},columnDropCellBorder:{color:YK(.13)},selectCellBackgroundColor:YK(.07),selectCellBorder:{color:YK(.13)},advancedFilterBuilderButtonBarBorder:!0,advancedFilterBuilderIndentSize:{calc:"spacing * 2 + iconSize"},advancedFilterBuilderJoinPillColor:"#f08e8d",advancedFilterBuilderColumnPillColor:"#a6e194",advancedFilterBuilderOptionPillColor:"#f3c08b",advancedFilterBuilderValuePillColor:"#85c0e4",filterPanelApplyButtonColor:$K,filterPanelApplyButtonBackgroundColor:QK,filterPanelCardSubtleColor:{ref:"textColor",mix:.7},filterPanelCardSubtleHoverColor:{ref:"textColor"},findMatchColor:XK,findMatchBackgroundColor:"#ffff00",findActiveMatchColor:XK,findActiveMatchBackgroundColor:"#ffa500",filterToolPanelGroupIndent:{ref:"spacing"},rowLoadingSkeletonEffectColor:YK(.15),statusBarLabelColor:XK,statusBarLabelFontWeight:500,statusBarValueColor:XK,statusBarValueFontWeight:500,pinnedSourceRowTextColor:{ref:"textColor"},pinnedSourceRowBackgroundColor:{ref:"backgroundColor"},pinnedSourceRowFontWeight:600,pinnedRowFontWeight:600,pinnedRowBackgroundColor:{ref:"backgroundColor"},pinnedRowTextColor:{ref:"textColor"}}),tq={cellBatchEditBackgroundColor:"rgba(220 181 139 / 16%)",cellBatchEditTextColor:"#422f00",rowBatchEditBackgroundColor:{ref:"cellBatchEditBackgroundColor"},rowBatchEditTextColor:{ref:"cellBatchEditTextColor"}},nq=d(d({},tq),{},{cellBatchEditTextColor:"#f3d0b3"}),iq=(()=>VK({feature:"batchEditStyle",params:tq,css:".ag-cell-batch-edit{background-color:var(--ag-cell-batch-edit-background-color);color:var(--ag-cell-batch-edit-text-color);display:inherit}.ag-row-batch-edit{background-color:var(--ag-row-batch-edit-background-color);color:var(--ag-row-batch-edit-text-color)}"}))(),oq=":where(.ag-button){background:none;border:none;color:inherit;cursor:pointer;font-family:inherit;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;margin:0;padding:0;text-indent:inherit;text-shadow:inherit;text-transform:inherit;word-spacing:inherit;&:disabled{cursor:default}&:focus-visible{box-shadow:var(--ag-focus-shadow);outline:none}}.ag-standard-button{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:var(--ag-button-background-color);border:var(--ag-button-border);border-radius:var(--ag-button-border-radius);color:var(--ag-button-text-color);cursor:pointer;font-weight:var(--ag-button-font-weight);padding:var(--ag-button-vertical-padding) var(--ag-button-horizontal-padding);&:hover{background-color:var(--ag-button-hover-background-color);border:var(--ag-button-hover-border);color:var(--ag-button-hover-text-color)}&:active{background-color:var(--ag-button-active-background-color);border:var(--ag-button-active-border);color:var(--ag-button-active-text-color)}&:disabled{background-color:var(--ag-button-disabled-background-color);border:var(--ag-button-disabled-border);color:var(--ag-button-disabled-text-color)}}",rq={buttonTextColor:"inherit",buttonFontWeight:"normal",buttonBackgroundColor:"transparent",buttonBorder:!1,buttonBorderRadius:{ref:"borderRadius"},buttonHorizontalPadding:{calc:"spacing * 2"},buttonVerticalPadding:{ref:"spacing"},buttonHoverTextColor:{ref:"buttonTextColor"},buttonHoverBackgroundColor:{ref:"buttonBackgroundColor"},buttonHoverBorder:{ref:"buttonBorder"},buttonActiveTextColor:{ref:"buttonHoverTextColor"},buttonActiveBackgroundColor:{ref:"buttonHoverBackgroundColor"},buttonActiveBorder:{ref:"buttonHoverBorder"},buttonDisabledTextColor:{ref:"inputDisabledTextColor"},buttonDisabledBackgroundColor:{ref:"inputDisabledBackgroundColor"},buttonDisabledBorder:{ref:"inputDisabledBorder"}},sq=(()=>VK({feature:"buttonStyle",params:d(d({},rq),{},{buttonBackgroundColor:$K,buttonBorder:!0,buttonHoverBackgroundColor:{ref:"rowHoverColor"},buttonActiveBorder:{color:QK}}),css:oq}))(),aq=(()=>VK({feature:"columnDropStyle",css:".ag-column-drop-vertical-empty-message{align-items:center;border:dashed var(--ag-border-width);border-color:var(--ag-border-color);display:flex;inset:0;justify-content:center;margin:calc(var(--ag-spacing)*1.5) calc(var(--ag-spacing)*2);overflow:hidden;padding:calc(var(--ag-spacing)*2);position:absolute}"}))(),lq=["colorScheme","color","length","scale","borderStyle","border","shadow","image","fontFamily","fontWeight","duration"],uq=(e=>{const t=new Map;return n=>{const i=n;return t.has(i)||t.set(i,e(n)),t.get(i)}})(e=>{var t;return e=e.toLowerCase(),null!==(t=lq.find(t=>e.endsWith(t.toLowerCase())))&&void 0!==t?t:"length"}),cq=e=>"object"===typeof e&&null!==e&&void 0!==e&&e.ref?KK(e.ref):"string"===typeof e?e:"number"===typeof e&&String(e),dq=e=>{if("string"===typeof e)return e;if(e&&"ref"in e){const t=KK(e.ref);if(null==e.mix)return t;const n=e.onto?KK(e.onto):"transparent";return"color-mix(in srgb, ".concat(n,", ").concat(t," ").concat(((e,t,n)=>Math.max(t,Math.min(n,e)))(100*e.mix,0,100),"%)")}return!1},hq=e=>{if("string"===typeof e)return e;if("number"===typeof e)return"".concat(e,"px");if(e&&"calc"in e){const t=e.calc.replace(/ ?[*/+] ?/g," $& ");return"calc(".concat(t.replace(/-?\b[a-z][a-z0-9]*\b(?![-(])/gi,e=>"-"===e[0]?e:" ".concat(KK(e)," ")),")")}return!(!e||!("ref"in e))&&KK(e.ref)},pq=(e,t)=>{var n,i,o;return"string"===typeof e?e:!0===e?pq({},t):!1===e?"columnBorder"===t?pq({color:"transparent"},t):"none":e&&"ref"in e?KK(e.ref):gq(null!==(n=e.style)&&void 0!==n?n:"solid")+" "+hq(null!==(i=e.width)&&void 0!==i?i:{ref:"borderWidth"})+" "+dq(null!==(o=e.color)&&void 0!==o?o:{ref:"borderColor"})},gq=cq,mq=e=>"string"===typeof e?e.includes(",")?e:vq(e):e&&"googleFont"in e?mq(e.googleFont):e&&"ref"in e?KK(e.ref):!!Array.isArray(e)&&e.map(e=>("object"===typeof e&&"googleFont"in e&&(e=e.googleFont),vq(e))).join(", "),vq=e=>/^[\w-]+$|\w\(/.test(e)?e:JSON.stringify(e),fq=cq,wq=e=>"string"===typeof e?e:e&&"url"in e?"url(".concat(JSON.stringify(e.url),")"):e&&"svg"in e?wq({url:"data:image/svg+xml,".concat(encodeURIComponent(e.svg))}):!(!e||!("ref"in e))&&KK(e.ref),Cq={color:dq,colorScheme:cq,length:hq,scale:cq,border:pq,borderStyle:gq,shadow:e=>{var t,n,i,o,r;return"string"===typeof e?e:!1===e?"none":e&&"ref"in e?KK(e.ref):[hq(null!==(t=e.offsetX)&&void 0!==t?t:0),hq(null!==(n=e.offsetY)&&void 0!==n?n:0),hq(null!==(i=e.radius)&&void 0!==i?i:0),hq(null!==(o=e.spread)&&void 0!==o?o:0),dq(null!==(r=e.color)&&void 0!==r?r:{ref:"foregroundColor"})].join(" ")},image:wq,fontFamily:mq,fontWeight:fq,duration:(e,t)=>"string"===typeof e?e:"number"===typeof e?(e>=10&&oB(104,{value:e,param:t}),"".concat(e,"s")):!(!e||!("ref"in e))&&KK(e.ref)},bq=(e,t)=>{const n=uq(e);return Cq[n](t,e)},yq=!1,Sq=()=>(new xq).withPart(sq).withPart(aq).withPart(iq),xq=class e{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.parts=e}withPart(t){return"function"===typeof t&&(t=t()),t instanceof WK?new e([...this.parts,t]):(rB(259,{part:t},"Invalid part"),this)}withoutPart(e){return this.withPart(VK({feature:e}))}withParams(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:HK;return this.withPart(VK({modeParams:{[t]:e}}))}_startUse(e){let{styleContainer:t,cssLayer:n,nonce:i,loadThemeGoogleFonts:o}=e;if(BK)return;if(yq)return;kq(),GK(t,n,i);const r=Eq(this);if(r.length>0)for(const s of r)o&&Rq(s,i);for(const s of this.parts)s.use(t,n,i)}_getCssClass(){var e;return yq?"ag-theme-quartz":null!==(e=this._cssClassCache)&&void 0!==e?e:this._cssClassCache=Dq(this.parts).map(e=>e.use(void 0,void 0,void 0)).filter(Boolean).join(" ")}_getModeParams(){let e=this._paramsCache;if(!e){const n={[HK]:d({},eq)};for(const e of Dq(this.parts))for(const i of Object.keys(e.modeParams)){const o=e.modeParams[i];if(o){var t;const e=null!==(t=n[i])&&void 0!==t?t:n[i]={},r=new Set;for(const t of Object.keys(o)){const n=o[t];void 0!==n&&(e[t]=n,r.add(t))}if(i===HK)for(const t of Object.keys(n)){const e=n[t];if(t!==HK)for(const t of r)delete e[t]}}}this._paramsCache=e=n}return e}_getPerGridCss(e){const t="##SELECTOR##";let n=this._paramsCssCache;if(!n){let e="",i="";const o=this._getModeParams();for(const t of Object.keys(o)){const n=o[t];if(t!==HK){const n="object"===typeof CSS?CSS.escape(t):t,o=':where([data-ag-theme-mode="'.concat(n,'"]) & {\n');e+=o,i+=o}for(const t of Object.keys(n).sort()){const o=n[t],r=bq(t,o);if(!1===r)oB(107,{key:t,value:o});else{const n=UK(t),o=n.replace("--ag-","--ag-inherited-");e+="\t".concat(n,": var(").concat(o,", ").concat(r,");\n"),i+="\t".concat(o,": var(").concat(n,");\n")}}t!==HK&&(e+="}\n",i+="}\n")}let r="".concat(t," {\n").concat(e,"}\n");r+=":has(> ".concat(t,"):not(").concat(t,") {\n").concat(i,"}\n"),this._paramsCssCache=n=r}return n.replaceAll(t,":where(.".concat(e,")"))}},Dq=e=>{const t=new Map;for(const i of e)t.set(i.feature,i);const n=[];for(const i of e)i.feature&&t.get(i.feature)!==i||n.push(i);return n},Eq=e=>{const t=new Set,n=e=>{if(Array.isArray(e))e.forEach(n);else{const n=null===e||void 0===e?void 0:e.googleFont;"string"===typeof n&&t.add(n)}};return Object.values(e._getModeParams()).flatMap(e=>Object.values(e)).forEach(n),Array.from(t).sort()},Fq=!1,kq=()=>{if(!Fq){Fq=!0;for(const e of Array.from(document.head.querySelectorAll('style[data-ag-scope="legacy"]')))e.remove()}},Aq=new Set,Rq=async(e,t)=>{Aq.add(e);const n="@import url('https://".concat(Pq,"/css2?family=").concat(encodeURIComponent(e),":wght@100;200;300;400;500;600;700;800;900&display=swap');\n");OK(n,document.head,"googleFont:".concat(e),void 0,0,t)},Pq="fonts.googleapis.com",Tq=(()=>VK({feature:"checkboxStyle",params:{checkboxBorderWidth:1,checkboxBorderRadius:{ref:"borderRadius"},checkboxUncheckedBackgroundColor:$K,checkboxUncheckedBorderColor:ZK(.3),checkboxCheckedBackgroundColor:QK,checkboxCheckedBorderColor:{ref:"checkboxCheckedBackgroundColor"},checkboxCheckedShapeImage:{svg:'<svg xmlns="http://www.w3.org/2000/svg" width="10" height="7" fill="none"><path stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.75" d="M1 3.5 3.5 6l5-5"/></svg>'},checkboxCheckedShapeColor:$K,checkboxIndeterminateBackgroundColor:ZK(.3),checkboxIndeterminateBorderColor:{ref:"checkboxIndeterminateBackgroundColor"},checkboxIndeterminateShapeImage:{svg:'<svg xmlns="http://www.w3.org/2000/svg" width="10" height="2" fill="none"><rect width="10" height="2" fill="#000" rx="1"/></svg>'},checkboxIndeterminateShapeColor:$K,radioCheckedShapeImage:{svg:'<svg xmlns="http://www.w3.org/2000/svg" width="6" height="6" fill="none"><circle cx="3" cy="3" r="3" fill="#000"/></svg>'}},css:'.ag-checkbox-input-wrapper,.ag-radio-button-input-wrapper{background-color:var(--ag-checkbox-unchecked-background-color);border:solid var(--ag-checkbox-border-width) var(--ag-checkbox-unchecked-border-color);flex:none;height:var(--ag-icon-size);position:relative;width:var(--ag-icon-size);:where(input){-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;display:block;height:var(--ag-icon-size);margin:0;opacity:0;width:var(--ag-icon-size)}&:after{content:"";display:block;inset:0;-webkit-mask-position:center;mask-position:center;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;pointer-events:none;position:absolute}&:where(.ag-checked){background-color:var(--ag-checkbox-checked-background-color);border-color:var(--ag-checkbox-checked-border-color);&:after{background-color:var(--ag-checkbox-checked-shape-color)}}&:where(:focus-within,:active){box-shadow:var(--ag-focus-shadow)}&:where(.ag-disabled){filter:grayscale();opacity:.5}}.ag-checkbox-input-wrapper{border-radius:var(--ag-checkbox-border-radius);&:where(.ag-checked):after{-webkit-mask-image:var(--ag-checkbox-checked-shape-image);mask-image:var(--ag-checkbox-checked-shape-image)}&:where(.ag-indeterminate){background-color:var(--ag-checkbox-indeterminate-background-color);border-color:var(--ag-checkbox-indeterminate-border-color);&:after{background-color:var(--ag-checkbox-indeterminate-shape-color);-webkit-mask-image:var(--ag-checkbox-indeterminate-shape-image);mask-image:var(--ag-checkbox-indeterminate-shape-image)}}}.ag-cell-editing-error .ag-checkbox-input-wrapper:focus-within{box-shadow:var(--ag-focus-error-shadow)}.ag-radio-button-input-wrapper{border-radius:100%;&:where(.ag-checked):after{-webkit-mask-image:var(--ag-radio-checked-shape-image);mask-image:var(--ag-radio-checked-shape-image)}}'}))(),_q=()=>d(d(d({},JK),nq),{},{backgroundColor:"hsl(217, 0%, 17%)",foregroundColor:"#FFF",chromeBackgroundColor:ZK(.05),rowHoverColor:qK(.15),selectedRowBackgroundColor:qK(.2),menuBackgroundColor:ZK(.1),browserColorScheme:"dark",popupShadow:"0 0px 20px #000A",cardShadow:"0 1px 4px 1px #000A",advancedFilterBuilderJoinPillColor:"#7a3a37",advancedFilterBuilderColumnPillColor:"#355f2d",advancedFilterBuilderOptionPillColor:"#5a3168",advancedFilterBuilderValuePillColor:"#374c86",filterPanelApplyButtonColor:XK,findMatchColor:$K,findActiveMatchColor:$K,checkboxUncheckedBorderColor:ZK(.4),toggleButtonOffBackgroundColor:ZK(.4),rowBatchEditBackgroundColor:ZK(.1)}),Mq=()=>d(d({},_q()),{},{backgroundColor:"#1f2836"}),Iq=(()=>VK({feature:"colorScheme",params:JK,modeParams:{light:JK,dark:_q(),"dark-blue":Mq()}}))(),Lq={aggregation:'<path d="M18 7V4H6l6 8-6 8h12v-3"/>',arrows:'<polyline points="5 9 2 12 5 15"/><polyline points="9 5 12 2 15 5"/><polyline points="15 19 12 22 9 19"/><polyline points="19 9 22 12 19 15"/><line x1="2" x2="22" y1="12" y2="12"/><line x1="12" x2="12" y1="2" y2="22"/>',asc:'<path d="m5 12 7-7 7 7"/><path d="M12 19V5"/>',cancel:'<path d="m18 6-12 12"/><path d="m6 6 12 12"/>',chart:'<line x1="18" x2="18" y1="20" y2="10"/><line x1="12" x2="12" y1="20" y2="4"/><line x1="6" x2="6" y1="20" y2="14"/>',"color-picker":'<path d="m19 11-8-8-8.6 8.6a2 2 0 0 0 0 2.8l5.2 5.2c.8.8 2 .8 2.8 0L19 11Z"/><path d="m5 2 5 5"/><path d="M2 13h15"/><path d="M22 20a2 2 0 1 1-4 0c0-1.6 1.7-2.4 2-4 .3 1.6 2 2.4 2 4Z"/>',columns:'<path d="M9 3H5a2 2 0 0 0-2 2v4m6-6h10a2 2 0 0 1 2 2v4M9 3v18m0 0h10a2 2 0 0 0 2-2V9M9 21H5a2 2 0 0 1-2-2V9m0 0h18"/>',contracted:'<path d="m9 18 6-6-6-6"/>',copy:'<rect width="14" height="14" x="8" y="8" rx="2" ry="2"/><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"/>',cross:'<path d="M18 6 6 18"/><path d="m6 6 12 12"/>',csv:'<path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/><polyline points="14 2 14 8 20 8"/><path d="M8 13h2"/><path d="M8 17h2"/><path d="M14 13h2"/><path d="M14 17h2"/>',cut:'<circle cx="6" cy="6" r="3"/><path d="M8.12 8.12 12 12"/><path d="M20 4 8.12 15.88"/><circle cx="6" cy="18" r="3"/><path d="M14.8 14.8 20 20"/>',desc:'<path d="M12 5v14"/><path d="m19 12-7 7-7-7"/>',down:'<path d="M12 5v14"/><path d="m19 12-7 7-7-7"/>',excel:'<path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/><polyline points="14 2 14 8 20 8"/><path d="M8 13h2"/><path d="M8 17h2"/><path d="M14 13h2"/><path d="M14 17h2"/>',expanded:'<path d="m15 18-6-6 6-6"/>',"eye-slash":'<path d="M9.88 9.88a3 3 0 1 0 4.24 4.24"/><path d="M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68"/><path d="M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61"/><line x1="2" x2="22" y1="2" y2="22"/>',eye:'<path d="M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"/><circle cx="12" cy="12" r="3"/>',filter:'<path d="M3 6h18"/><path d="M7 12h10"/><path d="M10 18h4"/>',first:'<path d="m17 18-6-6 6-6"/><path d="M7 6v12"/>',group:'<path d="M16 12H3"/><path d="M16 18H3"/><path d="M10 6H3"/><path d="M21 18V8a2 2 0 0 0-2-2h-5"/><path d="m16 8-2-2 2-2"/>',last:'<path d="m7 18 6-6-6-6"/><path d="M17 6v12"/>',left:'<path d="m12 19-7-7 7-7"/><path d="M19 12H5"/>',linked:'<path d="M9 17H7A5 5 0 0 1 7 7h2"/><path d="M15 7h2a5 5 0 1 1 0 10h-2"/><line x1="8" x2="16" y1="12" y2="12"/>',loading:'<line x1="12" x2="12" y1="2" y2="6"/><line x1="12" x2="12" y1="18" y2="22"/><line x1="4.93" x2="7.76" y1="4.93" y2="7.76"/><line x1="16.24" x2="19.07" y1="16.24" y2="19.07"/><line x1="2" x2="6" y1="12" y2="12"/><line x1="18" x2="22" y1="12" y2="12"/><line x1="4.93" x2="7.76" y1="19.07" y2="16.24"/><line x1="16.24" x2="19.07" y1="7.76" y2="4.93"/>',maximize:'<polyline points="15 3 21 3 21 9"/><polyline points="9 21 3 21 3 15"/><line x1="21" x2="14" y1="3" y2="10"/><line x1="3" x2="10" y1="21" y2="14"/>',menu:'<line x1="4" x2="20" y1="12" y2="12"/><line x1="4" x2="20" y1="6" y2="6"/><line x1="4" x2="20" y1="18" y2="18"/>',"menu-alt":'<circle cx="12" cy="5" r="0.75" fill="#D9D9D9"/><circle cx="12" cy="12" r="0.75" fill="#D9D9D9"/><circle cx="12" cy="19" r="0.75" fill="#D9D9D9"/>',minimize:'<polyline points="4 14 10 14 10 20"/><polyline points="20 10 14 10 14 4"/><line x1="14" x2="21" y1="10" y2="3"/><line x1="3" x2="10" y1="21" y2="14"/>',minus:'<circle cx="12" cy="12" r="10"/><path d="M8 12h8"/>',next:'<path d="m9 18 6-6-6-6"/>',none:'<path d="m7 15 5 5 5-5"/><path d="m7 9 5-5 5 5"/>',"not-allowed":'<circle cx="12" cy="12" r="10"/><path d="m4.9 4.9 14.2 14.2"/>',paste:'<path d="M15 2H9a1 1 0 0 0-1 1v2c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V3c0-.6-.4-1-1-1Z"/><path d="M8 4H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2M16 4h2a2 2 0 0 1 2 2v2M11 14h10"/><path d="m17 10 4 4-4 4"/>',pin:'<line x1="12" x2="12" y1="17" y2="22"/><path d="M5 17h14v-1.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V6h1a2 2 0 0 0 0-4H8a2 2 0 0 0 0 4h1v4.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24Z"/>',pivot:'<path d="M15 3v18"/><rect width="18" height="18" x="3" y="3" rx="2"/><path d="M21 9H3"/><path d="M21 15H3"/>',plus:'<circle cx="12" cy="12" r="10"/><path d="M8 12h8"/><path d="M12 8v8"/>',previous:'<path d="m15 18-6-6 6-6"/>',right:'<path d="M5 12h14"/><path d="m12 5 7 7-7 7"/>',save:'<path d="M12 17V3"/><path d="m6 11 6 6 6-6"/><path d="M19 21H5"/>',"small-left":'<path d="m15 18-6-6 6-6"/>',"small-right":'<path d="m9 18 6-6-6-6"/>',tick:'<path d="M20 6 9 17l-5-5"/>',"tree-closed":'<path d="m9 18 6-6-6-6"/>',"tree-indeterminate":'<path d="M5 12h14"/>',"tree-open":'<path d="m6 9 6 6 6-6"/>',unlinked:'<path d="M9 17H7A5 5 0 0 1 7 7"/><path d="M15 7h2a5 5 0 0 1 4 8"/><line x1="8" x2="12" y1="12" y2="12"/><line x1="2" x2="22" y1="2" y2="22"/>',up:'<path d="m5 12 7-7 7 7"/><path d="M12 19V5"/>',grip:'<circle cx="5" cy="8" r="0.5"/><circle cx="12" cy="8" r="0.5"/><circle cx="19" cy="8" r="0.5"/><circle cx="5" cy="16" r="0.5"/><circle cx="12" cy="16" r="0.5"/><circle cx="19" cy="16" r="0.5"/><g stroke="none" fill="currentColor"><circle cx="5" cy="8" r="1"/><circle cx="12" cy="8" r="1"/><circle cx="19" cy="8" r="1"/><circle cx="5" cy="16" r="1"/><circle cx="12" cy="16" r="1"/><circle cx="19" cy="16" r="1"/></g>',settings:'<path d="M20 7h-9"/><path d="M14 17H5"/><circle cx="17" cy="17" r="3"/><circle cx="7" cy="7" r="3"/>'},Nq={"column-arrow":'<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="none" viewBox="0 0 32 32"><path fill-rule="evenodd" clip-rule="evenodd" d="M0 26C0 28.2092 1.79086 30 4 30H14C16.2091 30 18 28.2092 18 26V15H25.8786L24.4394 16.4393C23.8536 17.0251 23.8536 17.9749 24.4394 18.5607C25.0252 19.1464 25.9748 19.1464 26.5606 18.5607L30.5606 14.5607C31.1464 13.9749 31.1464 13.0251 30.5606 12.4393L26.5606 8.43934C25.9748 7.85356 25.0252 7.85356 24.4394 8.43934C23.8536 9.02512 23.8536 9.97488 24.4394 10.5607L25.8786 12H18V6C18 3.79086 16.2091 2 14 2H4C1.79086 2 0 3.79086 0 6V26ZM14 5H10.5V12H15V6C15 5.44772 14.5523 5 14 5ZM4 5H7.5V12H3V6C3 5.44772 3.44772 5 4 5ZM10.5 15H15V26C15 26.5522 14.5523 27 14 27H10.5V15ZM4 27H7.5V15H3V26C3 26.5522 3.44772 27 4 27Z" fill="currentColor"/></svg>',"small-down":'<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="black" stroke="none" viewBox="0 0 32 32"><path d="M7.334 10.667 16 21.334l8.667-10.667H7.334Z"/></svg>',"small-up":'<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="black" stroke="none" viewBox="0 0 32 32"><path d="M7.334 21.333 16 10.666l8.667 10.667H7.334Z"/></svg>',"pinned-top":'<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="none" viewBox="0 0 16 16"><path fill="currentColor" d="M12.53 3.72A.75.75 0 0 1 12 5H4a.75.75 0 0 1 0-1.5h8a.75.75 0 0 1 .53.22ZM3.269 10.744a.75.75 0 0 1 .2-.524l4-4a.75.75 0 0 1 1.06 0l4 4a.75.75 0 1 1-1.06 1.06L8.75 8.56V14a.75.75 0 0 1-1.5 0V8.56l-2.72 2.72a.75.75 0 0 1-1.26-.536Z"/></svg>',"pinned-bottom":'<svg xmlns="http://www.w3.org/2000/svg" fill="none" class="ag-icon" viewBox="0 0 16 16"><path fill="currentColor" d="M3.47 12.28A.75.75 0 0 1 4 11h8a.75.75 0 0 1 0 1.5H4a.75.75 0 0 1-.53-.22ZM12.731 5.256a.75.75 0 0 1-.2.524l-4 4a.75.75 0 0 1-1.06 0l-4-4a.75.75 0 1 1 1.06-1.06l2.72 2.72V2a.75.75 0 0 1 1.5 0v5.44l2.72-2.72a.75.75 0 0 1 1.26.536Z"/></svg>',"un-pin":'<svg xmlns="http://www.w3.org/2000/svg" fill="none" class="ag-icon" viewBox="0 0 16 16"><path fill="currentColor" d="M8 11a.75.75 0 0 0-.75.75v3.333a.75.75 0 1 0 1.5 0V11.75A.75.75 0 0 0 8 11Z"/><path fill="currentColor" d="M13.11 1.436a.75.75 0 0 0-1.22-.872l-10 14a.75.75 0 1 0 1.22.872L5.207 12.5h7.376a.75.75 0 0 0 .75-.75v-1.174a2.08 2.08 0 0 0-1.153-1.863l-1.185-.599-.005-.002a.58.58 0 0 1-.323-.522V5.165a2.083 2.083 0 0 0 1.854-2.904l.589-.825Zm-3.943 5.52v.634a2.08 2.08 0 0 0 1.153 1.863l1.185.6.005.002a.58.58 0 0 1 .323.522V11H6.28l2.887-4.044ZM9.277 1H5.25a2.084 2.084 0 0 0-.083 4.165v1.676l1.5-2.132v-.292a.75.75 0 0 0-.75-.75H5.25a.584.584 0 0 1 0-1.167h2.972L9.277 1Z"/></svg>',"chevron-down":'<svg width="16" height="16" viewBox="0 0 16 16" class="ag-icon" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 6L8 10L4 6" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>',"chevron-up":'<svg width="16" height="16" viewBox="0 0 16 16" class="ag-icon" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4 10L8 6L12 10" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>',"chevron-left":'<svg width="16" height="16" viewBox="0 0 16 16" class="ag-icon" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M10 12L6 8L10 4" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>',"chevron-right":'<svg width="16" height="16" viewBox="0 0 16 16" class="ag-icon" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M6 12L10 8L6 4" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>',"filter-add":'<svg width="16" height="16" viewBox="0 0 16 16" class="ag-icon" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M5.12126 7.75L10.8517 7.75" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/><path d="M6.65934 11.748L9.32778 11.748" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/><path d="M12.2943 1.04872V6.19184M14.9886 3.74341H9.68478" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/><path d="M8.25488 3C8.04799 3.18323 7.91706 3.45099 7.91699 3.74902C7.91713 4.04868 8.04988 4.31681 8.25879 4.5H2C1.58579 4.5 1.25 4.16421 1.25 3.75C1.25 3.33579 1.58579 3 2 3H8.25488Z" fill="currentColor"/></svg>',edit:'<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M3.5 10.6262V12.5012H5.375L10.905 6.97122L9.03 5.09622L3.5 10.6262ZM12.355 5.52122C12.4014 5.47497 12.4381 5.42002 12.4632 5.35953C12.4883 5.29905 12.5012 5.23421 12.5012 5.16872C12.5012 5.10324 12.4883 5.0384 12.4632 4.97791C12.4381 4.91742 12.4014 4.86248 12.355 4.81622L11.185 3.64622C11.1387 3.59987 11.0838 3.5631 11.0233 3.53801C10.9628 3.51291 10.898 3.5 10.8325 3.5C10.767 3.5 10.7022 3.51291 10.6417 3.53801C10.5812 3.5631 10.5263 3.59987 10.48 3.64622L9.565 4.56122L11.44 6.43622L12.355 5.52122Z" fill="currentColor"/></svg>'},Bq=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1.5;const n=Nq[e];if(n)return n;const i=Lq[e];if(!i)throw new Error("Missing icon data for ".concat(e));return'<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke="black" stroke-width="'.concat(t,'" viewBox="0 0 24 24"><style>* { vector-effect: non-scaling-stroke; }</style>')+i+"</svg>"},Oq=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return VK({feature:"iconSet",css:()=>function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t="";for(const n of[...Object.keys(Lq),...Object.keys(Nq)]){const i=Bq(n,e.strokeWidth);t+=".ag-icon-".concat(n,"::before { mask-image: url('data:image/svg+xml,").concat(encodeURIComponent(i),"'); }\n")}return t}(e)})},Gq=Oq(),zq=':where(.ag-input-field-input[type=number]:not(.ag-number-field-input-stepper)){-webkit-appearance:textfield;-moz-appearance:textfield;appearance:textfield;&::-webkit-inner-spin-button,&::-webkit-outer-spin-button{-webkit-appearance:none;appearance:none;margin:0}}.ag-input-field-input:where(input:not([type]),input[type=text],input[type=number],input[type=tel],input[type=date],input[type=datetime-local],textarea){background-color:var(--ag-input-background-color);border:var(--ag-input-border);border-radius:var(--ag-input-border-radius);color:var(--ag-input-text-color);font-family:inherit;font-size:inherit;line-height:inherit;margin:0;min-height:var(--ag-input-height);padding:0;&:where(:disabled){background-color:var(--ag-input-disabled-background-color);border:var(--ag-input-disabled-border);color:var(--ag-input-disabled-text-color)}&:where(:focus){background-color:var(--ag-input-focus-background-color);border:var(--ag-input-focus-border);box-shadow:var(--ag-input-focus-shadow);color:var(--ag-input-focus-text-color);outline:none}&:where(:invalid){background-color:var(--ag-input-invalid-background-color);border:var(--ag-input-invalid-border);color:var(--ag-input-invalid-text-color)}&:where(.invalid){background-color:var(--ag-input-invalid-background-color);border:var(--ag-input-invalid-border);color:var(--ag-input-invalid-text-color)}&::-moz-placeholder{color:var(--ag-input-placeholder-text-color)}&::placeholder{color:var(--ag-input-placeholder-text-color)}}:where(.ag-ltr) .ag-input-field-input:where(input:not([type]),input[type=text],input[type=number],input[type=tel],input[type=date],input[type=datetime-local],textarea){padding-left:var(--ag-input-padding-start)}:where(.ag-rtl) .ag-input-field-input:where(input:not([type]),input[type=text],input[type=number],input[type=tel],input[type=date],input[type=datetime-local],textarea){padding-right:var(--ag-input-padding-start)}:where(.ag-column-select-header-filter-wrapper,.ag-filter-toolpanel-search,.ag-mini-filter,.ag-filter-filter,.ag-filter-add-select){.ag-input-wrapper:before{background-color:currentcolor;color:var(--ag-input-icon-color);content:"";display:block;height:12px;-webkit-mask-image:url("data:image/svg+xml;charset=utf-8;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMiIgaGVpZ2h0PSIxMiIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMS41Ij48cGF0aCBkPSJNNS4zIDlhMy43IDMuNyAwIDEgMCAwLTcuNSAzLjcgMy43IDAgMCAwIDAgNy41Wk0xMC41IDEwLjUgOC4zIDguMiIvPjwvc3ZnPg==");mask-image:url("data:image/svg+xml;charset=utf-8;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMiIgaGVpZ2h0PSIxMiIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMS41Ij48cGF0aCBkPSJNNS4zIDlhMy43IDMuNyAwIDEgMCAwLTcuNSAzLjcgMy43IDAgMCAwIDAgNy41Wk0xMC41IDEwLjUgOC4zIDguMiIvPjwvc3ZnPg==");-webkit-mask-position:center;mask-position:center;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;opacity:.5;position:absolute;width:12px}}:where(.ag-ltr) :where(.ag-column-select-header-filter-wrapper,.ag-filter-toolpanel-search,.ag-mini-filter,.ag-filter-filter,.ag-filter-add-select){.ag-input-wrapper:before{margin-left:var(--ag-spacing)}.ag-number-field-input,.ag-text-field-input{padding-left:calc(var(--ag-spacing)*1.5 + 12px)}}:where(.ag-rtl) :where(.ag-column-select-header-filter-wrapper,.ag-filter-toolpanel-search,.ag-mini-filter,.ag-filter-filter,.ag-filter-add-select){.ag-input-wrapper:before{margin-right:var(--ag-spacing)}.ag-number-field-input,.ag-text-field-input{padding-right:calc(var(--ag-spacing)*1.5 + 12px)}}',Vq={inputBackgroundColor:"transparent",inputBorder:!1,inputBorderRadius:0,inputTextColor:{ref:"textColor"},inputPlaceholderTextColor:{ref:"inputTextColor",mix:.5},inputPaddingStart:0,inputHeight:{calc:"max(iconSize, fontSize) + spacing * 2"},inputFocusBackgroundColor:{ref:"inputBackgroundColor"},inputFocusBorder:{ref:"inputBorder"},inputFocusShadow:"none",inputFocusTextColor:{ref:"inputTextColor"},inputDisabledBackgroundColor:{ref:"inputBackgroundColor"},inputDisabledBorder:{ref:"inputBorder"},inputDisabledTextColor:{ref:"inputTextColor"},inputInvalidBackgroundColor:{ref:"inputBackgroundColor"},inputInvalidBorder:{ref:"inputBorder"},inputInvalidTextColor:{ref:"inputTextColor"},inputIconColor:{ref:"inputTextColor"},pickerButtonBorder:!1,pickerButtonFocusBorder:{ref:"inputFocusBorder"},pickerButtonBackgroundColor:{ref:"backgroundColor"},pickerButtonFocusBackgroundColor:{ref:"backgroundColor"},pickerListBorder:!1,pickerListBackgroundColor:{ref:"backgroundColor"},colorPickerThumbSize:18,colorPickerTrackSize:12,colorPickerThumbBorderWidth:3,colorPickerTrackBorderRadius:12,colorPickerColorBorderRadius:4},Hq=(()=>VK({feature:"inputStyle",params:d(d({},Vq),{},{inputBackgroundColor:$K,inputBorder:!0,inputBorderRadius:{ref:"borderRadius"},inputPaddingStart:{ref:"spacing"},inputFocusBorder:{color:QK},inputFocusShadow:{ref:"focusShadow"},inputDisabledBackgroundColor:ZK(.06),inputDisabledTextColor:{ref:"textColor",mix:.5},inputInvalidBorder:{color:{ref:"invalidColor"}},pickerButtonBorder:!0,pickerListBorder:!0}),css:()=>zq+".ag-input-field-input:where(input:not([type]),input[type=text],input[type=number],input[type=tel],input[type=date],input[type=datetime-local],textarea){&:focus{box-shadow:var(--ag-focus-shadow);&:where(.invalid),&:where(:invalid){box-shadow:var(--ag-focus-error-shadow)}}}"}))(),jq='.ag-tabs-header{background-color:var(--ag-tab-bar-background-color);border-bottom:var(--ag-tab-bar-border);display:flex;flex:1;gap:var(--ag-tab-spacing);padding:var(--ag-tab-bar-top-padding) var(--ag-tab-bar-horizontal-padding) 0}.ag-tabs-header-wrapper{display:flex}.ag-tabs-close-button-wrapper{align-items:center;border:0;display:flex;padding:var(--ag-spacing)}:where(.ag-ltr) .ag-tabs-close-button-wrapper{border-right:solid var(--ag-border-width) var(--ag-border-color)}:where(.ag-rtl) .ag-tabs-close-button-wrapper{border-left:solid var(--ag-border-width) var(--ag-border-color)}.ag-tabs-close-button{background-color:unset;border:0;cursor:pointer;padding:0}.ag-tab{align-items:center;background-color:var(--ag-tab-background-color);border-left:var(--ag-tab-selected-border-width) solid transparent;border-right:var(--ag-tab-selected-border-width) solid transparent;color:var(--ag-tab-text-color);cursor:pointer;display:flex;flex:1;justify-content:center;padding:var(--ag-tab-top-padding) var(--ag-tab-horizontal-padding) var(--ag-tab-bottom-padding);position:relative;&:hover{background-color:var(--ag-tab-hover-background-color);color:var(--ag-tab-hover-text-color)}&.ag-tab-selected{background-color:var(--ag-tab-selected-background-color);color:var(--ag-tab-selected-text-color)}&:after{background-color:var(--ag-tab-selected-underline-color);bottom:0;content:"";display:block;height:var(--ag-tab-selected-underline-width);left:0;opacity:0;position:absolute;right:0;transition:opacity var(--ag-tab-selected-underline-transition-duration)}&.ag-tab-selected:after{opacity:1}}:where(.ag-ltr) .ag-tab{&.ag-tab-selected{&:where(:not(:first-of-type)){border-left-color:var(--ag-tab-selected-border-color)}&:where(:not(:last-of-type)){border-right-color:var(--ag-tab-selected-border-color)}}}:where(.ag-rtl) .ag-tab{&.ag-tab-selected{&:where(:not(:first-of-type)){border-right-color:var(--ag-tab-selected-border-color)}&:where(:not(:last-of-type)){border-left-color:var(--ag-tab-selected-border-color)}}}',Wq={tabBarBackgroundColor:"transparent",tabBarHorizontalPadding:0,tabBarTopPadding:0,tabBackgroundColor:"transparent",tabTextColor:{ref:"textColor"},tabHorizontalPadding:{ref:"spacing"},tabTopPadding:{ref:"spacing"},tabBottomPadding:{ref:"spacing"},tabSpacing:"0",tabHoverBackgroundColor:{ref:"tabBackgroundColor"},tabHoverTextColor:{ref:"tabTextColor"},tabSelectedBackgroundColor:{ref:"tabBackgroundColor"},tabSelectedTextColor:{ref:"tabTextColor"},tabSelectedBorderWidth:{ref:"borderWidth"},tabSelectedBorderColor:"transparent",tabSelectedUnderlineColor:"transparent",tabSelectedUnderlineWidth:0,tabSelectedUnderlineTransitionDuration:0,tabBarBorder:!1},Uq=(()=>VK({feature:"tabStyle",params:d(d({},Wq),{},{tabBarBorder:!0,tabBarBackgroundColor:YK(.05),tabTextColor:{ref:"textColor",mix:.7},tabSelectedTextColor:{ref:"textColor"},tabHoverTextColor:{ref:"textColor"},tabSelectedBorderColor:{ref:"borderColor"},tabSelectedBackgroundColor:$K}),css:jq}))(),Kq=(()=>Sq().withPart(Tq).withPart(Iq).withPart(Gq).withPart(Uq).withPart(Hq).withPart(aq).withParams({fontFamily:[{googleFont:"IBM Plex Sans"},"-apple-system","BlinkMacSystemFont","Segoe UI","Roboto","Oxygen-Sans","Ubuntu"]}))(),qq={cssName:"--ag-cell-horizontal-padding",changeKey:"cellHorizontalPaddingChanged",defaultValue:16},Yq={cssName:"--ag-indentation-level",changeKey:"indentationLevelChanged",defaultValue:0,noWarn:!0,cacheDefault:!0},Zq={cssName:"--ag-row-group-indent-size",changeKey:"rowGroupIndentSizeChanged",defaultValue:0},$q={cssName:"--ag-row-height",changeKey:"rowHeightChanged",defaultValue:42},Xq={cssName:"--ag-header-height",changeKey:"headerHeightChanged",defaultValue:48},Qq={cssName:"--ag-list-item-height",changeKey:"listItemHeightChanged",defaultValue:24},Jq={cssName:"--ag-row-border",changeKey:"rowBorderWidthChanged",defaultValue:1,border:!0},eY={cssName:"--ag-pinned-row-border",changeKey:"pinnedRowBorderWidthChanged",defaultValue:1,border:!0},tY=0,nY=15538;function iY(e,t,n){const i=e.visibleCols.headerGroupRowCount;if(n>=i)return{column:t,headerRowIndex:n};let o=t.getParent();for(;o&&o.getProvidedColumnGroup().getLevel()>n;)o=o.getParent();const r=t.isSpanHeaderHeight();return!o||r&&o.isPadding()?{column:t,headerRowIndex:i}:{column:o,headerRowIndex:o.getProvidedColumnGroup().getLevel()}}var oY=new Set(["gridPreDestroyed","fillStart","pasteStart"]),rY=["columnEverythingChanged","newColumnsLoaded","columnPivotModeChanged","pivotMaxColumnsExceeded","columnRowGroupChanged","expandOrCollapseAll","columnPivotChanged","gridColumnsChanged","columnValueChanged","columnMoved","columnVisible","columnPinned","columnGroupOpened","columnResized","displayedColumnsChanged","virtualColumnsChanged","columnHeaderMouseOver","columnHeaderMouseLeave","columnHeaderClicked","columnHeaderContextMenu","asyncTransactionsFlushed","rowGroupOpened","rowDataUpdated","pinnedRowDataChanged","pinnedRowsChanged","rangeSelectionChanged","cellSelectionChanged","chartCreated","chartRangeSelectionChanged","chartOptionsChanged","chartDestroyed","toolPanelVisibleChanged","toolPanelSizeChanged","modelUpdated","cutStart","cutEnd","pasteStart","pasteEnd","fillStart","fillEnd","cellSelectionDeleteStart","cellSelectionDeleteEnd","rangeDeleteStart","rangeDeleteEnd","undoStarted","undoEnded","redoStarted","redoEnded","cellClicked","cellDoubleClicked","cellMouseDown","cellContextMenu","cellValueChanged","cellEditRequest","rowValueChanged","headerFocused","cellFocused","rowSelected","selectionChanged","tooltipShow","tooltipHide","cellKeyDown","cellMouseOver","cellMouseOut","filterChanged","filterModified","filterUiChanged","filterOpened","floatingFilterUiChanged","advancedFilterBuilderVisibleChanged","sortChanged","virtualRowRemoved","rowClicked","rowDoubleClicked","gridReady","gridPreDestroyed","gridSizeChanged","viewportChanged","firstDataRendered","dragStarted","dragStopped","dragCancelled","rowEditingStarted","rowEditingStopped","cellEditingStarted","cellEditingStopped","bodyScroll","bodyScrollEnd","paginationChanged","componentStateChanged","storeRefreshed","stateUpdated","columnMenuVisibleChanged","contextMenuVisibleChanged","rowDragEnter","rowDragMove","rowDragLeave","rowDragEnd","rowDragCancel","findChanged","rowResizeStarted","rowResizeEnded","columnsReset","bulkEditingStarted","bulkEditingStopped","batchEditingStarted","batchEditingStopped"],sY=rY.reduce((e,t)=>{var n;return e[t]=!(n=t)||n.length<2?n:"on"+n[0].toUpperCase()+n.substring(1),e},{}),aY=(e,t)=>({tag:"span",ref:"eSort".concat(e),cls:"ag-sort-indicator-icon ag-sort-".concat(t," ag-hidden"),attrs:{"aria-hidden":"true"}}),lY={tag:"span",cls:"ag-sort-indicator-container",children:[aY("Order","order"),aY("Asc","ascending-icon"),aY("Desc","descending-icon"),aY("Mixed","mixed-icon"),aY("None","none-icon")]},uY=class extends AG{constructor(e){super(),this.eSortOrder=kG,this.eSortAsc=kG,this.eSortDesc=kG,this.eSortMixed=kG,this.eSortNone=kG,e||this.setTemplate(lY)}attachCustomElements(e,t,n,i,o){this.eSortOrder=e,this.eSortAsc=t,this.eSortDesc=n,this.eSortMixed=i,this.eSortNone=o}setupSort(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.column=e,this.suppressOrder=t,this.setupMultiSortIndicator(),!e.isSortable()&&!e.getColDef().showRowGroup)return;this.addInIcon("sortAscending",this.eSortAsc,e),this.addInIcon("sortDescending",this.eSortDesc,e),this.addInIcon("sortUnSort",this.eSortNone,e);const n=this.updateIcons.bind(this),i=this.onSortChanged.bind(this);this.addManagedPropertyListener("unSortIcon",n),this.addManagedEventListeners({newColumnsLoaded:n,sortChanged:i,columnRowGroupChanged:i}),this.onSortChanged()}addInIcon(e,t,n){if(null==t)return;const i=hW(e,this.beans,n);i&&t.appendChild(i)}onSortChanged(){this.updateIcons(),this.suppressOrder||this.updateSortOrder()}updateIcons(){const{eSortAsc:e,eSortDesc:t,eSortNone:n,column:i,gos:o,beans:r}=this,s=r.sortSvc.getDisplaySortForColumn(i);if(e){XL(e,"asc"===s,{skipAriaHidden:!0})}if(t){XL(t,"desc"===s,{skipAriaHidden:!0})}if(n){XL(n,!(!i.getColDef().unSortIcon&&!o.get("unSortIcon"))&&(null===s||void 0===s),{skipAriaHidden:!0})}}setupMultiSortIndicator(){const{eSortMixed:e,column:t,gos:n}=this;this.addInIcon("sortUnSort",e,t);const i=t.getColDef().showRowGroup;AB(n)&&i&&(this.addManagedEventListeners({sortChanged:this.updateMultiSortIndicator.bind(this),columnRowGroupChanged:this.updateMultiSortIndicator.bind(this)}),this.updateMultiSortIndicator())}updateMultiSortIndicator(){const{eSortMixed:e,beans:t,column:n}=this;if(e){XL(e,"mixed"===t.sortSvc.getDisplaySortForColumn(n),{skipAriaHidden:!0})}}updateSortOrder(){var e;const{eSortOrder:t,column:n,beans:{sortSvc:i}}=this;if(!t)return;const o=i.getColumnsWithSortingOrdered(),r=null!==(e=i.getDisplaySortIndexForColumn(n))&&void 0!==e?e:-1,s=o.some(e=>{var t;return null!==(t=i.getDisplaySortIndexForColumn(e))&&void 0!==t&&t});XL(t,r>=0&&s,{skipAriaHidden:!0}),r>=0?t.textContent=(r+1).toString():uN(t)}},cY={selector:"AG-SORT-INDICATOR",component:uY},dY=["asc","desc",null],hY={agSetColumnFilter:"SetFilter",agSetColumnFloatingFilter:"SetFilter",agMultiColumnFilter:"MultiFilter",agMultiColumnFloatingFilter:"MultiFilter",agGroupColumnFilter:"GroupFilter",agGroupColumnFloatingFilter:"GroupFilter",agGroupCellRenderer:"GroupCellRenderer",agGroupRowRenderer:"GroupCellRenderer",agRichSelect:"RichSelect",agRichSelectCellEditor:"RichSelect",agDetailCellRenderer:"SharedMasterDetail",agSparklineCellRenderer:"Sparklines",agDragAndDropImage:"SharedDragAndDrop",agColumnHeader:"ColumnHeaderComp",agColumnGroupHeader:"ColumnGroupHeaderComp",agSortIndicator:"Sort",agAnimateShowChangeCellRenderer:"HighlightChanges",agAnimateSlideCellRenderer:"HighlightChanges",agLoadingCellRenderer:"LoadingCellRenderer",agSkeletonCellRenderer:"SkeletonCellRenderer",agCheckboxCellRenderer:"CheckboxCellRenderer",agLoadingOverlay:"Overlay",agNoRowsOverlay:"Overlay",agTooltipComponent:"Tooltip",agReadOnlyFloatingFilter:"CustomFilter",agTextColumnFilter:"TextFilter",agNumberColumnFilter:"NumberFilter",agDateColumnFilter:"DateFilter",agDateInput:"DateFilter",agTextColumnFloatingFilter:"TextFilter",agNumberColumnFloatingFilter:"NumberFilter",agDateColumnFloatingFilter:"DateFilter",agCellEditor:"TextEditor",agSelectCellEditor:"SelectEditor",agTextCellEditor:"TextEditor",agNumberCellEditor:"NumberEditor",agDateCellEditor:"DateEditor",agDateStringCellEditor:"DateEditor",agCheckboxCellEditor:"CheckboxEditor",agLargeTextCellEditor:"LargeTextEditor",agMenuItem:"MenuItem",agColumnsToolPanel:"ColumnsToolPanel",agFiltersToolPanel:"FiltersToolPanel",agNewFiltersToolPanel:"NewFiltersToolPanel",agAggregationComponent:"StatusBar",agSelectedRowCountComponent:"StatusBar",agTotalRowCountComponent:"StatusBar",agFilteredRowCountComponent:"StatusBar",agTotalAndFilteredRowCountComponent:"StatusBar",agFindCellRenderer:"Find"},pY={aggFunc:"SharedAggregation",autoHeight:"RowAutoHeight",cellClass:"CellStyle",cellClassRules:"CellStyle",cellEditor:e=>{let{cellEditor:t,editable:n}=e;return n?"string"===typeof t&&null!==(i=hY[t])&&void 0!==i?i:"CustomEditor":null;var i},cellRenderer:e=>{let{cellRenderer:t}=e;return"string"!==typeof t?null:hY[t]},cellStyle:"CellStyle",columnChooserParams:"ColumnMenu",contextMenuItems:"ContextMenu",dndSource:"DragAndDrop",dndSourceOnRowDrag:"DragAndDrop",editable:e=>{let{editable:t,cellEditor:n}=e;return t&&!n?"TextEditor":null},enableCellChangeFlash:"HighlightChanges",enablePivot:"SharedPivot",enableRowGroup:"SharedRowGrouping",enableValue:"SharedAggregation",filter:e=>{let{filter:t}=e;return t&&"string"!==typeof t&&"boolean"!==typeof t?"CustomFilter":"string"===typeof t&&null!==(n=hY[t])&&void 0!==n?n:"ColumnFilter";var n},floatingFilter:"ColumnFilter",getQuickFilterText:"QuickFilter",headerTooltip:"Tooltip",mainMenuItems:"ColumnMenu",menuTabs:e=>{var t;const n=["columnsMenuTab","generalMenuTab"];return null!==(t=e.menuTabs)&&void 0!==t&&t.some(e=>n.includes(e))?"ColumnMenu":null},pivot:"SharedPivot",pivotIndex:"SharedPivot",rowDrag:"RowDrag",rowGroup:"SharedRowGrouping",rowGroupIndex:"SharedRowGrouping",tooltipField:"Tooltip",tooltipValueGetter:"Tooltip",spanRows:"CellSpan"},gY=()=>{const e={autoHeight:{supportedRowModels:["clientSide","serverSide"],validate:(e,t)=>{let{paginationAutoPageSize:n}=t;return n?"colDef.autoHeight is not supported with paginationAutoPageSize.":null}},cellRendererParams:{validate:e=>(null!=e.rowGroup||null!=e.rowGroupIndex||"agGroupCellRenderer"===e.cellRenderer)&&"checkbox"in e.cellRendererParams?'Since v33.0, `cellRendererParams.checkbox` has been deprecated. Use `rowSelection.checkboxLocation = "autoGroupColumn"` instead.':null},flex:{validate:(e,t)=>t.autoSizeStrategy?"colDef.flex is not supported with gridOptions.autoSizeStrategy":null},headerCheckboxSelection:{supportedRowModels:["clientSide","serverSide"],validate:(e,t)=>{let{rowSelection:n}=t;return"multiple"===n?null:"headerCheckboxSelection is only supported with rowSelection=multiple"}},headerCheckboxSelectionCurrentPageOnly:{supportedRowModels:["clientSide"],validate:(e,t)=>{let{rowSelection:n}=t;return"multiple"===n?null:"headerCheckboxSelectionCurrentPageOnly is only supported with rowSelection=multiple"}},headerCheckboxSelectionFilteredOnly:{supportedRowModels:["clientSide"],validate:(e,t)=>{let{rowSelection:n}=t;return"multiple"===n?null:"headerCheckboxSelectionFilteredOnly is only supported with rowSelection=multiple"}},headerValueGetter:{validate:e=>{const t=e.headerValueGetter;return"function"===typeof t||"string"===typeof t?null:"headerValueGetter must be a function or a valid string expression"}},icons:{validate:e=>{let{icons:t}=e;if(t){if(t.smallDown)return aB(262);if(t.smallLeft)return aB(263);if(t.smallRight)return aB(264)}return null}},sortingOrder:{validate:e=>{const t=e.sortingOrder;if(Array.isArray(t)&&t.length>0){const e=t.filter(e=>!dY.includes(e));if(e.length>0)return"sortingOrder must be an array with elements from [".concat(dY.map(JN).join(),"], currently it includes [").concat(e.map(JN).join(),"]")}else if(!Array.isArray(t)||t.length<=0)return"sortingOrder must be an array with at least one element, currently it's ".concat(t);return null}},type:{validate:e=>{const t=e.type;if(t instanceof Array){return t.some(e=>"string"!==typeof e)?"if colDef.type is supplied an array it should be of type 'string[]'":null}return"string"===typeof t?null:"colDef.type should be of type 'string' | 'string[]'"}},rowSpan:{validate:(e,t)=>{let{suppressRowTransform:n}=t;return n?null:"colDef.rowSpan requires suppressRowTransform to be enabled."}},spanRows:{dependencies:{editable:{required:[!1,void 0]},rowDrag:{required:[!1,void 0]},colSpan:{required:[void 0]},rowSpan:{required:[void 0]}},validate:(e,t)=>{let{rowSelection:n,cellSelection:i,suppressRowTransform:o,enableCellSpan:r,rowDragEntireRow:s,enableCellTextSelection:a}=t;return"object"===typeof n&&"singleRow"===(null===n||void 0===n?void 0:n.mode)&&null!==n&&void 0!==n&&n.enableClickSelection?"colDef.spanRows is not supported with rowSelection.clickSelection":i?"colDef.spanRows is not supported with cellSelection.":o?"colDef.spanRows is not supported with suppressRowTransform.":r?s?"colDef.spanRows is not supported with rowDragEntireRow.":a?"colDef.spanRows is not supported with enableCellTextSelection.":null:"colDef.spanRows requires enableCellSpan to be enabled."}}};return e},mY={headerName:void 0,columnGroupShow:void 0,headerStyle:void 0,headerClass:void 0,toolPanelClass:void 0,headerValueGetter:void 0,pivotKeys:void 0,groupId:void 0,colId:void 0,sort:void 0,initialSort:void 0,field:void 0,type:void 0,cellDataType:void 0,tooltipComponent:void 0,tooltipField:void 0,headerTooltip:void 0,cellClass:void 0,showRowGroup:void 0,filter:void 0,initialAggFunc:void 0,defaultAggFunc:void 0,aggFunc:void 0,pinned:void 0,initialPinned:void 0,chartDataType:void 0,cellAriaRole:void 0,cellEditorPopupPosition:void 0,headerGroupComponent:void 0,headerGroupComponentParams:void 0,cellStyle:void 0,cellRenderer:void 0,cellRendererParams:void 0,cellEditor:void 0,cellEditorParams:void 0,filterParams:void 0,pivotValueColumn:void 0,headerComponent:void 0,headerComponentParams:void 0,floatingFilterComponent:void 0,floatingFilterComponentParams:void 0,tooltipComponentParams:void 0,refData:void 0,columnChooserParams:void 0,children:void 0,sortingOrder:void 0,allowedAggFuncs:void 0,menuTabs:void 0,pivotTotalColumnIds:void 0,cellClassRules:void 0,icons:void 0,sortIndex:void 0,initialSortIndex:void 0,flex:void 0,initialFlex:void 0,width:void 0,initialWidth:void 0,minWidth:void 0,maxWidth:void 0,rowGroupIndex:void 0,initialRowGroupIndex:void 0,pivotIndex:void 0,initialPivotIndex:void 0,suppressColumnsToolPanel:void 0,suppressFiltersToolPanel:void 0,openByDefault:void 0,marryChildren:void 0,suppressStickyLabel:void 0,hide:void 0,initialHide:void 0,rowGroup:void 0,initialRowGroup:void 0,pivot:void 0,initialPivot:void 0,checkboxSelection:void 0,showDisabledCheckboxes:void 0,headerCheckboxSelection:void 0,headerCheckboxSelectionFilteredOnly:void 0,headerCheckboxSelectionCurrentPageOnly:void 0,suppressHeaderMenuButton:void 0,suppressMovable:void 0,lockPosition:void 0,lockVisible:void 0,lockPinned:void 0,unSortIcon:void 0,suppressSizeToFit:void 0,suppressAutoSize:void 0,enableRowGroup:void 0,enablePivot:void 0,enableValue:void 0,editable:void 0,suppressPaste:void 0,suppressNavigable:void 0,enableCellChangeFlash:void 0,rowDrag:void 0,dndSource:void 0,autoHeight:void 0,wrapText:void 0,sortable:void 0,resizable:void 0,singleClickEdit:void 0,floatingFilter:void 0,cellEditorPopup:void 0,suppressFillHandle:void 0,wrapHeaderText:void 0,autoHeaderHeight:void 0,dndSourceOnRowDrag:void 0,valueGetter:void 0,valueSetter:void 0,filterValueGetter:void 0,keyCreator:void 0,valueFormatter:void 0,valueParser:void 0,comparator:void 0,equals:void 0,pivotComparator:void 0,suppressKeyboardEvent:void 0,suppressHeaderKeyboardEvent:void 0,colSpan:void 0,rowSpan:void 0,spanRows:void 0,getQuickFilterText:void 0,onCellValueChanged:void 0,onCellClicked:void 0,onCellDoubleClicked:void 0,onCellContextMenu:void 0,rowDragText:void 0,tooltipValueGetter:void 0,cellRendererSelector:void 0,cellEditorSelector:void 0,suppressSpanHeaderHeight:void 0,useValueFormatterForExport:void 0,useValueParserForImport:void 0,mainMenuItems:void 0,contextMenuItems:void 0,suppressFloatingFilterButton:void 0,suppressHeaderFilterButton:void 0,suppressHeaderContextMenu:void 0,loadingCellRenderer:void 0,loadingCellRendererParams:void 0,loadingCellRendererSelector:void 0,context:void 0,dateComponent:void 0,dateComponentParams:void 0,getFindText:void 0},vY=["overlayLoadingTemplate","overlayNoRowsTemplate","gridId","quickFilterText","rowModelType","editType","domLayout","clipboardDelimiter","rowGroupPanelShow","multiSortKey","pivotColumnGroupTotals","pivotRowTotals","pivotPanelShow","fillHandleDirection","groupDisplayType","treeDataDisplayType","treeDataChildrenField","treeDataParentIdField","colResizeDefault","tooltipTrigger","serverSidePivotResultFieldSeparator","columnMenu","tooltipShowMode","invalidEditValueMode","grandTotalRow","themeCssLayer","findSearchValue","styleNonce","renderingMode"],fY=["components","rowStyle","context","autoGroupColumnDef","localeText","icons","datasource","dragAndDropImageComponentParams","serverSideDatasource","viewportDatasource","groupRowRendererParams","aggFuncs","fullWidthCellRendererParams","defaultColGroupDef","defaultColDef","defaultCsvExportParams","defaultExcelExportParams","columnTypes","rowClassRules","detailCellRendererParams","loadingCellRendererParams","loadingOverlayComponentParams","noRowsOverlayComponentParams","popupParent","themeStyleContainer","statusBar","chartThemeOverrides","customChartThemes","chartToolPanelsDef","dataTypeDefinitions","advancedFilterParent","advancedFilterBuilderParams","advancedFilterParams","initialState","autoSizeStrategy","selectionColumnDef","findOptions","filterHandlers"],wY=["sortingOrder","alignedGrids","rowData","columnDefs","excelStyles","pinnedTopRowData","pinnedBottomRowData","chartThemes","rowClass","paginationPageSizeSelector"],CY=["rowHeight","detailRowHeight","rowBuffer","headerHeight","groupHeaderHeight","groupLockGroupColumns","floatingFiltersHeight","pivotHeaderHeight","pivotGroupHeaderHeight","groupDefaultExpanded","pivotDefaultExpanded","viewportRowModelPageSize","viewportRowModelBufferSize","autoSizePadding","maxBlocksInCache","maxConcurrentDatasourceRequests","tooltipShowDelay","tooltipHideDelay","cacheOverflowSize","paginationPageSize","cacheBlockSize","infiniteInitialRowCount","serverSideInitialRowCount","scrollbarWidth","asyncTransactionWaitMillis","blockLoadDebounceMillis","keepDetailRowsCount","undoRedoCellEditingLimit","cellFlashDuration","cellFadeDuration","tabIndex","pivotMaxGeneratedColumns","rowDragInsertDelay"],bY=["theme","rowSelection"],yY=["cellSelection","sideBar","rowNumbers","suppressGroupChangesColumnVisibility","groupAggFiltering","suppressStickyTotalRow","groupHideParentOfSingleChild","enableRowPinning"],SY=["loadThemeGoogleFonts","suppressMakeColumnVisibleAfterUnGroup","suppressRowClickSelection","suppressCellFocus","suppressHeaderFocus","suppressHorizontalScroll","groupSelectsChildren","alwaysShowHorizontalScroll","alwaysShowVerticalScroll","debug","enableBrowserTooltips","enableCellExpressions","groupSuppressBlankHeader","suppressMenuHide","suppressRowDeselection","unSortIcon","suppressMultiSort","alwaysMultiSort","singleClickEdit","suppressLoadingOverlay","suppressNoRowsOverlay","suppressAutoSize","skipHeaderOnAutoSize","suppressColumnMoveAnimation","suppressMoveWhenColumnDragging","suppressMovableColumns","suppressFieldDotNotation","enableRangeSelection","enableRangeHandle","enableFillHandle","suppressClearOnFillReduction","deltaSort","suppressTouch","allowContextMenuWithControlKey","suppressContextMenu","suppressDragLeaveHidesColumns","suppressRowGroupHidesColumns","suppressMiddleClickScrolls","suppressPreventDefaultOnMouseWheel","suppressCopyRowsToClipboard","copyHeadersToClipboard","copyGroupHeadersToClipboard","pivotMode","suppressAggFuncInHeader","suppressColumnVirtualisation","alwaysAggregateAtRootLevel","suppressFocusAfterRefresh","functionsReadOnly","animateRows","groupSelectsFiltered","groupRemoveSingleChildren","groupRemoveLowestSingleChildren","enableRtl","enableCellSpan","suppressClickEdit","rowDragEntireRow","rowDragManaged","suppressRowDrag","suppressMoveWhenRowDragging","rowDragMultiRow","enableGroupEdit","embedFullWidthRows","suppressPaginationPanel","groupHideOpenParents","groupAllowUnbalanced","pagination","paginationAutoPageSize","suppressScrollOnNewData","suppressScrollWhenPopupsAreOpen","purgeClosedRowNodes","cacheQuickFilter","includeHiddenColumnsInQuickFilter","ensureDomOrder","accentedSort","suppressChangeDetection","valueCache","valueCacheNeverExpires","aggregateOnlyChangedColumns","suppressAnimationFrame","suppressExcelExport","suppressCsvExport","includeHiddenColumnsInAdvancedFilter","suppressMultiRangeSelection","enterNavigatesVerticallyAfterEdit","enterNavigatesVertically","suppressPropertyNamesCheck","rowMultiSelectWithClick","suppressRowHoverHighlight","suppressRowTransform","suppressClipboardPaste","suppressLastEmptyLineOnPaste","enableCharts","suppressMaintainUnsortedOrder","enableCellTextSelection","suppressBrowserResizeObserver","suppressMaxRenderedRowRestriction","excludeChildrenWhenTreeDataFiltering","tooltipMouseTrack","tooltipInteraction","keepDetailRows","paginateChildRows","preventDefaultOnContextMenu","undoRedoCellEditing","allowDragFromColumnsToolPanel","pivotSuppressAutoColumn","suppressExpandablePivotGroups","debounceVerticalScrollbar","detailRowAutoHeight","serverSideSortAllLevels","serverSideEnableClientSideSort","serverSideOnlyRefreshFilteredGroups","suppressAggFilteredOnly","showOpenedGroup","suppressClipboardApi","suppressModelUpdateAfterUpdateTransaction","stopEditingWhenCellsLoseFocus","groupMaintainOrder","columnHoverHighlight","readOnlyEdit","suppressRowVirtualisation","enableCellEditingOnBackspace","resetRowDataOnUpdate","removePivotHeaderRowWhenSingleValueColumn","suppressCopySingleCellRanges","suppressGroupRowsSticky","suppressCutToClipboard","rowGroupPanelSuppressSort","allowShowChangeAfterFilter","enableAdvancedFilter","masterDetail","treeData","reactiveCustomComponents","applyQuickFilterBeforePivotOrAgg","suppressServerSideFullWidthLoadingRow","suppressAdvancedFilterEval","loading","maintainColumnOrder","enableStrictPivotColumnOrder","suppressSetFilterByDefault","enableFilterHandlers","suppressStartEditOnTab","hidePaddedHeaderRows"],xY=["doesExternalFilterPass","processPivotResultColDef","processPivotResultColGroupDef","getBusinessKeyForNode","isRowSelectable","rowDragText","groupRowRenderer","dragAndDropImageComponent","fullWidthCellRenderer","loadingCellRenderer","loadingOverlayComponent","noRowsOverlayComponent","detailCellRenderer","quickFilterParser","quickFilterMatcher","getLocaleText","isExternalFilterPresent","getRowHeight","getRowClass","getRowStyle","getFullRowEditValidationErrors","getContextMenuItems","getMainMenuItems","processRowPostCreate","processCellForClipboard","getGroupRowAgg","isFullWidthRow","sendToClipboard","focusGridInnerElement","navigateToNextHeader","tabToNextHeader","navigateToNextCell","tabToNextCell","processCellFromClipboard","getDocument","postProcessPopup","getChildCount","getDataPath","isRowMaster","postSortRows","processHeaderForClipboard","processUnpinnedColumns","processGroupHeaderForClipboard","paginationNumberFormatter","processDataFromClipboard","getServerSideGroupKey","isServerSideGroup","createChartContainer","getChartToolbarItems","fillOperation","isApplyServerSideTransaction","getServerSideGroupLevelParams","isServerSideGroupOpenByDefault","isGroupOpenByDefault","initialGroupOrderComparator","loadingCellRendererSelector","getRowId","chartMenuItems","groupTotalRow","alwaysPassFilter","isRowPinnable","isRowPinned","isRowValidDropPosition"];function DY(e,t,n){return"number"===typeof t||null==t?null==t||t>=n?null:"".concat(e,": value should be greater than or equal to ").concat(n):"".concat(e,": value should be a number")}var EY={alignedGrids:"AlignedGrids",allowContextMenuWithControlKey:"ContextMenu",autoSizeStrategy:"ColumnAutoSize",cellSelection:"CellSelection",columnHoverHighlight:"ColumnHover",datasource:"InfiniteRowModel",doesExternalFilterPass:"ExternalFilter",editType:"EditCore",invalidEditValueMode:"EditCore",enableAdvancedFilter:"AdvancedFilter",enableCellSpan:"CellSpan",enableCharts:"IntegratedCharts",enableRangeSelection:"CellSelection",enableRowPinning:"PinnedRow",findSearchValue:"Find",getFullRowEditValidationErrors:"EditCore",getContextMenuItems:"ContextMenu",getLocaleText:"Locale",getMainMenuItems:"ColumnMenu",getRowClass:"RowStyle",getRowStyle:"RowStyle",groupTotalRow:"SharedRowGrouping",grandTotalRow:"SharedRowGrouping",initialState:"GridState",isExternalFilterPresent:"ExternalFilter",isRowPinnable:"PinnedRow",isRowPinned:"PinnedRow",localeText:"Locale",masterDetail:"SharedMasterDetail",pagination:"Pagination",pinnedBottomRowData:"PinnedRow",pinnedTopRowData:"PinnedRow",pivotMode:"SharedPivot",pivotPanelShow:"RowGroupingPanel",quickFilterText:"QuickFilter",rowClass:"RowStyle",rowClassRules:"RowStyle",rowData:"ClientSideRowModel",rowDragManaged:"RowDrag",rowGroupPanelShow:"RowGroupingPanel",rowNumbers:"RowNumbers",rowSelection:"SharedRowSelection",rowStyle:"RowStyle",serverSideDatasource:"ServerSideRowModel",sideBar:"SideBar",statusBar:"StatusBar",treeData:"SharedTreeData",undoRedoCellEditing:"UndoRedoEdit",valueCache:"ValueCache",viewportDatasource:"ViewportRowModel"},FY=()=>{const e={autoSizePadding:{validate(e){let{autoSizePadding:t}=e;return DY("autoSizePadding",t,0)}},cacheBlockSize:{supportedRowModels:["serverSide","infinite"],validate(e){let{cacheBlockSize:t}=e;return DY("cacheBlockSize",t,1)}},cacheOverflowSize:{validate(e){let{cacheOverflowSize:t}=e;return DY("cacheOverflowSize",t,1)}},datasource:{supportedRowModels:["infinite"]},domLayout:{validate:e=>{const t=e.domLayout,n=["autoHeight","normal","print"];return t&&!n.includes(t)?"domLayout must be one of [".concat(n.join(),"], currently it's ").concat(t):null}},enableFillHandle:{dependencies:{enableRangeSelection:{required:[!0]}}},enableRangeHandle:{dependencies:{enableRangeSelection:{required:[!0]}}},enableRangeSelection:{dependencies:{rowDragEntireRow:{required:[!1,void 0]}}},enableRowPinning:{supportedRowModels:["clientSide"],validate(e){let{enableRowPinning:t,pinnedTopRowData:n,pinnedBottomRowData:i}=e;return t&&(n||i)?"Manual row pinning cannot be used together with pinned row data. Either set `enableRowPinning` to `false`, or remove `pinnedTopRowData` and `pinnedBottomRowData`.":null}},isRowPinnable:{supportedRowModels:["clientSide"],validate(e){let{enableRowPinning:t,isRowPinnable:n,pinnedTopRowData:i,pinnedBottomRowData:o}=e;return n&&(i||o)?"Manual row pinning cannot be used together with pinned row data. Either remove `isRowPinnable`, or remove `pinnedTopRowData` and `pinnedBottomRowData`.":!t&&n?"`isRowPinnable` requires `enableRowPinning` to be set.":null}},isRowPinned:{supportedRowModels:["clientSide"],validate(e){let{enableRowPinning:t,isRowPinned:n,pinnedTopRowData:i,pinnedBottomRowData:o}=e;return n&&(i||o)?"Manual row pinning cannot be used together with pinned row data. Either remove `isRowPinned`, or remove `pinnedTopRowData` and `pinnedBottomRowData`.":!t&&n?"`isRowPinned` requires `enableRowPinning` to be set.":null}},groupDefaultExpanded:{supportedRowModels:["clientSide"]},groupHideOpenParents:{supportedRowModels:["clientSide","serverSide"],dependencies:{groupTotalRow:{required:[void 0,"bottom"]},treeData:{required:[void 0,!1],reason:"Tree Data has values at the group level so it doesn't make sense to hide them."}}},groupHideParentOfSingleChild:{dependencies:{groupHideOpenParents:{required:[void 0,!1]}}},groupRemoveLowestSingleChildren:{dependencies:{groupHideOpenParents:{required:[void 0,!1]},groupRemoveSingleChildren:{required:[void 0,!1]}}},groupRemoveSingleChildren:{dependencies:{groupHideOpenParents:{required:[void 0,!1]},groupRemoveLowestSingleChildren:{required:[void 0,!1]}}},groupSelectsChildren:{dependencies:{rowSelection:{required:["multiple"]}}},icons:{validate:e=>{let{icons:t}=e;if(t){if(t.smallDown)return aB(262);if(t.smallLeft)return aB(263);if(t.smallRight)return aB(264)}return null}},infiniteInitialRowCount:{validate(e){let{infiniteInitialRowCount:t}=e;return DY("infiniteInitialRowCount",t,1)}},initialGroupOrderComparator:{supportedRowModels:["clientSide"]},keepDetailRowsCount:{validate(e){let{keepDetailRowsCount:t}=e;return DY("keepDetailRowsCount",t,1)}},paginationPageSize:{validate(e){let{paginationPageSize:t}=e;return DY("paginationPageSize",t,1)}},paginationPageSizeSelector:{validate:e=>{const t=e.paginationPageSizeSelector;return"boolean"===typeof t||null==t||t.length?null:"'paginationPageSizeSelector' cannot be an empty array.\n                    If you want to hide the page size selector, set paginationPageSizeSelector to false."}},pivotMode:{dependencies:{treeData:{required:[!1,void 0],reason:"Pivot Mode is not supported with Tree Data."}}},quickFilterText:{supportedRowModels:["clientSide"]},rowBuffer:{validate(e){let{rowBuffer:t}=e;return DY("rowBuffer",t,0)}},rowClass:{validate:e=>"function"===typeof e.rowClass?"rowClass should not be a function, please use getRowClass instead":null},rowData:{supportedRowModels:["clientSide"]},rowDragManaged:{supportedRowModels:["clientSide"],dependencies:{pagination:{required:[!1,void 0]}}},rowSelection:{validate(e){let{rowSelection:t}=e;return t&&"string"===typeof t?'As of version 32.2.1, using `rowSelection` with the values "single" or "multiple" has been deprecated. Use the object value instead.':t&&"object"!==typeof t?"Expected `RowSelectionOptions` object for the `rowSelection` property.":t&&"multiRow"!==t.mode&&"singleRow"!==t.mode?'Selection mode "'.concat(t.mode,"\" is invalid. Use one of 'singleRow' or 'multiRow'."):null}},rowStyle:{validate:e=>{const t=e.rowStyle;return t&&"function"===typeof t?"rowStyle should be an object of key/value styles, not be a function, use getRowStyle() instead":null}},serverSideDatasource:{supportedRowModels:["serverSide"]},serverSideInitialRowCount:{supportedRowModels:["serverSide"],validate(e){let{serverSideInitialRowCount:t}=e;return DY("serverSideInitialRowCount",t,1)}},serverSideOnlyRefreshFilteredGroups:{supportedRowModels:["serverSide"]},serverSideSortAllLevels:{supportedRowModels:["serverSide"]},sortingOrder:{validate:e=>{const t=e.sortingOrder;if(Array.isArray(t)&&t.length>0){const e=t.filter(e=>!dY.includes(e));if(e.length>0)return"sortingOrder must be an array with elements from [".concat(dY.map(JN).join(),"], currently it includes [").concat(e.map(JN).join(),"]")}else if(!Array.isArray(t)||t.length<=0)return"sortingOrder must be an array with at least one element, currently it's ".concat(t);return null}},tooltipHideDelay:{validate:e=>e.tooltipHideDelay&&e.tooltipHideDelay<0?"tooltipHideDelay should not be lower than 0":null},tooltipShowDelay:{validate:e=>e.tooltipShowDelay&&e.tooltipShowDelay<0?"tooltipShowDelay should not be lower than 0":null},treeData:{supportedRowModels:["clientSide","serverSide"],validate:e=>{var t;const n=null!==(t=e.rowModelType)&&void 0!==t?t:"clientSide";switch(n){case"clientSide":{const{treeDataChildrenField:t,treeDataParentIdField:n,getDataPath:i,getRowId:o}=e;if(!t&&!n&&!i)return"treeData requires either 'treeDataChildrenField' or 'treeDataParentIdField' or 'getDataPath' in the clientSide row model.";if(t){if(i)return"Cannot use both 'treeDataChildrenField' and 'getDataPath' at the same time.";if(n)return"Cannot use both 'treeDataChildrenField' and 'treeDataParentIdField' at the same time."}if(n){if(!o)return"getRowId callback not provided, tree data with parent id cannot be built.";if(i)return"Cannot use both 'treeDataParentIdField' and 'getDataPath' at the same time."}return null}case"serverSide":{const t="treeData requires 'isServerSideGroup' and 'getServerSideGroupKey' in the ".concat(n," row model.");return e.isServerSideGroup&&e.getServerSideGroupKey?null:t}}return null}},viewportDatasource:{supportedRowModels:["viewport"]},viewportRowModelBufferSize:{validate(e){let{viewportRowModelBufferSize:t}=e;return DY("viewportRowModelBufferSize",t,0)}},viewportRowModelPageSize:{validate(e){let{viewportRowModelPageSize:t}=e;return DY("viewportRowModelPageSize",t,1)}},rowDragEntireRow:{dependencies:{cellSelection:{required:[void 0]}}},autoGroupColumnDef:{validate(e){let{autoGroupColumnDef:t,showOpenedGroup:n}=e;return null!==t&&void 0!==t&&t.field&&n?"autoGroupColumnDef.field and showOpenedGroup are not supported when used together.":null!==t&&void 0!==t&&t.valueGetter&&n?"autoGroupColumnDef.valueGetter and showOpenedGroup are not supported when used together.":null}},renderingMode:{validate:e=>{const t=e.renderingMode,n=["default","legacy"];return t&&!n.includes(t)?"renderingMode must be one of [".concat(n.join(),"], currently it's ").concat(t):null}}},t={};return SY.forEach(e=>{t[e]={expectedType:"boolean"}}),CY.forEach(e=>{t[e]={expectedType:"number"}}),XI(t,e),t},kY=0,AY=0;function RY(e){const t={"aria-hidden":"true"};return{tag:"div",cls:"ag-cell-label-container",role:"presentation",children:[{tag:"span",ref:"eMenu",cls:"ag-header-icon ag-header-cell-menu-button",attrs:t},{tag:"span",ref:"eFilterButton",cls:"ag-header-icon ag-header-cell-filter-button",attrs:t},{tag:"div",ref:"eLabel",cls:"ag-header-cell-label",role:"presentation",children:[{tag:"span",ref:"eText",cls:"ag-header-cell-text"},{tag:"span",ref:"eFilter",cls:"ag-header-icon ag-header-label-icon ag-filter-icon",attrs:t},e?{tag:"ag-sort-indicator",ref:"eSortIndicator"}:null]}]}}var PY=RY(!0),TY=RY(!1),_Y={tag:"div",cls:"ag-header-group-cell-label",role:"presentation",children:[{tag:"span",ref:"agLabel",cls:"ag-header-group-text",role:"presentation"},{tag:"span",ref:"agOpened",cls:"ag-header-icon ag-header-expand-icon ag-header-expand-icon-expanded"},{tag:"span",ref:"agClosed",cls:"ag-header-icon ag-header-expand-icon ag-header-expand-icon-collapsed"}]},MY={moduleName:"ColumnHeaderComp",version:KN,userComponents:{agColumnHeader:class extends AG{constructor(){super(...arguments),this.eFilter=kG,this.eFilterButton=kG,this.eSortIndicator=kG,this.eMenu=kG,this.eLabel=kG,this.eText=kG,this.eSortOrder=kG,this.eSortAsc=kG,this.eSortDesc=kG,this.eSortMixed=kG,this.eSortNone=kG,this.isLoadingInnerComponent=!1}refresh(e){var t;const n=this.params;if(this.params=e,this.workOutTemplate(e,!(null===(t=this.beans)||void 0===t||!t.sortSvc))!=this.currentTemplate||this.workOutShowMenu()!=this.currentShowMenu||e.enableSorting!=this.currentSort||null!=this.currentSuppressMenuHide&&this.shouldSuppressMenuHide()!=this.currentSuppressMenuHide||n.enableFilterButton!=e.enableFilterButton||n.enableFilterIcon!=e.enableFilterIcon)return!1;if(this.innerHeaderComponent){var i,o;const t=d({},e);XI(t,e.innerHeaderComponentParams),null===(i=(o=this.innerHeaderComponent).refresh)||void 0===i||i.call(o,t)}else this.setDisplayName(e);return!0}workOutTemplate(e,t){const n=e.template;return n?null!==n&&void 0!==n&&n.trim?n.trim():n:t?PY:TY}init(e){this.params=e;const{sortSvc:t,touchSvc:n,rowNumbersSvc:i,userCompFactory:o}=this.beans,r=null===t||void 0===t?void 0:t.getSortIndicatorSelector();this.currentTemplate=this.workOutTemplate(e,!!r),this.setTemplate(this.currentTemplate,r?[r]:void 0),null===n||void 0===n||n.setupForHeader(this),this.setMenu(),this.setupSort(),null===i||void 0===i||i.setupForHeader(this),this.setupFilterIcon(),this.setupFilterButton(),this.workOutInnerHeaderComponent(o,e),this.setDisplayName(e)}workOutInnerHeaderComponent(e,t){const n=function(e,t,n){return e.getCompDetails(t,LG,void 0,n)}(e,t,t);n&&(this.isLoadingInnerComponent=!0,n.newAgStackInstance().then(e=>{this.isLoadingInnerComponent=!1,e&&(this.isAlive()?(this.innerHeaderComponent=e,this.eText&&this.eText.appendChild(e.getGui())):this.destroyBean(e))}))}setDisplayName(e){const{displayName:t}=e,n=this.currentDisplayName;this.currentDisplayName=t,!this.eText||n===t||this.innerHeaderComponent||this.isLoadingInnerComponent||(this.eText.textContent=CO(t))}addInIcon(e,t,n){const i=hW(e,this.beans,n);i&&t.appendChild(i)}workOutShowMenu(){var e;return this.params.enableMenu&&!(null===(e=this.beans.menuSvc)||void 0===e||!e.isHeaderMenuButtonEnabled())}shouldSuppressMenuHide(){var e;return!(null===(e=this.beans.menuSvc)||void 0===e||!e.isHeaderMenuButtonAlwaysShowEnabled())}setMenu(){if(!this.eMenu)return;if(this.currentShowMenu=this.workOutShowMenu(),!this.currentShowMenu)return cN(this.eMenu),void(this.eMenu=void 0);const{gos:e,eMenu:t,params:n}=this,i=tO(e);this.addInIcon(i?"menu":"menuAlt",t,n.column),t.classList.toggle("ag-header-menu-icon",!i);const o=this.shouldSuppressMenuHide();this.currentSuppressMenuHide=o,this.addManagedElementListeners(t,{click:()=>this.showColumnMenu(this.eMenu)}),this.toggleMenuAlwaysShow(o)}toggleMenuAlwaysShow(e){var t;null===(t=this.eMenu)||void 0===t||t.classList.toggle("ag-header-menu-always-show",e)}showColumnMenu(e){const{currentSuppressMenuHide:t,params:n}=this;t||this.toggleMenuAlwaysShow(!0),n.showColumnMenu(e,()=>{t||this.toggleMenuAlwaysShow(!1)})}onMenuKeyboardShortcut(e){const{params:t,gos:n,beans:i,eMenu:o,eFilterButton:r}=this,s=t.column,a=tO(n);var l,u;if(e&&!a){if(null!==(l=i.menuSvc)&&void 0!==l&&l.isFilterMenuInHeaderEnabled(s))return t.showFilter(null!==(u=null!==r&&void 0!==r?r:o)&&void 0!==u?u:this.getGui()),!0}else if(t.enableMenu){var c;return this.showColumnMenu(null!==(c=null!==o&&void 0!==o?o:r)&&void 0!==c?c:this.getGui()),!0}return!1}setupSort(){const{sortSvc:e}=this.beans;if(!e)return;const{enableSorting:t,column:n}=this.params;if(this.currentSort=t,!this.eSortIndicator){this.eSortIndicator=this.createBean(e.createSortIndicator(!0));const{eSortIndicator:t,eSortOrder:n,eSortAsc:i,eSortDesc:o,eSortMixed:r,eSortNone:s}=this;t.attachCustomElements(n,i,o,r,s)}this.eSortIndicator.setupSort(n),this.currentSort&&e.setupHeader(this,n,this.eLabel)}setupFilterIcon(){const{eFilter:e,params:t}=this;if(!e)return;this.configureFilter(t.enableFilterIcon,e,()=>{const n=t.column.isFilterActive();XL(e,n,{skipAriaHidden:!0})},"filterActive")}setupFilterButton(){const{eFilterButton:e,params:t}=this;if(!e)return;this.configureFilter(t.enableFilterButton,e,this.onFilterChangedButton.bind(this),"filter")?this.addManagedElementListeners(e,{click:()=>t.showFilter(e)}):this.eFilterButton=void 0}configureFilter(e,t,n,i){if(!e)return cN(t),!1;const o=this.params.column;return this.addInIcon(i,t,o),this.addManagedListeners(o,{filterChanged:n}),n(),!0}onFilterChangedButton(){const e=this.params.column.isFilterActive();this.eFilterButton.classList.toggle("ag-filter-active",e)}getAnchorElementForMenu(e){var t;const{eFilterButton:n,eMenu:i}=this;var o;return e?null!==(o=null!==n&&void 0!==n?n:i)&&void 0!==o?o:this.getGui():null!==(t=null!==i&&void 0!==i?i:n)&&void 0!==t?t:this.getGui()}destroy(){super.destroy(),this.innerHeaderComponent&&(this.destroyBean(this.innerHeaderComponent),this.innerHeaderComponent=void 0)}}},icons:{menu:"menu",menuAlt:"menu-alt"}},IY={moduleName:"ColumnGroupHeaderComp",version:KN,userComponents:{agColumnGroupHeader:class extends AG{constructor(){super(_Y),this.agOpened=kG,this.agClosed=kG,this.agLabel=kG,this.isLoadingInnerComponent=!1}init(e){const{userCompFactory:t,touchSvc:n}=this.beans;this.params=e,this.checkWarnings(),this.workOutInnerHeaderGroupComponent(t,e),this.setupLabel(e),this.addGroupExpandIcon(e),this.setupExpandIcons(),null===n||void 0===n||n.setupForHeaderGroup(this)}checkWarnings(){this.params.template&&iB(89)}workOutInnerHeaderGroupComponent(e,t){const n=function(e,t,n){return e.getCompDetails(t,NG,void 0,n)}(e,t,t);n&&(this.isLoadingInnerComponent=!0,n.newAgStackInstance().then(e=>{this.isLoadingInnerComponent=!1,e&&(this.isAlive()?(this.innerHeaderGroupComponent=e,this.agLabel.appendChild(e.getGui())):this.destroyBean(e))}))}setupExpandIcons(){const{agOpened:e,agClosed:t,params:{columnGroup:n},beans:i}=this;this.addInIcon("columnGroupOpened",e),this.addInIcon("columnGroupClosed",t);const o=e=>{if(dO(e))return;const t=!n.isExpanded();i.colGroupSvc.setColumnGroupOpened(n.getProvidedColumnGroup(),t,"uiColumnExpanded")};this.addTouchAndClickListeners(i,t,o),this.addTouchAndClickListeners(i,e,o);const r=e=>{cO(e)};this.addManagedElementListeners(t,{dblclick:r}),this.addManagedElementListeners(e,{dblclick:r}),this.addManagedElementListeners(this.getGui(),{dblclick:o}),this.updateIconVisibility();const s=n.getProvidedColumnGroup(),a=this.updateIconVisibility.bind(this);this.addManagedListeners(s,{expandedChanged:a,expandableChanged:a})}addTouchAndClickListeners(e,t,n){var i;null===(i=e.touchSvc)||void 0===i||i.setupForHeaderGroupElement(this,t,n),this.addManagedElementListeners(t,{click:n})}updateIconVisibility(){const{agOpened:e,agClosed:t,params:{columnGroup:n}}=this;if(n.isExpandable()){const i=n.isExpanded();XL(e,i),XL(t,!i)}else XL(e,!1),XL(t,!1)}addInIcon(e,t){const n=hW(e,this.beans,null);n&&t.appendChild(n)}addGroupExpandIcon(e){if(!e.columnGroup.isExpandable()){const{agOpened:e,agClosed:t}=this;return XL(e,!1),void XL(t,!1)}}setupLabel(e){var t;const{displayName:n,columnGroup:i}=e,o=this.innerHeaderGroupComponent||this.isLoadingInnerComponent;UI(n)&&!o&&(this.agLabel.textContent=CO(n)),this.toggleCss("ag-sticky-label",!(null!==(t=i.getColGroupDef())&&void 0!==t&&t.suppressStickyLabel))}destroy(){super.destroy(),this.innerHeaderGroupComponent&&(this.destroyBean(this.innerHeaderGroupComponent),this.innerHeaderGroupComponent=void 0)}}},icons:{columnGroupOpened:"expanded",columnGroupClosed:"contracted"}},LY={moduleName:"AnimationFrame",version:KN,beans:[class extends vO{constructor(){super(...arguments),this.beanName="animationFrameSvc",this.p1={list:[],sorted:!1},this.p2={list:[],sorted:!1},this.f1={list:[],sorted:!1},this.destroyTasks=[],this.ticking=!1,this.scrollGoingDown=!0,this.lastScrollTop=0,this.taskCount=0}setScrollTop(e){this.scrollGoingDown=e>=this.lastScrollTop,0===e&&(this.scrollGoingDown=!0),this.lastScrollTop=e}postConstruct(){this.active=!this.gos.get("suppressAnimationFrame"),this.batchFrameworkComps=this.beans.frameworkOverrides.batchFrameworkComps}verify(){!1===this.active&&iB(92)}createTask(e,t,n,i){let o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.verify();let r=n;i&&this.batchFrameworkComps&&(r="f1");const s={task:e,index:t,createOrder:++this.taskCount,deferred:o};this.addTaskToList(this[r],s),this.schedule()}addTaskToList(e,t){e.list.push(t),e.sorted=!1}sortTaskList(e){if(e.sorted)return;const t=this.scrollGoingDown?1:-1;e.list.sort((e,n)=>e.deferred!==n.deferred?e.deferred?-1:1:e.index!==n.index?t*(n.index-e.index):n.createOrder-e.createOrder),e.sorted=!0}addDestroyTask(e){this.verify(),this.destroyTasks.push(e),this.schedule()}executeFrame(e){const{p1:t,p2:n,f1:i,destroyTasks:o,beans:r}=this,{ctrlsSvc:s,frameworkOverrides:a}=r,l=t.list,u=n.list,c=i.list,d=Date.now();let h=0;const p=e<=0,g=s.getScrollFeature();for(;p||h<e;){if(!g.scrollGridIfNeeded()){let r;if(l.length)this.sortTaskList(t),r=l.pop().task;else if(u.length)this.sortTaskList(n),r=u.pop().task;else if(c.length)a.wrapOutgoing(()=>{for(;p||h<e;){if(g.scrollGridIfNeeded())break;if(!c.length)break;this.sortTaskList(i),r=c.pop().task,r(),h=Date.now()-d}}),r=()=>{};else{if(!o.length)break;r=o.pop()}r()}h=Date.now()-d}l.length||u.length||c.length||o.length?this.requestFrame():this.ticking=!1}flushAllFrames(){this.active&&this.executeFrame(-1)}schedule(){this.active&&(this.ticking||(this.ticking=!0,this.requestFrame()))}requestFrame(){const e=this.executeFrame.bind(this,60);RN(this.beans,e)}isQueueEmpty(){return!this.ticking}}]},NY={moduleName:"Touch",version:KN,beans:[class extends vO{constructor(){super(...arguments),this.beanName="touchSvc"}mockBodyContextMenu(e,t){this.mockContextMenu(e,e.eBodyViewport,t)}mockHeaderContextMenu(e,t){this.mockContextMenu(e,e.eGui,t)}mockRowContextMenu(e){if(!WL())return;this.mockContextMenu(e,e.element,(t,n,i)=>{var o,r;const{rowCtrl:s,cellCtrl:a}=e.getControlsForEventTarget(null!==(o=null===i||void 0===i?void 0:i.target)&&void 0!==o?o:null);null!==a&&void 0!==a&&a.column&&a.dispatchCellContextMenuEvent(null!==i&&void 0!==i?i:null),null===(r=this.beans.contextMenuSvc)||void 0===r||r.handleContextMenuMouseEvent(void 0,i,s,a)})}handleCellDoubleClick(e,t){return!!(()=>{if(!WL()||hO("dblclick"))return!1;const t=Date.now(),n=t-e.lastIPadMouseClickEvent<200;return e.lastIPadMouseClickEvent=t,n})()&&(e.onCellDoubleClicked(t),t.preventDefault(),!0)}setupForHeader(e){const{gos:t,sortSvc:n,menuSvc:i}=this.beans;if(t.get("suppressTouch"))return;const{params:o,eMenu:r,eFilterButton:s}=e,a=new cU(e.getGui(),!0),l=e.shouldSuppressMenuHide(),u=l&&UI(r)&&o.enableMenu,c=u?new cU(r,!0):a;if(o.enableMenu||null!==i&&void 0!==i&&i.isHeaderContextMenuEnabled(o.column)){const t=u?"tap":"longTap",n=e=>o.showColumnMenuAfterMouseClick(e.touchStart);e.addManagedListeners(c,{[t]:n})}if(o.enableSorting){const t=e=>{const t=e.touchStart.target;l&&(null!==r&&void 0!==r&&r.contains(t)||null!==s&&void 0!==s&&s.contains(t))||null===n||void 0===n||n.progressSort(o.column,!1,"uiColumnSorted")};e.addManagedListeners(a,{tap:t})}if(o.enableFilterButton&&s){const t=new cU(s,!0);e.addManagedListeners(t,{tap:()=>o.showFilter(s)}),e.addDestroyFunc(()=>t.destroy())}e.addDestroyFunc(()=>a.destroy()),u&&e.addDestroyFunc(()=>c.destroy())}setupForHeaderGroup(e){var t;const n=e.params;if(null!==(t=this.beans.menuSvc)&&void 0!==t&&t.isHeaderContextMenuEnabled(n.columnGroup.getProvidedColumnGroup())){const t=new cU(n.eGridHeader,!0),i=e=>n.showColumnMenuAfterMouseClick(e.touchStart);e.addManagedListeners(t,{longTap:i}),e.addDestroyFunc(()=>t.destroy())}}setupForHeaderGroupElement(e,t,n){const i=new cU(t,!0);e.addManagedListeners(i,{tap:n}),e.addDestroyFunc(()=>i.destroy())}mockContextMenu(e,t,n){if(!WL())return;const i=new cU(t);e.addManagedListeners(i,{longTap:e=>{_V(this.gos,e.touchEvent)&&n(void 0,e.touchStart,e.touchEvent)}}),e.addDestroyFunc(()=>i.destroy())}}]};function BY(e){return e.ctrlsSvc.getScrollFeature().getVScrollPosition()}var OY={moduleName:"KeyboardNavigation",version:KN,beans:[class extends vO{constructor(){super(),this.beanName="navigation",this.onPageDown=jN(this.onPageDown,100),this.onPageUp=jN(this.onPageUp,100)}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridBodyCon=e.gridBodyCtrl})}handlePageScrollingKey(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=e.key,i=e.altKey,o=e.ctrlKey||e.metaKey,r=!!this.beans.rangeSvc&&e.shiftKey,s=IV(this.gos,e);let a=!1;switch(n){case sV.PAGE_HOME:case sV.PAGE_END:o||i||(this.onHomeOrEndKey(n),a=!0);break;case sV.LEFT:case sV.RIGHT:case sV.UP:case sV.DOWN:if(!s)return!1;!o||i||r||(this.onCtrlUpDownLeftRight(n,s),a=!0);break;case sV.PAGE_DOWN:case sV.PAGE_UP:o||i||(a=this.handlePageUpDown(n,s,t))}return a&&e.preventDefault(),a}handlePageUpDown(e,t,n){return n&&(t=this.beans.focusSvc.getFocusedCell()),!!t&&(e===sV.PAGE_UP?this.onPageUp(t):this.onPageDown(t),!0)}navigateTo(e){let{scrollIndex:t,scrollType:n,scrollColumn:i,focusIndex:o,focusColumn:r,isAsync:s,rowPinned:a}=e;const{scrollFeature:l}=this.gridBodyCon;UI(i)&&!i.isPinned()&&l.ensureColumnVisible(i),UI(t)&&l.ensureIndexVisible(t,n),s||l.ensureIndexVisible(o);const{focusSvc:u,rangeSvc:c}=this.beans;u.setFocusedCell({rowIndex:o,column:r,rowPinned:a,forceBrowserFocus:!0}),null===c||void 0===c||c.setRangeToCell({rowIndex:o,rowPinned:a,column:r})}onPageDown(e){const t=this.beans,n=BY(t),i=this.getViewportHeight(),{pageBounds:o,rowModel:r,rowAutoHeight:s}=t,a=o.getPixelOffset(),l=n.top+i,u=r.getRowIndexAtPixel(l+a);null!==s&&void 0!==s&&s.active?this.navigateToNextPageWithAutoHeight(e,u):this.navigateToNextPage(e,u)}onPageUp(e){const t=this.beans,n=BY(t),{pageBounds:i,rowModel:o,rowAutoHeight:r}=t,s=i.getPixelOffset(),a=n.top,l=o.getRowIndexAtPixel(a+s);null!==r&&void 0!==r&&r.active?this.navigateToNextPageWithAutoHeight(e,l,!0):this.navigateToNextPage(e,l,!0)}navigateToNextPage(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{pageBounds:i,rowModel:o}=this.beans,r=this.getViewportHeight(),s=i.getFirstRow(),a=i.getLastRow(),l=i.getPixelOffset(),u=o.getRow(e.rowIndex),c=n?(null===u||void 0===u?void 0:u.rowHeight)-r-l:r-l,d=(null===u||void 0===u?void 0:u.rowTop)+c;let h,p=o.getRowIndexAtPixel(d+l);if(p===e.rowIndex){const i=n?-1:1;t=p=e.rowIndex+i}n?(h="bottom",p<s&&(p=s),t<s&&(t=s)):(h="top",p>a&&(p=a),t>a&&(t=a)),this.isRowTallerThanView(o.getRow(p))&&(t=p,h="top"),this.navigateTo({scrollIndex:t,scrollType:h,scrollColumn:null,focusIndex:p,focusColumn:e.column})}navigateToNextPageWithAutoHeight(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.navigateTo({scrollIndex:t,scrollType:n?"bottom":"top",scrollColumn:null,focusIndex:t,focusColumn:e.column}),setTimeout(()=>{const i=this.getNextFocusIndexForAutoHeight(e,n);this.navigateTo({scrollIndex:t,scrollType:n?"bottom":"top",scrollColumn:null,focusIndex:i,focusColumn:e.column,isAsync:!0})},50)}getNextFocusIndexForAutoHeight(e){const t=arguments.length>1&&void 0!==arguments[1]&&arguments[1]?-1:1,n=this.getViewportHeight(),{pageBounds:i,rowModel:o}=this.beans,r=i.getLastRow();let s=0,a=e.rowIndex;for(;a>=0&&a<=r;){const e=o.getRow(a);if(e){var l;const t=null!==(l=e.rowHeight)&&void 0!==l?l:0;if(s+t>n)break;s+=t}a+=t}return Math.max(0,Math.min(a,r))}getViewportHeight(){const e=this.beans,t=BY(e),n=this.beans.scrollVisibleSvc.getScrollbarWidth();let i=t.bottom-t.top;return e.ctrlsSvc.get("center").isHorizontalScrollShowing()&&(i-=n),i}isRowTallerThanView(e){if(!e)return!1;const t=e.rowHeight;return"number"===typeof t&&t>this.getViewportHeight()}onCtrlUpDownLeftRight(e,t){const n=this.beans.cellNavigation.getNextCellToFocus(e,t,!0),{rowIndex:i,rowPinned:o}=n,r=n.column;this.navigateTo({scrollIndex:i,scrollType:null,scrollColumn:r,focusIndex:i,focusColumn:r,rowPinned:o})}onHomeOrEndKey(e){const t=e===sV.PAGE_HOME,{visibleCols:n,pageBounds:i,rowModel:o}=this.beans,r=n.allCols,s=t?i.getFirstRow():i.getLastRow(),a=o.getRow(s);if(!a)return;const l=(t?r:[...r].reverse()).find(e=>!e.isSuppressNavigable(a));l&&this.navigateTo({scrollIndex:s,scrollType:null,scrollColumn:l,focusIndex:s,focusColumn:l})}onTabKeyDown(e,t){const n=t.shiftKey,i=this.tabToNextCellCommon(e,n,t),o=this.beans,{ctrlsSvc:r,pageBounds:s,focusSvc:a,gos:l}=o;if(!1===i)if(n){const{rowIndex:n,rowPinned:i}=e.getRowPosition();(i?0===n:n===s.getFirstRow())&&(0===l.get("headerHeight")||wV(o)?bV(o,!0,!0):(t.preventDefault(),a.focusPreviousFromFirstCell(t)))}else e instanceof RV&&e.focusCell(!0),(!n&&a.focusOverlay(!1)||bV(o,n))&&t.preventDefault();else i?t.preventDefault():null===i&&r.get("gridCtrl").allowFocusForNextCoreContainer(n)}tabToNextCell(e,t){const n=this.beans,{focusSvc:i,rowRenderer:o}=n,r=i.getFocusedCell();if(!r)return!1;let s=_z(n,r);return!!(s||(s=o.getRowByPosition(r),s&&s.isFullWidth()))&&!!this.tabToNextCellCommon(s,e,t,"api")}tabToNextCellCommon(e,t,n){var i;let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"ui";const{editSvc:r,focusSvc:s}=this.beans;let a;const l=e instanceof RV?e:null===(i=e.getAllCellCtrls())||void 0===i?void 0:i[0];return a=null!==r&&void 0!==r&&r.isEditing()?null===r||void 0===r?void 0:r.moveToNextCell(l,t,n,o):this.moveToNextCellNotEditing(e,t,n),null===a?a:a||!!s.focusedHeader}moveToNextCellNotEditing(e,t,n){const i=this.beans.visibleCols.allCols;let o;if(e instanceof $H){if(o=d(d({},e.getRowPosition()),{},{column:t?i[0]:_O(i)}),this.gos.get("embedFullWidthRows")&&n){const t=e.findFullWidthInfoForEvent(n);t&&(o.column=t.column)}}else o=e.getFocusedCellPosition();const r=this.findNextCellToFocusOn(o,{backwards:t,startEditing:!1});if(!1===r)return null;if(r instanceof RV)r.focusCell(!0);else if(r)return this.tryToFocusFullWidthRow(r,t);return UI(r)}findNextCellToFocusOn(e,t){let{backwards:n,startEditing:i,skipToNextEditableCell:o}=t,r=e;const s=this.beans,{cellNavigation:a,gos:l,focusSvc:u,rowRenderer:c,rangeSvc:h}=s;for(;;){e!==r&&(e=r),n||(r=this.getLastCellOfColSpan(r)),r=a.getNextTabbedCell(r,n);const t=l.getCallback("tabToNextCell");if(UI(t)){const o=t({backwards:n,editing:i,previousCellPosition:e,nextCellPosition:r||null});if(!0===o)r=e;else{if(!1===o)return!1;r={rowIndex:o.rowIndex,column:o.column,rowPinned:o.rowPinned}}}if(!r)return null;if(r.rowIndex<0){const e=Mj(s);return u.focusHeaderPosition({headerPosition:{headerRowIndex:e+r.rowIndex,column:r.column},fromCell:!0}),null}const g="fullRow"===l.get("editType");if(i&&(!g||o)){if(!this.isCellEditable(r))continue}this.ensureCellVisible(r);const m=_z(s,r);if(!m){var p;const e=c.getRowByPosition(r);if(!e||!e.isFullWidth()||i)continue;return d(d({},e.getRowPosition()),{},{column:null===(p=r)||void 0===p?void 0:p.column})}if(!a.isSuppressNavigable(m.column,m.rowNode))return m.setFocusedCellPosition(r),null===h||void 0===h||h.setRangeToCell(r),m}}isCellEditable(e){const t=this.lookupRowNodeForCell(e);return!!t&&e.column.isCellEditable(t)}lookupRowNodeForCell(e){let{rowIndex:t,rowPinned:n}=e;const{pinnedRowModel:i,rowModel:o}=this.beans;return"top"===n?null===i||void 0===i?void 0:i.getPinnedTopRow(t):"bottom"===n?null===i||void 0===i?void 0:i.getPinnedBottomRow(t):o.getRow(t)}navigateToNextCell(e,t,n,i){let o=n,r=!1;const s=this.beans,{cellNavigation:a,focusSvc:l,gos:u}=s;for(;o&&(o===n||!this.isValidNavigateCell(o));)u.get("enableRtl")?t===sV.LEFT&&(o=this.getLastCellOfColSpan(o)):t===sV.RIGHT&&(o=this.getLastCellOfColSpan(o)),o=a.getNextCellToFocus(t,o),r=KI(o);if(r&&e&&e.key===sV.UP&&(o={rowIndex:-1,rowPinned:null,column:n.column}),i){const i=u.getCallback("navigateToNextCell");if(UI(i)){const r=i({key:t,previousCellPosition:n,nextCellPosition:o||null,event:e});o=UI(r)?{rowPinned:r.rowPinned,rowIndex:r.rowIndex,column:r.column}:null}}if(!o)return;if(o.rowIndex<0){const t=Mj(s);return void l.focusHeaderPosition({headerPosition:{headerRowIndex:t+o.rowIndex,column:n.column},event:e||void 0,fromCell:!0})}const c=this.getNormalisedPosition(o);c?this.focusPosition(c):this.tryToFocusFullWidthRow(o)}getNormalisedPosition(e){var t;if(!(null===(t=this.beans.spannedRowRenderer)||void 0===t||!t.getCellByPosition(e)))return e;this.ensureCellVisible(e);const n=_z(this.beans,e);return n?(e=n.getFocusedCellPosition(),this.ensureCellVisible(e),e):null}tryToFocusFullWidthRow(e,t){const{visibleCols:n,rowRenderer:i,focusSvc:o,eventSvc:r}=this.beans,s=n.allCols,a=i.getRowByPosition(e);if(!a||!a.isFullWidth())return!1;const l=o.getFocusedCell(),u={rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:e.column||(t?_O(s):s[0])};this.focusPosition(u);const c=null==t?null!=l&&Az(u,l):t;return r.dispatchEvent({type:"fullWidthRowFocused",rowIndex:u.rowIndex,rowPinned:u.rowPinned,column:u.column,isFullWidthCell:!0,fromBelow:c}),!0}focusPosition(e){const{focusSvc:t,rangeSvc:n}=this.beans;t.setFocusedCell({rowIndex:e.rowIndex,column:e.column,rowPinned:e.rowPinned,forceBrowserFocus:!0}),null===n||void 0===n||n.setRangeToCell(e)}isValidNavigateCell(e){return!!Tz(this.beans,e)}getLastCellOfColSpan(e){const t=_z(this.beans,e);if(!t)return e;const n=t.getColSpanningList();return 1===n.length?e:{rowIndex:e.rowIndex,column:_O(n),rowPinned:e.rowPinned}}ensureCellVisible(e){const t=kB(this.gos),n=this.beans.rowModel.getRow(e.rowIndex),i=t&&(null===n||void 0===n?void 0:n.sticky),{scrollFeature:o}=this.gridBodyCon;!i&&KI(e.rowPinned)&&o.ensureIndexVisible(e.rowIndex),e.column.isPinned()||o.ensureColumnVisible(e.column)}ensureColumnVisible(e){const t=this.gridBodyCon.scrollFeature;e.isPinned()||t.ensureColumnVisible(e)}ensureRowVisible(e){this.gridBodyCon.scrollFeature.ensureIndexVisible(e)}},class extends vO{constructor(){super(...arguments),this.beanName="cellNavigation"}wireBeans(e){this.rowSpanSvc=e.rowSpanSvc}getNextCellToFocus(e,t){return arguments.length>2&&void 0!==arguments[2]&&arguments[2]?this.getNextCellToFocusWithCtrlPressed(e,t):this.getNextCellToFocusWithoutCtrlPressed(e,t)}getNextCellToFocusWithCtrlPressed(e,t){const n=e===sV.UP,i=e===sV.DOWN,o=e===sV.LEFT;let r,s;const{pageBounds:a,gos:l,visibleCols:u,pinnedRowModel:c}=this.beans,{rowPinned:d}=t;if(n||i)s=d&&c?n?0:"top"===d?c.getPinnedTopRowCount()-1:c.getPinnedBottomRowCount()-1:n?a.getFirstRow():a.getLastRow(),r=t.column;else{const e=l.get("enableRtl");s=t.rowIndex;r=(o!==e?u.allCols:[...u.allCols].reverse()).find(e=>this.isCellGoodToFocusOn({rowIndex:s,rowPinned:null,column:e}))}return r?{rowIndex:s,rowPinned:d,column:r}:null}getNextCellToFocusWithoutCtrlPressed(e,t){let n=t,i=!1;for(;!i;){switch(e){case sV.UP:n=this.getCellAbove(n);break;case sV.DOWN:n=this.getCellBelow(n);break;case sV.RIGHT:n=this.gos.get("enableRtl")?this.getCellToLeft(n):this.getCellToRight(n);break;case sV.LEFT:n=this.gos.get("enableRtl")?this.getCellToRight(n):this.getCellToLeft(n);break;default:n=null,iB(8,{key:e})}i=!n||this.isCellGoodToFocusOn(n)}return n}isCellGoodToFocusOn(e){const t=e.column;let n;const{pinnedRowModel:i,rowModel:o}=this.beans;switch(e.rowPinned){case"top":n=null===i||void 0===i?void 0:i.getPinnedTopRow(e.rowIndex);break;case"bottom":n=null===i||void 0===i?void 0:i.getPinnedBottomRow(e.rowIndex);break;default:n=o.getRow(e.rowIndex)}if(!n)return!1;return!this.isSuppressNavigable(t,n)}getCellToLeft(e){if(!e)return null;const t=this.beans.visibleCols.getColBefore(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null}getCellToRight(e){if(!e)return null;const t=this.beans.visibleCols.getColAfter(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null}getCellBelow(e){var t,n;if(!e)return null;const i=null!==(t=null===(n=this.rowSpanSvc)||void 0===n?void 0:n.getCellEnd(e))&&void 0!==t?t:e,o=Iz(this.beans,i);return o?{rowIndex:o.rowIndex,column:e.column,rowPinned:o.rowPinned}:null}getCellAbove(e){var t,n;if(!e)return null;const i=null!==(t=null===(n=this.rowSpanSvc)||void 0===n?void 0:n.getCellStart(e))&&void 0!==t?t:e,o=Mz(this.beans,{rowIndex:i.rowIndex,rowPinned:i.rowPinned});return o?{rowIndex:o.rowIndex,column:e.column,rowPinned:o.rowPinned}:null}getNextTabbedCell(e,t){return t?this.getNextTabbedCellBackwards(e):this.getNextTabbedCellForwards(e)}getNextTabbedCellForwards(e){const{visibleCols:t,pagination:n}=this.beans,i=t.allCols;let o=e.rowIndex,r=e.rowPinned,s=t.getColAfter(e.column);if(!s){var a;s=i[0];const t=Iz(this.beans,e);if(KI(t))return null;if(!t.rowPinned&&null!==(a=null===n||void 0===n?void 0:n.isRowInPage(t.rowIndex))&&void 0!==a&&!a)return null;o=t?t.rowIndex:null,r=t?t.rowPinned:null}return{rowIndex:o,column:s,rowPinned:r}}getNextTabbedCellBackwards(e){const{beans:t}=this,{visibleCols:n,pagination:i}=t,o=n.allCols;let r=e.rowIndex,s=e.rowPinned,a=n.getColBefore(e.column);if(!a){var l;a=_O(o);const n=Mz(t,{rowIndex:e.rowIndex,rowPinned:e.rowPinned});if(KI(n))return null;if(!n.rowPinned&&null!==(l=null===i||void 0===i?void 0:i.isRowInPage(n.rowIndex))&&void 0!==l&&!l)return null;r=n?n.rowIndex:null,s=n?n.rowPinned:null}return{rowIndex:r,column:a,rowPinned:s}}isSuppressNavigable(e,t){const{suppressNavigable:n}=e.colDef;if("boolean"===typeof n)return n;if("function"===typeof n){return n(e.createColumnFunctionCallbackParams(t))}return!1}},class extends vO{constructor(){super(...arguments),this.beanName="headerNavigation",this.currentHeaderRowWithoutSpan=-1}postConstruct(){const e=this.beans;e.ctrlsSvc.whenReady(this,e=>{this.gridBodyCon=e.gridBodyCtrl});const t=CB(e);this.addManagedElementListeners(t,{mousedown:()=>{this.currentHeaderRowWithoutSpan=-1}})}getHeaderPositionForColumn(e,t){let n;const{colModel:i,colGroupSvc:o,ctrlsSvc:r}=this.beans;var s;"string"===typeof e?(n=i.getCol(e),n||(n=null!==(s=null===o||void 0===o?void 0:o.getColumnGroup(e))&&void 0!==s?s:null)):n=e;if(!n)return null;const a=r.getHeaderRowContainerCtrl(),l="filter"===_O((null===a||void 0===a?void 0:a.getAllCtrls())||[]).type,u=Mj(this.beans)-1;let c=-1,d=n;for(;d;)c++,d=d.getParent();let h=c;return t&&l&&h===u-1&&h++,-1===h?null:{headerRowIndex:h,column:n}}navigateVertically(e,t){const{focusSvc:n,visibleCols:i}=this.beans,{focusedHeader:o}=n;if(!o)return!1;const{headerRowIndex:r}=o,s=o.column,a=Mj(this.beans),l=this.getHeaderRowType(r),u=i.headerGroupRowCount;let{headerRowIndex:c,column:d,headerRowIndexWithoutSpan:h}="UP"===e?function(e,t,n){const i=n-1;if("filter"!==e){const e=t instanceof EO&&t.isSpanHeaderHeight();let n=t.getParent();for(;n&&(n.getProvidedColumnGroup().getLevel()>i||e&&n.isPadding());)n=n.getParent();if(n)return e?{column:n,headerRowIndex:n.getProvidedColumnGroup().getLevel(),headerRowIndexWithoutSpan:i}:{column:n,headerRowIndex:i,headerRowIndexWithoutSpan:i}}return{column:t,headerRowIndex:i,headerRowIndexWithoutSpan:i}}(l,s,r):function(e,t,n){const i=t+1,o={column:e,headerRowIndex:i,headerRowIndexWithoutSpan:i};if(e instanceof GV){if(i>=n)return{column:e.getDisplayedLeafColumns()[0],headerRowIndex:n,headerRowIndexWithoutSpan:i};let t=e.getDisplayedChildren()[0];if(t instanceof GV&&t.isPadding()){const e=t.getDisplayedLeafColumns()[0];e.isSpanHeaderHeight()&&(t=e)}o.column=t;t instanceof EO&&t.isSpanHeaderHeight()&&(o.headerRowIndex=n,o.headerRowIndexWithoutSpan=i)}return o}(s,r,u),p=!1;return c<0&&(c=0,d=s,p=!0),c>=a?(c=-1,this.currentHeaderRowWithoutSpan=-1):void 0!==h&&(this.currentHeaderRowWithoutSpan=h),!(!p&&!d)&&n.focusHeaderPosition({headerPosition:{headerRowIndex:c,column:d},allowUserOverride:!0,event:t})}navigateHorizontally(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0;const{focusSvc:i,gos:o}=this.beans,r=d({},i.focusedHeader);let s,a;-1!==this.currentHeaderRowWithoutSpan?r.headerRowIndex=this.currentHeaderRowWithoutSpan:this.currentHeaderRowWithoutSpan=r.headerRowIndex,"LEFT"===e!==o.get("enableRtl")?(a="Before",s=this.findHeader(r,a)):(a="After",s=this.findHeader(r,a));const l=o.getCallback("tabToNextHeader");if(t&&l){const e=i.focusHeaderPositionFromUserFunc({userFunc:l,headerPosition:s,direction:a});if(e){const{headerRowIndex:e}=i.focusedHeader||{};null!=e&&e!=r.headerRowIndex&&(this.currentHeaderRowWithoutSpan=e)}return e}return s||!t?i.focusHeaderPosition({headerPosition:s,direction:a,fromTab:t,allowUserOverride:!0,event:n}):this.focusNextHeaderRow(r,a,n)}focusNextHeaderRow(e,t,n){const i=this.beans,o=e.headerRowIndex;let r,s=null;const a=Mj(i),l=this.beans.visibleCols.allCols;if("Before"===t){if(o<=0)return!1;s=_O(l),r=o-1,this.currentHeaderRowWithoutSpan-=1}else s=l[0],r=o+1,this.currentHeaderRowWithoutSpan<a?this.currentHeaderRowWithoutSpan+=1:this.currentHeaderRowWithoutSpan=-1;let{column:u,headerRowIndex:c}=iY(this.beans,s,r);return c>=a&&(c=-1),i.focusSvc.focusHeaderPosition({headerPosition:{column:u,headerRowIndex:c},direction:t,fromTab:!0,allowUserOverride:!0,event:n})}scrollToColumn(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"After";if(!e.getPinned()){if(OV(e)){const i=e.getDisplayedLeafColumns();t="Before"===n?_O(i):i[0]}else t=e;this.gridBodyCon.scrollFeature.ensureColumnVisible(t)}}findHeader(e,t){const{colGroupSvc:n,visibleCols:i}=this.beans;let o=e.column;if(o instanceof GV){const e=o.getDisplayedLeafColumns();o="Before"===t?e[0]:e[e.length-1]}const r="Before"===t?i.getColBefore(o):i.getColAfter(o);if(!r)return;const s=i.headerGroupRowCount;if(e.headerRowIndex>=s)return{headerRowIndex:e.headerRowIndex,column:r};const a=null===n||void 0===n?void 0:n.getColGroupAtLevel(r,e.headerRowIndex);if(!a){return{headerRowIndex:r instanceof EO&&r.isSpanHeaderHeight()?i.headerGroupRowCount:e.headerRowIndex,column:r}}return a.isPadding()&&r.isSpanHeaderHeight()?{headerRowIndex:i.headerGroupRowCount,column:r}:{headerRowIndex:e.headerRowIndex,column:null!==a&&void 0!==a?a:r}}getHeaderRowType(e){const t=this.beans.ctrlsSvc.getHeaderRowContainerCtrl();if(t)return t.getRowType(e)}}],apiFunctions:{getFocusedCell:function(e){return e.focusSvc.getFocusedCell()},clearFocusedCell:function(e){return e.focusSvc.clearFocusedCell()},setFocusedCell:function(e,t,n,i){e.focusSvc.setFocusedCell({rowIndex:t,column:n,rowPinned:i,forceBrowserFocus:!0})},setFocusedHeader:function(e,t){var n;let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const o=null===(n=e.headerNavigation)||void 0===n?void 0:n.getHeaderPositionForColumn(t,i);o&&e.focusSvc.focusHeaderPosition({headerPosition:o})},tabToNextCell:function(e,t){var n,i;return null!==(n=null===(i=e.navigation)||void 0===i?void 0:i.tabToNextCell(!1,t))&&void 0!==n&&n},tabToPreviousCell:function(e,t){var n,i;return null!==(n=null===(i=e.navigation)||void 0===i?void 0:i.tabToNextCell(!0,t))&&void 0!==n&&n}}},GY=class extends vO{constructor(e,t){super(),this.isLeft=e,this.elements=t,this.getWidth=e?()=>this.beans.pinnedCols.leftWidth:()=>this.beans.pinnedCols.rightWidth}postConstruct(){this.addManagedEventListeners({["".concat(this.isLeft?"left":"right","PinnedWidthChanged")]:this.onPinnedWidthChanged.bind(this)})}onPinnedWidthChanged(){const e=this.getWidth(),t=e>0;for(const n of this.elements)n&&(XL(n,t),SN(n,e))}},zY={moduleName:"PinnedColumn",version:KN,beans:[class extends vO{constructor(){super(...arguments),this.beanName="pinnedCols"}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridBodyCtrl=e.gridBodyCtrl});const e=this.checkContainerWidths.bind(this);this.addManagedEventListeners({displayedColumnsChanged:e,displayedColumnsWidthChanged:e}),this.addManagedPropertyListener("domLayout",e)}checkContainerWidths(){const{gos:e,visibleCols:t,eventSvc:n}=this.beans,i=dB(e,"print"),o=i?0:t.getColsLeftWidth(),r=i?0:t.getDisplayedColumnsRightWidth();o!=this.leftWidth&&(this.leftWidth=o,n.dispatchEvent({type:"leftPinnedWidthChanged"})),r!=this.rightWidth&&(this.rightWidth=r,n.dispatchEvent({type:"rightPinnedWidthChanged"}))}keepPinnedColumnsNarrowerThanViewport(){const e=iN(this.gridBodyCtrl.eBodyViewport);if(e<=50)return;const t=this.getPinnedColumnsOverflowingViewport(e-50),n=this.gos.getCallback("processUnpinnedColumns"),{columns:i,hasLockedPinned:o}=t;let r=i;if(r.length||o){if(n){r=n({columns:r,viewportWidth:e})}r&&r.length&&(r=r.filter(e=>!KO(e)),this.setColsPinned(r,null,"viewportSizeFeature"))}}createPinnedWidthFeature(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return new GY(e,n)}setColsPinned(e,t,n){const{colModel:i,colAnimation:o,visibleCols:r,gos:s}=this.beans;if(!i.cols)return;if(null===e||void 0===e||!e.length)return;if(dB(s,"print"))return void iB(37);let a;null===o||void 0===o||o.start(),a=!0===t||"left"===t?"left":"right"===t?"right":null;const l=[];e.forEach(e=>{if(!e)return;const t=i.getCol(e);t&&t.getPinned()!==a&&(this.setColPinned(t,a),l.push(t))}),l.length&&(r.refresh(n),hG(this.eventSvc,l,n)),null===o||void 0===o||o.finish()}initCol(e){const{pinned:t,initialPinned:n}=e.colDef;void 0!==t?this.setColPinned(e,t):this.setColPinned(e,n)}setColPinned(e,t){e.pinned=!0===t||"left"===t?"left":"right"===t?"right":null,e.dispatchStateUpdatedEvent("pinned")}setupHeaderPinnedWidth(e){const{scrollVisibleSvc:t}=this.beans;if(null==e.pinned)return;const n="left"===e.pinned,i="right"===e.pinned;e.hidden=!0;const o=()=>{const o=n?this.leftWidth:this.rightWidth;if(null==o)return;const r=0==o,s=e.hidden!==r,a=this.gos.get("enableRtl"),l=t.getScrollbarWidth(),u=t.verticalScrollShowing&&(a&&n||!a&&i)?o+l:o;e.comp.setPinnedContainerWidth("".concat(u,"px")),e.comp.setDisplayed(!r),s&&(e.hidden=r,e.refresh())};e.addManagedEventListeners({leftPinnedWidthChanged:o,rightPinnedWidthChanged:o,scrollVisibilityChanged:o,scrollbarWidthChanged:o})}getHeaderResizeDiff(e,t){if(t.getPinned()){const{leftWidth:t,rightWidth:n}=this,i=iN(this.beans.ctrlsSvc.getGridBodyCtrl().eBodyViewport)-50;if(t+n+e>i){if(!(i>t+n))return 0;e=i-t-n}}return e}getPinnedColumnsOverflowingViewport(e){var t,n;const i=(null!==(t=this.rightWidth)&&void 0!==t?t:0)+(null!==(n=this.leftWidth)&&void 0!==n?n:0);let o=!1;if(i<e)return{columns:[],hasLockedPinned:o};const{visibleCols:r}=this.beans,s=[...r.leftCols],a=[...r.rightCols];let l=0,u=0;const c=[];let d=i-0-e;for(;(u<s.length||l<a.length)&&d>0;){if(l<a.length){const e=a[l++];if(e.colDef.lockPinned){o=!0;continue}d-=e.getActualWidth(),c.push(e)}if(u<s.length&&d>0){const e=s[u++];if(e.colDef.lockPinned){o=!0;continue}d-=e.getActualWidth(),c.push(e)}}return{columns:c,hasLockedPinned:o}}}],css:[".ag-pinned-left-floating-bottom,.ag-pinned-left-floating-top,.ag-pinned-right-floating-bottom,.ag-pinned-right-floating-top{min-width:0;overflow:hidden;position:relative}.ag-pinned-left-sticky-top,.ag-pinned-right-sticky-top{height:100%;overflow:hidden;position:relative}.ag-sticky-bottom-full-width-container,.ag-sticky-top-full-width-container{height:100%;overflow:hidden;width:100%}.ag-pinned-left-header,.ag-pinned-right-header{display:inline-block;height:100%;overflow:hidden;position:relative}.ag-body-horizontal-scroll:not(.ag-scrollbar-invisible){.ag-horizontal-left-spacer:not(.ag-scroller-corner){border-right:var(--ag-pinned-column-border)}.ag-horizontal-right-spacer:not(.ag-scroller-corner){border-left:var(--ag-pinned-column-border)}}.ag-pinned-right-header{border-left:var(--ag-pinned-column-border)}.ag-pinned-left-header{border-right:var(--ag-pinned-column-border)}.ag-cell.ag-cell-first-right-pinned:not(.ag-cell-range-left,.ag-cell-range-single-cell,.ag-cell-focus:not(.ag-cell-range-selected):focus-within){border-left:var(--ag-pinned-column-border)}.ag-cell.ag-cell-last-left-pinned:not(.ag-cell-range-right,.ag-cell-range-single-cell,.ag-cell-focus:not(.ag-cell-range-selected):focus-within){border-right:var(--ag-pinned-column-border)}.ag-pinned-left-header .ag-header-cell-resize:after{left:calc(50% - var(--ag-header-column-resize-handle-width))}.ag-pinned-right-header .ag-header-cell-resize:after{left:50%}.ag-pinned-left-header .ag-header-cell-resize{right:-3px}.ag-pinned-right-header .ag-header-cell-resize{left:-3px}"]},VY={moduleName:"Aria",version:KN,beans:[class extends vO{constructor(){super(),this.beanName="ariaAnnounce",this.descriptionContainer=null,this.pendingAnnouncements=new Map,this.lastAnnouncement="",this.updateAnnouncement=HN(this,this.updateAnnouncement.bind(this),200)}postConstruct(){const e=this.beans,t=CB(e),n=this.descriptionContainer=t.createElement("div");n.classList.add("ag-aria-description-container"),wL(n,"polite"),cL(n,"relevant","additions text"),function(e,t){cL(e,"atomic",t)}(n,!0),e.eGridDiv.appendChild(n)}announceValue(e,t){this.pendingAnnouncements.set(t,e),this.updateAnnouncement()}updateAnnouncement(){if(!this.descriptionContainer)return;const e=Array.from(this.pendingAnnouncements.values()).join(". ");this.pendingAnnouncements.clear(),this.descriptionContainer.textContent="",setTimeout(()=>{this.handleAnnouncementUpdate(e)},50)}handleAnnouncementUpdate(e){if(!this.isAlive()||!this.descriptionContainer)return;let t=e;null!=t&&""!=t.replace(/[ .]/g,"")?(this.lastAnnouncement===t&&(t="".concat(t,"\u200b")),this.lastAnnouncement=t,this.descriptionContainer.textContent=t):this.lastAnnouncement=""}destroy(){super.destroy();const{descriptionContainer:e}=this;var t;e&&(uN(e),null===(t=e.parentElement)||void 0===t||t.removeChild(e));this.descriptionContainer=null,this.pendingAnnouncements.clear()}}]};var HY={tag:"div",cls:"ag-overlay",role:"presentation",children:[{tag:"div",cls:"ag-overlay-panel",role:"presentation",children:[{tag:"div",ref:"eOverlayWrapper",cls:"ag-overlay-wrapper",role:"presentation"}]}]},jY=class extends AG{constructor(){super(HY),this.eOverlayWrapper=kG,this.activePromise=null,this.activeOverlay=null,this.updateListenerDestroyFunc=null,this.activeCssClass=null,this.elToFocusAfter=null,this.registerCSS(".ag-overlay{inset:0;pointer-events:none;position:absolute;z-index:2}.ag-overlay-panel,.ag-overlay-wrapper{display:flex;height:100%;width:100%}.ag-overlay-wrapper{align-items:center;flex:none;justify-content:center;text-align:center}.ag-overlay-loading-wrapper{pointer-events:all}.ag-overlay-loading-center{background:var(--ag-background-color);border:solid var(--ag-border-width) var(--ag-border-color);border-radius:var(--ag-border-radius);box-shadow:var(--ag-popup-shadow);padding:var(--ag-spacing)}")}handleKeyDown(e){if(e.key!==sV.TAB||e.defaultPrevented||dO(e))return;const t=this.beans;if(mV(t,this.eOverlayWrapper,!1,e.shiftKey))return;let n=!1;n=e.shiftKey?t.focusSvc.focusGridView({column:_O(t.visibleCols.allCols),backwards:!0,canFocusOverlay:!1}):bV(t,!1),n&&e.preventDefault()}updateLayoutClasses(e,t){const n=this.eOverlayWrapper.classList,{AUTO_HEIGHT:i,NORMAL:o,PRINT:r}=BH;n.toggle(i,t.autoHeight),n.toggle(o,t.normal),n.toggle(r,t.print)}postConstruct(){this.createManagedBean(new OH(this)),this.setDisplayed(!1,{skipAriaHidden:!0}),this.beans.overlays.setOverlayWrapperComp(this),this.addManagedElementListeners(this.getFocusableElement(),{keydown:this.handleKeyDown.bind(this)})}setWrapperTypeClass(e){const t=this.eOverlayWrapper.classList;this.activeCssClass&&t.toggle(this.activeCssClass,!1),this.activeCssClass=e,t.toggle(e,!0)}showOverlay(e,t,n,i){if(this.setWrapperTypeClass(t),this.destroyActiveOverlay(),this.elToFocusAfter=null,this.activePromise=e,e){if(this.setDisplayed(!0,{skipAriaHidden:!0}),n&&this.isGridFocused()){const e=SB(this.beans);e&&!EB(this.beans)&&(this.elToFocusAfter=e)}e.then(t=>{if(this.activePromise===e){if(this.activePromise=null,t){if(this.activeOverlay!==t&&(this.eOverlayWrapper.appendChild(t.getGui()),this.activeOverlay=t,i)){const e=t;this.updateListenerDestroyFunc=this.addManagedPropertyListener(i,t=>{var n;let{currentValue:i}=t;null===(n=e.refresh)||void 0===n||n.call(e,iO(this.gos,d({},null!==i&&void 0!==i?i:{})))})}n&&this.isGridFocused()&&gV(this.eOverlayWrapper)}}else this.activeOverlay!==t&&(this.destroyBean(t),t=null)})}}updateOverlayWrapperPaddingTop(e){this.eOverlayWrapper.style.setProperty("padding-top","".concat(e,"px"))}destroyActiveOverlay(){var e,t;this.activePromise=null;const n=this.activeOverlay;if(!n)return;let i=this.elToFocusAfter;this.activeOverlay=null,this.elToFocusAfter=null,i&&!this.isGridFocused()&&(i=null);const o=this.updateListenerDestroyFunc;o&&(o(),this.updateListenerDestroyFunc=null),this.destroyBean(n),uN(this.eOverlayWrapper),null===(e=i)||void 0===e||null===(t=e.focus)||void 0===t||t.call(e,{preventScroll:!0})}hideOverlay(){this.destroyActiveOverlay(),this.setDisplayed(!1,{skipAriaHidden:!0})}isGridFocused(){const e=SB(this.beans);return!!e&&this.beans.eGridDiv.contains(e)}destroy(){this.elToFocusAfter=null,this.destroyActiveOverlay(),this.beans.overlays.setOverlayWrapperComp(void 0),super.destroy()}},WY={selector:"AG-OVERLAY-WRAPPER",component:jY},UY={moduleName:"Overlay",version:KN,userComponents:{agLoadingOverlay:class extends lW{init(){var e;const t=WI(null===(e=this.gos.get("overlayLoadingTemplate"))||void 0===e?void 0:e.trim());if(this.setTemplate(null!==t&&void 0!==t?t:uW),!t){const e=this.getLocaleTextFunc();setTimeout(()=>{this.getGui().textContent=e("loadingOoo","Loading...")})}}},agNoRowsOverlay:class extends lW{init(){var e;const t=WI(null===(e=this.gos.get("overlayNoRowsTemplate"))||void 0===e?void 0:e.trim());if(this.setTemplate(null!==t&&void 0!==t?t:cW),!t){const e=this.getLocaleTextFunc();setTimeout(()=>{this.getGui().textContent=e("noRowsToShow","No Rows To Show")})}}}},apiFunctions:{showLoadingOverlay:function(e){var t;null===(t=e.overlays)||void 0===t||t.showLoadingOverlay()},showNoRowsOverlay:function(e){var t;null===(t=e.overlays)||void 0===t||t.showNoRowsOverlay()},hideOverlay:function(e){var t;null===(t=e.overlays)||void 0===t||t.hideOverlay()}},beans:[class extends vO{constructor(){super(...arguments),this.beanName="overlays",this.state=0,this.showInitialOverlay=!0,this.wrapperPadding=0}postConstruct(){this.isClientSide=uB(this.gos),this.isServerSide=!this.isClientSide&&cB(this.gos);const e=()=>this.updateOverlayVisibility();this.addManagedEventListeners({newColumnsLoaded:e,rowDataUpdated:e,gridSizeChanged:this.refreshWrapperPadding.bind(this),rowCountReady:()=>{this.showInitialOverlay=!1,this.updateOverlayVisibility()}}),this.addManagedPropertyListener("loading",e)}setOverlayWrapperComp(e){this.eWrapper=e,this.updateOverlayVisibility()}isVisible(){return 0!==this.state&&!!this.eWrapper}isExclusive(){return 1===this.state&&!!this.eWrapper}showLoadingOverlay(){this.showInitialOverlay=!1;const e=this.gos,t=e.get("loading");(t||void 0===t&&!e.get("suppressLoadingOverlay"))&&this.doShowLoadingOverlay()}showNoRowsOverlay(){this.showInitialOverlay=!1;const e=this.gos;e.get("loading")||e.get("suppressNoRowsOverlay")||this.doShowNoRowsOverlay()}hideOverlay(){this.showInitialOverlay=!1,this.gos.get("loading")?iB(99):this.doHideOverlay()}getOverlayWrapperSelector(){return WY}getOverlayWrapperCompClass(){return jY}updateOverlayVisibility(){if(!this.eWrapper)return void(this.state=0);const{state:e,isClientSide:t,isServerSide:n,beans:{gos:i,colModel:o,rowModel:r}}=this;let s=this.gos.get("loading");void 0!==s&&(this.showInitialOverlay=!1),this.showInitialOverlay&&void 0===s&&!i.get("suppressLoadingOverlay")&&(s=!i.get("columnDefs")||!o.ready||!i.get("rowData")&&t),s?1!==e&&this.doShowLoadingOverlay():(this.showInitialOverlay=!1,t&&r.isEmpty()&&!i.get("suppressNoRowsOverlay")?2!==e&&this.doShowNoRowsOverlay():(1===e||!n&&0!==e)&&this.doHideOverlay())}doShowLoadingOverlay(){var e,t;this.eWrapper&&(this.state=1,this.showOverlay((e=this.beans.userCompFactory,t=iO(this.gos,{}),e.getCompDetailsFromGridOptions(jG,"agLoadingOverlay",t,!0)),"ag-overlay-loading-wrapper","loadingOverlayComponentParams"),this.updateExclusive())}doShowNoRowsOverlay(){var e,t;this.eWrapper&&(this.state=2,this.showOverlay((e=this.beans.userCompFactory,t=iO(this.gos,{}),e.getCompDetailsFromGridOptions(WG,"agNoRowsOverlay",t,!0)),"ag-overlay-no-rows-wrapper","noRowsOverlayComponentParams"),this.updateExclusive())}doHideOverlay(){this.eWrapper&&(this.state=0,this.eWrapper.hideOverlay(),this.updateExclusive())}showOverlay(e,t,n){var i,o;const r=null!==(i=null===e||void 0===e?void 0:e.newAgStackInstance())&&void 0!==i?i:null;null===(o=this.eWrapper)||void 0===o||o.showOverlay(r,t,this.isExclusive(),n),this.refreshWrapperPadding()}updateExclusive(){const e=this.exclusive;this.exclusive=this.isExclusive(),this.exclusive!==e&&this.eventSvc.dispatchEvent({type:"overlayExclusiveChanged"})}refreshWrapperPadding(){const e=this.eWrapper;if(!e)return;let t=0;if(2===this.state){const e=this.beans.ctrlsSvc.get("gridHeaderCtrl");t=(null===e||void 0===e?void 0:e.headerHeight)||0}else 0!==this.wrapperPadding&&(t=0);this.wrapperPadding!==t&&(this.wrapperPadding=t,e.updateOverlayWrapperPaddingTop(t))}}]},KY=class{constructor(e){this.entriesMap={},this.entriesList=[],this.maxCount=e}addRow(e){if(this.entriesMap[e.rowNode.id]=e,this.entriesList.push(e),e.setCached(!0),this.entriesList.length>this.maxCount){const e=this.entriesList[0];e.destroyFirstPass(),e.destroySecondPass(),this.removeFromCache(e)}}getRow(e){if(null==e||null==e.id)return null;const t=this.entriesMap[e.id];if(!t)return null;this.removeFromCache(t),t.setCached(!1);return t.rowNode!=e?null:t}has(e){return null!=this.entriesMap[e.id]}removeRow(e){const t=e.id,n=this.entriesMap[t];delete this.entriesMap[t],LO(this.entriesList,n)}removeFromCache(e){const t=e.rowNode.id;delete this.entriesMap[t],LO(this.entriesList,e)}getEntries(){return this.entriesList}};function qY(e){if(!e)return;const t={top:{},bottom:{},normal:{}};return e.forEach(e=>{const n=e.id;switch(e.rowPinned){case"top":t.top[n]=e;break;case"bottom":t.bottom[n]=e;break;default:t.normal[n]=e}}),t}function YY(e,t){const n=e.id;switch(e.rowPinned){case"top":return null!=t.top[n];case"bottom":return null!=t.bottom[n];default:return null!=t.normal[n]}}var ZY={moduleName:"Sort",version:KN,beans:[class extends vO{constructor(){super(...arguments),this.beanName="sortSvc"}progressSort(e,t,n){const i=this.getNextSortDirection(e);this.setSortForColumn(e,i,t,n)}progressSortFromEvent(e,t){const n="ctrl"===this.gos.get("multiSortKey")?t.ctrlKey||t.metaKey:t.shiftKey;this.progressSort(e,n,"uiColumnSorted")}setSortForColumn(e,t,n,i){"asc"!==t&&"desc"!==t&&(t=null);const{gos:o,showRowGroupCols:r}=this.beans;let s=[e];if(AB(o)&&e.getColDef().showRowGroup){var a;const t=null===r||void 0===r||null===(a=r.getSourceColumnsForGroupColumn)||void 0===a?void 0:a.call(r,e),n=null===t||void 0===t?void 0:t.filter(e=>e.isSortable());n&&(s=[e,...n])}s.forEach(e=>this.setColSort(e,t,i));const l=[];if(!((n||o.get("alwaysMultiSort"))&&!o.get("suppressMultiSort"))){const e=this.clearSortBarTheseColumns(s,i);l.push(...e)}this.updateSortIndex(e),l.push(...s),this.dispatchSortChangedEvents(i,l)}updateSortIndex(e){const{gos:t,colModel:n,showRowGroupCols:i}=this.beans,o=AB(t),r=null===i||void 0===i?void 0:i.getShowRowGroupCol(e.getId()),s=o&&r||e,a=this.getColumnsWithSortingOrdered();n.forAllCols(e=>this.setColSortIndex(e,null));const l=a.filter(e=>(!o||!e.getColDef().showRowGroup)&&e!==s);(s.getSort()?[...l,s]:l).forEach((e,t)=>this.setColSortIndex(e,t))}onSortChanged(e,t){this.dispatchSortChangedEvents(e,t)}isSortActive(){let e=!1;return this.beans.colModel.forAllCols(t=>{t.getSort()&&(e=!0)}),e}dispatchSortChangedEvents(e,t){const n={type:"sortChanged",source:e};t&&(n.columns=t),this.eventSvc.dispatchEvent(n)}clearSortBarTheseColumns(e,t){const n=[];return this.beans.colModel.forAllCols(i=>{e.includes(i)||(i.getSort()&&n.push(i),this.setColSort(i,void 0,t))}),n}getNextSortDirection(e){var t,n;const i=null!==(t=null!==(n=e.getColDef().sortingOrder)&&void 0!==n?n:this.gos.get("sortingOrder"))&&void 0!==t?t:dY,o=i.indexOf(e.getSort()),r=o<0,s=o==i.length-1;return r||s?i[0]:i[o+1]}getIndexedSortMap(){var e;const{gos:t,colModel:n,showRowGroupCols:i,rowGroupColsSvc:o}=this.beans;let r=[];if(n.forAllCols(e=>{e.getSort()&&r.push(e)}),n.isPivotMode()){const e=AB(t);r=r.filter(t=>{const n=!!t.getAggFunc(),o=!t.isPrimary(),r=e?null===i||void 0===i?void 0:i.getShowRowGroupCol(t.getId()):t.getColDef().showRowGroup;return n||o||r})}const s=null!==(e=null===o||void 0===o?void 0:o.columns.filter(e=>!!e.getSort()))&&void 0!==e?e:[],a={};r.forEach((e,t)=>a[e.getId()]=t),r.sort((e,t)=>{const n=e.getSortIndex(),i=t.getSortIndex();if(null!=n&&null!=i)return n-i;if(null==n&&null==i){return a[e.getId()]>a[t.getId()]?1:-1}return null==i?-1:1});const l=AB(t)&&!!s.length;l&&(r=[...new Set(r.map(e=>{var t;return null!==(t=null===i||void 0===i?void 0:i.getShowRowGroupCol(e.getId()))&&void 0!==t?t:e}))]);const u=new Map;return r.forEach((e,t)=>u.set(e,t)),l&&s.forEach(e=>{const t=i.getShowRowGroupCol(e.getId());u.set(e,u.get(t))}),u}getColumnsWithSortingOrdered(){return[...this.getIndexedSortMap().entries()].sort((e,t)=>{let[,n]=e,[,i]=t;return n-i}).map(e=>{let[t]=e;return t})}getSortModel(){return this.getColumnsWithSortingOrdered().filter(e=>e.getSort()).map(e=>({sort:e.getSort(),colId:e.getId()}))}getSortOptions(){return this.getColumnsWithSortingOrdered().filter(e=>e.getSort()).map(e=>({sort:e.getSort(),column:e}))}canColumnDisplayMixedSort(e){const t=AB(this.gos),n=!!e.getColDef().showRowGroup;return t&&n}getDisplaySortForColumn(e){var t;const n=null===(t=this.beans.showRowGroupCols)||void 0===t?void 0:t.getSourceColumnsForGroupColumn(e);if(!this.canColumnDisplayMixedSort(e)||null===n||void 0===n||!n.length)return e.getSort();const i=null!=e.getColDef().field||!!e.getColDef().valueGetter?[e,...n]:n,o=i[0].getSort();return i.every(e=>e.getSort()==o)?o:"mixed"}getDisplaySortIndexForColumn(e){return this.getIndexedSortMap().get(e)}setupHeader(e,t,n){let i=0;e.addManagedListeners(t,{movingChanged:()=>{i=Date.now()}}),n&&e.addManagedElementListeners(n,{click:e=>{const n=t.isMoving(),o=Date.now();n||o-i<50||this.progressSortFromEvent(t,e)}});const o=()=>{const n=t.getSort();if(e.toggleCss("ag-header-cell-sorted-asc","asc"===n),e.toggleCss("ag-header-cell-sorted-desc","desc"===n),e.toggleCss("ag-header-cell-sorted-none",!n),t.getColDef().showRowGroup){var i;const n=null===(i=this.beans.showRowGroupCols)||void 0===i?void 0:i.getSourceColumnsForGroupColumn(t),o=!(null===n||void 0===n?void 0:n.every(e=>t.getSort()==e.getSort()));e.toggleCss("ag-header-cell-sorted-mixed",o)}};e.addManagedEventListeners({sortChanged:o,columnRowGroupChanged:o})}initCol(e){const{sort:t,initialSort:n,sortIndex:i,initialSortIndex:o}=e.colDef;void 0!==t?"asc"!==t&&"desc"!==t||(e.sort=t):"asc"!==n&&"desc"!==n||(e.sort=n),void 0!==i?null!==i&&(e.sortIndex=i):null!==o&&(e.sortIndex=o)}updateColSort(e,t,n){void 0!==t&&("desc"===t||"asc"===t?this.setColSort(e,t,n):this.setColSort(e,void 0,n))}setColSort(e,t,n){e.sort!==t&&(e.sort=t,e.dispatchColEvent("sortChanged",n)),e.dispatchStateUpdatedEvent("sort")}setColSortIndex(e,t){e.sortIndex=t,e.dispatchStateUpdatedEvent("sortIndex")}createSortIndicator(e){return new uY(e)}getSortIndicatorSelector(){return cY}},class extends vO{constructor(){super(...arguments),this.beanName="rowNodeSorter"}postConstruct(){const{gos:e}=this;this.isAccentedSort=e.get("accentedSort"),this.primaryColumnsSortGroups=AB(e),this.addManagedPropertyListener("accentedSort",e=>this.isAccentedSort=e.currentValue),this.addManagedPropertyListener("autoGroupColumnDef",()=>this.primaryColumnsSortGroups=AB(e))}doFullSort(e,t){const n=e.map((e,t)=>({currentPos:t,rowNode:e}));return n.sort(this.compareRowNodes.bind(this,t)),n.map(e=>e.rowNode)}compareRowNodes(e,t,n){const i=t.rowNode,o=n.rowNode;for(let r=0,s=e.length;r<s;r++){const t=e[r],n="desc"===t.sort,s=this.getValue(i,t.column),a=this.getValue(o,t.column);let l;const u=this.getComparator(t,i);l=u?u(s,a,i,o,n):ZI(s,a,this.isAccentedSort);if(!isNaN(l)&&0!==l)return"asc"===t.sort?l:-1*l}return t.currentPos-n.currentPos}getComparator(e,t){const n=e.column,i=n.getColDef().comparator;if(null!=i)return i;if(!n.getColDef().showRowGroup)return;const o=!t.group&&n.getColDef().field;if(!o)return;const r=this.beans.colModel.getColDefCol(o);return r?r.getColDef().comparator:void 0}getValue(e,t){const{valueSvc:n,colModel:i,showRowGroupCols:o,gos:r}=this.beans;if(!this.primaryColumnsSortGroups)return n.getValue(t,e,!1);if(e.rowGroupColumn===t){var s;if(MB(r,i.isPivotActive())){var a;const i=null===(a=e.allLeafChildren)||void 0===a?void 0:a[0];return i?n.getValue(t,i,!1):void 0}const l=null===o||void 0===o?void 0:o.getShowRowGroupCol(t.getId());if(!l)return;return null===(s=e.groupData)||void 0===s?void 0:s[l.getId()]}return e.group&&t.getColDef().showRowGroup?void 0:n.getValue(t,e,!1)}}],apiFunctions:{onSortChanged:function(e){var t;null===(t=e.sortSvc)||void 0===t||t.onSortChanged("api")}},userComponents:{agSortIndicator:uY},icons:{sortAscending:"asc",sortDescending:"desc",sortUnSort:"none"}};var $Y={moduleName:"ValueCache",version:KN,beans:[class extends vO{constructor(){super(...arguments),this.beanName="valueCache",this.cacheVersion=0}postConstruct(){const e=this.gos;this.active=e.get("valueCache"),this.neverExpires=e.get("valueCacheNeverExpires")}onDataChanged(){this.neverExpires||this.expire()}expire(){this.cacheVersion++}setValue(e,t,n){if(this.active){const i=this.cacheVersion;e.__cacheVersion!==i&&(e.__cacheVersion=i,e.__cacheData={}),e.__cacheData[t]=n}}getValue(e,t){if(this.active&&e.__cacheVersion===this.cacheVersion)return e.__cacheData[t]}}],apiFunctions:{expireValueCache:function(e){var t;null===(t=e.valueCache)||void 0===t||t.expire()}}},XY={moduleName:"Expression",version:KN,beans:[class extends vO{constructor(){super(...arguments),this.beanName="expressionSvc",this.cache={}}evaluate(e,t){if("string"===typeof e)return this.evaluateExpression(e,t);oB(15,{expression:e})}evaluateExpression(e,t){try{const n=this.createExpressionFunction(e);return n(t.value,t.context,t.oldValue,t.newValue,t.value,t.node,t.data,t.colDef,t.rowIndex,t.api,t.getValue,t.column,t.columnGroup)}catch(nce){return oB(16,{expression:e,params:t,e:nce}),null}}createExpressionFunction(e){const t=this.cache;if(t[e])return t[e];const n=this.createFunctionBody(e),i=new Function("x, ctx, oldValue, newValue, value, node, data, colDef, rowIndex, api, getValue, column, columnGroup",n);return t[e]=i,i}createFunctionBody(e){return e.indexOf("return")>=0?e:"return "+e+";"}}]},QY={moduleName:"ChangeDetection",version:KN,beans:[class extends vO{constructor(){super(...arguments),this.beanName="changeDetectionSvc",this.clientSideRowModel=null}postConstruct(){const{gos:e,rowModel:t}=this.beans;uB(e)&&(this.clientSideRowModel=t),this.addManagedEventListeners({cellValueChanged:this.onCellValueChanged.bind(this)})}onCellValueChanged(e){const{gos:t,rowRenderer:n}=this.beans;if("paste"===e.source||t.get("suppressChangeDetection"))return;const i=e.node,o=[i],r=this.clientSideRowModel,s=null===r||void 0===r?void 0:r.rootNode;if(s&&!i.isRowPinned()){const n=t.get("aggregateOnlyChangedColumns"),a=new WU(n,s);a.addParentNode(i.parent,[e.column]),r.doAggregate(a),a.forEachChangedNodeDepthFirst(e=>{o.push(e),e.sibling&&o.push(e.sibling)})}n.refreshCells({rowNodes:o})}}]},JY={moduleName:"CellApi",version:KN,apiFunctions:{getCellValue:function(e,t){var n;const{colKey:i,rowNode:o,useFormatter:r}=t,s=null!==(n=e.colModel.getColDefCol(i))&&void 0!==n?n:e.colModel.getCol(i);if(KI(s))return null;const a=e.valueSvc.getValueForDisplay(s,o,r);var l;return r?null!==(l=a.valueFormatted)&&void 0!==l?l:CO(a.value):a.value}}},eZ={checkSiblings:!0},tZ={moduleName:"CommunityCore",version:KN,beans:[class extends vO{constructor(){super(...arguments),this.beanName="gridDestroySvc",this.destroyCalled=!1}destroy(){var e,t;if(this.destroyCalled)return;const{stateSvc:n,ctrlsSvc:i,context:o}=this.beans;this.eventSvc.dispatchEvent({type:"gridPreDestroyed",state:null!==(e=null===n||void 0===n?void 0:n.getState())&&void 0!==e?e:{}}),this.destroyCalled=!0,null===(t=i.get("gridCtrl"))||void 0===t||t.destroyGridUi(),o.destroy(),super.destroy()}},class extends vO{constructor(){super(),this.beanName="apiFunctionSvc",this.api=new LU,this.fns=d(d({},MU),{},{dispatchEvent:IU}),this.preDestroyLink="";const{api:e}=this;for(const t of Object.keys(_U))e[t]=this.makeApi(t)[t]}postConstruct(){this.preDestroyLink=this.beans.frameworkOverrides.getDocLink("grid-lifecycle/#grid-pre-destroyed")}addFunction(e,t){const{fns:n,beans:i}=this;var o,r;n!==MU&&(n[e]=null!==(o=null===i||void 0===i||null===(r=i.validation)||void 0===r?void 0:r.validateApiFunction(e,t))&&void 0!==o?o:t)}makeApi(e){var t=this;return{[e]:function(){const{beans:n,fns:{[e]:i}}=t;for(var o=arguments.length,r=new Array(o),s=0;s<o;s++)r[s]=arguments[s];return i?i(n,...r):t.apiNotFound(e)}}}apiNotFound(e){const{beans:t,gos:n,preDestroyLink:i}=this;if(t){const t=_U[e];n.assertModuleRegistered(t,"api.".concat(e))&&iB(27,{fnName:e,module:t})}else iB(26,{fnName:e,preDestroyLink:i})}destroy(){super.destroy(),this.fns=MU,this.beans=null}},class extends vO{constructor(){super(...arguments),this.beanName="registry",this.agGridDefaults={},this.agGridDefaultOverrides={},this.jsComps={},this.selectors={},this.icons={}}postConstruct(){const e=this.gos.get("components");if(null!=e)for(const t of Object.keys(e))this.jsComps[t]=e[t]}registerModule(e){const{icons:t,userComponents:n,dynamicBeans:i,selectors:o}=e;if(n){const e=(e,t,n,i)=>{this.agGridDefaults[e]=t,(n||i)&&(this.agGridDefaultOverrides[e]={params:n,processParams:i})};for(const t of Object.keys(n)){let i=n[t];if(Sz(i)&&(i=i.getComp(this.beans)),"object"===typeof i){const{classImp:n,params:o,processParams:r}=i;e(t,n,o,r)}else e(t,i)}}if(i){var r;null!==(r=this.dynamicBeans)&&void 0!==r||(this.dynamicBeans={});for(const e of Object.keys(i))this.dynamicBeans[e]=i[e]}if(null===o||void 0===o||o.forEach(e=>{this.selectors[e.selector]=e}),t)for(const s of Object.keys(t))this.icons[s]=t[s]}getUserComponent(e,t){var n;const i=(e,t,n,i)=>({componentFromFramework:t,component:e,params:n,processParams:i}),{frameworkOverrides:o}=this.beans,r=o.frameworkComponent(t,this.gos.get("components"));if(null!=r)return i(r,!0);const s=this.jsComps[t];if(s){return i(s,o.isFrameworkComponent(s))}const a=this.agGridDefaults[t];if(a){const e=this.agGridDefaultOverrides[t];return i(a,!1,null===e||void 0===e?void 0:e.params,null===e||void 0===e?void 0:e.processParams)}return null===(n=this.beans.validation)||void 0===n||n.missingUserComponent(e,t,this.agGridDefaults,this.jsComps),null}createDynamicBean(e,t){if(!this.dynamicBeans)throw new Error(aB(279,{name:e}));const n=this.dynamicBeans[e];if(null!=n){for(var i=arguments.length,o=new Array(i>2?i-2:0),r=2;r<i;r++)o[r-2]=arguments[r];return new n(...o)}var s,a;if(t)throw new Error(null!==(s=null===(a=this.beans.validation)||void 0===a?void 0:a.missingDynamicBean(e))&&void 0!==s?s:aB(256))}getSelector(e){return this.selectors[e]}getIcon(e){return this.icons[e]}},class extends vO{constructor(){super(...arguments),this.beanName="userCompFactory"}wireBeans(e){this.agCompUtils=e.agCompUtils,this.registry=e.registry,this.frameworkCompWrapper=e.frameworkCompWrapper,this.gridOptions=e.gridOptions}getCompDetailsFromGridOptions(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return this.getCompDetails(this.gridOptions,e,t,n,i)}getCompDetails(e,t,n,i){let o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const{name:r,cellRenderer:s}=t;let a,l,{compName:u,jsComp:c,fwComp:h,paramsFromSelector:p,popupFromSelector:g,popupPositionFromSelector:m}=TG(this.beans.frameworkOverrides,e,t,i);const v=e=>{const t=this.registry.getUserComponent(r,e);t&&(c=t.componentFromFramework?void 0:t.component,h=t.componentFromFramework?t.component:void 0,a=t.params,l=t.processParams)};var f,w;(null!=u&&v(u),null==c&&null==h&&null!=n&&v(n),!c||!s||(w=c)&&w.prototype&&"getGui"in w.prototype)||(c=null===(f=this.agCompUtils)||void 0===f?void 0:f.adaptFunction(t,c));if(!c&&!h){const{validation:e}=this.beans;return void(!o||u===n&&n?n&&!e&&oB(146,{comp:n}):u?null!==e&&void 0!==e&&e.isProvidedUserComp(u)||oB(50,{compName:u}):n?e||oB(260,d(d({},this.gos.getModuleErrorParams()),{},{propName:r,compName:n})):oB(216,{name:r}))}const C=this.mergeParams(e,t,i,p,a,l),b=null==c,y=null!==c&&void 0!==c?c:h;return{componentFromFramework:b,componentClass:y,params:C,type:t,popupFromSelector:g,popupPositionFromSelector:m,newAgStackInstance:()=>this.newAgStackInstance(y,b,C,t)}}newAgStackInstance(e,t,n,i){var o,r;let s;s=!t?new e:this.frameworkCompWrapper.wrap(e,i.mandatoryMethods,i.optionalMethods,i),this.createBean(s);const a=null===(o=(r=s).init)||void 0===o?void 0:o.call(r,n);return null==a?PG.resolve(s):a.then(()=>s)}mergeParams(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=arguments.length>4?arguments[4]:void 0,r=arguments.length>5?arguments[5]:void 0;const s=d(d({},n),o),a=e&&e[t.name+"Params"];if("function"===typeof a){XI(s,a(n))}else"object"===typeof a&&XI(s,a);return XI(s,i),r?r(s):s}},class extends vO{constructor(){super(...arguments),this.beanName="rowContainerHeight",this.scrollY=0,this.uiBodyHeight=0}postConstruct(){this.addManagedEventListeners({bodyHeightChanged:this.updateOffset.bind(this)}),this.maxDivHeight=function(){if(void 0!==lL)return lL;if(!document.body)return-1;let e=1e6;const t=HL()?6e6:1e9,n=document.createElement("div");for(document.body.appendChild(n);;){const i=2*e;if(n.style.height=i+"px",i>t||n.clientHeight!==i)break;e=i}return document.body.removeChild(n),lL=e,e}(),NN(this.gos,"RowContainerHeightService - maxDivHeight = "+this.maxDivHeight)}updateOffset(){if(!this.stretching)return;const e=this.beans.ctrlsSvc.getScrollFeature().getVScrollPosition().top,t=this.getUiBodyHeight();(e!==this.scrollY||t!==this.uiBodyHeight)&&(this.scrollY=e,this.uiBodyHeight=t,this.calculateOffset())}calculateOffset(){this.setUiContainerHeight(this.maxDivHeight),this.pixelsToShave=this.modelHeight-this.uiContainerHeight,this.maxScrollY=this.uiContainerHeight-this.uiBodyHeight;const e=this.scrollY/this.maxScrollY,t=e*this.pixelsToShave;NN(this.gos,"RowContainerHeightService - Div Stretch Offset = ".concat(t," (").concat(this.pixelsToShave," * ").concat(e,")")),this.setDivStretchOffset(t)}setUiContainerHeight(e){e!==this.uiContainerHeight&&(this.uiContainerHeight=e,this.eventSvc.dispatchEvent({type:"rowContainerHeightChanged"}))}clearOffset(){this.setUiContainerHeight(this.modelHeight),this.pixelsToShave=0,this.setDivStretchOffset(0)}setDivStretchOffset(e){const t="number"===typeof e?Math.floor(e):null;this.divStretchOffset!==t&&(this.divStretchOffset=t,this.eventSvc.dispatchEvent({type:"heightScaleChanged"}))}setModelHeight(e){this.modelHeight=e,this.stretching=null!=e&&this.maxDivHeight>0&&e>this.maxDivHeight,this.stretching?this.calculateOffset():this.clearOffset()}getRealPixelPosition(e){return e-this.divStretchOffset}getUiBodyHeight(){const e=this.beans.ctrlsSvc.getScrollFeature().getVScrollPosition();return e.bottom-e.top}getScrollPositionForPixel(e){if(this.pixelsToShave<=0)return e;const t=e/(this.modelHeight-this.getUiBodyHeight());return this.maxScrollY*t}},class extends vO{constructor(){super(...arguments),this.beanName="visibleCols",this.colsAndGroupsMap={},this.leftCols=[],this.rightCols=[],this.centerCols=[],this.allCols=[],this.headerGroupRowCount=0,this.bodyWidth=0,this.leftWidth=0,this.rightWidth=0,this.isBodyWidthDirty=!0}refresh(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{colFlex:n,colModel:i,colGroupSvc:o,colViewport:r,selectionColSvc:s}=this.beans;t||this.buildTrees(i,o),null===o||void 0===o||o.updateOpenClosedVisibility(),this.leftCols=CK(this.treeLeft),this.centerCols=CK(this.treeCenter),this.rightCols=CK(this.treeRight),null===s||void 0===s||s.refreshVisibility(this.leftCols,this.centerCols,this.rightCols),this.joinColsAriaOrder(i),this.joinCols(),this.headerGroupRowCount=this.getHeaderRowCount(),this.setLeftValues(e),this.autoHeightCols=this.allCols.filter(e=>e.isAutoHeight()),null===n||void 0===n||n.refreshFlexedColumns(),this.updateBodyWidths(),this.setFirstRightAndLastLeftPinned(i,this.leftCols,this.rightCols,e),r.checkViewportColumns(!1),this.eventSvc.dispatchEvent({type:"displayedColumnsChanged",source:e})}getHeaderRowCount(){if(!this.gos.get("hidePaddedHeaderRows"))return this.beans.colModel.cols.treeDepth;let e=0;for(const t of this.allCols){let n=t.getParent();for(;n;){if(!n.isPadding()){const t=n.getProvidedColumnGroup().getLevel()+1;t>e&&(e=t);break}n=n.getParent()}}return e}updateBodyWidths(){const e=HO(this.centerCols),t=HO(this.leftCols),n=HO(this.rightCols);this.isBodyWidthDirty=this.bodyWidth!==e;(this.bodyWidth!==e||this.leftWidth!==t||this.rightWidth!==n)&&(this.bodyWidth=e,this.leftWidth=t,this.rightWidth=n,this.eventSvc.dispatchEvent({type:"columnContainerWidthChanged"}),this.eventSvc.dispatchEvent({type:"displayedColumnsWidthChanged"}))}setLeftValues(e){this.setLeftValuesOfCols(e),this.setLeftValuesOfGroups()}setFirstRightAndLastLeftPinned(e,t,n,i){let o,r;this.gos.get("enableRtl")?(o=t?t[0]:null,r=n?_O(n):null):(o=t?_O(t):null,r=n?n[0]:null),e.getCols().forEach(e=>{e.setLastLeftPinned(e===o,i),e.setFirstRightPinned(e===r,i)})}buildTrees(e,t){const n=e.getColsToShow(),i=n.filter(e=>"left"==e.getPinned()),o=n.filter(e=>"right"==e.getPinned()),r=n.filter(e=>"left"!=e.getPinned()&&"right"!=e.getPinned()),s=new SG,a=e=>t?t.createColumnGroups(e):e.columns;this.treeLeft=a({columns:i,idCreator:s,pinned:"left",oldDisplayedGroups:this.treeLeft}),this.treeRight=a({columns:o,idCreator:s,pinned:"right",oldDisplayedGroups:this.treeRight}),this.treeCenter=a({columns:r,idCreator:s,pinned:null,oldDisplayedGroups:this.treeCenter}),this.updateColsAndGroupsMap()}clear(){this.leftCols=[],this.rightCols=[],this.centerCols=[],this.allCols=[],this.ariaOrderColumns=[]}joinColsAriaOrder(e){const t=e.getCols(),n=[],i=[],o=[];for(const r of t){const e=r.getPinned();e?!0===e||"left"===e?n.push(r):o.push(r):i.push(r)}this.ariaOrderColumns=n.concat(i).concat(o)}getAriaColIndex(e){let t;return t=OV(e)?e.getLeafColumns()[0]:e,this.ariaOrderColumns.indexOf(t)+1}setLeftValuesOfGroups(){[this.treeLeft,this.treeRight,this.treeCenter].forEach(e=>{e.forEach(e=>{if(OV(e)){e.checkLeft()}})})}setLeftValuesOfCols(e){const{colModel:t}=this.beans;if(!t.getColDefCols())return;const n=t.getCols().slice(0),i=this.gos.get("enableRtl");[this.leftCols,this.rightCols,this.centerCols].forEach(t=>{if(i){let n=HO(t);t.forEach(t=>{n-=t.getActualWidth(),t.setLeft(n,e)})}else{let n=0;t.forEach(t=>{t.setLeft(n,e),n+=t.getActualWidth()})}!function(e,t){for(let n=0;n<t.length;n++){const i=e.indexOf(t[n]);i>=0&&(e[i]=e[e.length-1],e.pop())}}(n,t)}),n.forEach(t=>{t.setLeft(null,e)})}joinCols(){this.gos.get("enableRtl")?this.allCols=this.rightCols.concat(this.centerCols).concat(this.leftCols):this.allCols=this.leftCols.concat(this.centerCols).concat(this.rightCols)}getAllTrees(){return this.treeLeft&&this.treeRight&&this.treeCenter?this.treeLeft.concat(this.treeCenter).concat(this.treeRight):null}isColDisplayed(e){return this.allCols.indexOf(e)>=0}getLeftColsForRow(e){const{leftCols:t,beans:{colModel:n}}=this;return n.colSpanActive?this.getColsForRow(e,t):t}getRightColsForRow(e){const{rightCols:t,beans:{colModel:n}}=this;return n.colSpanActive?this.getColsForRow(e,t):t}getColsForRow(e,t,n,i){const o=[];let r=null;for(let s=0;s<t.length;s++){const a=t[s],l=t.length-s,u=Math.min(a.getColSpan(e),l),c=[a];if(u>1){const e=u-1;for(let n=1;n<=e;n++)c.push(t[s+n]);s+=e}let d;if(n?(d=!1,c.forEach(e=>{n(e)&&(d=!0)})):d=!0,d){if(0===o.length&&r){!!i&&i(a)&&o.push(r)}o.push(a)}r=a}return o}getContainerWidth(e){switch(e){case"left":return this.leftWidth;case"right":return this.rightWidth;default:return this.bodyWidth}}getColBefore(e){const t=this.allCols,n=t.indexOf(e);return n>0?t[n-1]:null}isPinningLeft(){return this.leftCols.length>0}isPinningRight(){return this.rightCols.length>0}updateColsAndGroupsMap(){this.colsAndGroupsMap={};const e=e=>{this.colsAndGroupsMap[e.getUniqueId()]=e};wK(this.treeCenter,!1,e),wK(this.treeLeft,!1,e),wK(this.treeRight,!1,e)}isVisible(e){return this.colsAndGroupsMap[e.getUniqueId()]===e}getFirstColumn(){const e=this.gos.get("enableRtl"),t=["leftCols","centerCols","rightCols"];e&&t.reverse();for(let n=0;n<t.length;n++){const i=this[t[n]];if(i.length)return e?_O(i):i[0]}return null}getColAfter(e){const t=this.allCols,n=t.indexOf(e);return n<t.length-1?t[n+1]:null}getColsLeftWidth(){return HO(this.leftCols)}getDisplayedColumnsRightWidth(){return HO(this.rightCols)}isColAtEdge(e,t){const n=this.allCols;if(!n.length)return!1;const i="first"===t;let o;if(OV(e)){const t=e.getDisplayedLeafColumns();if(!t.length)return!1;o=i?t[0]:_O(t)}else o=e;return(i?n[0]:_O(n))===o}},class extends vO{constructor(){super(...arguments),this.beanName="eventSvc",this.globalSvc=new zI}postConstruct(){const{globalListener:e,globalSyncListener:t}=this.beans;e&&this.addGlobalListener(e,!0),t&&this.addGlobalListener(t,!1)}addEventListener(e,t,n){this.globalSvc.addEventListener(e,t,n)}removeEventListener(e,t,n){this.globalSvc.removeEventListener(e,t,n)}addGlobalListener(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.globalSvc.addGlobalListener(e,t)}removeGlobalListener(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.globalSvc.removeGlobalListener(e,t)}dispatchLocalEvent(){}dispatchEvent(e){this.globalSvc.dispatchEvent(iO(this.gos,e))}dispatchEventOnce(e){this.globalSvc.dispatchEventOnce(iO(this.gos,e))}},class extends vO{constructor(){super(...arguments),this.beanName="gos",this.domDataKey="__AG_"+Math.random().toString(),this.gridInstanceId=AY++,this.gridReadyFired=!1,this.queueEvents=[],this.propEventSvc=new zI,this.globalEventHandlerFactory=e=>(t,n)=>{if(!this.isAlive())return;const i=oY.has(t);if(i&&!e||!i&&e)return;if(!function(e){return!!sY[e]}(t))return;const o=(e,t)=>{const n=sY[e],i=this.gridOptions[n];"function"===typeof i&&this.beans.frameworkOverrides.wrapOutgoing(()=>i(t))};if(this.gridReadyFired)o(t,n);else if("gridReady"===t){o(t,n),this.gridReadyFired=!0;for(const e of this.queueEvents)o(e.eventName,e.event);this.queueEvents=[]}else this.queueEvents.push({eventName:t,event:n})}}wireBeans(e){this.gridOptions=e.gridOptions,this.validation=e.validation,this.api=e.gridApi,this.gridId=e.context.getGridId()}get gridOptionsContext(){return this.gridOptions.context}postConstruct(){this.validateGridOptions(this.gridOptions),this.eventSvc.addGlobalListener(this.globalEventHandlerFactory().bind(this),!0),this.eventSvc.addGlobalListener(this.globalEventHandlerFactory(!0).bind(this),!1),this.propEventSvc.setFrameworkOverrides(this.beans.frameworkOverrides),this.addManagedEventListeners({gridOptionsChanged:e=>{let{options:t}=e;this.updateGridOptions({options:t,force:!0,source:"gridOptionsUpdated"})}})}destroy(){super.destroy(),this.queueEvents=[]}get(e){var t;return null!==(t=this.gridOptions[e])&&void 0!==t?t:uL[e]}getCallback(e){return this.mergeGridCommonParams(this.gridOptions[e])}exists(e){return UI(this.gridOptions[e])}mergeGridCommonParams(e){if(e){return t=>e(this.addGridCommonParams(t))}return e}updateGridOptions(e){let{options:t,force:n,source:i="api"}=e;const o={id:kY++,properties:[]},r=[],{gridOptions:s,validation:a}=this;for(const l of Object.keys(t)){const e=t[l];null===a||void 0===a||a.warnOnInitialPropertyUpdate(i,l);const u=n||"object"===typeof e&&"api"===i,c=s[l];if(u||c!==e){s[l]=e;const t={type:l,currentValue:e,previousValue:c,changeSet:o,source:i};r.push(t)}}this.validateGridOptions(this.gridOptions),o.properties=r.map(e=>e.type),r.forEach(e=>{NN(this,"Updated property ".concat(e.type," from"),e.previousValue," to ",e.currentValue),this.propEventSvc.dispatchEvent(e)})}addPropertyEventListener(e,t){this.propEventSvc.addEventListener(e,t)}removePropertyEventListener(e,t){this.propEventSvc.removeEventListener(e,t)}getDomDataKey(){return this.domDataKey}addGridCommonParams(e){return e.api=this.api,e.context=this.gridOptionsContext,e}validateOptions(e,t){for(const n of Object.keys(e)){const i=e[n];if(null==i||!1===i)continue;let o=t[n];"function"===typeof o&&(o=o(e,this.gridOptions,this.beans)),o&&this.assertModuleRegistered(o,n)}}validateGridOptions(e){var t;this.validateOptions(e,EY),null===(t=this.validation)||void 0===t||t.processGridOptions(e)}validateColDef(e,t,n){var i,o;!n&&null!==(i=this.beans.dataTypeSvc)&&void 0!==i&&i.isColPendingInference(t)||(this.validateOptions(e,pY),null===(o=this.validation)||void 0===o||o.validateColDef(e))}assertModuleRegistered(e,t){const n=Array.isArray(e)?e.some(e=>this.isModuleRegistered(e)):this.isModuleRegistered(e);return n||oB(200,d(d({},this.getModuleErrorParams()),{},{moduleName:e,reasonOrId:t})),n}getModuleErrorParams(){return{gridId:this.gridId,gridScoped:wz(),rowModelType:this.get("rowModelType"),isUmd:gz}}isModuleRegistered(e){return fz(e,this.gridId,this.get("rowModelType"))}},class extends vO{constructor(){super(...arguments),this.beanName="colModel",this.pivotMode=!1,this.ready=!1,this.changeEventsDispatching=!1}postConstruct(){this.pivotMode=this.gos.get("pivotMode"),this.addManagedPropertyListeners(["groupDisplayType","treeData","treeDataDisplayType","groupHideOpenParents","rowNumbers","hidePaddedHeaderRows"],e=>this.refreshAll(XO(e.source))),this.addManagedPropertyListeners(["defaultColDef","defaultColGroupDef","columnTypes","suppressFieldDotNotation"],this.recreateColumnDefs.bind(this)),this.addManagedPropertyListener("pivotMode",e=>this.setPivotMode(this.gos.get("pivotMode"),XO(e.source)))}createColsFromColDefs(e){var t,n,i;const{beans:o}=this,{valueCache:r,colAutosize:s,rowGroupColsSvc:a,pivotColsSvc:l,valueColsSvc:u,visibleCols:c,eventSvc:d}=o,h=this.colDefs?fG(o,e):void 0;null===r||void 0===r||r.expire();const p=null===(t=this.colDefCols)||void 0===t?void 0:t.list,g=null===(n=this.colDefCols)||void 0===n?void 0:n.tree,m=eG(o,this.colDefs,!0,g,e);jO(o,null===(i=this.colDefCols)||void 0===i?void 0:i.tree,m.columnTree);const v=m.columnTree,f=m.treeDepth,w=VO(v),C={};w.forEach(e=>C[e.getId()]=e),this.colDefCols={tree:v,treeDepth:f,list:w,map:C},null===a||void 0===a||a.extractCols(e,p),null===l||void 0===l||l.extractCols(e,p),null===u||void 0===u||u.extractCols(e,p),this.ready=!0,this.refreshCols(!0),c.refresh(e),d.dispatchEvent({type:"columnEverythingChanged",source:e}),h&&(this.changeEventsDispatching=!0,h(),this.changeEventsDispatching=!1),d.dispatchEvent({type:"newColumnsLoaded",source:e}),"gridInitializing"===e&&(null===s||void 0===s||s.applyAutosizeStrategy())}refreshCols(e){var t;if(!this.colDefCols)return;const n=null===(t=this.cols)||void 0===t?void 0:t.tree;this.saveColOrder();const{autoColSvc:i,selectionColSvc:o,rowNumbersSvc:r,quickFilter:s,pivotResultCols:a,showRowGroupCols:l,rowAutoHeight:u,visibleCols:c,colViewport:d,eventSvc:h}=this.beans,p=this.selectCols(a,this.colDefCols);this.createColumnsForService([i,o,r],p);const g=(m=this.gos,this.showingPivotResult?!m.get("enableStrictPivotColumnOrder"):m.get("maintainColumnOrder"));var m;e&&!g||this.restoreColOrder(p),this.positionLockedCols(p),null===l||void 0===l||l.refresh(),null===s||void 0===s||s.refreshCols(),this.setColSpanActive(),null===u||void 0===u||u.setAutoHeightActive(p),c.clear(),d.clear();!MO(n,this.cols.tree)&&h.dispatchEvent({type:"gridColumnsChanged"})}createColumnsForService(e,t){for(const n of e)n&&(n.createColumns(t,e=>{this.lastOrder=e(this.lastOrder),this.lastPivotOrder=e(this.lastPivotOrder)}),n.addColumns(t))}selectCols(e,t){var n;const i=null!==(n=null===e||void 0===e?void 0:e.getPivotResultCols())&&void 0!==n?n:null;this.showingPivotResult=null!=i;const{map:o,list:r,tree:s,treeDepth:a}=null!==i&&void 0!==i?i:t;if(this.cols={list:r.slice(),map:d({},o),tree:s.slice(),treeDepth:a},i){i.list.some(e=>{var t;return void 0!==(null===(t=this.cols)||void 0===t?void 0:t.map[e.getColId()])})||(this.lastPivotOrder=null)}return this.cols}getColsToShow(){if(!this.cols)return[];const{valueColsSvc:e,selectionColSvc:t,gos:n}=this.beans,i=this.isPivotMode()&&!this.showingPivotResult,o=null===t||void 0===t?void 0:t.isSelectionColumnEnabled(),r=n.get("rowNumbers"),s=null===e||void 0===e?void 0:e.columns;return this.cols.list.filter(e=>{const t=WO(e);if(i){const n=null===s||void 0===s?void 0:s.includes(e);return t||n||o&&UO(e)||r&&KO(e)}return t||e.isVisible()})}refreshAll(e){this.ready&&(this.refreshCols(!1),this.beans.visibleCols.refresh(e))}setColsVisible(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0;mG(this.beans,{state:e.map(e=>({colId:"string"===typeof e?e:e.getColId(),hide:!t}))},n)}restoreColOrder(e){const t=this.showingPivotResult?this.lastPivotOrder:this.lastOrder;if(!t)return;const n=t.filter(t=>null!=e.map[t.getId()]);if(0===n.length)return;if(n.length===e.list.length)return void(e.list=n);const i=e=>{const t=e.getOriginalParent();if(!t)return!1;return t.getChildren().length>1||i(t)};if(!n.some(e=>i(e))){const t=new Set(n);for(const i of e.list)t.has(i)||n.push(i);return void(e.list=n)}const o=new Map;for(let d=0;d<n.length;d++){const e=n[d];o.set(e,d)}const r=e.list.filter(e=>!o.has(e));if(0===r.length)return void(e.list=n);const s=(e,t)=>{const n=t?t.getOriginalParent():e.getOriginalParent();if(!n)return null;let i=null,r=null;for(const s of n.getChildren())if(s!==t&&s!==e){if(s instanceof EO){const e=o.get(s);if(null==e)continue;(null==i||i<e)&&(i=e,r=s);continue}s.forEachLeafColumn(e=>{const t=o.get(e);null!=t&&(null==i||i<t)&&(i=t,r=e)})}return null==r?s(e,n):r},a=[],l=new Map;for(const d of r){const e=s(d,null);if(null==e){a.push(d);continue}const t=l.get(e);void 0===t?l.set(e,d):Array.isArray(t)?t.push(d):l.set(e,[t,d])}const u=new Array(e.list.length);let c=u.length-1;for(let d=a.length-1;d>=0;d--)u[c--]=a[d];for(let d=n.length-1;d>=0;d--){const e=n[d],t=l.get(e);if(t)if(Array.isArray(t))for(let n=t.length-1;n>=0;n--){const e=t[n];u[c--]=e}else u[c--]=t;u[c--]=e}e.list=u}positionLockedCols(e){e.list=uG(e.list,this.gos)}saveColOrder(){var e,t,n,i;this.showingPivotResult?this.lastPivotOrder=null!==(e=null===(t=this.cols)||void 0===t?void 0:t.list)&&void 0!==e?e:null:this.lastOrder=null!==(n=null===(i=this.cols)||void 0===i?void 0:i.list)&&void 0!==n?n:null}getColumnDefs(){var e,t,n;return this.colDefCols?null===(e=this.beans.colDefFactory)||void 0===e?void 0:e.getColumnDefs(this.colDefCols.list,this.showingPivotResult,this.lastOrder,null!==(t=null===(n=this.cols)||void 0===n?void 0:n.list)&&void 0!==t?t:[]):void 0}setColSpanActive(){var e;this.colSpanActive=!(null===(e=this.cols)||void 0===e||!e.list.some(e=>null!=e.getColDef().colSpan))}isPivotMode(){return this.pivotMode}setPivotMode(e,t){if(e===this.pivotMode)return;if(this.pivotMode=e,!this.ready)return;this.refreshCols(!1);const{visibleCols:n,eventSvc:i}=this.beans;n.refresh(t),i.dispatchEvent({type:"columnPivotModeChanged"})}isPivotActive(){var e;const t=null===(e=this.beans.pivotColsSvc)||void 0===e?void 0:e.columns;return this.pivotMode&&!(null===t||void 0===t||!t.length)}recreateColumnDefs(e){var t;if(!this.cols)return;null===(t=this.beans.autoColSvc)||void 0===t||t.updateColumns(e);const n=XO(e.source);this.createColsFromColDefs(n)}setColumnDefs(e,t){this.colDefs=e,this.createColsFromColDefs(t)}destroy(){var e;jO(this.beans,null===(e=this.colDefCols)||void 0===e?void 0:e.tree),super.destroy()}getColTree(){var e,t;return null!==(e=null===(t=this.cols)||void 0===t?void 0:t.tree)&&void 0!==e?e:[]}getColDefColTree(){var e,t;return null!==(e=null===(t=this.colDefCols)||void 0===t?void 0:t.tree)&&void 0!==e?e:[]}getColDefCols(){var e,t;return null!==(e=null===(t=this.colDefCols)||void 0===t?void 0:t.list)&&void 0!==e?e:null}getCols(){var e,t;return null!==(e=null===(t=this.cols)||void 0===t?void 0:t.list)&&void 0!==e?e:[]}forAllCols(e){var t,n,i,o;const{pivotResultCols:r,autoColSvc:s,selectionColSvc:a}=this.beans;IO(null===(t=this.colDefCols)||void 0===t?void 0:t.list,e),IO(null===s||void 0===s||null===(n=s.columns)||void 0===n?void 0:n.list,e),IO(null===a||void 0===a||null===(i=a.columns)||void 0===i?void 0:i.list,e),IO(null===r||void 0===r||null===(o=r.getPivotResultCols())||void 0===o?void 0:o.list,e)}getColsForKeys(e){return e?e.map(e=>this.getCol(e)).filter(e=>null!=e):[]}getColDefCol(e){var t;return null!==(t=this.colDefCols)&&void 0!==t&&t.list?this.getColFromCollection(e,this.colDefCols):null}getCol(e){return null==e?null:this.getColFromCollection(e,this.cols)}getColById(e){var t,n;return null!==(t=null===(n=this.cols)||void 0===n?void 0:n.map[e])&&void 0!==t?t:null}getColFromCollection(e,t){var n,i,o,r;if(null==t)return null;const{map:s,list:a}=t;if("string"==typeof e&&s[e])return s[e];for(let l=0;l<a.length;l++)if(QO(a[l],e))return a[l];return null!==(n=null!==(i=null===(o=this.beans.autoColSvc)||void 0===o?void 0:o.getColumn(e))&&void 0!==i?i:null===(r=this.beans.selectionColSvc)||void 0===r?void 0:r.getColumn(e))&&void 0!==n?n:null}},class extends vO{constructor(){super(...arguments),this.beanName="pageBounds",this.pixelOffset=0}getFirstRow(){var e,t;return null!==(e=null===(t=this.topRowBounds)||void 0===t?void 0:t.rowIndex)&&void 0!==e?e:-1}getLastRow(){var e,t;return null!==(e=null===(t=this.bottomRowBounds)||void 0===t?void 0:t.rowIndex)&&void 0!==e?e:-1}getCurrentPageHeight(){const{topRowBounds:e,bottomRowBounds:t}=this;return e&&t?Math.max(t.rowTop+t.rowHeight-e.rowTop,0):0}getCurrentPagePixelRange(){var e;const{topRowBounds:t,bottomRowBounds:n}=this;return{pageFirstPixel:null!==(e=null===t||void 0===t?void 0:t.rowTop)&&void 0!==e?e:0,pageLastPixel:n?n.rowTop+n.rowHeight:0}}calculateBounds(e,t){const{rowModel:n}=this.beans,i=n.getRowBounds(e);i&&(i.rowIndex=e),this.topRowBounds=i;const o=n.getRowBounds(t);o&&(o.rowIndex=t),this.bottomRowBounds=o,this.calculatePixelOffset()}getPixelOffset(){return this.pixelOffset}calculatePixelOffset(){var e,t;const n=null!==(e=null===(t=this.topRowBounds)||void 0===t?void 0:t.rowTop)&&void 0!==e?e:0;this.pixelOffset!==n&&(this.pixelOffset=n,this.eventSvc.dispatchEvent({type:"paginationPixelOffsetChanged"}))}},class extends vO{constructor(){super(...arguments),this.beanName="pageBoundsListener"}postConstruct(){this.addManagedEventListeners({modelUpdated:this.onModelUpdated.bind(this),recalculateRowBounds:this.calculatePages.bind(this)}),this.onModelUpdated()}onModelUpdated(e){var t,n,i,o,r;this.calculatePages(),this.eventSvc.dispatchEvent({type:"paginationChanged",animate:null!==(t=null===e||void 0===e?void 0:e.animate)&&void 0!==t&&t,newData:null!==(n=null===e||void 0===e?void 0:e.newData)&&void 0!==n&&n,newPage:null!==(i=null===e||void 0===e?void 0:e.newPage)&&void 0!==i&&i,newPageSize:null!==(o=null===e||void 0===e?void 0:e.newPageSize)&&void 0!==o&&o,keepRenderedRows:null!==(r=null===e||void 0===e?void 0:e.keepRenderedRows)&&void 0!==r&&r})}calculatePages(){const{pageBounds:e,pagination:t,rowModel:n}=this.beans;t?t.calculatePages():e.calculateBounds(0,n.getRowCount()-1)}},class extends vO{constructor(){super(...arguments),this.beanName="rowRenderer",this.destroyFuncsForColumnListeners=[],this.rowCtrlsByRowIndex={},this.zombieRowCtrls={},this.allRowCtrls=[],this.topRowCtrls=[],this.bottomRowCtrls=[],this.refreshInProgress=!1,this.dataFirstRenderedFired=!1,this.setupRangeSelectionListeners=()=>{const e=()=>{this.getAllCellCtrls().forEach(e=>e.onCellSelectionChanged())},t=()=>{this.getAllCellCtrls().forEach(e=>e.updateRangeBordersIfRangeCount())},n=()=>{this.eventSvc.addEventListener("cellSelectionChanged",e),this.eventSvc.addEventListener("columnMoved",t),this.eventSvc.addEventListener("columnPinned",t),this.eventSvc.addEventListener("columnVisible",t)},i=()=>{this.eventSvc.removeEventListener("cellSelectionChanged",e),this.eventSvc.removeEventListener("columnMoved",t),this.eventSvc.removeEventListener("columnPinned",t),this.eventSvc.removeEventListener("columnVisible",t)};this.addDestroyFunc(()=>i()),this.addManagedPropertyListeners(["enableRangeSelection","cellSelection"],()=>{WB(this.gos)?n():i()});WB(this.gos)&&n()}}wireBeans(e){this.pageBounds=e.pageBounds,this.colModel=e.colModel,this.pinnedRowModel=e.pinnedRowModel,this.rowModel=e.rowModel,this.focusSvc=e.focusSvc,this.rowContainerHeight=e.rowContainerHeight,this.ctrlsSvc=e.ctrlsSvc,this.editSvc=e.editSvc}postConstruct(){this.ctrlsSvc.whenReady(this,e=>{this.gridBodyCtrl=e.gridBodyCtrl,this.initialise()})}initialise(){this.addManagedEventListeners({paginationChanged:this.onPageLoaded.bind(this),pinnedRowDataChanged:this.onPinnedRowDataChanged.bind(this),pinnedRowsChanged:this.onPinnedRowsChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),bodyScroll:this.onBodyScroll.bind(this),bodyHeightChanged:this.redraw.bind(this,{})}),this.addManagedPropertyListeners(["domLayout","embedFullWidthRows"],()=>this.onDomLayoutChanged()),this.addManagedPropertyListeners(["suppressMaxRenderedRowRestriction","rowBuffer"],()=>this.redraw()),this.addManagedPropertyListener("suppressCellFocus",e=>this.onSuppressCellFocusChanged(e.currentValue)),this.addManagedPropertyListeners(["groupSuppressBlankHeader","getBusinessKeyForNode","fullWidthCellRenderer","fullWidthCellRendererParams","suppressStickyTotalRow","groupRowRenderer","groupRowRendererParams","loadingCellRenderer","loadingCellRendererParams","detailCellRenderer","detailCellRendererParams","enableRangeSelection","enableCellTextSelection"],()=>this.redrawRows()),this.addManagedPropertyListener("cellSelection",e=>{let{currentValue:t,previousValue:n}=e;(!n&&t||n&&!t)&&this.redrawRows()});const{stickyRowSvc:e,gos:t,showRowGroupCols:n}=this.beans;if(n&&this.addManagedPropertyListener("showOpenedGroup",()=>{const e=n.getShowRowGroupCols();e.length&&this.refreshCells({columns:e,force:!0})}),e)this.stickyRowFeature=e.createStickyRowFeature(this,this.createRowCon.bind(this),this.destroyRowCtrls.bind(this));else{const e=this.gridBodyCtrl;e.setStickyTopHeight(0),e.setStickyBottomHeight(0)}this.registerCellEventListeners(),this.initialiseCache(),this.printLayout=dB(t,"print"),this.embedFullWidthRows=this.printLayout||t.get("embedFullWidthRows"),this.redrawAfterModelUpdate()}initialiseCache(){if(this.gos.get("keepDetailRows")){const e=this.getKeepDetailRowsCount(),t=null!=e?e:3;this.cachedRowCtrls=new KY(t)}}getKeepDetailRowsCount(){return this.gos.get("keepDetailRowsCount")}getStickyTopRowCtrls(){var e,t;return null!==(e=null===(t=this.stickyRowFeature)||void 0===t?void 0:t.stickyTopRowCtrls)&&void 0!==e?e:[]}getStickyBottomRowCtrls(){var e,t;return null!==(e=null===(t=this.stickyRowFeature)||void 0===t?void 0:t.stickyBottomRowCtrls)&&void 0!==e?e:[]}updateAllRowCtrls(){var e,t;const n=Object.values(this.rowCtrlsByRowIndex),i=Object.values(this.zombieRowCtrls),o=null!==(e=null===(t=this.cachedRowCtrls)||void 0===t?void 0:t.getEntries())&&void 0!==e?e:[];i.length>0||o.length>0?this.allRowCtrls=[...n,...i,...o]:this.allRowCtrls=n}isCellBeingRendered(e,t){var n;const i=this.rowCtrlsByRowIndex[e];if(!t||!i)return!!i;if(i.isFullWidth())return!0;return!!(null===(n=this.beans.spannedRowRenderer)||void 0===n?void 0:n.getCellByPosition({rowIndex:e,column:t,rowPinned:null}))||!!i.getCellCtrl(t)||!i.isRowRendered()}updateCellFocus(e){this.getAllCellCtrls().forEach(t=>t.onCellFocused(e)),this.getFullWidthRowCtrls().forEach(t=>t.onFullWidthRowFocused(e))}onCellFocusChanged(e){if(e&&null!=e.rowIndex&&!e.rowPinned){var t;const n=null!==(t=this.beans.colModel.getCol(e.column))&&void 0!==t?t:void 0;this.isCellBeingRendered(e.rowIndex,n)||this.redraw()}this.updateCellFocus(e)}onSuppressCellFocusChanged(e){this.getAllCellCtrls().forEach(t=>t.onSuppressCellFocusChanged(e)),this.getFullWidthRowCtrls().forEach(t=>t.onSuppressCellFocusChanged(e))}registerCellEventListeners(){this.addManagedEventListeners({cellFocused:e=>this.onCellFocusChanged(e),cellFocusCleared:()=>this.updateCellFocus(),flashCells:e=>{const{cellFlashSvc:t}=this.beans;t&&this.getAllCellCtrls().forEach(n=>t.onFlashCells(n,e))},columnHoverChanged:()=>{this.getAllCellCtrls().forEach(e=>e.onColumnHover())},displayedColumnsChanged:()=>{this.getAllCellCtrls().forEach(e=>e.onDisplayedColumnsChanged())},displayedColumnsWidthChanged:()=>{this.printLayout&&this.getAllCellCtrls().forEach(e=>e.onLeftChanged())}}),this.setupRangeSelectionListeners(),this.refreshListenersToColumnsForCellComps(),this.addManagedEventListeners({gridColumnsChanged:this.refreshListenersToColumnsForCellComps.bind(this)}),this.addDestroyFunc(this.removeGridColumnListeners.bind(this))}removeGridColumnListeners(){this.destroyFuncsForColumnListeners.forEach(e=>e()),this.destroyFuncsForColumnListeners.length=0}refreshListenersToColumnsForCellComps(){this.removeGridColumnListeners();this.colModel.getCols().forEach(e=>{const t=t=>{this.getAllCellCtrls().forEach(n=>{n.column===e&&t(n)})},n=()=>{t(e=>e.onLeftChanged())},i=()=>{t(e=>e.onWidthChanged())},o=()=>{t(e=>e.onFirstRightPinnedChanged())},r=()=>{t(e=>e.onLastLeftPinnedChanged())},s=()=>{t(e=>e.onColDefChanged())};e.__addEventListener("leftChanged",n),e.__addEventListener("widthChanged",i),e.__addEventListener("firstRightPinnedChanged",o),e.__addEventListener("lastLeftPinnedChanged",r),e.__addEventListener("colDefChanged",s),this.destroyFuncsForColumnListeners.push(()=>{e.__removeEventListener("leftChanged",n),e.__removeEventListener("widthChanged",i),e.__removeEventListener("firstRightPinnedChanged",o),e.__removeEventListener("lastLeftPinnedChanged",r),e.__removeEventListener("colDefChanged",s)})})}onDomLayoutChanged(){const e=dB(this.gos,"print"),t=e||this.gos.get("embedFullWidthRows"),n=t!==this.embedFullWidthRows||this.printLayout!==e;this.printLayout=e,this.embedFullWidthRows=t,n&&this.redrawAfterModelUpdate({domLayoutChanged:!0})}datasourceChanged(){this.firstRenderedRow=0,this.lastRenderedRow=-1;const e=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(e)}onPageLoaded(e){const t={recycleRows:e.keepRenderedRows,animate:e.animate,newData:e.newData,newPage:e.newPage,onlyBody:!0};this.redrawAfterModelUpdate(t)}getAllCellsNotSpanningForColumn(e){const t=[];return this.getAllRowCtrls().forEach(n=>{var i;const o=null===(i=n.getCellCtrl(e,!0))||void 0===i?void 0:i.eGui;o&&t.push(o)}),t}refreshFloatingRowComps(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.refreshFloatingRows(this.topRowCtrls,"top",e),this.refreshFloatingRows(this.bottomRowCtrls,"bottom",e)}refreshFloatingRows(e,t,n){var i;const{pinnedRowModel:o,beans:r,printLayout:s}=this,a=Object.fromEntries(e.map(e=>[e.rowNode.id,e]));null===o||void 0===o||o.forEachPinnedRow(t,(i,l)=>{const u=e[l];u&&void 0===o.getPinnedRowById(u.rowNode.id,t)&&(u.destroyFirstPass(),u.destroySecondPass()),i.id in a&&n?(e[l]=a[i.id],delete a[i.id]):e[l]=new $H(i,r,!1,!1,s)});const l=null!==(i="top"===t?null===o||void 0===o?void 0:o.getPinnedTopRowCount():null===o||void 0===o?void 0:o.getPinnedBottomRowCount())&&void 0!==i?i:0;e.length=l}onPinnedRowDataChanged(){this.redrawAfterModelUpdate({recycleRows:!0})}onPinnedRowsChanged(){this.redrawAfterModelUpdate({recycleRows:!0})}redrawRow(e){var t;let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.sticky){var i;null===(i=this.stickyRowFeature)||void 0===i||i.refreshStickyNode(e)}else{if(null!==(t=this.cachedRowCtrls)&&void 0!==t&&t.has(e))return void this.cachedRowCtrls.removeRow(e);{const t=t=>{const n=t[e.rowIndex];n&&n.rowNode===e&&(n.destroyFirstPass(),n.destroySecondPass(),t[e.rowIndex]=this.createRowCon(e,!1,!1))};switch(e.rowPinned){case"top":t(this.topRowCtrls);break;case"bottom":t(this.bottomRowCtrls);break;default:t(this.rowCtrlsByRowIndex),this.updateAllRowCtrls()}}}n||this.dispatchDisplayedRowsChanged(!1)}redrawRows(e){const{editSvc:t}=this.beans;null!==t&&void 0!==t&&t.isEditing()&&(t.isBatchEditing()?t.cleanupEditors():t.stopEditing(void 0,{source:"api"}));if(null!=e)return null===e||void 0===e||e.forEach(e=>this.redrawRow(e,!0)),void this.dispatchDisplayedRowsChanged(!1);this.redrawAfterModelUpdate()}redrawAfterModelUpdate(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.getLockOnRefresh();const n=null===(e=this.beans.focusSvc)||void 0===e?void 0:e.getFocusCellToUseAfterRefresh();this.updateContainerHeights(),this.scrollToTopIfNewData(t);const i=!t.domLayoutChanged&&!!t.recycleRows,o=t.animate&&FB(this.gos),r=i?this.getRowsToRecycle():null;i||this.removeAllRowComps(),this.workOutFirstAndLastRowsToRender();const{stickyRowFeature:s,gos:a}=this;if(s){s.checkStickyRows();const e=s.extraTopHeight+s.extraBottomHeight;e&&this.updateContainerHeights(e)}this.recycleRows(r,o),this.gridBodyCtrl.updateRowCount(),t.onlyBody||this.refreshFloatingRowComps(a.get("enableRowPinning")?i:void 0),this.dispatchDisplayedRowsChanged(),null!=n&&this.restoreFocusedCell(n),this.releaseLockOnRefresh()}scrollToTopIfNewData(e){const t=e.newData||e.newPage,n=this.gos.get("suppressScrollOnNewData");var i;t&&!n&&(this.gridBodyCtrl.scrollFeature.scrollToTop(),null===(i=this.stickyRowFeature)||void 0===i||i.resetOffsets())}updateContainerHeights(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const{rowContainerHeight:t}=this;if(this.printLayout)return void t.setModelHeight(null);let n=this.pageBounds.getCurrentPageHeight();0===n&&(n=1),t.setModelHeight(n+e)}getLockOnRefresh(){var e,t;if(this.refreshInProgress)throw new Error(aB(252));this.refreshInProgress=!0,null===(e=(t=this.beans.frameworkOverrides).getLockOnRefresh)||void 0===e||e.call(t)}releaseLockOnRefresh(){var e,t;this.refreshInProgress=!1,null===(e=(t=this.beans.frameworkOverrides).releaseLockOnRefresh)||void 0===e||e.call(t)}isRefreshInProgress(){return this.refreshInProgress}restoreFocusedCell(e){if(!e)return;const t=this.beans.focusSvc,n=this.findPositionToFocus(e);n?e.rowIndex===n.rowIndex&&e.rowPinned==n.rowPinned?t.doesRowOrCellHaveBrowserFocus()||this.updateCellFocus(iO(this.gos,d(d({},n),{},{forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0,type:"cellFocused"}))):t.setFocusedCell(d(d({},n),{},{preventScrollOnBrowserFocus:!0,forceBrowserFocus:!0})):t.focusHeaderPosition({headerPosition:{headerRowIndex:Mj(this.beans)-1,column:e.column}})}findPositionToFocus(e){const{pagination:t,pageBounds:n}=this.beans;let i=e;for(null==i.rowPinned&&t&&n&&!t.isRowInPage(i.rowIndex)&&(i={rowPinned:null,rowIndex:n.getFirstRow()});i;){if(null==i.rowPinned&&n)if(i.rowIndex<n.getFirstRow()){if(i=Mz(this.beans,{rowPinned:null,rowIndex:0}),!i)return null}else i.rowIndex>n.getLastRow()&&(i={rowPinned:null,rowIndex:n.getLastRow()});const t=this.getRowByPosition(i);if(null!==t&&void 0!==t&&t.isAlive())return d(d({},t.getRowPosition()),{},{column:e.column});i=Mz(this.beans,i)}return null}getAllCellCtrls(){const e=[],t=this.getAllRowCtrls(),n=t.length;for(let i=0;i<n;i++){const n=t[i].getAllCellCtrls(),o=n.length;for(let t=0;t<o;t++)e.push(n[t])}return e}getAllRowCtrls(){var e,t,n;const{spannedRowRenderer:i}=this.beans,o=this.getStickyTopRowCtrls(),r=this.getStickyBottomRowCtrls();return[...this.topRowCtrls,...this.bottomRowCtrls,...o,...r,...null!==(e=null===i||void 0===i?void 0:i.getCtrls("top"))&&void 0!==e?e:[],...null!==(t=null===i||void 0===i?void 0:i.getCtrls("bottom"))&&void 0!==t?t:[],...null!==(n=null===i||void 0===i?void 0:i.getCtrls("center"))&&void 0!==n?n:[],...Object.values(this.rowCtrlsByRowIndex)]}addRenderedRowListener(e,t,n){const i=this.rowCtrlsByRowIndex[t];i&&i.addEventListener(e,n)}refreshCells(){let{rowNodes:e,columns:t,force:n,suppressFlash:i}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const o={force:n,newData:!1,suppressFlash:i};for(const r of this.getCellCtrls(e,t))r.refreshOrDestroyCell(o);this.refreshFullWidth(e)}refreshRows(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.getRowCtrls(e.rowNodes).forEach(t=>t.refreshRow(e)),this.refreshFullWidth(e.rowNodes)}refreshFullWidth(e){if(!e)return;let t=!1;for(const n of this.getRowCtrls(e)){if(!n.isFullWidth())continue;n.refreshFullWidth()||(t=!0,this.redrawRow(n.rowNode,!0))}t&&this.dispatchDisplayedRowsChanged(!1)}getRowCtrls(e){const t=qY(e),n=this.getAllRowCtrls();return e&&t?n.filter(e=>YY(e.rowNode,t)):n}getCellCtrls(e,t){let n;UI(t)&&(n={},t.forEach(e=>{const t=this.colModel.getCol(e);UI(t)&&(n[t.getId()]=!0)}));const i=[];return this.getRowCtrls(e).forEach(e=>{e.getAllCellCtrls().forEach(e=>{const t=e.column.getId();n&&!n[t]||i.push(e)})}),i}destroy(){this.removeAllRowComps(!0),super.destroy()}removeAllRowComps(){var e;let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const n=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(n,t),null===(e=this.stickyRowFeature)||void 0===e||e.destroyStickyCtrls()}getRowsToRecycle(){const e=[];for(const n of Object.keys(this.rowCtrlsByRowIndex)){null==this.rowCtrlsByRowIndex[n].rowNode.id&&e.push(n)}this.removeRowCtrls(e);const t={};for(const n of Object.values(this.rowCtrlsByRowIndex)){t[n.rowNode.id]=n}return this.rowCtrlsByRowIndex={},t}removeRowCtrls(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.forEach(e=>{const n=this.rowCtrlsByRowIndex[e];n&&(n.destroyFirstPass(t),n.destroySecondPass()),delete this.rowCtrlsByRowIndex[e]})}onBodyScroll(e){"vertical"===e.direction&&this.redraw({afterScroll:!0})}redraw(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{focusSvc:t,animationFrameSvc:n}=this.beans,{afterScroll:i}=e;let o;const r=this.stickyRowFeature;r&&(o=(null===t||void 0===t?void 0:t.getFocusCellToUseAfterRefresh())||void 0);const s=this.firstRenderedRow,a=this.lastRenderedRow;this.workOutFirstAndLastRowsToRender();let l=!1;if(r){l=r.checkStickyRows();const e=r.extraTopHeight+r.extraBottomHeight;e&&this.updateContainerHeights(e)}const u=this.firstRenderedRow!==s||this.lastRenderedRow!==a;if((!i||l||u)&&(this.getLockOnRefresh(),this.recycleRows(null,!1,i),this.releaseLockOnRefresh(),this.dispatchDisplayedRowsChanged(i&&!l),null!=o)){const e=null===t||void 0===t?void 0:t.getFocusCellToUseAfterRefresh();null!=o&&null==e&&(null===n||void 0===n||n.flushAllFrames(),this.restoreFocusedCell(o))}}removeRowCompsNotToDraw(e,t){const n={};e.forEach(e=>n[e]=!0);const i=Object.keys(this.rowCtrlsByRowIndex).filter(e=>!n[e]);this.removeRowCtrls(i,t)}calculateIndexesToDraw(e){var t;const n=[];for(let a=this.firstRenderedRow;a<=this.lastRenderedRow;a++)n.push(a);const i=this.beans.pagination,o=null===(t=this.beans.focusSvc)||void 0===t||null===(t=t.getFocusedCell())||void 0===t?void 0:t.rowIndex;null!=o&&(o<this.firstRenderedRow||o>this.lastRenderedRow)&&(!i||i.isRowInPage(o))&&o<this.rowModel.getRowCount()&&n.push(o);const r=e=>{const t=e.rowNode.rowIndex;null!=t&&t!==o&&(t<this.firstRenderedRow||t>this.lastRenderedRow)&&this.doNotUnVirtualiseRow(e)&&n.push(t)};for(const a of Object.values(this.rowCtrlsByRowIndex))r(a);if(e)for(const a of Object.values(e))r(a);n.sort((e,t)=>e-t);const s=[];for(let a=0;a<n.length;a++){const e=n[a],t=this.rowModel.getRow(e);t&&!t.sticky&&s.push(e)}return s}recycleRows(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const i=this.calculateIndexesToDraw(e);(this.printLayout||n)&&(t=!1),this.removeRowCompsNotToDraw(i,!t);const o=[];if(i.forEach(i=>{const r=this.createOrUpdateRowCtrl(i,e,t,n);UI(r)&&o.push(r)}),e){const{animationFrameSvc:i}=this.beans;(null===i||void 0===i?void 0:i.active)&&n&&!this.printLayout?i.addDestroyTask(()=>{this.destroyRowCtrls(e,t),this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()}):this.destroyRowCtrls(e,t)}this.updateAllRowCtrls()}dispatchDisplayedRowsChanged(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.eventSvc.dispatchEvent({type:"displayedRowsChanged",afterScroll:e})}onDisplayedColumnsChanged(){const{visibleCols:e}=this.beans,t=e.isPinningLeft(),n=e.isPinningRight();(this.pinningLeft!==t||n!==this.pinningRight)&&(this.pinningLeft=t,this.pinningRight=n,this.embedFullWidthRows&&this.redrawFullWidthEmbeddedRows())}redrawFullWidthEmbeddedRows(){const e=[];this.getFullWidthRowCtrls().forEach(t=>{const n=t.rowNode.rowIndex;e.push(n.toString())}),this.refreshFloatingRowComps(),this.removeRowCtrls(e),this.redraw({afterScroll:!0})}getFullWidthRowCtrls(e){const t=qY(e);return this.getAllRowCtrls().filter(e=>{if(!e.isFullWidth())return!1;const n=e.rowNode;return!(null!=t&&!YY(n,t))})}createOrUpdateRowCtrl(e,t,n,i){let o,r=this.rowCtrlsByRowIndex[e];r||(o=this.rowModel.getRow(e),UI(o)&&UI(t)&&t[o.id]&&o.alreadyRendered&&(r=t[o.id],t[o.id]=null));if(!r){if(o||(o=this.rowModel.getRow(e)),!UI(o))return;r=this.createRowCon(o,n,i)}return o&&(o.alreadyRendered=!0),this.rowCtrlsByRowIndex[e]=r,r}destroyRowCtrls(e,t){const n=[];if(e)for(const i of Object.values(e))if(i)if(this.cachedRowCtrls&&i.isCacheable())this.cachedRowCtrls.addRow(i);else if(i.destroyFirstPass(!t),t){const e=i.instanceId;this.zombieRowCtrls[e]=i,n.push(()=>{i.destroySecondPass(),delete this.zombieRowCtrls[e]})}else i.destroySecondPass();t&&(n.push(()=>{this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()}),window.setTimeout(()=>n.forEach(e=>e()),400))}getRowBuffer(){return this.gos.get("rowBuffer")}getRowBufferInPixels(){return this.getRowBuffer()*mB(this.beans)}workOutFirstAndLastRowsToRender(){const{rowContainerHeight:e,pageBounds:t,rowModel:n}=this;let i,o;if(e.updateOffset(),n.isRowsToRender())if(this.printLayout)this.beans.environment.refreshRowHeightVariable(),i=t.getFirstRow(),o=t.getLastRow();else{const r=this.getRowBufferInPixels(),s=this.ctrlsSvc.getScrollFeature(),a=this.gos.get("suppressRowVirtualisation");let l,u,c=!1;do{const n=t.getPixelOffset(),{pageFirstPixel:i,pageLastPixel:o}=t.getCurrentPagePixelRange(),d=e.divStretchOffset,h=s.getVScrollPosition(),p=h.top,g=h.bottom;a?(l=i+d,u=o+d):(l=Math.max(p+n-r,i)+d,u=Math.min(g+n+r,o)+d),this.firstVisibleVPixel=Math.max(p+n,i)+d,this.lastVisibleVPixel=Math.min(g+n,o)+d,c=this.ensureAllRowsInRangeHaveHeightsCalculated(l,u)}while(c);let d=n.getRowIndexAtPixel(l),h=n.getRowIndexAtPixel(u);const p=t.getFirstRow(),g=t.getLastRow();d<p&&(d=p),h>g&&(h=g),i=d,o=h}else i=0,o=-1;const r=dB(this.gos,"normal"),s=this.gos.get("suppressMaxRenderedRowRestriction"),a=Math.max(this.getRowBuffer(),500);r&&!s&&o-i>a&&(o=i+a);const l=i!==this.firstRenderedRow,u=o!==this.lastRenderedRow;(l||u)&&(this.firstRenderedRow=i,this.lastRenderedRow=o,this.eventSvc.dispatchEvent({type:"viewportChanged",firstRow:i,lastRow:o}))}dispatchFirstDataRenderedEvent(){this.dataFirstRenderedFired||(this.dataFirstRenderedFired=!0,RN(this.beans,()=>{this.beans.eventSvc.dispatchEvent({type:"firstDataRendered",firstRow:this.firstRenderedRow,lastRow:this.lastRenderedRow})}))}ensureAllRowsInRangeHaveHeightsCalculated(e,t){var n,i;const o=null===(n=this.pinnedRowModel)||void 0===n?void 0:n.ensureRowHeightsValid(),r=null===(i=this.stickyRowFeature)||void 0===i?void 0:i.ensureRowHeightsValid(),{pageBounds:s,rowModel:a}=this,l=a.ensureRowHeightsValid(e,t,s.getFirstRow(),s.getLastRow());return(l||r)&&this.eventSvc.dispatchEvent({type:"recalculateRowBounds"}),!!(r||l||o)&&(this.updateContainerHeights(),!0)}doNotUnVirtualiseRow(e){var t;const n=!1,i=e.rowNode,o=this.focusSvc.isRowFocused(i.rowIndex,i.rowPinned),r=null===(t=this.editSvc)||void 0===t?void 0:t.isEditing(e),s=i.detail;if(!(o||r||s))return n;return!!this.isRowPresent(i)||n}isRowPresent(e){var t,n;return!!this.rowModel.isRowPresent(e)&&(null===(t=null===(n=this.beans.pagination)||void 0===n?void 0:n.isRowInPage(e.rowIndex))||void 0===t||t)}createRowCon(e,t,n){var i,o,r;const s=null!==(i=null===(o=this.cachedRowCtrls)||void 0===o?void 0:o.getRow(e))&&void 0!==i?i:null;if(s)return s;const a=n&&!this.printLayout&&!(null===(r=this.beans.animationFrameSvc)||void 0===r||!r.active);return new $H(e,this.beans,t,a,this.printLayout)}getRenderedNodes(){const e=Object.values(this.rowCtrlsByRowIndex).map(e=>e.rowNode);return[...this.getStickyTopRowCtrls().map(e=>e.rowNode),...e,...this.getStickyBottomRowCtrls().map(e=>e.rowNode)]}getRowByPosition(e){let t;const{rowIndex:n}=e;switch(e.rowPinned){case"top":t=this.topRowCtrls[n];break;case"bottom":t=this.bottomRowCtrls[n];break;default:t=this.rowCtrlsByRowIndex[n],t||(t=this.getStickyTopRowCtrls().find(e=>e.rowNode.rowIndex===n)||null,t||(t=this.getStickyBottomRowCtrls().find(e=>e.rowNode.rowIndex===n)||null))}return t}isRangeInRenderedViewport(e,t){if(null==e||null==t)return!1;const n=e>this.lastRenderedRow;return!(t<this.firstRenderedRow)&&!n}},class extends vO{constructor(){super(...arguments),this.beanName="valueSvc",this.hasEdit=!1,this.initialised=!1,this.isSsrm=!1}wireBeans(e){this.expressionSvc=e.expressionSvc,this.colModel=e.colModel,this.valueCache=e.valueCache,this.dataTypeSvc=e.dataTypeSvc,this.editSvc=e.editSvc,this.hasEdit=!!e.editSvc}postConstruct(){this.initialised||this.init()}init(){this.executeValueGetter=this.valueCache?this.executeValueGetterWithValueCache.bind(this):this.executeValueGetterWithoutValueCache.bind(this),this.isSsrm=cB(this.gos),this.cellExpressions=this.gos.get("enableCellExpressions"),this.isTreeData=this.gos.get("treeData"),this.initialised=!0;const e=e=>this.callColumnCellValueChangedHandler(e);this.eventSvc.addEventListener("cellValueChanged",e,!0),this.addDestroyFunc(()=>this.eventSvc.removeEventListener("cellValueChanged",e,!0)),this.addManagedPropertyListener("treeData",e=>this.isTreeData=e.currentValue)}getValueForDisplay(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"ui";const{showRowGroupColValueSvc:r}=this.beans,s=!e&&t.group,a=null===e||void 0===e?void 0:e.colDef.showRowGroup,l=!this.isTreeData||t.footer;if(r&&l&&(s||a)){const o=r.getGroupValue(t,e);if(null==o)return{value:null,valueFormatted:null};if(!n)return{value:o.value,valueFormatted:null};const s=r.formatAndPrefixGroupColValue(o,e,i);return{value:o.value,valueFormatted:s}}if(!e)return{value:t.key,valueFormatted:null};const u=t.leafGroup&&this.colModel.isPivotMode(),c=t.group&&t.expanded&&!t.footer&&!u,d=this.gos.get("groupSuppressBlankHeader")||!t.sibling,h=c&&!d,p=this.getValue(e,t,h,o);return{value:p,valueFormatted:n&&!(i&&!1===e.colDef.useValueFormatterForExport)?this.formatValue(e,t,p):null}}getValue(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"ui";if(this.initialised||this.init(),!t)return;const o=e.getColDef(),r=o.field,s=e.getColId();let a,l=t.data;if(this.hasEdit&&"ui"===i){const n=this.editSvc;if(n.isRowEditing(t,eZ)&&(l=n.getRowDataValue(t,eZ)),n.isEditing()){const i=n.getCellDataValue({rowNode:t,column:e},!0);if(void 0!==i)return i}}const u=o.showRowGroup;if("string"===typeof u){var c,d;if((null!==(c=null===(d=this.beans.rowGroupColsSvc)||void 0===d?void 0:d.getColumnIndex(u))&&void 0!==c?c:-1)>t.level)return null}const h="string"!==typeof u||!t.group,p=t.groupData&&s in t.groupData,g=!n&&t.aggData&&void 0!==t.aggData[s],m=this.isSsrm&&n&&!!o.aggFunc,v=this.isSsrm&&t.footer&&t.field&&(!0===o.showRowGroup||o.showRowGroup===t.field);if(this.isTreeData&&g)a=t.aggData[s];else if(this.isTreeData&&o.valueGetter)a=this.executeValueGetter(o.valueGetter,l,e,t);else if(this.isTreeData&&r&&l)a=QI(l,r,e.isFieldContainsDots());else if(p)a=t.groupData[s];else if(g)a=t.aggData[s];else if(o.valueGetter&&!m){if(!h)return a;a=this.executeValueGetter(o.valueGetter,l,e,t)}else if(v)a=QI(l,t.field,e.isFieldContainsDots());else if(r&&l&&!m){if(!h)return a;a=QI(l,r,e.isFieldContainsDots())}if(this.cellExpressions&&"string"===typeof a&&0===a.indexOf("=")){const n=a.substring(1);a=this.executeValueGetter(n,l,e,t)}return a}parseValue(e,t,n,i){const o=e.getColDef(),r=o.valueParser;if(UI(r)){var s;const a=iO(this.gos,{node:t,data:null===t||void 0===t?void 0:t.data,oldValue:i,newValue:n,colDef:o,column:e});return"function"===typeof r?r(a):null===(s=this.expressionSvc)||void 0===s?void 0:s.evaluate(r,a)}return n}getDeleteValue(e,t){var n;return UI(e.getColDef().valueParser)&&null!==(n=this.parseValue(e,t,"",this.getValueForDisplay(e,t).value))&&void 0!==n?n:null}formatValue(e,t,n,i){let o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];const{expressionSvc:r}=this.beans;let s,a=null;const l=e.getColDef();if(i?s=i:o&&(s=l.valueFormatter),s){let i=t?t.data:null;if(t){const e={rowNode:t};if(this.hasEdit){const n=this.editSvc;n.isEditing(e,eZ)&&(i=n.getRowDataValue(t,eZ))}}const o=iO(this.gos,{value:n,node:t,data:i,colDef:l,column:e});a="function"===typeof s?s(o):r?r.evaluate(s,o):null}else if(l.refData)return l.refData[n]||"";return null==a&&Array.isArray(n)&&(a=n.join(", ")),a}setValue(e,t,n,i){var o;const r=this.colModel.getColDefCol(t);if(!e||!r)return!1;KI(e.data)&&(e.data={});const{field:s,valueSetter:a}=r.getColDef();if(KI(s)&&KI(a))return iB(17),!1;if(this.dataTypeSvc&&!this.dataTypeSvc.checkType(r,n))return iB(135),!1;const l=iO(this.gos,{node:e,data:e.data,oldValue:this.getValue(r,e,void 0,i),newValue:n,colDef:r.getColDef(),column:r});let u;var c;(l.newValue=n,UI(a))?u="function"===typeof a?a(l):null===(c=this.expressionSvc)||void 0===c?void 0:c.evaluate(a,l):u=this.setValueUsingField(e.data,s,n,r.isFieldContainsDots());if(void 0===u&&(u=!0),!u)return!1;e.resetQuickFilterAggregateText(),null===(o=this.valueCache)||void 0===o||o.onDataChanged();const d=this.getValue(r,e);return this.dispatchCellValueChangedEvent(e,l,d,i),e.pinnedSibling&&this.dispatchCellValueChangedEvent(e.pinnedSibling,l,d,i),!0}dispatchCellValueChangedEvent(e,t,n,i){this.eventSvc.dispatchEvent({type:"cellValueChanged",event:null,rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:t.column,colDef:t.colDef,data:e.data,node:e,oldValue:t.oldValue,newValue:n,value:n,source:i})}callColumnCellValueChangedHandler(e){const t=e.colDef.onCellValueChanged;"function"===typeof t&&this.beans.frameworkOverrides.wrapOutgoing(()=>{t({node:e.node,data:e.data,oldValue:e.oldValue,newValue:e.newValue,colDef:e.colDef,column:e.column,api:e.api,context:e.context})})}setValueUsingField(e,t,n,i){if(!t)return!1;let o=!1;if(i){const i=t.split(".");let r=e;for(;i.length>0&&r;){const e=i.shift();0===i.length?(o=r[e]===n,o||(r[e]=n)):r=r[e]}}else o=e[t]===n,o||(e[t]=n);return!o}executeValueGetterWithValueCache(e,t,n,i){const o=n.getColId(),r=this.valueCache.getValue(i,o);if(void 0!==r)return r;const s=this.executeValueGetterWithoutValueCache(e,t,n,i);return this.valueCache.setValue(i,o,s),s}executeValueGetterWithoutValueCache(e,t,n,i){const o=iO(this.gos,{data:t,node:i,column:n,colDef:n.getColDef(),getValue:this.getValueCallback.bind(this,i)});let r;var s;"function"===typeof e?r=e(o):r=null===(s=this.expressionSvc)||void 0===s?void 0:s.evaluate(e,o);return r}getValueCallback(e,t){const n=this.colModel.getColDefCol(t);return n?this.getValue(n,e):null}getKeyForNode(e,t){const n=this.getValue(e,t),i=e.getColDef().keyCreator;let o=n;if(i){o=i(iO(this.gos,{value:n,colDef:e.getColDef(),column:e,node:t,data:t.data}))}return"string"===typeof o||null==o||(o=String(o),"[object Object]"===o&&iB(121)),o}},class extends vO{constructor(){super(...arguments),this.beanName="focusSvc",this.focusFallbackTimeout=null,this.needsFocusRestored=!1}wireBeans(e){this.colModel=e.colModel,this.visibleCols=e.visibleCols,this.rowRenderer=e.rowRenderer,this.navigation=e.navigation,this.filterManager=e.filterManager,this.overlays=e.overlays}postConstruct(){const e=this.clearFocusedCell.bind(this);this.addManagedEventListeners({columnPivotModeChanged:e,newColumnsLoaded:this.onColumnEverythingChanged.bind(this),columnGroupOpened:e,columnRowGroupChanged:e}),this.addDestroyFunc(cV(this.beans))}attemptToRecoverFocus(){this.needsFocusRestored=!0,null!=this.focusFallbackTimeout&&clearTimeout(this.focusFallbackTimeout),this.focusFallbackTimeout=window.setTimeout(this.setFocusRecovered.bind(this),100)}setFocusRecovered(){this.needsFocusRestored=!1,null!=this.focusFallbackTimeout&&(clearTimeout(this.focusFallbackTimeout),this.focusFallbackTimeout=null)}shouldTakeFocus(){return this.gos.get("suppressFocusAfterRefresh")?(this.setFocusRecovered(),!1):this.needsFocusRestored?(this.setFocusRecovered(),!0):this.doesRowOrCellHaveBrowserFocus()}onColumnEverythingChanged(){if(!this.focusedCell)return;const e=this.focusedCell.column,t=this.colModel.getCol(e.getId());e!==t&&this.clearFocusedCell()}getFocusCellToUseAfterRefresh(){const{gos:e,focusedCell:t}=this;return e.get("suppressFocusAfterRefresh")||e.get("suppressCellFocus")||!t?null:this.doesRowOrCellHaveBrowserFocus()?t:null}getFocusHeaderToUseAfterRefresh(){return this.gos.get("suppressFocusAfterRefresh")||!this.focusedHeader?null:this.isDomDataPresentInHierarchy(SB(this.beans),Xj)?this.focusedHeader:null}doesRowOrCellHaveBrowserFocus(){const e=SB(this.beans);return!!this.isDomDataPresentInHierarchy(e,FV)||this.isDomDataPresentInHierarchy(e,ZH)}isDomDataPresentInHierarchy(e,t){let n=e;for(;n;){if(fB(this.gos,n,t))return!0;n=n.parentNode}return!1}getFocusedCell(){return this.focusedCell}getFocusEventParams(e){const{rowIndex:t,rowPinned:n,column:i}=e,o={rowIndex:t,rowPinned:n,column:i,isFullWidthCell:!1},r=this.rowRenderer.getRowByPosition({rowIndex:t,rowPinned:n});return r&&(o.isFullWidthCell=r.isFullWidth()),o}clearFocusedCell(){if(null==this.focusedCell)return;const e=this.getFocusEventParams(this.focusedCell);this.focusedCell=null,this.eventSvc.dispatchEvent(d({type:"cellFocusCleared"},e))}setFocusedCell(e){this.setFocusRecovered();const{column:t,rowIndex:n,rowPinned:i,forceBrowserFocus:o=!1,preventScrollOnBrowserFocus:r=!1,sourceEvent:s}=e,a=this.colModel.getCol(t);if(!a)return void(this.focusedCell=null);this.focusedCell={rowIndex:n,rowPinned:WI(i),column:a};const l=this.getFocusEventParams(this.focusedCell);this.eventSvc.dispatchEvent(d(d(d({type:"cellFocused"},l),this.previousCellFocusParams&&{previousParams:this.previousCellFocusParams}),{},{forceBrowserFocus:o,preventScrollOnBrowserFocus:r,sourceEvent:s})),this.previousCellFocusParams=l}isCellFocused(e){return null!=this.focusedCell&&kz(e,this.focusedCell)}isHeaderWrapperFocused(e){if(null==this.focusedHeader)return!1;const{column:t,rowCtrl:{rowIndex:n,pinned:i}}=e,{column:o,headerRowIndex:r}=this.focusedHeader;return t===o&&n===r&&i==o.getPinned()}focusHeaderPosition(e){var t;if(this.setFocusRecovered(),wV(this.beans))return!1;const{direction:n,fromTab:i,allowUserOverride:o,event:r,fromCell:s,rowWithoutSpanValue:a}=e;let{headerPosition:l}=e;if(s&&null!==(t=this.filterManager)&&void 0!==t&&t.isAdvFilterHeaderActive())return this.focusAdvancedFilter(l);if(o){const e=this.focusedHeader,t=Mj(this.beans);if(i){const i=this.gos.getCallback("tabToNextHeader");i&&(l=this.getHeaderPositionFromUserFunc({userFunc:i,direction:n,currentPosition:e,headerPosition:l,headerRowCount:t}))}else{const n=this.gos.getCallback("navigateToNextHeader");if(n&&r){l=n({key:r.key,previousHeaderPosition:e,nextHeaderPosition:l,headerRowCount:t,event:r})}}}return!!l&&this.focusProvidedHeaderPosition({headerPosition:l,direction:n,event:r,fromCell:s,rowWithoutSpanValue:a})}focusHeaderPositionFromUserFunc(e){if(wV(this.beans))return!1;const{userFunc:t,headerPosition:n,direction:i,event:o}=e,r=this.focusedHeader,s=Mj(this.beans),a=this.getHeaderPositionFromUserFunc({userFunc:t,direction:i,currentPosition:r,headerPosition:n,headerRowCount:s});return!!a&&this.focusProvidedHeaderPosition({headerPosition:a,direction:i,event:o})}getHeaderPositionFromUserFunc(e){const{userFunc:t,direction:n,currentPosition:i,headerPosition:o,headerRowCount:r}=e,s=t({backwards:"Before"===n,previousHeaderPosition:i,nextHeaderPosition:o,headerRowCount:r});return!0===s?i:!1===s?null:s}focusProvidedHeaderPosition(e){const{headerPosition:t,direction:n,fromCell:i,rowWithoutSpanValue:o,event:r}=e,{column:s,headerRowIndex:a}=t,{filterManager:l,ctrlsSvc:u,headerNavigation:c}=this.beans;if(-1===a)return null!==l&&void 0!==l&&l.isAdvFilterHeaderActive()?this.focusAdvancedFilter(t):this.focusGridView({column:s,event:r});null===c||void 0===c||c.scrollToColumn(s,n);const d=u.getHeaderRowContainerCtrl(s.getPinned()),h=(null===d||void 0===d?void 0:d.focusHeader(t.headerRowIndex,s,r))||!1;return c&&h&&(null!=o||i)&&(c.currentHeaderRowWithoutSpan=null!==o&&void 0!==o?o:-1),h}focusFirstHeader(){var e;if(null!==(e=this.overlays)&&void 0!==e&&e.isExclusive()&&this.focusOverlay())return!0;const t=this.visibleCols.allCols[0];if(!t)return!1;const n=iY(this.beans,t,0);return this.focusHeaderPosition({headerPosition:n,rowWithoutSpanValue:0})}focusLastHeader(e){var t;if(null!==(t=this.overlays)&&void 0!==t&&t.isExclusive()&&this.focusOverlay(!0))return!0;const n=Mj(this.beans)-1,i=_O(this.visibleCols.allCols);return this.focusHeaderPosition({headerPosition:{headerRowIndex:n,column:i},rowWithoutSpanValue:-1,event:e})}focusPreviousFromFirstCell(e){var t;return null!==(t=this.filterManager)&&void 0!==t&&t.isAdvFilterHeaderActive()?this.focusAdvancedFilter(null):this.focusLastHeader(e)}isAnyCellFocused(){return!!this.focusedCell}isRowFocused(e,t){return null!=this.focusedCell&&(this.focusedCell.rowIndex===e&&this.focusedCell.rowPinned===WI(t))}focusOverlay(e){var t,n;const i=(null===(t=this.overlays)||void 0===t?void 0:t.isVisible())&&(null===(n=this.overlays.eWrapper)||void 0===n?void 0:n.getGui());return!!i&&gV(i,e)}focusGridView(e){var t;const{backwards:n=!1,canFocusOverlay:i=!0,event:o}=e;if(null!==(t=this.overlays)&&void 0!==t&&t.isExclusive())return i&&this.focusOverlay(n);if(CV(this.beans))return n&&!wV(this.beans)?this.focusLastHeader():!(!i||!this.focusOverlay(n))||!n&&bV(this.beans,n);const r=n?Pz(this.beans):function(e){let t,n=0;const{pinnedRowModel:i,rowModel:o,pageBounds:r}=e;return null!==i&&void 0!==i&&i.getPinnedTopRowCount()?t="top":o.getRowCount()?(t=null,n=r.getFirstRow()):null!==i&&void 0!==i&&i.getPinnedBottomRowCount()&&(t="bottom"),void 0===t?null:{rowIndex:n,rowPinned:t}}(this.beans);if(r){var s,a,l,u;const t=null!==(s=e.column)&&void 0!==s?s:null===(a=this.focusedHeader)||void 0===a?void 0:a.column,{rowIndex:i,rowPinned:h}=r,p=Tz(this.beans,r);if(!t||!p||null==i)return!1;if(t.isSuppressNavigable(p)){var c;const e=this.gos.get("enableRtl");let n;return n=o&&o.key!==sV.TAB?o.key:e?sV.LEFT:sV.RIGHT,null===(c=this.beans.navigation)||void 0===c||c.navigateToNextCell(null,n,{rowIndex:i,column:t,rowPinned:h||null},!0),!0}if(null===(l=this.navigation)||void 0===l||l.ensureCellVisible({rowIndex:i,column:t,rowPinned:h}),n){var d;const e=this.rowRenderer.getRowByPosition(r);if(null!==e&&void 0!==e&&e.isFullWidth()&&null!==(d=this.navigation)&&void 0!==d&&d.tryToFocusFullWidthRow(r,n))return!0}return this.setFocusedCell({rowIndex:i,column:t,rowPinned:WI(h),forceBrowserFocus:!0}),null===(u=this.beans.rangeSvc)||void 0===u||u.setRangeToCell({rowIndex:i,rowPinned:h,column:t}),!0}return!(!i||!this.focusOverlay(n))||!(!n||!this.focusLastHeader())}focusAdvancedFilter(e){var t,n;return this.advFilterFocusColumn=null===e||void 0===e?void 0:e.column,null!==(t=null===(n=this.beans.advancedFilter)||void 0===n?void 0:n.getCtrl().focusHeaderComp())&&void 0!==t&&t}focusNextFromAdvancedFilter(e,t){var n,i;const o=null!==(n=t?void 0:this.advFilterFocusColumn)&&void 0!==n?n:null===(i=this.visibleCols.allCols)||void 0===i?void 0:i[0];return e?this.focusHeaderPosition({headerPosition:{column:o,headerRowIndex:Mj(this.beans)-1}}):this.focusGridView({column:o})}clearAdvancedFilterColumn(){this.advFilterFocusColumn=void 0}},class extends vO{constructor(){super(...arguments),this.beanName="environment",this.sizeEls=new Map,this.lastKnownValues=new Map,this.sizesMeasured=!1,this.paramsClass="ag-theme-params-".concat(++tY),this.globalCSS=[]}wireBeans(e){var t;const{eGridDiv:n,gridOptions:i}=e;this.eGridDiv=n,this.eStyleContainer=null!==(t=i.themeStyleContainer)&&void 0!==t?t:n.getRootNode()===document?document.head:n,this.cssLayer=i.themeCssLayer,this.styleNonce=i.styleNonce}postConstruct(){this.addManagedPropertyListener("theme",()=>this.handleThemeGridOptionChange()),this.handleThemeGridOptionChange(),this.addManagedPropertyListener("rowHeight",()=>this.refreshRowHeightVariable()),this.getSizeEl($q),this.getSizeEl(Xq),this.getSizeEl(Qq),this.getSizeEl(Jq),this.getSizeEl(eY),this.refreshRowBorderWidthVariable(),this.addDestroyFunc(()=>(e=>{if(zK.grids.delete(e),0===zK.grids.size){zK.map=new WeakMap;for(const e of document.head.querySelectorAll("style[data-ag-global-css]"))e.remove()}})(this)),this.mutationObserver=new MutationObserver(()=>{this.fireGridStylesChangedEvent("themeChanged")}),this.addDestroyFunc(()=>this.mutationObserver.disconnect())}getPinnedRowBorderWidth(){return this.getCSSVariablePixelValue(eY)}getRowBorderWidth(){return this.getCSSVariablePixelValue(Jq)}getDefaultRowHeight(){return this.getCSSVariablePixelValue($q)}getDefaultHeaderHeight(){return this.getCSSVariablePixelValue(Xq)}getDefaultCellHorizontalPadding(){return this.getCSSVariablePixelValue(qq)}getCellPaddingLeft(){const e=this.getDefaultCellHorizontalPadding(),t=this.getCSSVariablePixelValue(Yq);return e-1+this.getCSSVariablePixelValue(Zq)*t}getCellPadding(){const e=this.getDefaultCellHorizontalPadding()-1;return this.getCellPaddingLeft()+e}getDefaultColumnMinWidth(){return Math.min(36,this.getDefaultRowHeight())}getDefaultListItemHeight(){return this.getCSSVariablePixelValue(Qq)}applyThemeClasses(e){const{gridTheme:t}=this;let n="";if(t)n="".concat(this.paramsClass," ").concat(t._getCssClass());else{this.mutationObserver.disconnect();let e=this.eGridDiv;for(;e;){let t=!1;for(const i of Array.from(e.classList))i.startsWith("ag-theme-")&&(t=!0,n=n?"".concat(n," ").concat(i):i);t&&this.mutationObserver.observe(e,{attributes:!0,attributeFilter:["class"]}),e=e.parentElement}}for(const i of Array.from(e.classList))i.startsWith("ag-theme-")&&e.classList.remove(i);if(n){const t=e.className;e.className=t+(t?" ":"")+n}}refreshRowHeightVariable(){const{eGridDiv:e}=this,t=e.style.getPropertyValue("--ag-line-height").trim(),n=this.gos.get("rowHeight");if(null==n||isNaN(n)||!isFinite(n))return null!==t&&e.style.setProperty("--ag-line-height",null),-1;const i="".concat(n,"px");return t!=i?(e.style.setProperty("--ag-line-height",i),n):""!=t?parseFloat(t):-1}addGlobalCSS(e,t){this.gridTheme?OK(e,this.eStyleContainer,t,this.cssLayer,0,this.styleNonce):this.globalCSS.push([e,t])}getCSSVariablePixelValue(e){const t=this.lastKnownValues.get(e);if(null!=t)return t;const n=this.measureSizeEl(e);return"detached"===n||"no-styles"===n?(e.cacheDefault&&this.lastKnownValues.set(e,e.defaultValue),e.defaultValue):(this.lastKnownValues.set(e,n),n)}measureSizeEl(e){const t=this.getSizeEl(e);if(null==t.offsetParent)return"detached";const n=t.offsetWidth;return n===nY?"no-styles":(this.sizesMeasured=!0,n)}getMeasurementContainer(){let e=this.eMeasurementContainer;return e||(e=this.eMeasurementContainer=MN({tag:"div",cls:"ag-measurement-container"}),this.eGridDiv.appendChild(e)),e}getSizeEl(e){let t=this.sizeEls.get(e);if(t)return t;const n=this.getMeasurementContainer();t=MN({tag:"div"});const{border:i,noWarn:o}=e;i?(t.className="ag-measurement-element-border",t.style.setProperty("--ag-internal-measurement-border","var(".concat(e.cssName,", solid ").concat(nY,"px)"))):t.style.width="var(".concat(e.cssName,", ").concat(nY,"px)"),n.appendChild(t),this.sizeEls.set(e,t);let r=this.measureSizeEl(e);"no-styles"!==r||o||iB(9,{variable:e});const s=kN(this.beans,t,()=>{const t=this.measureSizeEl(e);"detached"!==t&&"no-styles"!==t&&(this.lastKnownValues.set(e,t),t!==r&&(r=t,this.fireGridStylesChangedEvent(e.changeKey)))});return this.addDestroyFunc(()=>s()),t}fireGridStylesChangedEvent(e){"rowBorderWidthChanged"===e&&this.refreshRowBorderWidthVariable(),this.eventSvc.dispatchEvent({type:"gridStylesChanged",[e]:!0})}refreshRowBorderWidthVariable(){const e=this.getCSSVariablePixelValue(Jq);this.eGridDiv.style.setProperty("--ag-internal-row-border-width","".concat(e,"px"))}handleThemeGridOptionChange(){const{gos:e,eGridDiv:t,globalCSS:n,gridTheme:i}=this,o=e.get("theme");let r;if("legacy"===o)r=void 0;else{const e=null!==o&&void 0!==o?o:Kq;e instanceof xq?r=e:oB(240,{theme:e})}if(r!==i){var s;if(r){l=this,zK.grids.add(l),GK(this.eStyleContainer,this.cssLayer,this.styleNonce);for(const[e,t]of n)OK(e,this.eStyleContainer,t,this.cssLayer,0,this.styleNonce);n.length=0}this.gridTheme=r,null===(s=r)||void 0===s||s._startUse({loadThemeGoogleFonts:e.get("loadThemeGoogleFonts"),styleContainer:this.eStyleContainer,cssLayer:this.cssLayer,nonce:this.styleNonce});let i=this.eParamsStyle;if(!i){i=this.eParamsStyle=MN({tag:"style"});const e=this.gos.get("styleNonce");e&&i.setAttribute("nonce",e),t.appendChild(i)}var a;if(!BK)i.textContent=(null===(a=r)||void 0===a?void 0:a._getPerGridCss(this.paramsClass))||"";this.applyThemeClasses(t),this.fireGridStylesChangedEvent("themeChanged")}var l;r&&getComputedStyle(this.getMeasurementContainer()).getPropertyValue("--ag-legacy-styles-loaded")&&oB(o?106:239)}},class extends vO{constructor(){super(...arguments),this.beanName="scrollVisibleSvc"}wireBeans(e){this.ctrlsSvc=e.ctrlsSvc,this.colAnimation=e.colAnimation}postConstruct(){this.getScrollbarWidth(),this.addManagedEventListeners({displayedColumnsChanged:this.updateScrollVisible.bind(this),displayedColumnsWidthChanged:this.updateScrollVisible.bind(this)})}updateScrollVisible(){const{colAnimation:e}=this;null!==e&&void 0!==e&&e.isActive()?e.executeLaterVMTurn(()=>{e.executeLaterVMTurn(()=>this.updateScrollVisibleImpl())}):this.updateScrollVisibleImpl()}updateScrollVisibleImpl(){var e;const t=this.ctrlsSvc.get("center");if(!t||null!==(e=this.colAnimation)&&void 0!==e&&e.isActive())return;const n={horizontalScrollShowing:t.isHorizontalScrollShowing(),verticalScrollShowing:this.verticalScrollShowing};this.setScrollsVisible(n),this.updateScrollGap()}updateScrollGap(){const e=this.ctrlsSvc.get("center"),t=e.hasHorizontalScrollGap(),n=e.hasVerticalScrollGap();(this.horizontalScrollGap!==t||this.verticalScrollGap!==n)&&(this.horizontalScrollGap=t,this.verticalScrollGap=n,this.eventSvc.dispatchEvent({type:"scrollGapChanged"}))}setScrollsVisible(e){(this.horizontalScrollShowing!==e.horizontalScrollShowing||this.verticalScrollShowing!==e.verticalScrollShowing)&&(this.horizontalScrollShowing=e.horizontalScrollShowing,this.verticalScrollShowing=e.verticalScrollShowing,this.eventSvc.dispatchEvent({type:"scrollVisibilityChanged"}))}getScrollbarWidth(){if(null==this.scrollbarWidth){const e=this.gos.get("scrollbarWidth"),t="number"===typeof e&&e>=0?e:(null==aL&&KL(),aL);null!=t&&(this.scrollbarWidth=t,this.eventSvc.dispatchEvent({type:"scrollbarWidthChanged"}))}return this.scrollbarWidth}},class extends vO{constructor(){super(...arguments),this.beanName="ctrlsSvc",this.params={},this.ready=!1,this.readyCallbacks=[]}postConstruct(){var e,t,n;this.addEventListener("ready",()=>{this.updateReady(),this.ready&&(this.readyCallbacks.forEach(e=>e(this.params)),this.readyCallbacks.length=0)},null!==(e=null===(t=(n=this.beans.frameworkOverrides).runWhenReadyAsync)||void 0===t?void 0:t.call(n))&&void 0!==e&&e)}updateReady(){const e=Object.values(this.params);this.ready=23===e.length&&e.every(e=>{var t;return null!==(t=null===e||void 0===e?void 0:e.isAlive())&&void 0!==t&&t})}whenReady(e,t){this.ready?t(this.params):this.readyCallbacks.push(t),e.addDestroyFunc(()=>{const e=this.readyCallbacks.indexOf(t);e>=0&&this.readyCallbacks.splice(e,1)})}register(e,t){this.params[e]=t,this.updateReady(),this.ready&&this.dispatchLocalEvent({type:"ready"}),t.addDestroyFunc(()=>{this.updateReady()})}get(e){return this.params[e]}getGridBodyCtrl(){return this.params.gridBodyCtrl}getHeaderRowContainerCtrls(){const{leftHeader:e,centerHeader:t,rightHeader:n}=this.params;return[e,n,t]}getHeaderRowContainerCtrl(e){const t=this.params;switch(e){case"left":return t.leftHeader;case"right":return t.rightHeader;default:return t.centerHeader}}getScrollFeature(){return this.getGridBodyCtrl().scrollFeature}},class extends vO{constructor(){super(...arguments),this.beanName="syncSvc",this.waitingForColumns=!1}postConstruct(){this.addManagedPropertyListener("columnDefs",e=>this.setColumnDefs(e))}start(){this.beans.ctrlsSvc.whenReady(this,()=>{const e=this.gos.get("columnDefs");e?this.setColumnsAndData(e):this.waitingForColumns=!0,this.gridReady()})}setColumnsAndData(e){const{colModel:t,rowModel:n}=this.beans;t.setColumnDefs(null!==e&&void 0!==e?e:[],"gridInitializing"),n.start()}gridReady(){const{eventSvc:e,gos:t}=this;e.dispatchEvent({type:"gridReady"}),NN(t,"initialised successfully, enterprise = ".concat(t.isModuleRegistered("EnterpriseCore")))}setColumnDefs(e){const t=this.gos.get("columnDefs");if(t)return this.waitingForColumns?(this.waitingForColumns=!1,void this.setColumnsAndData(t)):void this.beans.colModel.setColumnDefs(t,XO(e.source))}},class extends vO{constructor(){super(...arguments),this.beanName="colNames"}getDisplayNameForColumn(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!e)return null;const i=this.getHeaderName(e.getColDef(),e,null,null,t),{aggColNameSvc:o}=this.beans;return n&&o?o.getHeaderName(e,i):i}getDisplayNameForProvidedColumnGroup(e,t,n){const i=null===t||void 0===t?void 0:t.getColGroupDef();return i?this.getHeaderName(i,null,e,t,n):null}getDisplayNameForColumnGroup(e,t){return this.getDisplayNameForProvidedColumnGroup(e,e.getProvidedColumnGroup(),t)}getHeaderName(e,t,n,i,o){const r=e.headerValueGetter;if(r){const l=iO(this.gos,{colDef:e,column:t,columnGroup:n,providedColumnGroup:i,location:o});return"function"===typeof r?r(l):"string"===typeof r?null!==(s=null===(a=this.beans.expressionSvc)||void 0===a?void 0:a.evaluate(r,l))&&void 0!==s?s:null:"";var s,a}return null!=e.headerName?e.headerName:e.field?(l=e.field)&&null!=l?l.replace(/([a-z])([A-Z])/g,"$1 $2").replace(/([A-Z]+)([A-Z])([a-z])/g,"$1 $2$3").replace(/\./g," ").split(" ").map(e=>e.substring(0,1).toUpperCase()+(e.length>1?e.substring(1,e.length):"")).join(" "):null:"";var l}},class extends vO{constructor(){super(...arguments),this.beanName="colViewport",this.colsWithinViewport=[],this.headerColsWithinViewport=[],this.colsWithinViewportHash="",this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={},this.columnsToRenderLeft=[],this.columnsToRenderRight=[],this.columnsToRenderCenter=[]}wireBeans(e){this.visibleCols=e.visibleCols,this.colModel=e.colModel}postConstruct(){this.suppressColumnVirtualisation=this.gos.get("suppressColumnVirtualisation")}setScrollPosition(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{visibleCols:i}=this,o=i.isBodyWidthDirty;if(!(e===this.scrollWidth&&t===this.scrollPosition&&!o)){if(this.scrollWidth=e,this.scrollPosition=t,i.isBodyWidthDirty=!0,this.gos.get("enableRtl")){const n=i.bodyWidth;this.viewportLeft=n-t-e,this.viewportRight=n-t}else this.viewportLeft=t,this.viewportRight=e+t;this.colModel.ready&&this.checkViewportColumns(n)}}getColumnHeadersToRender(e){switch(e){case"left":return this.columnsToRenderLeft;case"right":return this.columnsToRenderRight;default:return this.columnsToRenderCenter}}getHeadersToRender(e,t){let n;switch(e){case"left":n=this.rowsOfHeadersToRenderLeft[t];break;case"right":n=this.rowsOfHeadersToRenderRight[t];break;default:n=this.rowsOfHeadersToRenderCenter[t]}return null!==n&&void 0!==n?n:[]}extractViewportColumns(){const e=this.visibleCols.centerCols;this.isColumnVirtualisationSuppressed()?(this.colsWithinViewport=e,this.headerColsWithinViewport=e):(this.colsWithinViewport=e.filter(this.isColumnInRowViewport.bind(this)),this.headerColsWithinViewport=e.filter(this.isColumnInHeaderViewport.bind(this)))}isColumnVirtualisationSuppressed(){return this.suppressColumnVirtualisation||0===this.viewportRight}clear(){this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={},this.colsWithinViewportHash=""}isColumnInHeaderViewport(e){return!(!e.isAutoHeaderHeight()&&!function(e){for(;e;){if(e.isAutoHeaderHeight())return!0;e=e.getParent()}return!1}(e))||this.isColumnInRowViewport(e)}isColumnInRowViewport(e){if(e.isAutoHeight())return!0;const t=e.getLeft()||0,n=t+e.getActualWidth(),i=this.viewportLeft-200,o=this.viewportRight+200;return!(t<i&&n<i)&&!(t>o&&n>o)}getViewportColumns(){const{leftCols:e,rightCols:t}=this.visibleCols;return this.colsWithinViewport.concat(e).concat(t)}getColsWithinViewport(e){if(!this.colModel.colSpanActive)return this.colsWithinViewport;const t=this.isColumnVirtualisationSuppressed()?void 0:this.isColumnInRowViewport.bind(this),{visibleCols:n}=this,i=n.centerCols;return n.getColsForRow(e,i,t,e=>{const t=e.getLeft();return UI(t)&&t>this.viewportLeft})}checkViewportColumns(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.extractViewport()&&this.eventSvc.dispatchEvent({type:"virtualColumnsChanged",afterScroll:e})}calculateHeaderRows(){const{leftCols:e,rightCols:t}=this.visibleCols;this.columnsToRenderLeft=e,this.columnsToRenderRight=t,this.columnsToRenderCenter=this.colsWithinViewport;const n=e=>{const t=new Set,n={};for(const o of e){let e=o.getParent();const r=o.isSpanHeaderHeight();for(;e;){var i;if(t.has(e))break;if(r&&e.isPadding()){e=e.getParent();continue}const o=e.getProvidedColumnGroup().getLevel();null!==(i=n[o])&&void 0!==i||(n[o]=[]),n[o].push(e),t.add(e),e=e.getParent()}}return n};this.rowsOfHeadersToRenderLeft=n(e),this.rowsOfHeadersToRenderRight=n(t),this.rowsOfHeadersToRenderCenter=n(this.headerColsWithinViewport)}extractViewport(){this.extractViewportColumns();const e=this.getViewportColumns().map(e=>"".concat(e.getId(),"-").concat(e.getPinned()||"normal")).join("#"),t=this.colsWithinViewportHash!==e;return t&&(this.colsWithinViewportHash=e,this.calculateHeaderRows()),t}}],icons:{selectOpen:"small-down",smallDown:"small-down",colorPicker:"color-picker",smallUp:"small-up",checkboxChecked:"small-up",checkboxIndeterminate:"checkbox-indeterminate",checkboxUnchecked:"checkbox-unchecked",radioButtonOn:"radio-button-on",radioButtonOff:"radio-button-off",smallLeft:"small-left",smallRight:"small-right"},apiFunctions:{getGridId:NU,destroy:function(e){e.gridDestroySvc.destroy()},isDestroyed:function(e){return e.gridDestroySvc.destroyCalled},getGridOption:function(e,t){return e.gos.get(t)},setGridOption:function(e,t,n){BU(e,{[t]:n})},updateGridOptions:BU,isModuleRegistered:function(e,t){const n=t.replace(/Module$/,"");return e.gos.isModuleRegistered(n)}},dependsOn:[TK,hK,vK,ZY,MY,bK,IY,UY,QY,LY,OY,zY,VY,NY,NK,_K,XY,xK]};function nZ(e){const{inputValue:t,allSuggestions:n,hideIrrelevant:i,filterByPercentageOfBestMatch:o}=e;let r=(null!==n&&void 0!==n?n:[]).map((e,n)=>({value:e,relevance:iZ(t,e),idx:n}));if(r.sort((e,t)=>e.relevance-t.relevance),i&&(r=r.filter(e=>e.relevance<Math.max(e.value.length,t.length))),r.length>0&&o&&o>0){const e=r[0].relevance*o;r=r.filter(t=>e-t.relevance<0)}const s=[],a=[];for(const l of r)s.push(l.value),a.push(l.idx);return{values:s,indices:a}}function iZ(e,t){e.length<t.length&&([e,t]=[t,e]);let n=[],i=[];const o=e.length,r=t.length;for(let a=0;a<=r;a++)n[a]=a;let s=0;for(let a=1;a<=o;a++){i[0]=a;for(let l=1;l<=r;l++){const r=e[a-1],u=t[l-1];if(r.toLocaleLowerCase()===u.toLocaleLowerCase())++s,r===u&&++s,a>1&&l>1&&e[a-2].toLocaleLowerCase()===t[l-2].toLocaleLowerCase()&&(++s,e[a-2]===t[l-2]&&++s),a<o/2-10&&++s,i[l]=n[l-1];else{const e=i[l-1],t=n[l],o=n[l-1];i[l]=1+Math.min(e,t,o)}}[n,i]=[i,n]}return n[r]/(s+1)}var oZ={AdvancedFilter:1,AllEnterprise:1,BatchEdit:1,CellSelection:1,Clipboard:1,ColumnMenu:1,ColumnsToolPanel:1,ContextMenu:1,ExcelExport:1,FiltersToolPanel:1,Find:1,GridCharts:1,IntegratedCharts:1,GroupFilter:1,MasterDetail:1,Menu:1,MultiFilter:1,NewFiltersToolPanel:1,Pivot:1,RangeSelection:1,RichSelect:1,RowNumbers:1,RowGrouping:1,RowGroupingPanel:1,ServerSideRowModelApi:1,ServerSideRowModel:1,SetFilter:1,SideBar:1,Sparklines:1,StatusBar:1,TreeData:1,ViewportRowModel:1},rZ=["TextFilter","NumberFilter","DateFilter","SetFilter","MultiFilter","GroupFilter","CustomFilter"],sZ={EditCore:["TextEditor","NumberEditor","DateEditor","CheckboxEditor","LargeTextEditor","SelectEditor","RichSelect","CustomEditor"],CheckboxCellRenderer:["AllCommunity"],ClientSideRowModelHierarchy:["RowGrouping","Pivot","TreeData"],ColumnFilter:rZ,ColumnGroupHeaderComp:["AllCommunity"],ColumnGroup:["AllCommunity"],ColumnHeaderComp:["AllCommunity"],ColumnMove:["AllCommunity"],ColumnResize:["AllCommunity"],CommunityCore:["AllCommunity"],CsrmSsrmSharedApi:["ClientSideRowModelApi","ServerSideRowModelApi"],EnterpriseCore:["AllEnterprise"],FilterCore:[...rZ,"QuickFilter","ExternalFilter","AdvancedFilter"],GroupCellRenderer:["RowGrouping","Pivot","TreeData","MasterDetail","ServerSideRowModel"],KeyboardNavigation:["AllCommunity"],LoadingCellRenderer:["ServerSideRowModel"],MenuCore:["ColumnMenu","ContextMenu"],MenuItem:["ColumnMenu","ContextMenu","MultiFilter","IntegratedCharts","ColumnsToolPanel"],Overlay:["AllCommunity"],PinnedColumn:["AllCommunity"],SharedAggregation:["RowGrouping","Pivot","TreeData","ServerSideRowModel"],SharedDragAndDrop:["AllCommunity"],SharedMasterDetail:["MasterDetail","ServerSideRowModel"],SharedMenu:[...rZ,"ColumnMenu","ContextMenu"],SharedPivot:["Pivot","ServerSideRowModel"],SharedRowGrouping:["RowGrouping","ServerSideRowModel"],SharedRowSelection:["RowSelection","ServerSideRowModel"],SkeletonCellRenderer:["ServerSideRowModel"],Sort:["AllCommunity"],SsrmInfiniteSharedApi:["InfiniteRowModel","ServerSideRowModelApi"],SharedTreeData:["TreeData","ServerSideRowModel"]},aZ={InfiniteRowModel:"infinite",ClientSideRowModelApi:"clientSide",ClientSideRowModel:"clientSide",ServerSideRowModelApi:"serverSide",ServerSideRowModel:"serverSide",ViewportRowModel:"viewport"};function lZ(e){return"".concat(e,arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&("IntegratedCharts"===e||"Sparklines"===e)?"Module.with(AgChartsEnterpriseModule)":"Module")}function uZ(e){let{moduleName:t,rowModelType:n}=e;return"To use the ".concat(t,"Module you must set the gridOption \"rowModelType='").concat(n,"'\"")}var cZ=e=>{let{reasonOrId:t,moduleName:n,gridScoped:i,gridId:o,rowModelType:r,additionalText:s,isUmd:a}=e;const l=function(e,t){const n=[];return(Array.isArray(e)?e:[e]).forEach(e=>{const i=sZ[e];i?i.forEach(e=>{const i=aZ[e];i&&i!==t||n.push(e)}):n.push(e)}),n}(n,r),u="string"===typeof t?t:pZ[t];if(a)return function(e,t){const n=t.filter(e=>"IntegratedCharts"===e||"Sparklines"===e);let i="";return!(null===globalThis||void 0===globalThis?void 0:globalThis.agCharts)&&n.length>0?i="Unable to use ".concat(e," as either the ag-charts-community or ag-charts-enterprise script needs to be included alongside ag-grid-enterprise.\n"):t.some(e=>oZ[e])&&(i+="Unable to use ".concat(e," as that requires the ag-grid-enterprise script to be included.\n")),i}(u,l);const c=l.filter(e=>"IntegratedCharts"===e||"Sparklines"===e),d=c.length>0?"".concat(c.map(e=>lZ(e)).join()," must be initialised with an AG Charts module. One of 'AgChartsCommunityModule' / 'AgChartsEnterpriseModule'."):"",h="Unable to use ".concat(u," as ").concat(l.length>1?"one of "+l.map(e=>lZ(e)).join(", "):lZ(l[0])," is not registered").concat(i?" for gridId: "+o:"",". ").concat(d," Check if you have registered the module:\n");return"".concat(h,"\n").concat((e=>{const t=e.map(e=>"import { ".concat(lZ(e)," } from '").concat(oZ[e]?"ag-grid-enterprise":"ag-grid-community","';"));if(e.some(e=>"IntegratedCharts"===e||"Sparklines"===e)){const e="import { AgChartsEnterpriseModule } from 'ag-charts-enterprise';";t.push(e)}return"import { ModuleRegistry } from 'ag-grid-community'; \n".concat(t.join(" \n")," \n\nModuleRegistry.registerModules([ ").concat(e.map(e=>lZ(e,!0)).join(", ")," ]); \n\nFor more info see: ").concat(ZN,"/modules/")})(l))+(s?" \n\n".concat(s):"")},dZ=e=>"".concat(e," must be initialised with an AG Charts module. One of 'AgChartsCommunityModule' / 'AgChartsEnterpriseModule'.\n\nimport { AgChartsEnterpriseModule } from 'ag-charts-enterprise';\nimport { ModuleRegistry } from 'ag-grid-community';\nimport { ").concat(e," } from 'ag-grid-enterprise';\n    \nModuleRegistry.registerModules([").concat(e,".with(AgChartsEnterpriseModule)]);\n    "),hZ={1:()=>"`rowData` must be an array",2:e=>{let{nodeId:t}=e;return"Duplicate node id '".concat(t,"' detected from getRowId callback, this could cause issues in your grid.")},3:()=>"Calling gridApi.resetRowHeights() makes no sense when using Auto Row Height.",4:e=>{let{id:t}=e;return"Could not find row id=".concat(t,", data item was not found for this id")},5:e=>{let{data:t}=e;return["Could not find data item as object was not found.",t," Consider using getRowId to help the Grid find matching row data"]},6:()=>"'groupHideOpenParents' only works when specifying specific columns for 'colDef.showRowGroup'",7:()=>"Pivoting is not supported with aligned grids as it may produce different columns in each grid.",8:e=>{let{key:t}=e;return"Unknown key for navigation ".concat(t)},9:e=>{let{variable:t}=e;return"No value for ".concat(null===t||void 0===t?void 0:t.cssName,". This usually means that the grid has been initialised before styles have been loaded. The default value of ").concat(null===t||void 0===t?void 0:t.defaultValue," will be used and updated when styles load.")},10:e=>{let{eventType:t}=e;return"As of v33, the '".concat(t,"' event is deprecated. Use the global 'modelUpdated' event to determine when row children have changed.")},11:()=>"No gridOptions provided to createGrid",12:e=>{let{colKey:t}=e;return["column ",t," not found"]},13:()=>"Could not find rowIndex, this means tasks are being executed on a rowNode that has been removed from the grid.",14:e=>{let{groupPrefix:t}=e;return"Row IDs cannot start with ".concat(t,", this is a reserved prefix for AG Grid's row grouping feature.")},15:e=>{let{expression:t}=e;return["value should be either a string or a function",t]},16:e=>{let{expression:t,params:n,e:i}=e;return["Processing of the expression failed","Expression = ",t,"Params = ",n,"Exception = ",i]},17:()=>"you need either field or valueSetter set on colDef for editing to work",18:()=>"alignedGrids contains an undefined option.",19:()=>"alignedGrids - No api found on the linked grid.",20:()=>'You may want to configure via a callback to avoid setup race conditions:\n                     "alignedGrids: () => [linkedGrid]"',21:()=>"pivoting is not supported with aligned grids. You can only use one of these features at a time in a grid.",22:e=>{let{key:t}=e;return"".concat(t," is an initial property and cannot be updated.")},23:()=>"The return of `getRowHeight` cannot be zero. If the intention is to hide rows, use a filter instead.",24:()=>"row height must be a number if not using standard row model",25:e=>{let{id:t}=e;return["The getRowId callback must return a string. The ID ",t," is being cast to a string."]},26:e=>{let{fnName:t,preDestroyLink:n}=e;return"Grid API function ".concat(t,"() cannot be called as the grid has been destroyed.\n Either clear local references to the grid api, when it is destroyed, or check gridApi.isDestroyed() to avoid calling methods against a destroyed grid.\n To run logic when the grid is about to be destroyed use the gridPreDestroy event. See: ").concat(n)},27:e=>{let{fnName:t,module:n}=e;return"API function '".concat(t,"' not registered to module '").concat(n,"'")},28:()=>"setRowCount cannot be used while using row grouping.",29:()=>"tried to call sizeColumnsToFit() but the grid is coming back with zero width, maybe the grid is not visible yet on the screen?",30:e=>{let{toIndex:t}=e;return["tried to insert columns in invalid location, toIndex = ",t,"remember that you should not count the moving columns when calculating the new index"]},31:()=>"infinite loop in resizeColumnSets",32:()=>"applyColumnState() - the state attribute should be an array, however an array was not found. Please provide an array of items (one for each col you want to change) for state.",33:()=>"stateItem.aggFunc must be a string. if using your own aggregation functions, register the functions first before using them in get/set state. This is because it is intended for the column state to be stored and retrieved as simple JSON.",34:e=>{let{key:t}=e;return"the column type '".concat(t,"' is a default column type and cannot be overridden.")},35:()=>"Column type definitions 'columnTypes' with a 'type' attribute are not supported because a column type cannot refer to another column type. Only column definitions 'columnDefs' can use the 'type' attribute to refer to a column type.",36:e=>{let{t:t}=e;return"colDef.type '"+t+"' does not correspond to defined gridOptions.columnTypes"},37:()=>"Changing the column pinning status is not allowed with domLayout='print'",38:e=>{let{iconName:t}=e;return"provided icon '".concat(t,"' needs to be a string or a function")},39:()=>"Applying column order broke a group where columns should be married together. Applying new order has been discarded.",40:e=>{let{e:t,method:n}=e;return"".concat(t,"\n").concat((e=>"AG Grid: Unable to use the Clipboard API (navigator.clipboard.".concat(e,"()). The reason why it could not be used has been logged in the previous line. For this reason the grid has defaulted to using a workaround which doesn't perform as well. Either fix why Clipboard API is blocked, OR stop this message from appearing by setting grid property suppressClipboardApi=true (which will default the grid to using the workaround rather than the API."))(n))},41:()=>"Browser did not allow document.execCommand('copy'). Ensure 'api.copySelectedRowsToClipboard() is invoked via a user event, i.e. button click, otherwise the browser will prevent it for security reasons.",42:()=>"Browser does not support document.execCommand('copy') for clipboard operations",43:e=>{let{iconName:t}=e;return"As of v33, icon '".concat(t,"' is deprecated. Use the icon CSS name instead.")},44:()=>'Data type definition hierarchies (via the "extendsDataType" property) cannot contain circular references.',45:e=>{let{parentCellDataType:t}=e;return"The data type definition ".concat(t," does not exist.")},46:()=>'The "baseDataType" property of a data type definition must match that of its parent.',47:e=>{let{cellDataType:t}=e;return'Missing data type definition - "'.concat(t,'"')},48:e=>{let{property:t}=e;return'Cell data type is "object" but no Value '.concat(t," has been provided. Please either provide an object data type definition with a Value ").concat(t,', or set "colDef.value').concat(t,'"')},49:e=>{let{methodName:t}=e;return"Framework component is missing the method ".concat(t,"()")},50:e=>{let{compName:t}=e;return"Could not find component ".concat(t,", did you forget to configure this component?")},51:()=>"Export cancelled. Export is not allowed as per your configuration.",52:()=>"There is no `window` associated with the current `document`",53:()=>"unknown value type during csv conversion",54:()=>"Could not find document body, it is needed for drag and drop and context menu.",55:()=>"addRowDropZone - A container target needs to be provided",56:()=>"addRowDropZone - target already exists in the list of DropZones. Use `removeRowDropZone` before adding it again.",57:()=>"unable to show popup filter, filter instantiation failed",58:()=>"no values found for select cellEditor",59:()=>"cannot select pinned rows",60:()=>"cannot select node until it has finished loading",61:()=>"since version v32.2.0, rowNode.isFullWidthCell() has been deprecated. Instead check `rowNode.detail` followed by the user provided `isFullWidthRow` grid option.",62:e=>{let{colId:t}=e;return"setFilterModel() - no column found for colId: ".concat(t)},63:e=>{let{colId:t}=e;return"setFilterModel() - unable to fully apply model, filtering disabled for colId: ".concat(t)},64:e=>{let{colId:t}=e;return"setFilterModel() - unable to fully apply model, unable to create filter for colId: ".concat(t)},65:()=>"filter missing setModel method, which is needed for setFilterModel",66:()=>"filter API missing getModel method, which is needed for getFilterModel",67:()=>"Filter is missing isFilterActive() method",68:()=>"Column Filter API methods have been disabled as Advanced Filters are enabled.",69:e=>{let{guiFromFilter:t}=e;return"getGui method from filter returned ".concat(t,"; it should be a DOM element.")},70:e=>{let{newFilter:t}=e;return"Grid option quickFilterText only supports string inputs, received: ".concat(typeof t)},71:()=>"debounceMs is ignored when apply button is present",72:e=>{let{keys:t}=e;return["ignoring FilterOptionDef as it doesn't contain one of ",t]},73:()=>"invalid FilterOptionDef supplied as it doesn't contain a 'displayKey'",74:()=>"no filter options for filter",75:()=>"Unknown button type specified",76:e=>{let{filterModelType:t}=e;return['Unexpected type of filter "',t,'", it looks like the filter was configured with incorrect Filter Options']},77:()=>"Filter model is missing 'conditions'",78:()=>'Filter Model contains more conditions than "filterParams.maxNumConditions". Additional conditions have been ignored.',79:()=>'"filterParams.maxNumConditions" must be greater than or equal to zero.',80:()=>'"filterParams.numAlwaysVisibleConditions" must be greater than or equal to zero.',81:()=>'"filterParams.numAlwaysVisibleConditions" cannot be greater than "filterParams.maxNumConditions".',82:e=>{let{param:t}=e;return"DateFilter ".concat(t," is not a number")},83:()=>"DateFilter minValidYear should be <= maxValidYear",84:()=>"DateFilter minValidDate should be <= maxValidDate",85:()=>"DateFilter should not have both minValidDate and minValidYear parameters set at the same time! minValidYear will be ignored.",86:()=>"DateFilter should not have both maxValidDate and maxValidYear parameters set at the same time! maxValidYear will be ignored.",87:()=>"DateFilter parameter minValidDate should always be lower than or equal to parameter maxValidDate.",88:e=>{let{index:t}=e;return"Invalid row index for ensureIndexVisible: ".concat(t)},89:()=>"A template was provided for Header Group Comp - templates are only supported for Header Comps (not groups)",90:()=>"datasource is missing getRows method",91:()=>"Filter is missing method doesFilterPass",92:()=>"AnimationFrameService called but animation frames are off",93:()=>"cannot add multiple ranges when `cellSelection.suppressMultiRanges = true`",94:e=>{let{paginationPageSizeOption:t,pageSizeSet:n,pageSizesSet:i,pageSizeOptions:o}=e;return"'paginationPageSize=".concat(t,"'").concat(n?"":" (default value)",", but ").concat(t," is not included in").concat(i?"":" the default"," paginationPageSizeSelector=[").concat(null===o||void 0===o?void 0:o.join(", "),"].")},95:e=>{let{paginationPageSizeOption:t,paginationPageSizeSelector:n}=e;return"Either set '".concat(n,"' to an array that includes ").concat(t," or to 'false' to disable the page size selector.")},96:e=>{let{id:t,data:n}=e;return["Duplicate ID",t,"found for pinned row with data",n,"When `getRowId` is defined, it must return unique IDs for all pinned rows. Use the `rowPinned` parameter."]},97:e=>{let{colId:t}=e;return"cellEditor for column ".concat(t," is missing getGui() method")},98:()=>"popup cellEditor does not work with fullRowEdit - you cannot use them both - either turn off fullRowEdit, or stop using popup editors.",99:()=>"Since v32, `api.hideOverlay()` does not hide the loading overlay when `loading=true`. Set `loading=false` instead.",101:e=>{let{propertyName:t,componentName:n,agGridDefaults:i,jsComps:o}=e;const r=[],s=nZ({inputValue:n,allSuggestions:[...Object.keys(null!==i&&void 0!==i?i:[]).filter(e=>!["agCellEditor","agGroupRowRenderer","agSortIndicator"].includes(e)),...Object.keys(null!==o&&void 0!==o?o:[]).filter(e=>!!o[e])],hideIrrelevant:!0,filterByPercentageOfBestMatch:.8}).values;return r.push("Could not find '".concat(n,"' component. It was configured as \"").concat(t,": '").concat(n,"'\" but it wasn't found in the list of registered components.\n")),s.length>0&&r.push("         Did you mean: [".concat(s.slice(0,3),"]?\n")),r.push("If using a custom component check it has been registered correctly."),r},102:()=>"selectAll: 'filtered' only works when gridOptions.rowModelType='clientSide'",103:()=>"Invalid selection state. When using client-side row model, the state must conform to `string[]`.",104:e=>{let{value:t,param:n}=e;return"Numeric value ".concat(t," passed to ").concat(n," param will be interpreted as ").concat(t,' seconds. If this is intentional use "').concat(t,'s" to silence this warning.')},105:e=>{let{e:t}=e;return["chart rendering failed",t]},106:()=>"Theming API and Legacy Themes are both used in the same page. A Theming API theme has been provided to the 'theme' grid option, but the file (ag-grid.css) is also included and will cause styling issues. Remove ag-grid.css from the page. See the migration guide: ".concat(ZN,"/theming-migration/"),107:e=>{let{key:t,value:n}=e;return"Invalid value for theme param ".concat(t," - ").concat(n)},108:e=>{let{e:t}=e;return["chart update failed",t]},109:e=>{let{inputValue:t,allSuggestions:n}=e;const i=nZ({inputValue:t,allSuggestions:n,hideIrrelevant:!0,filterByPercentageOfBestMatch:.8}).values;return["Could not find '".concat(t,"' aggregate function. It was configured as \"aggFunc: '").concat(t,"'\" but it wasn't found in the list of registered aggregations."),i.length>0?"         Did you mean: [".concat(i.slice(0,3),"]?"):"","If using a custom aggregation function check it has been registered correctly."].join("\n")},110:()=>"groupHideOpenParents only works when specifying specific columns for colDef.showRowGroup",111:()=>"Invalid selection state. When `groupSelects` is enabled, the state must conform to `IServerSideGroupSelectionState`.",113:()=>"Set Filter cannot initialise because you are using a row model that does not contain all rows in the browser. Either use a different filter type, or configure Set Filter such that you provide it with values",114:e=>{let{component:t}=e;return"Could not find component with name of ".concat(t,". Is it in Vue.components?")},116:()=>"Invalid selection state. The state must conform to `IServerSideSelectionState`.",117:()=>"selectAll must be of boolean type.",118:()=>"Infinite scrolling must be enabled in order to set the row count.",119:()=>"Unable to instantiate filter",120:()=>"MultiFloatingFilterComp expects MultiFilter as its parent",121:()=>"a column you are grouping or pivoting by has objects as values. If you want to group by complex objects then either a) use a colDef.keyCreator (see AG Grid docs) or b) to toString() on the object to return a key",122:()=>"could not find the document, document is empty",123:()=>"Advanced Filter is only supported with the Client-Side Row Model or Server-Side Row Model.",124:()=>"No active charts to update.",125:e=>{let{chartId:t}=e;return"Unable to update chart. No active chart found with ID: ".concat(t,".")},126:()=>"unable to restore chart as no chart model is provided",127:e=>{let{allRange:t}=e;return"unable to create chart as ".concat(t?"there are no columns in the grid":"no range is selected",".")},128:e=>{let{feature:t}=e;return"".concat(t," is only available if using 'multiRow' selection mode.")},129:e=>{let{feature:t,rowModel:n}=e;return"".concat(t," is only available if using 'clientSide' or 'serverSide' rowModelType, you are using ").concat(n,".")},130:()=>'cannot multi select unless selection mode is "multiRow"',132:()=>"Row selection features are not available unless `rowSelection` is enabled.",133:e=>{let{iconName:t}=e;return"icon '".concat(t,"' function should return back a string or a dom object")},134:e=>{let{iconName:t}=e;return"Did not find icon '".concat(t,"'")},135:()=>"Data type of the new value does not match the cell data type of the column",136:()=>"Unable to update chart as the 'type' is missing. It must be either 'rangeChartUpdate', 'pivotChartUpdate', or 'crossFilterChartUpdate'.",137:e=>{let{type:t,currentChartType:n}=e;return"Unable to update chart as a '".concat(t,"' update type is not permitted on a ").concat(n,".")},138:e=>{let{chartType:t}=e;return"invalid chart type supplied: ".concat(t)},139:e=>{let{customThemeName:t}=e;return"a custom chart theme with the name ".concat(t," has been supplied but not added to the 'chartThemes' list")},140:e=>{let{name:t}=e;return"no stock theme exists with the name '".concat(t,"' and no custom chart theme with that name was supplied to 'customChartThemes'")},141:()=>"cross filtering with row grouping is not supported.",142:()=>"cross filtering is only supported in the client side row model.",143:e=>{let{panel:t}=e;return"'".concat(t,"' is not a valid Chart Tool Panel name")},144:e=>{let{type:t}=e;return"Invalid charts data panel group name supplied: '".concat(t,"'")},145:e=>{let{group:t}=e;return"As of v32, only one charts customize panel group can be expanded at a time. '".concat(t,"' will not be expanded.")},146:e=>{let{comp:t}=e;return"Unable to instantiate component '".concat(t,"' as its module hasn't been loaded. Add 'ValidationModule' to see which module is required.")},147:e=>{let{group:t}=e;return"Invalid charts customize panel group name supplied: '".concat(t,"'")},148:e=>{let{group:t}=e;return"invalid chartGroupsDef config '".concat(t,"'")},149:e=>{let{group:t,chartType:n}=e;return"invalid chartGroupsDef config '".concat(t,".").concat(n,"'")},150:()=>"'seriesChartTypes' are required when the 'customCombo' chart type is specified.",151:e=>{let{chartType:t}=e;return"invalid chartType '".concat(t,"' supplied in 'seriesChartTypes', converting to 'line' instead.")},152:e=>{let{colId:t}=e;return"no 'seriesChartType' found for colId = '".concat(t,"', defaulting to 'line'.")},153:e=>{let{chartDataType:t}=e;return"unexpected chartDataType value '".concat(t,"' supplied, instead use 'category', 'series' or 'excluded'")},154:e=>{let{colId:t}=e;return"cross filtering requires a 'agSetColumnFilter' or 'agMultiColumnFilter' to be defined on the column with id: ".concat(t)},155:e=>{let{option:t}=e;return"'".concat(t,"' is not a valid Chart Toolbar Option")},156:e=>{let{panel:t}=e;return"Invalid panel in chartToolPanelsDef.panels: '".concat(t,"'")},157:e=>{let{unrecognisedGroupIds:t}=e;return["unable to find group(s) for supplied groupIds:",t]},158:()=>"can not expand a column item that does not represent a column group header",159:()=>"Invalid params supplied to createExcelFileForExcel() - `ExcelExportParams.data` is empty.",160:()=>"Export cancelled. Export is not allowed as per your configuration.",161:()=>"The Excel Exporter is currently on Multi Sheet mode. End that operation by calling 'api.getMultipleSheetAsExcel()' or 'api.exportMultipleSheetsAsExcel()'",162:e=>{let{id:t,dataType:n}=e;return"Unrecognized data type for excel export [".concat(t,".dataType=").concat(n,"]")},163:e=>{let{featureName:t}=e;return"Excel table export does not work with ".concat(t,". The exported Excel file will not contain any Excel tables.\n Please turn off ").concat(t," to enable Excel table exports.")},164:()=>"Unable to add data table to Excel sheet: A table already exists.",165:()=>"Unable to add data table to Excel sheet: Missing required parameters.",166:e=>{let{unrecognisedGroupIds:t}=e;return["unable to find groups for these supplied groupIds:",t]},167:e=>{let{unrecognisedColIds:t}=e;return["unable to find columns for these supplied colIds:",t]},168:()=>"detailCellRendererParams.template should be function or string",169:()=>'Reference to eDetailGrid was missing from the details template. Please add data-ref="eDetailGrid" to the template.',170:e=>{let{providedStrategy:t}=e;return"invalid cellRendererParams.refreshStrategy = ".concat(t," supplied, defaulting to refreshStrategy = 'rows'.")},171:()=>"could not find detail grid options for master detail, please set gridOptions.detailCellRendererParams.detailGridOptions",172:()=>"could not find getDetailRowData for master / detail, please set gridOptions.detailCellRendererParams.getDetailRowData",173:e=>{let{group:t}=e;return"invalid chartGroupsDef config '".concat(t,"'")},174:e=>{let{group:t,chartType:n}=e;return"invalid chartGroupsDef config '".concat(t,".").concat(n,"'")},175:e=>{let{menuTabName:t,itemsToConsider:n}=e;return["Trying to render an invalid menu item '".concat(t,"'. Check that your 'menuTabs' contains one of "),n]},176:e=>{let{key:t}=e;return"unknown menu item type ".concat(t)},177:()=>"valid values for cellSelection.handle.direction are 'x', 'y' and 'xy'. Default to 'xy'.",178:e=>{let{colId:t}=e;return"column ".concat(t," is not visible")},179:()=>"totalValueGetter should be either a function or a string (expression)",180:()=>"agRichSelectCellEditor requires cellEditorParams.values to be set",181:()=>"agRichSelectCellEditor cannot have `multiSelect` and `allowTyping` set to `true`. AllowTyping has been turned off.",182:()=>'you cannot mix groupDisplayType = "multipleColumns" with treeData, only one column can be used to display groups when doing tree data',183:()=>"Group Column Filter only works on group columns. Please use a different filter.",184:e=>{let{parentGroupData:t,childNodeData:n}=e;return["duplicate group keys for row data, keys should be unique",[t,n]]},185:e=>{let{data:t}=e;return["getDataPath() should not return an empty path",[t]]},186:e=>{let{rowId:t,rowData:n,duplicateRowsData:i}=e;return["duplicate group keys for row data, keys should be unique",t,n,...null!==i&&void 0!==i?i:[]]},187:e=>{let{rowId:t,firstData:n,secondData:i}=e;return["Duplicate node id ".concat(t,". Row IDs are provided via the getRowId() callback. Please modify the getRowId() callback code to provide unique row id values."),"first instance",n,"second instance",i]},188:()=>"getRowId callback must be provided for Server Side Row Model selection to work correctly.",189:e=>{let{startRow:t}=e;return"invalid value ".concat(t," for startRow, the value should be >= 0")},190:e=>{let{rowGroupId:t,data:n}=e;return["null and undefined values are not allowed for server side row model keys",t?"column = ".concat(t):"","data is ",n]},194:e=>{let{method:t}=e;return"calling gridApi.".concat(t,"() is only possible when using rowModelType=`clientSide`.")},195:e=>{let{justCurrentPage:t}=e;return"selecting just ".concat(t?"current page":"filtered"," only works when gridOptions.rowModelType='clientSide'")},196:e=>{let{key:t}=e;return"Provided ids must be of string type. Invalid id provided: ".concat(t)},197:()=>"`toggledNodes` must be an array of string ids.",199:()=>"getSelectedNodes and getSelectedRows functions cannot be used with select all functionality with the server-side row model. Use `api.getServerSideSelectionState()` instead.",200:cZ,201:e=>{let{rowModelType:t}=e;return"Could not find row model for rowModelType = ".concat(t)},202:()=>"`getSelectedNodes` and `getSelectedRows` functions cannot be used with `groupSelectsChildren` and the server-side row model. Use `api.getServerSideSelectionState()` instead.",203:()=>"Server Side Row Model does not support Dynamic Row Height and Cache Purging. Either a) remove getRowHeight() callback or b) remove maxBlocksInCache property. Purging has been disabled.",204:()=>"Server Side Row Model does not support Auto Row Height and Cache Purging. Either a) remove colDef.autoHeight or b) remove maxBlocksInCache property. Purging has been disabled.",205:e=>{let{duplicateIdText:t}=e;return"Unable to display rows as duplicate row ids (".concat(t,") were returned by the getRowId callback. Please modify the getRowId callback to provide unique ids.")},206:()=>"getRowId callback must be implemented for transactions to work. Transaction was ignored.",207:()=>'The Set Filter Parameter "defaultToNothingSelected" value was ignored because it does not work when "excelMode" is used.',208:()=>"Set Filter Value Formatter must return string values. Please ensure the Set Filter Value Formatter returns string values for complex objects.",209:()=>"Set Filter Key Creator is returning null for provided values and provided values are primitives. Please provide complex objects. See ".concat(ZN,"/filter-set-filter-list/#filter-value-types"),210:()=>"Set Filter has a Key Creator, but provided values are primitives. Did you mean to provide complex objects?",211:()=>"property treeList=true for Set Filter params, but you did not provide a treeListPathGetter or values of type Date.",212:()=>"please review all your toolPanel components, it seems like at least one of them doesn't have an id",213:()=>"Advanced Filter does not work with Filters Tool Panel. Filters Tool Panel has been disabled.",214:e=>{let{key:t}=e;return"unable to lookup Tool Panel as invalid key supplied: ".concat(t)},215:e=>{let{key:t,defaultByKey:n}=e;return"the key ".concat(t," is not a valid key for specifying a tool panel, valid keys are: ").concat(Object.keys(null!==n&&void 0!==n?n:{}).join(","))},216:e=>{let{name:t}=e;return"Missing component for '".concat(t,"'")},217:e=>{let{invalidColIds:t}=e;return["unable to find grid columns for the supplied colDef(s):",t]},218:e=>{let{property:t,defaultOffset:n}=e;return"".concat(t," must be a number, the value you provided is not a valid number. Using the default of ").concat(n,"px.")},219:e=>{let{property:t}=e;return"Property ".concat(t," does not exist on the target object.")},220:e=>{let{lineDash:t}=e;return"'".concat(t,"' is not a valid 'lineDash' option.")},221:()=>"agAggregationComponent should only be used with the client and server side row model.",222:()=>"agFilteredRowCountComponent should only be used with the client side row model.",223:()=>"agSelectedRowCountComponent should only be used with the client and server side row model.",224:()=>"agTotalAndFilteredRowCountComponent should only be used with the client side row model.",225:()=>"agTotalRowCountComponent should only be used with the client side row model.",226:()=>"viewport is missing init method.",227:()=>"menu item icon must be DOM node or string",228:e=>{let{menuItemOrString:t}=e;return"unrecognised menu item ".concat(t)},229:e=>{let{index:t}=e;return["invalid row index for ensureIndexVisible: ",t]},230:()=>"detailCellRendererParams.template is not supported by AG Grid React. To change the template, provide a Custom Detail Cell Renderer. See https://www.ag-grid.com/react-data-grid/master-detail-custom-detail/",231:()=>"As of v32, using custom components with `reactiveCustomComponents = false` is deprecated.",232:()=>"Using both rowData and v-model. rowData will be ignored.",233:e=>{let{methodName:t}=e;return"Framework component is missing the method ".concat(t,"()")},234:()=>'Group Column Filter does not work with the colDef property "field". This property will be ignored.',235:()=>'Group Column Filter does not work with the colDef property "filterValueGetter". This property will be ignored.',236:()=>'Group Column Filter does not work with the colDef property "filterParams". This property will be ignored.',237:()=>"Group Column Filter does not work with Tree Data enabled. Please disable Tree Data, or use a different filter.",238:()=>"setRowCount can only accept a positive row count.",239:()=>'Theming API and CSS File Themes are both used in the same page. In v33 we released the Theming API as the new default method of styling the grid. See the migration docs https://www.ag-grid.com/react-data-grid/theming-migration/. Because no value was provided to the `theme` grid option it defaulted to themeQuartz. But the file (ag-grid.css) is also included and will cause styling issues. Either pass the string "legacy" to the theme grid option to use v32 style themes, or remove ag-grid.css from the page to use Theming API.',240:e=>{let{theme:t}=e;return'theme grid option must be a Theming API theme object or the string "legacy", received: '.concat(t)},243:()=>"Failed to deserialize state - each provided state object must be an object.",244:()=>"Failed to deserialize state - `selectAllChildren` must be a boolean value or undefined.",245:()=>"Failed to deserialize state - `toggledNodes` must be an array.",246:()=>"Failed to deserialize state - Every `toggledNode` requires an associated string id.",247:()=>"Row selection state could not be parsed due to invalid data. Ensure all child state has toggledNodes or does not conform with the parent rule. \nPlease rebuild the selection state and reapply it.",248:()=>"SetFloatingFilter expects SetFilter as its parent",249:()=>"Must supply a Value Formatter in Set Filter params when using a Key Creator",250:()=>"Must supply a Key Creator in Set Filter params when `treeList = true` on a group column, and Tree Data or Row Grouping is enabled.",251:e=>{let{chartType:t}=e;return"AG Grid: Unable to create chart as an invalid chartType = '".concat(t,"' was supplied.")},252:()=>"cannot get grid to draw rows when it is in the middle of drawing rows. \nYour code probably called a grid API method while the grid was in the render stage. \nTo overcome this, put the API call into a timeout, e.g. instead of api.redrawRows(), call setTimeout(function() { api.redrawRows(); }, 0). \nTo see what part of your code that caused the refresh check this stacktrace.",253:e=>{let{version:t}=e;return["Illegal version string: ",t]},254:()=>"Cannot create chart: no chart themes available.",255:e=>{let{point:t}=e;return"Lone surrogate U+".concat(null===t||void 0===t?void 0:t.toString(16).toUpperCase()," is not a scalar value")},256:()=>"Unable to initialise. See validation error, or load ValidationModule if missing.",257:()=>dZ("IntegratedChartsModule"),258:()=>dZ("SparklinesModule"),259:e=>{let{part:t}=e;return"the argument to theme.withPart must be a Theming API part object, received: ".concat(t)},260:e=>{let{propName:t,compName:n,gridScoped:i,gridId:o,rowModelType:r}=e;return cZ({reasonOrId:"AG Grid '".concat(t,"' component: ").concat(n),moduleName:hY[n],gridId:o,gridScoped:i,rowModelType:r})},261:()=>"As of v33, `column.isHovered()` is deprecated. Use `api.isColumnHovered(column)` instead.",262:()=>'As of v33, icon key "smallDown" is deprecated. Use "advancedFilterBuilderSelect" for Advanced Filter Builder dropdown, "selectOpen" for Select cell editor and dropdowns (e.g. Integrated Charts menu), "richSelectOpen" for Rich Select cell editor.',263:()=>'As of v33, icon key "smallLeft" is deprecated. Use "panelDelimiterRtl" for Row Group Panel / Pivot Panel, "subMenuOpenRtl" for sub-menus.',264:()=>'As of v33, icon key "smallRight" is deprecated. Use "panelDelimiter" for Row Group Panel / Pivot Panel, "subMenuOpen" for sub-menus.',265:e=>{let{colId:t}=e;return"Unable to infer chart data type for column '".concat(t,'\' if first data entry is null. Please specify "chartDataType", or a "cellDataType" in the column definition. For more information, see ').concat(ZN,"/integrated-charts-range-chart#coldefchartdatatype .")},266:()=>'As of v33.1, using "keyCreator" with the Rich Select Editor has been deprecated. It now requires the "formatValue" callback to convert complex data to strings.',267:()=>"Detail grids can not use a different theme to the master grid, the `theme` detail grid option will be ignored.",268:()=>"Transactions aren't supported with tree data when using treeDataChildrenField",269:()=>"When `masterSelects: 'detail'`, detail grids must be configured with multi-row selection",270:e=>{let{id:t,parentId:n}=e;return"Cycle detected for row with id='".concat(t,"' and parent id='").concat(n,"'. Resetting the parent for row with id='").concat(t,"' and showing it as a root-level node.")},271:e=>{let{id:t,parentId:n}=e;return"Parent row not found for row with id='".concat(t,"' and parent id='").concat(n,"'. Showing row with id='").concat(t,"' as a root-level node.")},272:()=>"No AG Grid modules are registered! It is recommended to start with all Community features via the AllCommunityModule:\n                    \n    import { ModuleRegistry, AllCommunityModule } from 'ag-grid-community';\n    \n    ModuleRegistry.registerModules([ AllCommunityModule ]);\n    ",273:e=>{let{providedId:t,usedId:n}=e;return"Provided column id '".concat(t,"' was already in use, ensure all column and group ids are unique. Using '").concat(n,"' instead.")},274:e=>{let{prop:t}=e,n="Since v33, ".concat(t," has been deprecated.");switch(t){case"maxComponentCreationTimeMs":n+=" This property is no longer required and so will be removed in a future version.";break;case"setGridApi":n+=" This method is not called by AG Grid. To access the GridApi see: https://ag-grid.com/react-data-grid/grid-interface/#grid-api ";break;case"children":n+=" For multiple versions AgGridReact does not support children."}return n},275:uZ,276:()=>"Row Numbers Row Resizer cannot be used when Grid Columns have `autoHeight` enabled.",277:e=>{let{colId:t}=e;return"'enableFilterHandlers' is set to true, but column '".concat(t,"' does not have 'filter.doesFilterPass' or 'filter.handler' set.")},278:e=>{let{colId:t}=e;return"Unable to create filter handler for column '".concat(t,"'")},279:e=>{},280:e=>{let{colId:t}=e;return"'name' must be provided for custom filter components for column '".concat(t)},281:e=>{let{colId:t}=e;return"Filter for column '".concat(t,"' does not have 'filterParams.buttons', but the new Filters Tool Panel has buttons configured. Either configure buttons for the filter, or disable buttons on the Filters Tool Panel.")},282:()=>"New filter tool panel requires `enableFilterHandlers: true`.",283:()=>"As of v34, use the same method on the filter handler (`api.getColumnFilterHandler(colKey)`) instead.",284:()=>"As of v34, filters are active when they have a model. Use `api.getColumnFilterModel()` instead.",285:()=>"As of v34, use (`api.getColumnFilterModel()`) instead.",286:()=>"As of v34, use (`api.setColumnFilterModel()`) instead.",287:()=>"`api.doFilterAction()` requires `enableFilterHandlers = true",288:()=>"`api.getColumnFilterModel(key, true)` requires `enableFilterHandlers = true",289:e=>{let{rowModelType:t}=e;return"Row Model '".concat(t,"' is not supported with Batch Editing")},290:e=>{let{rowIndex:t,rowPinned:n}=e;return"Row with index '".concat(t,"' and pinned state '").concat(n,"' not found")}};var pZ={1:"Charting Aggregation",2:"pivotResultFields",3:"setTooltip"},gZ=new WeakMap,mZ=new WeakMap;var vZ=1,fZ=class{create(e,t,n,i,o,r){var s;const a=tL.applyGlobalGridOptions(t),l=null!==(s=a.gridId)&&void 0!==s?s:String(vZ++),u=this.getRegisteredModules(o,l,a.rowModelType),c=this.createBeansList(a.rowModelType,u,l),d=this.createProvidedBeans(e,a,o);if(!c)return;const h=new xz({providedBeanInstances:d,beanClasses:c,gridId:l,beanInitComparator:vU,beanDestroyComparator:fU,derivedBeans:[gU],destroyCallback:()=>{mZ.delete(p),gZ.delete(e),null===r||void 0===r||r()}});this.registerModuleFeatures(h,u),n(h),h.getBean("syncSvc").start(),null===i||void 0===i||i(h);const p=h.getBean("gridApi");return gZ.set(e,p),mZ.set(p,e),p}getRegisteredModules(e,t,n){var i;return vz(tZ,void 0,!0),null===e||void 0===e||null===(i=e.modules)||void 0===i||i.forEach(e=>vz(e,t)),function(e,t){var n,i,o,r,s;const a=null!==(n=dz[e])&&void 0!==n?n:{};return[...Object.values(null!==(i=cz.all)&&void 0!==i?i:{}),...Object.values(null!==(o=a.all)&&void 0!==o?o:{}),...Object.values(null!==(r=cz[t])&&void 0!==r?r:{}),...Object.values(null!==(s=a[t])&&void 0!==s?s:{})]}(t,wZ(n))}registerModuleFeatures(e,t){const n=e.getBean("registry"),i=e.getBean("apiFunctionSvc");t.forEach(e=>{n.registerModule(e);const t=e.apiFunctions;if(t){Object.keys(t).forEach(e=>{null===i||void 0===i||i.addFunction(e,t[e])})}})}createProvidedBeans(e,t,n){let i=n?n.frameworkOverrides:null;KI(i)&&(i=new pU);const o={gridOptions:t,eGridDiv:e,globalListener:n?n.globalListener:null,globalSyncListener:n?n.globalSyncListener:null,frameworkOverrides:i};return n&&n.providedBeanInstances&&Object.assign(o,n.providedBeanInstances),o}createBeansList(e,t,n){const i={clientSide:"ClientSideRowModel",infinite:"InfiniteRowModel",serverSide:"ServerSideRowModel",viewport:"ViewportRowModel"},o=wZ(e),r=i[o];if(!r)return void rB(201,{rowModelType:o},"Unknown rowModelType ".concat(o,"."));if(!hz)return void rB(272,void 0,"No AG Grid modules are registered! It is recommended to start with all Community features via the AllCommunityModule:\n                    \n    import { ModuleRegistry, AllCommunityModule } from 'ag-grid-community';\n    \n    ModuleRegistry.registerModules([ AllCommunityModule ]);\n    ");if(!e){const e=Object.entries(i).filter(e=>{let[t,i]=e;return fz(i,n,t)});if(1==e.length){const[t,n]=e[0];if(t!==o){const e={moduleName:n,rowModelType:t};return void rB(275,e,uZ(e))}}}if(!fz(r,n,o))return void rB(200,{reasonOrId:"rowModelType = '".concat(o,"'"),moduleName:r,gridScoped:wz(),gridId:n,rowModelType:o},"Missing module ".concat(r,"Module for rowModelType ").concat(o,"."));const s=new Set;return t.forEach(e=>{var t;return null===(t=e.beans)||void 0===t?void 0:t.forEach(e=>s.add(e))}),Array.from(s)}};function wZ(e){return null!==e&&void 0!==e?e:"clientSide"}function CZ(e){const t=e.rowModel;return"clientSide"===t.getType()?t:void 0}function bZ(e){const t=e.rowModel;return"infinite"===t.getType()?t:void 0}function yZ(e){const t=e.rowModel;return"serverSide"===t.getType()?t:void 0}function SZ(e){const t=[];return e.forEach(e=>{let{groupId:n,open:i}=e;i&&t.push(n)}),t.length?{openColumnGroupIds:t}:void 0}var xZ,DZ=class{wrap(e,t,n,i){const o=this.createWrapper(e,i);return null===t||void 0===t||t.forEach(e=>{this.createMethod(o,e,!0)}),null===n||void 0===n||n.forEach(e=>{this.createMethod(o,e,!1)}),o}createMethod(e,t,n){e.addMethod(t,this.createMethodProxy(e,t,n))}createMethodProxy(e,t,n){return function(){return e.hasMethod(t)?e.callMethod(t,arguments):(n&&iB(49,{methodName:t}),null)}}},EZ={tag:"div",cls:"ag-tooltip"},FZ=!1,kZ=class extends vO{constructor(e,t){super(),this.tooltipCtrl=e,this.getTooltipValue=t,this.interactionEnabled=!1,this.isInteractingWithTooltip=!1,this.state=0,this.tooltipInstanceCount=0,this.tooltipMouseTrack=!1}wireBeans(e){this.popupSvc=e.popupSvc,this.userCompFactory=e.userCompFactory}postConstruct(){this.gos.get("tooltipInteraction")&&(this.interactionEnabled=!0),this.tooltipTrigger=this.getTooltipTrigger(),this.tooltipMouseTrack=this.gos.get("tooltipMouseTrack");const e=this.tooltipCtrl.getGui();0===this.tooltipTrigger&&this.addManagedListeners(e,{mouseenter:this.onMouseEnter.bind(this),mouseleave:this.onMouseLeave.bind(this)}),1===this.tooltipTrigger&&this.addManagedListeners(e,{focusin:this.onFocusIn.bind(this),focusout:this.onFocusOut.bind(this)}),this.addManagedListeners(e,{mousemove:this.onMouseMove.bind(this)}),this.interactionEnabled||this.addManagedListeners(e,{mousedown:this.onMouseDown.bind(this),keydown:this.onKeyDown.bind(this)})}getGridOptionsTooltipDelay(e){const t=this.gos.get(e);return Math.max(200,t)}getTooltipDelay(e){var t,n,i,o,r,s;return"show"===e?null!==(o=null===(r=(s=this.tooltipCtrl).getTooltipShowDelayOverride)||void 0===r?void 0:r.call(s))&&void 0!==o?o:this.getGridOptionsTooltipDelay("tooltipShowDelay"):null!==(t=null===(n=(i=this.tooltipCtrl).getTooltipHideDelayOverride)||void 0===n?void 0:n.call(i))&&void 0!==t?t:this.getGridOptionsTooltipDelay("tooltipHideDelay")}destroy(){this.setToDoNothing(),super.destroy()}getTooltipTrigger(){const e=this.gos.get("tooltipTrigger");return e&&"hover"!==e?1:0}onMouseEnter(e){this.interactionEnabled&&this.interactiveTooltipTimeoutId&&(this.unlockService(),this.startHideTimeout()),WL()||(FZ?this.showTooltipTimeoutId=window.setTimeout(()=>{this.prepareToShowTooltip(e)},100):this.prepareToShowTooltip(e))}onMouseMove(e){this.lastMouseEvent&&(this.lastMouseEvent=e),this.tooltipMouseTrack&&2===this.state&&this.tooltipComp&&this.positionTooltip()}onMouseDown(){this.setToDoNothing()}onMouseLeave(){this.interactionEnabled?this.lockService():this.setToDoNothing()}onFocusIn(){this.prepareToShowTooltip()}onFocusOut(e){var t;const n=e.relatedTarget,i=this.tooltipCtrl.getGui(),o=null===(t=this.tooltipComp)||void 0===t?void 0:t.getGui();this.isInteractingWithTooltip||i.contains(n)||this.interactionEnabled&&null!==o&&void 0!==o&&o.contains(n)||this.setToDoNothing()}onKeyDown(){this.isInteractingWithTooltip&&(this.isInteractingWithTooltip=!1),this.setToDoNothing()}prepareToShowTooltip(e){if(0!=this.state||FZ)return;let t=0;e&&(t=this.isLastTooltipHiddenRecently()?200:this.getTooltipDelay("show")),this.lastMouseEvent=e||null,this.showTooltipTimeoutId=window.setTimeout(this.showTooltip.bind(this),t),this.state=1}isLastTooltipHiddenRecently(){return Date.now()-xZ<1e3}setToDoNothing(e){e||2!==this.state||this.hideTooltip(),this.onBodyScrollEventCallback&&(this.onBodyScrollEventCallback(),this.onBodyScrollEventCallback=void 0),this.onColumnMovedEventCallback&&(this.onColumnMovedEventCallback(),this.onColumnMovedEventCallback=void 0),this.onDocumentKeyDownCallback&&(this.onDocumentKeyDownCallback(),this.onDocumentKeyDownCallback=void 0),this.clearTimeouts(),this.state=0,this.lastMouseEvent=null}showTooltip(){var e,t,n,i,o,r,s,a,l;const u=this.getTooltipValue(),c=this.tooltipCtrl;if(!UI(u)||c.shouldDisplayTooltip&&!c.shouldDisplayTooltip())return void this.setToDoNothing();const h=null===(e=c.getRowNode)||void 0===e?void 0:e.call(c),p=iO(this.gos,d({location:null!==(t=null===(n=c.getLocation)||void 0===n?void 0:n.call(c))&&void 0!==t?t:"UNKNOWN",colDef:null===(i=c.getColDef)||void 0===i?void 0:i.call(c),column:null===(o=c.getColumn)||void 0===o?void 0:o.call(c),rowIndex:null===(r=c.getRowIndex)||void 0===r?void 0:r.call(c),node:h,data:null===h||void 0===h?void 0:h.data,value:u,valueFormatted:null===(s=c.getValueFormatted)||void 0===s?void 0:s.call(c),hideTooltipCallback:()=>this.hideTooltip(!0)},null!==(a=null===(l=c.getAdditionalParams)||void 0===l?void 0:l.call(c))&&void 0!==a?a:{}));this.state=2,this.tooltipInstanceCount++;const g=this.newTooltipComponentCallback.bind(this,this.tooltipInstanceCount),m=function(e,t){return e.getCompDetails(t.colDef,UG,"agTooltipComponent",t,!0)}(this.userCompFactory,p);null===m||void 0===m||m.newAgStackInstance().then(g)}hideTooltip(e){!e&&this.isInteractingWithTooltip||(this.tooltipComp&&(this.destroyTooltipComp(),xZ=Date.now()),this.eventSvc.dispatchEvent({type:"tooltipHide",parentGui:this.tooltipCtrl.getGui()}),e&&(this.isInteractingWithTooltip=!1),this.setToDoNothing(!0))}newTooltipComponentCallback(e,t){var n;if(2!==this.state||this.tooltipInstanceCount!==e)return void this.destroyBean(t);const i=t.getGui();this.tooltipComp=t,i.classList.contains("ag-tooltip")||i.classList.add("ag-tooltip-custom"),0===this.tooltipTrigger&&i.classList.add("ag-tooltip-animate"),this.interactionEnabled&&i.classList.add("ag-tooltip-interactive");const o=this.getLocaleTextFunc(),r=null===(n=this.popupSvc)||void 0===n?void 0:n.addPopup({eChild:i,ariaLabel:o("ariaLabelTooltip","Tooltip")});if(r&&(this.tooltipPopupDestroyFunc=r.hideFunc),this.positionTooltip(),1===this.tooltipTrigger){const e=()=>this.setToDoNothing();[this.onBodyScrollEventCallback,this.onColumnMovedEventCallback]=this.addManagedEventListeners({bodyScroll:e,columnMoved:e})}this.interactionEnabled&&([this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener]=this.addManagedElementListeners(i,{mouseenter:this.onTooltipMouseEnter.bind(this),mouseleave:this.onTooltipMouseLeave.bind(this)}),[this.onDocumentKeyDownCallback]=this.addManagedElementListeners(CB(this.beans),{keydown:e=>{i.contains(null===e||void 0===e?void 0:e.target)||this.onKeyDown()}}),1===this.tooltipTrigger&&([this.tooltipFocusInListener,this.tooltipFocusOutListener]=this.addManagedElementListeners(i,{focusin:this.onTooltipFocusIn.bind(this),focusout:this.onTooltipFocusOut.bind(this)}))),this.eventSvc.dispatchEvent({type:"tooltipShow",tooltipGui:i,parentGui:this.tooltipCtrl.getGui()}),this.startHideTimeout()}onTooltipMouseEnter(){this.isInteractingWithTooltip=!0,this.unlockService()}onTooltipMouseLeave(){this.isTooltipFocused()||(this.isInteractingWithTooltip=!1,this.lockService())}onTooltipFocusIn(){this.isInteractingWithTooltip=!0}isTooltipFocused(){var e;const t=null===(e=this.tooltipComp)||void 0===e?void 0:e.getGui(),n=SB(this.beans);return!!t&&t.contains(n)}onTooltipFocusOut(e){const t=this.tooltipCtrl.getGui();this.isTooltipFocused()||(this.isInteractingWithTooltip=!1,t.contains(e.relatedTarget)?this.startHideTimeout():this.hideTooltip())}positionTooltip(){const e={type:"tooltip",ePopup:this.tooltipComp.getGui(),nudgeY:18,skipObserver:this.tooltipMouseTrack};var t,n;this.lastMouseEvent?null===(t=this.popupSvc)||void 0===t||t.positionPopupUnderMouseEvent(d(d({},e),{},{mouseEvent:this.lastMouseEvent})):null===(n=this.popupSvc)||void 0===n||n.positionPopupByComponent(d(d({},e),{},{eventSource:this.tooltipCtrl.getGui(),position:"under",keepWithinBounds:!0,nudgeY:5}))}destroyTooltipComp(){this.tooltipComp.getGui().classList.add("ag-tooltip-hiding");const e=this.tooltipPopupDestroyFunc,t=this.tooltipComp,n=0===this.tooltipTrigger?1e3:0;window.setTimeout(()=>{e(),this.destroyBean(t)},n),this.clearTooltipListeners(),this.tooltipPopupDestroyFunc=void 0,this.tooltipComp=void 0}clearTooltipListeners(){[this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener,this.tooltipFocusInListener,this.tooltipFocusOutListener].forEach(e=>{e&&e()}),this.tooltipMouseEnterListener=this.tooltipMouseLeaveListener=this.tooltipFocusInListener=this.tooltipFocusOutListener=null}lockService(){FZ=!0,this.interactiveTooltipTimeoutId=window.setTimeout(()=>{this.unlockService(),this.setToDoNothing()},100)}unlockService(){FZ=!1,this.clearInteractiveTimeout()}startHideTimeout(){this.clearHideTimeout(),this.hideTooltipTimeoutId=window.setTimeout(this.hideTooltip.bind(this),this.getTooltipDelay("hide"))}clearShowTimeout(){this.showTooltipTimeoutId&&(window.clearTimeout(this.showTooltipTimeoutId),this.showTooltipTimeoutId=void 0)}clearHideTimeout(){this.hideTooltipTimeoutId&&(window.clearTimeout(this.hideTooltipTimeoutId),this.hideTooltipTimeoutId=void 0)}clearInteractiveTimeout(){this.interactiveTooltipTimeoutId&&(window.clearTimeout(this.interactiveTooltipTimeoutId),this.interactiveTooltipTimeoutId=void 0)}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout(),this.clearInteractiveTimeout()}};function AZ(e){return"whenTruncated"===e.get("tooltipShowMode")}function RZ(e,t){return AZ(e)?wN(t):void 0}function PZ(e,t){if("number"!==typeof e)return"";const n=t(),i=n("thousandSeparator",","),o=n("decimalSeparator",".");return e.toString().replace(".",o).replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1".concat(i))}var TZ=class extends vO{getFileName(e){const t=this.getDefaultFileExtension();return null!=e&&e.length||(e=this.getDefaultFileName()),-1===e.indexOf(".")?"".concat(e,".").concat(t):e}getData(e){const t=this.createSerializingSession(e);return this.beans.gridSerializer.serialize(t,e)}getDefaultFileName(){return"export.".concat(this.getDefaultFileExtension())}},_Z=class{constructor(e){const{colModel:t,rowGroupColsSvc:n,colNames:i,valueSvc:o,gos:r,processCellCallback:s,processHeaderCallback:a,processGroupHeaderCallback:l,processRowGroupCallback:u}=e;this.colModel=t,this.rowGroupColsSvc=n,this.colNames=i,this.valueSvc=o,this.gos=r,this.processCellCallback=s,this.processHeaderCallback=a,this.processGroupHeaderCallback=l,this.processRowGroupCallback=u}prepare(e){}extractHeaderValue(e){const t=this.getHeaderName(this.processHeaderCallback,e);return null!==t&&void 0!==t?t:""}extractRowCellValue(e,t,n,i,o){var r,s;const a=0===t&&IB(this.gos,o,this.colModel.isPivotMode());var l,u;if(this.processRowGroupCallback&&(this.gos.get("treeData")||o.group)&&(e.isRowGroupDisplayed(null!==(r=null===(s=o.rowGroupColumn)||void 0===s?void 0:s.getColId())&&void 0!==r?r:"")||a))return{value:null!==(l=this.processRowGroupCallback(iO(this.gos,{column:e,node:o})))&&void 0!==l?l:""};if(this.processCellCallback)return{value:null!==(u=this.processCellCallback(iO(this.gos,{accumulatedRowIndex:n,column:e,node:o,value:this.valueSvc.getValueForDisplay(e,o,void 0,void 0).value,type:i,parseValue:t=>this.valueSvc.parseValue(e,o,t,this.valueSvc.getValue(e,o,void 0)),formatValue:t=>{var n;return null!==(n=this.valueSvc.formatValue(e,o,t))&&void 0!==n?n:t}})))&&void 0!==u?u:""};const c=this.gos.get("treeData"),d=this.valueSvc,h=-1===o.level&&o.footer,p=!0===e.colDef.showRowGroup&&(o.group||c);if(!h&&(a||p)){let t="",n=o;for(;n&&-1!==n.level;){var g;const{value:i,valueFormatted:o}=d.getValueForDisplay(a?void 0:e,n,!0,!0);t=" -> ".concat(null!==(g=null!==o&&void 0!==o?o:i)&&void 0!==g?g:"").concat(t),n=n.parent}return{value:t,valueFormatted:t}}const{value:m,valueFormatted:v}=d.getValueForDisplay(e,o,!0,!0);return{value:null!==m&&void 0!==m?m:"",valueFormatted:v}}getHeaderName(e,t){return e?e(iO(this.gos,{column:t})):this.colNames.getDisplayNameForColumn(t,"csv",!0)}};function MZ(e,t){const n=document.defaultView||window;if(!n)return void iB(52);const i=document.createElement("a"),o=n.URL.createObjectURL(t);i.setAttribute("href",o),i.setAttribute("download",e),i.style.display="none",document.body.appendChild(i),i.dispatchEvent(new MouseEvent("click",{bubbles:!1,cancelable:!0,view:n})),document.body.removeChild(i),n.setTimeout(()=>{n.URL.revokeObjectURL(o)},0)}var IZ={enableBrowserTooltips:!0,tooltipTrigger:!0,tooltipMouseTrack:!0,tooltipShowMode:!0,tooltipInteraction:!0,defaultColGroupDef:!0,suppressAutoSize:!0,skipHeaderOnAutoSize:!0,autoSizeStrategy:!0,components:!0,stopEditingWhenCellsLoseFocus:!0,undoRedoCellEditing:!0,undoRedoCellEditingLimit:!0,excelStyles:!0,cacheQuickFilter:!0,customChartThemes:!0,chartThemeOverrides:!0,chartToolPanelsDef:!0,loadingCellRendererSelector:!0,localeText:!0,keepDetailRows:!0,keepDetailRowsCount:!0,detailRowHeight:!0,detailRowAutoHeight:!0,tabIndex:!0,valueCache:!0,valueCacheNeverExpires:!0,enableCellExpressions:!0,suppressTouch:!0,suppressBrowserResizeObserver:!0,suppressPropertyNamesCheck:!0,debug:!0,dragAndDropImageComponent:!0,loadingOverlayComponent:!0,suppressLoadingOverlay:!0,noRowsOverlayComponent:!0,paginationPageSizeSelector:!0,paginateChildRows:!0,pivotPanelShow:!0,pivotSuppressAutoColumn:!0,suppressExpandablePivotGroups:!0,aggFuncs:!0,allowShowChangeAfterFilter:!0,ensureDomOrder:!0,enableRtl:!0,suppressColumnVirtualisation:!0,suppressMaxRenderedRowRestriction:!0,suppressRowVirtualisation:!0,rowDragText:!0,groupLockGroupColumns:!0,suppressGroupRowsSticky:!0,rowModelType:!0,cacheOverflowSize:!0,infiniteInitialRowCount:!0,serverSideInitialRowCount:!0,maxBlocksInCache:!0,maxConcurrentDatasourceRequests:!0,blockLoadDebounceMillis:!0,serverSideOnlyRefreshFilteredGroups:!0,serverSidePivotResultFieldSeparator:!0,viewportRowModelPageSize:!0,viewportRowModelBufferSize:!0,debounceVerticalScrollbar:!0,suppressAnimationFrame:!0,suppressPreventDefaultOnMouseWheel:!0,scrollbarWidth:!0,icons:!0,suppressRowTransform:!0,gridId:!0,enableGroupEdit:!0,initialState:!0,processUnpinnedColumns:!0,createChartContainer:!0,getLocaleText:!0,getRowId:!0,reactiveCustomComponents:!0,renderingMode:!0,columnMenu:!0,suppressSetFilterByDefault:!0,getDataPath:!0,enableCellSpan:!0,enableFilterHandlers:!0,filterHandlers:!0},LZ="clientSide",NZ="serverSide",BZ="infinite",OZ={onGroupExpandedOrCollapsed:[LZ],refreshClientSideRowModel:[LZ],isRowDataEmpty:[LZ],forEachLeafNode:[LZ],forEachNodeAfterFilter:[LZ],forEachNodeAfterFilterAndSort:[LZ],resetRowHeights:[LZ],applyTransaction:[LZ],applyTransactionAsync:[LZ],flushAsyncTransactions:[LZ],getBestCostNodeSelection:[LZ],getServerSideSelectionState:[NZ],setServerSideSelectionState:[NZ],applyServerSideTransaction:[NZ],applyServerSideTransactionAsync:[NZ],applyServerSideRowData:[NZ],retryServerSideLoads:[NZ],flushServerSideAsyncTransactions:[NZ],refreshServerSide:[NZ],getServerSideGroupLevelState:[NZ],refreshInfiniteCache:[BZ],purgeInfiniteCache:[BZ],getInfiniteRowCount:[BZ],isLastRowIndexKnown:[BZ,NZ],expandAll:[LZ,NZ],collapseAll:[LZ,NZ],onRowHeightChanged:[LZ,NZ],setRowCount:[BZ,NZ],getCacheBlockState:[BZ,NZ]},GZ={showLoadingOverlay:{version:"v32",message:'`showLoadingOverlay` is deprecated. Use the grid option "loading"=true instead or setGridOption("loading", true).'},clearRangeSelection:{version:"v32.2",message:"Use `clearCellSelection` instead."},getInfiniteRowCount:{version:"v32.2",old:"getInfiniteRowCount()",new:"getDisplayedRowCount()"},selectAllFiltered:{version:"v33",old:"selectAllFiltered()",new:'selectAll("filtered")'},deselectAllFiltered:{version:"v33",old:"deselectAllFiltered()",new:'deselectAll("filtered")'},selectAllOnCurrentPage:{version:"v33",old:"selectAllOnCurrentPage()",new:'selectAll("currentPage")'},deselectAllOnCurrentPage:{version:"v33",old:"deselectAllOnCurrentPage()",new:'deselectAll("currentPage")'}};var zZ={detailCellRendererCtrl:"SharedMasterDetail",dndSourceComp:"DragAndDrop",fillHandle:"CellSelection",groupCellRendererCtrl:"GroupCellRenderer",headerFilterCellCtrl:"ColumnFilter",headerGroupCellCtrl:"ColumnGroup",rangeHandle:"CellSelection",tooltipFeature:"Tooltip",groupStrategy:"RowGrouping",treeGroupStrategy:"TreeData",rowNumberRowResizer:"RowNumbers",singleCell:"EditCore",fullRow:"EditCore",agSetColumnFilterHandler:"SetFilter",agMultiColumnFilterHandler:"MultiFilter",agGroupColumnFilterHandler:"GroupFilter",agNumberColumnFilterHandler:"NumberFilter",agDateColumnFilterHandler:"DateFilter",agTextColumnFilterHandler:"TextFilter"},VZ={expanded:1,contracted:1,"tree-closed":1,"tree-open":1,"tree-indeterminate":1,pin:1,"eye-slash":1,arrows:1,left:1,right:1,group:1,aggregation:1,pivot:1,"not-allowed":1,chart:1,cross:1,cancel:1,tick:1,first:1,previous:1,next:1,last:1,linked:1,unlinked:1,"color-picker":1,loading:1,menu:1,"menu-alt":1,filter:1,"filter-add":1,columns:1,maximize:1,minimize:1,copy:1,cut:1,paste:1,grip:1,save:1,csv:1,excel:1,"small-down":1,"small-left":1,"small-right":1,"small-up":1,asc:1,desc:1,none:1,up:1,down:1,plus:1,minus:1,settings:1,"checkbox-checked":1,"checkbox-indeterminate":1,"checkbox-unchecked":1,"radio-button-on":1,"radio-button-off":1,eye:1,"column-arrow":1,"un-pin":1,"pinned-top":1,"pinned-bottom":1,"chevron-up":1,"chevron-down":1,"chevron-left":1,"chevron-right":1,edit:1},HZ={chart:"MenuCore",cancel:"EnterpriseCore",first:"Pagination",previous:"Pagination",next:"Pagination",last:"Pagination",linked:"IntegratedCharts",loadingMenuItems:"MenuCore",unlinked:"IntegratedCharts",menu:"ColumnHeaderComp",legacyMenu:"ColumnMenu",filter:"ColumnFilter",filterActive:"ColumnFilter",filterAdd:"NewFiltersToolPanel",filterCardCollapse:"NewFiltersToolPanel",filterCardExpand:"NewFiltersToolPanel",filterCardEditing:"NewFiltersToolPanel",filterTab:"ColumnMenu",filtersToolPanel:"FiltersToolPanel",columns:["MenuCore"],columnsToolPanel:["ColumnsToolPanel"],maximize:"EnterpriseCore",minimize:"EnterpriseCore",save:"MenuCore",columnGroupOpened:"ColumnGroupHeaderComp",columnGroupClosed:"ColumnGroupHeaderComp",accordionOpen:"EnterpriseCore",accordionClosed:"EnterpriseCore",accordionIndeterminate:"EnterpriseCore",columnSelectClosed:["ColumnsToolPanel","ColumnMenu"],columnSelectOpen:["ColumnsToolPanel","ColumnMenu"],columnSelectIndeterminate:["ColumnsToolPanel","ColumnMenu"],columnMovePin:"SharedDragAndDrop",columnMoveHide:"SharedDragAndDrop",columnMoveMove:"SharedDragAndDrop",columnMoveLeft:"SharedDragAndDrop",columnMoveRight:"SharedDragAndDrop",columnMoveGroup:"SharedDragAndDrop",columnMoveValue:"SharedDragAndDrop",columnMovePivot:"SharedDragAndDrop",dropNotAllowed:"SharedDragAndDrop",ensureColumnVisible:["ColumnsToolPanel","ColumnMenu"],groupContracted:"GroupCellRenderer",groupExpanded:"GroupCellRenderer",setFilterGroupClosed:"SetFilter",setFilterGroupOpen:"SetFilter",setFilterGroupIndeterminate:"SetFilter",setFilterLoading:"SetFilter",close:"EnterpriseCore",check:"MenuItem",colorPicker:"CommunityCore",groupLoading:"LoadingCellRenderer",menuAlt:"ColumnHeaderComp",menuPin:"MenuCore",menuValue:"MenuCore",menuAddRowGroup:["MenuCore","ColumnsToolPanel"],menuRemoveRowGroup:["MenuCore","ColumnsToolPanel"],clipboardCopy:"MenuCore",clipboardCut:"MenuCore",clipboardPaste:"MenuCore",pivotPanel:["ColumnsToolPanel","RowGroupingPanel"],rowGroupPanel:["ColumnsToolPanel","RowGroupingPanel"],valuePanel:"ColumnsToolPanel",columnDrag:"EnterpriseCore",rowDrag:["RowDrag","DragAndDrop"],csvExport:"MenuCore",excelExport:"MenuCore",smallDown:"CommunityCore",selectOpen:"CommunityCore",richSelectOpen:"RichSelect",richSelectRemove:"RichSelect",smallLeft:"CommunityCore",smallRight:"CommunityCore",subMenuOpen:"MenuItem",subMenuOpenRtl:"MenuItem",panelDelimiter:"RowGroupingPanel",panelDelimiterRtl:"RowGroupingPanel",smallUp:"CommunityCore",sortAscending:["MenuCore","Sort"],sortDescending:["MenuCore","Sort"],sortUnSort:["MenuCore","Sort"],advancedFilterBuilder:"AdvancedFilter",advancedFilterBuilderDrag:"AdvancedFilter",advancedFilterBuilderInvalid:"AdvancedFilter",advancedFilterBuilderMoveUp:"AdvancedFilter",advancedFilterBuilderMoveDown:"AdvancedFilter",advancedFilterBuilderAdd:"AdvancedFilter",advancedFilterBuilderRemove:"AdvancedFilter",advancedFilterBuilderSelectOpen:"AdvancedFilter",chartsMenu:"IntegratedCharts",chartsMenuEdit:"IntegratedCharts",chartsMenuAdvancedSettings:"IntegratedCharts",chartsMenuAdd:"IntegratedCharts",chartsColorPicker:"IntegratedCharts",chartsThemePrevious:"IntegratedCharts",chartsThemeNext:"IntegratedCharts",chartsDownload:"IntegratedCharts",checkboxChecked:"CommunityCore",checkboxIndeterminate:"CommunityCore",checkboxUnchecked:"CommunityCore",radioButtonOn:"CommunityCore",radioButtonOff:"CommunityCore",rowPin:"PinnedRow",rowUnpin:"PinnedRow",rowPinBottom:"PinnedRow",rowPinTop:"PinnedRow"},jZ=new Set(["colorPicker","smallUp","checkboxChecked","checkboxIndeterminate","checkboxUnchecked","radioButtonOn","radioButtonOff","smallDown","smallLeft","smallRight"]);var WZ=new Set(["firstChildChanged","lastChildChanged","childIndexChanged"]),UZ={moduleName:"Validation",version:KN,beans:[class extends vO{constructor(){super(...arguments),this.beanName="validation"}wireBeans(e){this.gridOptions=e.gridOptions,YN=this}warnOnInitialPropertyUpdate(e,t){"api"===e&&IZ[t]&&iB(22,{key:t})}processGridOptions(e){this.processOptions(e,{objectName:"gridOptions",allProperties:[...wY,...fY,...vY,...CY,...xY,...SY,...yY,...bY,...Object.values(sY)],propertyExceptions:["api"],docsUrl:"grid-options/",deprecations:{suppressLoadingOverlay:{version:"32",message:"Use `loading`=false instead."},enableFillHandle:{version:"32.2",message:"Use `cellSelection.handle` instead."},enableRangeHandle:{version:"32.2",message:"Use `cellSelection.handle` instead."},enableRangeSelection:{version:"32.2",message:"Use `cellSelection = true` instead."},suppressMultiRangeSelection:{version:"32.2",message:"Use `cellSelection.suppressMultiRanges` instead."},suppressClearOnFillReduction:{version:"32.2",message:"Use `cellSelection.handle.suppressClearOnFillReduction` instead."},fillHandleDirection:{version:"32.2",message:"Use `cellSelection.handle.direction` instead."},fillOperation:{version:"32.2",message:"Use `cellSelection.handle.setFillValue` instead."},suppressRowClickSelection:{version:"32.2",message:"Use `rowSelection.enableClickSelection` instead."},suppressRowDeselection:{version:"32.2",message:"Use `rowSelection.enableClickSelection` instead."},rowMultiSelectWithClick:{version:"32.2",message:"Use `rowSelection.enableSelectionWithoutKeys` instead."},groupSelectsChildren:{version:"32.2",message:'Use `rowSelection.groupSelects = "descendants"` instead.'},groupSelectsFiltered:{version:"32.2",message:'Use `rowSelection.groupSelects = "filteredDescendants"` instead.'},isRowSelectable:{version:"32.2",message:"Use `selectionOptions.isRowSelectable` instead."},suppressCopySingleCellRanges:{version:"32.2",message:"Use `rowSelection.copySelectedRows` instead."},suppressCopyRowsToClipboard:{version:"32.2",message:"Use `rowSelection.copySelectedRows` instead."},onRangeSelectionChanged:{version:"32.2",message:"Use `onCellSelectionChanged` instead."},onRangeDeleteStart:{version:"32.2",message:"Use `onCellSelectionDeleteStart` instead."},onRangeDeleteEnd:{version:"32.2",message:"Use `onCellSelectionDeleteEnd` instead."},suppressBrowserResizeObserver:{version:"32.2",message:"The grid always uses the browser's ResizeObserver, this grid option has no effect."},onColumnEverythingChanged:{version:"32.2",message:"Either use `onDisplayedColumnsChanged` which is fired at the same time, or use one of the more specific column events."},groupRemoveSingleChildren:{version:"33",message:"Use `groupHideParentOfSingleChild` instead."},groupRemoveLowestSingleChildren:{version:"33",message:'Use `groupHideParentOfSingleChild: "leafGroupsOnly"` instead.'},suppressRowGroupHidesColumns:{version:"33",message:'Use `suppressGroupChangesColumnVisibility: "suppressHideOnGroup"` instead.'},suppressMakeColumnVisibleAfterUnGroup:{version:"33",message:'Use `suppressGroupChangesColumnVisibility: "suppressShowOnUngroup"` instead.'},unSortIcon:{version:"33",message:"Use `defaultColDef.unSortIcon` instead."},sortingOrder:{version:"33",message:"Use `defaultColDef.sortingOrder` instead."},suppressPropertyNamesCheck:{version:"33",message:"`gridOptions` and `columnDefs` both have a `context` property that should be used for arbitrary user data. This means that column definitions and gridOptions should only contain valid properties making this property redundant."},suppressAdvancedFilterEval:{version:"34",message:"Advanced filter no longer uses function evaluation, so this option has no effect."}},validations:FY()})}validateApiFunction(e,t){return function(e,t,n){const i=GZ[e];if(i){const{version:n,new:o,old:r,message:s}=i,a=null!==r&&void 0!==r?r:e;return function(){const e=o?"Please use ".concat(o," instead. "):"";BN("Since ".concat(n," api.").concat(a," is deprecated. ").concat(e).concat(null!==s&&void 0!==s?s:""));for(var i=arguments.length,r=new Array(i),l=0;l<i;l++)r[l]=arguments[l];return t.apply(t,r)}}const o=OZ[e];return o?function(){const i=n.rowModel.getType();if(o.includes(i)){for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return t.apply(t,s)}ON("api.".concat(e," can only be called when gridOptions.rowModelType is ").concat(o.join(" or ")))}:t}(e,t,this.beans)}missingUserComponent(e,t,n,i){const o=hY[t];o?this.gos.assertModuleRegistered(o,"AG Grid '".concat(e,"' component: ").concat(t)):iB(101,{propertyName:e,componentName:t,agGridDefaults:n,jsComps:i})}missingDynamicBean(e){const t=zZ[e];return t?aB(200,d(d({},this.gos.getModuleErrorParams()),{},{moduleName:t,reasonOrId:e})):void 0}checkRowEvents(e){WZ.has(e)&&iB(10,{eventType:e})}validateIcon(e){if(jZ.has(e)&&iB(43,{iconName:e}),VZ[e])return;const t=HZ[e];t?oB(200,{reasonOrId:"icon '".concat(e,"'"),moduleName:t,gridScoped:wz(),gridId:this.beans.context.getGridId(),rowModelType:this.gos.get("rowModelType"),additionalText:"Alternatively, use the CSS icon name directly."}):iB(134,{iconName:e})}isProvidedUserComp(e){return!!hY[e]}validateColDef(e){this.processOptions(e,{objectName:"colDef",allProperties:Object.keys(mY),docsUrl:"column-properties/",deprecations:{checkboxSelection:{version:"32.2",message:"Use `rowSelection.checkboxes` in `GridOptions` instead."},headerCheckboxSelection:{version:"32.2",message:"Use `rowSelection.headerCheckbox = true` in `GridOptions` instead."},headerCheckboxSelectionFilteredOnly:{version:"32.2",message:'Use `rowSelection.selectAll = "filtered"` in `GridOptions` instead.'},headerCheckboxSelectionCurrentPageOnly:{version:"32.2",message:'Use `rowSelection.selectAll = "currentPage"` in `GridOptions` instead.'},showDisabledCheckboxes:{version:"32.2",message:"Use `rowSelection.hideDisabledCheckboxes = true` in `GridOptions` instead."}},validations:gY()})}processOptions(e,t){const{validations:n,deprecations:i,allProperties:o,propertyExceptions:r,objectName:s,docsUrl:a}=t;o&&!0!==this.gridOptions.suppressPropertyNamesCheck&&this.checkProperties(e,[...null!==r&&void 0!==r?r:[],...Object.keys(i)],o,s,a);const l=new Set;Object.keys(e).forEach(t=>{const o=i[t];if(o){const{message:e,version:n}=o;l.add("As of v".concat(n,", ").concat(String(t)," is deprecated. ").concat(null!==e&&void 0!==e?e:""))}const r=e[t];if(null==r||!1===r)return;const s=n[t];if(!s)return;const{dependencies:a,validate:u,supportedRowModels:c,expectedType:d}=s;if(d){const e=typeof r;if(e!==d)return void l.add("".concat(String(t)," should be of type '").concat(d,"' but received '").concat(e,"' (").concat(r,")."))}if(c){var h;const e=null!==(h=this.gridOptions.rowModelType)&&void 0!==h?h:"clientSide";if(!c.includes(e))return void l.add("".concat(String(t)," is not supported with the '").concat(e,"' row model. It is only valid with: ").concat(c.join(", "),"."))}if(a){const n=this.checkForRequiredDependencies(t,a,e);if(n)return void l.add(n)}if(u){const t=u(e,this.gridOptions,this.beans);if(t)return void l.add(t)}}),l.size>0&&l.forEach(e=>{BN(e)})}checkForRequiredDependencies(e,t,n){const i=Object.entries(t).filter(e=>{let[t,i]=e;const o=n[t];return!i.required.includes(o)});return 0===i.length?null:i.map(t=>{var n;let[i,o]=t;return"'".concat(String(e),"' requires '").concat(i,"' to be one of [").concat(o.required.map(e=>null===e?"null":void 0===e?"undefined":e).join(", "),"]. ").concat(null!==(n=o.reason)&&void 0!==n?n:"")}).join("\n           ")}checkProperties(e,t,n,i,o){const r=function(e,t,n){const i={},o=e.filter(e=>!t.some(t=>t===e));o.length>0&&o.forEach(e=>i[e]=nZ({inputValue:e,allSuggestions:n}).values);return i}(Object.getOwnPropertyNames(e),["__ob__","__v_skip","__metadata__",...t,...n],n),s=Object.keys(r);for(const a of s){const e=r[a];let t="invalid ".concat(i," property '").concat(a,"' did you mean any of these: ").concat(e.slice(0,8).join(", "),".");n.includes("context")&&(t+="\nIf you are trying to annotate ".concat(i," with application data, use the '").concat(i,".context' property instead.")),BN(t)}if(s.length>0&&o){const e=this.beans.frameworkOverrides.getDocLink(o);BN("to see all the valid ".concat(i," properties please check: ").concat(e))}}getConsoleMessage(e,t){return function(e,t){const n=hZ[e];if(!n)return["Missing error text for error id ".concat(e,"!")];const i=n(t),o=tB(e,t),r="\nSee ".concat(o);return Array.isArray(i)?i.concat(r):[i,r]}(e,t)}}]};function KZ(e){e.sibling&&(e.sibling.childrenAfterFilter=e.childrenAfterFilter)}var qZ={moduleName:"SharedMenu",version:KN,beans:[class extends vO{constructor(){super(...arguments),this.beanName="menuSvc"}postConstruct(){const{enterpriseMenuFactory:e,filterMenuFactory:t}=this.beans;this.activeMenuFactory=null!==e&&void 0!==e?e:t}showColumnMenu(e){this.showColumnMenuCommon(this.activeMenuFactory,e,"columnMenu")}showFilterMenu(e){this.showColumnMenuCommon(rW(this.beans),e,e.containerType,!0)}showHeaderContextMenu(e,t,n){var i;null===(i=this.activeMenuFactory)||void 0===i||i.showMenuAfterContextMenuEvent(e,t,n)}hidePopupMenu(){var e,t;null===(e=this.beans.contextMenuSvc)||void 0===e||e.hideActiveMenu(),null===(t=this.activeMenuFactory)||void 0===t||t.hideActiveMenu()}hideFilterMenu(){var e;null===(e=rW(this.beans))||void 0===e||e.hideActiveMenu()}isColumnMenuInHeaderEnabled(e){var t;const{suppressHeaderMenuButton:n}=e.getColDef();return!n&&!(null===(t=this.activeMenuFactory)||void 0===t||!t.isMenuEnabled(e))&&(tO(this.gos)||!!this.beans.enterpriseMenuFactory)}isFilterMenuInHeaderEnabled(e){var t;return!e.getColDef().suppressHeaderFilterButton&&!(null===(t=this.beans.filterManager)||void 0===t||!t.isFilterAllowed(e))}isHeaderContextMenuEnabled(e){const t=e&&DO(e)?e.getColDef():null===e||void 0===e?void 0:e.getColGroupDef();return!(null!==t&&void 0!==t&&t.suppressHeaderContextMenu)&&"new"===this.gos.get("columnMenu")}isHeaderMenuButtonAlwaysShowEnabled(){return this.isSuppressMenuHide()}isHeaderMenuButtonEnabled(){const e=!this.isSuppressMenuHide();return!(WL()&&e)}isHeaderFilterButtonEnabled(e){return this.isFilterMenuInHeaderEnabled(e)&&!tO(this.gos)&&!this.isFloatingFilterButtonDisplayed(e)}isFilterMenuItemEnabled(e){var t;return!(null===(t=this.beans.filterManager)||void 0===t||!t.isFilterAllowed(e))&&!tO(this.gos)&&!this.isFilterMenuInHeaderEnabled(e)&&!this.isFloatingFilterButtonDisplayed(e)}isFloatingFilterButtonEnabled(e){return!e.getColDef().suppressFloatingFilterButton}isFloatingFilterButtonDisplayed(e){return!!e.getColDef().floatingFilter&&this.isFloatingFilterButtonEnabled(e)}isSuppressMenuHide(){const e=this.gos,t=e.get("suppressMenuHide");return tO(e)?!!e.exists("suppressMenuHide")&&t:t}showColumnMenuCommon(e,t,n,i){const{positionBy:o,onClosedCallback:r}=t,s=t.column;if("button"===o){const{buttonElement:o}=t;null===e||void 0===e||e.showMenuAfterButtonClick(s,o,n,r,i)}else if("mouse"===o){const{mouseEvent:o}=t;null===e||void 0===e||e.showMenuAfterMouseEvent(s,o,n,r,i)}else if(s){const t=this.beans,o=t.ctrlsSvc;o.getScrollFeature().ensureColumnVisible(s,"auto"),RN(t,()=>{var t;const a=null===(t=o.getHeaderRowContainerCtrl(s.getPinned()))||void 0===t?void 0:t.getHeaderCtrlForColumn(s);a&&(null===e||void 0===e||e.showMenuAfterButtonClick(s,a.getAnchorElementForMenu(i),n,r,i))})}}}],apiFunctions:{showColumnMenu:function(e,t){var n;const i=e.colModel.getCol(t);i?null===(n=e.menuSvc)||void 0===n||n.showColumnMenu({column:i,positionBy:"auto"}):oB(12,{colKey:t})},hidePopupMenu:function(e){var t;null===(t=e.menuSvc)||void 0===t||t.hidePopupMenu()}}},YZ=0,ZZ={moduleName:"Popup",version:KN,beans:[class extends vO{constructor(){super(...arguments),this.beanName="popupSvc",this.popupList=[]}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridCtrl=e.gridCtrl}),this.addManagedEventListeners({gridStylesChanged:this.handleThemeChange.bind(this)})}getPopupParent(){const e=this.gos.get("popupParent");return e||this.gridCtrl.getGui()}positionPopupForMenu(e){const{eventSource:t,ePopup:n,column:i,node:o,event:r}=e,s=t.getBoundingClientRect(),a=this.getParentRect();this.setAlignedTo(t,n);let l=!1;this.positionPopup({ePopup:n,keepWithinBounds:!0,updatePosition:()=>{const e=this.keepXYWithinBounds(n,s.top-a.top,0),t=n.clientWidth>0?n.clientWidth:200;l||(n.style.minWidth="".concat(t,"px"),l=!0);const i=a.right-a.left-t;let o;return this.gos.get("enableRtl")?(o=u(),o<0&&(o=r(),this.setAlignedStyles(n,"left")),o>i&&(o=0,this.setAlignedStyles(n,"right"))):(o=r(),o>i&&(o=u(),this.setAlignedStyles(n,"right")),o<0&&(o=0,this.setAlignedStyles(n,"left"))),{x:o,y:e};function r(){return s.right-a.left-2}function u(){return s.left-a.left-t}},postProcessCallback:()=>this.callPostProcessPopup("subMenu",n,t,r instanceof MouseEvent?r:void 0,i,o)})}positionPopupUnderMouseEvent(e){const{ePopup:t,nudgeX:n,nudgeY:i,skipObserver:o}=e;this.positionPopup({ePopup:t,nudgeX:n,nudgeY:i,keepWithinBounds:!0,skipObserver:o,updatePosition:()=>this.calculatePointerAlign(e.mouseEvent),postProcessCallback:()=>this.callPostProcessPopup(e.type,e.ePopup,null,e.mouseEvent,e.column,e.rowNode)})}calculatePointerAlign(e){const t=this.getParentRect();return{x:e.clientX-t.left,y:e.clientY-t.top}}positionPopupByComponent(e){const{ePopup:t,nudgeX:n,nudgeY:i,keepWithinBounds:o,eventSource:r,alignSide:s="left",position:a="over",column:l,rowNode:u,type:c}=e,d=r.getBoundingClientRect(),h=this.getParentRect();this.setAlignedTo(r,t);this.positionPopup({ePopup:t,nudgeX:n,nudgeY:i,keepWithinBounds:o,updatePosition:()=>{let n,o=d.left-h.left;if("right"===s&&(o-=t.offsetWidth-d.width),"over"===a)n=d.top-h.top,this.setAlignedStyles(t,"over");else{this.setAlignedStyles(t,"under");n="under"===this.shouldRenderUnderOrAbove(t,d,h,e.nudgeY||0)?d.top-h.top+d.height:d.top-t.offsetHeight-2*(i||0)-h.top}return{x:o,y:n}},postProcessCallback:()=>this.callPostProcessPopup(c,t,r,null,l,u)})}shouldRenderUnderOrAbove(e,t,n,i){const o=n.bottom-t.bottom,r=t.top-n.top,s=e.offsetHeight+i;return o>s?"under":r>s||r>o?"above":"under"}setAlignedStyles(e,t){const n=this.getPopupIndex(e);if(-1===n)return;const i=this.popupList[n],{alignedToElement:o}=i;if(!o)return;["right","left","over","above","under"].forEach(t=>{o.classList.remove("ag-has-popup-positioned-".concat(t)),e.classList.remove("ag-popup-positioned-".concat(t))}),t&&(o.classList.add("ag-has-popup-positioned-".concat(t)),e.classList.add("ag-popup-positioned-".concat(t)))}setAlignedTo(e,t){const n=this.getPopupIndex(t);if(-1!==n){this.popupList[n].alignedToElement=e}}callPostProcessPopup(e,t,n,i,o,r){const s=this.gos.getCallback("postProcessPopup");if(s){s({column:o,rowNode:r,ePopup:t,type:e,eventSource:n,mouseEvent:i})}}positionPopup(e){var t=this;const{ePopup:n,keepWithinBounds:i,nudgeX:o,nudgeY:r,skipObserver:s,updatePosition:a}=e,l={width:0,height:0},u=function(){let s=arguments.length>0&&void 0!==arguments[0]&&arguments[0],{x:u,y:c}=a();s&&n.clientWidth===l.width&&n.clientHeight===l.height||(l.width=n.clientWidth,l.height=n.clientHeight,o&&(u+=o),r&&(c+=r),i&&(u=t.keepXYWithinBounds(n,u,1),c=t.keepXYWithinBounds(n,c,0)),n.style.left="".concat(u,"px"),n.style.top="".concat(c,"px"),e.postProcessCallback&&e.postProcessCallback())};if(u(),!s){const e=kN(this.beans,n,()=>u(!0));setTimeout(()=>e(),200)}}getActivePopups(){return this.popupList.map(e=>e.element)}getParentRect(){const e=CB(this.beans);let t=this.getPopupParent();return t===e.body?t=e.documentElement:"static"===getComputedStyle(t).position&&(t=t.offsetParent),sN(t)}keepXYWithinBounds(e,t,n){const i=0===n,o=i?"clientHeight":"clientWidth",r=i?"top":"left",s=i?"height":"width",a=i?"scrollTop":"scrollLeft",l=CB(this.beans),u=l.documentElement,c=this.getPopupParent(),d=e.getBoundingClientRect(),h=c.getBoundingClientRect(),p=l.documentElement.getBoundingClientRect(),g=c===l.body,m=Math.ceil(d[s]);let v=g?(i?oN:rN)(u)+u[a]:c[o];g&&(v-=Math.abs(p[r]-h[r]));const f=v-m;return Math.min(Math.max(t,0),Math.abs(f))}addPopup(e){const t=CB(this.beans),{eChild:n,ariaLabel:i,ariaOwns:o,alwaysOnTop:r,positionCallback:s,anchorToElement:a}=e;if(!t)return iB(122),{hideFunc:()=>{}};const l=this.getPopupIndex(n);if(-1!==l){return{hideFunc:this.popupList[l].hideFunc}}this.initialisePopupPosition(n);const u=this.createPopupWrapper(n,!!r,i,o),c=this.addEventListenersToPopup(d(d({},e),{},{wrapperEl:u}));return s&&s(),this.addPopupToPopupList(n,u,c,a),{hideFunc:c}}initialisePopupPosition(e){const t=this.getPopupParent().getBoundingClientRect();UI(e.style.top)||(e.style.top="".concat(-1*t.top,"px")),UI(e.style.left)||(e.style.left="".concat(-1*t.left,"px"))}createPopupWrapper(e,t,n,i){const o=this.getPopupParent(),{environment:r,gos:s}=this.beans,a=MN({tag:"div"});return r.applyThemeClasses(a),a.classList.add("ag-popup"),e.classList.add(s.get("enableRtl")?"ag-rtl":"ag-ltr","ag-popup-child"),e.hasAttribute("role")||gL(e,"dialog"),n?mL(e,n):i&&(e.id||(e.id="popup-component-".concat(YZ)),GL(i,e.id)),a.appendChild(e),o.appendChild(a),t?this.setAlwaysOnTop(e,!0):this.bringPopupToFront(e),a}handleThemeChange(e){if(e.themeChanged){const e=this.beans.environment;for(const t of this.popupList)e.applyThemeClasses(t.wrapper)}}addEventListenersToPopup(e){var t=this;const n=this.beans,i=CB(n),o=this.getPopupParent(),{wrapperEl:r,eChild:s,closedCallback:a,afterGuiAttached:l,closeOnEsc:u,modal:c,ariaOwns:d}=e;let h=!1;const p=e=>{if(!r.contains(SB(n)))return;e.key!==sV.ESCAPE||dO(e)||v({keyboardEvent:e})},g=e=>v({mouseEvent:e}),m=e=>v({touchEvent:e}),v=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{mouseEvent:n,touchEvent:l,keyboardEvent:u,forceHide:c}=e;(c||!t.isEventFromCurrentPopup({mouseEvent:n,touchEvent:l},s)&&!h)&&(h=!0,o.removeChild(r),i.removeEventListener("keydown",p),i.removeEventListener("mousedown",g),i.removeEventListener("touchstart",m),i.removeEventListener("contextmenu",g),t.eventSvc.removeEventListener("dragStarted",g),a&&a(n||l||u),t.removePopupFromPopupList(s,d))};return l&&l({hidePopup:v}),window.setTimeout(()=>{u&&i.addEventListener("keydown",p),c&&(i.addEventListener("mousedown",g),this.eventSvc.addEventListener("dragStarted",g),i.addEventListener("touchstart",m),i.addEventListener("contextmenu",g))},0),v}addPopupToPopupList(e,t,n,i){this.popupList.push({element:e,wrapper:t,hideFunc:n,instanceId:YZ,isAnchored:!!i}),i&&this.setPopupPositionRelatedToElement(e,i),YZ+=1}getPopupIndex(e){return this.popupList.findIndex(t=>t.element===e)}setPopupPositionRelatedToElement(e,t){const n=this.getPopupIndex(e);if(-1===n)return;const i=this.popupList[n];if(i.stopAnchoringPromise&&i.stopAnchoringPromise.then(e=>e&&e()),i.stopAnchoringPromise=void 0,i.isAnchored=!1,!t)return;const o=this.keepPopupPositionedRelativeTo({element:t,ePopup:e,hidePopup:i.hideFunc});return i.stopAnchoringPromise=o,i.isAnchored=!0,o}removePopupFromPopupList(e,t){this.setAlignedStyles(e,null),this.setPopupPositionRelatedToElement(e,null),t&&GL(t,null),this.popupList=this.popupList.filter(t=>t.element!==e)}keepPopupPositionedRelativeTo(e){const t=this.getPopupParent(),n=t.getBoundingClientRect(),{element:i,ePopup:o}=e,r=i.getBoundingClientRect(),s=e=>parseInt(e.substring(0,e.length-1),10),a=(e,t)=>{const i=n[e]-r[e],a=s(o.style[e]);return{initialDiff:i,lastDiff:i,initial:a,last:a,direction:t}},l=a("top",0),u=a("left",1),c=this.beans.frameworkOverrides;return new PG(n=>{c.wrapIncoming(()=>{c.setInterval(()=>{const n=t.getBoundingClientRect(),r=i.getBoundingClientRect();if(0==r.top&&0==r.left&&0==r.height&&0==r.width)return void e.hidePopup();const a=(e,t)=>{const i=s(o.style[t]);e.last!==i&&(e.initial=i,e.last=i);const a=n[t]-r[t];if(a!=e.lastDiff){const n=this.keepXYWithinBounds(o,e.initial+e.initialDiff-a,e.direction);o.style[t]="".concat(n,"px"),e.last=n}e.lastDiff=a};a(l,"top"),a(u,"left")},200).then(e=>{n(()=>{null!=e&&window.clearInterval(e)})})},"popupPositioning")})}hasAnchoredPopup(){return this.popupList.some(e=>e.isAnchored)}isEventFromCurrentPopup(e,t){const{mouseEvent:n,touchEvent:i}=e,o=n||i;if(!o)return!1;const r=this.getPopupIndex(t);if(-1===r)return!1;for(let s=r;s<this.popupList.length;s++){if(gO(this.popupList[s].element,o))return!0}return this.isElementWithinCustomPopup(o.target)}isElementWithinCustomPopup(e){const t=CB(this.beans);for(;e&&e!==t.body;){if(e.classList.contains("ag-custom-component-popup")||null===e.parentElement)return!0;e=e.parentElement}return!1}getWrapper(e){for(;!e.classList.contains("ag-popup")&&e.parentElement;)e=e.parentElement;return e.classList.contains("ag-popup")?e:null}setAlwaysOnTop(e,t){const n=this.getWrapper(e);n&&(n.classList.toggle("ag-always-on-top",!!t),t&&this.bringPopupToFront(n))}bringPopupToFront(e){const t=this.getPopupParent(),n=Array.prototype.slice.call(t.querySelectorAll(".ag-popup")),i=n.length,o=this.getWrapper(e);if(!o||i<=1||!t.contains(e))return;const r=[],s=[];for(const c of n)c!==o&&(c.classList.contains("ag-always-on-top")?s.push(c):r.push(c));const a=[],l=s.length,u=o.classList.contains("ag-always-on-top")||!l?[...r,...s,o]:[...r,o,...s];for(let c=0;c<=i;c++){const e=u[c];if(n[c]===u[c]||e===o)continue;e.querySelectorAll("div").forEach(e=>{0!==e.scrollTop&&a.push([e,e.scrollTop])}),0===c?t.insertAdjacentElement("afterbegin",e):u[c-1].insertAdjacentElement("afterend",e)}for(;a.length;){const e=a.pop();e[0].scrollTop=e[1]}}}]};var $Z={filterHandler:()=>({doesFilterPass:()=>!0})};var XZ={tag:"div",cls:"ag-floating-filter-input",role:"presentation",children:[{tag:"ag-input-text-field",ref:"eFloatingFilterText"}]},QZ=class{constructor(){this.customFilterOptions={}}init(e,t){var n;this.filterOptions=null!==(n=e.filterOptions)&&void 0!==n?n:t,this.mapCustomOptions(),this.defaultOption=this.getDefaultItem(e.defaultOption)}refresh(e,t){var n;const i=null!==(n=e.filterOptions)&&void 0!==n?n:t;this.filterOptions!==i&&(this.filterOptions=i,this.customFilterOptions={},this.mapCustomOptions()),this.defaultOption=this.getDefaultItem(e.defaultOption)}mapCustomOptions(){const{filterOptions:e}=this;e&&e.forEach(t=>{if("string"===typeof t)return;[["displayKey"],["displayName"],["predicate","test"]].every(e=>!!e.some(e=>null!=t[e])||(iB(72,{keys:e}),!1))?this.customFilterOptions[t.displayKey]=t:this.filterOptions=e.filter(e=>e===t)||[]})}getDefaultItem(e){const{filterOptions:t}=this;if(e)return e;if(t.length>=1){const e=t[0];if("string"===typeof e)return e;if(e.displayKey)return e.displayKey;iB(73)}else iB(74)}getCustomOption(e){return this.customFilterOptions[e]}};function JZ(e,t,n){return null==n?e.splice(t):e.splice(t,n)}function e$(e){return null==e||"string"===typeof e&&0===e.trim().length}function t$(e,t){const n=t.getCustomOption(e);if(n){const{numberOfInputs:e}=n;return null!=e?e:1}return e&&["empty","notBlank","blank"].indexOf(e)>=0?0:"inRange"===e?2:1}var n$=class extends LH{constructor(e,t,n){super(e,"simple-filter"),this.mapValuesFromModel=t,this.defaultOptions=n,this.eTypes=[],this.eJoinPanels=[],this.eJoinAnds=[],this.eJoinOrs=[],this.eConditionBodies=[],this.listener=()=>this.onUiChanged(),this.lastUiCompletePosition=null,this.joinOperatorId=0}setParams(e){super.setParams(e);const t=new QZ;this.optionsFactory=t,t.init(e,this.defaultOptions),this.commonUpdateSimpleParams(e),this.createOption(),this.createMissingConditionsAndOperators()}updateParams(e,t){this.optionsFactory.refresh(e,this.defaultOptions),super.updateParams(e,t),this.commonUpdateSimpleParams(e)}commonUpdateSimpleParams(e){var t;this.setNumConditions(e),this.defaultJoinOperator="AND"===(t=e.defaultJoinOperator)||"OR"===t?t:"AND",this.filterPlaceholder=e.filterPlaceholder,this.createFilterListOptions();const n=this.getGui();this.isReadOnly()?n.setAttribute("tabindex","-1"):n.removeAttribute("tabindex")}onFloatingFilterChanged(e,t){this.setTypeFromFloatingFilter(e),this.setValueFromFloatingFilter(t),this.onUiChanged("immediately",!0)}setTypeFromFloatingFilter(e){this.eTypes.forEach((t,n)=>{const i=0===n?e:this.optionsFactory.defaultOption;t.setValue(i,!0)})}getModelFromUi(){const e=this.getUiCompleteConditions();return 0===e.length?null:this.maxNumConditions>1&&e.length>1?{filterType:this.filterType,operator:this.getJoinOperator(),conditions:e}:e[0]}getConditionTypes(){return this.eTypes.map(e=>e.getValue())}getConditionType(e){return this.eTypes[e].getValue()}getJoinOperator(){const{eJoinOrs:e,defaultJoinOperator:t}=this;return 0===e.length?t:!0===e[0].getValue()?"OR":"AND"}areNonNullModelsEqual(e,t){const n=!e.operator,i=!t.operator;if(!n&&i||n&&!i)return!1;let o;if(n){const n=e,i=t;o=this.areSimpleModelsEqual(n,i)}else{const n=e,i=t;o=n.operator===i.operator&&MO(n.conditions,i.conditions,(e,t)=>this.areSimpleModelsEqual(e,t))}return o}setModelIntoUi(e,t){if(null==e)return this.resetUiToDefaults(t),PG.resolve();if(e.operator){const t=e;let n=t.conditions;null==n&&(n=[],iB(77));const i=function(e,t){let n=e.length;return n>t&&(e.splice(t),iB(78),n=t),n}(n,this.maxNumConditions),o=this.getNumConditions();if(i<o)this.removeConditionsAndOperators(i);else if(i>o)for(let e=o;e<i;e++)this.createJoinOperatorPanel(),this.createOption();const r="OR"===t.operator;this.eJoinAnds.forEach(e=>e.setValue(!r,!0)),this.eJoinOrs.forEach(e=>e.setValue(r,!0)),n.forEach((e,t)=>{this.eTypes[t].setValue(e.type,!0),this.setConditionIntoUi(e,t)})}else{const t=e;this.getNumConditions()>1&&this.removeConditionsAndOperators(1),this.eTypes[0].setValue(t.type,!0),this.setConditionIntoUi(t,0)}return this.lastUiCompletePosition=this.getNumConditions()-1,this.createMissingConditionsAndOperators(),this.updateUiVisibility(),t||this.params.onUiChange(this.getUiChangeEventParams()),PG.resolve()}setNumConditions(e){var t,n;let i=null!==(t=e.maxNumConditions)&&void 0!==t?t:2;i<1&&(iB(79),i=1),this.maxNumConditions=i;let o=null!==(n=e.numAlwaysVisibleConditions)&&void 0!==n?n:1;o<1&&(iB(80),o=1),o>i&&(iB(81),o=i),this.numAlwaysVisibleConditions=o}createOption(){const e=this.getGui(),t=this.createManagedBean(new nU);this.eTypes.push(t),t.addCss("ag-filter-select"),e.appendChild(t.getGui());const n=this.createEValue();this.eConditionBodies.push(n),e.appendChild(n),this.putOptionsIntoDropdown(t),this.resetType(t);const i=this.getNumConditions()-1;this.forEachPositionInput(i,e=>this.resetInput(e)),this.addChangedListeners(t,i)}createJoinOperatorPanel(){const e=MN({tag:"div",cls:"ag-filter-condition"});this.eJoinPanels.push(e);const t=this.createJoinOperator(this.eJoinAnds,e,"and"),n=this.createJoinOperator(this.eJoinOrs,e,"or");this.getGui().appendChild(e);const i=this.eJoinPanels.length-1,o=this.joinOperatorId++;this.resetJoinOperatorAnd(t,i,o),this.resetJoinOperatorOr(n,i,o),this.isReadOnly()||(t.onValueChange(this.listener),n.onValueChange(this.listener))}createJoinOperator(e,t,n){const i=this.createManagedBean(new jW);e.push(i);const o="ag-filter-condition-operator";return i.addCss(o),i.addCss("".concat(o,"-").concat(n)),t.appendChild(i.getGui()),i}createFilterListOptions(){this.filterListOptions=this.optionsFactory.filterOptions.map(e=>"string"===typeof e?this.createBoilerplateListOption(e):this.createCustomListOption(e))}putOptionsIntoDropdown(e){const{filterListOptions:t}=this;t.forEach(t=>{e.addOption(t)}),e.setDisabled(t.length<=1)}createBoilerplateListOption(e){return{value:e,text:this.translate(e)}}createCustomListOption(e){const{displayKey:t}=e,n=this.optionsFactory.getCustomOption(e.displayKey);return{value:t,text:n?this.getLocaleTextFunc()(n.displayKey,n.displayName):this.translate(t)}}createBodyTemplate(){return null}getAgComponents(){return[]}updateUiVisibility(){const e=this.getJoinOperator();this.updateNumConditions(),this.updateConditionStatusesAndValues(this.lastUiCompletePosition,e)}updateNumConditions(){let e=-1,t=!0;for(let i=0;i<this.getNumConditions();i++)this.isConditionUiComplete(i)?e=i:t=!1;if(this.shouldAddNewConditionAtEnd(t))this.createJoinOperatorPanel(),this.createOption();else{var n;const t=null!==(n=this.lastUiCompletePosition)&&void 0!==n?n:this.getNumConditions()-2;if(e<t){this.removeConditionsAndOperators(t+1);const n=e+1,i=t-n;i>0&&this.removeConditionsAndOperators(n,i),this.createMissingConditionsAndOperators()}}this.lastUiCompletePosition=e}updateConditionStatusesAndValues(e,t){this.eTypes.forEach((t,n)=>{const i=this.isConditionDisabled(n,e);t.setDisabled(i||this.filterListOptions.length<=1),1===n&&(JL(this.eJoinPanels[0],i),this.eJoinAnds[0].setDisabled(i),this.eJoinOrs[0].setDisabled(i))}),this.eConditionBodies.forEach((e,t)=>{XL(e,this.isConditionBodyVisible(t))});const n="OR"===(null!==t&&void 0!==t?t:this.getJoinOperator());this.eJoinAnds.forEach(e=>{e.setValue(!n,!0)}),this.eJoinOrs.forEach(e=>{e.setValue(n,!0)}),this.forEachInput((t,n,i,o)=>{this.setElementDisplayed(t,n<o),this.setElementDisabled(t,this.isConditionDisabled(i,e))}),this.resetPlaceholder()}shouldAddNewConditionAtEnd(e){return e&&this.getNumConditions()<this.maxNumConditions&&!this.isReadOnly()}removeConditionsAndOperators(e,t){if(e>=this.getNumConditions())return;const{eTypes:n,eConditionBodies:i,eJoinPanels:o,eJoinAnds:r,eJoinOrs:s}=this;this.removeComponents(n,e,t),this.removeElements(i,e,t),this.removeEValues(e,t);const a=Math.max(e-1,0);this.removeElements(o,a,t),this.removeComponents(r,a,t),this.removeComponents(s,a,t)}removeElements(e,t,n){JZ(e,t,n).forEach(e=>cN(e))}removeComponents(e,t,n){JZ(e,t,n).forEach(e=>{cN(e.getGui()),this.destroyBean(e)})}afterGuiAttached(e){if(super.afterGuiAttached(e),this.resetPlaceholder(),null===e||void 0===e||!e.suppressFocus){let e;if(!this.isReadOnly()){const n=this.getInputs(0)[0];var t;if(n instanceof vW&&this.isConditionBodyVisible(0))e=n.getInputElement();else e=null===(t=this.eTypes[0])||void 0===t?void 0:t.getFocusableElement()}(null!==e&&void 0!==e?e:this.getGui()).focus({preventScroll:!0})}}afterGuiDetached(){var e;super.afterGuiDetached();const t=this.params;if(null!==(e=this.beans.colFilter)&&void 0!==e&&e.shouldKeepStateOnDetach(t.column))return;t.onStateChange({model:t.model});let n=-1,i=-1,o=!1;const r=this.getJoinOperator();for(let a=this.getNumConditions()-1;a>=0;a--)if(this.isConditionUiComplete(a))-1===n&&(n=a,i=a);else{const e=a<n;(a>=this.numAlwaysVisibleConditions&&!this.isConditionUiComplete(a-1)||e)&&(this.removeConditionsAndOperators(a,1),o=!0,e&&i--)}let s=!1;this.getNumConditions()<this.numAlwaysVisibleConditions&&(this.createMissingConditionsAndOperators(),s=!0),this.shouldAddNewConditionAtEnd(i===this.getNumConditions()-1)&&(this.createJoinOperatorPanel(),this.createOption(),s=!0),s&&this.updateConditionStatusesAndValues(i,r),o&&this.updateJoinOperatorsDisabled(),this.lastUiCompletePosition=i}getModelAsString(e){var t,n,i;return null!==(t=null===(n=this.params.getHandler())||void 0===n||null===(i=n.getModelAsString)||void 0===i?void 0:i.call(n,e))&&void 0!==t?t:""}getPlaceholderText(e,t){let n=this.translate(e);if("function"===typeof this.filterPlaceholder){const e=this.eTypes[t].getValue(),i=this.translate(e);n=this.filterPlaceholder({filterOptionKey:e,filterOption:i,placeholder:n})}else"string"===typeof this.filterPlaceholder&&(n=this.filterPlaceholder);return n}resetPlaceholder(){const e=this.getLocaleTextFunc();this.forEachInput((t,n,i,o)=>{if(!(t instanceof vW))return;const r=0===n&&o>1?"inRangeStart":0===n?"filterOoo":"inRangeEnd",s=0===n&&o>1?e("ariaFilterFromValue","Filter from value"):0===n?e("ariaFilterValue","Filter Value"):e("ariaFilterToValue","Filter to Value");t.setInputPlaceholder(this.getPlaceholderText(r,i)),t.setInputAriaLabel(s)})}setElementValue(e,t,n){e instanceof vW&&e.setValue(null!=t?String(t):null,!0)}setElementDisplayed(e,t){e instanceof AG&&XL(e.getGui(),t)}setElementDisabled(e,t){e instanceof AG&&JL(e.getGui(),t)}attachElementOnChange(e,t){e instanceof vW&&e.onValueChange(t)}forEachInput(e){this.getConditionTypes().forEach((t,n)=>{this.forEachPositionTypeInput(n,t,e)})}forEachPositionInput(e,t){const n=this.getConditionType(e);this.forEachPositionTypeInput(e,n,t)}forEachPositionTypeInput(e,t,n){const i=t$(t,this.optionsFactory),o=this.getInputs(e);for(let r=0;r<o.length;r++){const t=o[r];null!=t&&n(t,r,e,i)}}isConditionDisabled(e,t){return!!this.isReadOnly()||0!==e&&e>t+1}isConditionBodyVisible(e){return t$(this.getConditionType(e),this.optionsFactory)>0}isConditionUiComplete(e){if(e>=this.getNumConditions())return!1;return"empty"!==this.getConditionType(e)&&!this.getValues(e).some(e=>null==e)}getNumConditions(){return this.eTypes.length}getUiCompleteConditions(){const e=[];for(let t=0;t<this.getNumConditions();t++)this.isConditionUiComplete(t)&&e.push(this.createCondition(t));return e}createMissingConditionsAndOperators(){if(!this.isReadOnly())for(let e=this.getNumConditions();e<this.numAlwaysVisibleConditions;e++)this.createJoinOperatorPanel(),this.createOption()}resetUiToDefaults(e){this.removeConditionsAndOperators(this.isReadOnly()?1:this.numAlwaysVisibleConditions),this.eTypes.forEach(e=>this.resetType(e)),this.eJoinAnds.forEach((e,t)=>this.resetJoinOperatorAnd(e,t,this.joinOperatorId+t)),this.eJoinOrs.forEach((e,t)=>this.resetJoinOperatorOr(e,t,this.joinOperatorId+t)),this.joinOperatorId++,this.forEachInput(e=>this.resetInput(e)),this.resetPlaceholder(),this.createMissingConditionsAndOperators(),this.lastUiCompletePosition=null,this.updateUiVisibility(),e||this.params.onUiChange(this.getUiChangeEventParams())}resetType(e){const t=this.getLocaleTextFunc()("ariaFilteringOperator","Filtering operator");e.setValue(this.optionsFactory.defaultOption,!0).setAriaLabel(t).setDisabled(this.isReadOnly()||this.filterListOptions.length<=1)}resetJoinOperatorAnd(e,t,n){this.resetJoinOperator(e,t,"AND"===this.defaultJoinOperator,this.translate("andCondition"),n)}resetJoinOperatorOr(e,t,n){this.resetJoinOperator(e,t,"OR"===this.defaultJoinOperator,this.translate("orCondition"),n)}resetJoinOperator(e,t,n,i,o){this.updateJoinOperatorDisabled(e.setValue(n,!0).setName("ag-simple-filter-and-or-".concat(this.getCompId(),"-").concat(o)).setLabel(i),t)}updateJoinOperatorsDisabled(){const e=(e,t)=>this.updateJoinOperatorDisabled(e,t);this.eJoinAnds.forEach(e),this.eJoinOrs.forEach(e)}updateJoinOperatorDisabled(e,t){e.setDisabled(this.isReadOnly()||t>0)}resetInput(e){this.setElementValue(e,null),this.setElementDisabled(e,this.isReadOnly())}setConditionIntoUi(e,t){const n=this.mapValuesFromModel(e,this.optionsFactory);this.forEachInput((e,i,o)=>{o===t&&this.setElementValue(e,null!=n[i]?n[i]:null)})}setValueFromFloatingFilter(e){this.forEachInput((t,n,i)=>{this.setElementValue(t,0===n&&0===i?e:null,!0)})}addChangedListeners(e,t){this.isReadOnly()||(e.onValueChange(this.listener),this.forEachPositionInput(t,e=>{this.attachElementOnChange(e,this.listener)}))}hasInvalidInputs(){return!1}isReadOnly(){return!!this.params.readOnly}},i$=class{constructor(e,t,n,i,o,r){this.alive=!0,this.context=e,this.eParent=o;const s=function(e,t,n){return e.getCompDetails(t,_G,"agDateInput",n,!0)}(t,n,i);s&&s.newAgStackInstance().then(t=>{var n;if(!this.alive)return void e.destroyBean(t);if(this.dateComp=t,!t)return;o.appendChild(t.getGui()),null===t||void 0===t||null===(n=t.afterGuiAttached)||void 0===n||n.call(t);const{tempValue:i,disabled:s}=this;var a;(i&&t.setDate(i),null!=s)&&(null===(a=t.setDisabled)||void 0===a||a.call(t,s));null===r||void 0===r||r(this)})}destroy(){this.alive=!1,this.dateComp=this.context.destroyBean(this.dateComp)}getDate(){return this.dateComp?this.dateComp.getDate():this.tempValue}setDate(e){const t=this.dateComp;t?t.setDate(e):this.tempValue=e}setDisabled(e){const t=this.dateComp;var n;t?null===(n=t.setDisabled)||void 0===n||n.call(t,e):this.disabled=e}setDisplayed(e){XL(this.eParent,e)}setInputPlaceholder(e){var t,n;null===(t=this.dateComp)||void 0===t||null===(n=t.setInputPlaceholder)||void 0===n||n.call(t,e)}setInputAriaLabel(e){var t,n;null===(t=this.dateComp)||void 0===t||null===(n=t.setInputAriaLabel)||void 0===n||n.call(t,e)}afterGuiAttached(e){var t,n;null===(t=this.dateComp)||void 0===t||null===(n=t.afterGuiAttached)||void 0===n||n.call(t,e)}updateParams(e){var t,n;null===(t=this.dateComp)||void 0===t||null===(n=t.refresh)||void 0===n||n.call(t,e)}},o$=["equals","notEqual","lessThan","greaterThan","inRange","blank","notBlank"];function r$(e,t){const{dateFrom:n,dateTo:i,type:o}=e||{};return[n&&wH(n)||null,i&&wH(i)||null].slice(0,t$(o,t))}var s$=1/0,a$=class extends vO{constructor(e,t){super(),this.mapValuesFromModel=e,this.defaultOptions=t}init(e){const t=e.filterParams,n=new QZ;this.optionsFactory=n,n.init(t,this.defaultOptions),this.filterModelFormatter=this.createManagedBean(new this.FilterModelFormatterClass(n,t)),this.updateParams(e),this.validateModel(e)}refresh(e){if("colDef"===e.source){const t=e.filterParams,n=this.optionsFactory;n.refresh(t,this.defaultOptions),this.filterModelFormatter.updateParams({optionsFactory:n,filterParams:t}),this.updateParams(e)}this.validateModel(e)}updateParams(e){this.params=e}doesFilterPass(e){const t=e.model;if(null==t)return!0;const{operator:n}=t,i=[];if(n){var o;const e=t;i.push(...null!==(o=e.conditions)&&void 0!==o?o:[])}else i.push(t);const r=n&&"OR"===n?"some":"every",s=this.params.getValue(e.node);return i[r](t=>this.individualConditionPasses(e,t,s))}getModelAsString(e,t){var n;return null!==(n=this.filterModelFormatter.getModelAsString(e,t))&&void 0!==n?n:""}validateModel(e){var t;const{model:n,filterParams:{filterOptions:i,maxNumConditions:o}}=e;if(null==n)return;const r=function(e){return!!e.operator}(n);let s=r?n.conditions:[n];const a=null!==(t=null===i||void 0===i?void 0:i.map(e=>"string"===typeof e?e:e.displayKey))&&void 0!==t?t:this.defaultOptions;if(!(!s||s.every(e=>void 0!==a.find(t=>t===e.type))))return this.params=d(d({},e),{},{model:null}),void e.onModelChange(null);let l=!1;const u=this.filterType;if((s&&!s.every(e=>e.filterType===u)||n.filterType!==u)&&(s=s.map(e=>d(d({},e),{},{filterType:u})),l=!0),"number"===typeof o&&s&&s.length>o&&(s=s.slice(0,o),l=!0),l){const t=s.length>1?d(d({},n),{},{filterType:u,conditions:s}):d(d({},s[0]),{},{filterType:u});return this.params=d(d({},e),{},{model:t}),void e.onModelChange(t)}}individualConditionPasses(e,t,n){const i=this.optionsFactory,o=this.mapValuesFromModel(t,i),r=function(e,t,n){if(null==e)return;const{predicate:i}=e;return null==i||t.some(e=>null==e)?void 0:i(t,n)}(i.getCustomOption(t.type),o,n);return null!=r?r:null==n?this.evaluateNullValue(t.type):this.evaluateNonNullValue(o,n,t,e)}},l$=class extends a${evaluateNullValue(e){const{includeBlanksInEquals:t,includeBlanksInNotEqual:n,includeBlanksInGreaterThan:i,includeBlanksInLessThan:o,includeBlanksInRange:r}=this.params.filterParams;switch(e){case"equals":if(t)return!0;break;case"notEqual":if(n)return!0;break;case"greaterThan":case"greaterThanOrEqual":if(i)return!0;break;case"lessThan":case"lessThanOrEqual":if(o)return!0;break;case"inRange":if(r)return!0;break;case"blank":return!0;case"notBlank":return!1}return!1}evaluateNonNullValue(e,t,n){const i=n.type;if(!this.isValid(t))return"notEqual"===i||"notBlank"===i;const o=this.comparator(),r=null!=e[0]?o(e[0],t):0;switch(i){case"equals":return 0===r;case"notEqual":return 0!==r;case"greaterThan":return r>0;case"greaterThanOrEqual":return r>=0;case"lessThan":return r<0;case"lessThanOrEqual":return r<=0;case"inRange":{const n=o(e[1],t);return this.params.filterParams.inRangeInclusive?r>=0&&n<=0:r>0&&n<0}case"blank":return e$(t);case"notBlank":return!e$(t);default:return iB(76,{filterModelType:i}),!0}}},u$={equals:"Equals",notEqual:"NotEqual",greaterThan:"GreaterThan",greaterThanOrEqual:"GreaterThanOrEqual",lessThan:"LessThan",lessThanOrEqual:"LessThanOrEqual",inRange:"InRange"},c$={contains:"Contains",notContains:"NotContains",equals:"TextEquals",notEqual:"TextNotEqual",startsWith:"StartsWith",endsWith:"EndsWith",inRange:"InRange"},d$=class extends vO{constructor(e,t,n){super(),this.optionsFactory=e,this.filterParams=t,this.valueFormatter=n}getModelAsString(e,t){const n=this.getLocaleTextFunc(),i="filterToolPanel"===t;if(!e)return i?rH(this,"filterSummaryInactive"):null;if(null!=e.operator){var o;const n=e,i=(null!==(o=n.conditions)&&void 0!==o?o:[]).map(e=>this.getModelAsString(e,t)),r="AND"===n.operator?"andCondition":"orCondition";return i.join(" ".concat(rH(this,r)," "))}if("blank"===e.type||"notBlank"===e.type)return i?rH(this,"blank"===e.type?"filterSummaryBlank":"filterSummaryNotBlank"):n(e.type,e.type);{const t=e,o=this.optionsFactory.getCustomOption(t.type),{displayKey:r,displayName:s,numberOfInputs:a}=o||{};return r&&s&&0===a?n(r,s):this.conditionToString(t,i,"inRange"===t.type||2===a,r,s)}}updateParams(e){const{optionsFactory:t,filterParams:n}=e;this.optionsFactory=t,this.filterParams=n}conditionForToolPanel(e,t,n,i,o,r){let s;const a=this.getTypeKey(e);return a&&(s=rH(this,a)),o&&r&&(s=this.getLocaleTextFunc()(o,r)),null!=s?t?"".concat(s," ").concat(rH(this,"filterSummaryInRangeValues",[n(),i()])):"".concat(s," ").concat(n()):null}getTypeKey(e){const t=this.filterTypeKeys[e];return t?"filterSummary".concat(t):null}formatValue(e){var t;const n=this.valueFormatter;return n?null!==(t=n(null!==e&&void 0!==e?e:null))&&void 0!==t?t:"":String(e)}},h$=class extends d${constructor(e,t){super(e,t,e=>{const{dataTypeSvc:n,valueSvc:i}=this.beans,o=t.column,r=null===n||void 0===n?void 0:n.getDateFormatterFunction(o),s=null===r||void 0===r?void 0:r(null!==e&&void 0!==e?e:void 0);return i.formatValue(o,null,s)}),this.filterTypeKeys=u$}conditionToString(e,t,n,i,o){const{type:r}=e,s=wH(e.dateFrom),a=wH(e.dateTo),l=this.filterParams.inRangeFloatingFilterDateFormat,u=t?this.formatValue.bind(this):e=>vH(e,l),c=()=>null!==s?u(s):"null",d=()=>null!==a?u(a):"null";if(t){const e=this.conditionForToolPanel(r,n,c,d,i,o);if(null!=e)return e}return n?"".concat(c(),"-").concat(d()):null!=s?u(s):"".concat(r)}};function p$(e,t){return t<e?-1:t>e?1:0}var g$=class extends AG{constructor(){super(...arguments),this.defaultDebounceMs=0}setLastTypeFromModel(e){if(!e)return void(this.lastType=this.optionsFactory.defaultOption);let t;if(e.operator){t=e.conditions[0]}else t=e;this.lastType=t.type}canWeEditAfterModelFromParentFilter(e){if(!e)return this.isTypeEditable(this.lastType);if(e.operator)return!1;const t=e;return this.isTypeEditable(t.type)}init(e){this.params=e;const t=this.gos.get("enableFilterHandlers");if(this.reactive=t,this.setParams(e),t){const t=e;this.onModelUpdated(t.model)}}setParams(e){const t=new QZ;this.optionsFactory=t,t.init(e.filterParams,this.defaultOptions),this.filterModelFormatter=this.createManagedBean(new this.FilterModelFormatterClass(t,e.filterParams)),this.setSimpleParams(e,!1)}setSimpleParams(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=this.optionsFactory.defaultOption;t||(this.lastType=n),this.readOnly=!!e.filterParams.readOnly;const i=this.isTypeEditable(n);this.setEditable(i)}refresh(e){this.params=e;const t=e,n=this.reactive;if(n&&"colDef"!==t.source||this.updateParams(e),n){const{source:e,model:n}=t;if("dataChanged"===e||"ui"===e)return;this.onModelUpdated(n)}}updateParams(e){const t=this.optionsFactory;t.refresh(e.filterParams,this.defaultOptions),this.setSimpleParams(e),this.filterModelFormatter.updateParams({optionsFactory:t,filterParams:e.filterParams})}onParentModelChanged(e,t){null!==t&&void 0!==t&&t.afterFloatingFilter||null!==t&&void 0!==t&&t.afterDataChange||this.onModelUpdated(e)}hasSingleInput(e){var t;const n=null===(t=this.optionsFactory.getCustomOption(e))||void 0===t?void 0:t.numberOfInputs;return null==n||1==n}isTypeEditable(e){return!!e&&!this.readOnly&&this.hasSingleInput(e)&&["inRange","empty","blank","notBlank"].indexOf(e)<0}getAriaLabel(e){const t=this.beans.colNames.getDisplayNameForColumn(e.column,"header",!0);return"".concat(t," ").concat(this.getLocaleTextFunc()("ariaFilterInput","Filter Input"))}},m$={tag:"div",cls:"ag-floating-filter-input",role:"presentation",children:[{tag:"ag-input-text-field",ref:"eReadOnlyText"},{tag:"div",ref:"eDateWrapper",cls:"ag-date-floating-filter-wrapper"}]},v$={tag:"div",cls:"ag-filter-filter",children:[{tag:"ag-input-text-field",ref:"eDateInput",cls:"ag-date-filter"}]},f$=["equals","notEqual","greaterThan","greaterThanOrEqual","lessThan","lessThanOrEqual","inRange","blank","notBlank"];function w$(e){const{allowedCharPattern:t}=null!==e&&void 0!==e?e:{};return null!==t&&void 0!==t?t:null}function C$(e){return null==e||isNaN(e)?null:e}function b$(e,t){const{filter:n,filterTo:i,type:o}=e||{};return[C$(n),C$(i)].slice(0,t$(o,t))}var y$=class extends d${constructor(e,t){super(e,t,t.numberFormatter),this.filterTypeKeys=u$}conditionToString(e,t,n,i,o){const{filter:r,filterTo:s,type:a}=e,l=this.formatValue.bind(this);if(t){const e=this.conditionForToolPanel(a,n,()=>l(r),()=>l(s),i,o);if(null!=e)return e}return n?"".concat(l(r),"-").concat(l(s)):null!=r?l(r):"".concat(a)}},S$=class extends vO{constructor(e){super(),this.params=e,this.eInput=kG,this.onValueChanged=()=>{}}setupGui(e){var t;this.eInput=this.createManagedBean(new KW(null===(t=this.params)||void 0===t?void 0:t.config));const n=this.eInput.getGui();e.appendChild(n);const i=e=>this.onValueChanged(e);this.addManagedListeners(n,{input:i,keydown:i})}setEditable(e){this.eInput.setDisabled(!e)}getValue(){return this.eInput.getValue()}setValue(e,t){this.eInput.setValue(e,t)}setValueChangedListener(e){this.onValueChanged=e}setParams(e){let{ariaLabel:t,autoComplete:n}=e;const{eInput:i}=this;i.setInputAriaLabel(t),void 0!==n&&i.setAutoComplete(n)}};function x$(e){const t=null===e||void 0===e?void 0:e.trim();return""===t?e:t}function D$(e,t){const{filter:n,filterTo:i,type:o}=e||{};return[n||null,i||null].slice(0,t$(o,t))}var E$={tag:"div",ref:"eFloatingFilterInputContainer",cls:"ag-floating-filter-input",role:"presentation"},F$=class extends g${constructor(){super(...arguments),this.eFloatingFilterInputContainer=kG,this.defaultDebounceMs=500}postConstruct(){this.setTemplate(E$)}onModelUpdated(e){this.setLastTypeFromModel(e),this.setEditable(this.canWeEditAfterModelFromParentFilter(e)),this.inputSvc.setValue(this.filterModelFormatter.getModelAsString(e))}setParams(e){this.setupFloatingFilterInputService(e),super.setParams(e),this.setTextInputParams(e)}setupFloatingFilterInputService(e){this.inputSvc=this.createFloatingFilterInputService(e),this.inputSvc.setupGui(this.eFloatingFilterInputContainer)}setTextInputParams(e){var t;const n=null!==(t=e.browserAutoComplete)&&void 0!==t&&t,{inputSvc:i,defaultDebounceMs:o,readOnly:r}=this;if(i.setParams({ariaLabel:this.getAriaLabel(e),autoComplete:n}),this.applyActive=aH(e.filterParams),!r){const t=sH(e.filterParams,o),n=HN(this,this.syncUpWithParentFilter.bind(this),t);i.setValueChangedListener(n)}}updateParams(e){super.updateParams(e),this.setTextInputParams(e)}recreateFloatingFilterInputService(e){const{inputSvc:t}=this,n=t.getValue();uN(this.eFloatingFilterInputContainer),this.destroyBean(t),this.setupFloatingFilterInputService(e),t.setValue(n,!0)}syncUpWithParentFilter(e){const t=e.key===sV.ENTER,n=this.reactive;if(n){this.params.onUiChange()}if(this.applyActive&&!t)return;const{inputSvc:i,params:o,lastType:r}=this;let s=i.getValue();if(o.filterParams.trimInput&&(s=x$(s),i.setValue(s,!0)),n){const e=o,t=e.model,n=this.convertValue(s),i=null==n?null:d(d({},null!==t&&void 0!==t?t:{filterType:this.filterType,type:null!==r&&void 0!==r?r:this.optionsFactory.defaultOption}),{},{filter:n});e.onModelChange(i,{afterFloatingFilter:!0})}else o.parentFilterInstance(e=>{null===e||void 0===e||e.onFloatingFilterChanged(r||null,s||null)})}convertValue(e){return e||null}setEditable(e){this.inputSvc.setEditable(e)}},k$=class extends vO{constructor(){super(...arguments),this.onValueChanged=()=>{},this.numberInputActive=!0}setupGui(e){this.eNumberInput=this.createManagedBean(new ZW),this.eTextInput=this.createManagedBean(new KW),this.eTextInput.setDisabled(!0);const t=this.eNumberInput.getGui(),n=this.eTextInput.getGui();e.appendChild(t),e.appendChild(n),this.setupListeners(t,e=>this.onValueChanged(e)),this.setupListeners(n,e=>this.onValueChanged(e))}setEditable(e){this.numberInputActive=e,this.eNumberInput.setDisplayed(this.numberInputActive),this.eTextInput.setDisplayed(!this.numberInputActive)}setAutoComplete(e){this.eNumberInput.setAutoComplete(e),this.eTextInput.setAutoComplete(e)}getValue(){return this.getActiveInputElement().getValue()}setValue(e,t){this.getActiveInputElement().setValue(e,t)}getActiveInputElement(){return this.numberInputActive?this.eNumberInput:this.eTextInput}setValueChangedListener(e){this.onValueChanged=e}setupListeners(e,t){this.addManagedListeners(e,{input:t,keydown:t})}setParams(e){this.setAriaLabel(e.ariaLabel),void 0!==e.autoComplete&&this.setAutoComplete(e.autoComplete)}setAriaLabel(e){this.eNumberInput.setInputAriaLabel(e),this.eTextInput.setInputAriaLabel(e)}},A$=["contains","notContains","equals","notEqual","startsWith","endsWith","blank","notBlank"],R$=class extends d${constructor(){super(...arguments),this.filterTypeKeys=c$}conditionToString(e,t,n,i,o){const{filter:r,filterTo:s,type:a}=e;if(t){const e=e=>()=>rH(this,"filterSummaryTextQuote",[e]),t=this.conditionForToolPanel(a,n,e(r),e(s),i,o);if(null!=t)return t}return n?"".concat(r,"-").concat(s):"".concat(null!=r?r:a)}},P$=e=>{let{filterOption:t,value:n,filterText:i}=e;if(null==i)return!1;switch(t){case"contains":return n.indexOf(i)>=0;case"notContains":return n.indexOf(i)<0;case"equals":return n===i;case"notEqual":return n!=i;case"startsWith":return 0===n.indexOf(i);case"endsWith":{const e=n.lastIndexOf(i);return e>=0&&e===n.length-i.length}default:return!1}},T$=e=>e,_$=e=>null==e?null:e.toString().toLowerCase();var M$={moduleName:"ClientSideRowModelFilter",version:KN,rowModels:["clientSide"],beans:[class extends vO{constructor(){super(...arguments),this.beanName="filterStage",this.refreshProps=new Set(["excludeChildrenWhenTreeDataFiltering"]),this.step="filter"}wireBeans(e){this.filterManager=e.filterManager}execute(e){const{changedPath:t}=e;this.filter(t)}filter(e){var t;const n=!(null===(t=this.filterManager)||void 0===t||!t.isChildFilterPresent());this.filterNodes(n,e)}filterNodes(e,t){const n=(t,n)=>{t.hasChildren()?t.childrenAfterFilter=e&&!n?t.childrenAfterGroup.filter(e=>{const t=e.childrenAfterFilter&&e.childrenAfterFilter.length>0,n=e.data&&this.filterManager.doesRowPassFilter({rowNode:e});return t||n}):t.childrenAfterGroup:t.childrenAfterFilter=t.childrenAfterGroup,KZ(t)};if(this.doingTreeDataFiltering()){const e=(t,i)=>{if(t.childrenAfterGroup)for(let o=0;o<t.childrenAfterGroup.length;o++){const r=t.childrenAfterGroup[o],s=i||this.filterManager.doesRowPassFilter({rowNode:r});r.childrenAfterGroup?e(t.childrenAfterGroup[o],s):n(r,s)}n(t,i)},i=t=>e(t,!1);t.executeFromRootNode(i)}else{const e=e=>n(e,!1);t.forEachChangedNodeDepthFirst(e,!0)}}doingTreeDataFiltering(){return this.gos.get("treeData")&&!this.gos.get("excludeChildrenWhenTreeDataFiltering")}}]},I$={moduleName:"FilterCore",version:KN,beans:[class extends vO{constructor(){super(...arguments),this.beanName="filterManager",this.advFilterModelUpdateQueue=[]}wireBeans(e){this.quickFilter=e.quickFilter,this.advancedFilter=e.advancedFilter,this.colFilter=e.colFilter}postConstruct(){const e=this.refreshFiltersForAggregations.bind(this),t=this.updateAdvFilterColumns.bind(this);this.addManagedEventListeners({columnValueChanged:e,columnPivotChanged:e,columnPivotModeChanged:e,newColumnsLoaded:t,columnVisible:t,advancedFilterEnabledChanged:e=>{let{enabled:t}=e;return this.onAdvFilterEnabledChanged(t)},dataTypesInferred:this.processFilterModelUpdateQueue.bind(this)}),this.externalFilterPresent=this.isExternalFilterPresentCallback(),this.addManagedPropertyListeners(["isExternalFilterPresent","doesExternalFilterPass"],()=>{this.onFilterChanged({source:"api"})}),this.updateAggFiltering(),this.addManagedPropertyListener("groupAggFiltering",()=>{this.updateAggFiltering(),this.onFilterChanged()}),this.quickFilter&&this.addManagedListeners(this.quickFilter,{quickFilterChanged:()=>this.onFilterChanged({source:"quickFilter"})});const{gos:n}=this;this.alwaysPassFilter=n.get("alwaysPassFilter"),this.addManagedPropertyListener("alwaysPassFilter",()=>{this.alwaysPassFilter=n.get("alwaysPassFilter"),this.onFilterChanged({source:"api"})})}isExternalFilterPresentCallback(){const e=this.gos.getCallback("isExternalFilterPresent");return"function"===typeof e&&e({})}doesExternalFilterPass(e){const t=this.gos.get("doesExternalFilterPass");return"function"===typeof t&&t(e)}setFilterState(e,t){var n;let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"api";this.isAdvFilterEnabled()||null===(n=this.colFilter)||void 0===n||n.setState(e,t,i)}setFilterModel(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"api",i=arguments.length>2?arguments[2]:void 0;this.isAdvFilterEnabled()?i||this.warnAdvFilters():null===(t=this.colFilter)||void 0===t||t.setModel(e,n)}getFilterModel(){var e,t;return null!==(e=null===(t=this.colFilter)||void 0===t?void 0:t.getModel())&&void 0!==e?e:{}}getFilterState(){var e;return null===(e=this.colFilter)||void 0===e?void 0:e.getState()}isColumnFilterPresent(){var e;return!(null===(e=this.colFilter)||void 0===e||!e.isFilterPresent())}isAggregateFilterPresent(){var e;return!(null===(e=this.colFilter)||void 0===e||!e.isAggFilterPresent())}isChildFilterPresent(){return this.isColumnFilterPresent()||this.isQuickFilterPresent()||this.externalFilterPresent||this.isAdvFilterPresent()}isAnyFilterPresent(){return this.isChildFilterPresent()||this.isAggregateFilterPresent()}isAdvFilterPresent(){return this.isAdvFilterEnabled()&&this.advancedFilter.isFilterPresent()}onAdvFilterEnabledChanged(e){var t,n;e?null!==(t=this.colFilter)&&void 0!==t&&t.disableFilters()&&this.onFilterChanged({source:"advancedFilter"}):null!==(n=this.advancedFilter)&&void 0!==n&&n.isFilterPresent()&&(this.advancedFilter.setModel(null),this.onFilterChanged({source:"advancedFilter"}))}isAdvFilterEnabled(){var e;return!(null===(e=this.advancedFilter)||void 0===e||!e.isEnabled())}isAdvFilterHeaderActive(){return this.isAdvFilterEnabled()&&this.advancedFilter.isHeaderActive()}refreshFiltersForAggregations(){RB(this.gos)&&this.isAnyFilterPresent()&&this.onFilterChanged()}onFilterChanged(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{source:t,additionalEventAttributes:n,columns:i=[]}=e;this.externalFilterPresent=this.isExternalFilterPresentCallback(),(this.colFilter?this.colFilter.updateBeforeFilterChanged(e):PG.resolve()).then(()=>{var e;const o={source:t,type:"filterChanged",columns:i};n&&XI(o,n),this.eventSvc.dispatchEvent(o),null===(e=this.colFilter)||void 0===e||e.updateAfterFilterChanged()})}isSuppressFlashingCellsBecauseFiltering(){var e;return!(null===(e=this.colFilter)||void 0===e||!e.isSuppressFlashingCellsBecauseFiltering())}isQuickFilterPresent(){var e;return!(null===(e=this.quickFilter)||void 0===e||!e.isFilterPresent())}updateAggFiltering(){this.aggFiltering=!!RB(this.gos)}isAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&this.shouldApplyQuickFilterAfterAgg()}isNonAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&!this.shouldApplyQuickFilterAfterAgg()}shouldApplyQuickFilterAfterAgg(){return(this.aggFiltering||this.beans.colModel.isPivotMode())&&!this.gos.get("applyQuickFilterBeforePivotOrAgg")}doesRowPassOtherFilters(e,t){return this.doesRowPassFilter({rowNode:t,colIdToSkip:e})}doesRowPassAggregateFilters(e){var t;const{rowNode:n}=e;return!(null===(t=this.alwaysPassFilter)||void 0===t||!t.call(this,n))||!(this.isAggregateQuickFilterPresent()&&!this.quickFilter.doesRowPass(n))&&!(this.isAggregateFilterPresent()&&!this.colFilter.doFiltersPass(n,e.colIdToSkip,!0))}doesRowPassFilter(e){var t;const{rowNode:n}=e;return!(null===(t=this.alwaysPassFilter)||void 0===t||!t.call(this,n))||!(this.isNonAggregateQuickFilterPresent()&&!this.quickFilter.doesRowPass(n))&&(!(this.externalFilterPresent&&!this.doesExternalFilterPass(n))&&(!(this.isColumnFilterPresent()&&!this.colFilter.doFiltersPass(n,e.colIdToSkip))&&!(this.isAdvFilterPresent()&&!this.advancedFilter.doesFilterPass(n))))}isFilterAllowed(e){var t;return!this.isAdvFilterEnabled()&&!(null===(t=this.colFilter)||void 0===t||!t.isFilterAllowed(e))}getAdvFilterModel(){return this.isAdvFilterEnabled()?this.advancedFilter.getModel():null}setAdvFilterModel(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"api";this.isAdvFilterEnabled()&&(null!==(t=this.beans.dataTypeSvc)&&void 0!==t&&t.isPendingInference?this.advFilterModelUpdateQueue.push(e):(this.advancedFilter.setModel(null!==e&&void 0!==e?e:null),this.onFilterChanged({source:n})))}toggleAdvFilterBuilder(e,t){this.isAdvFilterEnabled()&&this.advancedFilter.getCtrl().toggleFilterBuilder({source:t,force:e})}updateAdvFilterColumns(){this.isAdvFilterEnabled()&&this.advancedFilter.updateValidity()&&this.onFilterChanged({source:"advancedFilter"})}hasFloatingFilters(){var e;return!this.isAdvFilterEnabled()&&!(null===(e=this.colFilter)||void 0===e||!e.hasFloatingFilters())}getColumnFilterInstance(e){var t,n;return this.isAdvFilterEnabled()?(this.warnAdvFilters(),Promise.resolve(void 0)):null!==(t=null===(n=this.colFilter)||void 0===n?void 0:n.getFilterInstance(e))&&void 0!==t?t:Promise.resolve(void 0)}warnAdvFilters(){iB(68)}setupAdvFilterHeaderComp(e){var t;null===(t=this.advancedFilter)||void 0===t||t.getCtrl().setupHeaderComp(e)}getHeaderRowCount(){return this.isAdvFilterHeaderActive()?1:0}getHeaderHeight(){return this.isAdvFilterHeaderActive()?this.advancedFilter.getCtrl().getHeaderHeight():0}processFilterModelUpdateQueue(){this.advFilterModelUpdateQueue.forEach(e=>this.setAdvFilterModel(e)),this.advFilterModelUpdateQueue=[]}setColumnFilterModel(e,t){var n,i;return this.isAdvFilterEnabled()?(this.warnAdvFilters(),Promise.resolve()):null!==(n=null===(i=this.colFilter)||void 0===i?void 0:i.setModelForColumn(e,t))&&void 0!==n?n:Promise.resolve()}}],apiFunctions:{isAnyFilterPresent:function(e){var t;return!(null===(t=e.filterManager)||void 0===t||!t.isAnyFilterPresent())},onFilterChanged:function(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"api";null===(t=e.filterManager)||void 0===t||t.onFilterChanged({source:n})}},css:[".ag-set-filter{--ag-indentation-level:0}.ag-set-filter-item{align-items:center;display:flex;height:100%}:where(.ag-ltr) .ag-set-filter-item{padding-left:calc(var(--ag-widget-container-horizontal-padding) + var(--ag-indentation-level)*var(--ag-set-filter-indent-size))}:where(.ag-rtl) .ag-set-filter-item{padding-right:calc(var(--ag-widget-container-horizontal-padding) + var(--ag-indentation-level)*var(--ag-set-filter-indent-size))}.ag-set-filter-item-checkbox{display:flex;height:100%;width:100%}.ag-set-filter-group-icons{display:block;>*{cursor:pointer}}:where(.ag-ltr) .ag-set-filter-group-icons{margin-right:var(--ag-widget-container-horizontal-padding)}:where(.ag-rtl) .ag-set-filter-group-icons{margin-left:var(--ag-widget-container-horizontal-padding)}.ag-filter-body-wrapper{display:flex;flex-direction:column}:where(.ag-menu:not(.ag-tabs) .ag-filter) .ag-filter-body-wrapper,:where(.ag-menu:not(.ag-tabs) .ag-filter)>:not(.ag-filter-wrapper){min-width:180px}.ag-filter-filter{flex:1 1 0px}.ag-filter-condition{display:flex;justify-content:center}.ag-floating-filter-body{display:flex;flex:1 1 auto;height:100%;position:relative}.ag-floating-filter-full-body{align-items:center;display:flex;flex:1 1 auto;height:100%;overflow:hidden;width:100%}:where(.ag-floating-filter-full-body)>div{flex:1 1 auto}.ag-floating-filter-input{align-items:center;display:flex;width:100%;>*{flex:1 1 auto}:where(.ag-input-field-input[type=date]),:where(.ag-input-field-input[type=datetime-local]){width:1px}}.ag-floating-filter-button{display:flex;flex:none}.ag-date-floating-filter-wrapper{display:flex}.ag-set-floating-filter-input :where(input)[disabled]{pointer-events:none}.ag-floating-filter-button-button{-webkit-appearance:none;-moz-appearance:none;appearance:none;border:none;height:var(--ag-icon-size);width:var(--ag-icon-size)}.ag-filter-loading{align-items:unset;background-color:var(--ag-chrome-background-color);height:100%;padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding);position:absolute;width:100%;z-index:1;:where(.ag-menu) &{background-color:var(--ag-menu-background-color)}}.ag-filter-separator{border-top:solid var(--ag-border-width) var(--menu-separator-color)}:where(.ag-filter-select) .ag-picker-field-wrapper{width:0}.ag-filter-condition-operator{height:17px}:where(.ag-ltr) .ag-filter-condition-operator-or{margin-left:calc(var(--ag-spacing)*2)}:where(.ag-rtl) .ag-filter-condition-operator-or{margin-right:calc(var(--ag-spacing)*2)}.ag-set-filter-select-all{padding-top:var(--ag-widget-container-vertical-padding)}.ag-filter-no-matches,.ag-set-filter-list{height:calc(var(--ag-list-item-height)*6)}.ag-filter-no-matches{padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding)}.ag-set-filter-tree-list{height:calc(var(--ag-list-item-height)*10)}.ag-set-filter-filter{margin-left:var(--ag-widget-container-horizontal-padding);margin-right:var(--ag-widget-container-horizontal-padding);margin-top:var(--ag-widget-container-vertical-padding)}.ag-filter-to{margin-top:var(--ag-widget-vertical-spacing)}.ag-mini-filter{margin:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding)}:where(.ag-ltr) .ag-set-filter-add-group-indent{margin-left:calc(var(--ag-icon-size) + var(--ag-widget-container-horizontal-padding))}:where(.ag-rtl) .ag-set-filter-add-group-indent{margin-right:calc(var(--ag-icon-size) + var(--ag-widget-container-horizontal-padding))}:where(.ag-filter-menu) .ag-set-filter-list{min-width:200px}.ag-filter-virtual-list-item:focus-visible{box-shadow:inset var(--ag-focus-shadow)}.ag-filter-apply-panel{display:flex;justify-content:flex-end;overflow:hidden;padding:var(--ag-widget-vertical-spacing) var(--ag-widget-container-horizontal-padding) var(--ag-widget-container-vertical-padding)}.ag-filter-apply-panel-button{line-height:1.5}:where(.ag-ltr) .ag-filter-apply-panel-button{margin-left:calc(var(--ag-spacing)*2)}:where(.ag-rtl) .ag-filter-apply-panel-button{margin-right:calc(var(--ag-spacing)*2)}.ag-simple-filter-body-wrapper{display:flex;flex-direction:column;min-height:calc(var(--ag-list-item-height) + var(--ag-widget-container-vertical-padding) + var(--ag-widget-vertical-spacing));overflow-y:auto;padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding);padding-bottom:calc(var(--ag-widget-container-vertical-padding) - var(--ag-widget-vertical-spacing));&>*{margin-bottom:var(--ag-widget-vertical-spacing)}:where(.ag-resizer-wrapper){margin:0}}.ag-multi-filter-menu-item{margin:var(--ag-spacing) 0}.ag-multi-filter-group-title-bar{background-color:transparent;color:var(--ag-header-text-color);font-weight:500;padding:calc(var(--ag-spacing)*1.5) var(--ag-spacing)}.ag-group-filter-field-select-wrapper{display:flex;flex-direction:column;gap:var(--ag-widget-vertical-spacing);padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding)}"],dependsOn:[M$]},L$={moduleName:"FilterValue",version:KN,beans:[class extends vO{constructor(){super(...arguments),this.beanName="filterValueSvc"}getValue(e,t,n){var i;if(!t)return;const o=e.getColDef(),{selectableFilter:r,valueSvc:s}=this.beans,a=null!==(i=null!==n&&void 0!==n?n:null===r||void 0===r?void 0:r.getFilterValueGetter(e.getColId()))&&void 0!==i?i:o.filterValueGetter;return a?this.executeFilterValueGetter(a,t.data,e,t,o):s.getValue(e,t)}executeFilterValueGetter(e,t,n,i,o){const{expressionSvc:r,valueSvc:s}=this.beans,a=iO(this.gos,{data:t,node:i,column:n,colDef:o,getValue:s.getValueCallback.bind(s,i)});return"function"===typeof e?e(a):null===r||void 0===r?void 0:r.evaluate(e,a)}}]},N$={moduleName:"ColumnFilter",version:KN,beans:[class extends vO{constructor(){super(...arguments),this.beanName="colFilter",this.allColumnFilters=new Map,this.allColumnListeners=new Map,this.activeAggregateFilters=[],this.activeColumnFilters=[],this.processingFilterChange=!1,this.modelUpdates=[],this.columnModelUpdates=[],this.state=new Map,this.handlerMap=d({},YV),this.isGlobalButtons=!1,this.activeFilterComps=new Set}postConstruct(){var e,t;this.addManagedEventListeners({gridColumnsChanged:this.onColumnsChanged.bind(this),dataTypesInferred:this.processFilterModelUpdateQueue.bind(this)});const n=this.gos,i=d({},null!==(e=null===(t=n.get("initialState"))||void 0===t||null===(t=t.filter)||void 0===t?void 0:t.filterModel)&&void 0!==e?e:{});this.initialModel=i,this.model=d({},i),n.get("enableFilterHandlers")||delete this.handlerMap.agMultiColumnFilter}refreshModel(){this.onNewRowsLoaded("rowDataUpdated")}setModel(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"api";const{colModel:n,dataTypeSvc:i,filterManager:o}=this.beans;if(null!==i&&void 0!==i&&i.isPendingInference)return void this.modelUpdates.push({model:e,source:t});const r=[],s=this.getModel(!0);if(e){const t=new Set(Object.keys(e));this.allColumnFilters.forEach((n,i)=>{const o=e[i];r.push(this.setModelOnFilterWrapper(n,o)),t.delete(i)}),t.forEach(t=>{const i=n.getColDefCol(t)||n.getCol(t);if(!i)return void iB(62,{colId:t});if(!i.isFilterAllowed())return void iB(63,{colId:t});const o=this.getOrCreateFilterWrapper(i,!0);o?r.push(this.setModelOnFilterWrapper(o,e[t],!0)):iB(64,{colId:t})})}else this.model={},this.allColumnFilters.forEach(e=>{r.push(this.setModelOnFilterWrapper(e,null))});PG.all(r).then(()=>{const e=this.getModel(!0),n=[];this.allColumnFilters.forEach((t,i)=>{YI(s?s[i]:null,e?e[i]:null)||n.push(t.column)}),n.length>0&&(null===o||void 0===o||o.onFilterChanged({columns:n,source:t}))})}getModel(e){const t={},{allColumnFilters:n,initialModel:i,beans:{colModel:o}}=this;if(n.forEach((e,n)=>{const i=this.getModelFromFilterWrapper(e);UI(i)&&(t[n]=i)}),!e)for(const s of Object.keys(i)){var r;const e=i[s];UI(e)&&!n.has(s)&&null!==(r=o.getCol(s))&&void 0!==r&&r.isFilterAllowed()&&(t[s]=e)}return t}setState(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"api";if(this.state.clear(),t)for(const i of Object.keys(t)){const e=t[i];this.state.set(i,{model:tH(this.model,i),state:e})}this.setModel(e,n)}getState(){const e=this.state;if(!e.size)return;const t={};let n=!1;return e.forEach((e,i)=>{const o=e.state;null!=o&&(n=!0,t[i]=o)}),n?t:void 0}getModelFromFilterWrapper(e){const t=e.column.getColId();if(e.isHandler)return tH(this.model,t);const n=e.filter;return n?"function"!==typeof n.getModel?(iB(66),null):n.getModel():tH(this.initialModel,t)}isFilterPresent(){return this.activeColumnFilters.length>0}isAggFilterPresent(){return!!this.activeAggregateFilters.length}disableFilters(){this.initialModel={};const{allColumnFilters:e}=this;return!!e.size&&(e.forEach(e=>this.disposeFilterWrapper(e,"advancedFilterEnabled")),!0)}updateActiveFilters(){const{colModel:e,gos:t}=this.beans,n=!!RB(t),i=[],o=[],r=(t,r,s)=>{r&&((t=>{if(!t.isPrimary())return!0;const i=!e.isPivotActive();return!(!t.isValueActive()||!i)&&(!!e.isPivotMode()||n)})(t)?i.push(s):o.push(s))},s=[];return this.allColumnFilters.forEach(e=>{const t=e.column,n=t.getColId();if(e.isHandler)s.push(PG.resolve().then(()=>{r(t,this.isHandlerActive(t),{colId:n,isHandler:!0,handler:e.handler,handlerParams:e.handlerParams})}));else{const i=$V(e);i&&s.push(i.then(e=>{r(t,(e=>!!e&&(e.isFilterActive?e.isFilterActive():(iB(67),!1)))(e),{colId:n,isHandler:!1,comp:e})}))}}),PG.all(s).then(()=>{this.activeAggregateFilters=i,this.activeColumnFilters=o})}updateFilterFlagInColumns(e,t){var n;const i=[];return this.allColumnFilters.forEach(n=>{const o=n.column;if(n.isHandler)i.push(PG.resolve().then(()=>{this.setColFilterActive(o,this.isHandlerActive(o),e,t)}));else{const r=$V(n);r&&i.push(r.then(n=>{this.setColFilterActive(o,n.isFilterActive(),e,t)}))}}),null===(n=this.beans.groupFilter)||void 0===n||n.updateFilterFlags(e,t),PG.all(i)}doFiltersPass(e,t,n){const{data:i,aggData:o}=e,r=n?this.activeAggregateFilters:this.activeColumnFilters,s=n?o:i,a=this.model;for(let l=0;l<r.length;l++){const n=r[l],{colId:i,isHandler:o}=n;if(i!==t)if(o){const{handler:t,handlerParams:o}=n;if(!t.doesFilterPass({node:e,data:s,model:tH(a,i),handlerParams:o}))return!1}else{const t=n.comp;if("function"!==typeof t.doesFilterPass){oB(91);continue}if(!t.doesFilterPass({node:e,data:s}))return!1}}return!0}getHandlerParams(e){const t=this.allColumnFilters.get(e.getColId());return null!==t&&void 0!==t&&t.isHandler?t.handlerParams:void 0}callOnFilterChangedOutsideRenderCycle(e){const{rowRenderer:t,filterManager:n}=this.beans,i=()=>{this.isAlive()&&(null===n||void 0===n||n.onFilterChanged(e))};t.isRefreshInProgress()?setTimeout(i,0):i()}updateBeforeFilterChanged(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{column:t,additionalEventAttributes:n}=e,i=null===t||void 0===t?void 0:t.getColId();return this.updateActiveFilters().then(()=>this.updateFilterFlagInColumns("filterChanged",n).then(()=>{this.allColumnFilters.forEach(e=>{var t;const{column:n,isHandler:o}=e;if(i!==n.getColId()){var r,s;if(o)null===(r=(s=e.handler).onAnyFilterChanged)||void 0===r||r.call(s);null===(t=$V(e,o))||void 0===t||t.then(e=>{"function"===typeof(null===e||void 0===e?void 0:e.onAnyFilterChanged)&&e.onAnyFilterChanged()})}}),this.processingFilterChange=!0}))}updateAfterFilterChanged(){this.processingFilterChange=!1}isSuppressFlashingCellsBecauseFiltering(){var e;return!(null!==(e=this.gos.get("allowShowChangeAfterFilter"))&&void 0!==e&&e)&&this.processingFilterChange}onNewRowsLoaded(e){const t=[];this.allColumnFilters.forEach(e=>{const n=e.isHandler;var i,o;n&&(null===(i=(o=e.handler).onNewRowsLoaded)||void 0===i||i.call(o));const r=$V(e,n);r&&t.push(r.then(e=>{var t;null===(t=e.onNewRowsLoaded)||void 0===t||t.call(e)}))}),PG.all(t).then(()=>this.updateFilterFlagInColumns(e,{afterDataChange:!0})).then(()=>this.updateActiveFilters())}createGetValue(e,t){const{filterValueSvc:n,colModel:i}=this.beans;return(o,r)=>{const s=r?i.getCol(r):e;return s?n.getValue(s,o,t):void 0}}isFilterActive(e){const t=this.cachedFilter(e);if(null!==t&&void 0!==t&&t.isHandler)return this.isHandlerActive(e);const n=null===t||void 0===t?void 0:t.filter;return n?n.isFilterActive():null!=tH(this.initialModel,e.getColId())}isHandlerActive(e){const t=UI(tH(this.model,e.getColId()));if(t)return t;const n=this.beans.groupFilter;return!(null===n||void 0===n||!n.isGroupFilter(e))&&n.isFilterActive(e)}getOrCreateFilterUi(e){const t=this.getOrCreateFilterWrapper(e,!0);return t?$V(t):null}getFilterUiForDisplay(e){const t=this.getOrCreateFilterWrapper(e,!0);if(!t)return null;const n=$V(t);return n?n.then(e=>({comp:e,params:t.filterUi.filterParams,isHandler:t.isHandler})):null}getHandler(e,t){const n=this.getOrCreateFilterWrapper(e,t);return null!==n&&void 0!==n&&n.isHandler?n.handler:void 0}getOrCreateFilterWrapper(e,t){if(!e.isFilterAllowed())return;let n=this.cachedFilter(e);return!n&&t&&(n=this.createFilterWrapper(e),this.setColumnFilterWrapper(e,n)),n}cachedFilter(e){return this.allColumnFilters.get(e.getColId())}getDefaultFilter(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.getDefaultFilterFromDataType(()=>{var t;return null===(t=this.beans.dataTypeSvc)||void 0===t?void 0:t.getBaseDataType(e)},t)}getDefaultFilterFromDataType(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return eO(this.gos)?t?"agSetColumnFloatingFilter":"agSetColumnFilter":AH(e(),t)}getDefaultFloatingFilter(e){return this.getDefaultFilter(e,!0)}createFilterComp(e,t,n,i,o,r){const s=()=>{const s=this.createFilterCompParams(e,o,r),a=i(s,o);return iz(this.beans.userCompFactory,t,a,n)},a=s();if(!a)return null;return{compDetails:a,createFilterUi:e=>(e?s():a).newAgStackInstance()}}createFilterInstance(e,t,n,i){var o;const r=this.beans.selectableFilter;null!==r&&void 0!==r&&r.isSelectable(t)&&(t=r.getFilterDef(e,t));const{handler:s,handlerParams:a,handlerGenerator:l}=null!==(o=this.createHandler(e,t,n))&&void 0!==o?o:{},u=this.createFilterComp(e,t,n,i,!!s,"init");if(!u)return{compDetails:null,createFilterUi:null,handler:s,handlerGenerator:l,handlerParams:a};const{compDetails:c,createFilterUi:d}=u;if(this.isGlobalButtons){var h;!(null===(h=c.params)||void 0===h||null===(h=h.buttons)||void 0===h||!h.length)||iB(281,{colId:e.getColId()})}return{compDetails:c,handler:s,handlerGenerator:l,handlerParams:a,createFilterUi:d}}createBaseFilterParams(e,t){const{filterManager:n,rowModel:i}=this.beans;return iO(this.gos,{column:e,colDef:e.getColDef(),getValue:this.createGetValue(e),doesRowPassOtherFilter:t?()=>!0:t=>{var i;return null===(i=null===n||void 0===n?void 0:n.doesRowPassOtherFilters(e.getColId(),t))||void 0===i||i},rowModel:i})}createFilterCompParams(e,t,n,i){const o=this.filterChangedCallbackFactory(e),r=this.createBaseFilterParams(e,i);if(r.filterChangedCallback=o,r.filterModifiedCallback=i?()=>{}:t=>this.filterModified(e,t),t){var s;const t=r,i=e.getColId(),a=tH(this.model,i);t.model=a,t.state=null!==(s=this.state.get(i))&&void 0!==s?s:{model:a},t.onModelChange=(t,n)=>{this.updateStoredModel(i,t),this.refreshHandlerAndUi(e,t,"ui").then(()=>{o(d(d({},n),{},{source:"columnFilter"}))})},t.onStateChange=t=>{this.updateState(e,t),this.updateOrRefreshFilterUi(e)},t.onAction=(t,n,i)=>{this.updateModel(e,t,n),this.dispatchLocalEvent({type:"filterAction",column:e,action:t,event:i})},t.getHandler=()=>this.getHandler(e,!0),t.onUiChange=t=>this.filterUiChanged(e,t),t.source=n}return r}createFilterUiForHandler(e,t){return t?{created:!1,create:t,filterParams:e.params,compDetails:e}:null}createFilterUiLegacy(e,t,n){const i=t(),o={created:!0,create:t,filterParams:e.params,compDetails:e,promise:i};return i.then(n),o}createFilterWrapper(e){const{compDetails:t,handler:n,handlerGenerator:i,handlerParams:o,createFilterUi:r}=this.createFilterInstance(e,e.getColDef(),this.getDefaultFilter(e),e=>e),s=e.getColId();var a;if(n)return delete this.initialModel[s],null===(a=n.init)||void 0===a||a.call(n,d(d({},o),{},{source:"init",model:tH(this.model,s)})),{column:e,isHandler:!0,handler:n,handlerGenerator:i,handlerParams:o,filterUi:this.createFilterUiForHandler(t,r)};if(r){const n={column:e,filterUi:null,isHandler:!1};return n.filterUi=this.createFilterUiLegacy(t,r,e=>{n.filter=null!==e&&void 0!==e?e:void 0}),n}return{column:e,filterUi:null,isHandler:!1}}createHandlerFunc(e,t){const{gos:n,frameworkOverrides:i,registry:o}=this.beans;let r;const s=n.get("enableFilterHandlers")?(e=>{const t=e.filter;if(RG(t)){const e=t.handler;return e||(r=t.doesFilterPass,r?()=>({doesFilterPass:r}):void 0)}return"string"===typeof t?t:void 0})(e):void 0,a=e=>()=>this.createBean(o.createDynamicBean(e,!0));let l,u;if("string"===typeof s){var c;const e=null===(c=n.get("filterHandlers"))||void 0===c?void 0:c[s];null!=e?l=e:ZV.has(s)&&(l=a(s),u=s)}else l=s;if(!l){let n;const{compName:o,jsComp:r,fwComp:s}=rz(i,e);if(o)n=o;else{null==r&&null==s&&!0===e.filter&&(n=t)}u=this.handlerMap[n],u&&(l=a(u))}if(l)return{filterHandler:l,handlerNameOrCallback:null!==r&&void 0!==r?r:u}}createHandler(e,t,n){let i=this.createHandlerFunc(t,n);if(!i){const t=this.gos;if(!t.get("enableFilterHandlers"))return;uB(t)&&iB(277,{colId:e.getColId()}),i=$Z}const o=sz(this.beans.userCompFactory,t,this.createFilterCompParams(e,!0,"init")),{handlerNameOrCallback:r,filterHandler:s}=i,{handler:a,handlerParams:l}=this.createHandlerFromFunc(e,s,o);return{handler:a,handlerParams:l,handlerGenerator:null!==r&&void 0!==r?r:s}}createHandlerFromFunc(e,t,n){const i=e.getColDef();return{handler:t(iO(this.gos,{column:e,colDef:i})),handlerParams:this.createHandlerParams(e,n)}}createHandlerParams(e,t){const n=e.getColDef(),i=e.getColId(),o=this.filterChangedCallbackFactory(e);return iO(this.gos,{colDef:n,column:e,getValue:this.createGetValue(e),doesRowPassOtherFilter:e=>{var t,n;return null===(t=null===(n=this.beans.filterManager)||void 0===n?void 0:n.doesRowPassOtherFilters(i,e))||void 0===t||t},onModelChange:(t,n)=>{this.updateStoredModel(i,t),this.refreshHandlerAndUi(e,t,"handler").then(()=>{o(d(d({},n),{},{source:"columnFilter"}))})},filterParams:t})}onColumnsChanged(){const e=[],{colModel:t,filterManager:n,groupFilter:i}=this.beans;this.allColumnFilters.forEach((n,i)=>{let o;o=n.column.isPrimary()?t.getColDefCol(i):t.getCol(i),o&&o===n.column||(e.push(n.column),this.disposeFilterWrapper(n,"columnChanged"),this.disposeColumnListener(i))});const o=i&&e.every(e=>i.isGroupFilter(e));e.length>0&&!o&&(null===n||void 0===n||n.onFilterChanged({columns:e,source:"api"}))}isFilterAllowed(e){if(!e.isFilterAllowed())return!1;const t=this.beans.groupFilter;return null===t||void 0===t||!t.isGroupFilter(e)||t.isFilterAllowed(e)}getFloatingFilterCompDetails(e,t){var n;const{userCompFactory:i,frameworkOverrides:o,selectableFilter:r}=this.beans,s=e.getColDef(),a=null!==r&&void 0!==r&&r.isSelectable(s)?r.getFilterDef(e,s):s,l=null!==(n=NH(o,a,()=>this.getDefaultFloatingFilter(e)))&&void 0!==n?n:"agReadOnlyFloatingFilter",u=this.gos.get("enableFilterHandlers"),c=sz(i,a,this.createFilterCompParams(e,u,"init",!0)),h=iO(this.gos,{column:e,filterParams:c,currentParentModel:()=>this.getCurrentFloatingFilterParentModel(e),parentFilterInstance:t=>{const n=this.getOrCreateFilterUi(e);null!=n&&n.then(e=>{t(az(e))})},showParentFilter:t});if(u){const t=h,n=e.getColId(),i=this.filterChangedCallbackFactory(e);t.onUiChange=t=>this.floatingFilterUiChanged(e,t),t.model=tH(this.model,n),t.onModelChange=(t,o)=>{this.updateStoredModel(n,t),this.refreshHandlerAndUi(e,t,"floating",!0).then(()=>{i(d(d({},o),{},{source:"columnFilter"}))})},t.getHandler=()=>this.getHandler(e,!0),t.source="init"}return oz(i,s,h,l)}getCurrentFloatingFilterParentModel(e){var t;return this.getModelFromFilterWrapper(null!==(t=this.cachedFilter(e))&&void 0!==t?t:{column:e})}destroyFilterUi(e,t,n,i){if(e.isHandler){const o=t.getColId();delete this.initialModel[o],this.state.delete(o);const r=e.filterUi,s=this.createFilterUiForHandler(n,i);e.filterUi=s,null!==r&&void 0!==r&&r.created&&r.promise.then(t=>{this.destroyBean(t),this.eventSvc.dispatchEvent({type:"filterDestroyed",source:"paramsUpdated",column:e.column})})}else this.destroyFilter(t,"paramsUpdated")}destroyFilter(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"api";const n=e.getColId(),i=this.allColumnFilters.get(n);this.disposeColumnListener(n),delete this.initialModel[n],i&&this.disposeFilterWrapper(i,t).then(t=>{var n;t&&this.isAlive()&&(null===(n=this.beans.filterManager)||void 0===n||n.onFilterChanged({columns:[e],source:"api"}))})}disposeColumnListener(e){const t=this.allColumnListeners.get(e);t&&(this.allColumnListeners.delete(e),t())}disposeFilterWrapper(e,t){let n=!1;const{column:i,isHandler:o,filterUi:r}=e,s=i.getColId();o&&(n=this.isHandlerActive(i),this.destroyBean(e.handler),delete this.model[s],this.state.delete(s));const a=()=>{this.setColFilterActive(i,!1,"filterDestroyed"),this.allColumnFilters.delete(s),this.eventSvc.dispatchEvent({type:"filterDestroyed",source:t,column:i})};if(r){if(r.created)return r.promise.then(e=>(n=o?n:!(null===e||void 0===e||!e.isFilterActive()),this.destroyBean(e),a(),n));a()}return PG.resolve(n)}filterChangedCallbackFactory(e){return t=>{var n;this.callOnFilterChangedOutsideRenderCycle({additionalEventAttributes:t,columns:[e],column:e,source:null!==(n=null===t||void 0===t?void 0:t.source)&&void 0!==n?n:"columnFilter"})}}filterParamsChanged(e){var t,n,i,o,r;let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"api";const a=this.allColumnFilters.get(e);if(!a)return;const l=this.beans,u=a.column,c=u.getColDef(),h=u.isFilterAllowed(),p=this.getDefaultFilter(u),g=l.selectableFilter,m=null!==g&&void 0!==g&&g.isSelectable(c)?g.getFilterDef(u,c):c,v=h?this.createHandlerFunc(m,this.getDefaultFilter(u)):void 0,f=!!v,w=a.isHandler;if(w!=f)return void this.destroyFilter(u,"paramsUpdated");const{compDetails:C,createFilterUi:b}=null!==(t=h?this.createFilterComp(u,m,p,e=>e,f,"colDef"):null)&&void 0!==t?t:{compDetails:null,createFilterUi:null},y=null!==(n=null===C||void 0===C?void 0:C.params)&&void 0!==n?n:sz(l.userCompFactory,m,this.createFilterCompParams(u,f,"colDef"));if(w){var S;const t=null!==(S=null===v||void 0===v?void 0:v.handlerNameOrCallback)&&void 0!==S?S:null===v||void 0===v?void 0:v.filterHandler,n=tH(this.model,e);if(a.handlerGenerator!=t){var x;const i=a.handler,{handler:o,handlerParams:r}=this.createHandlerFromFunc(u,v.filterHandler,y);var D;if(a.handler=o,a.handlerParams=r,a.handlerGenerator=t,delete this.model[e],null===(x=o.init)||void 0===x||x.call(o,d(d({},r),{},{source:"init",model:null})),this.destroyBean(i),null!=n)null===(D=this.beans.filterManager)||void 0===D||D.onFilterChanged({columns:[u],source:s})}else{var E,F;const e=this.createHandlerParams(u,null===C||void 0===C?void 0:C.params);a.handlerParams=e,null===(E=(F=a.handler).refresh)||void 0===E||E.call(F,d(d({},e),{},{source:"colDef",model:n}))}}!this.areFilterCompsDifferent(null!==(i=null===(o=a.filterUi)||void 0===o?void 0:o.compDetails)&&void 0!==i?i:null,C)&&a.filterUi&&C?(a.filterUi.filterParams=y,null===(r=$V(a,w))||void 0===r||r.then(e=>{!1===(null===e||void 0===e||!e.refresh||e.refresh(y))?this.destroyFilterUi(a,u,C,b):this.dispatchLocalEvent({type:"filterParamsChanged",column:u,params:y})})):this.destroyFilterUi(a,u,C,b)}refreshHandlerAndUi(e,t,n,i){var o;const r=this.cachedFilter(e);if(!r)return i&&this.getOrCreateFilterWrapper(e,!0),PG.resolve();if(!r.isHandler)return PG.resolve();const{filterUi:s,handler:a,handlerParams:l}=r;return XV(()=>{if(s){const{created:e,filterParams:t}=s;if(e)return s.promise.then(e=>e?{filter:e,filterParams:t}:void 0);s.refreshed=!0}return PG.resolve(void 0)},a,l,t,null!==(o=this.state.get(e.getColId()))&&void 0!==o?o:{model:t},n)}setColumnFilterWrapper(e,t){const n=e.getColId();this.allColumnFilters.set(n,t),this.allColumnListeners.set(n,this.addManagedListeners(e,{colDefChanged:()=>this.filterParamsChanged(n)})[0])}areFilterCompsDifferent(e,t){if(!t||!e)return!0;const{componentClass:n}=e,{componentClass:i}=t;return!(n===i||(null===n||void 0===n?void 0:n.render)&&(null===i||void 0===i?void 0:i.render)&&n.render===i.render)}hasFloatingFilters(){return this.beans.colModel.getCols().some(e=>e.getColDef().floatingFilter)}getFilterInstance(e){const t=this.beans.colModel.getColDefCol(e);if(!t)return Promise.resolve(void 0);const n=this.getOrCreateFilterUi(t);return n?new Promise(e=>{n.then(t=>{e(az(t))})}):Promise.resolve(null)}processFilterModelUpdateQueue(){this.modelUpdates.forEach(e=>{let{model:t,source:n}=e;return this.setModel(t,n)}),this.modelUpdates=[],this.columnModelUpdates.forEach(e=>{let{key:t,model:n,resolve:i}=e;this.setModelForColumn(t,n).then(()=>i())}),this.columnModelUpdates=[]}getModelForColumn(e,t){if(t){const{state:t,model:i}=this,o=e.getColId(),r=t.get(o);var n;return r?null!==(n=r.model)&&void 0!==n?n:null:tH(i,o)}const i=this.cachedFilter(e);return i?this.getModelFromFilterWrapper(i):null}setModelForColumn(e,t){var n;if(null!==(n=this.beans.dataTypeSvc)&&void 0!==n&&n.isPendingInference){let n=()=>{};const i=new Promise(e=>{n=e});return this.columnModelUpdates.push({key:e,model:t,resolve:n}),i}return new Promise(n=>{this.setModelForColumnLegacy(e,t).then(e=>n(e))})}getStateForColumn(e){var t;return null!==(t=this.state.get(e))&&void 0!==t?t:{model:tH(this.model,e)}}setModelForColumnLegacy(e,t){const n=this.beans.colModel.getColDefCol(e),i=n?this.getOrCreateFilterWrapper(n,!0):null;return i?this.setModelOnFilterWrapper(i,t):PG.resolve()}setColDefPropsForDataType(e,t,n){const i=e.filter,o=!0===i?this.getDefaultFilterFromDataType(()=>t.baseDataType):i;if("string"!==typeof o)return;let r,s;const a=this.beans,{filterParams:l,filterValueGetter:u}=e;var c,d;"agMultiColumnFilter"===o?({filterParams:r,filterValueGetter:s}=null!==(c=null===(d=a.multiFilter)||void 0===d?void 0:d.getParamsForDataType(l,u,t,n))&&void 0!==c?c:{}):({filterParams:r,filterValueGetter:s}=EH(o,l,u,t,n,a,this.getLocaleTextFunc()));e.filterParams=r,s&&(e.filterValueGetter=s)}setColFilterActive(e,t,n,i){e.filterActive!==t&&(e.filterActive=t,e.dispatchColEvent("filterActiveChanged",n)),e.dispatchColEvent("filterChanged",n,i)}setModelOnFilterWrapper(e,t,n){return new PG(i=>{if(e.isHandler){const o=e.column,r=o.getColId(),s=this.model[r];return this.updateStoredModel(r,t),n&&t===s?void i():void this.refreshHandlerAndUi(o,t,"api").then(()=>i())}const o=$V(e);o?o.then(e=>{if("function"!==typeof(null===e||void 0===e?void 0:e.setModel))return iB(65),void i();(e.setModel(t)||PG.resolve()).then(()=>i())}):i()})}updateStoredModel(e,t){UI(t)?this.model[e]=t:delete this.model[e];const n=this.state.get(e),i={model:t,state:null===n||void 0===n?void 0:n.state};this.state.set(e,i)}filterModified(e,t){var n;null===(n=this.getOrCreateFilterUi(e))||void 0===n||n.then(n=>{this.eventSvc.dispatchEvent(d({type:"filterModified",column:e,filterInstance:n},t))})}filterUiChanged(e,t){this.gos.get("enableFilterHandlers")&&this.eventSvc.dispatchEvent(d({type:"filterUiChanged",column:e},t))}floatingFilterUiChanged(e,t){this.gos.get("enableFilterHandlers")&&this.eventSvc.dispatchEvent(d({type:"floatingFilterUiChanged",column:e},t))}updateModel(e,t,n){const i=e.getColId(),o=()=>{var t;return null===(t=this.cachedFilter(e))||void 0===t?void 0:t.filterUi};eH(t,o,()=>tH(this.model,i),()=>this.state.get(i),t=>this.updateState(e,t),e=>{var t;return null===(t=o())||void 0===t||null===(t=t.filterParams)||void 0===t?void 0:t.onModelChange(e,n)})}updateAllModels(e,t){const n=[];this.allColumnFilters.forEach((t,i)=>{const o=this.beans.colModel.getColDefCol(i);o&&eH(e,()=>t.filterUi,()=>tH(this.model,i),()=>this.state.get(i),e=>this.updateState(o,e),t=>{this.updateStoredModel(i,t),this.dispatchLocalEvent({type:"filterAction",column:o,action:e}),n.push(this.refreshHandlerAndUi(o,t,"ui"))})}),n.length&&PG.all(n).then(()=>{this.callOnFilterChangedOutsideRenderCycle({source:"columnFilter",additionalEventAttributes:t,columns:[]})})}updateOrRefreshFilterUi(e){const t=e.getColId();JV(()=>{var t;return null===(t=this.cachedFilter(e))||void 0===t?void 0:t.filterUi},()=>tH(this.model,t),()=>this.state.get(t))}updateState(e,t){this.state.set(e.getColId(),t),this.dispatchLocalEvent({type:"filterStateChanged",column:e,state:t})}canApplyAll(){const{state:e,model:t,activeFilterComps:n}=this;for(const r of n)if("COLUMN_MENU"===r.source)return!1;let i=!1;for(const r of e.keys()){var o;const n=e.get(r);if(!1===n.valid)return!1;(null!==(o=n.model)&&void 0!==o?o:null)!==tH(t,r)&&(i=!0)}return i}hasUnappliedModel(e){var t,n;const{model:i,state:o}=this;return(null!==(t=null===(n=o.get(e))||void 0===n?void 0:n.model)&&void 0!==t?t:null)!==tH(i,e)}setGlobalButtons(e){this.isGlobalButtons=e,this.dispatchLocalEvent({type:"filterGlobalButtons",isGlobal:e})}shouldKeepStateOnDetach(e,t){if("newFiltersToolPanel"===t)return!0;const n=this.beans.filterPanelSvc;return!(null===n||void 0===n||!n.isActive)&&!!n.getState(e.getColId())}destroy(){super.destroy(),this.allColumnFilters.forEach(e=>this.disposeFilterWrapper(e,"gridDestroyed")),this.allColumnListeners.clear(),this.state.clear(),this.activeFilterComps.clear()}},class extends vO{constructor(){super(...arguments),this.beanName="filterMenuFactory"}wireBeans(e){this.popupSvc=e.popupSvc}hideActiveMenu(){var e;null===(e=this.hidePopup)||void 0===e||e.call(this)}showMenuAfterMouseEvent(e,t,n,i){e&&!e.isColumn||this.showPopup(e,i=>{var o;null===(o=this.popupSvc)||void 0===o||o.positionPopupUnderMouseEvent({column:e,type:n,mouseEvent:t,ePopup:i})},n,t.target,tO(this.gos),i)}showMenuAfterButtonClick(e,t,n,i){if(e&&!e.isColumn)return;let o=-1,r="left";const s=tO(this.gos);!s&&this.gos.get("enableRtl")&&(o=1,r="right");const a=s?void 0:4*o,l=s?void 0:4;this.showPopup(e,i=>{var o;null===(o=this.popupSvc)||void 0===o||o.positionPopupByComponent({type:n,eventSource:t,ePopup:i,nudgeX:a,nudgeY:l,alignSide:r,keepWithinBounds:!0,position:"under",column:e})},n,t,s,i)}showPopup(e,t,n,i,o,r){var s;const a=e?this.createBean(new cH(e,"COLUMN_MENU")):void 0;if(this.activeMenu=a,null===a||void 0===a||!a.hasFilter()||!e)return void oB(57);const l=MN({tag:"div",cls:"ag-menu".concat(o?"":" ag-filter-menu"),role:"presentation"});let u;[this.tabListener]=this.addManagedElementListeners(l,{keydown:e=>this.trapFocusWithin(e,l)}),l.appendChild(null===a||void 0===a?void 0:a.getGui());const c=nO(this.gos)?null!==i&&void 0!==i?i:this.beans.ctrlsSvc.getGridBodyCtrl().eGridBody:void 0,d=this.getLocaleTextFunc(),h=o&&"columnFilter"!==n?d("ariaLabelColumnMenu","Column Menu"):d("ariaLabelColumnFilter","Column Filter"),p=null===(s=this.popupSvc)||void 0===s?void 0:s.addPopup({modal:!0,eChild:l,closeOnEsc:!0,closedCallback:t=>{oW(e,!1,"contextMenu");const o=t instanceof KeyboardEvent;if(this.tabListener&&(this.tabListener=this.tabListener()),o&&i&&hN(i)){const e=vV(i);null===e||void 0===e||e.focus({preventScroll:!0})}null===a||void 0===a||a.afterGuiDetached(),this.destroyBean(this.activeMenu),this.dispatchVisibleChangedEvent(!1,n,e),null===r||void 0===r||r()},positionCallback:()=>t(l),anchorToElement:c,ariaLabel:h});p&&(this.hidePopup=u=p.hideFunc),a.afterInit().then(()=>{t(l),a.afterGuiAttached({container:n,hidePopup:u})}),oW(e,!0,"contextMenu"),this.dispatchVisibleChangedEvent(!0,n,e)}trapFocusWithin(e,t){e.key!==sV.TAB||e.defaultPrevented||mV(this.beans,t,!1,e.shiftKey)||(e.preventDefault(),gV(t,e.shiftKey))}dispatchVisibleChangedEvent(e,t,n){this.eventSvc.dispatchEvent({type:"columnMenuVisibleChanged",visible:e,switchingTab:!1,key:t,column:null!==n&&void 0!==n?n:null,columnGroup:null})}isMenuEnabled(e){var t;return e.isFilterAllowed()&&(null!==(t=e.getColDef().menuTabs)&&void 0!==t?t:["filterMenuTab"]).includes("filterMenuTab")}showMenuAfterContextMenuEvent(){}destroy(){this.destroyBean(this.activeMenu),super.destroy()}}],dynamicBeans:{headerFilterCellCtrl:class extends Qj{constructor(){super(...arguments),this.iconCreated=!1}setComp(e,t,n,i,o){this.comp=e;const r=DG(this,this.beans.context,o);this.eButtonShowMainFilter=n,this.eFloatingFilterBody=i,this.setGui(t,r),this.setupActive(),this.refreshHeaderStyles(),this.setupWidth(r),this.setupLeft(r),this.setupHover(r),this.setupFocus(r),this.setupAria(),this.setupFilterButton(),this.setupUserComp(),this.setupSyncWithFilter(r),this.setupUi(),r.addManagedElementListeners(this.eButtonShowMainFilter,{click:this.showParentFilter.bind(this)}),this.setupFilterChangedListener(r);const s=()=>this.onColDefChanged(r);r.addManagedListeners(this.column,{colDefChanged:s}),r.addManagedEventListeners({filterSwitched:e=>{let{column:t}=e;t===this.column&&s()}}),r.addDestroyFunc(()=>{this.eButtonShowMainFilter=null,this.eFloatingFilterBody=null,this.userCompDetails=null,this.clearComponent()})}resizeHeader(){}moveHeader(){}getHeaderClassParams(){const{column:e,beans:t}=this,n=e.colDef;return iO(t.gos,{colDef:n,column:e,floatingFilter:!0})}setupActive(){const e=this.column.getColDef(),t=!!e.filter,n=!!e.floatingFilter;this.active=t&&n}setupUi(){if(this.comp.setButtonWrapperDisplayed(!this.suppressFilterButton&&this.active),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-full-body",this.suppressFilterButton),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-body",!this.suppressFilterButton),!this.active||this.iconCreated)return;const e=hW("filter",this.beans,this.column);e&&(this.iconCreated=!0,this.eButtonShowMainFilter.appendChild(e))}setupFocus(e){e.createManagedBean(new IH(this.eGui,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))}setupAria(){const e=this.getLocaleTextFunc();mL(this.eButtonShowMainFilter,e("ariaFilterMenuOpen","Open Filter Menu"))}onTabKeyDown(e){const{beans:t}=this;if(SB(t)===this.eGui)return;const n=mV(t,this.eGui,null,e.shiftKey);var i;if(n)return null===(i=t.headerNavigation)||void 0===i||i.scrollToColumn(this.column),e.preventDefault(),void n.focus();const o=this.findNextColumnWithFloatingFilter(e.shiftKey);o&&t.focusSvc.focusHeaderPosition({headerPosition:{headerRowIndex:this.rowCtrl.rowIndex,column:o},event:e})&&e.preventDefault()}findNextColumnWithFloatingFilter(e){const t=this.beans.visibleCols;let n=this.column;do{if(n=e?t.getColBefore(n):t.getColAfter(n),!n)break}while(!n.getColDef().filter||!n.getColDef().floatingFilter);return n}handleKeyDown(e){super.handleKeyDown(e);const t=this.getWrapperHasFocus();switch(e.key){case sV.UP:case sV.DOWN:case sV.LEFT:case sV.RIGHT:if(t)return;cO(e);case sV.ENTER:t&&gV(this.eGui)&&e.preventDefault();break;case sV.ESCAPE:t||this.eGui.focus()}}onFocusIn(e){if(this.eGui.contains(e.relatedTarget))return;const t=!!e.relatedTarget&&!e.relatedTarget.classList.contains("ag-floating-filter"),n=!!e.relatedTarget&&eN(e.relatedTarget,"ag-floating-filter");if(t&&n&&e.target===this.eGui){const e=this.lastFocusEvent,t=!(!e||e.key!==sV.TAB);if(e&&t){const t=e.shiftKey;gV(this.eGui,t)}}this.focusThis()}setupHover(e){var t;null===(t=this.beans.colHover)||void 0===t||t.addHeaderFilterColumnHoverListener(e,this.comp,this.column,this.eGui)}setupLeft(e){const t=new Zj(this.column,this.eGui,this.beans);e.createManagedBean(t)}setupFilterButton(){var e;this.suppressFilterButton=!(null!==(e=this.beans.menuSvc)&&void 0!==e&&e.isFloatingFilterButtonEnabled(this.column)),this.highlightFilterButtonWhenActive=!tO(this.gos)}setupUserComp(){var e;if(!this.active)return;const t=null===(e=this.beans.colFilter)||void 0===e?void 0:e.getFloatingFilterCompDetails(this.column,()=>this.showParentFilter());t&&this.setCompDetails(t)}setCompDetails(e){this.userCompDetails=e,this.comp.setCompDetails(e)}showParentFilter(){var e;const t=this.suppressFilterButton?this.eFloatingFilterBody:this.eButtonShowMainFilter;null===(e=this.beans.menuSvc)||void 0===e||e.showFilterMenu({column:this.column,buttonElement:t,containerType:"floatingFilter",positionBy:"button"})}setupSyncWithFilter(e){if(!this.active)return;const{beans:{colFilter:t},column:n,gos:i}=this,o=e=>{if("filterDestroyed"===(null===e||void 0===e?void 0:e.source)&&(!this.isAlive()||null===t||void 0===t||!t.isAlive()))return;const o=this.comp.getFloatingFilterComp();o&&o.then(o=>{if(o){var r;if(i.get("enableFilterHandlers")){const t=e;let n="filter";return null!==t&&void 0!==t&&t.afterFloatingFilter?n="ui":null!==t&&void 0!==t&&t.afterDataChange?n="dataChanged":"api"===(null===e||void 0===e?void 0:e.source)&&(n="api"),void this.updateFloatingFilterParams(this.userCompDetails,n)}const s=null===t||void 0===t?void 0:t.getCurrentFloatingFilterParentModel(n),a=e?d(d({},e),{},{columns:null!==(r=e.columns)&&void 0!==r?r:[],source:"api"===e.source?"api":"columnFilter"}):null;o.onParentModelChanged(s,a)}})};[this.destroySyncListener]=e.addManagedListeners(n,{filterChanged:o}),null!==t&&void 0!==t&&t.isFilterActive(n)&&o(null)}setupWidth(e){const t=()=>{const e="".concat(this.column.getActualWidth(),"px");this.comp.setWidth(e)};e.addManagedListeners(this.column,{widthChanged:t}),t()}setupFilterChangedListener(e){this.active&&([this.destroyFilterChangedListener]=e.addManagedListeners(this.column,{filterChanged:this.updateFilterButton.bind(this)}),this.updateFilterButton())}updateFilterButton(){if(!this.suppressFilterButton&&this.comp){var e;const t=!(null===(e=this.beans.filterManager)||void 0===e||!e.isFilterAllowed(this.column));this.comp.setButtonWrapperDisplayed(t),this.highlightFilterButtonWhenActive&&t&&this.eButtonShowMainFilter.classList.toggle("ag-filter-active",this.column.isFilterActive())}}onColDefChanged(e){const t=this.active;this.setupActive();const n=!t&&this.active;t&&!this.active&&(this.destroySyncListener(),this.destroyFilterChangedListener());const i=this.beans.colFilter,o=this.active?null===i||void 0===i?void 0:i.getFloatingFilterCompDetails(this.column,()=>this.showParentFilter()):null,r=this.comp.getFloatingFilterComp();r&&o?r.then(t=>{var r;!t||null!==i&&void 0!==i&&i.areFilterCompsDifferent(null!==(r=this.userCompDetails)&&void 0!==r?r:null,o)?this.updateCompDetails(e,o,n):this.updateFloatingFilterParams(o,"colDef")}):this.updateCompDetails(e,o,n)}updateCompDetails(e,t,n){this.isAlive()&&(this.setCompDetails(t),this.setupFilterButton(),this.setupUi(),n&&(this.setupSyncWithFilter(e),this.setupFilterChangedListener(e)))}updateFloatingFilterParams(e,t){var n;if(!e)return;let i=e.params;null===(n=this.comp.getFloatingFilterComp())||void 0===n||n.then(e=>{if("function"===typeof(null===e||void 0===e?void 0:e.refresh)){var n,o;if(this.gos.get("enableFilterHandlers"))i=d(d({},i),{},{model:tH(null!==(n=null===(o=this.beans.colFilter)||void 0===o?void 0:o.model)&&void 0!==n?n:{},this.column.getColId()),source:t});e.refresh(i)}})}addResizeAndMoveKeyboardListeners(){}destroy(){super.destroy(),this.destroySyncListener=null,this.destroyFilterChangedListener=null}}},icons:{filter:"filter",filterActive:"filter"},apiFunctions:{isColumnFilterPresent:function(e){const t=e.filterManager;return!(null===t||void 0===t||!t.isColumnFilterPresent())||!(null===t||void 0===t||!t.isAggregateFilterPresent())},getColumnFilterInstance:function(e,t){var n,i;return null!==(n=null===(i=e.filterManager)||void 0===i?void 0:i.getColumnFilterInstance(t))&&void 0!==n?n:Promise.resolve(void 0)},destroyFilter:function(e,t){const n=e.colModel.getColDefCol(t);var i;if(n)return null===(i=e.colFilter)||void 0===i?void 0:i.destroyFilter(n,"api")},setFilterModel:function(e,t){e.frameworkOverrides.wrapIncoming(()=>{var n;return null===(n=e.filterManager)||void 0===n?void 0:n.setFilterModel(t)})},getFilterModel:function(e){var t,n;return null!==(t=null===(n=e.filterManager)||void 0===n?void 0:n.getFilterModel())&&void 0!==t?t:{}},getColumnFilterModel:function(e,t,n){var i;const{gos:o,colModel:r,colFilter:s}=e;n&&!o.get("enableFilterHandlers")&&(iB(288),n=!1);const a=r.getColDefCol(t);return a&&null!==(i=null===s||void 0===s?void 0:s.getModelForColumn(a,n))&&void 0!==i?i:null},setColumnFilterModel:function(e,t,n){var i,o;return null!==(i=null===(o=e.filterManager)||void 0===o?void 0:o.setColumnFilterModel(t,n))&&void 0!==i?i:Promise.resolve()},showColumnFilter:function(e,t){var n;const i=e.colModel.getCol(t);i?null===(n=e.menuSvc)||void 0===n||n.showFilterMenu({column:i,containerType:"columnFilter",positionBy:"auto"}):oB(12,{colKey:t})},hideColumnFilter:function(e){var t;null===(t=e.menuSvc)||void 0===t||t.hideFilterMenu()},getColumnFilterHandler:function(e,t){var n;const i=e.colModel.getCol(t);if(i)return null===(n=e.colFilter)||void 0===n?void 0:n.getHandler(i,!0);oB(12,{colKey:t})},doFilterAction:function(e,t){const{colModel:n,colFilter:i,gos:o}=e;if(!o.get("enableFilterHandlers"))return void iB(287);const{colId:r,action:s}=t;if(r){const e=n.getColById(r);e&&(null===i||void 0===i||i.updateModel(e,s))}else null===i||void 0===i||i.updateAllModels(s)}},dependsOn:[I$,ZZ,L$,qZ]},B$={moduleName:"CustomFilter",version:KN,userComponents:{agReadOnlyFloatingFilter:class extends AG{constructor(){super(XZ,[qW]),this.eFloatingFilterText=kG}init(e){this.params=e;const t=this.beans.colNames.getDisplayNameForColumn(e.column,"header",!0);if(this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel("".concat(t," ").concat(this.getLocaleTextFunc()("ariaFilterInput","Filter Input"))),this.gos.get("enableFilterHandlers")){const t=e,n=t.getHandler();if(n.getModelAsString){const e=n.getModelAsString(t.model);this.eFloatingFilterText.setValue(e)}}}onParentModelChanged(e){null!=e?this.params.parentFilterInstance(t=>{if(t.getModelAsString){const n=t.getModelAsString(e);this.eFloatingFilterText.setValue(n)}}):this.eFloatingFilterText.setValue("")}refresh(e){this.init(e)}}},dependsOn:[N$]},O$={moduleName:"TextFilter",version:KN,dependsOn:[N$],userComponents:{agTextColumnFilter:{classImp:class extends n${constructor(){super("textFilter",D$,A$),this.filterType="text",this.eValuesFrom=[],this.eValuesTo=[],this.defaultDebounceMs=500}createCondition(e){const t=this.getConditionType(e),n={filterType:this.filterType,type:t},i=this.getValuesWithSideEffects(e,!0);return i.length>0&&(n.filter=i[0]),i.length>1&&(n.filterTo=i[1]),n}areSimpleModelsEqual(e,t){return e.filter===t.filter&&e.filterTo===t.filterTo&&e.type===t.type}getInputs(e){const{eValuesFrom:t,eValuesTo:n}=this;return e>=t.length?[null,null]:[t[e],n[e]]}getValues(e){return this.getValuesWithSideEffects(e,!1)}getValuesWithSideEffects(e,t){const n=[];return this.forEachPositionInput(e,(e,i,o,r)=>{if(i<r){let i=WI(e.getValue());var s;if(t&&this.params.trimInput)i=null!==(s=x$(i))&&void 0!==s?s:null,e.setValue(i,!0);n.push(i)}}),n}createEValue(){const e=MN({tag:"div",cls:"ag-filter-body",role:"presentation"}),{eValuesFrom:t,eValuesTo:n}=this;return this.createFromToElement(e,t,"from"),this.createFromToElement(e,n,"to"),e}createFromToElement(e,t,n){const i=this.createManagedBean(new KW);i.addCss("ag-filter-".concat(n)),i.addCss("ag-filter-filter"),t.push(i),e.appendChild(i.getGui())}removeEValues(e,t){const n=n=>this.removeComponents(n,e,t),{eValuesFrom:i,eValuesTo:o}=this;n(i),n(o)}},params:{useForm:!0}},agTextColumnFloatingFilter:class extends F${constructor(){super(...arguments),this.FilterModelFormatterClass=R$,this.filterType="text",this.defaultOptions=A$}createFloatingFilterInputService(){return this.createManagedBean(new S$)}}},dynamicBeans:{agTextColumnFilterHandler:class extends a${constructor(){super(D$,A$),this.filterType="text",this.FilterModelFormatterClass=R$}updateParams(e){var t,n;super.updateParams(e);const i=e.filterParams;this.matcher=null!==(t=i.textMatcher)&&void 0!==t?t:P$,this.formatter=null!==(n=i.textFormatter)&&void 0!==n?n:i.caseSensitive?T$:_$}evaluateNullValue(e){return!!e&&["notEqual","notContains","blank"].indexOf(e)>=0}evaluateNonNullValue(e,t,n,i){const o=e.map(e=>this.formatter(e))||[],r=this.formatter(t),{api:s,colDef:a,column:l,context:u,filterParams:{textFormatter:c}}=this.params;if("blank"===n.type)return e$(t);if("notBlank"===n.type)return!e$(t);const h={api:s,colDef:a,column:l,context:u,node:i.node,data:i.data,filterOption:n.type,value:r,textFormatter:c};return o.some(e=>this.matcher(d(d({},h),{},{filterText:e})))}}}},G$={moduleName:"NumberFilter",version:KN,dependsOn:[N$],userComponents:{agNumberColumnFilter:{classImp:class extends n${constructor(){super("numberFilter",b$,f$),this.eValuesFrom=[],this.eValuesTo=[],this.filterType="number",this.defaultDebounceMs=500}setElementValue(e,t,n){const{numberFormatter:i}=this.params,o=!n&&i?i(null!==t&&void 0!==t?t:null):t;super.setElementValue(e,o)}createEValue(){const e=w$(this.params),t=MN({tag:"div",cls:"ag-filter-body",role:"presentation"});return this.createFromToElement(t,this.eValuesFrom,"from",e),this.createFromToElement(t,this.eValuesTo,"to",e),t}createFromToElement(e,t,n,i){const o=this.createManagedBean(i?new KW({allowedCharPattern:i}):new ZW);o.addCss("ag-filter-".concat(n)),o.addCss("ag-filter-filter"),t.push(o),e.appendChild(o.getGui())}removeEValues(e,t){const n=n=>this.removeComponents(n,e,t);n(this.eValuesFrom),n(this.eValuesTo)}getValues(e){const t=[];return this.forEachPositionInput(e,(e,n,i,o)=>{n<o&&t.push(C$(this.stringToFloat(e.getValue())))}),t}areSimpleModelsEqual(e,t){return e.filter===t.filter&&e.filterTo===t.filterTo&&e.type===t.type}stringToFloat(e){if("number"===typeof e)return e;let t=WI(e);null!=t&&""===t.trim()&&(t=null);const n=this.params.numberParser;return n?n(t):null==t||"-"===t.trim()?null:parseFloat(t)}createCondition(e){const t=this.getConditionType(e),n={filterType:this.filterType,type:t},i=this.getValues(e);return i.length>0&&(n.filter=i[0]),i.length>1&&(n.filterTo=i[1]),n}getInputs(e){const{eValuesFrom:t,eValuesTo:n}=this;return e>=t.length?[null,null]:[t[e],n[e]]}hasInvalidInputs(){let e=!1;return this.forEachInput(t=>{t.getInputElement().validity.valid||(e=!0)}),e}},params:{useForm:!0}},agNumberColumnFloatingFilter:class extends F${constructor(){super(...arguments),this.FilterModelFormatterClass=y$,this.filterType="number",this.defaultOptions=f$}updateParams(e){w$(e.filterParams)!==this.allowedCharPattern&&this.recreateFloatingFilterInputService(e),super.updateParams(e)}createFloatingFilterInputService(e){return this.allowedCharPattern=w$(e.filterParams),this.allowedCharPattern?this.createManagedBean(new S$({config:{allowedCharPattern:this.allowedCharPattern}})):this.createManagedBean(new k$)}convertValue(e){return e?Number(e):null}}},dynamicBeans:{agNumberColumnFilterHandler:class extends l${constructor(){super(b$,f$),this.filterType="number",this.FilterModelFormatterClass=y$}comparator(){return(e,t)=>e===t?0:e<t?1:-1}isValid(e){return!isNaN(e)}}}},z$={moduleName:"DateFilter",version:KN,dependsOn:[N$],userComponents:{agDateColumnFilter:{classImp:class extends n${constructor(){super("dateFilter",r$,o$),this.eConditionPanelsFrom=[],this.eConditionPanelsTo=[],this.dateConditionFromComps=[],this.dateConditionToComps=[],this.minValidYear=1e3,this.maxValidYear=s$,this.minValidDate=null,this.maxValidDate=null,this.filterType="date"}afterGuiAttached(e){super.afterGuiAttached(e),this.dateConditionFromComps[0].afterGuiAttached(e)}commonUpdateSimpleParams(e){super.commonUpdateSimpleParams(e);const t=(t,n)=>{const i=e[t];if(null!=i){if(!isNaN(i))return null==i?n:Number(i);iB(82,{param:t})}return n},n=t("minValidYear",1e3),i=t("maxValidYear",s$);this.minValidYear=n,this.maxValidYear=i,n>i&&iB(83);const{minValidDate:o,maxValidDate:r}=e,s=o instanceof Date?o:wH(o);this.minValidDate=s;const a=r instanceof Date?r:wH(r);this.maxValidDate=a,s&&a&&s>a&&iB(84)}createDateCompWrapper(e){const{beans:{userCompFactory:t,context:n,gos:i},params:o}=this,r=new i$(n,t,o.colDef,iO(i,{onDateChanged:()=>this.onUiChanged(),filterParams:o,location:"filter"}),e);return this.addDestroyFunc(()=>r.destroy()),r}setElementValue(e,t){e.setDate(t)}setElementDisplayed(e,t){e.setDisplayed(t)}setElementDisabled(e,t){e.setDisabled(t)}createEValue(){const e=MN({tag:"div",cls:"ag-filter-body"});return this.createFromToElement(e,this.eConditionPanelsFrom,this.dateConditionFromComps,"from"),this.createFromToElement(e,this.eConditionPanelsTo,this.dateConditionToComps,"to"),e}createFromToElement(e,t,n,i){const o=MN({tag:"div",cls:"ag-filter-".concat(i," ag-filter-date-").concat(i)});t.push(o),e.appendChild(o),n.push(this.createDateCompWrapper(o))}removeEValues(e,t){this.removeDateComps(this.dateConditionFromComps,e,t),this.removeDateComps(this.dateConditionToComps,e,t),JZ(this.eConditionPanelsFrom,e,t),JZ(this.eConditionPanelsTo,e,t)}removeDateComps(e,t,n){JZ(e,t,n).forEach(e=>e.destroy())}isValidDateValue(e){if(null===e)return!1;const{minValidDate:t,maxValidDate:n,minValidYear:i,maxValidYear:o}=this;if(t){if(e<t)return!1}else if(e.getUTCFullYear()<i)return!1;if(n){if(e>n)return!1}else if(e.getUTCFullYear()>o)return!1;return!0}isConditionUiComplete(e){if(!super.isConditionUiComplete(e))return!1;let t=!0;return this.forEachInput((n,i,o,r)=>{o!==e||!t||i>=r||(t=t&&this.isValidDateValue(n.getDate()))}),t}areSimpleModelsEqual(e,t){return e.dateFrom===t.dateFrom&&e.dateTo===t.dateTo&&e.type===t.type}createCondition(e){const t=this.getConditionType(e),n={},i=this.getValues(e);return i.length>0&&(n.dateFrom=pH(i[0])),i.length>1&&(n.dateTo=pH(i[1])),d({dateFrom:null,dateTo:null,filterType:this.filterType,type:t},n)}resetPlaceholder(){const e=this.getLocaleTextFunc(),t=this.translate("dateFormatOoo"),n=e("ariaFilterValue","Filter Value");this.forEachInput(e=>{e.setInputPlaceholder(t),e.setInputAriaLabel(n)})}getInputs(e){const{dateConditionFromComps:t,dateConditionToComps:n}=this;return e>=t.length?[null,null]:[t[e],n[e]]}getValues(e){const t=[];return this.forEachPositionInput(e,(e,n,i,o)=>{n<o&&t.push(e.getDate())}),t}translate(e){return"lessThan"===e?super.translate("before"):"greaterThan"===e?super.translate("after"):super.translate(e)}},params:{useForm:!0}},agDateInput:class extends AG{constructor(){super(v$,[qW]),this.eDateInput=kG,this.isApply=!1,this.applyOnFocusOut=!1}init(e){this.params=e,this.setParams(e);const t=this.eDateInput.getInputElement();this.addManagedListeners(t,{mouseDown:()=>{this.eDateInput.isDisabled()||this.usingSafariDatePicker||t.focus({preventScroll:!0})},input:this.handleInput.bind(this,!1),change:this.handleInput.bind(this,!0),focusout:this.handleFocusOut.bind(this)})}handleInput(e){if(!this.eDateInput.isDisabled())return this.isApply?(this.applyOnFocusOut=!e,void(e&&this.params.onDateChanged())):void(e||this.params.onDateChanged())}handleFocusOut(){this.applyOnFocusOut&&(this.applyOnFocusOut=!1,this.params.onDateChanged())}setParams(e){var t,n;const i=this.eDateInput.getInputElement(),o=this.shouldUseBrowserDatePicker(e);this.usingSafariDatePicker=o&&VL();const{minValidYear:r,maxValidYear:s,minValidDate:a,maxValidDate:l,buttons:u,includeTime:c,colDef:d}=e.filterParams||{},h=this.beans.dataTypeSvc,p=null!==(t=null!==c&&void 0!==c?c:null===h||void 0===h||null===(n=h.getDateIncludesTimeFlag)||void 0===n?void 0:n.call(h,d.cellDataType))&&void 0!==t&&t;if(o?p?(i.type="datetime-local",i.step="1"):i.type="date":i.type="text",a&&r&&iB(85),l&&s&&iB(86),a&&l){const[e,t]=[a,l].map(e=>e instanceof Date?e:wH(e));e&&t&&e.getTime()>t.getTime()&&iB(87)}a?a instanceof Date?i.min=vH(a):i.min=a:r&&(i.min="".concat(r,"-01-01")),l?l instanceof Date?i.max=vH(l):i.max=l:s&&(i.max="".concat(s,"-12-31")),this.isApply="floatingFilter"===e.location&&!(null===u||void 0===u||!u.includes("apply"))}refresh(e){this.params=e,this.setParams(e)}getDate(){return wH(this.eDateInput.getValue())}setDate(e){var t,n;const i=this.params.filterParams.colDef.cellDataType,o=null!==(t=null===(n=this.beans.dataTypeSvc)||void 0===n?void 0:n.getDateIncludesTimeFlag(i))&&void 0!==t&&t;this.eDateInput.setValue(pH(e,o))}setInputPlaceholder(e){this.eDateInput.setInputPlaceholder(e)}setInputAriaLabel(e){this.eDateInput.setAriaLabel(e)}setDisabled(e){this.eDateInput.setDisabled(e)}afterGuiAttached(e){e&&e.suppressFocus||this.eDateInput.getInputElement().focus({preventScroll:!0})}shouldUseBrowserDatePicker(e){var t,n;return null===(t=null===e||void 0===e||null===(n=e.filterParams)||void 0===n?void 0:n.browserDatePicker)||void 0===t||t}},agDateColumnFloatingFilter:class extends g${constructor(){super(m$,[qW]),this.eReadOnlyText=kG,this.eDateWrapper=kG,this.FilterModelFormatterClass=h$,this.filterType="date",this.defaultOptions=o$}setParams(e){super.setParams(e),this.createDateComponent();const t=this.getLocaleTextFunc();this.eReadOnlyText.setDisabled(!0).setInputAriaLabel(t("ariaDateFilterInput","Date Filter Input"))}updateParams(e){super.updateParams(e),this.dateComp.updateParams(this.getDateComponentParams()),this.updateCompOnModelChange(e.currentParentModel())}updateCompOnModelChange(e){const t=!this.readOnly&&this.canWeEditAfterModelFromParentFilter(e);if(this.setEditable(t),t){const t=e?wH(e.dateFrom):null;this.dateComp.setDate(t),this.eReadOnlyText.setValue("")}else this.eReadOnlyText.setValue(this.filterModelFormatter.getModelAsString(e)),this.dateComp.setDate(null)}setEditable(e){XL(this.eDateWrapper,e),XL(this.eReadOnlyText.getGui(),!e)}onModelUpdated(e){super.setLastTypeFromModel(e),this.updateCompOnModelChange(e)}onDateChanged(){const e=this.dateComp.getDate();if(this.reactive){var t;const n=this.params;n.onUiChange();const i=n.model,o=pH(e),r=null==o?null:d(d({},null!==i&&void 0!==i?i:{filterType:this.filterType,type:null!==(t=this.lastType)&&void 0!==t?t:this.optionsFactory.defaultOption}),{},{dateFrom:o});n.onModelChange(r,{afterFloatingFilter:!0})}else this.params.parentFilterInstance(t=>{null===t||void 0===t||t.onFloatingFilterChanged(this.lastType||null,e)})}getDateComponentParams(){const{filterParams:e}=this.params,t=sH(e,this.defaultDebounceMs);return iO(this.gos,{onDateChanged:HN(this,this.onDateChanged.bind(this),t),filterParams:e,location:"floatingFilter"})}createDateComponent(){const{beans:{context:e,userCompFactory:t},eDateWrapper:n,params:i}=this;this.dateComp=new i$(e,t,i.column.getColDef(),this.getDateComponentParams(),n,e=>{e.setInputAriaLabel(this.getAriaLabel(i))}),this.addDestroyFunc(()=>this.dateComp.destroy())}}},dynamicBeans:{agDateColumnFilterHandler:class extends l${constructor(){super(r$,o$),this.filterType="date",this.FilterModelFormatterClass=h$}comparator(){var e;return null!==(e=this.params.filterParams.comparator)&&void 0!==e?e:p$}isValid(e){const t=this.params.filterParams.isValidDate;return!t||t(e)}}}},V$={moduleName:"QuickFilterCore",version:KN,rowModels:["clientSide"],beans:[class extends vO{constructor(){super(...arguments),this.beanName="quickFilter",this.quickFilter=null,this.quickFilterParts=null}postConstruct(){const e=this.resetCache.bind(this),t=this.gos;this.addManagedEventListeners({columnPivotModeChanged:e,newColumnsLoaded:e,columnRowGroupChanged:e,columnVisible:()=>{t.get("includeHiddenColumnsInQuickFilter")||this.resetCache()}}),this.addManagedPropertyListener("quickFilterText",e=>this.setFilter(e.currentValue)),this.addManagedPropertyListeners(["includeHiddenColumnsInQuickFilter","applyQuickFilterBeforePivotOrAgg"],()=>this.onColumnConfigChanged()),this.quickFilter=this.parseFilter(t.get("quickFilterText")),this.parser=t.get("quickFilterParser"),this.matcher=t.get("quickFilterMatcher"),this.setFilterParts(),this.addManagedPropertyListeners(["quickFilterMatcher","quickFilterParser"],()=>this.setParserAndMatcher())}refreshCols(){var e,t;const{autoColSvc:n,colModel:i,gos:o,pivotResultCols:r}=this.beans,s=i.isPivotMode(),a=null===n||void 0===n?void 0:n.getColumns(),l=i.getColDefCols();let u=null!==(e=s&&!o.get("applyQuickFilterBeforePivotOrAgg")?null===r||void 0===r||null===(t=r.getPivotResultCols())||void 0===t?void 0:t.list:l)&&void 0!==e?e:[];a&&(u=u.concat(a)),this.colsToUse=o.get("includeHiddenColumnsInQuickFilter")?u:u.filter(e=>e.isVisible()||e.isRowGroupActive())}isFilterPresent(){return null!==this.quickFilter}doesRowPass(e){const t=this.gos.get("cacheQuickFilter");return this.matcher?this.doesRowPassMatcher(t,e):this.quickFilterParts.every(n=>t?this.doesRowPassCache(e,n):this.doesRowPassNoCache(e,n))}resetCache(){this.beans.rowModel.forEachNode(e=>e.quickFilterAggregateText=null)}getText(){return this.gos.get("quickFilterText")}setFilterParts(){const{quickFilter:e,parser:t}=this;this.quickFilterParts=e?t?t(e):e.split(" "):null}parseFilter(e){return UI(e)?e.toUpperCase():null}setFilter(e){if(null!=e&&"string"!==typeof e)return void iB(70,{newFilter:e});const t=this.parseFilter(e);this.quickFilter!==t&&(this.quickFilter=t,this.setFilterParts(),this.dispatchLocalEvent({type:"quickFilterChanged"}))}setParserAndMatcher(){const e=this.gos.get("quickFilterParser"),t=this.gos.get("quickFilterMatcher"),n=e!==this.parser||t!==this.matcher;this.parser=e,this.matcher=t,n&&(this.setFilterParts(),this.dispatchLocalEvent({type:"quickFilterChanged"}))}onColumnConfigChanged(){this.refreshCols(),this.resetCache(),this.isFilterPresent()&&this.dispatchLocalEvent({type:"quickFilterChanged"})}doesRowPassNoCache(e,t){return this.colsToUse.some(n=>{const i=this.getTextForColumn(n,e);return UI(i)&&i.indexOf(t)>=0})}doesRowPassCache(e,t){return this.checkGenerateAggText(e),e.quickFilterAggregateText.indexOf(t)>=0}doesRowPassMatcher(e,t){let n;e?(this.checkGenerateAggText(t),n=t.quickFilterAggregateText):n=this.getAggText(t);const{quickFilterParts:i,matcher:o}=this;return o(i,n)}checkGenerateAggText(e){e.quickFilterAggregateText||(e.quickFilterAggregateText=this.getAggText(e))}getTextForColumn(e,t){let n=this.beans.filterValueSvc.getValue(e,t);const i=e.getColDef();if(i.getQuickFilterText){const o=iO(this.gos,{value:n,node:t,data:t.data,column:e,colDef:i});n=i.getQuickFilterText(o)}return UI(n)?n.toString().toUpperCase():null}getAggText(e){const t=[];return this.colsToUse.forEach(n=>{const i=this.getTextForColumn(n,e);UI(i)&&t.push(i)}),t.join("\n")}}],dependsOn:[I$,L$]},H$={moduleName:"QuickFilter",version:KN,apiFunctions:{isQuickFilterPresent:function(e){var t;return!(null===(t=e.quickFilter)||void 0===t||!t.isFilterPresent())},getQuickFilter:function(e){var t;return null===(t=e.quickFilter)||void 0===t?void 0:t.getText()},resetQuickFilter:function(e){var t;null===(t=e.quickFilter)||void 0===t||t.resetCache()}},dependsOn:[V$]},j$={moduleName:"ExternalFilter",version:KN,dependsOn:[I$]},W$=(e,t,n)=>{var i,o;const{editModelSvc:r}=e,s=null===r||void 0===r||null===(i=r.getCellValidationModel())||void 0===i||null===(i=i.getCellValidation(t))||void 0===i?void 0:i.errorMessages,a=null===r||void 0===r||null===(o=r.getRowValidationModel().getRowValidation(t))||void 0===o?void 0:o.errorMessages,l=s||a;return l&&l.length?l.join(n("tooltipValidationErrorSeparator",". ")):void 0},U$={moduleName:"Tooltip",version:KN,beans:[class extends vO{constructor(){super(...arguments),this.beanName="tooltipSvc"}setupHeaderTooltip(e,t,n,i){e&&t.destroyBean(e);const o=AZ(this.gos),{column:r,eGui:s}=t,a=r.getColDef();i||!o||a.headerComponent||(i=wN(()=>s.querySelector(".ag-header-cell-text")));const l={getColumn:()=>r,getColDef:()=>r.getColDef(),getGui:()=>s,getLocation:()=>"header",getTooltipValue:()=>{if(null!=n)return n;return r.getColDef().headerTooltip},shouldDisplayTooltip:i};let u=this.createTooltipFeature(l);return u&&(u=t.createBean(u),t.setRefreshFunction("tooltip",()=>u.refreshTooltip())),u}setupHeaderGroupTooltip(e,t,n,i){e&&t.destroyBean(e);const o=AZ(this.gos),{column:r,eGui:s}=t,a=r.getColGroupDef();i||!o||null!==a&&void 0!==a&&a.headerGroupComponent||(i=wN(()=>s.querySelector(".ag-header-group-text")));const l={getColumn:()=>r,getGui:()=>s,getLocation:()=>"headerGroup",getTooltipValue:()=>null!==n&&void 0!==n?n:a&&a.headerTooltip,shouldDisplayTooltip:i};a&&(l.getColDef=()=>a);const u=this.createTooltipFeature(l);return u?t.createBean(u):u}enableCellTooltipFeature(e,t,n){const{beans:i}=this,{gos:o,editSvc:r}=i,{column:s,rowNode:a}=e;let l="cell";const u=AZ(o);n||(n=u&&!e.isCellRenderer()?()=>{const t=!(null===r||void 0===r||!r.isEditing(e));if(!t&&W$(i,e,this.getLocaleTextFunc()))return!0;if(!s.isTooltipEnabled())return!1;const n=wN(()=>{const t=e.eGui;return 0===t.children.length?t:t.querySelector(".ag-cell-value")});return!t&&n()}:()=>!(null!==r&&void 0!==r&&r.isEditing(e)));const c={getColumn:()=>s,getColDef:()=>s.getColDef(),getRowIndex:()=>e.cellPosition.rowIndex,getRowNode:()=>a,getGui:()=>e.eGui,getLocation:()=>l,getTooltipValue:null!=t?()=>t:()=>{const t=!!(null===r||void 0===r||!r.isEditing(e))&&W$(i,e,this.getLocaleTextFunc());if(t)return l="cellEditor",t;l="cell";const n=s.getColDef(),u=a.data;if(n.tooltipField&&UI(u))return QI(u,n.tooltipField,s.isTooltipFieldContainsDots());const c=n.tooltipValueGetter;return c?c(iO(o,{location:"cell",colDef:s.getColDef(),column:s,rowIndex:e.cellPosition.rowIndex,node:a,data:a.data,value:e.value,valueFormatted:e.valueFormatted})):null},getValueFormatted:()=>e.valueFormatted,shouldDisplayTooltip:n};return this.createTooltipFeature(c,i)}setupFullWidthRowTooltip(e,t,n,i){const o={getGui:()=>t.getFullWidthElement(),getTooltipValue:()=>n,getLocation:()=>"fullWidthRow",shouldDisplayTooltip:i},r=this.beans,s=r.context;e&&t.destroyBean(e,s);const a=this.createTooltipFeature(o,r);if(a)return t.createBean(a,s)}setupCellEditorTooltip(e,t){var n,i;const{beans:o}=this,{context:r}=o,s=(null===(n=t.getValidationElement)||void 0===n?void 0:n.call(t,!0))||!(null!==(i=t.isPopup)&&void 0!==i&&i.call(t))&&e.eGui;if(!s)return;const a={getGui:()=>s,getTooltipValue:()=>W$(o,e,this.getLocaleTextFunc()),getLocation:()=>"cellEditor",shouldDisplayTooltip:()=>{var e,t;const{editModelSvc:n}=o,i=null===n||void 0===n||null===(e=n.getRowValidationModel())||void 0===e?void 0:e.getRowValidationMap(),r=null===n||void 0===n||null===(t=n.getCellValidationModel())||void 0===t?void 0:t.getCellValidationMap(),s=!!i&&i.size>0,a=!!r&&r.size>0;return s||a}},l=this.createTooltipFeature(a,o);return l?e.createBean(l,r):void 0}initCol(e){const{colDef:t}=e;e.tooltipEnabled=UI(t.tooltipField)||UI(t.tooltipValueGetter)||UI(t.tooltipComponent)}createTooltipFeature(e,t){return this.beans.registry.createDynamicBean("tooltipFeature",!1,e,t)}}],dynamicBeans:{tooltipFeature:class extends vO{constructor(e,t){super(),this.ctrl=e,t&&(this.beans=t)}postConstruct(){this.refreshTooltip()}setBrowserTooltip(e,t){const n="title",i=this.ctrl.getGui();i&&(null==e||""==e&&!t?i.removeAttribute(n):i.setAttribute(n,e))}updateTooltipText(){const{getTooltipValue:e}=this.ctrl;e&&(this.tooltip=e())}createTooltipFeatureIfNeeded(){null==this.tooltipManager&&(this.tooltipManager=this.createBean(new kZ(this.ctrl,()=>this.tooltip),this.beans.context))}setTooltipAndRefresh(e){this.tooltip=e,this.refreshTooltip()}refreshTooltip(e){this.browserTooltips=this.beans.gos.get("enableBrowserTooltips"),this.updateTooltipText(),this.browserTooltips?(this.setBrowserTooltip(this.tooltip),this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context)):(this.setBrowserTooltip(e?"":null,e),this.createTooltipFeatureIfNeeded())}destroy(){this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context),super.destroy()}}},userComponents:{agTooltipComponent:class extends sW{constructor(){super(EZ)}init(e){const{value:t}=e,n=this.getGui();n.textContent=CO(t);const i=e.location.replace(/([a-z])([A-Z0-9])/g,"$1-$2").toLowerCase();n.classList.add("ag-".concat(i,"-tooltip"))}}},dependsOn:[ZZ],css:[".ag-tooltip{background-color:var(--ag-tooltip-background-color);border:var(--ag-tooltip-border);border-radius:var(--ag-border-radius);color:var(--ag-tooltip-text-color);padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding);position:absolute;white-space:normal;z-index:99999;&:where(.ag-cell-editor-tooltip){background-color:var(--ag-tooltip-error-background-color);border:var(--ag-tooltip-error-border);color:var(--ag-tooltip-error-text-color);font-weight:500}}.ag-tooltip-custom{position:absolute;z-index:99999}.ag-tooltip-custom:where(:not(.ag-tooltip-interactive)),.ag-tooltip:where(:not(.ag-tooltip-interactive)){pointer-events:none}.ag-tooltip-animate{transition:opacity 1s;&:where(.ag-tooltip-hiding){opacity:0}}"]},K$=class{constructor(e){this.cellValueChanges=e}},q$=class extends K${constructor(e,t,n,i){super(e),this.initialRange=t,this.finalRange=n,this.ranges=i}},Y$=class{constructor(e){this.actionStack=[],this.maxStackSize=e||10,this.actionStack=new Array(this.maxStackSize)}pop(){return this.actionStack.pop()}push(e){e.cellValueChanges&&e.cellValueChanges.length>0&&(this.actionStack.length===this.maxStackSize&&this.actionStack.shift(),this.actionStack.push(e))}clear(){this.actionStack=[]}getCurrentStackSize(){return this.actionStack.length}},Z$={tag:"div",cls:"ag-cell-wrapper ag-cell-edit-wrapper ag-checkbox-edit",children:[{tag:"ag-checkbox",ref:"eEditor",role:"presentation"}]},$$=class extends aW{constructor(e){super(),this.cellEditorInput=e,this.eEditor=kG}initialiseEditor(e){const{cellEditorInput:t}=this;this.setTemplate({tag:"div",cls:"ag-cell-edit-wrapper",children:[t.getTemplate()]},t.getAgComponents());const{eEditor:n}=this,{cellStartedEdit:i,eventKey:o,suppressPreventDefault:r}=e;let s;n.getInputElement().setAttribute("title",""),t.init(n,e);let a=!0;i?(this.focusAfterAttached=!0,o===sV.BACKSPACE||o===sV.DELETE?s="":o&&1===o.length?r?a=!1:s=o:(s=t.getStartValue(),o!==sV.F2&&(this.highlightAllOnFocus=!0))):(this.focusAfterAttached=!1,s=t.getStartValue()),a&&null!=s&&n.setStartValue(s),this.addGuiEventListener("keydown",e=>{const{key:t}=e;t!==sV.PAGE_UP&&t!==sV.PAGE_DOWN||e.preventDefault()})}afterGuiAttached(){const e=this.getLocaleTextFunc(),t=this.eEditor;if(t.setInputAriaLabel(e("ariaInputEditor","Input Editor")),!this.focusAfterAttached)return;VL()||t.getFocusableElement().focus();const n=t.getInputElement();var i,o;this.highlightAllOnFocus?n.select():null===(i=(o=this.cellEditorInput).setCaret)||void 0===i||i.call(o)}focusIn(){const{eEditor:e}=this,t=e.getFocusableElement(),n=e.getInputElement();t.focus(),n.select()}getValue(){return this.cellEditorInput.getValue()}isPopup(){return!1}getValidationElement(){return this.eEditor.getInputElement()}getValidationErrors(){return this.cellEditorInput.getValidationErrors()}},X$={tag:"ag-input-date-field",ref:"eEditor",cls:"ag-cell-editor"},Q$=class{constructor(e,t){this.getDataTypeService=e,this.getLocaleTextFunc=t}getTemplate(){return X$}getAgComponents(){return[QW]}init(e,t){var n,i,o;this.eEditor=e,this.params=t;const{min:r,max:s,step:a,colDef:l}=t;null!=r&&e.setMin(r),null!=s&&e.setMax(s),null!=a&&e.setStep(a),this.includeTime=null!==(n=t.includeTime)&&void 0!==n?n:null===(i=this.getDataTypeService())||void 0===i||null===(o=i.getDateIncludesTimeFlag)||void 0===o?void 0:o.call(i,l.cellDataType),null!=this.includeTime&&e.setIncludeTime(this.includeTime)}getValidationErrors(){const e=this.eEditor.getInputElement().valueAsDate,{params:t}=this,{min:n,max:i,getValidationErrors:o}=t;let r=[];const s=this.getLocaleTextFunc();if(e instanceof Date&&!isNaN(e.getTime())){if(n){const t=n instanceof Date?n:new Date(n);if(e<t){const e=t.toLocaleDateString();r.push(s("minDateValidation","Date must be after ".concat(e),[e]))}}if(i){const t=i instanceof Date?i:new Date(i);if(e>t){const e=t.toLocaleDateString();r.push(s("maxDateValidation","Date must be before ".concat(e),[e]))}}}return r.length||(r=null),o?o({value:e,cellEditorParams:t,internalErrors:r}):r}getValue(){const{eEditor:e,params:t}=this,n=e.getDate();return UI(n)||UI(t.value)?null!==n&&void 0!==n?n:null:t.value}getStartValue(){var e;const{value:t}=this.params;if(t instanceof Date)return pH(t,null!==(e=this.includeTime)&&void 0!==e&&e)}},J$={tag:"ag-input-date-field",ref:"eEditor",cls:"ag-cell-editor"},eX=class{constructor(e,t){this.getDataTypeService=e,this.getLocaleTextFunc=t}getTemplate(){return J$}getAgComponents(){return[QW]}init(e,t){var n,i,o;this.eEditor=e,this.params=t;const{min:r,max:s,step:a,colDef:l}=t;null!=r&&e.setMin(r),null!=s&&e.setMax(s),null!=a&&e.setStep(a),this.includeTime=null!==(n=t.includeTime)&&void 0!==n?n:null===(i=this.getDataTypeService())||void 0===i||null===(o=i.getDateIncludesTimeFlag)||void 0===o?void 0:o.call(i,l.cellDataType),null!=this.includeTime&&e.setIncludeTime(this.includeTime)}getValidationErrors(){const{eEditor:e,params:t}=this,n=e.getInputElement().value,i=this.formatDate(this.parseDate(null!==n&&void 0!==n?n:void 0)),{min:o,max:r,getValidationErrors:s}=t;let a=[];if(i){const e=new Date(i),t=this.getLocaleTextFunc();if(o){const n=new Date(o);if(e<n){const e=n.toLocaleDateString();a.push(t("minDateValidation","Date must be after ".concat(e),[e]))}}if(r){const n=new Date(r);if(e>n){const e=n.toLocaleDateString();a.push(t("maxDateValidation","Date must be before ".concat(e),[e]))}}}return a.length||(a=null),s?s({value:this.getValue(),cellEditorParams:t,internalErrors:a}):a}getValue(){const{params:e,eEditor:t}=this,n=this.formatDate(t.getDate());return UI(n)||UI(e.value)?e.parseValue(null!==n&&void 0!==n?n:""):e.value}getStartValue(){var e,t,n;return pH(null!==(e=this.parseDate(null!==(t=this.params.value)&&void 0!==t?t:void 0))&&void 0!==e?e:null,null!==(n=this.includeTime)&&void 0!==n&&n)}parseDate(e){var t;const n=this.getDataTypeService();return n?n.getDateParserFunction(this.params.column)(e):null!==(t=wH(e))&&void 0!==t?t:void 0}formatDate(e){var t,n;const i=this.getDataTypeService();return i?i.getDateFormatterFunction(this.params.column)(e):null!==(t=pH(null!==e&&void 0!==e?e:null,null!==(n=this.includeTime)&&void 0!==n&&n))&&void 0!==t?t:void 0}},tX={tag:"div",cls:"ag-large-text",children:[{tag:"ag-input-text-area",ref:"eEditor",cls:"ag-large-text-input"}]},nX={tag:"ag-input-number-field",ref:"eEditor",cls:"ag-cell-editor"},iX=class{constructor(e){this.getLocaleTextFunc=e}getTemplate(){return nX}getAgComponents(){return[$W]}init(e,t){this.eEditor=e,this.params=t;const{max:n,min:i,precision:o,step:r}=t;null!=n&&e.setMax(n),null!=i&&e.setMin(i),null!=o&&e.setPrecision(o),null!=r&&e.setStep(r);const s=e.getInputElement();t.preventStepping?e.addManagedElementListeners(s,{keydown:this.preventStepping}):t.showStepperButtons&&s.classList.add("ag-number-field-input-stepper")}getValidationErrors(){const{params:e}=this,{min:t,max:n,getValidationErrors:i}=e,o=this.eEditor.getInputElement().valueAsNumber,r=this.getLocaleTextFunc();let s=[];return"number"===typeof o&&(null!=t&&o<t&&s.push(r("minValueValidation","Must be greater than or equal to ".concat(t,"."),[String(t)])),null!=n&&o>n&&s.push(r("maxValueValidation","Must be less than or equal to ".concat(n,"."),[String(n)]))),s.length||(s=null),i?i({value:o,cellEditorParams:e,internalErrors:s}):s}preventStepping(e){e.key!==sV.UP&&e.key!==sV.DOWN||e.preventDefault()}getValue(){const{eEditor:e,params:t}=this,n=e.getValue();if(!UI(n)&&!UI(t.value))return t.value;let i=t.parseValue(n);if(null==i)return i;if("string"===typeof i){if(""===i)return null;i=Number(i)}return isNaN(i)?null:i}getStartValue(){return this.params.value}setCaret(){VL()&&this.eEditor.getInputElement().focus({preventScroll:!0})}},oX={tag:"div",cls:"ag-cell-edit-wrapper",children:[{tag:"ag-select",ref:"eEditor",cls:"ag-cell-editor"}]},rX={tag:"ag-input-text-field",ref:"eEditor",cls:"ag-cell-editor"},sX=class{constructor(e){this.getLocaleTextFunc=e}getTemplate(){return rX}getAgComponents(){return[qW]}init(e,t){this.eEditor=e,this.params=t;const n=t.maxLength;null!=n&&e.setMaxLength(n)}getValidationErrors(){const{params:e}=this,{maxLength:t,getValidationErrors:n}=e,i=this.getValue(),o=this.getLocaleTextFunc();let r=[];return null!=t&&"string"===typeof i&&i.length>t&&r.push(o("maxLengthValidation","Must be ".concat(t," characters or fewer."),[String(t)])),r.length||(r=null),n?n({value:i,cellEditorParams:e,internalErrors:r}):r}getValue(){const{eEditor:e,params:t}=this,n=e.getValue();return UI(n)||UI(t.value)?t.parseValue(n):t.value}getStartValue(){const e=this.params;return e.useFormatter||e.column.getColDef().refData?e.formatValue(e.value):e.value}setCaret(){const e=this.eEditor,t=e.getValue(),n=UI(t)&&t.length||0;n&&e.getInputElement().setSelectionRange(n,n)}},aX=class extends $${constructor(){super(new sX(()=>this.getLocaleTextFunc()))}};function lX(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"auto";e.frameworkOverrides.wrapIncoming(()=>e.ctrlsSvc.getScrollFeature().ensureColumnVisible(t,n),"ensureVisible")}function uX(e,t,n){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsSvc.getScrollFeature().ensureIndexVisible(t,n),"ensureVisible")}var cX={tag:"div",cls:"ag-popup-editor",attrs:{tabindex:"-1"}},dX=class extends sW{constructor(e){super(cX),this.params=e}postConstruct(){wB(this.gos,this.getGui(),"popupEditorWrapper",!0),this.addKeyDownListener()}addKeyDownListener(){const e=this.getGui(),t=this.params;this.addManagedElementListeners(e,{keydown:e=>{QH(this.gos,e,t.node,t.column,!0)||t.onKeyDown(e)}})}},hX=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(void 0!==e)return Hz(e)||t&&"editing"===e.state};function pX(e,t){var n;let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return hX(null===(n=e.editModelSvc)||void 0===n?void 0:n.getEdit(t),i)}function gX(e,t){const{editModelSvc:n}=e,{column:i,rowNode:o}=t;if(e.gos.get("groupTotalRow")&&(null===o||void 0===o||!o.footer))return!1;for(const s of null!==(r=null===o||void 0===o?void 0:o.allLeafChildren)&&void 0!==r?r:[]){var r;if(hX(null===n||void 0===n?void 0:n.getEdit({rowNode:s,column:i}))||hX(null===n||void 0===n?void 0:n.getEdit({rowNode:s.pinnedSibling,column:i})))return!0}}function mX(e,t){var n;let{rowNode:i,column:o}=t;if(i=i.pinnedSibling,i)return hX(null===(n=e.editModelSvc)||void 0===n?void 0:n.getEdit({rowNode:i,column:o}))}var vX=class extends vO{constructor(e,t){super(),this.cellCtrl=e,this.beans=t,this.editSvc=t.editSvc,this.editModelSvc=t.editModelSvc}setComp(e){this.cellComp=e,this.applyCellStyles()}applyCellStyles(){var e;const{cellCtrl:t,editSvc:n,beans:i}=this;if(null!==n&&void 0!==n&&n.isBatchEditing()&&n.isEditing()){const e=pX(i,t)||gX(i,t)||mX(i,t);this.applyBatchingStyle(e)}else this.applyBatchingStyle(!1);const o=!(null===(e=this.editModelSvc)||void 0===e||!e.getCellValidationModel().hasCellValidation(this.cellCtrl));this.cellComp.toggleCss("ag-cell-editing-error",o)}applyBatchingStyle(e){var t,n;this.cellComp.toggleCss("ag-cell-editing",null!==e&&void 0!==e&&e),this.cellComp.toggleCss("ag-cell-batch-edit",null!==(t=e&&(null===(n=this.editSvc)||void 0===n?void 0:n.isBatchEditing()))&&void 0!==t&&t)}},fX=class extends vO{constructor(e,t){super(),this.rowCtrl=e,this.beans=t,this.gos=t.gos,this.editSvc=t.editSvc,this.editModelSvc=t.editModelSvc}applyRowStyles(){var e;const{rowCtrl:t,editModelSvc:n,beans:i}=this;let o=t.rowNode,r=null===n||void 0===n?void 0:n.getEditRow(o);const s=null===(e=this.editModelSvc)||void 0===e?void 0:e.getRowValidationModel().hasRowValidation({rowNode:o});if(!r&&o.pinnedSibling&&(o=o.pinnedSibling,r=null===n||void 0===n?void 0:n.getEditRow(o)),r){const e=Array.from(r.keys()).some(e=>{const t={rowNode:o,column:e};return pX(i,t,!0)||gX(i,t)||mX(i,t)});return void this.applyStyle(s,e)}this.applyStyle(s)}applyStyle(){var e,t,n;let i=arguments.length>0&&void 0!==arguments[0]&&arguments[0],o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=null!==(e=null===(t=this.editSvc)||void 0===t?void 0:t.isBatchEditing())&&void 0!==e&&e,s="fullRow"===this.gos.get("editType");null===(n=this.rowCtrl)||void 0===n||n.forEachGui(void 0,e=>{let{rowComp:t}=e;t.toggleCss("ag-row-editing",s&&o),t.toggleCss("ag-row-batch-edit",s&&o&&r),t.toggleCss("ag-row-inline-editing",o),t.toggleCss("ag-row-not-inline-editing",!o),t.toggleCss("ag-row-editing-invalid",s&&o&&i)})}},wX=e=>()=>{const t=new Set(e.colModel.getCols()),n=e.editModelSvc.getEditMap(!0),i=new Set(n.keys());((e,t,n)=>{let{editModelSvc:i}=e;t.forEach(e=>{var t;return null===i||void 0===i||null===(t=i.getEditRow(e))||void 0===t?void 0:t.forEach((t,o)=>!n.has(o)&&i.removeEdits({rowNode:e,column:o}))})})(e,((e,t)=>{let{rowModel:n,pinnedRowModel:i,editModelSvc:o}=e;const r=new Set;return n.forEachNode(e=>t.has(e)&&r.add(e)),null===i||void 0===i||i.forEachPinnedRow("top",e=>t.has(e)&&r.add(e)),null===i||void 0===i||i.forEachPinnedRow("bottom",e=>t.has(e)&&r.add(e)),t.forEach(e=>{r.has(e)||o.removeEdits({rowNode:e})}),r})(e,i),t)},CX=new Set(["undo","redo","paste","bulk"]),bX={paste:"api",rangeSvc:"api",fillHandle:"api",cellClear:"api",bulk:"api"},yX=new Set(Object.keys(bX)),SX=new Set(["paste","rangeSvc","renderer","cellClear","redo","undo"]),xX={cancel:!0,source:"api"},DX={cancel:!1,source:"api"},EX={checkSiblings:!0},FX={force:!0,suppressFlash:!0},kX=class extends vO{postConstruct(){var e,t;this.model=this.beans.editModelSvc,this.editSvc=this.beans.editSvc,this.addManagedEventListeners({cellFocused:null===(e=this.onCellFocusChanged)||void 0===e?void 0:e.bind(this),cellFocusCleared:null===(t=this.onCellFocusChanged)||void 0===t?void 0:t.bind(this)})}clearEdits(e){this.model.clearEditValue(e)}onCellFocusChanged(e){var t;let n;const i=e.previousParams,{editSvc:o,beans:r}=this,s="cellFocused"===e.type?e.sourceEvent:null;i&&(n=Bz(r,i));const{gos:a,editModelSvc:l}=r,u="cellFocusCleared"===e.type;if(o.isEditing(void 0,{withOpenEditor:!0})){const{column:t,rowIndex:n,rowPinned:c}=e,d={column:t,rowNode:Tz(r,{rowIndex:n,rowPinned:c})},h="block"===a.get("invalidEditValueMode");if(h)return;const p=!h,g=!(null===l||void 0===l||!l.getCellValidationModel().hasCellValidation(d)),m=p&&g;!i&&!u||o.stopEditing(void 0,{cancel:m,source:u&&p?"api":void 0,event:s})||(o.isBatchEditing()?o.cleanupEditors():o.stopEditing(void 0,{source:"api"}))}null===(t=n)||void 0===t||t.refreshCell({suppressFlash:!0,force:!0})}isCellEditable(e){let{rowNode:t,column:n}=e;return n.isColumnFunc(t,n.getColDef().editable)}stop(e,t){const n=this.model.getEditPositions(),i={all:[],pass:[],fail:[]};if(n.forEach(e=>{var t,n;i.all.push(e);const o=this.model.getCellValidationModel().getCellValidation(e);(null!==(t=null===o||void 0===o||null===(n=o.errorMessages)||void 0===n?void 0:n.length)&&void 0!==t?t:0)>0?i.fail.push(e):i.pass.push(e)}),e)return n.forEach(e=>{Xz(this.beans,e),this.model.stop(e)}),!0;const o=this.processValidationResults(i);return o.destroy.length>0&&o.destroy.forEach(e=>{Xz(this.beans,e,{event:t}),this.model.stop(e)}),o.keep.length>0&&o.keep.forEach(e=>{var t;const n=Bz(this.beans,e);null!==(t=this.editSvc)&&void 0!==t&&t.cellEditingInvalidCommitBlocks()||n&&this.editSvc.revertSingleCellEdit(n)}),!0}cleanupEditors(){let{rowNode:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;Yz(this.beans,!1);const n=this.model.getEditPositions(),i=[];e?n.forEach(t=>{e&&t.rowNode!==e&&i.push(t)}):n.forEach(e=>{i.push(e)}),$z(this.beans,i),Kz(this.beans,t)}setFocusOutOnEditor(e){var t,n;null===(t=e.comp)||void 0===t||null===(t=t.getCellEditor())||void 0===t||null===(n=t.focusOut)||void 0===n||n.call(t)}setFocusInOnEditor(e){const t=e.comp,n=null===t||void 0===t?void 0:t.getCellEditor();if(null!==n&&void 0!==n&&n.focusIn)n.focusIn();else{const n="fullRow"===this.beans.gos.get("editType");e.focusCell(n),e.onEditorAttachedFuncs.push(()=>{var e,n;return null===t||void 0===t||null===(e=t.getCellEditor())||void 0===e||null===(n=e.focusIn)||void 0===n?void 0:n.call(e)})}}setupEditors(e){const{event:t,ignoreEventKey:n=!1,startedEdit:i,position:o,cells:r=this.model.getEditPositions()}=e,s=t instanceof KeyboardEvent&&!n&&t.key||void 0;!function(e,t,n,i,o,r){0===t.length&&null!==n&&void 0!==n&&n.rowNode&&null!==n&&void 0!==n&&n.column&&jz(e,n,{key:i,event:o,cellStartedEdit:r});const{valueSvc:s,editSvc:a,editModelSvc:l}=e,{rowNode:u,column:c}=null!==n&&void 0!==n?n:{};for(const m of t){const{rowNode:t,column:v}=m,f=Bz(e,m);if(!f){if(t&&v){var d,h,p,g;const e=s.getValue(v,t,void 0,"api"),o=(null===n||void 0===n?void 0:n.rowNode)===t&&(null===n||void 0===n?void 0:n.column)===v&&i||void 0,r=null!==(d=null!==(h=null!==(p=null!==o&&void 0!==o?o:null===a||void 0===a?void 0:a.getCellDataValue(m,!1))&&void 0!==p?p:null===(g=s.getValueForDisplay(v,t))||void 0===g?void 0:g.value)&&void 0!==h?h:e)&&void 0!==d?d:zz;null===l||void 0===l||l.setEdit(m,{pendingValue:r,sourceValue:e,state:"editing"})}continue}const w=r&&u===f.rowNode&&f.column===c;jz(e,{rowNode:u,column:f.column},{key:w?i:null,event:w?o:null,cellStartedEdit:w&&r})}}(this.beans,r,o,s,t,i)}dispatchCellEvent(e,t,n,i){const o=Bz(this.beans,e);o&&this.eventSvc.dispatchEvent(d(d({},o.createEvent(null!==t&&void 0!==t?t:null,n)),i))}dispatchRowEvent(e,t,n){if(n)return;const i=Nz(this.beans,e);i&&this.eventSvc.dispatchEvent(i.createRowEvent(t))}shouldStart(e,t,n){var i;let{column:o}=e,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"ui";if(t instanceof KeyboardEvent&&(t.key===sV.TAB||t.key===sV.ENTER||t.key===sV.F2||t.key===sV.BACKSPACE&&n))return!0;if((null===t||void 0===t?void 0:t.shiftKey)&&0!=(null===(i=this.beans.rangeSvc)||void 0===i?void 0:i.getCellRanges().length))return!1;const s=null===o||void 0===o?void 0:o.getColDef(),a=this.deriveClickCount(s),l=null===t||void 0===t?void 0:t.type;return"click"===l&&1===(null===t||void 0===t?void 0:t.detail)&&1===a||("dblclick"===l&&2===(null===t||void 0===t?void 0:t.detail)&&2===a||"api"===r&&(null!==n&&void 0!==n&&n))}shouldStop(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"ui";const i=this.editSvc.isBatchEditing();return!(!i||"api"!==n)||(!i||"ui"!==n)&&("api"===n||(t instanceof KeyboardEvent&&!i?t.key===sV.ENTER:null))}shouldCancel(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"ui";const i=this.editSvc.isBatchEditing();if(t instanceof KeyboardEvent&&!i){if(t.key===sV.ESCAPE)return!0}return!(!i||"api"!==n)||"api"===n}setEditMap(e,t){var n;null!==t&&void 0!==t&&t.update||this.editSvc.stopEditing(void 0,{cancel:!0,source:"api"});const i=[];if(e.forEach((e,t)=>{e.forEach((e,n)=>{"editing"===e.state&&i.push(d(d({},e),{},{rowNode:t,column:n}))})}),null!==t&&void 0!==t&&t.update&&(e=new Map([...this.model.getEditMap(),...e])),null===(n=this.model)||void 0===n||n.setEditMap(e),i.length>0){const e=i.at(-1),t=e.pendingValue===zz?void 0:e.pendingValue;this.start({position:e,event:new KeyboardEvent("keydown",{key:t}),source:"api"});const n=Bz(this.beans,e);n&&this.setFocusInOnEditor(n)}}deriveClickCount(e){const{gos:t}=this.beans;return!0===t.get("suppressClickEdit")?0:!0===t.get("singleClickEdit")||null!==e&&void 0!==e&&e.singleClickEdit?1:2}destroy(){this.cleanupEditors(),super.destroy()}},AX={moduleName:"EditCore",version:KN,beans:[class extends vO{constructor(){super(...arguments),this.beanName="editModelSvc",this.edits=new Map,this.cellValidations=new Dz,this.rowValidations=new Ez,this.suspendEdits=!1}suspend(e){this.suspendEdits=e}removeEdits(e){let{rowNode:t,column:n}=e;if(!this.hasEdits({rowNode:t})||!t)return;const i=this.getEditRow(t);n?i.delete(n):i.clear(),0===i.size&&this.edits.delete(t)}getEditRow(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.suspendEdits)return;if(0===this.edits.size)return;const n=e&&this.edits.get(e);if(n)return n;if(t.checkSiblings){const t=e.pinnedSibling;if(t)return this.getEditRow(t)}}getEditRowDataValue(e){let{checkSiblings:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(0===this.edits.size)return e.data;const n=this.getEditRow(e),i=e.pinnedSibling,o=t&&i&&this.getEditRow(i);if(!n&&!o)return e.data;const r=Object.assign({},e.data),s=(e,t)=>e.forEach((e,n)=>{let{pendingValue:i}=e;i!==zz&&(t[n.getColId()]=i)});return n&&s(n,r),o&&s(o,r),r}getEdit(e,t){const n=this._getEdit(e);return t&&n?d({},n):n}_getEdit(e){var t;if(!this.suspendEdits&&0!==this.edits.size)return e.rowNode&&e.column&&(null===(t=this.getEditRow(e.rowNode))||void 0===t?void 0:t.get(e.column))}getEditMap(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.suspendEdits||0===this.edits.size)return new Map;if(!e)return this.edits;const t=new Map;return this.edits.forEach((e,n)=>t.set(n,new Map(e))),t}setEditMap(e){this.edits.clear(),e.forEach((e,t)=>{const n=new Map;e.forEach((e,t)=>n.set(t,d({},e))),this.edits.set(t,n)})}setEdit(e,t){(0===this.edits.size||!this.edits.has(e.rowNode))&&this.edits.set(e.rowNode,new Map);const n=d(d({},this._getEdit(e)),t);return this.getEditRow(e.rowNode).set(e.column,n),n}clearEditValue(e){const{rowNode:t,column:n}=e;if(t)if(n){const t=this._getEdit(e);t&&(t.editorValue=void 0,t.pendingValue=t.sourceValue,t.state="changed")}else{var i;null===(i=this.getEditRow(t))||void 0===i||i.forEach(e=>{e.editorValue=void 0,e.pendingValue=e.sourceValue,e.state="changed"})}}getState(e){var t;if(!this.suspendEdits)return null===(t=this.getEdit(e))||void 0===t?void 0:t.state}getEditPositions(e){if(this.suspendEdits||0===(null!==e&&void 0!==e?e:this.edits).size)return[];const t=[];return(null!==e&&void 0!==e?e:this.edits).forEach((e,n)=>{for(const i of e.keys())t.push(d({rowNode:n,column:i},e.get(i)))}),t}hasRowEdits(e,t){if(this.suspendEdits)return!1;if(0===this.edits.size)return!1;return!!this.getEditRow(e,t)}hasEdits(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.suspendEdits)return!1;if(0===this.edits.size)return!1;const{rowNode:n,column:i}=e,{withOpenEditor:o}=t;if(n){const a=this.getEditRow(n,t);return!!a&&(i?o?"editing"===(null===(s=this.getEdit(e))||void 0===s?void 0:s.state):null!==(r=a.has(i))&&void 0!==r&&r:0!==a.size&&(!o||Array.from(a.values()).some(e=>{let{state:t}=e;return"editing"===t})));var r,s}return o?this.getEditPositions().some(e=>{let{state:t}=e;return"editing"===t}):this.edits.size>0}start(e){var t;const n=null!==(t=this.getEditRow(e.rowNode))&&void 0!==t?t:new Map,{rowNode:i,column:o}=e;o&&!n.has(o)&&n.set(o,{editorValue:void 0,pendingValue:zz,sourceValue:this.beans.valueSvc.getValue(o,i,!0,"api"),state:"editing"}),this.edits.set(i,n)}stop(e){this.hasEdits(e)&&(e?this.removeEdits(e):this.clear())}clear(){for(const e of this.edits.values())e.clear();this.edits.clear()}getCellValidationModel(){return this.cellValidations}getRowValidationModel(){return this.rowValidations}setCellValidationModel(e){this.cellValidations=e}setRowValidationModel(e){this.rowValidations=e}destroy(){super.destroy(),this.clear()}},class extends vO{constructor(){super(...arguments),this.beanName="editSvc",this.batch=!1,this.stopping=!1,this.committing=!1}postConstruct(){const{beans:e}=this;this.model=e.editModelSvc,this.valueSvc=e.valueSvc,this.rangeSvc=e.rangeSvc,this.addManagedPropertyListener("editType",e=>{let{currentValue:t}=e;this.stopEditing(void 0,xX),this.createStrategy(t)});const t=wX(e),n=()=>{const t=this.model.getCellValidationModel().getCellValidationMap().size>0,n=this.model.getRowValidationModel().getRowValidationMap().size>0;return t||n?this.stopEditing(void 0,xX):this.isEditing()&&(this.isBatchEditing()?$z(e,this.model.getEditPositions()):this.stopEditing(void 0,DX)),!1};this.addManagedEventListeners({columnPinned:t,columnVisible:t,columnRowGroupChanged:t,rowGroupOpened:t,pinnedRowsChanged:t,displayedRowsChanged:t,sortChanged:n,filterChanged:n,cellFocused:this.onCellFocused.bind(this)})}isBatchEditing(){return this.batch}setBatchEditing(e){e?(this.batch=!0,this.stopEditing(void 0,xX)):(this.stopEditing(void 0,xX),this.batch=!1)}createStrategy(e){var t;const{beans:n,gos:i,strategy:o}=this,r=null!==(t=null!==e&&void 0!==e?e:i.get("editType"))&&void 0!==t?t:"singleCell";if(o){if(o.beanName===r)return o;this.destroyStrategy()}return this.strategy=this.createOptionalManagedBean(n.registry.createDynamicBean(r,!0))}destroyStrategy(){this.strategy&&(this.strategy.destroy(),this.strategy=this.destroyBean(this.strategy))}shouldStartEditing(e,t,n){var i,o,r;let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"ui";return null!==(i=this.strategy)&&void 0!==i||(this.strategy=this.createStrategy()),null!==(o=null===(r=this.strategy)||void 0===r?void 0:r.shouldStart(e,t,n,s))&&void 0!==o?o:null}shouldStopEditing(e,t){var n,i;let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"ui";return null!==(n=null===(i=this.strategy)||void 0===i?void 0:i.shouldStop(e,t,o))&&void 0!==n?n:null}shouldCancelEditing(e,t){var n,i;let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"ui";return null!==(n=null===(i=this.strategy)||void 0===i?void 0:i.shouldCancel(e,t,o))&&void 0!==n?n:null}validateEdit(){return function(e){var t;Qz(e);const n=null===(t=e.editModelSvc)||void 0===t?void 0:t.getCellValidationModel().getCellValidationMap();if(!n)return null;const i=[];return n.forEach((e,t)=>{e.forEach((e,n)=>{let{errorMessages:o}=e;i.push({column:n,rowIndex:t.rowIndex,rowPinned:t.rowPinned,messages:null!==o&&void 0!==o?o:null})})}),i}(this.beans)}isEditing(e,t){return this.model.hasEdits(e,null!==t&&void 0!==t?t:EX)}isRowEditing(e,t){var n;return null!==(n=e&&this.model.hasRowEdits(e,t))&&void 0!==n&&n}startEditing(e,t){var n,i;const{startedEdit:o=!0,event:r=null,source:s="ui",ignoreEventKey:a=!1,silent:l}=t;if(null!==(n=this.strategy)&&void 0!==n||(this.strategy=this.createStrategy()),!this.isCellEditable(e,"api"))return;const u=Bz(this.beans,e);if(u&&!u.comp)return void u.onCompAttachedFuncs.push(()=>this.startEditing(e,t));const c=null===(i=this.shouldStartEditing)||void 0===i?void 0:i.call(this,e,r,o,s);!1!==c||"api"===s?(!this.batch&&this.shouldStopEditing(e,void 0,s)&&this.stopEditing(void 0,{source:s}),c&&this.isBatchEditing()&&this.dispatchBatchEvent("batchEditingStarted",new Map),this.strategy.start({position:e,event:r,source:s,ignoreEventKey:a,startedEdit:o,silent:l})):this.isEditing(e)&&this.stopEditing()}stopEditing(e,t){var n;const{event:i,cancel:o,source:r="ui",suppressNavigateAfterEdit:s}=t||{},{beans:a,model:l}=this;if(yX.has(r)&&this.isBatchEditing())return this.bulkRefresh(e),!1;const u=this.committing?bX[r]:r;if(!(this.committing||this.isEditing(e)||this.isBatchEditing()&&l.hasEdits(e,EX))||!this.strategy)return!1;const c=Bz(a,e);c&&(c.onEditorAttachedFuncs=[]);let d=l.getEditMap(!0),h=!1;const p=!o&&(!!this.shouldStopEditing(e,i,u)||this.committing&&!this.batch),g=o&&!!this.shouldCancelEditing(e,i,u);if(p||g){var m;Yz(a,!0);const e=l.getEditMap();this.processEdits(e,o,r),null===(m=this.strategy)||void 0===m||m.stop(o,i),this.bulkRefresh(void 0,d),d=e,h||(h=p)}else if(i instanceof KeyboardEvent&&this.batch&&null!==(n=this.strategy)&&void 0!==n&&n.midBatchInputsAllowed(e)&&this.isEditing(e,{withOpenEditor:!0})){const t=i.key,n=t===sV.ENTER,o=t===sV.ESCAPE,r=t===sV.TAB;if(n||r||o){var v;if(n||r?Yz(a,!0):o&&this.revertSingleCellEdit(c),this.isBatchEditing())null===(v=this.strategy)||void 0===v||v.cleanupEditors();else $z(a,l.getEditPositions(),{event:i});i.preventDefault(),this.bulkRefresh(e,d,{suppressFlash:!0}),d=l.getEditMap()}}else Yz(a,!0),d=l.getEditMap();return h&&e&&this.model.removeEdits(e),!s&&c&&this.navigateAfterEdit(i instanceof KeyboardEvent&&i.shiftKey,c.cellPosition),Kz(a),this.model.hasEdits()||(this.model.getCellValidationModel().clearCellValidationMap(),this.model.getRowValidationModel().clearRowValidationMap()),this.bulkRefresh(),g&&this.beans.rowRenderer.refreshRows({rowNodes:Array.from(d.keys())}),this.isBatchEditing()&&(this.beans.rowRenderer.refreshRows({suppressFlash:!0,force:!0}),h&&p&&this.dispatchBatchEvent("batchEditingStopped",d)),h}navigateAfterEdit(e,t){if(this.gos.get("enterNavigatesVerticallyAfterEdit")){var n;const i=e?sV.UP:sV.DOWN;null===(n=this.beans.navigation)||void 0===n||n.navigateToNextCell(null,i,t,!1)}}processEdits(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0;const i=Array.from(e.keys()),{beans:o}=this,r=this.model.getCellValidationModel().getCellValidationMap().size>0||this.model.getRowValidationModel().getRowValidationMap().size>0,s=[];for(const u of i){const i=e.get(u);for(const e of i.keys()){var a,l;const c=i.get(e),d={rowNode:u,column:e},h=Bz(o,d),p=Hz(c),g=null===h||void 0===h||null===(a=h.comp)||void 0===a||null===(a=a.getCellEditor())||void 0===a||null===(l=a.isCancelAfterEnd)||void 0===l?void 0:l.call(a);if(!t&&!g&&p&&!r){this.setNodeDataValue(u,e,c.pendingValue,void 0,n)||s.push(d)}null===h||void 0===h||h.refreshCell(FX)}}s.forEach(e=>{this.model.clearEditValue(e)})}setNodeDataValue(e,t,n,i,o){const{beans:r}=this,s=Bz(r,{rowNode:e,column:t});s&&(s.suppressRefreshCell=!0),this.commitNextEdit();const a=e.setDataValue(t,n,"ui"===o?"edit":o);return s&&(s.suppressRefreshCell=!1),i&&(null===s||void 0===s||s.refreshCell(FX)),a}setEditMap(e,t){var n,i;null!==(n=this.strategy)&&void 0!==n||(this.strategy=this.createStrategy()),null===(i=this.strategy)||void 0===i||i.setEditMap(e,t),this.bulkRefresh(),this.beans.rowRenderer.refreshCells(FX)}dispatchEditValuesChanged(e){let{rowNode:t,column:n}=e,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!t||!n||!i)return;const{pendingValue:o,sourceValue:r}=i,{rowIndex:s,rowPinned:a,data:l}=t;this.beans.eventSvc.dispatchEvent({type:"cellEditValuesChanged",node:t,rowIndex:s,rowPinned:a,column:n,source:"api",data:l,newValue:o,oldValue:r,value:o,colDef:n.getColDef()})}bulkRefresh(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{beans:i,gos:o}=this,{editModelSvc:r,rowModel:s}=i;if(uB(o))if(e.rowNode&&e.column)this.refCell(e,this.model.getEdit(e),n);else if(t){var a;null===r||void 0===r||null===(a=r.getEditMap(!1))||void 0===a||a.forEach((e,t)=>{for(const i of e.keys())this.refCell({rowNode:t,column:i},e.get(i),n)})}}refCell(e,t){let{rowNode:n,column:i}=e,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{beans:r,gos:s}=this,a=new Set([n]),l=new Set,u=n.pinnedSibling;u&&a.add(u);const c=n.sibling;c&&l.add(c);let d=n.parent;for(;d;){var h;null!==(h=d.sibling)&&void 0!==h&&h.footer&&s.get("groupTotalRow")||!d.parent&&d.sibling&&s.get("grandTotalRow")?l.add(d.sibling):l.add(d),d=d.parent}a.forEach(e=>this.dispatchEditValuesChanged({rowNode:e,column:i},t)),a.forEach(e=>{var t;return null===(t=Bz(r,{rowNode:e,column:i}))||void 0===t?void 0:t.refreshCell(o)}),l.forEach(e=>{var t;return null===(t=Bz(r,{rowNode:e,column:i}))||void 0===t?void 0:t.refreshCell(o)})}stopAllEditing(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ui";this.isEditing()&&this.stopEditing(void 0,{cancel:e,source:t})}isCellEditable(e){var t,n,i;let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ui";const{rowNode:r}=e;if(r.group)if(this.gos.get("treeData")){if(!r.data&&!this.gos.get("enableGroupEdit"))return!1}else if(!this.gos.get("enableGroupEdit"))return!1;return null!==(t=this.strategy)&&void 0!==t||(this.strategy=this.createStrategy()),null!==(n=null===(i=this.strategy)||void 0===i?void 0:i.isCellEditable(e,o))&&void 0!==n&&n}cellEditingInvalidCommitBlocks(){return"block"===this.gos.get("invalidEditValueMode")}checkNavWithValidation(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(this.hasValidationErrors(e)){const s=Bz(this.beans,e);if(this.cellEditingInvalidCommitBlocks()){var i,o,r;if(null===t||void 0===t||null===(i=t.preventDefault)||void 0===i||i.call(t),n)(null===s||void 0===s||!s.hasBrowserFocus())&&(null===s||void 0===s||s.focusCell()),null===s||void 0===s||null===(o=s.comp)||void 0===o||null===(o=o.getCellEditor())||void 0===o||null===(r=o.focusIn)||void 0===r||r.call(o);return"block-stop"}return s&&this.revertSingleCellEdit(s),"revert-continue"}return"continue"}revertSingleCellEdit(e){var t,n,i,o;let r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const s=Bz(this.beans,e);null!==s&&void 0!==s&&null!==(t=s.comp)&&void 0!==t&&t.getCellEditor()&&($z(this.beans,[e],{silent:!0}),this.model.clearEditValue(e),jz(this.beans,e,{silent:!0}),Qz(this.beans),null===s||void 0===s||s.refreshCell(FX),null===(n=s.rowCtrl.rowEditStyleFeature)||void 0===n||n.applyRowStyles(),r&&(null===s||void 0===s||s.focusCell(),null===s||void 0===s||null===(i=s.comp)||void 0===i||null===(i=i.getCellEditor())||void 0===i||null===(o=i.focusIn)||void 0===o||o.call(i)))}hasValidationErrors(e){Qz(this.beans);const t=Bz(this.beans,e);var n;t&&(t.refreshCell(FX),null===(n=t.rowCtrl.rowEditStyleFeature)||void 0===n||n.applyRowStyles());let i=!1;return null!==e&&void 0!==e&&e.rowNode?(i||(i=this.model.getRowValidationModel().hasRowValidation({rowNode:e.rowNode})),e.column&&(i||(i=this.model.getCellValidationModel().hasCellValidation({rowNode:e.rowNode,column:e.column})))):(i||(i=this.model.getCellValidationModel().getCellValidationMap().size>0),i||(i=this.model.getRowValidationModel().getRowValidationMap().size>0)),i}moveToNextCell(e,t,n){let i,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"ui";const r=this.isEditing(),s=r&&"block-stop"===this.checkNavWithValidation(void 0,n);var a;e instanceof RV&&r&&(i=null===(a=this.strategy)||void 0===a?void 0:a.moveToNextEditingCell(e,t,n,o,s));return null===i||(i=i||!!this.beans.focusSvc.focusedHeader,!1!==i||s||this.stopEditing()),i}getCellDataValue(e){var t,n,i,o;let{rowNode:r,column:s}=e,a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!r||!s)return;let l=this.model.getEdit({rowNode:r,column:s});const u=r.pinnedSibling;if(u){const e=this.model.getEdit({rowNode:u,column:s});e&&(l=e)}const c=a?null!==(t=null===(n=l)||void 0===n?void 0:n.editorValue)&&void 0!==t?t:null===(i=l)||void 0===i?void 0:i.pendingValue:null===(o=l)||void 0===o?void 0:o.pendingValue;return c!==zz&&l?c:this.valueSvc.getValue(s,r,!0,"api")}getRowDataValue(e,t){return this.model.getEditRowDataValue(e,t)}addStopEditingWhenGridLosesFocus(e){!function(e,t,n){const{gos:i,popupSvc:o}=t;if(!i.get("stopEditingWhenCellsLoseFocus"))return;const r=e=>{const r=e.relatedTarget;if(null===UL(r))return void Oz(t);let s=n.some(e=>e.contains(r))&&MV(i,r);s||(s=!!o&&(o.getActivePopups().some(e=>e.contains(r))||o.isElementWithinCustomPopup(r))),s||Oz(t)};n.forEach(t=>e.addManagedElementListeners(t,{focusout:r}))}(this,this.beans,e)}createPopupEditorWrapper(e){return new dX(e)}commitNextEdit(){this.committing=!0}setDataValue(e,t,n){try{var i;if((!this.isEditing()||this.committing)&&!SX.has(n))return;const{beans:r}=this;null!==(i=this.strategy)&&void 0!==i||(this.strategy=this.createStrategy());const s=this.isBatchEditing()?"ui":this.committing&&null!==n&&void 0!==n?n:"api";if(!n||CX.has(n))return Zz(r,e,!0,t),this.setNodeDataValue(e.rowNode,e.column,t,!0,n);const a=this.model.getEdit(e);if(a){if(a.pendingValue===t)return!1;if(a.sourceValue!==t)return Zz(r,e,!0,t),this.stopEditing(e,{source:s,suppressNavigateAfterEdit:!0}),!0;var o;if(a.sourceValue===t)return null===(o=r.editModelSvc)||void 0===o||o.removeEdits(e),this.dispatchEditValuesChanged(e,d(d({},a),{},{pendingValue:t})),!0}return Zz(r,e,!0,t),this.stopEditing(e,{source:s,suppressNavigateAfterEdit:!0}),!0}finally{this.committing=!1}}handleColDefChanged(e){!function(e,t){var n;const i=null===(n=t.comp)||void 0===n?void 0:n.getCellEditor();if(null===i||void 0===i||!i.refresh)return;const{eventKey:o,cellStartedEdit:r}=t.editCompDetails.params,{column:s}=t,a=Uz(e,t,o,r),l=s.getColDef(),u=nz(e.userCompFactory,l,a);i.refresh(qz(u.params,o))}(this.beans,e)}destroy(){this.model.clear(),this.destroyStrategy(),super.destroy()}prepDetailsDuringBatch(e,t){if(!this.batch)return;if(!this.model.hasRowEdits(e.rowNode,EX))return;const{rowNode:n,column:i}=e,{compDetails:o,valueToDisplay:r}=t;if(o){const{params:e}=o;return e.data=this.model.getEditRowDataValue(n,EX),{compDetails:o}}const s=this.model.getEditRow(e.rowNode,EX);return void 0!==r&&null!==s&&void 0!==s&&s.has(i)?{valueToDisplay:this.valueSvc.getValue(i,n)}:void 0}cleanupEditors(){var e;null===(e=this.strategy)||void 0===e||e.cleanupEditors()}dispatchCellEvent(e,t,n,i){var o;null===(o=this.strategy)||void 0===o||o.dispatchCellEvent(e,t,n,i)}dispatchBatchEvent(e,t){this.eventSvc.dispatchEvent(this.createBatchEditEvent(e,t))}createBatchEditEvent(e,t){return iO(this.gos,d({type:e},"batchEditingStopped"===e?{changes:this.toEventChangeList(t)}:{}))}toEventChangeList(e){return this.model.getEditPositions(e).map(e=>({rowIndex:e.rowNode.rowIndex,rowPinned:e.rowNode.rowPinned,columnId:e.column.getColId(),newValue:e.pendingValue,oldValue:e.sourceValue}))}applyBulkEdit(e,t){var n;let{rowNode:i,column:o}=e;if(!t||0===t.length)return;const{beans:r,rangeSvc:s,valueSvc:a}=this;Yz(r,!0);const l=this.model.getEditMap(!0),u=null===(n=l.get(i))||void 0===n||null===(n=n.get(o))||void 0===n?void 0:n.pendingValue;this.batch||this.eventSvc.dispatchEvent({type:"bulkEditingStarted"}),t.forEach(e=>{if(null===s||void 0===s||s.forEachRowInRange(e,t=>{var n;const i=Tz(r,t);if(void 0===i)return;const o=null!==(n=l.get(i))&&void 0!==n?n:new Map;for(const r of e.columns)if(r&&this.isCellEditable({rowNode:i,column:r},"api")){const e=a.getValue(r,i,!0,"api");let t=a.parseValue(r,null!==i&&void 0!==i?i:null,u,e);Number.isNaN(t)&&(t=null),o.set(r,{editorValue:void 0,pendingValue:t,sourceValue:e,state:"changed"})}o.size>0&&l.set(i,o)}),this.setEditMap(l),this.batch)return this.cleanupEditors(),Kz(r),void this.bulkRefresh();this.commitNextEdit(),this.stopEditing(void 0,{source:"bulk"}),this.eventSvc.dispatchEvent({type:"bulkEditingStopped",changes:this.toEventChangeList(l)})}),this.bulkRefresh();const c=Bz(r,{rowNode:i,column:o});c&&c.focusCell(!0)}createCellStyleFeature(e,t){return new vX(e,t)}createRowStyleFeature(e,t){return new fX(e,t)}setEditingCells(e,t){const{beans:n}=this,{colModel:i,valueSvc:o}=n,r=new Map;e.forEach(e=>{let{colId:t,column:s,colKey:a,rowIndex:l,rowPinned:u,newValue:c,state:d}=e;const h=t?i.getCol(t):a?i.getCol(a):s;if(!h)return;const p=Tz(n,{rowIndex:l,rowPinned:u});if(!p)return;const g=o.getValue(h,p,!0,"api");if(!Hz({pendingValue:c,sourceValue:g})&&"editing"!==d)return;let m=r.get(p);m||(m=new Map,r.set(p,m)),void 0===c&&(c=zz),m.set(h,{editorValue:void 0,pendingValue:c,sourceValue:g,state:null!==d&&void 0!==d?d:"changed"})}),this.setEditMap(r,t)}onCellFocused(e){var t;const n=Bz(this.beans,e);if(!n||!this.isEditing(n,EX))return;const i=this.model.getEdit(n);if(!i||!Hz(i))return;const o=this.getLocaleTextFunc()("ariaPendingChange","Pending Change");null===(t=this.beans.ariaAnnounce)||void 0===t||t.announceValue(o,"pendingChange")}allowedFocusTargetOnValidation(e){return Bz(this.beans,e)}}],apiFunctions:{getEditingCells:function(e){var t;const n=null===(t=e.editModelSvc)||void 0===t?void 0:t.getEditMap(),i=[];return null===n||void 0===n||n.forEach((e,t)=>{const{rowIndex:n,rowPinned:o}=t;e.forEach((e,t)=>{const{editorValue:r,pendingValue:s,sourceValue:a,state:l}=e,u=Hz(e);let c=null!==r&&void 0!==r?r:s;c===zz&&(c=void 0);const d={newValue:c,oldValue:a,state:l,column:t,colId:t.getColId(),colKey:t.getColId(),rowIndex:n,rowPinned:o};("editing"===l||"changed"===l&&u)&&i.push(d)})}),i},getCellEditorInstances:function(e){return Vz(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).map(e=>e.editor)},startEditingCell:function(e,t){const{key:n,colKey:i,rowIndex:o,rowPinned:r}=t,{editSvc:s,colModel:a}=e,l=a.getCol(i);if(!l)return void iB(12,{colKey:i});const u=Tz(e,{rowIndex:o,rowPinned:r||null,column:l});if(!u)return void iB(290,{rowIndex:o,rowPinned:r});if(!l.isCellEditable(u))return;null==r&&uX(e,o),lX(e,i),null===s||void 0===s||s.startEditing({rowNode:u,column:l},{event:n?new KeyboardEvent("keydown",{key:n}):void 0,source:"api"})},stopEditing:function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{editSvc:n}=e;if(null!==n&&void 0!==n&&n.isBatchEditing()){var i;if(t)null===(i=e.editModelSvc)||void 0===i||i.getEditPositions().forEach(e=>{"editing"===e.state&&n.revertSingleCellEdit(e)});else Yz(e,!0);$z(e)}else null===n||void 0===n||n.stopEditing(void 0,{cancel:t,source:"api"})},isEditing:function(e,t){var n,i;const o=Bz(e,t);return null!==(n=null===(i=e.editSvc)||void 0===i?void 0:i.isEditing(o))&&void 0!==n&&n},validateEdit:function(e){var t;return(null===(t=e.editSvc)||void 0===t?void 0:t.validateEdit())||null}},dynamicBeans:{singleCell:class extends kX{constructor(){super(...arguments),this.beanName="singleCell"}shouldStop(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"ui";const i=super.shouldStop(e,t,n);if(null!==i)return i;const{rowNode:o,column:r}=e||{};return this.rowNode&&this.column||!o||!r?this.rowNode!==o||this.column!==r:null}midBatchInputsAllowed(e){return this.model.hasEdits(e)}start(e){const{position:t,startedEdit:n,event:i,ignoreEventKey:o}=e;this.rowNode===t.rowNode&&this.column===t.column||super.cleanupEditors(),this.rowNode=t.rowNode,this.column=t.column,this.model.start(t),this.setupEditors({cells:[t],position:t,startedEdit:n,event:i,ignoreEventKey:o})}dispatchRowEvent(e,t,n){}processValidationResults(e){return e.fail.length>0&&this.editSvc.cellEditingInvalidCommitBlocks()?{destroy:[],keep:e.all}:{destroy:e.all,keep:[]}}stop(e,t){return super.stop(e,t),this.rowNode=void 0,this.column=void 0,!0}onCellFocusChanged(e){const{colModel:t,editSvc:n}=this.beans,{rowIndex:i,column:o,rowPinned:r}=e,s=Tz(this.beans,{rowIndex:i,rowPinned:r}),a=Gz(o),l=t.getCol(a),u=e.previousParams;if(u){const e=Gz(u.column);if((null===u||void 0===u?void 0:u.rowIndex)===i&&e===a&&(null===u||void 0===u?void 0:u.rowPinned)===r)return}null!==n&&void 0!==n&&n.isEditing({rowNode:s,column:l},{withOpenEditor:!0})&&"cellFocused"===e.type||super.onCellFocusChanged(e)}moveToNextEditingCell(e,t,n){var i;let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"ui",r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const s=e.cellPosition;let a;const l="fullRow"===this.beans.gos.get("editType");var u,c;(l&&this.model.suspend(!0),r)||(e.eGui.focus(),null===(u=this.editSvc)||void 0===u||u.stopEditing(e,{source:null!==(c=this.editSvc)&&void 0!==c&&c.isBatchEditing()?"ui":"api",event:n}));try{var d;a=null===(d=this.beans.navigation)||void 0===d?void 0:d.findNextCellToFocusOn(s,{backwards:t,startEditing:!0})}finally{l&&this.model.suspend(!1)}if(!1===a)return null;if(null==a)return!1;const h=a.cellPosition,p=e.isCellEditable(),g=a.isCellEditable(),m=h&&s.rowIndex===h.rowIndex&&s.rowPinned===h.rowPinned;p&&!r&&this.setFocusOutOnEditor(e);const v=this.gos.get("suppressStartEditOnTab");var f;(m||r||(super.cleanupEditors(a,!0),v?a.focusCell(!0,n):this.editSvc.startEditing(a,{startedEdit:!0,event:n,source:o,ignoreEventKey:!0})),g&&!r)?(a.focusCell(!1,n),v?a.focusCell(!0,n):null!==(f=a.comp)&&void 0!==f&&f.getCellEditor()||(jz(this.beans,a,{event:n,cellStartedEdit:!0,silent:!0}),this.setFocusInOnEditor(a),this.cleanupEditors(a))):(g&&r&&this.setFocusInOnEditor(a),a.focusCell(!0,n));return null===(i=e.rowCtrl)||void 0===i||i.refreshRow({suppressFlash:!0,force:!0}),!0}destroy(){super.destroy(),this.rowNode=void 0,this.column=void 0}},fullRow:class extends kX{constructor(){super(...arguments),this.beanName="fullRow",this.startedRows=[]}isCellEditable(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ui";const n=super.isCellEditable(e,t);if(!0===n||"ui"===t)return n;return this.beans.colModel.getCols().some(n=>super.isCellEditable({rowNode:e.rowNode,column:n},t))}shouldStop(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"ui";const{rowNode:i}=e||{};if(!Nz(this.beans,{rowNode:this.rowNode}))return!0;const o=super.shouldStop({rowNode:this.rowNode},t,n);return null!==o?o:!!this.rowNode&&i!==this.rowNode}midBatchInputsAllowed(e){let{rowNode:t}=e;return!!t&&this.model.hasEdits({rowNode:t})}clearEdits(e){this.model.clearEditValue(e)}start(e){const{position:t,silent:n,startedEdit:i,event:o,ignoreEventKey:r}=e,{rowNode:s}=t;this.rowNode!==s&&super.cleanupEditors(t),this.dispatchRowEvent({rowNode:s},"rowEditingStarted",n),this.startedRows.push(s);const a=this.beans.visibleCols.allCols,l=[];a.forEach(e=>{if(!e.isCellEditable(s))return;const t={rowNode:s,column:e};l.push(t),this.model.hasEdits(t)||this.model.start(t)}),this.rowNode=s,this.setupEditors({cells:l,position:t,startedEdit:i,event:o,ignoreEventKey:r})}processValidationResults(e){return e.fail.length>0&&this.editSvc.cellEditingInvalidCommitBlocks()?{destroy:[],keep:e.all}:{destroy:e.all,keep:[]}}stop(e,t){var n;const{rowNode:i}=this;if(i&&!this.model.hasRowEdits(i))return!1;const o=[];return e||this.model.getEditMap().forEach((e,t)=>{if(e&&0!==e.size)for(const n of e.values())if(Hz(n)){o.push(t);break}}),Qz(this.beans),!(!e&&"block-stop"===(null===(n=this.editSvc)||void 0===n?void 0:n.checkNavWithValidation({rowNode:i})))&&(super.stop(e,t),o.forEach(e=>this.dispatchRowEvent({rowNode:e},"rowValueChanged")),this.cleanupEditors({rowNode:i},!0),this.rowNode=void 0,!0)}onCellFocusChanged(e){const{rowIndex:t}=e,n=e.previousParams;if((null===n||void 0===n?void 0:n.rowIndex)===t||e.sourceEvent instanceof KeyboardEvent)return;const i=Bz(this.beans,n);"block"===this.gos.get("invalidEditValueMode")&&i&&(this.model.getCellValidationModel().getCellValidation(i)||this.model.getRowValidationModel().getRowValidation(i))||super.onCellFocusChanged(e)}cleanupEditors(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;super.cleanupEditors(e,t),this.startedRows.forEach(e=>this.dispatchRowEvent({rowNode:e},"rowEditingStopped")),this.startedRows.length=0}moveToNextEditingCell(e,t,n){var i;let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"ui",r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const s=e.cellPosition;let a;this.model.suspend(!0);try{var l;a=null===(l=this.beans.navigation)||void 0===l?void 0:l.findNextCellToFocusOn(s,{backwards:t,startEditing:!0,skipToNextEditableCell:!1})}finally{this.model.suspend(!1)}if(!1===a)return null;if(null==a)return!1;const u=a.cellPosition,c=e.isCellEditable(),d=a.isCellEditable(),h=u&&s.rowIndex===u.rowIndex&&s.rowPinned===u.rowPinned;c&&this.setFocusOutOnEditor(e),this.restoreEditors();const p=this.gos.get("suppressStartEditOnTab");var g;d&&!r?p?a.focusCell(!0,n):(null!==(g=a.comp)&&void 0!==g&&g.getCellEditor()||jz(this.beans,a,{event:n,cellStartedEdit:!0}),this.setFocusInOnEditor(a),a.focusCell(!1,n)):(d&&r&&this.setFocusInOnEditor(a),a.focusCell(!0,n));return h||r||(this.cleanupEditors(a,!0),p?a.focusCell(!0,n):this.editSvc.startEditing(a,{startedEdit:!0,event:n,source:o,ignoreEventKey:!0})),null===(i=e.rowCtrl)||void 0===i||i.refreshRow({suppressFlash:!0,force:!0}),!0}restoreEditors(){this.model.getEditMap().forEach((e,t)=>e.forEach((e,n)=>{var i;let{state:o}=e;if("editing"!==o)return;const r=Bz(this.beans,{rowNode:t,column:n});!r||null!==(i=r.comp)&&void 0!==i&&i.getCellEditor()||jz(this.beans,r,{silent:!0})}))}destroy(){super.destroy(),this.rowNode=void 0,this.startedRows.length=0}}},dependsOn:[ZZ,U$],css:[".ag-cell-inline-editing{border:var(--ag-cell-editing-border)!important;border-radius:var(--ag-border-radius);box-shadow:var(--ag-cell-editing-shadow);padding:0;z-index:1;.ag-cell-edit-wrapper,.ag-cell-editor,.ag-cell-wrapper,:where(.ag-cell-editor) .ag-input-field-input,:where(.ag-cell-editor) .ag-wrapper{height:100%;line-height:normal;min-height:100%;width:100%}&.ag-cell-editing-error{border-color:var(--ag-invalid-color)!important}}:where(.ag-popup-editor) .ag-large-text{background-color:var(--ag-background-color);border-radius:var(--ag-border-radius);box-shadow:var(--ag-dropdown-shadow);padding:0}.ag-large-text-input{height:auto;padding:var(--ag-cell-horizontal-padding)}:where(.ag-rtl .ag-large-text-input) textarea{resize:none}:where(.ag-ltr) .ag-checkbox-edit{padding-left:var(--ag-cell-horizontal-padding)}:where(.ag-rtl) .ag-checkbox-edit{padding-right:var(--ag-cell-horizontal-padding)}:where(.ag-row.ag-row-editing-invalid .ag-cell-inline-editing){opacity:.8}"]},RX={moduleName:"UndoRedoEdit",version:KN,beans:[class extends vO{constructor(){super(...arguments),this.beanName="undoRedo",this.cellValueChanges=[],this.activeCellEdit=null,this.activeRowEdit=null,this.isPasting=!1,this.isRangeInAction=!1,this.batchEditing=!1,this.bulkEditing=!1,this.onCellValueChanged=e=>{const t={column:e.column,rowIndex:e.rowIndex,rowPinned:e.rowPinned},n=null!==this.activeCellEdit&&kz(this.activeCellEdit,t),i=null!==this.activeRowEdit&&Rz(this.activeRowEdit,t);if(!(n||i||this.isPasting||this.isRangeInAction))return;const{rowPinned:o,rowIndex:r,column:s,oldValue:a,value:l}=e,u={rowPinned:o,rowIndex:r,columnId:s.getColId(),newValue:l,oldValue:a};this.cellValueChanges.push(u)},this.clearStacks=()=>{this.undoStack.clear(),this.redoStack.clear()}}postConstruct(){const{gos:e,ctrlsSvc:t}=this.beans;if(!e.get("undoRedoCellEditing"))return;const n=e.get("undoRedoCellEditingLimit");if(n<=0)return;this.undoStack=new Y$(n),this.redoStack=new Y$(n),this.addListeners();const i=this.clearStacks.bind(this);this.addManagedEventListeners({cellValueChanged:this.onCellValueChanged.bind(this),modelUpdated:e=>{e.keepUndoRedoStack||this.clearStacks()},columnPivotModeChanged:i,newColumnsLoaded:i,columnGroupOpened:i,columnRowGroupChanged:i,columnMoved:i,columnPinned:i,columnVisible:i,rowDragEnd:i}),t.whenReady(this,e=>{this.gridBodyCtrl=e.gridBodyCtrl})}getCurrentUndoStackSize(){var e,t;return null!==(e=null===(t=this.undoStack)||void 0===t?void 0:t.getCurrentStackSize())&&void 0!==e?e:0}getCurrentRedoStackSize(){var e,t;return null!==(e=null===(t=this.redoStack)||void 0===t?void 0:t.getCurrentStackSize())&&void 0!==e?e:0}undo(e){const{eventSvc:t,undoStack:n,redoStack:i}=this;t.dispatchEvent({type:"undoStarted",source:e});const o=this.undoRedo(n,i,"initialRange","oldValue","undo");t.dispatchEvent({type:"undoEnded",source:e,operationPerformed:o})}redo(e){const{eventSvc:t,undoStack:n,redoStack:i}=this;t.dispatchEvent({type:"redoStarted",source:e});const o=this.undoRedo(i,n,"finalRange","newValue","redo");t.dispatchEvent({type:"redoEnded",source:e,operationPerformed:o})}undoRedo(e,t,n,i,o){if(!e)return!1;const r=e.pop();return!(!r||!r.cellValueChanges)&&(this.processAction(r,e=>e[i],o),r instanceof q$?this.processRange(r.ranges||[r[n]]):this.processCell(r.cellValueChanges),t.push(r),!0)}processAction(e,t,n){e.cellValueChanges.forEach(e=>{const{rowIndex:i,rowPinned:o,columnId:r}=e,s={rowIndex:i,rowPinned:o},a=Tz(this.beans,s);a.displayed&&a.setDataValue(r,t(e),n)})}processRange(e){let t;const n=this.beans.rangeSvc;n.removeAllCellRanges(!0),e.forEach((i,o)=>{if(!i)return;const r=i.startRow,s=i.endRow;o===e.length-1&&(t={rowPinned:r.rowPinned,rowIndex:r.rowIndex,columnId:i.startColumn.getColId()},this.setLastFocusedCell(t));const a={rowStartIndex:r.rowIndex,rowStartPinned:r.rowPinned,rowEndIndex:s.rowIndex,rowEndPinned:s.rowPinned,columnStart:i.startColumn,columns:i.columns};n.addCellRange(a)})}processCell(e){const t=e[0],{rowIndex:n,rowPinned:i}=t,o={rowIndex:n,rowPinned:i},r=Tz(this.beans,o),s={rowPinned:t.rowPinned,rowIndex:r.rowIndex,columnId:t.columnId};this.setLastFocusedCell(s)}setLastFocusedCell(e){const{rowIndex:t,columnId:n,rowPinned:i}=e,{colModel:o,focusSvc:r,rangeSvc:s}=this.beans,a=o.getCol(n);if(!a)return;const{scrollFeature:l}=this.gridBodyCtrl;l.ensureIndexVisible(t),l.ensureColumnVisible(a);const u={rowIndex:t,column:a,rowPinned:i};r.setFocusedCell(d(d({},u),{},{forceBrowserFocus:!0})),null===s||void 0===s||s.setRangeToCell(u)}addListeners(){this.addManagedEventListeners({rowEditingStarted:e=>{this.activeRowEdit={rowIndex:e.rowIndex,rowPinned:e.rowPinned}},rowEditingStopped:()=>{const e=new K$(this.cellValueChanges);this.pushActionsToUndoStack(e),this.activeRowEdit=null},cellEditingStarted:e=>{this.activeCellEdit={column:e.column,rowIndex:e.rowIndex,rowPinned:e.rowPinned}},cellEditingStopped:e=>{this.activeCellEdit=null;if(e.valueChanged&&!this.activeRowEdit&&!this.isPasting&&!this.isRangeInAction){const e=new K$(this.cellValueChanges);this.pushActionsToUndoStack(e)}},pasteStart:()=>{this.isPasting=!0},pasteEnd:()=>{const e=new K$(this.cellValueChanges);this.pushActionsToUndoStack(e),this.isPasting=!1},fillStart:()=>{this.isRangeInAction=!0},fillEnd:e=>{const t=new q$(this.cellValueChanges,e.initialRange,e.finalRange);this.pushActionsToUndoStack(t),this.isRangeInAction=!1},keyShortcutChangedCellStart:()=>{this.isRangeInAction=!0},keyShortcutChangedCellEnd:()=>{let e;const{rangeSvc:t,gos:n}=this.beans;e=t&&WB(n)?new q$(this.cellValueChanges,void 0,void 0,[...t.getCellRanges()]):new K$(this.cellValueChanges),this.pushActionsToUndoStack(e),this.isRangeInAction=!1},batchEditingStarted:()=>this.startBigChange("batchEditing"),batchEditingStopped:e=>{let{changes:t}=e;return this.stopBigChange("batchEditing",t)},bulkEditingStarted:()=>this.startBigChange("bulkEditing"),bulkEditingStopped:e=>{let{changes:t}=e;return this.stopBigChange("bulkEditing",t)}})}startBigChange(e){this[e]=!0}stopBigChange(e,t){if(!this[e])return;if(this[e]=!1,0===(null===t||void 0===t?void 0:t.length))return;const n=new K$(null!==t&&void 0!==t?t:[]);this.pushActionsToUndoStack(n),this.cellValueChanges=[]}pushActionsToUndoStack(e){this.undoStack.push(e),this.cellValueChanges=[],this.redoStack.clear()}}],apiFunctions:{undoCellEditing:function(e){var t;null===(t=e.undoRedo)||void 0===t||t.undo("api")},redoCellEditing:function(e){var t;null===(t=e.undoRedo)||void 0===t||t.redo("api")},getCurrentUndoSize:function(e){var t,n;return null!==(t=null===(n=e.undoRedo)||void 0===n?void 0:n.getCurrentUndoStackSize())&&void 0!==t?t:0},getCurrentRedoSize:function(e){var t,n;return null!==(t=null===(n=e.undoRedo)||void 0===n?void 0:n.getCurrentRedoStackSize())&&void 0!==t?t:0}},dependsOn:[AX]},PX={moduleName:"TextEditor",version:KN,userComponents:{agCellEditor:aX,agTextCellEditor:aX},dependsOn:[AX]},TX={moduleName:"NumberEditor",version:KN,userComponents:{agNumberCellEditor:{classImp:class extends $${constructor(){super(new iX(()=>this.getLocaleTextFunc()))}}}},dependsOn:[AX]},_X={moduleName:"DateEditor",version:KN,userComponents:{agDateCellEditor:class extends $${constructor(){super(new Q$(()=>this.beans.dataTypeSvc,()=>this.getLocaleTextFunc()))}},agDateStringCellEditor:class extends $${constructor(){super(new eX(()=>this.beans.dataTypeSvc,()=>this.getLocaleTextFunc()))}}},dependsOn:[AX]},MX={moduleName:"CheckboxEditor",version:KN,userComponents:{agCheckboxCellEditor:class extends aW{constructor(){super(Z$,[wW]),this.eEditor=kG}initialiseEditor(e){var t;const n=null!==(t=e.value)&&void 0!==t?t:void 0,i=this.eEditor;i.setValue(n);i.getInputElement().setAttribute("tabindex","-1"),this.setAriaLabel(n),this.addManagedListeners(i,{fieldValueChanged:e=>this.setAriaLabel(e.selected)})}getValue(){return this.eEditor.getValue()}focusIn(){this.eEditor.getFocusableElement().focus()}afterGuiAttached(){this.params.cellStartedEdit&&this.focusIn()}isPopup(){return!1}setAriaLabel(e){const t=this.getLocaleTextFunc(),n=zL(t,e),i=t("ariaToggleCellValue","Press SPACE to toggle cell value");this.eEditor.setInputAriaLabel("".concat(i," (").concat(n,")"))}getValidationElement(e){return e?this.params.eGridCell:this.eEditor.getInputElement()}getValidationErrors(){const{params:e}=this,{getValidationErrors:t}=e,n=this.getValue();return t?t({value:n,internalErrors:null,cellEditorParams:e}):null}}},dependsOn:[AX]},IX={moduleName:"SelectEditor",version:KN,userComponents:{agSelectCellEditor:class extends aW{constructor(){super(oX,[iU]),this.eEditor=kG,this.startedByEnter=!1}wireBeans(e){this.valueSvc=e.valueSvc}initialiseEditor(e){this.focusAfterAttached=e.cellStartedEdit;const{eEditor:t,valueSvc:n,gos:i}=this,{values:o,value:r,eventKey:s}=e;if(KI(o))return void iB(58);this.startedByEnter=null!=s&&s===sV.ENTER;let a=!1;o.forEach(i=>{const o={value:i},s=n.formatValue(e.column,null,i),l=null!==s&&void 0!==s;o.text=l?s:i,t.addOption(o),a=a||r===i}),a?t.setValue(e.value,!0):e.values.length&&t.setValue(e.values[0],!0);const{valueListGap:l,valueListMaxWidth:u,valueListMaxHeight:c}=e;null!=l&&t.setPickerGap(l),null!=c&&t.setPickerMaxHeight(c),null!=u&&t.setPickerMaxWidth(u),"fullRow"!==i.get("editType")&&this.addManagedListeners(this.eEditor,{selectedItem:()=>e.stopEditing()})}afterGuiAttached(){this.focusAfterAttached&&this.eEditor.getFocusableElement().focus(),this.startedByEnter&&setTimeout(()=>{this.isAlive()&&this.eEditor.showPicker()})}focusIn(){this.eEditor.getFocusableElement().focus()}getValue(){return this.eEditor.getValue()}isPopup(){return!1}getValidationElement(){return this.eEditor.getAriaElement()}getValidationErrors(){const{params:e}=this,{values:t,getValidationErrors:n}=e,i=this.getValue();let o=[];if(t&&!t.includes(i)){const e=this.getLocaleTextFunc();o.push(e("invalidSelectionValidation","Invalid selection."))}else o=null;return n?n({value:i,internalErrors:o,cellEditorParams:e}):o}}},dependsOn:[AX]},LX={moduleName:"LargeTextEditor",version:KN,userComponents:{agLargeTextCellEditor:class extends aW{constructor(){super(tX,[YW]),this.eEditor=kG}initialiseEditor(e){const{eEditor:t}=this,{cellStartedEdit:n,eventKey:i,maxLength:o,cols:r,rows:s}=e;let a;this.focusAfterAttached=n,t.getInputElement().setAttribute("title",""),t.setMaxLength(o||200).setCols(r||60).setRows(s||10),n?(this.focusAfterAttached=!0,i===sV.BACKSPACE||i===sV.DELETE?a="":i&&1===i.length?a=i:(a=this.getStartValue(e),i!==sV.F2&&(this.highlightAllOnFocus=!0))):(this.focusAfterAttached=!1,a=this.getStartValue(e)),null!=a&&t.setValue(a,!0),this.addGuiEventListener("keydown",this.onKeyDown.bind(this)),this.activateTabIndex()}getStartValue(e){var t;const{value:n}=e;return null!==(t=null===n||void 0===n?void 0:n.toString())&&void 0!==t?t:n}onKeyDown(e){const t=e.key;(t===sV.LEFT||t===sV.UP||t===sV.RIGHT||t===sV.DOWN||e.shiftKey&&t===sV.ENTER)&&e.stopPropagation()}afterGuiAttached(){const{eEditor:e,focusAfterAttached:t,highlightAllOnFocus:n}=this,i=this.getLocaleTextFunc();e.setInputAriaLabel(i("ariaInputEditor","Input Editor")),t&&(e.getFocusableElement().focus(),n&&e.getInputElement().select())}getValue(){const{eEditor:e,params:t}=this,{value:n}=t,i=e.getValue();return UI(i)||UI(n)?t.parseValue(i):n}getValidationElement(){return this.eEditor.getInputElement()}getValidationErrors(){const{params:e}=this,{maxLength:t,getValidationErrors:n}=e,i=this.getLocaleTextFunc(),o=this.getValue();let r=[];return"string"===typeof o&&null!=t&&o.length>t&&r.push(i("maxLengthValidation","Must be ".concat(t," characters or fewer."),[String(t)])),r.length||(r=null),n?n({value:o,internalErrors:r,cellEditorParams:e}):r}}},dependsOn:[AX]},NX={moduleName:"CustomEditor",version:KN,dependsOn:[AX]};function BX(e){return oV(e)?e.pinnedSibling:e.footer?e.sibling:e}function OX(e,t){return(0!==e||0!==t)&&(e>0&&t>0?void 0:e>0)}var GX={moduleName:"SharedRowSelection",version:KN,beans:[class extends vO{constructor(){super(...arguments),this.beanName="selectionColSvc"}postConstruct(){this.addManagedPropertyListener("rowSelection",e=>{this.onSelectionOptionsChanged(e.currentValue,e.previousValue,XO(e.source))}),this.addManagedPropertyListener("selectionColumnDef",this.updateColumns.bind(this))}addColumns(e){const t=this.columns;null!=t&&(e.list=t.list.concat(e.list),e.tree=t.tree.concat(e.tree),$O(e))}createColumns(e,t){var n,i,o,r,s,a;const l=e.treeDepth,u=(null!==(n=null===(i=this.columns)||void 0===i?void 0:i.treeDepth)&&void 0!==n?n:-1)==l,c=this.generateSelectionCols();if(ZO(c,null!==(o=null===(r=this.columns)||void 0===r?void 0:r.list)&&void 0!==o?o:[])&&u)return;(()=>{var e;jO(this.beans,null===(e=this.columns)||void 0===e?void 0:e.tree),this.columns=null})();const{colGroupSvc:d}=this.beans,h=null!==(s=null===d||void 0===d?void 0:d.findDepth(e.tree))&&void 0!==s?s:0,p=null!==(a=null===d||void 0===d?void 0:d.balanceTreeForAutoCols(c,h))&&void 0!==a?a:[];this.columns={list:c,tree:p,treeDepth:h,map:{}};t(e=>{if(!e)return null;const t=e.filter(e=>!UO(e));return[...c,...t]})}updateColumns(e){var t;const n=XO(e.source);null===(t=this.columns)||void 0===t||t.list.forEach(t=>{const i=this.createSelectionColDef(e.currentValue);t.setColDef(i,null,n),mG(this.beans,{state:[d(d({},i),{},{colId:t.getColId()})]},n)})}getColumn(e){var t,n;return null!==(t=null===(n=this.columns)||void 0===n?void 0:n.list.find(t=>QO(t,e)))&&void 0!==t?t:null}getColumns(){var e,t;return null!==(e=null===(t=this.columns)||void 0===t?void 0:t.list)&&void 0!==e?e:null}isSelectionColumnEnabled(){var e,t;const{gos:n,beans:i}=this,o=n.get("rowSelection");if("object"!==typeof o||!hB(n))return!1;const r=(null!==(e=null===(t=i.autoColSvc)||void 0===t||null===(t=t.getColumns())||void 0===t?void 0:t.length)&&void 0!==e?e:0)>0;if("autoGroupColumn"===o.checkboxLocation&&r)return!1;const s=!!OB(o),a=GB(o);return s||a}createSelectionColDef(e){const{gos:t}=this.beans,n=null!==e&&void 0!==e?e:t.get("selectionColumnDef"),i=t.get("enableRtl"),o=null!==n&&void 0!==n?n:{},{rowSpan:r,spanRows:a}=o,l=s(o,NI);return d(d({width:50,resizable:!1,suppressHeaderMenuButton:!0,sortable:!1,suppressMovable:!0,lockPosition:i?"right":"left",comparator(e,t,n,i){const o=n.isSelected();return o===i.isSelected()?0:o?1:-1},editable:!1,suppressFillHandle:!0,pinned:null},l),{},{colId:GO,chartDataType:"excluded"})}generateSelectionCols(){if(!this.isSelectionColumnEnabled())return[];const e=this.createSelectionColDef(),t=e.colId;this.gos.validateColDef(e,t,!0);const n=new EO(e,null,t,!1);return this.createBean(n),[n]}onSelectionOptionsChanged(e,t,n){const i=(t&&"string"!==typeof t?OB(t):void 0)!==(e&&"string"!==typeof e?OB(e):void 0),o=(t&&"string"!==typeof t?GB(t):void 0)!==(e&&"string"!==typeof e?GB(e):void 0),r=zB(e),s=zB(t);(i||o||r!==s)&&this.beans.colModel.refreshAll(n)}destroy(){var e;jO(this.beans,null===(e=this.columns)||void 0===e?void 0:e.tree),super.destroy()}refreshVisibility(e,t,n){var i,o;if(null===(i=this.columns)||void 0===i||!i.list.length)return;const r=e.length+t.length+n.length;if(0===r)return;const s=this.columns.list[0];if(!s.isVisible())return;((null===(o=this.beans.rowNumbersSvc)||void 0===o?void 0:o.getColumn(zO))?2:1)===r&&(()=>{let i;switch(s.pinned){case"left":case!0:i=e;break;case"right":i=n;break;default:i=t}i&&LO(i,s)})()}}],apiFunctions:{setNodesSelected:function(e,t){var n;const i=t.nodes.every(e=>e.rowPinned&&!oV(e)?(iB(59),!1):void 0!==e.id||(iB(60),!1));if(!i)return;const{nodes:o,source:r,newValue:s}=t;null===(n=e.selectionSvc)||void 0===n||n.setNodesSelected({nodes:o,source:null!==r&&void 0!==r?r:"api",newValue:s})},selectAll:function(e,t){var n;let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"apiSelectAll";null===(n=e.selectionSvc)||void 0===n||n.selectAllRowNodes({source:i,selectAll:t})},deselectAll:function(e,t){var n;let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"apiSelectAll";null===(n=e.selectionSvc)||void 0===n||n.deselectAllRowNodes({source:i,selectAll:t})},selectAllFiltered:function(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"apiSelectAllFiltered";null===(t=e.selectionSvc)||void 0===t||t.selectAllRowNodes({source:n,selectAll:"filtered"})},deselectAllFiltered:function(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"apiSelectAllFiltered";null===(t=e.selectionSvc)||void 0===t||t.deselectAllRowNodes({source:n,selectAll:"filtered"})},selectAllOnCurrentPage:function(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"apiSelectAllCurrentPage";null===(t=e.selectionSvc)||void 0===t||t.selectAllRowNodes({source:n,selectAll:"currentPage"})},deselectAllOnCurrentPage:function(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"apiSelectAllCurrentPage";null===(t=e.selectionSvc)||void 0===t||t.deselectAllRowNodes({source:n,selectAll:"currentPage"})},getSelectedNodes:function(e){var t,n;return null!==(t=null===(n=e.selectionSvc)||void 0===n?void 0:n.getSelectedNodes())&&void 0!==t?t:[]},getSelectedRows:function(e){var t,n;return null!==(t=null===(n=e.selectionSvc)||void 0===n?void 0:n.getSelectedRows())&&void 0!==t?t:[]}}},zX={moduleName:"RowSelection",version:KN,rowModels:["clientSide","infinite","viewport"],beans:[class extends HW{constructor(){super(...arguments),this.beanName="selectionSvc",this.selectedNodes=new Map,this.detailSelection=new Map,this.masterSelectsDetail=!1}postConstruct(){super.postConstruct();const{gos:e}=this;this.mode=YB(e),this.groupSelectsDescendants=QB(e),this.groupSelectsFiltered="filteredDescendants"===$B(e),this.masterSelectsDetail="detail"===JB(e),this.addManagedPropertyListeners(["groupSelectsChildren","groupSelectsFiltered","rowSelection"],()=>{const t=QB(e),n=YB(e),i="filteredDescendants"===$B(e);this.masterSelectsDetail="detail"===JB(e),t===this.groupSelectsDescendants&&i===this.groupSelectsFiltered&&n===this.mode||(this.deselectAllRowNodes({source:"api"}),this.groupSelectsDescendants=t,this.groupSelectsFiltered=i,this.mode=n)}),this.addManagedEventListeners({rowSelected:this.onRowSelected.bind(this)})}destroy(){super.destroy(),this.resetNodes()}handleSelectionEvent(e,t,n){if(this.isRowSelectionBlocked(t))return 0;const i=this.inferNodeSelections(t,e.shiftKey,e.metaKey||e.ctrlKey,n);return null==i?0:(this.selectionCtx.selectAll=!1,"select"in i?(i.reset?this.resetNodes():this.selectRange(i.deselect,!1,n),this.selectRange(i.select,!0,n)):this.setNodesSelected({nodes:[i.node],newValue:i.newValue,clearSelection:i.clearSelection,keepDescendants:i.keepDescendants,event:e,source:n}))}setNodesSelected(e){let{newValue:t,clearSelection:n,suppressFinishActions:i,nodes:o,event:r,source:s,keepDescendants:a=!1}=e;if(!hB(this.gos)&&t)return iB(132),0;if(0===o.length)return 0;if(o.length>1&&!this.isMultiSelect())return iB(130),0;let l=0;for(let c=0;c<o.length;c++){var u;const e=BX(o[c]),n=this.groupSelectsFiltered&&e.group;if(!e.rowPinned||oV(e))if(void 0!==e.id){if(!n){this.selectRowNode(e,t,r,s)&&(this.detailSelection.delete(e.id),l++)}this.groupSelectsDescendants&&null!==(u=e.childrenAfterGroup)&&void 0!==u&&u.length&&(l+=this.selectChildren(e,t,s))}else iB(60);else iB(59)}if(!i){1===o.length&&"api"===s&&this.selectionCtx.setRoot(BX(o[0]));t&&(n||!this.isMultiSelect())&&(l+=this.clearOtherNodes(BX(o[0]),a,s)),l>0&&(this.updateGroupsFromChildrenSelections(s),this.dispatchSelectionChanged(s))}return l}selectRange(e,t,n){let i=0;return e.forEach(e=>{const o=BX(e);if(o.group&&this.groupSelectsDescendants)return;this.selectRowNode(o,t,void 0,n)&&i++}),i>0&&(this.updateGroupsFromChildrenSelections(n),this.dispatchSelectionChanged(n)),i}selectChildren(e,t,n){const i=this.groupSelectsFiltered?e.childrenAfterAggFilter:e.childrenAfterGroup;return i?this.setNodesSelected({newValue:t,clearSelection:!1,suppressFinishActions:!0,source:n,nodes:i}):0}getSelectedNodes(){return Array.from(this.selectedNodes.values())}getSelectedRows(){const e=[];return this.selectedNodes.forEach(t=>t.data&&e.push(t.data)),e}getSelectionCount(){return this.selectedNodes.size}filterFromSelection(e){const t=new Map;this.selectedNodes.forEach((n,i)=>{e(n)&&t.set(i,n)}),this.selectedNodes=t}updateGroupsFromChildrenSelections(e,t){if(!this.groupSelectsDescendants)return!1;const{gos:n,rowModel:i}=this.beans;if(!uB(n))return!1;const o=i.rootNode;if(!o)return!1;t||((t=new WU(!0,o)).active=!1);let r=!1;return t.forEachChangedNodeDepthFirst(t=>{if(t!==o){const n=this.calculateSelectedFromChildren(t);r=this.selectRowNode(t,null!==n&&n,void 0,e)||r}}),r}clearOtherNodes(e,t,n){const i=new Map;let o=0;return this.selectedNodes.forEach(r=>{const s=r.id==e.id,a=!t||!function(e,t){let n=t.parent;for(;n;){if(n===e)return!0;n=n.parent}return!1}(e,r);if(a&&!s){const e=this.selectedNodes.get(r.id);o+=this.setNodesSelected({nodes:[e],newValue:!1,clearSelection:!1,suppressFinishActions:!0,source:n}),this.groupSelectsDescendants&&r.parent&&i.set(r.parent.id,r.parent)}}),i.forEach(e=>{const t=this.calculateSelectedFromChildren(e);this.selectRowNode(e,null!==t&&t,void 0,n)}),o}onRowSelected(e){const t=e.node;this.groupSelectsDescendants&&t.group||(t.isSelected()?this.selectedNodes.set(t.id,t):this.selectedNodes.delete(t.id))}syncInRowNode(e,t){this.syncInOldRowNode(e,t),this.syncInNewRowNode(e)}createDaemonNode(e){if(!e.id)return;const t=new WV(this.beans);return t.id=e.id,t.data=e.data,t.__daemon=!0,t.__selected=e.__selected,t.level=e.level,t}syncInOldRowNode(e,t){if(t&&e.id!==t.id){this.selectedNodes.get(t.id)==e&&this.selectedNodes.set(t.id,t)}}syncInNewRowNode(e){this.selectedNodes.has(e.id)?(e.__selected=!0,this.selectedNodes.set(e.id,e)):e.__selected=!1}reset(e){const t=this.getSelectionCount();this.resetNodes(),t&&this.dispatchSelectionChanged(e)}resetNodes(){this.selectedNodes.forEach(e=>{this.selectRowNode(e,!1)}),this.selectedNodes.clear()}getBestCostNodeSelection(){const{gos:e,rowModel:t}=this.beans;if(!uB(e))return;const n=t.getTopLevelNodes();if(null===n)return;const i=[];return function e(t){for(let n=0,o=t.length;n<o;n++){const o=t[n];o.isSelected()?i.push(o):o.group&&o.childrenAfterGroup&&e(o.childrenAfterGroup)}}(n),i}isEmpty(){return 0===this.getSelectionCount()}deselectAllRowNodes(e){let{source:t,selectAll:n}=e;const i=uB(this.gos);let o=!1;const r=e=>{const n=this.selectRowNode(BX(e),!1,void 0,t);o||(o=n)};if("currentPage"===n||"filtered"===n){if(!i)return void oB(102);this.getNodesToSelect(n).forEach(r)}else this.selectedNodes.forEach(r),this.reset(t);if(this.selectionCtx.selectAll=!1,i&&this.groupSelectsDescendants){const e=this.updateGroupsFromChildrenSelections(t);o||(o=e)}o&&this.dispatchSelectionChanged(t)}getSelectedCounts(e){let t=0,n=0;return this.getNodesToSelect(e).forEach(e=>{this.groupSelectsDescendants&&e.group||(e.isSelected()?t++:e.selectable&&n++)}),{selectedCount:t,notSelectedCount:n}}getSelectAllState(e){var t;const{selectedCount:n,notSelectedCount:i}=this.getSelectedCounts(e);return null!==(t=OX(n,i))&&void 0!==t?t:null}hasNodesToSelect(e){return this.getNodesToSelect(e).filter(e=>e.selectable).length>0}getNodesToSelect(e){if(!this.canSelectAll())return[];const t=[],n=e=>t.push(e);if("currentPage"===e)return this.forEachNodeOnPage(e=>{if(e.group){if(!e.expanded&&!e.footer){const t=e=>{var i;n(e),null===(i=e.childrenAfterFilter)||void 0===i||i.forEach(t)};return void t(e)}this.groupSelectsDescendants||n(e)}else n(e)}),t;const i=this.beans.rowModel;return"filtered"===e?(i.forEachNodeAfterFilter(n),t):(i.forEachNode(n),t)}forEachNodeOnPage(e){const{pageBounds:t,rowModel:n}=this.beans,i=t.getFirstRow(),o=t.getLastRow();for(let r=i;r<=o;r++){const t=n.getRow(r);t&&e(t)}}selectAllRowNodes(e){const{gos:t,selectionCtx:n}=this;if(!hB(t))return void iB(132);if(HB(t)&&!ZB(t))return void iB(130);if(!this.canSelectAll())return;const{source:i,selectAll:o}=e;let r=!1;if(this.getNodesToSelect(o).forEach(e=>{const t=this.selectRowNode(BX(e),!0,void 0,i);r||(r=t)}),n.selectAll=!0,uB(t)&&this.groupSelectsDescendants){const e=this.updateGroupsFromChildrenSelections(i);r||(r=e)}r&&this.dispatchSelectionChanged(i)}getSelectionState(){return this.isEmpty()?null:Array.from(this.selectedNodes.keys())}setSelectionState(e,t,n){if(e||(e=[]),!Array.isArray(e))return void oB(103);const i=new Set(e),o=[];this.beans.rowModel.forEachNode(e=>{i.has(e.id)&&o.push(e)}),n&&this.resetNodes(),this.setNodesSelected({newValue:!0,nodes:o,source:t})}canSelectAll(){const{gos:e}=this.beans;return!!uB(e)}updateSelectable(e){const{gos:t,rowModel:n}=this.beans;if(!hB(t))return;const i="selectableChanged",o=void 0!==e,r=uB(t)&&this.groupSelectsDescendants,s=[],a=e=>{if(o&&!e.group)return;if(r&&e.group){var t,n;const i=null!==(t=null===(n=e.childrenAfterGroup)||void 0===n?void 0:n.some(e=>e.selectable))&&void 0!==t&&t;return void this.setRowSelectable(e,i,!0)}!this.updateRowSelectable(e,!0)&&e.isSelected()&&s.push(e)};if(r){var l;if(void 0===e){const t=n.rootNode;e=t?new WU(!1,t):void 0}null===(l=e)||void 0===l||l.forEachChangedNodeDepthFirst(a,!o,!o)}else n.forEachNode(a);var u;(s.length&&this.setNodesSelected({nodes:s,newValue:!1,source:i}),!o&&r)&&(null===(u=this.updateGroupsFromChildrenSelections)||void 0===u||u.call(this,i))}updateSelectableAfterGrouping(e){if(this.updateSelectable(e),this.groupSelectsDescendants){var t;(null===(t=this.updateGroupsFromChildrenSelections)||void 0===t?void 0:t.call(this,"rowGroupChanged",e))&&this.dispatchSelectionChanged("rowGroupChanged")}}refreshMasterNodeState(e,t){var n;if(!this.masterSelectsDetail)return;const i=null===(n=e.detailNode)||void 0===n||null===(n=n.detailGridInfo)||void 0===n?void 0:n.api;if(!i)return;const o=function(e){let t=0,n=0;return e.forEachNode(e=>{e.isSelected()?t++:e.selectable&&n++}),OX(t,n)}(i);if(e.isSelected()!==o){this.selectRowNode(e,o,t,"masterDetail")&&this.dispatchSelectionChanged("masterDetail")}if(!o){var r;const t=null!==(r=this.detailSelection.get(e.id))&&void 0!==r?r:new Set;for(const e of i.getSelectedNodes())t.add(e.id);this.detailSelection.set(e.id,t)}}setDetailSelectionState(e,t,n){if(this.masterSelectsDetail)if(ZB(t))switch(e.isSelected()){case!0:n.selectAll();break;case!1:n.deselectAll();break;case void 0:{const t=this.detailSelection.get(e.id);if(t){const e=[];for(const i of t){const t=n.getRowNode(i);t&&e.push(t)}n.setNodesSelected({nodes:e,newValue:!0,source:"masterDetail"})}break}}else iB(269)}dispatchSelectionChanged(e){this.eventSvc.dispatchEvent({type:"selectionChanged",source:e,selectedNodes:this.getSelectedNodes(),serverSideState:null})}}],dependsOn:[GX]};var VX={moduleName:"CsrmSsrmSharedApi",version:KN,apiFunctions:{expandAll:function(e){var t;null===(t=e.expansionSvc)||void 0===t||t.expandAll(!0)},collapseAll:function(e){var t;null===(t=e.expansionSvc)||void 0===t||t.expandAll(!1)},onRowHeightChanged:function(e){const t=CZ(e),n=yZ(e);t?t.onRowHeightChanged():n&&n.onRowHeightChanged()}}},HX={moduleName:"SsrmInfiniteSharedApi",version:KN,apiFunctions:{setRowCount:function(e,t,n){const i=yZ(e);var o;if(i)return 0===(null===(o=e.rowGroupColsSvc)||void 0===o?void 0:o.columns.length)?t<0?void oB(238):void i.setRowCount(t,n):void oB(28);const r=bZ(e);r&&r.setRowCount(t,n)},getCacheBlockState:function(e){var t,n;if(cB(e.gos)){return e.rowModel.getBlockStates()}return null!==(t=null===(n=e.rowNodeBlockLoader)||void 0===n?void 0:n.getBlockState())&&void 0!==t?t:{}},isLastRowIndexKnown:function(e){return e.rowModel.isLastRowIndexKnown()}}},jX={moduleName:"AlignedGrids",version:KN,beans:[class extends vO{constructor(){super(...arguments),this.beanName="alignedGridsSvc",this.consuming=!1}getAlignedGridApis(){var e;let t=null!==(e=this.gos.get("alignedGrids"))&&void 0!==e?e:[];const n="function"===typeof t;"function"===typeof t&&(t=t());return t.map(e=>{if(!e)return oB(18),void(n||oB(20));if(this.isGridApi(e))return e;const t=e;var i;return"current"in t?null===(i=t.current)||void 0===i?void 0:i.api:(t.api||oB(19),t.api)}).filter(e=>!!e&&!e.isDestroyed())}isGridApi(e){return!!e&&!!e.dispatchEvent}postConstruct(){const e=this.fireColumnEvent.bind(this);this.addManagedEventListeners({columnMoved:e,columnVisible:e,columnPinned:e,columnGroupOpened:e,columnResized:e,bodyScroll:this.fireScrollEvent.bind(this),alignedGridColumn:e=>{let{event:t}=e;return this.onColumnEvent(t)},alignedGridScroll:e=>{let{event:t}=e;return this.onScrollEvent(t)}})}fireEvent(e){this.consuming||this.getAlignedGridApis().forEach(t=>{t.isDestroyed()||t.dispatchEvent(e)})}onEvent(e){this.consuming=!0,e(),this.consuming=!1}fireColumnEvent(e){this.fireEvent({type:"alignedGridColumn",event:e})}fireScrollEvent(e){"horizontal"===e.direction&&this.fireEvent({type:"alignedGridScroll",event:e})}onScrollEvent(e){this.onEvent(()=>{this.beans.ctrlsSvc.getScrollFeature().setHorizontalScrollPosition(e.left,!0)})}extractDataFromEvent(e,t){const n=[];return e.columns?e.columns.forEach(e=>{n.push(t(e))}):e.column&&n.push(t(e.column)),n}getMasterColumns(e){return this.extractDataFromEvent(e,e=>e)}getColumnIds(e){return this.extractDataFromEvent(e,e=>e.getColId())}onColumnEvent(e){this.onEvent(()=>{switch(e.type){case"columnMoved":case"columnVisible":case"columnPinned":case"columnResized":this.processColumnEvent(e);break;case"columnGroupOpened":this.processGroupOpenedEvent(e);break;case"columnPivotChanged":iB(21)}})}processGroupOpenedEvent(e){const{colGroupSvc:t}=this.beans;t&&e.columnGroups.forEach(e=>{let n=null;e&&(n=t.getProvidedColGroup(e.getGroupId())),e&&!n||t.setColumnGroupOpened(n,e.isExpanded(),"alignedGridChanged")})}processColumnEvent(e){const t=e.column;let n=null;const i=this.beans,{colResize:o,ctrlsSvc:r,colModel:s}=i;if(t&&(n=s.getColDefCol(t.getColId())),t&&!n)return;const a=this.getMasterColumns(e);switch(e.type){case"columnMoved":mG(i,{state:e.api.getColumnState().map(e=>({colId:e.colId})),applyOrder:!0},"alignedGridChanged");break;case"columnVisible":mG(i,{state:e.api.getColumnState().map(e=>({colId:e.colId,hide:e.hide}))},"alignedGridChanged");break;case"columnPinned":mG(i,{state:e.api.getColumnState().map(e=>({colId:e.colId,pinned:e.pinned}))},"alignedGridChanged");break;case"columnResized":{var l;const t=e,n={};a.forEach(e=>{n[e.getId()]={key:e.getColId(),newWidth:e.getActualWidth()}}),null===(l=t.flexColumns)||void 0===l||l.forEach(e=>{n[e.getId()]&&delete n[e.getId()]}),null===o||void 0===o||o.setColumnWidths(Object.values(n),!1,t.finished,"alignedGridChanged");break}}const u=r.getGridBodyCtrl().isVerticalScrollShowing();this.getAlignedGridApis().forEach(e=>{e.setGridOption("alwaysShowVerticalScroll",u)})}}],dependsOn:[MK]},WX=class{constructor(){this.removals=new Set,this.updates=new Set,this.adds=new Set}remove(e){this.adds.delete(e)||(this.updates.delete(e),this.removals.add(e))}update(e){this.adds.has(e)||this.updates.add(e)}add(e){this.adds.add(e)}};function UX(e){e.sibling&&(e.sibling.childrenAfterSort=e.childrenAfterSort),function(e){if(KI(e.childrenAfterSort))return;const t=e.childrenAfterSort;for(let n=0;n<t.length;n++){const i=t[n],o=0===n,r=n===e.childrenAfterSort.length-1;i.setFirstChild(o),i.lastChild!==r&&(i.lastChild=r,i.dispatchRowEvent("lastChildChanged")),i.childIndex!==n&&(i.childIndex=n,i.dispatchRowEvent("childIndexChanged"))}}(e)}var KX={moduleName:"ClientSideRowModel",version:KN,rowModels:["clientSide"],beans:[class extends LW{constructor(){super(...arguments),this.beanName="csrmNodeSvc"}},class extends vO{constructor(){super(...arguments),this.beanName="rowModel",this.rootNode=null,this.rowsToDisplay=[],this.rowDataUpdatedPending=!1,this.started=!1,this.isRefreshingModel=!1,this.rowNodesCountReady=!1,this.rowCountReady=!1,this.onRowHeightChanged_debounced=HN(this,this.onRowHeightChanged.bind(this),100)}wireBeans(e){this.colModel=e.colModel,this.valueCache=e.valueCache,this.filterStage=e.filterStage,this.sortStage=e.sortStage,this.flattenStage=e.flattenStage,this.groupStage=e.groupStage,this.aggStage=e.aggStage,this.pivotStage=e.pivotStage,this.filterAggStage=e.filterAggStage}postConstruct(){this.orderedStages=[this.groupStage,this.filterStage,this.pivotStage,this.aggStage,this.sortStage,this.filterAggStage,this.flattenStage].filter(e=>!!e);const e=this.refreshModel.bind(this,{step:"group"}),t=this.refreshModel.bind(this,{step:"group",afterColumnsChanged:!0,keepRenderedRows:!0,animate:!this.gos.get("suppressAnimationFrame")});this.addManagedEventListeners({newColumnsLoaded:t,columnRowGroupChanged:e,columnValueChanged:this.onValueChanged.bind(this),columnPivotChanged:this.refreshModel.bind(this,{step:"pivot"}),filterChanged:this.onFilterChanged.bind(this),sortChanged:this.onSortChanged.bind(this),columnPivotModeChanged:e,gridStylesChanged:this.onGridStylesChanges.bind(this),gridReady:this.onGridReady.bind(this)}),this.addPropertyListeners(),this.rootNode=new WV(this.beans);const n=this.getNewNodeManager();this.nodeManager=n,n.activate(this.rootNode)}getNewNodeManager(){const{gos:e,beans:t}=this;return"treeNested"===oO(e)&&t.csrmChildrenTreeNodeSvc||t.csrmNodeSvc}addPropertyListeners(){const e=["treeData","treeDataChildrenField",...this.orderedStages.flatMap(e=>{let{refreshProps:t}=e;return[...t]})];this.addManagedPropertyListeners(e,e=>{var t;const n=null===(t=e.changeSet)||void 0===t?void 0:t.properties;n&&this.onPropChange(n)}),this.addManagedPropertyListener("rowData",()=>this.onPropChange(["rowData"])),this.addManagedPropertyListener("rowHeight",()=>this.resetRowHeights())}start(){this.started=!0,this.rowNodesCountReady?this.refreshModel({step:"group",rowDataUpdated:!0,newData:!0}):this.setInitialData()}setInitialData(){this.gos.get("rowData")&&this.onPropChange(["rowData"])}ensureRowHeightsValid(e,t,n,i){let o,r=!1;do{o=!1;const s=this.getRowIndexAtPixel(e),a=this.getRowIndexAtPixel(t),l=Math.max(s,n),u=Math.min(a,i);for(let e=l;e<=u;e++){const t=this.getRow(e);if(t.rowHeightEstimated){const e=gB(this.beans,t);t.setRowHeight(e.height),o=!0,r=!0}}o&&this.setRowTopAndRowIndex()}while(o);return r}onPropChange(e){if(!this.rootNode)return;const t=this.gos,n=new Set(e),i={step:"nothing",changedProps:n},o=n.has("rowData"),r=this.nodeManager,s=this.getNewNodeManager(),a=r!==s||o&&n.has("treeData")&&t.get("treeData")||n.has("treeDataChildrenField")&&t.get("treeData");let l;if((a||o)&&(l=t.get("rowData"),null==l||Array.isArray(l)||(l=null,iB(1))),a){var u;if(!o)l=null!==(u=null===r||void 0===r?void 0:r.extractRowData())&&void 0!==u?u:l;r!==s&&(null===r||void 0===r||r.deactivate(),this.nodeManager=s),s.activate(this.rootNode)}if(l){if(!a&&!this.isEmpty()&&l.length>0&&t.exists("getRowId")&&!t.get("resetRowDataOnUpdate"))i.keepRenderedRows=!0,i.animate=!this.gos.get("suppressAnimationFrame"),i.changedRowNodes=new WX,s.setImmutableRowData(i,l);else{i.rowDataUpdated=!0,i.newData=!0;const{selectionSvc:e,pinnedRowModel:t}=this.beans;null===e||void 0===e||e.reset("rowDataChanged"),null!==t&&void 0!==t&&t.isManual()&&t.reset(),this.rowNodesCountReady=!0,s.setNewRowData(l)}}if(i.rowDataUpdated)i.step="group";else if("nothing"===i.step)for(const{refreshProps:c,step:d}of this.orderedStages)if(e.some(e=>c.has(e))){i.step=d;break}"nothing"!==i.step&&this.refreshModel(i)}setRowTopAndRowIndex(){const{beans:e,rowsToDisplay:t}=this,n=e.environment.getDefaultRowHeight();let i=0;const o=new Set,r=dB(this.gos,"normal");for(let s=0,a=t.length;s<a;++s){const a=t[s];if(null!=a.id&&o.add(a.id),null==a.rowHeight){const t=gB(e,a,r,n);a.setRowHeight(t.height,t.estimated)}a.setRowTop(i),a.setRowIndex(s),i+=a.rowHeight}return o}clearRowTopAndRowIndex(e,t){const n=e.active,i=e=>{e&&null!=e.id&&!t.has(e.id)&&e.clearRowTopAndRowIndex()},o=e=>{if(null!==e&&(i(e),i(e.detailNode),i(e.sibling),e.hasChildren()&&e.childrenAfterGroup)){const t=-1==e.level;n&&!t&&!e.expanded||e.childrenAfterGroup.forEach(o)}};o(this.rootNode)}isLastRowIndexKnown(){return!0}getRowCount(){return this.rowsToDisplay?this.rowsToDisplay.length:0}getTopLevelRowCount(){const e=this.rootNode;if(!e)return 0;if(0===this.rowsToDisplay.length)return 0;if(this.rowsToDisplay&&this.rowsToDisplay[0]===e)return 1;const t=e.childrenAfterSort,n=e.sibling&&e.sibling.displayed?1:0;return(t?t.length:0)+n}getTopLevelRowDisplayedIndex(e){const{rootNode:t,rowsToDisplay:n}=this;if(!t||!n.length||n[0]===t)return e;const{childrenAfterSort:i}=t,o=e=>{let t=i[e];if(this.gos.get("groupHideOpenParents"))for(;t.expanded&&t.childrenAfterSort&&t.childrenAfterSort.length>0;)t=t.childrenAfterSort[0];return t.rowIndex},{footerSvc:r}=this.beans;return r?r.getTopDisplayIndex(n,e,i,o):o(e)}getTopLevelIndexFromDisplayedIndex(e){var t;const{rootNode:n,rowsToDisplay:i}=this;if(!n||!i.length||i[0]===n)return e;let o=this.getRow(e);for(o.footer&&(o=o.sibling);o.parent&&o.parent!==n;)o=o.parent;const r=null===(t=n.childrenAfterSort)||void 0===t?void 0:t.findIndex(e=>e===o);return-1===r?e:null!==r&&void 0!==r?r:e}getRowBounds(e){const t=this.rowsToDisplay[e];return t?{rowTop:t.rowTop,rowHeight:t.rowHeight}:null}onRowGroupOpened(){const e=FB(this.gos);this.refreshModel({step:"map",keepRenderedRows:!0,animate:e})}onFilterChanged(e){if(e.afterDataChange)return;const t=FB(this.gos),n=0===e.columns.length||e.columns.some(e=>e.isPrimary())?"filter":"filter_aggregates";this.refreshModel({step:n,keepRenderedRows:!0,animate:t})}onSortChanged(){const e=FB(this.gos);this.refreshModel({step:"sort",keepRenderedRows:!0,animate:e})}getType(){return"clientSide"}onValueChanged(){this.refreshModel({step:this.colModel.isPivotActive()?"pivot":"aggregate"})}createChangePath(e){const t=new WU(!1,this.rootNode);return e||(t.active=!1),t}isSuppressModelUpdateAfterUpdateTransaction(e){if(!this.gos.get("suppressModelUpdateAfterUpdateTransaction"))return!1;const{changedRowNodes:t,newData:n,rowDataUpdated:i}=e;return!(!t||n||!i)&&(!t.removals.size&&!t.adds.size)}refreshModel(e){var t,n;if(!this.rootNode)return;const i=this.beans;let o=!!e.rowDataUpdated;const r=null!==(t=e.changedPath)&&void 0!==t?t:e.changedPath=this.createChangePath(!e.newData&&o);if(this.started&&o&&this.eventSvc.dispatchEvent({type:"rowDataUpdated"}),this.rowDataUpdatedPending||(this.rowDataUpdatedPending=o),!this.started||this.isRefreshingModel||this.colModel.changeEventsDispatching||this.isSuppressModelUpdateAfterUpdateTransaction(e))return;var s;(this.rowDataUpdatedPending&&(this.rowDataUpdatedPending=!1,e.rowDataUpdated=o=!0),this.isRefreshingModel=!0,null===(n=i.masterDetailSvc)||void 0===n||n.refreshModel(e),o&&"group"!==e.step)&&(null===(s=i.colFilter)||void 0===s||s.refreshModel());switch(e.step){case"group":var a;if(this.doRowGrouping(e)||o)null===(a=i.colFilter)||void 0===a||a.refreshModel();!this.rowCountReady&&this.rowNodesCountReady&&(this.rowCountReady=!0,this.eventSvc.dispatchEventOnce({type:"rowCountReady"}));case"filter":this.doFilter(r);case"pivot":this.doPivot(r);case"aggregate":this.doAggregate(r);case"filter_aggregates":this.doFilterAggregates(r);case"sort":this.doSort(e.changedRowNodes,r);case"map":this.doRowsToDisplay()}const l=this.setRowTopAndRowIndex();this.clearRowTopAndRowIndex(r,l),this.isRefreshingModel=!1,this.eventSvc.dispatchEvent({type:"modelUpdated",animate:e.animate,keepRenderedRows:e.keepRenderedRows,newData:e.newData,newPage:!1,keepUndoRedoStack:e.keepUndoRedoStack})}isEmpty(){var e,t;return!(null!==(e=this.rootNode)&&void 0!==e&&null!==(e=e.allLeafChildren)&&void 0!==e&&e.length)||!(null!==(t=this.colModel)&&void 0!==t&&t.ready)}isRowsToRender(){return this.rowsToDisplay.length>0}getNodesInRangeForSelection(e,t){let n=!1,i=!1;const o=[],r=QB(this.gos);return this.forEachNodeAfterFilterAndSort(s=>{if(i)return;if(n&&(s===t||s===e)&&(i=!0,s.group&&r))return void o.push(...s.allLeafChildren);if(!n){if(s!==t&&s!==e)return;n=!0}(!s.group||!r)&&o.push(s)}),o}getTopLevelNodes(){var e,t;return null!==(e=null===(t=this.rootNode)||void 0===t?void 0:t.childrenAfterGroup)&&void 0!==e?e:null}getRow(e){return this.rowsToDisplay[e]}isRowPresent(e){return this.rowsToDisplay.indexOf(e)>=0}getRowIndexAtPixel(e){const t=this.rowsToDisplay;if(this.isEmpty()||0===t.length)return-1;let n=0,i=t.length-1;if(e<=0)return 0;if(_O(t).rowTop<=e)return t.length-1;let o=-1,r=-1;for(;;){const s=Math.floor((n+i)/2),a=t[s];if(this.isRowInPixel(a,e))return s;a.rowTop<e?n=s+1:a.rowTop>e&&(i=s-1);if(o===n&&r===i)return s;o=n,r=i}}isRowInPixel(e,t){const n=e.rowTop,i=e.rowTop+e.rowHeight;return n<=t&&i>t}forEachLeafNode(e){var t;null===(t=this.rootNode)||void 0===t||null===(t=t.allLeafChildren)||void 0===t||t.forEach((t,n)=>e(t,n))}forEachNode(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.depthFirstSearchRowNodes(e,t)}forEachDisplayedNode(e){this.rowsToDisplay.forEach(e)}forEachNodeAfterFilter(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.depthFirstSearchRowNodes(e,t,e=>e.childrenAfterAggFilter)}forEachNodeAfterFilterAndSort(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.depthFirstSearchRowNodes(e,t,e=>e.childrenAfterSort)}forEachPivotNode(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{colModel:i,rowGroupColsSvc:o}=this.beans;if(!i.isPivotMode())return;if(null===o||void 0===o||!o.columns.length)return void e(this.rootNode,0);const r=n?"childrenAfterSort":"childrenAfterGroup";this.depthFirstSearchRowNodes(e,t,e=>e.leafGroup?null:e[r])}depthFirstSearchRowNodes(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e=>e.childrenAfterGroup,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.rootNode,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(!i)return o;const r=i===this.rootNode;r||e(i,o++);const{footerSvc:s}=this.beans;if(i.hasChildren()&&!i.footer){const u=n(i);if(u){var a,l;o=null!==(a=null===s||void 0===s?void 0:s.addTotalRows(o,i,e,t,r,"top"))&&void 0!==a?a:o;for(const i of u)o=this.depthFirstSearchRowNodes(e,t,n,i,o);return null!==(l=null===s||void 0===s?void 0:s.addTotalRows(o,i,e,t,r,"bottom"))&&void 0!==l?l:o}}return o}doAggregate(e){const t=this.rootNode;var n;t&&(null===(n=this.aggStage)||void 0===n||n.execute({rowNode:t,changedPath:e}))}doFilterAggregates(e){const t=this.rootNode;this.filterAggStage?this.filterAggStage.execute({rowNode:t,changedPath:e}):t.childrenAfterAggFilter=t.childrenAfterFilter}doSort(e,t){this.sortStage?this.sortStage.execute({rowNode:this.rootNode,changedRowNodes:e,changedPath:t}):t.forEachChangedNodeDepthFirst(e=>{e.childrenAfterSort=e.childrenAfterAggFilter.slice(0),UX(e)})}doRowGrouping(e){var t;const n=this.rootNode,i=null===(t=this.groupStage)||void 0===t?void 0:t.execute({rowNode:n,changedRowNodes:e.changedRowNodes,changedPath:e.changedPath,rowNodesOrderChanged:!!e.rowNodesOrderChanged,afterColumnsChanged:!!e.afterColumnsChanged});if(void 0!==i)return i;const o=n.sibling;return n.childrenAfterGroup=n.allLeafChildren,o&&(o.childrenAfterGroup=n.childrenAfterGroup),n.updateHasChildren(),!1}doFilter(e){this.filterStage?this.filterStage.execute({rowNode:this.rootNode,changedPath:e}):e.forEachChangedNodeDepthFirst(e=>{e.childrenAfterFilter=e.childrenAfterGroup,KZ(e)},!0)}doPivot(e){var t;null===(t=this.pivotStage)||void 0===t||t.execute({rowNode:this.rootNode,changedPath:e})}getRowNode(e){var t;const n=this.nodeManager.getRowNode(e);if("object"===typeof n)return n;return"string"==typeof e&&0===e.indexOf(zV)?null===(t=this.groupStage)||void 0===t?void 0:t.getNode(e):void 0}batchUpdateRowData(e,t){if(null==this.applyAsyncTransactionsTimeout){this.rowDataTransactionBatch=[];const e=this.gos.get("asyncTransactionWaitMillis");this.applyAsyncTransactionsTimeout=window.setTimeout(()=>{this.isAlive()&&this.executeBatchUpdateRowData()},e)}this.rowDataTransactionBatch.push({rowDataTransaction:e,callback:t})}flushAsyncTransactions(){null!=this.applyAsyncTransactionsTimeout&&(clearTimeout(this.applyAsyncTransactionsTimeout),this.executeBatchUpdateRowData())}executeBatchUpdateRowData(){var e,t;null===(e=this.valueCache)||void 0===e||e.onDataChanged();const n=[],i=[],o=new WX;let r=!1;null===(t=this.rowDataTransactionBatch)||void 0===t||t.forEach(e=>{this.rowNodesCountReady=!0;const{rowNodeTransaction:t,rowsInserted:s}=this.nodeManager.updateRowData(e.rowDataTransaction,o);s&&(r=!0),i.push(t),e.callback&&n.push(e.callback.bind(null,t))}),this.commitTransactions(r,o),n.length>0&&window.setTimeout(()=>{n.forEach(e=>e())},0),i.length>0&&this.eventSvc.dispatchEvent({type:"asyncTransactionsFlushed",results:i}),this.rowDataTransactionBatch=null,this.applyAsyncTransactionsTimeout=void 0}updateRowData(e){var t;null===(t=this.valueCache)||void 0===t||t.onDataChanged(),this.rowNodesCountReady=!0;const n=new WX,{rowNodeTransaction:i,rowsInserted:o}=this.nodeManager.updateRowData(e,n);return this.commitTransactions(o,n),i}commitTransactions(e,t){this.refreshModel({step:"group",rowDataUpdated:!0,rowNodesOrderChanged:e,keepRenderedRows:!0,animate:!this.gos.get("suppressAnimationFrame"),changedRowNodes:t,changedPath:this.createChangePath(!0)})}doRowsToDisplay(){const{flattenStage:e,rootNode:t}=this;let n;if(e)n=e.execute({rowNode:t});else{var i;n=null!==(i=null===t||void 0===t?void 0:t.childrenAfterSort)&&void 0!==i?i:[];for(const e of n)e.setUiLevel(0)}this.rowsToDisplay=n}onRowHeightChanged(){this.refreshModel({step:"map",keepRenderedRows:!0,keepUndoRedoStack:!0})}resetRowHeights(){const e=this.rootNode;if(!e)return;const t=this.resetRowHeightsForAllRowNodes();e.setRowHeight(e.rowHeight,!0),e.sibling&&e.sibling.setRowHeight(e.sibling.rowHeight,!0),t&&this.onRowHeightChanged()}resetRowHeightsForAllRowNodes(){let e=!1;return this.forEachNode(t=>{t.setRowHeight(t.rowHeight,!0);const n=t.detailNode;n&&n.setRowHeight(n.rowHeight,!0),t.sibling&&t.sibling.setRowHeight(t.sibling.rowHeight,!0),e=!0}),e}onGridStylesChanges(e){if(e.rowHeightChanged){var t;if(null!==(t=this.beans.rowAutoHeight)&&void 0!==t&&t.active)return;this.resetRowHeights()}}onGridReady(){this.started||this.setInitialData()}isRowDataLoaded(){return this.rowCountReady}destroy(){super.destroy(),this.started=!1,this.rootNode=null,this.nodeManager=null,this.rowDataTransactionBatch=null,this.orderedStages=TO,this.rowsToDisplay=TO}onRowHeightChangedDebounced(){this.onRowHeightChanged_debounced()}},class extends vO{constructor(){super(...arguments),this.beanName="sortStage",this.refreshProps=new Set(["postSortRows","groupDisplayType","accentedSort"]),this.step="sort"}execute(e){const t=this.beans,n=t.sortSvc.getSortOptions(),i=UI(n)&&n.length>0,o=i&&!!e.changedRowNodes&&this.gos.get("deltaSort"),r=n.some(e=>{let{column:n}=e;return AB(t.gos)?n.isPrimary()&&n.isRowGroupActive():!!n.getColDef().showRowGroup});this.sort(t,n,i,o,e.changedRowNodes,e.changedPath,r)}sort(e,t,n,i,o,r,s){const{gos:a,colModel:l,rowGroupColsSvc:u,rowNodeSorter:c,rowRenderer:d,showRowGroupCols:h}=e,p=a.get("groupMaintainOrder"),g=l.getCols().some(e=>e.isRowGroupActive()),m=l.isPivotMode(),v=a.getCallback("postSortRows");let f=!1;if(null===r||void 0===r||r.forEachChangedNodeDepthFirst(e=>{var a;const l=m&&e.leafGroup;let d;if(p&&g&&!e.leafGroup&&!s){var h;const t=null===u||void 0===u||null===(h=u.columns)||void 0===h?void 0:h[e.level+1],n=null===(null===t||void 0===t?void 0:t.getSort()),i=e.childrenAfterAggFilter.slice(0);if(e.childrenAfterSort&&!n){const t={};e.childrenAfterSort.forEach((e,n)=>{t[e.id]=n}),i.sort((e,n)=>{var i,o;return(null!==(i=t[e.id])&&void 0!==i?i:0)-(null!==(o=t[n.id])&&void 0!==o?o:0)})}d=i}else d=!n||l?e.childrenAfterAggFilter.slice(0):i&&o?function(e,t,n,i,o){const r=t.childrenAfterAggFilter,s=t.childrenAfterSort;if(!s)return e.doFullSort(r,o);const a=new Set,l=[],{updates:u,adds:c}=n;for(let h=0,p=r.length;h<p;++h){const e=r[h];u.has(e)||c.has(e)||i&&!i.canSkip(e)?l.push({currentPos:l.length,rowNode:e}):a.add(e.id)}const d=s.filter(e=>a.has(e.id)).map((e,t)=>({currentPos:t,rowNode:e}));return l.sort((t,n)=>e.compareRowNodes(o,t,n)),function(e,t,n,i){const o=[];let r=0,s=0;const a=n.length,l=i.length;for(;r<a&&s<l;){const a=n[r],l=i[s];let u;e.compareRowNodes(t,a,l)<0?(u=a,++r):(u=l,++s),o.push(u.rowNode)}for(;r<a;)o.push(n[r++].rowNode);for(;s<l;)o.push(i[s++].rowNode);return o}(e,o,l,d)}(c,e,o,r,t):c.doFullSort(e.childrenAfterAggFilter,t);if(f||(f=(null===(a=e.childrenAfterSort)||void 0===a?void 0:a[0])!==d[0]),e.childrenAfterSort=d,UX(e),v){const t={nodes:e.childrenAfterSort};v(t)}}),f&&this.gos.get("groupHideOpenParents")){const e=null===h||void 0===h?void 0:h.getShowRowGroupCols();null!==e&&void 0!==e&&e.length&&d.refreshCells({columns:e,force:!0})}}}],dependsOn:[ZY]},qX={moduleName:"ClientSideRowModelApi",version:KN,apiFunctions:{onGroupExpandedOrCollapsed:function(e){var t;null===(t=e.expansionSvc)||void 0===t||t.onGroupExpandedOrCollapsed()},refreshClientSideRowModel:function(e,t){const n=CZ(e);n&&(t&&"everything"!==t||(t="group"),n.refreshModel({step:t,keepRenderedRows:!0,animate:!e.gos.get("suppressAnimationFrame")}))},isRowDataEmpty:function(e){var t,n;return null===(t=null===(n=CZ(e))||void 0===n?void 0:n.isEmpty())||void 0===t||t},forEachLeafNode:function(e,t){var n;null===(n=CZ(e))||void 0===n||n.forEachLeafNode(t)},forEachNodeAfterFilter:function(e,t){var n;null===(n=CZ(e))||void 0===n||n.forEachNodeAfterFilter(t)},forEachNodeAfterFilterAndSort:function(e,t){var n;null===(n=CZ(e))||void 0===n||n.forEachNodeAfterFilterAndSort(t)},resetRowHeights:function(e){var t,n;null!==(t=e.rowAutoHeight)&&void 0!==t&&t.active?iB(3):null===(n=CZ(e))||void 0===n||n.resetRowHeights()},applyTransaction:function(e,t){return e.frameworkOverrides.wrapIncoming(()=>{var n;return null===(n=CZ(e))||void 0===n?void 0:n.updateRowData(t)})},applyTransactionAsync:function(e,t,n){e.frameworkOverrides.wrapIncoming(()=>{var i;return null===(i=CZ(e))||void 0===i?void 0:i.batchUpdateRowData(t,n)})},flushAsyncTransactions:function(e){e.frameworkOverrides.wrapIncoming(()=>{var t;return null===(t=CZ(e))||void 0===t?void 0:t.flushAsyncTransactions()})},getBestCostNodeSelection:function(e){var t;return null===(t=e.selectionSvc)||void 0===t?void 0:t.getBestCostNodeSelection()}},dependsOn:[VX]},YX={moduleName:"SharedExport",version:KN,beans:[class extends vO{constructor(){super(...arguments),this.beanName="gridSerializer"}wireBeans(e){this.visibleCols=e.visibleCols,this.colModel=e.colModel,this.rowModel=e.rowModel,this.pinnedRowModel=e.pinnedRowModel}serialize(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{allColumns:n,columnKeys:i,skipRowGroups:o,exportRowNumbers:r}=t,s=this.getColumnsToExport({allColumns:n,skipRowGroups:o,columnKeys:i,exportRowNumbers:r});return[this.prepareSession(s),this.prependContent(t),this.exportColumnGroups(t,s),this.exportHeaders(t,s),this.processPinnedTopRows(t,s),this.processRows(t,s),this.processPinnedBottomRows(t,s),this.appendContent(t)].reduce((e,t)=>t(e),e).parse()}processRow(e,t,n,i){var o;const r=t.shouldRowBeSkipped||(()=>!1),s=null!=t.rowPositions||!!t.onlySelected,a=this.gos.get("groupHideOpenParents")&&!s,l=this.colModel.isPivotMode()?i.leafGroup:!i.group,u=!!i.footer,c=1===i.allChildrenCount&&1===(null===(o=i.childrenAfterGroup)||void 0===o?void 0:o.length)&&function(e,t){const n=e.get("groupHideParentOfSingleChild");return!0===n||!("leafGroupsOnly"!==n||!t.leafGroup)||!!e.get("groupRemoveSingleChildren")||!(!e.get("groupRemoveLowestSingleChildren")||!t.leafGroup)}(this.gos,i);if(!l&&!u&&(t.skipRowGroups||c||a)||t.onlySelected&&!i.isSelected()||t.skipPinnedTop&&"top"===i.rowPinned||t.skipPinnedBottom&&"bottom"===i.rowPinned||i.stub)return;if(-1===i.level&&!l&&!u)return;if(r(iO(this.gos,{node:i})))return;const d=e.onNewBodyRow(i);if(n.forEach((e,t)=>{d.onColumn(e,t,i)}),t.getCustomContentBelowRow){const n=t.getCustomContentBelowRow(iO(this.gos,{node:i}));n&&e.addCustomContent(n)}}appendContent(e){return t=>{const n=e.appendContent;return n&&t.addCustomContent(n),t}}prependContent(e){return t=>{const n=e.prependContent;return n&&t.addCustomContent(n),t}}prepareSession(e){return t=>(t.prepare(e),t)}exportColumnGroups(e,t){return n=>{if(!e.skipColumnGroupHeaders){const i=new SG,{colGroupSvc:o}=this.beans,r=o?o.createColumnGroups({columns:t,idCreator:i,pinned:null,isStandaloneStructure:!0}):t;this.recursivelyAddHeaderGroups(r,n,e.processGroupHeaderCallback)}return n}}exportHeaders(e,t){return n=>{if(!e.skipColumnHeaders){const e=n.onNewHeaderRow();t.forEach((t,n)=>{e.onColumn(t,n,void 0)})}return n}}processPinnedTopRows(e,t){return n=>{var i;const o=this.processRow.bind(this,n,e,t);if(e.rowPositions)e.rowPositions.filter(e=>"top"===e.rowPinned).sort((e,t)=>e.rowIndex-t.rowIndex).map(e=>{var t;return null===(t=this.pinnedRowModel)||void 0===t?void 0:t.getPinnedTopRow(e.rowIndex)}).forEach(o);else if(null===(i=this.pinnedRowModel)||void 0===i||!i.isManual()){var r;null===(r=this.pinnedRowModel)||void 0===r||r.forEachPinnedRow("top",o)}return n}}processRows(e,t){return n=>{const i=this.rowModel,o=uB(this.gos),r=cB(this.gos),s=!o&&e.onlySelected,a=this.processRow.bind(this,n,e,t),{exportedRows:l="filteredAndSorted"}=e;if(e.rowPositions)return e.rowPositions.filter(e=>null==e.rowPinned).sort((e,t)=>e.rowIndex-t.rowIndex).map(e=>i.getRow(e.rowIndex)).forEach(a),n;if(this.colModel.isPivotMode())return o?i.forEachPivotNode(a,!0,"filteredAndSorted"===l):r?i.forEachNodeAfterFilterAndSort(a,!0):i.forEachNode(a),n;if(e.onlySelectedAllPages||s){var u,c;const e=null!==(u=null===(c=this.beans.selectionSvc)||void 0===c?void 0:c.getSelectedNodes())&&void 0!==u?u:[];this.replicateSortedOrder(e),e.forEach(a)}else"all"===l?i.forEachNode(a):o||r?i.forEachNodeAfterFilterAndSort(a,!0):i.forEachNode(a);return n}}replicateSortedOrder(e){const{sortSvc:t,rowNodeSorter:n}=this.beans;if(!t||!n)return;const i=t.getSortOptions(),o=(e,t)=>{return null!=e.rowIndex&&null!=t.rowIndex?e.rowIndex-t.rowIndex:e.level===t.level?(null===(r=e.parent)||void 0===r?void 0:r.id)===(null===(s=t.parent)||void 0===s?void 0:s.id)?n.compareRowNodes(i,{rowNode:e,currentPos:null!==(a=e.rowIndex)&&void 0!==a?a:-1},{rowNode:t,currentPos:null!==(l=t.rowIndex)&&void 0!==l?l:-1}):o(e.parent,t.parent):e.level>t.level?o(e.parent,t):o(e,t.parent);var r,s,a,l};e.sort(o)}processPinnedBottomRows(e,t){return n=>{var i;const o=this.processRow.bind(this,n,e,t);if(e.rowPositions)e.rowPositions.filter(e=>"bottom"===e.rowPinned).sort((e,t)=>e.rowIndex-t.rowIndex).map(e=>{var t;return null===(t=this.pinnedRowModel)||void 0===t?void 0:t.getPinnedBottomRow(e.rowIndex)}).forEach(o);else if(null===(i=this.pinnedRowModel)||void 0===i||!i.isManual()){var r;null===(r=this.pinnedRowModel)||void 0===r||r.forEachPinnedRow("bottom",o)}return n}}getColumnsToExport(e){const{allColumns:t=!1,skipRowGroups:n=!1,exportRowNumbers:i=!1,columnKeys:o}=e,{colModel:r,gos:s,visibleCols:a}=this,l=r.isPivotMode(),u=e=>!UO(e)&&(!KO(e)||i);if(o&&o.length)return r.getColsForKeys(o).filter(u);const c=s.get("treeData");let d=[];return d=t&&!l?r.getCols():a.allCols,d=d.filter(e=>u(e)&&(!(n&&!c)||!WO(e))),d}recursivelyAddHeaderGroups(e,t,n){const i=[];e.forEach(e=>{const t=e;t.getChildren&&t.getChildren().forEach(e=>i.push(e))}),e.length>0&&OV(e[0])&&this.doAddHeaderHeader(t,e,n),i&&i.length>0&&this.recursivelyAddHeaderGroups(i,t,n)}doAddHeaderHeader(e,t,n){const i=e.onNewHeaderGroupingRow();let o=0;t.forEach(e=>{const t=e;let r;r=n?n(iO(this.gos,{columnGroup:t})):this.beans.colNames.getDisplayNameForColumnGroup(t,"header");const s=t.getLeafColumns().reduce((e,t,n,i)=>{let o=_O(e);return"open"===t.getColumnGroupShow()?o&&null==o[1]||(o=[n],e.push(o)):o&&null==o[1]&&(o[1]=n-1),n===i.length-1&&o&&null==o[1]&&(o[1]=n),e},[]);i.onColumn(t,r||"",o++,t.getLeafColumns().length-1,s)})}}]},ZX=class extends _Z{constructor(e){super(e),this.config=e,this.isFirstLine=!0,this.result="";const{suppressQuotes:t,columnSeparator:n}=e;this.suppressQuotes=t,this.columnSeparator=n}addCustomContent(e){e&&("string"===typeof e?(/^\s*\n/.test(e)||this.beginNewLine(),e=e.replace(/\r?\n/g,"\r\n"),this.result+=e):e.forEach(e=>{this.beginNewLine(),e.forEach((e,t)=>{0!==t&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(e.data.value||""),e.mergeAcross&&this.appendEmptyCells(e.mergeAcross)})}))}onNewHeaderGroupingRow(){return this.beginNewLine(),{onColumn:this.onNewHeaderGroupingRowColumn.bind(this)}}onNewHeaderGroupingRowColumn(e,t,n,i){0!=n&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(t),this.appendEmptyCells(i)}appendEmptyCells(e){for(let t=1;t<=e;t++)this.result+=this.columnSeparator+this.putInQuotes("")}onNewHeaderRow(){return this.beginNewLine(),{onColumn:this.onNewHeaderRowColumn.bind(this)}}onNewHeaderRowColumn(e,t){0!=t&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractHeaderValue(e))}onNewBodyRow(){return this.beginNewLine(),{onColumn:this.onNewBodyRowColumn.bind(this)}}onNewBodyRowColumn(e,t,n){var i;0!=t&&(this.result+=this.columnSeparator);const o=this.extractRowCellValue(e,t,t,"csv",n);this.result+=this.putInQuotes(null!==(i=o.valueFormatted)&&void 0!==i?i:o.value)}putInQuotes(e){if(this.suppressQuotes)return e;if(null===e||void 0===e)return'""';let t;"string"===typeof e?t=e:"function"===typeof e.toString?t=e.toString():(iB(53),t="");return'"'+t.replace(/"/g,'""')+'"'}parse(){return this.result}beginNewLine(){this.isFirstLine||(this.result+="\r\n"),this.isFirstLine=!1}};var $X={moduleName:"CsvExport",version:KN,beans:[class extends TZ{constructor(){super(...arguments),this.beanName="csvCreator"}wireBeans(e){this.colModel=e.colModel,this.colNames=e.colNames,this.rowGroupColsSvc=e.rowGroupColsSvc,this.valueSvc=e.valueSvc}getMergedParams(e){const t=this.gos.get("defaultCsvExportParams");return Object.assign({},t,e)}export(e){if(this.isExportSuppressed())return void iB(51);const t=this.getMergedParams(e),n=this.getData(t),i=new Blob(["\ufeff",n],{type:"text/plain"}),o="function"===typeof t.fileName?t.fileName(iO(this.gos,{})):t.fileName;MZ(this.getFileName(o),i)}exportDataAsCsv(e){this.export(e)}getDataAsCsv(e){const t=arguments.length>1&&void 0!==arguments[1]&&arguments[1]?Object.assign({},e):this.getMergedParams(e);return this.getData(t)}getDefaultFileExtension(){return"csv"}createSerializingSession(e){const{colModel:t,colNames:n,rowGroupColsSvc:i,valueSvc:o,gos:r}=this,{processCellCallback:s,processHeaderCallback:a,processGroupHeaderCallback:l,processRowGroupCallback:u,suppressQuotes:c,columnSeparator:d}=e;return new ZX({colModel:t,colNames:n,valueSvc:o,gos:r,processCellCallback:s||void 0,processHeaderCallback:a||void 0,processGroupHeaderCallback:l||void 0,processRowGroupCallback:u||void 0,suppressQuotes:c||!1,columnSeparator:d||",",rowGroupColsSvc:i})}isExportSuppressed(){return this.gos.get("suppressCsvExport")}}],apiFunctions:{getDataAsCsv:function(e,t){var n;return null===(n=e.csvCreator)||void 0===n?void 0:n.getDataAsCsv(t)},exportDataAsCsv:function(e,t){var n;null===(n=e.csvCreator)||void 0===n||n.exportDataAsCsv(t)}},dependsOn:[YX]},XX=class extends vO{constructor(e,t,n){super(),this.id=e,this.parentCache=t,this.params=n,this.state="needsLoading",this.version=0,this.startRow=e*n.blockSize,this.endRow=this.startRow+n.blockSize}load(){this.state="loading",this.loadFromDatasource()}setStateWaitingToLoad(){this.version++,this.state="needsLoading"}pageLoadFailed(e){this.isRequestMostRecentAndLive(e)&&(this.state="failed"),this.dispatchLocalEvent({type:"loadComplete"})}pageLoaded(e,t,n){this.successCommon(e,{rowData:t,rowCount:n})}isRequestMostRecentAndLive(e){const t=e===this.version,n=this.isAlive();return t&&n}successCommon(e,t){this.dispatchLocalEvent({type:"loadComplete"});this.isRequestMostRecentAndLive(e)&&(this.state="loaded",this.processServerResult(t))}postConstruct(){this.rowNodes=[];const{params:{blockSize:e,rowHeight:t},startRow:n,beans:i,rowNodes:o}=this;for(let r=0;r<e;r++){const e=n+r,s=new WV(i);s.setRowHeight(t),s.uiLevel=0,s.setRowIndex(e),s.setRowTop(t*e),o.push(s)}}getBlockStateJson(){const{id:e,startRow:t,endRow:n,state:i}=this;return{id:""+e,state:{blockNumber:e,startRow:t,endRow:n,pageStatus:i}}}setDataAndId(e,t,n){UI(t)?e.setDataAndId(t,n.toString()):e.setDataAndId(void 0,void 0)}loadFromDatasource(){const e=this.createLoadParams();KI(this.params.datasource.getRows)?iB(90):window.setTimeout(()=>{this.params.datasource.getRows(e)},0)}createLoadParams(){const{startRow:e,endRow:t,version:n,params:{sortModel:i,filterModel:o},gos:r}=this;return{startRow:e,endRow:t,successCallback:this.pageLoaded.bind(this,n),failCallback:this.pageLoadFailed.bind(this,n),sortModel:i,filterModel:o,context:iO(r,{}).context}}forEachNode(e,t,n){this.rowNodes.forEach((i,o)=>{this.startRow+o<n&&e(i,t.value++)})}getRow(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1]||(this.lastAccessed=this.params.lastAccessedSequence.value++);const t=e-this.startRow;return this.rowNodes[t]}processServerResult(e){const{rowNodes:t,beans:n}=this;t.forEach((i,o)=>{const r=e.rowData?e.rowData[o]:void 0;!i.id&&i.alreadyRendered&&r&&(t[o]=new WV(n),t[o].setRowIndex(i.rowIndex),t[o].setRowTop(i.rowTop),t[o].setRowHeight(i.rowHeight),i.clearRowTopAndRowIndex()),this.setDataAndId(t[o],r,this.startRow+o)});const i=null!=e.rowCount&&e.rowCount>=0?e.rowCount:void 0;this.parentCache.pageLoaded(this,i)}destroy(){this.rowNodes.forEach(e=>{e.clearRowTopAndRowIndex()}),super.destroy()}},QX=class extends vO{constructor(e){super(),this.params=e,this.lastRowIndexKnown=!1,this.blocks={},this.blockCount=0,this.rowCount=e.initialRowCount}getRow(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=Math.floor(e/this.params.blockSize);let i=this.blocks[n];if(!i){if(t)return;i=this.createBlock(n)}return i.getRow(e)}createBlock(e){const t=this.params,n=this.createBean(new XX(e,this,t));return this.blocks[n.id]=n,this.blockCount++,this.purgeBlocksIfNeeded(n),t.rowNodeBlockLoader.addBlock(n),n}refreshCache(){0==this.blockCount?this.purgeCache():(this.getBlocksInOrder().forEach(e=>e.setStateWaitingToLoad()),this.params.rowNodeBlockLoader.checkBlockToLoad())}destroy(){this.getBlocksInOrder().forEach(e=>this.destroyBlock(e)),super.destroy()}getRowCount(){return this.rowCount}isLastRowIndexKnown(){return this.lastRowIndexKnown}pageLoaded(e,t){this.isAlive()&&(NN(this.gos,"InfiniteCache - onPageLoaded: page = ".concat(e.id,", lastRow = ").concat(t)),this.checkRowCount(e,t),this.onCacheUpdated())}purgeBlocksIfNeeded(e){const t=this.getBlocksInOrder().filter(t=>t!=e);t.sort((e,t)=>t.lastAccessed-e.lastAccessed);const n=this.params.maxBlocksInCache>0,i=n?this.params.maxBlocksInCache-1:null;t.forEach((e,t)=>{if("needsLoading"===e.state&&t>=1||!!n&&t>=i){if(this.isBlockCurrentlyDisplayed(e))return;if(this.isBlockFocused(e))return;this.removeBlockFromCache(e)}})}isBlockFocused(e){const t=this.beans.focusSvc.getFocusCellToUseAfterRefresh();if(!t)return!1;if(null!=t.rowPinned)return!1;const{startRow:n,endRow:i}=e;return t.rowIndex>=n&&t.rowIndex<i}isBlockCurrentlyDisplayed(e){const{startRow:t,endRow:n}=e;return this.beans.rowRenderer.isRangeInRenderedViewport(t,n-1)}removeBlockFromCache(e){e&&this.destroyBlock(e)}checkRowCount(e,t){if("number"===typeof t&&t>=0)this.rowCount=t,this.lastRowIndexKnown=!0;else if(!this.lastRowIndexKnown){const{blockSize:t,overflowSize:n}=this.params,i=(e.id+1)*t+n;this.rowCount<i&&(this.rowCount=i)}}setRowCount(e,t){this.rowCount=e,UI(t)&&(this.lastRowIndexKnown=t),this.lastRowIndexKnown||this.rowCount%this.params.blockSize===0&&this.rowCount++,this.onCacheUpdated()}forEachNodeDeep(e){const t={value:0};this.getBlocksInOrder().forEach(n=>n.forEachNode(e,t,this.rowCount))}getBlocksInOrder(){return Object.values(this.blocks).sort((e,t)=>e.id-t.id)}destroyBlock(e){delete this.blocks[e.id],this.destroyBean(e),this.blockCount--,this.params.rowNodeBlockLoader.removeBlock(e)}onCacheUpdated(){this.isAlive()&&(this.destroyAllBlocksPastVirtualRowCount(),this.eventSvc.dispatchEvent({type:"storeUpdated"}))}destroyAllBlocksPastVirtualRowCount(){const e=[];this.getBlocksInOrder().forEach(t=>{t.id*this.params.blockSize>=this.rowCount&&e.push(t)}),e.length>0&&e.forEach(e=>this.destroyBlock(e))}purgeCache(){this.getBlocksInOrder().forEach(e=>this.removeBlockFromCache(e)),this.lastRowIndexKnown=!1,0===this.rowCount&&(this.rowCount=this.params.initialRowCount),this.onCacheUpdated()}getRowNodesInRange(e,t){const n=[];let i=-1,o=!1;const r={value:0};let s=!1;this.getBlocksInOrder().forEach(a=>{s||(o&&i+1!==a.id?s=!0:(i=a.id,a.forEachNode(i=>{const r=i===e||i===t;(o||r)&&n.push(i),r&&(o=!o)},r,this.rowCount)))});return s||o?[]:n}};var JX={moduleName:"InfiniteRowModelCore",version:KN,rowModels:["infinite"],beans:[class extends vO{constructor(){super(...arguments),this.beanName="rowModel"}getRowBounds(e){return{rowHeight:this.rowHeight,rowTop:this.rowHeight*e}}ensureRowHeightsValid(){return!1}postConstruct(){"infinite"===this.gos.get("rowModelType")&&(this.rowHeight=mB(this.beans),this.addEventListeners(),this.addDestroyFunc(()=>this.destroyCache()))}start(){this.setDatasource(this.gos.get("datasource"))}destroy(){this.destroyDatasource(),super.destroy()}destroyDatasource(){this.datasource&&(this.destroyBean(this.datasource),this.beans.rowRenderer.datasourceChanged(),this.datasource=null)}addEventListeners(){this.addManagedEventListeners({filterChanged:this.reset.bind(this),sortChanged:this.reset.bind(this),newColumnsLoaded:this.onColumnEverything.bind(this),storeUpdated:this.dispatchModelUpdatedEvent.bind(this)}),this.addManagedPropertyListener("datasource",()=>this.setDatasource(this.gos.get("datasource"))),this.addManagedPropertyListener("cacheBlockSize",()=>this.resetCache()),this.addManagedPropertyListener("rowHeight",()=>{this.rowHeight=mB(this.beans),this.cacheParams.rowHeight=this.rowHeight,this.updateRowHeights()})}onColumnEverything(){let e;var t,n;this.cacheParams?e=!YI(this.cacheParams.sortModel,null!==(t=null===(n=this.beans.sortSvc)||void 0===n?void 0:n.getSortModel())&&void 0!==t?t:[]):e=!0;e&&this.reset()}getType(){return"infinite"}setDatasource(e){this.destroyDatasource(),this.datasource=e,e&&this.reset()}isEmpty(){return!this.infiniteCache}isRowsToRender(){return!!this.infiniteCache}getNodesInRangeForSelection(e,t){var n,i;return null!==(n=null===(i=this.infiniteCache)||void 0===i?void 0:i.getRowNodesInRange(e,t))&&void 0!==n?n:[]}reset(){if(!this.datasource)return;var e;null!=LB(this.gos)||(null===(e=this.beans.selectionSvc)||void 0===e||e.reset("rowDataChanged"));this.resetCache()}dispatchModelUpdatedEvent(){this.eventSvc.dispatchEvent({type:"modelUpdated",newPage:!1,newPageSize:!1,newData:!1,keepRenderedRows:!0,animate:!1})}resetCache(){var e,t;this.destroyCache();const n=this.beans,{filterManager:i,sortSvc:o,rowNodeBlockLoader:r,eventSvc:s,gos:a}=n;this.cacheParams={datasource:this.datasource,filterModel:null!==(e=null===i||void 0===i?void 0:i.getFilterModel())&&void 0!==e?e:{},sortModel:null!==(t=null===o||void 0===o?void 0:o.getSortModel())&&void 0!==t?t:[],rowNodeBlockLoader:r,initialRowCount:a.get("infiniteInitialRowCount"),maxBlocksInCache:a.get("maxBlocksInCache"),rowHeight:mB(n),overflowSize:a.get("cacheOverflowSize"),blockSize:a.get("cacheBlockSize"),lastAccessedSequence:{value:0}},this.infiniteCache=this.createBean(new QX(this.cacheParams)),s.dispatchEventOnce({type:"rowCountReady"}),this.dispatchModelUpdatedEvent()}updateRowHeights(){this.forEachNode(e=>{e.setRowHeight(this.rowHeight),e.setRowTop(this.rowHeight*e.rowIndex)}),this.dispatchModelUpdatedEvent()}destroyCache(){this.infiniteCache=this.destroyBean(this.infiniteCache)}getRow(e){const t=this.infiniteCache;if(t&&!(e>=t.getRowCount()))return t.getRow(e)}getRowNode(e){let t;return this.forEachNode(n=>{n.id===e&&(t=n)}),t}forEachNode(e){var t;null===(t=this.infiniteCache)||void 0===t||t.forEachNodeDeep(e)}getTopLevelRowCount(){return this.getRowCount()}getTopLevelRowDisplayedIndex(e){return e}getRowIndexAtPixel(e){if(0!==this.rowHeight){const t=Math.floor(e/this.rowHeight),n=this.getRowCount()-1;return t>n?n:t}return 0}getRowCount(){return this.infiniteCache?this.infiniteCache.getRowCount():0}isRowPresent(e){return!!this.getRowNode(e.id)}refreshCache(){var e;null===(e=this.infiniteCache)||void 0===e||e.refreshCache()}purgeCache(){var e;null===(e=this.infiniteCache)||void 0===e||e.purgeCache()}isLastRowIndexKnown(){var e,t;return null!==(e=null===(t=this.infiniteCache)||void 0===t?void 0:t.isLastRowIndexKnown())&&void 0!==e&&e}setRowCount(e,t){var n;null===(n=this.infiniteCache)||void 0===n||n.setRowCount(e,t)}},class extends vO{constructor(){super(...arguments),this.beanName="rowNodeBlockLoader",this.activeBlockLoadsCount=0,this.blocks=[],this.active=!0}postConstruct(){this.maxConcurrentRequests=NB(this.gos);const e=this.gos.get("blockLoadDebounceMillis");e&&e>0&&(this.checkBlockToLoadDebounce=HN(this,this.performCheckBlocksToLoad.bind(this),e))}addBlock(e){this.blocks.push(e),e.addEventListener("loadComplete",this.loadComplete.bind(this)),this.checkBlockToLoad()}removeBlock(e){LO(this.blocks,e)}destroy(){super.destroy(),this.active=!1}loadComplete(){this.activeBlockLoadsCount--,this.checkBlockToLoad()}checkBlockToLoad(){this.checkBlockToLoadDebounce?this.checkBlockToLoadDebounce():this.performCheckBlocksToLoad()}performCheckBlocksToLoad(){if(!this.active)return;if(this.printCacheStatus(),null!=this.maxConcurrentRequests&&this.activeBlockLoadsCount>=this.maxConcurrentRequests)return void NN(this.gos,"RowNodeBlockLoader - checkBlockToLoad: max loads exceeded");const e=null!=this.maxConcurrentRequests?this.maxConcurrentRequests-this.activeBlockLoadsCount:1,t=this.blocks.filter(e=>"needsLoading"===e.state).slice(0,e);this.activeBlockLoadsCount+=t.length,t.forEach(e=>e.load()),this.printCacheStatus()}getBlockState(){const e={};return this.blocks.forEach(t=>{const{id:n,state:i}=t.getBlockStateJson();e[n]=i}),e}printCacheStatus(){NN(this.gos,"RowNodeBlockLoader - printCacheStatus: activePageLoadsCount = ".concat(this.activeBlockLoadsCount,", blocks = ").concat(JSON.stringify(this.getBlockState())))}}]},eQ={moduleName:"InfiniteRowModel",version:KN,apiFunctions:{refreshInfiniteCache:function(e){var t;null===(t=bZ(e))||void 0===t||t.refreshCache()},purgeInfiniteCache:function(e){var t;null===(t=bZ(e))||void 0===t||t.purgeCache()},getInfiniteRowCount:function(e){var t;return null===(t=bZ(e))||void 0===t?void 0:t.getRowCount()}},dependsOn:[JX,HX]},tQ={tag:"span",children:[{tag:"span",ref:"eDelta",cls:"ag-value-change-delta"},{tag:"span",ref:"eValue",cls:"ag-value-change-value"}]},nQ={tag:"span",children:[{tag:"span",ref:"eCurrent",cls:"ag-value-slide-current"}]};var iQ={moduleName:"HighlightChanges",version:KN,beans:[class extends vO{constructor(){super(...arguments),this.beanName="cellFlashSvc",this.nextAnimationTime=null,this.nextAnimationCycle=null,this.animations={highlight:new Map,"data-changed":new Map}}animateCell(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.beans.gos.get("cellFlashDuration"),i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.beans.gos.get("cellFadeDuration");const o=this.animations[t];o.delete(e);const r=Date.now(),s=r+n,a={phase:"flash",flashEndTime:s,fadeEndTime:r+n+i};o.set(e,a);const l="ag-cell-".concat(t),u="".concat(l,"-animation"),{comp:c,eGui:{style:d}}=e;c.toggleCss(l,!0),c.toggleCss(u,!1),d.removeProperty("transition"),d.removeProperty("transition-delay"),this.nextAnimationTime&&s+15<this.nextAnimationTime&&(clearTimeout(this.nextAnimationCycle),this.nextAnimationCycle=null,this.nextAnimationTime=null),this.nextAnimationCycle||(this.beans.frameworkOverrides.wrapIncoming(()=>{this.nextAnimationCycle=setTimeout(this.advanceAnimations.bind(this),n)}),this.nextAnimationTime=s)}advanceAnimations(){const e=Date.now();let t=null;for(const n of Object.keys(this.animations)){const i=this.animations[n],o="ag-cell-".concat(n),r="".concat(o,"-animation");for(const[n,s]of i){if(!n.isAlive()||!n.comp){i.delete(n);continue}const{phase:a,flashEndTime:l,fadeEndTime:u}=s,c="flash"===a?l:u;if(!(e+15>=c)){t=Math.min(c,null!==t&&void 0!==t?t:1/0);continue}const{comp:d,eGui:{style:h}}=n;switch(a){case"flash":d.toggleCss(o,!1),d.toggleCss(r,!0),h.transition="background-color ".concat(u-l,"ms"),h.transitionDelay="".concat(l-e,"ms"),t=Math.min(u,null!==t&&void 0!==t?t:1/0),s.phase="fade";break;case"fade":d.toggleCss(o,!1),d.toggleCss(r,!1),h.removeProperty("transition"),h.removeProperty("transition-delay"),i.delete(n)}}}null==t?(this.nextAnimationTime=null,this.nextAnimationCycle=null):t&&(this.nextAnimationCycle=setTimeout(this.advanceAnimations.bind(this),t-e),this.nextAnimationTime=t)}onFlashCells(e,t){if(!e.comp)return;const n=Fz(e.cellPosition);t.cells[n]&&this.animateCell(e,"highlight")}flashCell(e,t){this.animateCell(e,"data-changed",null===t||void 0===t?void 0:t.flashDuration,null===t||void 0===t?void 0:t.fadeDuration)}destroy(){for(const e of Object.keys(this.animations)){this.animations[e].clear()}}}],userComponents:{agAnimateShowChangeCellRenderer:class extends AG{constructor(){super(tQ),this.eValue=kG,this.eDelta=kG,this.refreshCount=0}init(e){this.refresh(e,!0)}showDelta(e,t){const n=Math.abs(t),i=e.formatValue(n),o=UI(i)?i:n,r=t>=0,s=this.eDelta;s.textContent=r?"\u2191"+o:"\u2193"+o,s.classList.toggle("ag-value-change-delta-up",r),s.classList.toggle("ag-value-change-delta-down",!r)}setTimerToRemoveDelta(){this.refreshCount++;const e=this.refreshCount;this.beans.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{e===this.refreshCount&&this.hideDeltaValue()},2e3)})}hideDeltaValue(){this.eValue.classList.remove("ag-value-change-value-highlight"),uN(this.eDelta)}refresh(e){var t;let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{value:i,valueFormatted:o}=e,{eValue:r,lastValue:s,beans:a}=this;if(i===s)return!1;if(UI(o)?r.textContent=o:UI(i)?r.textContent=i:uN(r),null!==(t=a.filterManager)&&void 0!==t&&t.isSuppressFlashingCellsBecauseFiltering())return!1;const l=i&&"object"===typeof i&&"toNumber"in i?i.toNumber():i,u=s&&"object"===typeof s&&"toNumber"in s?s.toNumber():s;if(l===u)return!1;if("number"===typeof l&&"number"===typeof u){const t=l-u;this.showDelta(e,t)}return s&&r.classList.add("ag-value-change-value-highlight"),n||this.setTimerToRemoveDelta(),this.lastValue=i,!0}},agAnimateSlideCellRenderer:class extends AG{constructor(){super(nQ),this.eCurrent=kG,this.refreshCount=0,this.registerCSS(".ag-value-slide-out{opacity:1}:where(.ag-ltr) .ag-value-slide-out{margin-right:5px;transition:opacity 3s,margin-right 3s}:where(.ag-rtl) .ag-value-slide-out{margin-left:5px;transition:opacity 3s,margin-left 3s}:where(.ag-ltr,.ag-rtl) .ag-value-slide-out{transition-timing-function:linear}.ag-value-slide-out-end{opacity:0}:where(.ag-ltr) .ag-value-slide-out-end{margin-right:10px}:where(.ag-rtl) .ag-value-slide-out-end{margin-left:10px}")}init(e){this.refresh(e,!0)}addSlideAnimation(){this.refreshCount++;const e=this.refreshCount;this.ePrevious&&this.getGui().removeChild(this.ePrevious);const{beans:t,eCurrent:n}=this,i=MN({tag:"span",cls:"ag-value-slide-previous ag-value-slide-out"});this.ePrevious=i,i.textContent=n.textContent,this.getGui().insertBefore(i,n),t.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{e===this.refreshCount&&this.ePrevious.classList.add("ag-value-slide-out-end")},50),window.setTimeout(()=>{e===this.refreshCount&&(this.getGui().removeChild(this.ePrevious),this.ePrevious=null)},3e3)})}refresh(e){var t;let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=e.value;if(KI(i)&&(i=""),i===this.lastValue)return!1;if(null!==(t=this.beans.filterManager)&&void 0!==t&&t.isSuppressFlashingCellsBecauseFiltering())return!1;n||this.addSlideAnimation(),this.lastValue=i;const o=this.eCurrent;return UI(e.valueFormatted)?o.textContent=e.valueFormatted:UI(e.value)?o.textContent=i:uN(o),!0}}},apiFunctions:{flashCells:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{cellFlashSvc:n}=e;n&&e.frameworkOverrides.wrapIncoming(()=>{e.rowRenderer.getCellCtrls(t.rowNodes,t.columns).forEach(e=>n.flashCell(e,t))})}}};function oQ(e){if((e=d({},e)).version||(e.version="32.1.0"),"32.1.0"===e.version)e=function(e){return e.cellSelection=function(e,t){if(e&&"object"===typeof e)return e[t]}(e,"rangeSelection"),e}(e);return e.version=KN,e}var rQ={moduleName:"GridState",version:KN,beans:[class extends vO{constructor(){super(...arguments),this.beanName="stateSvc",this.updateRowGroupExpansionStateTimer=0,this.suppressEvents=!0,this.queuedUpdateSources=new Set,this.dispatchStateUpdateEventDebounced=HN(this,()=>this.dispatchQueuedStateUpdateEvents(),0),this.onRowGroupOpenedDebounced=HN(this,()=>{this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState())},0),this.onRowSelectedDebounced=HN(this,()=>{this.staleStateKeys.delete("rowSelection"),this.updateCachedState("rowSelection",this.getRowSelectionState())},0),this.staleStateKeys=new Set}postConstruct(){var e;this.isClientSideRowModel=uB(this.gos);const t=oQ(null!==(e=this.gos.get("initialState"))&&void 0!==e?e:{}),n=t.partialColumnState;delete t.partialColumnState,this.cachedState=t;const i=this.suppressEventsAndDispatchInitEvent.bind(this);this.beans.ctrlsSvc.whenReady(this,()=>i(()=>this.setupStateOnGridReady(t)));const[o,r,s]=this.addManagedEventListeners({newColumnsLoaded:e=>{let{source:r}=e;"gridInitializing"===r&&(o(),i(()=>this.setupStateOnColumnsInitialised(t,!!n)))},rowCountReady:()=>{null===r||void 0===r||r(),i(()=>this.setupStateOnRowCountReady(t))},firstDataRendered:()=>{null===s||void 0===s||s(),i(()=>this.setupStateOnFirstDataRendered(t))}})}destroy(){super.destroy(),clearTimeout(this.updateRowGroupExpansionStateTimer),this.queuedUpdateSources.clear()}getState(){return this.staleStateKeys.size&&this.refreshStaleState(),this.cachedState}setState(e,t){const n=oQ(e);delete n.partialColumnState,this.cachedState=n,this.startSuppressEvents();const i="api",o=t?new Set(t):void 0;this.setGridReadyState(n,i,o),this.setColumnsInitialisedState(n,i,!1,o),this.setRowCountState(n,i,o),setTimeout(()=>{this.isAlive()&&this.setFirstDataRenderedState(n,i,o),this.stopSuppressEvents(i)})}setGridReadyState(e,t,n){var i;"api"!==t||null!==n&&void 0!==n&&n.has("sideBar")||(null===(i=this.beans.sideBar)||void 0===i||null===(i=i.comp)||void 0===i||i.setState(e.sideBar));this.updateCachedState("sideBar",this.getSideBarState())}setupStateOnGridReady(e){this.setGridReadyState(e,"gridInitializing");const t=()=>this.updateCachedState("sideBar",this.getSideBarState());this.addManagedEventListeners({toolPanelVisibleChanged:t,sideBarUpdated:t})}updateColumnAndGroupState(){this.updateColumnState(["aggregation","columnOrder","columnPinning","columnSizing","columnVisibility","pivot","rowGroup","sort"]),this.updateCachedState("columnGroup",this.getColumnGroupState())}setColumnsInitialisedState(e,t,n,i){this.setColumnState(e,t,n,i),this.setColumnGroupState(e,t,i),this.updateColumnAndGroupState()}setupStateOnColumnsInitialised(e,t){this.setColumnsInitialisedState(e,"gridInitializing",t);const n=e=>()=>this.updateColumnState([e]);this.addManagedEventListeners({columnValueChanged:n("aggregation"),columnMoved:n("columnOrder"),columnPinned:n("columnPinning"),columnResized:n("columnSizing"),columnVisible:n("columnVisibility"),columnPivotChanged:n("pivot"),columnPivotModeChanged:n("pivot"),columnRowGroupChanged:n("rowGroup"),sortChanged:n("sort"),newColumnsLoaded:this.updateColumnAndGroupState.bind(this),columnGroupOpened:()=>this.updateCachedState("columnGroup",this.getColumnGroupState())})}setRowCountState(e,t,n){const{filter:i,rowGroupExpansion:o,rowSelection:r,pagination:s}=e,a=(e,i)=>!(null!==n&&void 0!==n&&n.has(e))&&(i||"api"===t);a("filter",i)&&this.setFilterState(i),a("rowGroupExpansion",o)&&this.setRowGroupExpansionState(o,t),a("rowSelection",r)&&this.setRowSelectionState(r,t),a("pagination",s)&&this.setPaginationState(s,t);const l=this.updateCachedState.bind(this);l("filter",this.getFilterState()),l("rowGroupExpansion",this.getRowGroupExpansionState()),l("rowSelection",this.getRowSelectionState()),l("pagination",this.getPaginationState())}setupStateOnRowCountReady(e){this.setRowCountState(e,"gridInitializing");const t=this.updateCachedState.bind(this),n=()=>{this.updateRowGroupExpansionStateTimer=0,t("rowGroupExpansion",this.getRowGroupExpansionState())},i=()=>t("filter",this.getFilterState()),{gos:o,colFilter:r}=this.beans;this.addManagedEventListeners({filterChanged:i,rowGroupOpened:()=>this.onRowGroupOpenedDebounced(),expandOrCollapseAll:n,columnRowGroupChanged:n,rowDataUpdated:()=>{(0!==o.get("groupDefaultExpanded")||o.get("isGroupOpenByDefault"))&&(this.updateRowGroupExpansionStateTimer||(this.updateRowGroupExpansionStateTimer=setTimeout(n)))},selectionChanged:()=>{this.staleStateKeys.add("rowSelection"),this.onRowSelectedDebounced()},paginationChanged:e=>{(e.newPage||e.newPageSize)&&t("pagination",this.getPaginationState())}}),r&&this.addManagedListeners(r,{filterStateChanged:i})}setFirstDataRenderedState(e,t,n){const{scroll:i,cellSelection:o,focusedCell:r,columnOrder:s,rowPinning:a}=e,l=(e,i)=>!(null!==n&&void 0!==n&&n.has(e))&&(i||"api"===t);l("focusedCell",r)&&this.setFocusedCellState(r),l("cellSelection",o)&&this.setCellSelectionState(o),l("scroll",i)&&this.setScrollState(i),l("rowPinning",a)&&this.setRowPinningState(a),this.setColumnPivotState(!(null===s||void 0===s||!s.orderedColIds),t);const u=this.updateCachedState.bind(this);u("sideBar",this.getSideBarState()),u("focusedCell",this.getFocusedCellState());const c=this.getRangeSelectionState();u("rangeSelection",c),u("cellSelection",c),u("scroll",this.getScrollState())}setupStateOnFirstDataRendered(e){this.setFirstDataRenderedState(e,"gridInitializing");const t=this.updateCachedState.bind(this);this.addManagedEventListeners({cellFocused:()=>t("focusedCell",this.getFocusedCellState()),cellSelectionChanged:e=>{if(e.finished){const e=this.getRangeSelectionState();t("rangeSelection",e),t("cellSelection",e)}},bodyScrollEnd:()=>t("scroll",this.getScrollState()),pinnedRowsChanged:()=>t("rowPinning",this.getRowPinningState())})}getColumnState(){const e=this.beans;return function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=[],i=[],o=[],r=[],s=[],a=[],l=[],u=[],c=[];let d=0;for(let h=0;h<e.length;h++){const{colId:t,sort:p,sortIndex:g,rowGroup:m,rowGroupIndex:v,aggFunc:f,pivot:w,pivotIndex:C,pinned:b,hide:y,width:S,flex:x}=e[h];c.push(t),p&&(n[null!==g&&void 0!==g?g:d++]={colId:t,sort:p}),m&&(i[null!==v&&void 0!==v?v:0]=t),"string"===typeof f&&o.push({colId:t,aggFunc:f}),w&&(r[null!==C&&void 0!==C?C:0]=t),b&&("right"===b?a:s).push(t),y&&l.push(t),(null!=x||S)&&u.push({colId:t,flex:null!==x&&void 0!==x?x:void 0,width:S})}return{sort:n.length?{sortModel:n}:void 0,rowGroup:i.length?{groupColIds:i}:void 0,aggregation:o.length?{aggregationModel:o}:void 0,pivot:r.length||t?{pivotMode:t,pivotColIds:r}:void 0,columnPinning:s.length||a.length?{leftColIds:s,rightColIds:a}:void 0,columnVisibility:l.length?{hiddenColIds:l}:void 0,columnSizing:u.length?{columnSizingModel:u}:void 0,columnOrder:c.length?{orderedColIds:c}:void 0}}(wG(e),e.colModel.isPivotMode())}setColumnState(e,t,n,i){const{sort:o,rowGroup:r,aggregation:s,pivot:a,columnPinning:l,columnVisibility:u,columnSizing:c,columnOrder:d}=e,h=(e,n)=>!(null!==i&&void 0!==i&&i.has(e))&&(n||"api"===t),p={},g=e=>{let t=p[e];return t||(t={colId:e},p[e]=t,t)},m={},v=h("sort",o);v&&(null===o||void 0===o||o.sortModel.forEach((e,t)=>{let{colId:n,sort:i}=e;const o=g(n);o.sort=i,o.sortIndex=t})),!v&&n||(m.sort=null,m.sortIndex=null);const f=h("rowGroup",r);f&&(null===r||void 0===r||r.groupColIds.forEach((e,t)=>{const n=g(e);n.rowGroup=!0,n.rowGroupIndex=t})),!f&&n||(m.rowGroup=null,m.rowGroupIndex=null);const w=h("aggregation",s);w&&(null===s||void 0===s||s.aggregationModel.forEach(e=>{let{colId:t,aggFunc:n}=e;g(t).aggFunc=n})),!w&&n||(m.aggFunc=null);const C=h("pivot",a);C&&(null===a||void 0===a||a.pivotColIds.forEach((e,t)=>{const n=g(e);n.pivot=!0,n.pivotIndex=t}),this.gos.updateGridOptions({options:{pivotMode:!(null===a||void 0===a||!a.pivotMode)},source:t})),!C&&n||(m.pivot=null,m.pivotIndex=null);const b=h("columnPinning",l);b&&(null===l||void 0===l||l.leftColIds.forEach(e=>{g(e).pinned="left"}),null===l||void 0===l||l.rightColIds.forEach(e=>{g(e).pinned="right"})),!b&&n||(m.pinned=null);const y=h("columnVisibility",u);y&&(null===u||void 0===u||u.hiddenColIds.forEach(e=>{g(e).hide=!0})),!y&&n||(m.hide=null);const S=h("columnSizing",c);S&&(null===c||void 0===c||c.columnSizingModel.forEach(e=>{let{colId:t,flex:n,width:i}=e;const o=g(t);o.flex=null!==n&&void 0!==n?n:null,o.width=i})),!S&&n||(m.flex=null);const x=null===d||void 0===d?void 0:d.orderedColIds,D=!(null===x||void 0===x||!x.length)&&!(null!==i&&void 0!==i&&i.has("columnOrder")),E=D?x.map(e=>g(e)):Object.values(p);E.length&&(this.columnStates=E,mG(this.beans,{state:E,applyOrder:D,defaultState:m},t))}setColumnPivotState(e,t){const n=this.columnStates;this.columnStates=void 0;const i=this.columnGroupStates;this.columnGroupStates=void 0;const o=this.beans,{pivotResultCols:r,colGroupSvc:s}=o;if(null!==r&&void 0!==r&&r.isPivotResultColsPresent()){if(n){const i=[];for(const e of n)r.getPivotResultCol(e.colId)&&i.push(e);mG(o,{state:i,applyOrder:e},t)}i&&(null===s||void 0===s||s.setColumnGroupState(i,t))}}getColumnGroupState(){const e=this.beans.colGroupSvc;if(!e)return;return SZ(e.getColumnGroupState())}setColumnGroupState(e,t,n){var i;const o=this.beans.colGroupSvc;if(!o||null!==n&&void 0!==n&&n.has("columnGroup")||"api"!==t&&!Object.prototype.hasOwnProperty.call(e,"columnGroup"))return;const r=new Set(null===(i=e.columnGroup)||void 0===i?void 0:i.openColumnGroupIds),s=o.getColumnGroupState().map(e=>{let{groupId:t}=e;const n=r.has(t);return n&&r.delete(t),{groupId:t,open:n}});r.forEach(e=>{s.push({groupId:e,open:!0})}),s.length&&(this.columnGroupStates=s),o.setColumnGroupState(s,t)}getFilterState(){var e;const t=this.beans.filterManager;let n=null===t||void 0===t?void 0:t.getFilterModel();n&&0===Object.keys(n).length&&(n=void 0);const i=null===t||void 0===t?void 0:t.getFilterState(),o=null!==(e=null===t||void 0===t?void 0:t.getAdvFilterModel())&&void 0!==e?e:void 0;return n||o||i?{filterModel:n,columnFilterState:i,advancedFilterModel:o}:void 0}setFilterState(e){const t=this.beans.filterManager,{filterModel:n,columnFilterState:i,advancedFilterModel:o}=null!==e&&void 0!==e?e:{filterModel:null,columnFilterState:null,advancedFilterModel:null};void 0===n&&void 0===i||null===t||void 0===t||t.setFilterState(null!==n&&void 0!==n?n:null,null!==i&&void 0!==i?i:null,"columnFilter"),void 0!==o&&(null===t||void 0===t||t.setAdvFilterModel(null!==o&&void 0!==o?o:null,"advancedFilter"))}getRangeSelectionState(){var e;const t=null===(e=this.beans.rangeSvc)||void 0===e?void 0:e.getCellRanges().map(e=>{const{id:t,type:n,startRow:i,endRow:o,columns:r,startColumn:s}=e;return{id:t,type:n,startRow:i,endRow:o,colIds:r.map(e=>e.getColId()),startColId:s.getColId()}});return null!==t&&void 0!==t&&t.length?{cellRanges:t}:void 0}setCellSelectionState(e){const{gos:t,rangeSvc:n,colModel:i,visibleCols:o}=this.beans;if(!WB(t)||!n)return;const r=[];null===e||void 0===e||e.cellRanges.forEach(e=>{const t=[];if(e.colIds.forEach(e=>{const n=i.getCol(e);n&&t.push(n)}),!t.length)return;let n=i.getCol(e.startColId);if(!n){const e=o.allCols,i=new Set(t);n=e.find(e=>i.has(e))}r.push(d(d({},e),{},{columns:t,startColumn:n}))}),n.setCellRanges(r)}getScrollState(){var e,t;if(!this.isClientSideRowModel)return;const n=this.beans.ctrlsSvc.getScrollFeature(),{left:i}=null!==(e=null===n||void 0===n?void 0:n.getHScrollPosition())&&void 0!==e?e:{left:0},{top:o}=null!==(t=null===n||void 0===n?void 0:n.getVScrollPosition())&&void 0!==t?t:{top:0};return o||i?{top:o,left:i}:void 0}setScrollState(e){if(!this.isClientSideRowModel)return;const{top:t,left:n}=null!==e&&void 0!==e?e:{top:0,left:0},{frameworkOverrides:i,rowRenderer:o,animationFrameSvc:r,ctrlsSvc:s}=this.beans;i.wrapIncoming(()=>{var e;s.get("center").setCenterViewportScrollLeft(n),null===(e=s.getScrollFeature())||void 0===e||e.setVerticalScrollPosition(t),o.redraw({afterScroll:!0}),null===r||void 0===r||r.flushAllFrames()})}getSideBarState(){var e;return null===(e=this.beans.sideBar)||void 0===e||null===(e=e.comp)||void 0===e?void 0:e.getState()}getFocusedCellState(){if(!this.isClientSideRowModel)return;const e=this.beans.focusSvc.getFocusedCell();if(e){const{column:t,rowIndex:n,rowPinned:i}=e;return{colId:t.getColId(),rowIndex:n,rowPinned:i}}}setFocusedCellState(e){if(!this.isClientSideRowModel)return;const{focusSvc:t,colModel:n}=this.beans;if(!e)return void t.clearFocusedCell();const{colId:i,rowIndex:o,rowPinned:r}=e;t.setFocusedCell({column:n.getCol(i),rowIndex:o,rowPinned:r,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}getPaginationState(){const{pagination:e,gos:t}=this.beans;if(!e)return;const n=e.getCurrentPage(),i=t.get("paginationAutoPageSize")?void 0:e.getPageSize();return n||i?{page:n,pageSize:i}:void 0}setPaginationState(e,t){const{pagination:n,gos:i}=this.beans;if(!n)return;const{pageSize:o,page:r}=null!==e&&void 0!==e?e:{page:0,pageSize:i.get("paginationPageSize")},s="gridInitializing"===t;o&&!i.get("paginationAutoPageSize")&&n.setPageSize(o,s?"initialState":"pageSizeSelector"),"number"===typeof r&&(s?n.setPage(r):n.goToPage(r))}getRowSelectionState(){var e;const t=this.beans.selectionSvc;if(!t)return;const n=t.getSelectionState();return!n||!Array.isArray(n)&&(!1===n.selectAll||!1===n.selectAllChildren)&&!(null!==n&&void 0!==n&&null!==(e=n.toggledNodes)&&void 0!==e&&e.length)?void 0:n}setRowSelectionState(e,t){var n;null===(n=this.beans.selectionSvc)||void 0===n||n.setSelectionState(e,t,"api"===t)}getRowGroupExpansionState(){const{expansionSvc:e,rowModel:t}=this.beans;if(!e)return;const n=[];return t.forEachNode(e=>{let{expanded:t,id:i}=e;t&&i&&n.push(i)}),n.length?{expandedRowGroupIds:n}:void 0}getRowPinningState(){var e;return null===(e=this.beans.pinnedRowModel)||void 0===e?void 0:e.getPinnedState()}setRowPinningState(e){const t=this.beans.pinnedRowModel;e?null===t||void 0===t||t.setPinnedState(e):null===t||void 0===t||t.reset()}setRowGroupExpansionState(e,t){var n;const i=this.beans.expansionSvc;if(!i)return;const o=null!==(n=null===e||void 0===e?void 0:e.expandedRowGroupIds)&&void 0!==n?n:[];let r;if("api"===t){var s;const e=null===(s=this.getRowGroupExpansionState())||void 0===s?void 0:s.expandedRowGroupIds;if(null!==e&&void 0!==e&&e.length){const t=new Set(e);for(const e of o)t.delete(e);r=Array.from(t)}}i.expandRows(o,r)}updateColumnState(e){const t=this.getColumnState();let n=!1;const i=this.cachedState;for(const o of Object.keys(t)){YI(t[o],i[o])||(n=!0)}this.cachedState=d(d({},i),t),n&&this.dispatchStateUpdateEvent(e)}updateCachedState(e,t){const n=this.cachedState[e];this.setCachedStateValue(e,t),YI(t,n)||this.dispatchStateUpdateEvent([e])}setCachedStateValue(e,t){this.cachedState=d(d({},this.cachedState),{},{[e]:t})}refreshStaleState(){const e=this.staleStateKeys;e.forEach(e=>{if("rowSelection"===e)this.setCachedStateValue(e,this.getRowSelectionState())}),e.clear()}dispatchStateUpdateEvent(e){this.suppressEvents||(e.forEach(e=>this.queuedUpdateSources.add(e)),this.dispatchStateUpdateEventDebounced())}dispatchQueuedStateUpdateEvents(){const e=this.queuedUpdateSources,t=Array.from(e);e.clear(),this.eventSvc.dispatchEvent({type:"stateUpdated",sources:t,state:this.cachedState})}startSuppressEvents(){var e;this.suppressEvents=!0,null===(e=this.beans.colAnimation)||void 0===e||e.setSuppressAnimation(!0)}stopSuppressEvents(e){setTimeout(()=>{var t;this.suppressEvents=!1,this.queuedUpdateSources.clear(),this.isAlive()&&(null===(t=this.beans.colAnimation)||void 0===t||t.setSuppressAnimation(!1),this.dispatchStateUpdateEvent([e]))})}suppressEventsAndDispatchInitEvent(e){this.startSuppressEvents(),e(),this.stopSuppressEvents("gridInitializing")}}],apiFunctions:{getState:function(e){var t,n;return null!==(t=null===(n=e.stateSvc)||void 0===n?void 0:n.getState())&&void 0!==t?t:{}},setState:function(e,t,n){var i;return null===(i=e.stateSvc)||void 0===i?void 0:i.setState(t,n)}}};var sQ="paginationPageSizeSelector",aQ={tag:"span",cls:"ag-paging-page-size"},lQ={selector:"AG-PAGE-SIZE-SELECTOR",component:class extends AG{constructor(){super(aQ),this.hasEmptyOption=!1,this.handlePageSizeItemSelected=()=>{if(!this.selectPageSizeComp)return;const e=this.selectPageSizeComp.getValue();if(!e)return;const t=Number(e);isNaN(t)||t<1||t===this.pagination.getPageSize()||(this.pagination.setPageSize(t,"pageSizeSelector"),this.hasEmptyOption&&this.toggleSelectDisplay(!0),this.selectPageSizeComp.getFocusableElement().focus())}}wireBeans(e){this.pagination=e.pagination}postConstruct(){this.addManagedPropertyListener(sQ,()=>{this.onPageSizeSelectorValuesChange()}),this.addManagedEventListeners({paginationChanged:e=>this.handlePaginationChanged(e)})}handlePaginationChanged(e){if(!this.selectPageSizeComp||null===e||void 0===e||!e.newPageSize)return;const t=this.pagination.getPageSize();this.getPageSizeSelectorValues().includes(t)?this.selectPageSizeComp.setValue(t.toString()):this.hasEmptyOption?this.selectPageSizeComp.setValue(""):this.toggleSelectDisplay(!0)}toggleSelectDisplay(e){this.selectPageSizeComp&&!e&&this.reset(),e&&(this.reloadPageSizesSelector(),this.selectPageSizeComp)}reset(){uN(this.getGui()),this.selectPageSizeComp&&(this.selectPageSizeComp=this.destroyBean(this.selectPageSizeComp))}onPageSizeSelectorValuesChange(){this.selectPageSizeComp&&this.shouldShowPageSizeSelector()&&this.reloadPageSizesSelector()}shouldShowPageSizeSelector(){return this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel")&&!this.gos.get("paginationAutoPageSize")&&!1!==this.gos.get(sQ)}reloadPageSizesSelector(){const e=this.getPageSizeSelectorValues(),t=this.pagination.getPageSize(),n=!t||!e.includes(t);if(n){const n=this.gos.exists("paginationPageSize"),i=!0!==this.gos.get(sQ);iB(94,{pageSizeSet:n,pageSizesSet:i,pageSizeOptions:e,paginationPageSizeOption:t}),i||iB(95,{paginationPageSizeOption:t,paginationPageSizeSelector:sQ}),e.unshift("")}const i=String(n?"":t);this.selectPageSizeComp?(MO(this.pageSizeOptions,e)||(this.selectPageSizeComp.clearOptions().addOptions(this.createPageSizeSelectOptions(e)),this.pageSizeOptions=e),this.selectPageSizeComp.setValue(i,!0)):this.createPageSizeSelectorComp(e,i),this.hasEmptyOption=n}createPageSizeSelectOptions(e){return e.map(e=>({value:String(e)}))}createPageSizeSelectorComp(e,t){const n=this.getLocaleTextFunc(),i=n("pageSizeSelectorLabel","Page Size:"),o=n("ariaPageSizeSelectorLabel","Page Size");this.selectPageSizeComp=this.createManagedBean(new nU).addOptions(this.createPageSizeSelectOptions(e)).setValue(t).setAriaLabel(o).setLabel(i).onValueChange(()=>this.handlePageSizeItemSelected()),this.appendChild(this.selectPageSizeComp)}getPageSizeSelectorValues(){const e=[20,50,100],t=this.gos.get(sQ);return Array.isArray(t)&&null!==t&&void 0!==t&&t.length?[...t].sort((e,t)=>e-t):e}destroy(){this.toggleSelectDisplay(!1),super.destroy()}}},uQ={selector:"AG-PAGINATION",component:class extends uU{constructor(){super(),this.btFirst=kG,this.btPrevious=kG,this.btNext=kG,this.btLast=kG,this.lbRecordCount=kG,this.lbFirstRowOnPage=kG,this.lbLastRowOnPage=kG,this.lbCurrent=kG,this.lbTotal=kG,this.pageSizeComp=kG,this.previousAndFirstButtonsDisabled=!1,this.nextButtonDisabled=!1,this.lastButtonDisabled=!1,this.areListenersSetup=!1,this.allowFocusInnerElement=!1,this.registerCSS(".ag-paging-panel{align-items:center;border-top:var(--ag-footer-row-border);display:flex;gap:calc(var(--ag-spacing)*4);height:var(--ag-pagination-panel-height);justify-content:flex-end;padding:0 var(--ag-cell-horizontal-padding)}:where(.ag-paging-page-size) .ag-wrapper{min-width:50px}.ag-paging-page-summary-panel{align-items:center;display:flex;gap:var(--ag-cell-widget-spacing);.ag-disabled &{pointer-events:none}}.ag-paging-button{cursor:pointer;position:relative;&.ag-disabled{cursor:default;opacity:.5}}.ag-paging-number,.ag-paging-row-summary-panel-number{font-weight:500}")}wireBeans(e){this.rowModel=e.rowModel,this.pagination=e.pagination,this.ariaAnnounce=e.ariaAnnounce}postConstruct(){const e=this.gos.get("enableRtl");this.setTemplate(this.getTemplate(),[lQ]);const{btFirst:t,btPrevious:n,btNext:i,btLast:o}=this;this.activateTabIndex([t,n,i,o]),t.insertAdjacentElement("afterbegin",hW(e?"last":"first",this.beans)),n.insertAdjacentElement("afterbegin",hW(e?"next":"previous",this.beans)),i.insertAdjacentElement("afterbegin",hW(e?"previous":"next",this.beans)),o.insertAdjacentElement("afterbegin",hW(e?"first":"last",this.beans)),this.addManagedPropertyListener("pagination",this.onPaginationChanged.bind(this)),this.addManagedPropertyListener("suppressPaginationPanel",this.onPaginationChanged.bind(this)),this.addManagedPropertyListeners(["paginationPageSizeSelector","paginationAutoPageSize","suppressPaginationPanel"],()=>this.onPageSizeRelatedOptionsChange()),this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector()),this.initialiseTabGuard({onTabKeyDown:()=>{},focusInnerElement:e=>this.allowFocusInnerElement?this.tabGuardFeature.getTabGuardCtrl().focusInnerElement(e):fV(this.beans,e),forceFocusOutWhenTabGuardsAreEmpty:!0}),this.onPaginationChanged()}setAllowFocus(e){this.allowFocusInnerElement=e}onPaginationChanged(){const e=this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel");this.setDisplayed(e),e&&(this.setupListeners(),this.enableOrDisableButtons(),this.updateLabels(),this.onPageSizeRelatedOptionsChange())}onPageSizeRelatedOptionsChange(){this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector())}setupListeners(){this.areListenersSetup||(this.addManagedEventListeners({paginationChanged:this.onPaginationChanged.bind(this)}),[{el:this.btFirst,fn:this.onBtFirst.bind(this)},{el:this.btPrevious,fn:this.onBtPrevious.bind(this)},{el:this.btNext,fn:this.onBtNext.bind(this)},{el:this.btLast,fn:this.onBtLast.bind(this)}].forEach(e=>{const{el:t,fn:n}=e;this.addManagedListeners(t,{click:n,keydown:e=>{e.key!==sV.ENTER&&e.key!==sV.SPACE||(e.preventDefault(),n())}})}),hV(this.beans,this,this.getGui()),this.areListenersSetup=!0)}onBtFirst(){this.previousAndFirstButtonsDisabled||this.pagination.goToFirstPage()}formatNumber(e){const t=this.gos.getCallback("paginationNumberFormatter");if(t){return t({value:e})}return PZ(e,this.getLocaleTextFunc.bind(this))}getTemplate(){const e=this.getLocaleTextFunc(),t="ag-".concat(this.getCompId());return{tag:"div",cls:"ag-paging-panel ag-unselectable",attrs:{id:"".concat(t)},children:[{tag:"ag-page-size-selector",ref:"pageSizeComp"},{tag:"span",cls:"ag-paging-row-summary-panel",children:[{tag:"span",ref:"lbFirstRowOnPage",cls:"ag-paging-row-summary-panel-number",attrs:{id:"".concat(t,"-first-row")}},{tag:"span",attrs:{id:"".concat(t,"-to")},children:e("to","to")},{tag:"span",ref:"lbLastRowOnPage",cls:"ag-paging-row-summary-panel-number",attrs:{id:"".concat(t,"-last-row")}},{tag:"span",attrs:{id:"".concat(t,"-of")},children:e("of","of")},{tag:"span",ref:"lbRecordCount",cls:"ag-paging-row-summary-panel-number",attrs:{id:"".concat(t,"-row-count")}}]},{tag:"span",cls:"ag-paging-page-summary-panel",role:"presentation",children:[{tag:"div",ref:"btFirst",cls:"ag-button ag-paging-button",role:"button",attrs:{"aria-label":e("firstPage","First Page")}},{tag:"div",ref:"btPrevious",cls:"ag-button ag-paging-button",role:"button",attrs:{"aria-label":e("previousPage","Previous Page")}},{tag:"span",cls:"ag-paging-description",children:[{tag:"span",attrs:{id:"".concat(t,"-start-page")},children:e("page","Page")},{tag:"span",ref:"lbCurrent",cls:"ag-paging-number",attrs:{id:"".concat(t,"-start-page-number")}},{tag:"span",attrs:{id:"".concat(t,"-of-page")},children:e("of","of")},{tag:"span",ref:"lbTotal",cls:"ag-paging-number",attrs:{id:"".concat(t,"-of-page-number")}}]},{tag:"div",ref:"btNext",cls:"ag-button ag-paging-button",role:"button",attrs:{"aria-label":e("nextPage","Next Page")}},{tag:"div",ref:"btLast",cls:"ag-button ag-paging-button",role:"button",attrs:{"aria-label":e("lastPage","Last Page")}}]}]}}onBtNext(){this.nextButtonDisabled||this.pagination.goToNextPage()}onBtPrevious(){this.previousAndFirstButtonsDisabled||this.pagination.goToPreviousPage()}onBtLast(){this.lastButtonDisabled||this.pagination.goToLastPage()}enableOrDisableButtons(){const e=this.pagination.getCurrentPage(),t=this.rowModel.isLastRowIndexKnown(),n=this.pagination.getTotalPages();this.previousAndFirstButtonsDisabled=0===e,this.toggleButtonDisabled(this.btFirst,this.previousAndFirstButtonsDisabled),this.toggleButtonDisabled(this.btPrevious,this.previousAndFirstButtonsDisabled);const i=this.isZeroPagesToDisplay(),o=e===n-1;this.nextButtonDisabled=o||i,this.lastButtonDisabled=!t||i||e===n-1,this.toggleButtonDisabled(this.btNext,this.nextButtonDisabled),this.toggleButtonDisabled(this.btLast,this.lastButtonDisabled)}toggleButtonDisabled(e,t){yL(e,t),e.classList.toggle("ag-disabled",t)}isZeroPagesToDisplay(){const e=this.rowModel.isLastRowIndexKnown(),t=this.pagination.getTotalPages();return e&&0===t}updateLabels(){const e=this.rowModel.isLastRowIndexKnown(),t=this.pagination.getTotalPages(),n=this.pagination.getMasterRowCount(),i=e?n:null,o=this.pagination.getCurrentPage(),r=this.pagination.getPageSize();let s,a;this.isZeroPagesToDisplay()?s=a=0:(s=r*o+1,a=s+r-1,e&&a>i&&(a=i));const l=!e&&n<s+r-1,u=this.formatNumber(s);let c;this.lbFirstRowOnPage.textContent=u;const d=this.getLocaleTextFunc();c=l?d("pageLastRowUnknown","?"):this.formatNumber(a),this.lbLastRowOnPage.textContent=c;const h=t>0?o+1:0,p=this.formatNumber(h);let g,m;if(this.lbCurrent.textContent=p,e)g=this.formatNumber(t),m=this.formatNumber(i);else{const e=d("more","more");g=e,m=e}this.lbTotal.textContent=g,this.lbRecordCount.textContent=m,this.announceAriaStatus(u,c,m,p,g)}announceAriaStatus(e,t,n,i,o){const r=this.getLocaleTextFunc(),s=r("page","Page"),a=r("to","to"),l=r("of","of"),u="".concat(e," ").concat(a," ").concat(t," ").concat(l," ").concat(n),c="".concat(s," ").concat(i," ").concat(l," ").concat(o);var d,h;u!==this.ariaRowStatus&&(this.ariaRowStatus=u,null===(d=this.ariaAnnounce)||void 0===d||d.announceValue(u,"paginationRow"));c!==this.ariaPageStatus&&(this.ariaPageStatus=c,null===(h=this.ariaAnnounce)||void 0===h||h.announceValue(c,"paginationPage"))}}},cQ={moduleName:"Pagination",version:KN,beans:[class extends vO{constructor(){super(...arguments),this.beanName="pagination",this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=0,this.masterRowCount=0}postConstruct(){const e=this.gos;this.active=e.get("pagination"),this.pageSizeFromGridOptions=e.get("paginationPageSize"),this.paginateChildRows=this.isPaginateChildRows(),this.addManagedPropertyListener("pagination",this.onPaginationGridOptionChanged.bind(this)),this.addManagedPropertyListener("paginationPageSize",this.onPageSizeGridOptionChanged.bind(this))}getPaginationSelector(){return uQ}isPaginateChildRows(){const e=this.gos;return!!(e.get("groupHideParentOfSingleChild")||e.get("groupRemoveSingleChildren")||e.get("groupRemoveLowestSingleChildren"))||e.get("paginateChildRows")}onPaginationGridOptionChanged(){this.active=this.gos.get("pagination"),this.calculatePages(),this.dispatchPaginationChangedEvent({keepRenderedRows:!0})}onPageSizeGridOptionChanged(){this.setPageSize(this.gos.get("paginationPageSize"),"gridOptions")}goToPage(e){const t=this.currentPage;if(!this.active||t===e||"number"!==typeof t)return;const{editSvc:n}=this.beans;null!==n&&void 0!==n&&n.isEditing()&&(n.isBatchEditing()?n.cleanupEditors():n.stopEditing(void 0,{source:"api"})),this.currentPage=e,this.calculatePages(),this.dispatchPaginationChangedEvent({newPage:!0})}goToPageWithIndex(e){if(!this.active)return;let t=e;var n,i,o;this.paginateChildRows||(t=null!==(n=null===(i=(o=this.beans.rowModel).getTopLevelIndexFromDisplayedIndex)||void 0===i?void 0:i.call(o,e))&&void 0!==n?n:e);this.goToPage(Math.floor(t/this.pageSize))}isRowInPage(e){return!this.active||e>=this.topDisplayedRowIndex&&e<=this.bottomDisplayedRowIndex}getCurrentPage(){return this.currentPage}goToNextPage(){this.goToPage(this.currentPage+1)}goToPreviousPage(){this.goToPage(this.currentPage-1)}goToFirstPage(){this.goToPage(0)}goToLastPage(){const e=this.beans.rowModel.getRowCount(),t=Math.floor(e/this.pageSize);this.goToPage(t)}getPageSize(){return this.pageSize}getTotalPages(){return this.totalPages}setPage(e){this.currentPage=e}get pageSize(){return UI(this.pageSizeAutoCalculated)&&this.gos.get("paginationAutoPageSize")?this.pageSizeAutoCalculated:UI(this.pageSizeFromPageSizeSelector)?this.pageSizeFromPageSizeSelector:UI(this.pageSizeFromInitialState)?this.pageSizeFromInitialState:UI(this.pageSizeFromGridOptions)?this.pageSizeFromGridOptions:this.defaultPageSize}calculatePages(){this.active?this.paginateChildRows?this.calculatePagesAllRows():this.calculatePagesMasterRowsOnly():this.calculatedPagesNotActive(),this.beans.pageBounds.calculateBounds(this.topDisplayedRowIndex,this.bottomDisplayedRowIndex)}unsetAutoCalculatedPageSize(){if(void 0===this.pageSizeAutoCalculated)return;const e=this.pageSizeAutoCalculated;this.pageSizeAutoCalculated=void 0,this.pageSize!==e&&(this.calculatePages(),this.dispatchPaginationChangedEvent({newPageSize:!0}))}setPageSize(e,t){const n=this.pageSize;switch(t){case"autoCalculated":this.pageSizeAutoCalculated=e;break;case"pageSizeSelector":this.pageSizeFromPageSizeSelector=e,0!==this.currentPage&&this.goToFirstPage();break;case"initialState":this.pageSizeFromInitialState=e;break;case"gridOptions":this.pageSizeFromGridOptions=e,this.pageSizeFromInitialState=void 0,this.pageSizeFromPageSizeSelector=void 0,0!==this.currentPage&&this.goToFirstPage()}n!==this.pageSize&&(this.calculatePages(),this.dispatchPaginationChangedEvent({newPageSize:!0,keepRenderedRows:!0}))}setZeroRows(){this.masterRowCount=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=-1,this.currentPage=0,this.totalPages=0}adjustCurrentPageIfInvalid(){const e=this.totalPages;this.currentPage>=e&&(this.currentPage=e-1);const t=this.currentPage;(!isFinite(t)||isNaN(t)||t<0)&&(this.currentPage=0)}calculatePagesMasterRowsOnly(){const e=this.beans.rowModel,t=e.getTopLevelRowCount();if(this.masterRowCount=t,t<=0)return void this.setZeroRows();const n=this.pageSize,i=t-1;this.totalPages=Math.floor(i/n)+1,this.adjustCurrentPageIfInvalid();const o=this.currentPage,r=n*o;let s=n*(o+1)-1;if(s>i&&(s=i),this.topDisplayedRowIndex=e.getTopLevelRowDisplayedIndex(r),s===i)this.bottomDisplayedRowIndex=e.getRowCount()-1;else{const t=e.getTopLevelRowDisplayedIndex(s+1);this.bottomDisplayedRowIndex=t-1}}getMasterRowCount(){return this.masterRowCount}calculatePagesAllRows(){const e=this.beans.rowModel.getRowCount();if(this.masterRowCount=e,0===e)return void this.setZeroRows();const{pageSize:t,currentPage:n}=this,i=e-1;this.totalPages=Math.floor(i/t)+1,this.adjustCurrentPageIfInvalid(),this.topDisplayedRowIndex=t*n,this.bottomDisplayedRowIndex=t*(n+1)-1,this.bottomDisplayedRowIndex>i&&(this.bottomDisplayedRowIndex=i)}calculatedPagesNotActive(){this.setPageSize(void 0,"autoCalculated"),this.totalPages=1,this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=this.beans.rowModel.getRowCount()-1}dispatchPaginationChangedEvent(e){const{keepRenderedRows:t=!1,newPage:n=!1,newPageSize:i=!1}=e;this.eventSvc.dispatchEvent({type:"paginationChanged",animate:!1,newData:!1,newPage:n,newPageSize:i,keepRenderedRows:t})}},class extends vO{constructor(){super(...arguments),this.beanName="paginationAutoPageSizeSvc"}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.centerRowsCtrl=e.center;const t=this.checkPageSize.bind(this);this.addManagedEventListeners({bodyHeightChanged:t,scrollVisibilityChanged:t}),this.addManagedPropertyListener("paginationAutoPageSize",this.onPaginationAutoSizeChanged.bind(this)),this.checkPageSize()})}notActive(){return!this.gos.get("paginationAutoPageSize")||null==this.centerRowsCtrl}onPaginationAutoSizeChanged(){this.notActive()?this.beans.pagination.unsetAutoCalculatedPageSize():this.checkPageSize()}checkPageSize(){if(this.notActive())return;const e=this.centerRowsCtrl.viewportSizeFeature.getBodyHeight();if(e>0){const t=this.beans,n=()=>{const n=Math.max(mB(t),1),i=Math.floor(e/n);t.pagination.setPageSize(i,"autoCalculated")};this.isBodyRendered?HN(this,n,50)():(n(),this.isBodyRendered=!0)}else this.isBodyRendered=!1}}],icons:{first:"first",previous:"previous",next:"next",last:"last"},apiFunctions:{paginationIsLastPageFound:function(e){return e.rowModel.isLastRowIndexKnown()},paginationGetPageSize:function(e){var t,n;return null!==(t=null===(n=e.pagination)||void 0===n?void 0:n.getPageSize())&&void 0!==t?t:100},paginationGetCurrentPage:function(e){var t,n;return null!==(t=null===(n=e.pagination)||void 0===n?void 0:n.getCurrentPage())&&void 0!==t?t:0},paginationGetTotalPages:function(e){var t,n;return null!==(t=null===(n=e.pagination)||void 0===n?void 0:n.getTotalPages())&&void 0!==t?t:1},paginationGetRowCount:function(e){return e.pagination?e.pagination.getMasterRowCount():e.rowModel.getRowCount()},paginationGoToNextPage:function(e){var t;null===(t=e.pagination)||void 0===t||t.goToNextPage()},paginationGoToPreviousPage:function(e){var t;null===(t=e.pagination)||void 0===t||t.goToPreviousPage()},paginationGoToFirstPage:function(e){var t;null===(t=e.pagination)||void 0===t||t.goToFirstPage()},paginationGoToLastPage:function(e){var t;null===(t=e.pagination)||void 0===t||t.goToLastPage()},paginationGoToPage:function(e,t){var n;null===(n=e.pagination)||void 0===n||n.goToPage(t)}},dependsOn:[ZZ]};var dQ={moduleName:"RowApi",version:KN,apiFunctions:{redrawRows:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=t?t.rowNodes:void 0;e.frameworkOverrides.wrapIncoming(()=>e.rowRenderer.redrawRows(n))},setRowNodeExpanded:function e(t,n,i,o,r){n&&(o&&n.parent&&-1!==n.parent.level&&e(t,n.parent,i,o,r),n.setExpanded(i,void 0,r))},getRowNode:function(e,t){return e.rowModel.getRowNode(t)},addRenderedRowListener:function(e,t,n,i){e.rowRenderer.addRenderedRowListener(t,n,i)},getRenderedNodes:function(e){return e.rowRenderer.getRenderedNodes()},forEachNode:function(e,t,n){e.rowModel.forEachNode(t,n)},getFirstDisplayedRowIndex:function(e){return e.rowRenderer.firstRenderedRow},getLastDisplayedRowIndex:function(e){return e.rowRenderer.lastRenderedRow},getDisplayedRowAtIndex:function(e,t){return e.rowModel.getRow(t)},getDisplayedRowCount:function(e){return e.rowModel.getRowCount()}}},hQ={moduleName:"ScrollApi",version:KN,apiFunctions:{getVerticalPixelRange:function(e){return e.ctrlsSvc.getScrollFeature().getVScrollPosition()},getHorizontalPixelRange:function(e){return e.ctrlsSvc.getScrollFeature().getHScrollPosition()},ensureColumnVisible:lX,ensureIndexVisible:uX,ensureNodeVisible:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.frameworkOverrides.wrapIncoming(()=>e.ctrlsSvc.getScrollFeature().ensureNodeVisible(t,n),"ensureVisible")}}};var pQ={moduleName:"RenderApi",version:KN,apiFunctions:{setGridAriaProperty:function(e,t,n){if(!t)return;const i=e.ctrlsSvc.getGridBodyCtrl().eGridBody,o="aria-".concat(t);null===n?i.removeAttribute(o):i.setAttribute(o,n)},refreshCells:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.frameworkOverrides.wrapIncoming(()=>e.rowRenderer.refreshCells(t))},refreshHeader:function(e){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsSvc.getHeaderRowContainerCtrls().forEach(e=>e.refresh()))},isAnimationFrameQueueEmpty:function(e){var t,n;return null===(t=null===(n=e.animationFrameSvc)||void 0===n?void 0:n.isQueueEmpty())||void 0===t||t},flushAllAnimationFrames:function(e){var t;null===(t=e.animationFrameSvc)||void 0===t||t.flushAllFrames()},getSizesForCurrentTheme:function(e){return{rowHeight:mB(e),headerHeight:Bj(e)}},getCellRendererInstances:function(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=[];if(e.rowRenderer.getCellCtrls(n.rowNodes,n.columns).forEach(e=>{const t=e.getCellRenderer();null!=t&&i.push(az(t))}),null!==(t=n.columns)&&void 0!==t&&t.length)return i;const o=[],r=qY(n.rowNodes);return e.rowRenderer.getAllRowCtrls().forEach(e=>{if(r&&!YY(e.rowNode,r))return;if(!e.isFullWidth())return;const t=e.getFullWidthCellRenderers();for(let n=0;n<t.length;n++){const e=t[n];null!=e&&o.push(az(e))}}),[...o,...i]}}};function gQ(e,t,n){let{colAutosize:i,visibleCols:o}=e;var r;Array.isArray(t)?null===i||void 0===i||i.autoSizeCols({colKeys:t,skipHeader:n,source:"api"}):null===i||void 0===i||i.autoSizeCols({colKeys:null!==(r=t.colIds)&&void 0!==r?r:o.allCols,skipHeader:t.skipHeader,defaultMaxWidth:t.defaultMaxWidth,defaultMinWidth:t.defaultMinWidth,columnLimits:t.columnLimits,source:"api"})}function mQ(e,t){var n,i;let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=null!==(n=o.minWidth)&&void 0!==n?n:e.getMinWidth();t<r&&(t=r);const s=null!==(i=o.maxWidth)&&void 0!==i?i:e.getMaxWidth();return t>s&&(t=s),t}var vQ={moduleName:"ColumnAutoSize",version:KN,beans:[class extends vO{constructor(){super(...arguments),this.beanName="colAutosize",this.timesDelayed=0,this.shouldQueueResizeOperations=!1,this.resizeOperationQueue=[]}postConstruct(){this.addManagedEventListeners({firstDataRendered:()=>this.onFirstDataRendered()})}autoSizeCols(e){if(this.shouldQueueResizeOperations)return void this.pushResizeOperation(()=>this.autoSizeCols(e));const{colKeys:t,skipHeader:n,skipHeaderGroups:i,stopAtGroup:o,defaultMaxWidth:r,defaultMinWidth:s,columnLimits:a=[],source:l="api"}=e,{animationFrameSvc:u,renderStatus:c,colModel:d,autoWidthCalc:h,visibleCols:p}=this.beans;if(null===u||void 0===u||u.flushAllFrames(),this.timesDelayed<5&&c&&!c.areHeaderCellsRendered())return this.timesDelayed++,void setTimeout(()=>{this.isAlive()&&this.autoSizeCols(e)});this.timesDelayed=0;const g=[];let m=-1;const v=Object.fromEntries(a.map(e=>{let{colId:t,maxWidth:n,minWidth:i}=e;return[t,{maxWidth:n,minWidth:i}]})),f=null!=n?n:this.gos.get("skipHeaderOnAutoSize"),w=null!=i?i:f;for(;0!==m;){m=0;const e=[];t.forEach(t=>{if(!t||qO(t))return;const n=d.getCol(t);if(!n)return;if(g.indexOf(n)>=0)return;const i=h.getPreferredWidthForColumn(n,f);if(i>0){var o,a,u;const e=null!==(o=v[n.colId])&&void 0!==o?o:{};null!==(a=e.minWidth)&&void 0!==a||(e.minWidth=s),null!==(u=e.maxWidth)&&void 0!==u||(e.maxWidth=r);const t=mQ(n,i,e);n.setActualWidth(t,l),g.push(n),m++}e.push(n)}),e.length&&p.refresh(l)}w||this.autoSizeColumnGroupsByColumns(t,l,o),gG(this.eventSvc,g,!0,"autosizeColumns")}autoSizeColumn(e,t,n){e&&this.autoSizeCols({colKeys:[e],skipHeader:n,skipHeaderGroups:!0,source:t})}autoSizeColumnGroupsByColumns(e,t,n){const{colModel:i,ctrlsSvc:o}=this.beans,r=new Set;let s;i.getColsForKeys(e).forEach(e=>{let t=e.getParent();for(;t&&t!=n;)t.isPadding()||r.add(t),t=t.getParent()});for(const a of r){for(const e of o.getHeaderRowContainerCtrls())if(s=e.getHeaderCtrlForColumn(a),s)break;s&&s.resizeLeafColumnsToFit(t)}return[]}autoSizeAllColumns(e){if(this.shouldQueueResizeOperations)return void this.pushResizeOperation(()=>this.autoSizeAllColumns(e));const t=this.beans.visibleCols.allCols;this.autoSizeCols(d({colKeys:t},e))}addColumnAutosize(e,t){const n=this.gos.get("skipHeaderOnAutoSize"),i=()=>{this.autoSizeColumn(t,"uiColumnResized",n)};e.addEventListener("dblclick",i);const o=new cU(e);return o.addEventListener("doubleTap",i),()=>{e.removeEventListener("dblclick",i),o.removeEventListener("doubleTap",i),o.destroy()}}addColumnGroupResize(e,t,n){const i=this.gos.get("skipHeaderOnAutoSize"),o=()=>{const e=[];t.getDisplayedLeafColumns().forEach(t=>{t.getColDef().suppressAutoSize||e.push(t.getColId())}),e.length>0&&this.autoSizeCols({colKeys:e,skipHeader:i,stopAtGroup:t,source:"uiColumnResized"}),n()};return e.addEventListener("dblclick",o),()=>e.removeEventListener("dblclick",o)}sizeColumnsToFitGridBody(e,t){if(!this.isAlive())return;const{ctrlsSvc:n,scrollVisibleSvc:i}=this.beans,o=n.getGridBodyCtrl(),r=o.isVerticalScrollShowing()?i.getScrollbarWidth():0,s=iN(o.eGridBody)-r;s>0?this.sizeColumnsToFit(s,"sizeColumnsToFit",!1,e):void 0===t?window.setTimeout(()=>{this.sizeColumnsToFitGridBody(e,100)},0):100===t?window.setTimeout(()=>{this.sizeColumnsToFitGridBody(e,500)},100):500===t?window.setTimeout(()=>{this.sizeColumnsToFitGridBody(e,-1)},500):iB(29)}sizeColumnsToFit(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"sizeColumnsToFit",n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0;if(this.shouldQueueResizeOperations)return void this.pushResizeOperation(()=>this.sizeColumnsToFit(e,t,n,i));const o={};var r;i&&(null===i||void 0===i||null===(r=i.columnLimits)||void 0===r||r.forEach(e=>{let{key:t}=e,n=s(e,BI);o["string"===typeof t?t:t.getColId()]=n}));const a=this.beans.visibleCols.allCols;if(e<=0||!a.length)return;if(e===HO(a)){if(a.every(e=>{var t,n;if(e.colDef.suppressSizeToFit)return!0;const r=null===o||void 0===o?void 0:o[e.getId()],s=null!==(t=null===r||void 0===r?void 0:r.minWidth)&&void 0!==t?t:null===i||void 0===i?void 0:i.defaultMinWidth,a=null!==(n=null===r||void 0===r?void 0:r.maxWidth)&&void 0!==n?n:null===i||void 0===i?void 0:i.defaultMaxWidth,l=e.getActualWidth();return(null==s||l>=s)&&(null==a||l<=a)}))return}const l=[],u=[];a.forEach(e=>{!0===e.getColDef().suppressSizeToFit?u.push(e):l.push(e)});const c=l.slice(0);let d=!1;const h=e=>{LO(l,e),u.push(e)};for(l.forEach(e=>{var n,r;e.resetActualWidth(t);const s=null===o||void 0===o?void 0:o[e.getId()],a=null!==(n=null===s||void 0===s?void 0:s.minWidth)&&void 0!==n?n:null===i||void 0===i?void 0:i.defaultMinWidth,l=null!==(r=null===s||void 0===s?void 0:s.maxWidth)&&void 0!==r?r:null===i||void 0===i?void 0:i.defaultMaxWidth,u=e.getActualWidth();"number"===typeof a&&u<a?e.setActualWidth(a,t,!0):"number"===typeof l&&u>l&&e.setActualWidth(l,t,!0)});!d;){d=!0;const n=e-HO(u);if(n<=0)l.forEach(e=>{var n,r;const s=null!==(n=null===o||void 0===o||null===(r=o[e.getId()])||void 0===r?void 0:r.minWidth)&&void 0!==n?n:null===i||void 0===i?void 0:i.defaultMinWidth;"number"!==typeof s?e.setActualWidth(e.minWidth,t):e.setActualWidth(s,t,!0)});else{const e=n/HO(l);let r=n;for(let n=l.length-1;n>=0;n--){var p,g;const s=l[n],a=null===o||void 0===o?void 0:o[s.getId()],u=null!==(p=null===a||void 0===a?void 0:a.minWidth)&&void 0!==p?p:null===i||void 0===i?void 0:i.defaultMinWidth,c=null!==(g=null===a||void 0===a?void 0:a.maxWidth)&&void 0!==g?g:null===i||void 0===i?void 0:i.defaultMaxWidth,m=s.getMinWidth(),v=s.getMaxWidth(),f="number"===typeof u&&u>m?u:m,w="number"===typeof c&&c<v?c:v;let C=Math.round(s.getActualWidth()*e);C<f?(C=f,h(s),d=!1):C>w?(C=w,h(s),d=!1):0===n&&(C=r),s.setActualWidth(C,t,!0),r-=C}}}c.forEach(e=>{e.fireColumnWidthChangedEvent(t)});const m=this.beans.visibleCols;m.setLeftValues(t),m.updateBodyWidths(),n||gG(this.eventSvc,c,!0,t)}applyAutosizeStrategy(){const e=this.gos.get("autoSizeStrategy");if(!e)return;const{type:t}=e;setTimeout(()=>{if("fitGridWidth"===t){const{columnLimits:t,defaultMinWidth:n,defaultMaxWidth:i}=e,o=null===t||void 0===t?void 0:t.map(e=>{let{colId:t,minWidth:n,maxWidth:i}=e;return{key:t,minWidth:n,maxWidth:i}});this.sizeColumnsToFitGridBody({defaultMinWidth:n,defaultMaxWidth:i,columnLimits:o})}else"fitProvidedWidth"===t&&this.sizeColumnsToFit(e.width,"sizeColumnsToFit")})}onFirstDataRendered(){const e=this.gos.get("autoSizeStrategy");if("fitCellContents"!==(null===e||void 0===e?void 0:e.type))return;const{colIds:t,skipHeader:n,defaultMaxWidth:i,defaultMinWidth:o,columnLimits:r}=e;setTimeout(()=>{const e={skipHeader:n,source:"autosizeColumns",defaultMaxWidth:i,defaultMinWidth:o,columnLimits:r};t?this.autoSizeCols(d({colKeys:t},e)):this.autoSizeAllColumns(e)})}processResizeOperations(){this.shouldQueueResizeOperations=!1,this.resizeOperationQueue.forEach(e=>e()),this.resizeOperationQueue=[]}pushResizeOperation(e){this.resizeOperationQueue.push(e)}destroy(){this.resizeOperationQueue.length=0,super.destroy()}}],apiFunctions:{sizeColumnsToFit:function(e,t){var n,i;"number"===typeof t?null===(n=e.colAutosize)||void 0===n||n.sizeColumnsToFit(t,"api"):null===(i=e.colAutosize)||void 0===i||i.sizeColumnsToFitGridBody(t)},autoSizeColumns:gQ,autoSizeAllColumns:function(e,t){var n;t&&"object"===typeof t?gQ(e,t):null===(n=e.colAutosize)||void 0===n||n.autoSizeAllColumns({source:"api",skipHeader:t})}},dependsOn:[pK]};var fQ={moduleName:"PinnedRow",version:KN,beans:[class extends vO{constructor(){super(...arguments),this.beanName="pinnedRowModel"}postConstruct(){const{gos:e}=this,t=()=>{const t=e.get("enableRowPinning"),n=PB(e),i=!!t||("pinnedBottom"===n||"pinnedTop"===n),o=i?this.inner instanceof RW:this.inner instanceof DW;this.inner&&o&&this.destroyBean(this.inner),!o&&this.inner||(this.inner=this.createManagedBean(i?new DW:new RW))};this.addManagedPropertyListeners(["enableRowPinning","grandTotalRow"],t),t()}reset(){return this.inner.reset()}isEmpty(e){return this.inner.isEmpty(e)}isManual(){return this.inner.isManual()}isRowsToRender(e){return this.inner.isRowsToRender(e)}pinRow(e,t,n){return this.inner.pinRow(e,t,n)}ensureRowHeightsValid(){return this.inner.ensureRowHeightsValid()}getPinnedRowById(e,t){return this.inner.getPinnedRowById(e,t)}getPinnedTopTotalHeight(){return this.inner.getPinnedTopTotalHeight()}getPinnedBottomTotalHeight(){return this.inner.getPinnedBottomTotalHeight()}getPinnedTopRowCount(){return this.inner.getPinnedTopRowCount()}getPinnedBottomRowCount(){return this.inner.getPinnedBottomRowCount()}getPinnedTopRow(e){return this.inner.getPinnedTopRow(e)}getPinnedBottomRow(e){return this.inner.getPinnedBottomRow(e)}forEachPinnedRow(e,t){return this.inner.forEachPinnedRow(e,t)}getPinnedState(){return this.inner.getPinnedState()}setPinnedState(e){return this.inner.setPinnedState(e)}setGrandTotalPinned(e){return this.inner.setGrandTotalPinned(e)}getGrandTotalPinned(){return this.inner.getGrandTotalPinned()}}],css:[".ag-row-pinned-source{background-color:var(--ag-pinned-source-row-background-color);color:var(--ag-pinned-source-row-text-color);font-weight:var(--ag-pinned-source-row-font-weight)}.ag-row-pinned-manual{background-color:var(--ag-pinned-row-background-color);color:var(--ag-pinned-row-text-color);font-weight:var(--ag-pinned-row-font-weight)}"],apiFunctions:{getPinnedTopRowCount:function(e){var t,n;return null!==(t=null===(n=e.pinnedRowModel)||void 0===n?void 0:n.getPinnedTopRowCount())&&void 0!==t?t:0},getPinnedBottomRowCount:function(e){var t,n;return null!==(t=null===(n=e.pinnedRowModel)||void 0===n?void 0:n.getPinnedBottomRowCount())&&void 0!==t?t:0},getPinnedTopRow:function(e,t){var n;return null===(n=e.pinnedRowModel)||void 0===n?void 0:n.getPinnedTopRow(t)},getPinnedBottomRow:function(e,t){var n;return null===(n=e.pinnedRowModel)||void 0===n?void 0:n.getPinnedBottomRow(t)},forEachPinnedRow:function(e,t,n){var i;return null===(i=e.pinnedRowModel)||void 0===i?void 0:i.forEachPinnedRow(t,n)}},icons:{rowPin:"pin",rowPinTop:"pinned-top",rowPinBottom:"pinned-bottom",rowUnpin:"un-pin"}},wQ=class extends RV{constructor(e,t,n){super(e.col,e.firstNode,n,t),this.cellSpan=e,this.SPANNED_CELL_CSS_CLASS="ag-spanned-cell"}setComp(e,t,n,i,o,r,s){this.eWrapper=n,super.setComp(e,t,n,i,o,r,s),this.setAriaRowSpan(),this.refreshAriaRowIndex()}isCellSpanning(){return!0}getCellSpan(){return this.cellSpan}refreshAriaRowIndex(){null!=this.rowNode.rowIndex&&RL(this.eGui,this.rowNode.rowIndex)}setAriaRowSpan(){var e,t;e=this.eGui,t=this.cellSpan.spannedNodes.size,dL(e,"rowspan",t)}setFocusedCellPosition(e){this.focusedCellPosition=e}getFocusedCellPosition(){var e;return null!==(e=this.focusedCellPosition)&&void 0!==e?e:this.cellPosition}checkCellFocused(){const e=this.beans.focusSvc.getFocusedCell();return!!e&&this.cellSpan.doesSpanContain(e)}applyStaticCssClasses(){super.applyStaticCssClasses(),this.comp.toggleCss(this.SPANNED_CELL_CSS_CLASS,!0)}onCellFocused(e){const{beans:t}=this;if(CV(t))return void(this.focusedCellPosition=void 0);const n=this.isCellFocused();n||(this.focusedCellPosition=void 0),e&&n&&(this.focusedCellPosition={rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:e.column}),super.onCellFocused(e)}getRootElement(){return this.eWrapper}},CQ=class extends $H{onRowIndexChanged(){super.onRowIndexChanged(),this.getAllCellCtrls().forEach(e=>e.refreshAriaRowIndex())}getInitialRowClasses(e){return["ag-spanned-row"]}getNewCellCtrl(e){var t;const n=null===(t=this.beans.rowSpanSvc)||void 0===t?void 0:t.getCellSpan(e,this.rowNode);if(!n)return;return n.firstNode!==this.rowNode?void 0:new wQ(n,this,this.beans)}isCorrectCtrlForSpan(e){var t;const n=null===(t=this.beans.rowSpanSvc)||void 0===t?void 0:t.getCellSpan(e.column,this.rowNode);if(!n)return!1;return!(n.firstNode!==this.rowNode)&&e.getCellSpan()===n}onRowHeightChanged(){}refreshFirstAndLastRowStyles(){}addHoverFunctionality(){}resetHoveredStatus(){}},bQ=e=>null!==e&&void 0!==e?e:"center",yQ=class{constructor(e,t){this.col=e,this.firstNode=t,this.cellSpan=!0,this.spannedNodes=new Set,this.addSpannedNode(t)}reset(){this.spannedNodes.clear(),this.addSpannedNode(this.firstNode)}addSpannedNode(e){this.spannedNodes.add(e),this.lastNode=e}getLastNode(){return this.lastNode}getCellHeight(){return this.lastNode.rowTop+this.lastNode.rowHeight-this.firstNode.rowTop-1}doesSpanContain(e){return e.column===this.col&&(e.rowPinned==this.firstNode.rowPinned&&(this.firstNode.rowIndex<=e.rowIndex&&e.rowIndex<=this.lastNode.rowIndex))}getLastNodeAutoHeight(){var e;const t=null===(e=this.firstNode.__autoHeights)||void 0===e?void 0:e[this.col.getColId()];if(null==t)return;let n=0;return this.spannedNodes.forEach(e=>{e!==this.lastNode&&(n+=e.rowHeight)}),t-n}},SQ=class extends vO{constructor(e){super(),this.column=e}buildCache(e){var t;const{column:n,beans:{gos:i,pinnedRowModel:o,rowModel:r,valueSvc:s,pagination:a}}=this,{colDef:l}=n,u=this["".concat(e,"ValueNodeMap")],c=new Map,d=i.getCallback("isFullWidthRow"),h=l.equals,p=l.spanRows,g="function"===typeof p;let m,v=null,f=null;const w=(e,t)=>{v=e,f=null,m=t},C=e=>{var t;const o=!e.isExpandable()&&!e.group&&!e.detail&&(!d||!d({rowNode:e}));if(null==e.rowIndex||!o)return void w(null,null);if(null==v||e.level!==v.level||e.footer||f&&e.rowIndex-1!==(null===(t=f)||void 0===t?void 0:t.getLastNode().rowIndex))return void w(e,s.getValue(n,e));const r=s.getValue(n,e);if(g){const t=iO(i,{valueA:m,nodeA:v,valueB:r,nodeB:e,column:n,colDef:l});if(!p(t))return void w(e,r)}else if(h?!h(m,r):m!==r)return void w(e,r);if(!f){const e=null===u||void 0===u?void 0:u.get(v);(null===e||void 0===e?void 0:e.firstNode)===v?(e.reset(),f=e):f=new yQ(n,v),c.set(v,f)}f.addSpannedNode(e),c.set(e,f)};switch(e){case"center":null===(t=r.forEachDisplayedNode)||void 0===t||t.call(r,e=>{(!a||a.isRowInPage(e.rowIndex))&&C(e)});break;case"top":null===o||void 0===o||o.forEachPinnedRow("top",C);break;case"bottom":null===o||void 0===o||o.forEachPinnedRow("bottom",C)}this["".concat(e,"ValueNodeMap")]=c}isCellSpanning(e){return!!this.getCellSpan(e)}getCellSpan(e){return this["".concat(bQ(e.rowPinned),"ValueNodeMap")].get(e)}},xQ={moduleName:"CellSpan",version:KN,beans:[class extends vO{constructor(){super(...arguments),this.beanName="rowSpanSvc",this.spanningColumns=new Map,this.debouncePinnedEvent=HN(this,this.dispatchCellsUpdatedEvent.bind(this,!0),0),this.debounceModelEvent=HN(this,this.dispatchCellsUpdatedEvent.bind(this,!1),0),this.pinnedTimeout=null,this.modelTimeout=null}postConstruct(){const e=this.onRowDataUpdated.bind(this),t=this.buildPinnedCaches.bind(this);this.addManagedEventListeners({paginationChanged:this.buildModelCaches.bind(this),pinnedRowDataChanged:t,pinnedRowsChanged:t,rowNodeDataChanged:e,cellValueChanged:e})}register(e){const{gos:t}=this.beans;if(!t.get("enableCellSpan"))return;if(this.spanningColumns.has(e))return;const n=this.createManagedBean(new SQ(e));this.spanningColumns.set(e,n),n.buildCache("top"),n.buildCache("bottom"),n.buildCache("center"),this.debouncePinnedEvent(),this.debounceModelEvent()}dispatchCellsUpdatedEvent(e){this.dispatchLocalEvent({type:"spannedCellsUpdated",pinned:e})}deregister(e){this.spanningColumns.delete(e)}onRowDataUpdated(e){let{node:t}=e;const{spannedRowRenderer:n}=this.beans;if(t.rowPinned){if(null!=this.pinnedTimeout)return;this.pinnedTimeout=window.setTimeout(()=>{this.pinnedTimeout=null,this.buildPinnedCaches(),null===n||void 0===n||n.createCtrls("top"),null===n||void 0===n||n.createCtrls("bottom")},0)}else null==this.modelTimeout&&(this.modelTimeout=window.setTimeout(()=>{this.modelTimeout=null,this.buildModelCaches(),null===n||void 0===n||n.createCtrls("center")},0))}buildModelCaches(){null!=this.modelTimeout&&clearTimeout(this.modelTimeout),this.spanningColumns.forEach(e=>e.buildCache("center")),this.debounceModelEvent()}buildPinnedCaches(){null!=this.pinnedTimeout&&clearTimeout(this.pinnedTimeout),this.spanningColumns.forEach(e=>{e.buildCache("top"),e.buildCache("bottom")}),this.debouncePinnedEvent()}isCellSpanning(e,t){const n=this.spanningColumns.get(e);return!!n&&n.isCellSpanning(t)}getCellSpanByPosition(e){const{pinnedRowModel:t,rowModel:n}=this.beans,i=e.column,o=e.rowIndex,r=this.spanningColumns.get(i);if(!r)return;let s;switch(e.rowPinned){case"top":s=null===t||void 0===t?void 0:t.getPinnedTopRow(o);break;case"bottom":s=null===t||void 0===t?void 0:t.getPinnedBottomRow(o);break;default:s=n.getRow(o)}return s?r.getCellSpan(s):void 0}getCellStart(e){const t=this.getCellSpanByPosition(e);return t?d(d({},e),{},{rowIndex:t.firstNode.rowIndex}):e}getCellEnd(e){const t=this.getCellSpanByPosition(e);return t?d(d({},e),{},{rowIndex:t.getLastNode().rowIndex}):e}getCellSpan(e,t){const n=this.spanningColumns.get(e);if(n)return n.getCellSpan(t)}forEachSpannedColumn(e,t){for(const[n,i]of this.spanningColumns)if(i.isCellSpanning(e)){t(n,i.getCellSpan(e))}}destroy(){super.destroy(),this.spanningColumns.clear()}},class extends vO{constructor(){super(...arguments),this.beanName="spannedRowRenderer",this.topCtrls=new Map,this.bottomCtrls=new Map,this.centerCtrls=new Map}postConstruct(){this.addManagedEventListeners({displayedRowsChanged:this.createAllCtrls.bind(this)})}createAllCtrls(){this.createCtrls("top"),this.createCtrls("bottom"),this.createCtrls("center")}createCtrls(e){const{rowSpanSvc:t}=this.beans,n="".concat(e,"Ctrls"),i=this[n],o=i.size,r=this.getAllRelevantRowControls(e),s=new Map;let a=!1;for(const u of r)u.isAlive()&&(null===t||void 0===t||t.forEachSpannedColumn(u.rowNode,(e,t)=>{if(s.has(t.firstNode))return;const n=i.get(t.firstNode);if(n)return s.set(t.firstNode,n),void i.delete(t.firstNode);a=!0;const o=new CQ(t.firstNode,this.beans,!1,!1,!1);s.set(t.firstNode,o)}));this[n]=s;const l=s.size===o;if(a||!l){for(const e of i.values())e.destroyFirstPass(!0),e.destroySecondPass();this.dispatchLocalEvent({type:"spannedRowsUpdated",ctrlsKey:e})}}getAllRelevantRowControls(e){const{rowRenderer:t}=this.beans;switch(e){case"top":return t.topRowCtrls;case"bottom":return t.bottomRowCtrls;case"center":return t.allRowCtrls}}getCellByPosition(e){const{rowSpanSvc:t}=this.beans,n=null===t||void 0===t?void 0:t.getCellSpanByPosition(e);if(!n)return;const i=this["".concat(bQ(e.rowPinned),"Ctrls")].get(n.firstNode);return i?i.getAllCellCtrls().find(t=>t.column===e.column):void 0}getCtrls(e){return[...this["".concat(e,"Ctrls")].values()]}destroyRowCtrls(e){const t="".concat(e,"Ctrls");for(const n of this[t].values())n.destroyFirstPass(!0),n.destroySecondPass();this[t]=new Map}destroy(){super.destroy(),this.destroyRowCtrls("top"),this.destroyRowCtrls("bottom"),this.destroyRowCtrls("center")}}]},DQ=class extends vO{constructor(e,t){super(),this.cellCtrl=e,this.staticClasses=[],this.beans=t,this.column=e.column}setComp(e){this.cellComp=e,this.applyUserStyles(),this.applyCellClassRules(),this.applyClassesFromColDef()}applyCellClassRules(){const{column:e,cellComp:t}=this,n=e.colDef,i=n.cellClassRules,o=this.getCellClassParams(e,n);KH(this.beans.expressionSvc,i===this.cellClassRules?void 0:this.cellClassRules,i,o,e=>t.toggleCss(e,!0),e=>t.toggleCss(e,!1)),this.cellClassRules=i}applyUserStyles(){const e=this.column,t=e.colDef,n=t.cellStyle;if(!n)return;let i;if("function"===typeof n){i=n(this.getCellClassParams(e,t))}else i=n;i&&this.cellComp.setUserStyles(i)}applyClassesFromColDef(){const{column:e,cellComp:t}=this,n=e.colDef,i=this.getCellClassParams(e,n);this.staticClasses.forEach(e=>t.toggleCss(e,!1));const o=this.beans.cellStyles.getStaticCellClasses(n,i);this.staticClasses=o,o.forEach(e=>t.toggleCss(e,!0))}getCellClassParams(e,t){const{value:n,rowNode:i}=this.cellCtrl;return iO(this.beans.gos,{value:n,data:i.data,node:i,colDef:t,column:e,rowIndex:i.rowIndex})}},EQ={moduleName:"CellStyle",version:KN,beans:[class extends vO{constructor(){super(...arguments),this.beanName="cellStyles"}processAllCellClasses(e,t,n,i){KH(this.beans.expressionSvc,void 0,e.cellClassRules,t,n,i),this.processStaticCellClasses(e,t,n)}getStaticCellClasses(e,t){const{cellClass:n}=e;if(!n)return[];let i;if("function"===typeof n){i=n(t)}else i=n;return"string"===typeof i&&(i=[i]),i||[]}createCellCustomStyleFeature(e,t){return new DQ(e,t)}processStaticCellClasses(e,t,n){this.getStaticCellClasses(e,t).forEach(e=>{n(e)})}}]},FQ={moduleName:"RowStyle",version:KN,beans:[class extends vO{constructor(){super(...arguments),this.beanName="rowStyleSvc"}processClassesFromGridOptions(e,t){const n=this.gos,i=t=>{"string"===typeof t?e.push(t):Array.isArray(t)&&t.forEach(t=>e.push(t))},o=n.get("rowClass");o&&i(o);const r=n.getCallback("getRowClass");if(r){i(r({data:t.data,node:t,rowIndex:t.rowIndex}))}}preProcessRowClassRules(e,t){this.processRowClassRules(t,t=>{e.push(t)},()=>{})}processRowClassRules(e,t,n){const{gos:i,expressionSvc:o}=this.beans,r=iO(i,{data:e.data,node:e,rowIndex:e.rowIndex});KH(o,void 0,i.get("rowClassRules"),r,t,n)}processStylesFromGridOptions(e){const t=this.gos,n=t.get("rowStyle"),i=t.getCallback("getRowStyle");let o;if(i){o=i({data:e.data,node:e,rowIndex:e.rowIndex})}if(o||n)return Object.assign({},n,o)}}]};var kQ=class extends vO{constructor(e,t){super(),this.columns=e,this.element=t,this.destroyManagedListeners=[],this.enableFeature=e=>{const{beans:t,gos:n,element:i,columns:o}=this,r=t.colHover;(null!==e&&void 0!==e?e:!!n.get("columnHoverHighlight"))?this.destroyManagedListeners=this.addManagedElementListeners(i,{mouseover:r.setMouseOver.bind(r,o),mouseout:r.clearMouseOver.bind(r)}):(this.destroyManagedListeners.forEach(e=>e()),this.destroyManagedListeners=[])}}postConstruct(){this.addManagedPropertyListener("columnHoverHighlight",e=>{let{currentValue:t}=e;this.enableFeature(t)}),this.enableFeature()}destroy(){super.destroy(),this.destroyManagedListeners=null}},AQ={moduleName:"ColumnHover",version:KN,beans:[class extends vO{constructor(){super(...arguments),this.beanName="colHover"}postConstruct(){this.addManagedPropertyListener("columnHoverHighlight",e=>{let{currentValue:t}=e;t||this.clearMouseOver()})}setMouseOver(e){this.updateState(e)}clearMouseOver(){this.updateState(null)}isHovered(e){if(!this.gos.get("columnHoverHighlight"))return!1;const t=this.selectedColumns;return!!t&&t.indexOf(e)>=0}addHeaderColumnHoverListener(e,t,n){const i=()=>{const e=this.isHovered(n);t.toggleCss("ag-column-hover",e)};e.addManagedEventListeners({columnHoverChanged:i}),i()}onCellColumnHover(e,t){if(!t)return;const n=this.isHovered(e);t.toggleCss("ag-column-hover",n)}addHeaderFilterColumnHoverListener(e,t,n,i){this.createHoverFeature(e,[n],i);const o=()=>{const e=this.isHovered(n);t.toggleCss("ag-column-hover",e)};e.addManagedEventListeners({columnHoverChanged:o}),o()}createHoverFeature(e,t,n){e.createManagedBean(new kQ(t,n))}updateState(e){this.selectedColumns=e,this.eventSvc.dispatchEvent({type:"columnHoverChanged"})}}],apiFunctions:{isColumnHovered:function(e,t){var n;return!(null===(n=e.colHover)||void 0===n||!n.isHovered(t))}}};var RQ={moduleName:"EventApi",version:KN,apiFunctions:{addEventListener:function(e,t,n){var i;null===(i=e.apiEventSvc)||void 0===i||i.addEventListener(t,n)},addGlobalListener:function(e,t){var n;null===(n=e.apiEventSvc)||void 0===n||n.addGlobalListener(t)},removeEventListener:function(e,t,n){var i;null===(i=e.apiEventSvc)||void 0===i||i.removeEventListener(t,n)},removeGlobalListener:function(e,t){var n;null===(n=e.apiEventSvc)||void 0===n||n.removeGlobalListener(t)}},beans:[class extends vO{constructor(){super(...arguments),this.beanName="apiEventSvc",this.syncListeners=new Map,this.asyncListeners=new Map,this.syncGlobalListeners=new Set,this.globalListenerPairs=new Map}postConstruct(){var e,t;this.wrapSvc=null===(e=(t=this.beans.frameworkOverrides).createGlobalEventListenerWrapper)||void 0===e?void 0:e.call(t)}addEventListener(e,t){var n,i;const o=null!==(n=null===(i=this.wrapSvc)||void 0===i?void 0:i.wrap(e,t))&&void 0!==n?n:t,r=!oY.has(e),s=r?this.asyncListeners:this.syncListeners;s.has(e)||s.set(e,new Set),s.get(e).add(o),this.eventSvc.addEventListener(e,o,r)}removeEventListener(e,t){var n,i;const o=null!==(n=null===(i=this.wrapSvc)||void 0===i?void 0:i.unwrap(e,t))&&void 0!==n?n:t,r=this.asyncListeners.get(e),s=!(null===r||void 0===r||!r.delete(o));var a;s||(null===(a=this.syncListeners.get(e))||void 0===a||a.delete(o));this.eventSvc.removeEventListener(e,o,s)}addGlobalListener(e){var t,n;const i=null!==(t=null===(n=this.wrapSvc)||void 0===n?void 0:n.wrapGlobal(e))&&void 0!==t?t:e,o=(e,t)=>{oY.has(e)&&i(e,t)},r=(e,t)=>{oY.has(e)||i(e,t)};this.globalListenerPairs.set(e,{syncListener:o,asyncListener:r});const s=this.eventSvc;s.addGlobalListener(o,!1),s.addGlobalListener(r,!0)}removeGlobalListener(e){var t;const{eventSvc:n,wrapSvc:i,globalListenerPairs:o}=this,r=null!==(t=null===i||void 0===i?void 0:i.unwrapGlobal(e))&&void 0!==t?t:e;if(o.has(r)){const{syncListener:t,asyncListener:i}=o.get(r);n.removeGlobalListener(t,!1),n.removeGlobalListener(i,!0),o.delete(e)}else this.syncGlobalListeners.delete(r),n.removeGlobalListener(r,!1)}destroyEventListeners(e,t){e.forEach((e,n)=>{e.forEach(e=>this.eventSvc.removeEventListener(n,e,t)),e.clear()}),e.clear()}destroyGlobalListeners(e,t){e.forEach(e=>this.eventSvc.removeGlobalListener(e,t)),e.clear()}destroy(){super.destroy(),this.destroyEventListeners(this.syncListeners,!1),this.destroyEventListeners(this.asyncListeners,!0),this.destroyGlobalListeners(this.syncGlobalListeners,!1);const{globalListenerPairs:e,eventSvc:t}=this;e.forEach(e=>{let{syncListener:n,asyncListener:i}=e;t.removeGlobalListener(n,!1),t.removeGlobalListener(i,!0)}),e.clear()}}]},PQ={moduleName:"Locale",version:KN,beans:[class extends vO{constructor(){super(...arguments),this.beanName="localeSvc"}getLocaleTextFunc(){const e=this.gos,t=e.getCallback("getLocaleText");if(t)return(e,n,i)=>t({key:e,defaultValue:n,variableValues:i});const n=e.get("localeText");return(e,t,i)=>{let o=n&&n[e];if(o&&i&&i.length){let e=0;for(;!(e>=i.length);){if(-1===o.indexOf("${variable}"))break;o=o.replace("${variable}",i[e++])}}return null!==o&&void 0!==o?o:t}}}]},TQ={moduleName:"RowAutoHeight",version:KN,beans:[class extends vO{constructor(){super(...arguments),this.beanName="rowAutoHeight",this.wasEverActive=!1,this._debouncedCalculateRowHeights=HN(this,this.calculateRowHeights.bind(this),1)}requestCheckAutoHeight(){this.wasEverActive&&this._debouncedCalculateRowHeights()}calculateRowHeights(){var e,t,n;const{visibleCols:i,rowModel:o,rowSpanSvc:r,pinnedRowModel:s}=this.beans,a=i.autoHeightCols;let l=!1;const u=e=>{const t=e.__autoHeights;let n=gB(this.beans,e).height;for(const o of a){let s=null===t||void 0===t?void 0:t[o.getColId()];const a=null===r||void 0===r?void 0:r.getCellSpan(o,e);if(a){var i;if(a.getLastNode()!==e)continue;if(s=null===r||void 0===r||null===(i=r.getCellSpan(o,e))||void 0===i?void 0:i.getLastNodeAutoHeight(),!s)return}if(null==s){if(this.colSpanSkipCell(o,e))continue;return}n=Math.max(s,n)}n!==e.rowHeight&&(e.setRowHeight(n),l=!0)};var c;(null===s||void 0===s||null===(e=s.forEachPinnedRow)||void 0===e||e.call(s,"top",u),null===s||void 0===s||null===(t=s.forEachPinnedRow)||void 0===t||t.call(s,"bottom",u),null===(n=o.forEachDisplayedNode)||void 0===n||n.call(o,u),l)&&(null===(c=o.onRowHeightChanged)||void 0===c||c.call(o))}setRowAutoHeight(e,t,n){var i;if(null!==(i=e.__autoHeights)&&void 0!==i||(e.__autoHeights={}),void 0==t)return void delete e.__autoHeights[n.getId()];const o=e.__autoHeights[n.getId()];e.__autoHeights[n.getId()]=t,o!==t&&this.requestCheckAutoHeight()}colSpanSkipCell(e,t){const{colModel:n,colViewport:i,visibleCols:o}=this.beans;if(!n.colSpanActive)return!1;let r=[];switch(e.getPinned()){case"left":r=o.getLeftColsForRow(t);break;case"right":r=o.getRightColsForRow(t);break;case null:r=i.getColsWithinViewport(t)}return!r.includes(e)}setupCellAutoHeight(e,t,n){if(!e.column.isAutoHeight()||!t)return!1;this.wasEverActive=!0;const i=t.parentElement,{rowNode:o,column:r}=e,s=this.beans,a=l=>{var u;if(null!==(u=this.beans.editSvc)&&void 0!==u&&u.isEditing(e))return;if(!e.isAlive()||!n.isAlive())return;const{paddingTop:c,paddingBottom:d,borderBottomWidth:h,borderTopWidth:p}=tN(i),g=c+d+h+p,m=t.offsetHeight+g;if(l<5){const e=CB(s);if(!e||!e.contains(t)||0==m)return void window.setTimeout(()=>a(l+1),0)}this.setRowAutoHeight(o,m,r)},l=()=>a(0);l();const u=kN(s,t,l);return n.addDestroyFunc(()=>{u(),this.setRowAutoHeight(o,void 0,r)}),!0}setAutoHeightActive(e){this.active=e.list.some(e=>e.isVisible()&&e.isAutoHeight())}areRowsMeasured(){if(!this.active)return!0;const e=this.beans.rowRenderer.getAllRowCtrls();let t=null;for(const{rowNode:n}of e){if(!t||this.beans.colModel.colSpanActive){t=this.beans.colViewport.getColsWithinViewport(n).filter(e=>e.isAutoHeight())}if(0!==t.length){if(!n.__autoHeights)return!1;for(const e of t){const t=n.__autoHeights[e.getColId()];if(!t||n.rowHeight<t)return!1}}}return!0}}]},_Q={moduleName:"AllCommunity",version:KN,dependsOn:[KX,$X,eQ,UZ,PX,TX,_X,MX,IX,LX,NX,RX,O$,G$,z$,B$,H$,j$,rQ,jX,cQ,MK,dQ,hQ,pQ,vQ,tK,fQ,zX,$Y,EQ,AQ,FQ,RQ,JY,iQ,U$,PQ,TQ,JU,qX,xQ]};const MQ=["key"];var IQ,LQ=i.createContext({}),NQ=i.createContext("default"),BQ=(e,t,n,i)=>{if(!e||e.componentFromFramework||t.isDestroyed())return;const o=e.newAgStackInstance();let r,s,a=!1;return o.then(e=>{a?t.destroyBean(e):(r=e,s=r.getGui(),n.appendChild(s),OQ(i,r))}),()=>{var e;a=!0,r&&(null===(e=s)||void 0===e||null===(e=e.parentElement)||void 0===e||e.removeChild(s),t.destroyBean(r),i&&OQ(i,void 0))}},OQ=(e,t)=>{if(e)if(e instanceof Function){e(t)}else{e.current=t}},GQ=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(e=>null!=e&&""!==e).join(" ")},zQ=class e{constructor(){this.classesMap={};for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t.forEach(e=>{this.classesMap[e]=!0})}setClass(t,n){if(!!this.classesMap[t]==n)return this;const i=new e;return i.classesMap=d({},this.classesMap),i.classesMap[t]=n,i}toString(){return Object.keys(this.classesMap).filter(e=>this.classesMap[e]).join(" ")}},VQ=e=>"function"===typeof e&&!(e.prototype&&e.prototype.isReactComponent)||"object"===typeof e&&e.$$typeof===("function"===typeof Symbol&&Symbol.for?Symbol.for("react.memo"):60115),HQ=null===(IQ=i.version)||void 0===IQ?void 0:IQ.split(".")[0],jQ="16"===HQ||"17"===HQ;var WQ=!1;var UQ=(e,t)=>{jQ||!e||WQ?t():an.flushSync(t)};function KQ(e,t,n){if(null==t||null==e)return t;if(e===t||0===t.length&&0===e.length)return e;if(n||0===e.length&&t.length>0||e.length>0&&0===t.length)return t;const i=[],o=[],r=new Map,s=new Map;for(let a=0;a<t.length;a++){const e=t[a];s.set(e.instanceId,e)}for(let a=0;a<e.length;a++){const t=e[a];r.set(t.instanceId,t),s.has(t.instanceId)&&i.push(t)}for(let a=0;a<t.length;a++){const e=t[a],n=e.instanceId;r.has(n)||o.push(e)}return i.length===e.length&&0===o.length?e:0===i.length&&o.length===t.length?t:0===i.length?o:0===o.length?i:[...i,...o]}var qQ=(0,i.forwardRef)((e,t)=>{var n;const{registry:o,context:r}=(0,i.useContext)(LQ),s=(0,i.useRef)(null),a=(0,i.useRef)(null),l=(0,i.useRef)(null),u=(0,i.useRef)(null),c=(0,i.useRef)(null),h=(0,i.useRef)(),[p,g]=(0,i.useState)(),[m,v]=(0,i.useState)(),[f,w]=(0,i.useState)(),[C,b]=(0,i.useState)(()=>new zQ),[y,S]=(0,i.useState)(()=>new zQ("ag-hidden")),[x,D]=(0,i.useState)(()=>new zQ("ag-hidden")),[E,F]=(0,i.useState)(()=>new zQ("ag-invisible"));(0,i.useImperativeHandle)(t,()=>({refresh:()=>!1})),(0,i.useLayoutEffect)(()=>BQ(p,r,a.current),[p]);const k=(0,i.useCallback)(t=>{if(s.current=t,!t)return void(h.current=r.destroyBean(h.current));const n={setInnerRenderer:(e,t)=>{g(e),w(t)},setChildCount:e=>v(e),toggleCss:(e,t)=>b(n=>n.setClass(e,t)),setContractedDisplayed:e=>D(t=>t.setClass("ag-hidden",!e)),setExpandedDisplayed:e=>S(t=>t.setClass("ag-hidden",!e)),setCheckboxVisible:e=>F(t=>t.setClass("ag-invisible",!e)),setCheckboxSpacing:e=>F(t=>t.setClass("ag-group-checkbox-spacing",e))},i=o.createDynamicBean("groupCellRendererCtrl",!0);i&&(h.current=r.createBean(i),h.current.init(n,t,l.current,u.current,c.current,qQ,e))},[]),A=(0,i.useMemo)(()=>"ag-cell-wrapper ".concat(C.toString()),[C]),R=(0,i.useMemo)(()=>"ag-group-expanded ".concat(y.toString()),[y]),P=(0,i.useMemo)(()=>"ag-group-contracted ".concat(x.toString()),[x]),T=(0,i.useMemo)(()=>"ag-group-checkbox ".concat(E.toString()),[E]),_=null===p||void 0===p?void 0:p.componentFromFramework,M=_?p.componentClass:void 0,I=null==p&&null!=f,L=CO(f);return i.createElement("span",d({className:A,ref:k},e.colDef?{}:{role:null===(n=h.current)||void 0===n?void 0:n.getCellAriaRole()}),i.createElement("span",{className:R,ref:u}),i.createElement("span",{className:P,ref:c}),i.createElement("span",{className:T,ref:l}),i.createElement("span",{className:"ag-group-value",ref:a},I?L:_?i.createElement(M,d({},p.params)):null),i.createElement("span",{className:"ag-group-child-count"},m))}),YQ=qQ,ZQ=(0,i.createContext)({setMethods:()=>{}}),$Q=(0,i.memo)(e=>{const{initialProps:t,addUpdateCallback:n,CustomComponentClass:o,setMethods:r}=e,[a,l]=(0,i.useState)(t),{key:u}=a,c=s(a,MQ);return(0,i.useEffect)(()=>{n(e=>l(e))},[]),i.createElement(ZQ.Provider,{value:{setMethods:r}},i.createElement(o,d({key:u},c)))}),XQ=0;function QQ(){return"agPortalKey_".concat(++XQ)}var JQ=class{constructor(e,t,n,i){this.portal=null,this.oldPortal=null,this.reactComponent=e,this.portalManager=t,this.componentType=n,this.suppressFallbackMethods=!!i,this.statelessComponent=this.isStateless(this.reactComponent),this.key=QQ(),this.portalKey=QQ(),this.instanceCreated=this.isStatelessComponent()?PG.resolve(!1):new PG(e=>{this.resolveInstanceCreated=e})}getGui(){return this.eParentElement}getRootElement(){return this.eParentElement.firstChild}destroy(){this.componentInstance&&"function"==typeof this.componentInstance.destroy&&this.componentInstance.destroy();const e=this.portal;e&&this.portalManager.destroyPortal(e)}createParentElement(e){const t=this.portalManager.getComponentWrappingElement(),n=document.createElement(t||"div");return n.classList.add("ag-react-container"),e.reactContainer=n,n}statelessComponentRendered(){return this.eParentElement.childElementCount>0||this.eParentElement.childNodes.length>0}getFrameworkComponentInstance(){return this.componentInstance}isStatelessComponent(){return this.statelessComponent}getReactComponentName(){return this.reactComponent.name}getMemoType(){return this.hasSymbol()?Symbol.for("react.memo"):60115}hasSymbol(){return"function"===typeof Symbol&&Symbol.for}isStateless(e){return"function"===typeof e&&!(e.prototype&&e.prototype.isReactComponent)||"object"===typeof e&&e.$$typeof===this.getMemoType()}hasMethod(e){const t=this.getFrameworkComponentInstance();return!!t&&null!=t[e]||this.fallbackMethodAvailable(e)}callMethod(e,t){const n=this.getFrameworkComponentInstance();if(this.isStatelessComponent())return this.fallbackMethod(e,t&&t[0]?t[0]:{});if(!n)return void setTimeout(()=>this.callMethod(e,t));const i=n[e];return i?i.apply(n,t):this.fallbackMethodAvailable(e)?this.fallbackMethod(e,t&&t[0]?t[0]:{}):void 0}addMethod(e,t){this[e]=t}init(e){return this.eParentElement=this.createParentElement(e),this.createOrUpdatePortal(e),new PG(e=>this.createReactComponent(e))}createOrUpdatePortal(e){this.isStatelessComponent()||(this.ref=e=>{var t;this.componentInstance=e,null===(t=this.resolveInstanceCreated)||void 0===t||t.call(this,!0),this.resolveInstanceCreated=void 0},e.ref=this.ref),this.reactElement=this.createElement(this.reactComponent,d(d({},e),{},{key:this.key})),this.portal=(0,an.createPortal)(this.reactElement,this.eParentElement,this.portalKey)}createElement(e,t){return(0,i.createElement)(e,t)}createReactComponent(e){this.portalManager.mountReactPortal(this.portal,this,e)}rendered(){return this.isStatelessComponent()&&this.statelessComponentRendered()||!(this.isStatelessComponent()||!this.getFrameworkComponentInstance())}refreshComponent(e){this.oldPortal=this.portal,this.createOrUpdatePortal(e),this.portalManager.updateReactPortal(this.oldPortal,this.portal)}fallbackMethod(e,t){const n=this["".concat(e,"Component")];if(!this.suppressFallbackMethods&&n)return n.bind(this)(t)}fallbackMethodAvailable(e){if(this.suppressFallbackMethods)return!1;return!!this["".concat(e,"Component")]}};function eJ(e,t,n){e.forEach(e=>{const i=t[e];i&&(n[e]=i)})}var tJ=class extends JQ{constructor(){super(...arguments),this.awaitUpdateCallback=new PG(e=>{this.resolveUpdateCallback=e}),this.wrapperComponent=$Q}init(e){return this.sourceParams=e,super.init(this.getProps())}addMethod(){}getInstance(){return this.instanceCreated.then(()=>this.componentInstance)}getFrameworkComponentInstance(){return this}createElement(e,t){return super.createElement(this.wrapperComponent,{initialProps:t,CustomComponentClass:e,setMethods:e=>this.setMethods(e),addUpdateCallback:e=>{this.updateCallback=()=>(e(this.getProps()),new PG(e=>{setTimeout(()=>{e()})})),this.resolveUpdateCallback()}})}setMethods(e){this.providedMethods=e,eJ(this.getOptionalMethods(),this.providedMethods,this)}getOptionalMethods(){return[]}getProps(){return d(d({},this.sourceParams),{},{key:this.key,ref:this.ref})}refreshProps(){return this.updateCallback?this.updateCallback():new PG(e=>this.awaitUpdateCallback.then(()=>{this.updateCallback().then(()=>e())}))}},nJ=class extends tJ{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},iJ=class extends tJ{constructor(){super(...arguments),this.date=null,this.onDateChange=e=>this.updateDate(e)}getDate(){return this.date}setDate(e){this.date=e,this.refreshProps()}refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled"]}updateDate(e){this.setDate(e),this.sourceParams.onDateChanged()}getProps(){const e=super.getProps();return e.date=this.date,e.onDateChange=this.onDateChange,delete e.onDateChanged,e}},oJ=class extends tJ{constructor(){super(...arguments),this.label="",this.icon=null,this.shake=!1}setIcon(e,t){this.icon=e,this.shake=t,this.refreshProps()}setLabel(e){this.label=e,this.refreshProps()}getProps(){const e=super.getProps(),{label:t,icon:n,shake:i}=this;return e.label=t,e.icon=n,e.shake=i,e}},rJ=class extends tJ{constructor(){super(...arguments),this.model=null,this.onModelChange=e=>this.updateModel(e),this.onUiChange=()=>this.sourceParams.filterModifiedCallback(),this.expectingNewMethods=!0,this.hasBeenActive=!1,this.awaitSetMethodsCallback=new PG(e=>{this.resolveSetMethodsCallback=e})}isFilterActive(){return null!=this.model}doesFilterPass(e){return this.providedMethods.doesFilterPass(e)}getModel(){return this.model}setModel(e){return this.expectingNewMethods=!0,this.model=e,this.hasBeenActive||(this.hasBeenActive=this.isFilterActive()),this.refreshProps()}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}afterGuiAttached(e){const t=this.providedMethods;var n;t?null===(n=t.afterGuiAttached)||void 0===n||n.call(t,e):this.awaitSetMethodsCallback.then(()=>{var t,n;return null===(t=this.providedMethods)||void 0===t||null===(n=t.afterGuiAttached)||void 0===n?void 0:n.call(t,e)})}getOptionalMethods(){return["afterGuiDetached","onNewRowsLoaded","getModelAsString","onAnyFilterChanged"]}setMethods(e){var t,n;!1===this.expectingNewMethods&&this.hasBeenActive&&(null===(t=this.providedMethods)||void 0===t?void 0:t.doesFilterPass)!==(null===e||void 0===e?void 0:e.doesFilterPass)&&setTimeout(()=>{this.sourceParams.filterChangedCallback()}),this.expectingNewMethods=!1,super.setMethods(e),this.resolveSetMethodsCallback(),null===(n=this.resolveFilterPassCallback)||void 0===n||n.call(this),this.resolveFilterPassCallback=void 0}updateModel(e){var t;null===(t=this.resolveFilterPassCallback)||void 0===t||t.call(this);const n=new PG(e=>{this.resolveFilterPassCallback=e});this.setModel(e).then(()=>{n.then(()=>{this.sourceParams.filterChangedCallback()})})}getProps(){const e=super.getProps();return e.model=this.model,e.onModelChange=this.onModelChange,e.onUiChange=this.onUiChange,delete e.filterChangedCallback,e}},sJ=class extends tJ{constructor(){super(...arguments),this.awaitSetMethodsCallback=new PG(e=>{this.resolveSetMethodsCallback=e})}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}afterGuiAttached(e){const t=this.providedMethods;var n;t?null===(n=t.afterGuiAttached)||void 0===n||n.call(t,e):this.awaitSetMethodsCallback.then(()=>{var t,n;return null===(t=this.providedMethods)||void 0===t||null===(n=t.afterGuiAttached)||void 0===n?void 0:n.call(t,e)})}getOptionalMethods(){return["afterGuiDetached","onNewRowsLoaded","onAnyFilterChanged"]}setMethods(e){super.setMethods(e),this.resolveSetMethodsCallback()}};function aJ(e,t){e.parentFilterInstance(n=>{(n.setModel(t)||PG.resolve()).then(()=>{e.filterParams.filterChangedCallback()})})}var lJ=class{constructor(e,t){this.floatingFilterParams=e,this.refreshProps=t,this.model=null,this.onModelChange=e=>this.updateModel(e)}getProps(){return d(d({},this.floatingFilterParams),{},{model:this.model,onModelChange:this.onModelChange})}onParentModelChanged(e){this.model=e,this.refreshProps()}refresh(e){this.floatingFilterParams=e,this.refreshProps()}setMethods(e){eJ(this.getOptionalMethods(),e,this)}getOptionalMethods(){return["afterGuiAttached"]}updateModel(e){this.model=e,this.refreshProps(),aJ(this.floatingFilterParams,e)}},uJ=class extends tJ{constructor(){super(...arguments),this.model=null,this.onModelChange=e=>this.updateModel(e)}onParentModelChanged(e){this.model=e,this.refreshProps()}refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached"]}updateModel(e){this.model=e,this.refreshProps(),aJ(this.sourceParams,e)}getProps(){const e=super.getProps();return e.model=this.model,e.onModelChange=this.onModelChange,e}},cJ=class extends tJ{refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached"]}},dJ=class extends tJ{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},hJ=class extends tJ{refresh(e){this.sourceParams=e,this.refreshProps()}},pJ=class extends tJ{constructor(){super(...arguments),this.active=!1,this.expanded=!1,this.onActiveChange=e=>this.updateActive(e)}setActive(e){this.awaitSetActive(e)}setExpanded(e){this.expanded=e,this.refreshProps()}getOptionalMethods(){return["select","configureDefaults"]}awaitSetActive(e){return this.active=e,this.refreshProps()}updateActive(e){const t=this.awaitSetActive(e);e&&t.then(()=>this.sourceParams.onItemActivated())}getProps(){const e=super.getProps();return e.active=this.active,e.expanded=this.expanded,e.onActiveChange=this.onActiveChange,delete e.onItemActivated,e}},gJ=class extends tJ{refresh(e){this.sourceParams=e,this.refreshProps()}},mJ=class extends tJ{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},vJ=class extends tJ{constructor(){super(...arguments),this.onStateChange=e=>this.updateState(e)}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}getState(){return this.state}updateState(e){this.state=e,this.refreshProps(),this.sourceParams.onStateUpdated()}getProps(){const e=super.getProps();return e.state=this.state,e.onStateChange=this.onStateChange,e}};function fJ(){iB(231)}var wJ=class{constructor(e,t,n){this.destroyed=!1,this.portals=[],this.hasPendingPortalUpdate=!1,this.wrappingElement=t||"div",this.refresher=e,this.maxComponentCreationTimeMs=n||1e3}getPortals(){return this.portals}destroy(){this.destroyed=!0}destroyPortal(e){this.portals=this.portals.filter(t=>t!==e),this.batchUpdate()}getComponentWrappingElement(){return this.wrappingElement}mountReactPortal(e,t,n){this.portals=[...this.portals,e],this.waitForInstance(t,n),this.batchUpdate()}updateReactPortal(e,t){this.portals[this.portals.indexOf(e)]=t,this.batchUpdate()}batchUpdate(){this.hasPendingPortalUpdate||(setTimeout(()=>{this.destroyed||(this.refresher(),this.hasPendingPortalUpdate=!1)}),this.hasPendingPortalUpdate=!0)}waitForInstance(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Date.now();if(this.destroyed)t(null);else if(e.rendered())t(e);else{if(Date.now()-n>=this.maxComponentCreationTimeMs&&!this.hasPendingPortalUpdate)return UQ(!0,()=>this.refresher()),void(e.rendered()&&t(e));window.setTimeout(()=>{this.waitForInstance(e,t,n)})}}},CJ=(0,i.memo)(e=>{let{ctrl:t}=e;const n=t.isAlive(),{context:o}=(0,i.useContext)(LQ),r=n?t.column.getColId():void 0,[s,a]=(0,i.useState)(),[l,u]=(0,i.useState)(),c=(0,i.useRef)(),h=(0,i.useRef)(null),p=(0,i.useRef)(null),g=(0,i.useRef)(null),m=(0,i.useRef)(),v=(0,i.useRef)();n&&!v.current&&(v.current=new EG(()=>h.current));const f=(0,i.useCallback)(e=>{if(h.current=e,c.current=e?o.createBean(new xG):o.destroyBean(c.current),!e||!t.isAlive())return;const n=()=>{const e=t.getSelectAllGui();var n;e&&(null===(n=p.current)||void 0===n||n.insertAdjacentElement("afterend",e),c.current.addDestroyFunc(()=>e.remove()))},i={setWidth:e=>{h.current&&(h.current.style.width=e)},toggleCss:(e,t)=>v.current.toggleCss(e,t),setUserStyles:e=>u(e),setAriaSort:e=>{h.current&&(e?ML(h.current,e):IL(h.current))},setUserCompDetails:e=>a(e),getUserCompInstance:()=>m.current||void 0,refreshSelectAllGui:n,removeSelectAllGui:()=>{var e;return null===(e=t.getSelectAllGui())||void 0===e?void 0:e.remove()}};t.setComp(i,e,p.current,g.current,c.current),n()},[]);(0,i.useLayoutEffect)(()=>BQ(s,o,g.current,m),[s]),(0,i.useEffect)(()=>{t.setDragSource(h.current)},[s]);const w=(0,i.useMemo)(()=>!!((null===s||void 0===s?void 0:s.componentFromFramework)&&VQ(s.componentClass)),[s]),C=null===s||void 0===s?void 0:s.componentFromFramework,b=null===s||void 0===s?void 0:s.componentClass;return i.createElement("div",{ref:f,style:l,className:"ag-header-cell","col-id":r,role:"columnheader"},i.createElement("div",{ref:p,className:"ag-header-cell-resize",role:"presentation"}),i.createElement("div",{ref:g,className:"ag-header-cell-comp-wrapper",role:"presentation"},C?w?i.createElement(b,d({},s.params)):i.createElement(b,d(d({},s.params),{},{ref:m})):null))}),bJ=class{constructor(e,t){this.floatingFilterParams=e,this.refreshProps=t}getProps(){return this.floatingFilterParams}refresh(e){this.floatingFilterParams=e,this.refreshProps()}setMethods(e){eJ(this.getOptionalMethods(),e,this)}getOptionalMethods(){return["afterGuiAttached"]}},yJ=(0,i.memo)(e=>{let{ctrl:t}=e;const{context:n,gos:o}=(0,i.useContext)(LQ),[r,s]=(0,i.useState)(),[a,l]=(0,i.useState)(()=>new zQ("ag-header-cell","ag-floating-filter")),[u,c]=(0,i.useState)(()=>new zQ),[h,p]=(0,i.useState)(()=>new zQ("ag-floating-filter-button","ag-hidden")),[g,m]=(0,i.useState)("false"),[v,f]=(0,i.useState)(),[,w]=(0,i.useState)(1),C=(0,i.useRef)(),b=(0,i.useRef)(null),y=(0,i.useRef)(null),S=(0,i.useRef)(null),x=(0,i.useRef)(null),D=(0,i.useRef)(),E=(0,i.useRef)(),F=e=>{null!=e&&D.current&&D.current(e)},k=(0,i.useCallback)(e=>{if(b.current=e,C.current=e?n.createBean(new xG):n.destroyBean(C.current),!e||!t.isAlive())return;E.current=new PG(e=>{D.current=e});const i={toggleCss:(e,t)=>l(n=>n.setClass(e,t)),setUserStyles:e=>s(e),addOrRemoveBodyCssClass:(e,t)=>c(n=>n.setClass(e,t)),setButtonWrapperDisplayed:e=>{p(t=>t.setClass("ag-hidden",!e)),m(e?"false":"true")},setWidth:e=>{b.current&&(b.current.style.width=e)},setCompDetails:e=>f(e),getFloatingFilterComp:()=>E.current?E.current:null,setMenuIcon:e=>{var t;return null===(t=x.current)||void 0===t?void 0:t.appendChild(e)}};t.setComp(i,e,x.current,y.current,C.current)},[]);(0,i.useLayoutEffect)(()=>BQ(v,n,y.current,F),[v]);const A=(0,i.useMemo)(()=>a.toString(),[a]),R=(0,i.useMemo)(()=>u.toString(),[u]),P=(0,i.useMemo)(()=>h.toString(),[h]),T=(0,i.useMemo)(()=>!!(v&&v.componentFromFramework&&VQ(v.componentClass)),[v]),_=(0,i.useMemo)(()=>o.get("reactiveCustomComponents"),[]),M=(0,i.useMemo)(()=>o.get("enableFilterHandlers"),[]),[I,L]=(0,i.useState)();(0,i.useEffect)(()=>{if(null!==v&&void 0!==v&&v.componentFromFramework)if(_){const e=new(M?bJ:lJ)(v.params,()=>w(e=>e+1));F(e),L(e)}else fJ()},[v]);const N=null===I||void 0===I?void 0:I.getProps(),B=null===v||void 0===v?void 0:v.componentFromFramework,O=null===v||void 0===v?void 0:v.componentClass;return i.createElement("div",{ref:k,style:r,className:A,role:"gridcell"},i.createElement("div",{ref:y,className:R,role:"presentation"},B?_?N&&i.createElement(ZQ.Provider,{value:{setMethods:e=>I.setMethods(e)}},i.createElement(O,d({},N))):i.createElement(O,d(d({},v.params),{},{ref:T?()=>{}:F})):null),i.createElement("div",{ref:S,"aria-hidden":g,className:P,role:"presentation"},i.createElement("button",{ref:x,type:"button",className:"ag-button ag-floating-filter-button-button",tabIndex:-1})))}),SJ=(0,i.memo)(e=>{let{ctrl:t}=e;const{context:n}=(0,i.useContext)(LQ),[o,r]=(0,i.useState)(),[s,a]=(0,i.useState)(()=>new zQ),[l,u]=(0,i.useState)(()=>new zQ),[c,h]=(0,i.useState)("false"),[p,g]=(0,i.useState)(),[m,v]=(0,i.useState)(),f=(0,i.useMemo)(()=>t.column.getUniqueId(),[]),w=(0,i.useRef)(),C=(0,i.useRef)(null),b=(0,i.useRef)(null),y=(0,i.useRef)(null),S=(0,i.useRef)(),x=(0,i.useCallback)(e=>{if(C.current=e,w.current=e?n.createBean(new xG):n.destroyBean(w.current),!e||!t.isAlive())return;const i={setWidth:e=>{C.current&&(C.current.style.width=e)},toggleCss:(e,t)=>a(n=>n.setClass(e,t)),setUserStyles:e=>r(e),setHeaderWrapperHidden:e=>{const t=y.current;t&&(e?t.style.setProperty("display","none"):t.style.removeProperty("display"))},setHeaderWrapperMaxHeight:e=>{const t=y.current;t&&(null!=e?t.style.setProperty("max-height","".concat(e,"px")):t.style.removeProperty("max-height"),t.classList.toggle("ag-header-cell-comp-wrapper-limited-height",null!=e))},setUserCompDetails:e=>v(e),setResizableDisplayed:e=>{u(t=>t.setClass("ag-hidden",!e)),h(e?"false":"true")},setAriaExpanded:e=>g(e),getUserCompInstance:()=>S.current||void 0};t.setComp(i,e,b.current,y.current,w.current)},[]);(0,i.useLayoutEffect)(()=>BQ(m,n,y.current),[m]),(0,i.useEffect)(()=>{C.current&&t.setDragSource(C.current)},[m]);const D=(0,i.useMemo)(()=>!!((null===m||void 0===m?void 0:m.componentFromFramework)&&VQ(m.componentClass)),[m]),E=(0,i.useMemo)(()=>"ag-header-group-cell "+s.toString(),[s]),F=(0,i.useMemo)(()=>"ag-header-cell-resize "+l.toString(),[l]),k=null===m||void 0===m?void 0:m.componentFromFramework,A=null===m||void 0===m?void 0:m.componentClass;return i.createElement("div",{ref:x,style:o,className:E,"col-id":f,role:"columnheader","aria-expanded":p},i.createElement("div",{ref:y,className:"ag-header-cell-comp-wrapper",role:"presentation"},k?D?i.createElement(A,d({},m.params)):i.createElement(A,d(d({},m.params),{},{ref:S})):null),i.createElement("div",{ref:b,"aria-hidden":c,className:F}))}),xJ=(0,i.memo)(e=>{let{ctrl:t}=e;const{context:n}=(0,i.useContext)(LQ),{topOffset:o,rowHeight:r}=(0,i.useMemo)(()=>t.getTopAndHeight(),[]),[s,a]=(0,i.useState)(()=>t.getAriaRowIndex()),l=t.headerRowClass,[u,c]=(0,i.useState)(()=>r+"px"),[d,h]=(0,i.useState)(()=>o+"px"),p=(0,i.useRef)(null),[g,m]=(0,i.useState)(()=>t.getUpdatedHeaderCtrls()),v=(0,i.useRef)(),f=(0,i.useRef)(null),w=(0,i.useCallback)(e=>{if(f.current=e,v.current=e?n.createBean(new xG):n.destroyBean(v.current),!e)return;const i={setHeight:e=>c(e),setTop:e=>h(e),setHeaderCtrls:(e,t,n)=>{const i=p.current,o=KQ(i,e,t);o!==i&&(p.current=o,UQ(n,()=>m(o)))},setWidth:e=>{f.current&&(f.current.style.width=e)},setRowIndex:e=>{a(e)}};t.setComp(i,v.current,!1)},[]),C=(0,i.useMemo)(()=>({height:u,top:d}),[u,d]),b=(0,i.useCallback)(e=>{switch(t.type){case"group":return i.createElement(SJ,{ctrl:e,key:e.instanceId});case"filter":return i.createElement(yJ,{ctrl:e,key:e.instanceId});default:return i.createElement(CJ,{ctrl:e,key:e.instanceId})}},[]);return i.createElement("div",{ref:w,className:l,role:"row",style:C,"aria-rowindex":s},g.map(b))}),DJ=(0,i.memo)(e=>{let{pinned:t}=e;const[n,o]=(0,i.useState)(!0),[r,s]=(0,i.useState)([]),{context:a}=(0,i.useContext)(LQ),l=(0,i.useRef)(null),u=(0,i.useRef)(null),c=(0,i.useRef)(),d="left"===t,h="right"===t,p=!d&&!h,g=(0,i.useCallback)(e=>{if(l.current=e,c.current=e?a.createBean(new iW(t)):a.destroyBean(c.current),!e)return;const n={setDisplayed:o,setCtrls:e=>s(e),setCenterWidth:e=>{u.current&&(u.current.style.width=e)},setViewportScrollLeft:e=>{l.current&&(l.current.scrollLeft=e)},setPinnedContainerWidth:e=>{l.current&&(l.current.style.width=e,l.current.style.minWidth=e,l.current.style.maxWidth=e)}};c.current.setComp(n,l.current)},[]),m=n?"":"ag-hidden",v=()=>r.map(e=>i.createElement(xJ,{ctrl:e,key:e.instanceId}));return d?i.createElement("div",{ref:g,className:"ag-pinned-left-header "+m,"aria-hidden":!n,role:"rowgroup"},v()):h?i.createElement("div",{ref:g,className:"ag-pinned-right-header "+m,"aria-hidden":!n,role:"rowgroup"},v()):p?i.createElement("div",{ref:g,className:"ag-header-viewport "+m,role:"presentation",tabIndex:-1},i.createElement("div",{ref:u,className:"ag-header-container",role:"rowgroup"},v())):null}),EJ=(0,i.memo)(()=>{const[e,t]=(0,i.useState)(()=>new zQ),[n,o]=(0,i.useState)(),{context:r}=(0,i.useContext)(LQ),s=(0,i.useRef)(null),a=(0,i.useRef)(),l=(0,i.useCallback)(e=>{if(s.current=e,a.current=e?r.createBean(new zj):r.destroyBean(a.current),!e)return;const n={toggleCss:(e,n)=>t(t=>t.setClass(e,n)),setHeightAndMinHeight:e=>o(e)};a.current.setComp(n,e,e)},[]),u=(0,i.useMemo)(()=>"ag-header "+e.toString(),[e]),c=(0,i.useMemo)(()=>({height:n,minHeight:n}),[n]);return i.createElement("div",{ref:l,className:u,style:c,role:"presentation"},i.createElement(DJ,{pinned:"left"}),i.createElement(DJ,{pinned:null}),i.createElement(DJ,{pinned:"right"}))}),FJ=(e,t)=>{(0,i.useEffect)(()=>{const n=t.current;if(n){const t=n.parentElement;if(t){const i=document.createComment(e);return t.insertBefore(i,n),()=>{t.removeChild(i)}}}},[e])},kJ=class{constructor(e,t){this.cellEditorParams=e,this.refreshProps=t,this.instanceCreated=new PG(e=>{this.resolveInstanceCreated=e}),this.onValueChange=e=>this.updateValue(e),this.value=e.value}getProps(){return d(d({},this.cellEditorParams),{},{initialValue:this.cellEditorParams.value,value:this.value,onValueChange:this.onValueChange})}getValue(){return this.value}refresh(e){this.cellEditorParams=e,this.refreshProps()}setMethods(e){eJ(this.getOptionalMethods(),e,this)}getInstance(){return this.instanceCreated.then(()=>this.componentInstance)}setRef(e){var t;this.componentInstance=e,null===(t=this.resolveInstanceCreated)||void 0===t||t.call(this),this.resolveInstanceCreated=void 0}getOptionalMethods(){return["isCancelBeforeStart","isCancelAfterEnd","focusIn","focusOut","afterGuiAttached","getValidationErrors","getValidationElement"]}updateValue(e){this.value=e,this.refreshProps()}},AJ=(0,i.memo)(e=>{const[t,n]=(0,i.useState)(),o=(0,i.useContext)(LQ),{context:r,popupSvc:s,gos:a,editSvc:l}=o,{editDetails:u,cellCtrl:c,eParentCell:d}=e;return(e=>{const t=(0,i.useRef)(e),n=(0,i.useRef)(),o=(0,i.useRef)(!1),r=(0,i.useRef)(!1),[,s]=(0,i.useState)(0);o.current&&(r.current=!0),(0,i.useEffect)(()=>(o.current||(n.current=t.current(),o.current=!0),s(e=>e+1),()=>{var e;r.current&&(null===(e=n.current)||void 0===e||e.call(n))}),[])})(()=>{var t,i;const{compDetails:o}=u,h=a.get("stopEditingWhenCellsLoseFocus"),p=r.createBean(l.createPopupEditorWrapper(o.params)),g=p.getGui();if(e.jsChildComp){const t=e.jsChildComp.getGui();t&&g.appendChild(t)}const{column:m,rowNode:v}=c,f={column:m,rowNode:v,type:"popupCellEditor",eventSource:d,ePopup:g,position:u.popupPosition,keepWithinBounds:!0},w=null===s||void 0===s?void 0:s.positionPopupByComponent.bind(s,f),C=null===s||void 0===s?void 0:s.addPopup({modal:h,eChild:g,closeOnEsc:!0,closedCallback:()=>{c.onPopupEditorClosed()},anchorToElement:d,positionCallback:w,ariaOwns:d}),b=C?C.hideFunc:void 0;return n(p),null===(t=e.jsChildComp)||void 0===t||null===(i=t.afterGuiAttached)||void 0===i||i.call(t),()=>{null===b||void 0===b||b(),r.destroyBean(p)}}),(0,i.useLayoutEffect)(()=>()=>{c.isCellFocused()&&null!==t&&void 0!==t&&t.getGui().contains(SB(o))&&d.focus({preventScroll:!0})},[t]),t&&e.wrappedContent?(0,an.createPortal)(e.wrappedContent,t.getGui()):null}),RJ=(e,t,n)=>e.compProxy?((e,t,n)=>{const{compProxy:o}=e;n(o);const r=o.getProps(),s=VQ(t);return i.createElement(ZQ.Provider,{value:{setMethods:e=>o.setMethods(e)}},s?i.createElement(t,d({},r)):i.createElement(t,d(d({},r),{},{ref:e=>o.setRef(e)})))})(e,t,n):i.createElement(t,d(d({},e.compDetails.params),{},{ref:n})),PJ=(e,t,n,o,r,s)=>{const{context:a}=(0,i.useContext)(LQ),l=(0,i.useCallback)(()=>{const e=r.current;if(!e)return;const t=e.getGui();t&&t.parentElement&&t.parentElement.removeChild(t),a.destroyBean(e),r.current=void 0},[]);(0,i.useEffect)(()=>{const i=null!=e,o=(null===e||void 0===e?void 0:e.compDetails)&&!e.compDetails.componentFromFramework;if(!(i&&o&&!(t&&null==n)))return void l();const a=e.compDetails;if(r.current){const t=r.current,n=!!(null!=t.refresh&&0==e.force)&&t.refresh(a.params);if(!0===n||void 0===n)return;l()}a.newAgStackInstance().then(e=>{if(!e)return;const i=e.getGui();if(!i)return;(t?n:s.current).appendChild(i),r.current=e})},[e,t,o]),(0,i.useEffect)(()=>l,[])},TJ=e=>{var t;let{cellCtrl:n,parent:o}=e;const r=(0,i.useRef)(),s=(0,i.useMemo)(()=>{const{loadingComp:e}=n.getDeferLoadingCellRenderer();return e?{value:void 0,compDetails:e,force:!1}:void 0},[n]);if(PJ(s,!1,void 0,1,r,o),null!==s&&void 0!==s&&null!==(t=s.compDetails)&&void 0!==t&&t.componentFromFramework){const e=s.compDetails.componentClass;return i.createElement(e,d({},s.compDetails.params))}return i.createElement(i.Fragment,null)},_J=(0,i.memo)(e=>{let{cellCtrl:t,printLayout:n,editingCell:o}=e;const r=(0,i.useContext)(LQ),{context:s}=r,{column:{colIdSanitised:a},instanceId:l}=t,u=(0,i.useRef)(),[c,h]=(0,i.useState)(()=>t.isCellRenderer()?void 0:{compDetails:void 0,value:t.getValueToDisplay(),force:!1}),[p,g]=(0,i.useState)(),[m,v]=(0,i.useState)(1),[f,w]=(0,i.useState)(),[C,b]=(0,i.useState)(!1),[y,S]=(0,i.useState)(!1),[x,D]=(0,i.useState)(!1),[E,F]=(0,i.useState)(),k=(0,i.useMemo)(()=>t.isForceWrapper(),[t]),A=(0,i.useMemo)(()=>t.getCellAriaRole(),[t]),R=(0,i.useRef)(null),P=(0,i.useRef)(null),T=(0,i.useRef)(null),_=(0,i.useRef)(),M=(0,i.useRef)(),I=(0,i.useRef)(),L=(0,i.useRef)([]),N=(0,i.useRef)(),[B,O]=(0,i.useState)(0),G=(0,i.useCallback)(e=>{N.current=e,O(e=>e+1)},[]),z=null!=c&&(C||x||y)&&(null==p||!!p.popup),V=k||z,H=(0,i.useCallback)(e=>{if(M.current=e,e){const n=e.isCancelBeforeStart&&e.isCancelBeforeStart();setTimeout(()=>{n?(t.stopEditing(!0),t.focusCell(!0)):(t.cellEditorAttached(),t.enableEditorTooltipFeature(e))})}},[t]),j=(0,i.useRef)();j.current||(j.current=new EG(()=>R.current)),PJ(c,V,N.current,B,_,R);const W=(0,i.useRef)();(0,i.useLayoutEffect)(()=>{var e;const t=W.current,n=c;if(W.current=c,null==t||null==t.compDetails||null==n||null==n.compDetails)return;const i=t.compDetails,o=n.compDetails;if(i.componentClass!=o.componentClass)return;if(null==(null===(e=T.current)||void 0===e?void 0:e.refresh))return;1!=T.current.refresh(o.params)&&v(e=>e+1)},[c]),(0,i.useLayoutEffect)(()=>{if(!(p&&!p.compDetails.componentFromFramework))return;const e=p.compDetails,n=!0===p.popup,i=e.newAgStackInstance();return i.then(e=>{if(!e)return;const t=e.getGui();if(H(e),!n){const n=(k?I:R).current;null===n||void 0===n||n.appendChild(t),e.afterGuiAttached&&e.afterGuiAttached()}F(e)}),()=>{i.then(e=>{var n;const i=e.getGui();t.disableEditorTooltipFeature(),s.destroyBean(e),H(void 0),F(void 0),null===i||void 0===i||null===(n=i.parentElement)||void 0===n||n.removeChild(i)})}},[p]);const U=(0,i.useCallback)(e=>{if(I.current=e,!e)return L.current.forEach(e=>e()),void(L.current=[]);const n=t=>{if(t){const n=t.getGui();e.insertAdjacentElement("afterbegin",n),L.current.push(()=>{s.destroyBean(t),cN(n)})}return t};if(C){n(t.createSelectionCheckbox())}x&&n(t.createDndSource()),y&&n(t.createRowDragComp())},[t,s,x,y,C]),K=(0,i.useCallback)(()=>{var e;const r=!t.isCellSpanning()||P.current,a=R.current;if(u.current=a?s.createBean(new xG):s.destroyBean(u.current),!a||!r||!t)return;const l={toggleCss:(e,t)=>j.current.toggleCss(e,t),setUserStyles:e=>w(e),getFocusableElement:()=>R.current,setIncludeSelection:e=>b(e),setIncludeRowDrag:e=>S(e),setIncludeDndSource:e=>D(e),getCellEditor:()=>M.current||null,getCellRenderer:()=>{var e;return null!==(e=T.current)&&void 0!==e?e:_.current},getParentOfValue:()=>{var e,t;return null!==(e=null!==(t=N.current)&&void 0!==t?t:I.current)&&void 0!==e?e:R.current},setRenderDetails:(e,n,o)=>{var r;const s=()=>{h(t=>(null===t||void 0===t?void 0:t.compDetails)!==e||(null===t||void 0===t?void 0:t.value)!==n||(null===t||void 0===t?void 0:t.force)!==o?{value:n,compDetails:e,force:o}:t)};if(null!==e&&void 0!==e&&null!==(r=e.params)&&void 0!==r&&r.deferRender&&!t.rowNode.group){const{loadingComp:e,onReady:n}=t.getDeferLoadingCellRenderer();if(e)return h({value:void 0,compDetails:e,force:!1}),void n.then(()=>{return e=s,void(jQ?e():i.startTransition(e));var e})}s()},setEditDetails:(e,n,i,o)=>{if(e){let t;e.componentFromFramework&&(o?t=new kJ(e.params,()=>v(e=>e+1)):fJ()),g({compDetails:e,popup:n,popupPosition:i,compProxy:t}),n||h(void 0)}else{t.hasBrowserFocus()&&l.getFocusableElement().focus({preventScroll:!0}),g(e=>{null!==e&&void 0!==e&&e.compProxy&&(M.current=void 0)})}},refreshEditStyles:(e,t)=>{if(!R.current)return;const{current:n}=j;n.toggleCss("ag-cell-value",!V),n.toggleCss("ag-cell-inline-editing",!!e&&!t),n.toggleCss("ag-cell-popup-editing",!!e&&!!t),n.toggleCss("ag-cell-not-inline-editing",!e||!!t)}},c=I.current||void 0;t.setComp(l,a,null!==(e=P.current)&&void 0!==e?e:void 0,c,n,o,u.current)},[]),q=(0,i.useCallback)(e=>{R.current=e,K()},[]),Y=(0,i.useCallback)(e=>{P.current=e,K()},[]),Z=(0,i.useMemo)(()=>{var e;return!!((null===c||void 0===c||null===(e=c.compDetails)||void 0===e?void 0:e.componentFromFramework)&&VQ(c.compDetails.componentClass))},[c]);(0,i.useLayoutEffect)(()=>{if(!R.current)return;const{current:e}=j;e.toggleCss("ag-cell-value",!V),e.toggleCss("ag-cell-inline-editing",!!p&&!p.popup),e.toggleCss("ag-cell-popup-editing",!!p&&!!p.popup),e.toggleCss("ag-cell-not-inline-editing",!p||!!p.popup)});const $=()=>{const{compDetails:e,value:n}=c;var o,r;if(!e)return null!==(o=null===n||void 0===n||null===(r=n.toString)||void 0===r?void 0:r.call(n))&&void 0!==o?o:n;if(e.componentFromFramework){const n=e.componentClass;return i.createElement(i.Suspense,{fallback:i.createElement(TJ,{cellCtrl:t,parent:R})},Z?i.createElement(n,d(d({},e.params),{},{key:m})):i.createElement(n,d(d({},e.params),{},{key:m,ref:T})))}},X=()=>{const e=()=>null==c?null:V?i.createElement("span",{role:"presentation",id:"cell-".concat(l),className:"ag-cell-value",ref:G},$()):$(),n=e=>((e,t,n,o,r)=>{const s=e.compDetails,a=s.componentClass,l=s.componentFromFramework&&!e.popup,u=s.componentFromFramework&&e.popup,c=!s.componentFromFramework&&e.popup;return l?RJ(e,a,t):u?i.createElement(AJ,{editDetails:e,cellCtrl:o,eParentCell:n,wrappedContent:RJ(e,a,t)}):c&&r?i.createElement(AJ,{editDetails:e,cellCtrl:o,eParentCell:n,jsChildComp:r}):null})(e,H,R.current,t,E);return null!=p?p.popup?i.createElement(i.Fragment,null,e(),n(p)):n(p):e()},Q=()=>i.createElement("div",{ref:q,style:f,role:A,"col-id":a},V?i.createElement("div",{className:"ag-cell-wrapper",role:"presentation",ref:U},X()):X());return t.isCellSpanning()?i.createElement("div",{ref:Y,className:"ag-spanned-cell-wrapper",role:"presentation"},Q()):Q()}),MJ=(0,i.memo)(e=>{let{rowCtrl:t,containerType:n}=e;const{context:o,gos:r,editSvc:s}=(0,i.useContext)(LQ),a="default"===(0,i.useContext)(NQ),l=(0,i.useRef)(),u=(0,i.useRef)(t.getDomOrder()),c=t.isFullWidth(),h=t.rowNode.displayed,[p,g]=(0,i.useState)(()=>h?t.rowNode.getRowIndexString():null),[m,v]=(0,i.useState)(()=>t.rowId),[f,w]=(0,i.useState)(()=>t.businessKey),[C,b]=(0,i.useState)(()=>t.rowStyles),y=(0,i.useRef)(null),[S,x]=(0,i.useState)(()=>null),[D,E]=(0,i.useState)(),[F,k]=(0,i.useState)(()=>h?t.getInitialRowTop(n):void 0),[A,R]=(0,i.useState)(()=>h?t.getInitialTransform(n):void 0),P=(0,i.useRef)(null),T=(0,i.useRef)(),_=(0,i.useRef)(!1),[M,I]=(0,i.useState)(0);(0,i.useEffect)(()=>{var e;if(_.current||!D||M>10)return;const n=null===(e=P.current)||void 0===e?void 0:e.firstChild;n?(t.setupDetailRowAutoHeight(n),_.current=!0):I(e=>e+1)},[D,M]);const L=(0,i.useRef)();L.current||(L.current=new EG(()=>P.current));const N=(0,i.useRef)(()=>{}),B=(0,i.useCallback)(e=>(N.current=e,()=>{N.current=()=>{}}),[]),O=(G=B,z=()=>y.current,V=[],i.useSyncExternalStore?i.useSyncExternalStore(G,z):V);var G,z,V;const H=a?O:S,j=(0,i.useCallback)(e=>{if(P.current=e,l.current=e?o.createBean(new xG):o.destroyBean(l.current),!e)return void t.unsetComp(n);if(!t.isAlive())return;const i={setTop:k,setTransform:R,toggleCss:(e,t)=>L.current.toggleCss(e,t),setDomOrder:e=>u.current=e,setRowIndex:g,setRowId:v,setRowBusinessKey:w,setUserStyles:b,setCellCtrls:(e,t)=>{const n=y.current,i=KQ(n,e,u.current);i!==n&&(y.current=i,a?N.current():UQ(t,()=>x(i)))},showFullWidth:e=>E(e),getFullWidthCellRenderer:()=>T.current,refreshFullWidth:e=>Y.current?(E(t=>d(d({},t),{},{params:e()})),!0):!(!T.current||!T.current.refresh)&&T.current.refresh(e())};t.setComp(i,e,n,l.current)},[]);(0,i.useLayoutEffect)(()=>BQ(D,o,P.current,T),[D]);const W=(0,i.useMemo)(()=>{const e={top:F,transform:A};return Object.assign(e,C),e},[F,A,C]),U=c&&(null===D||void 0===D?void 0:D.componentFromFramework),K=!c&&null!=H,q=(0,i.useMemo)(()=>!!((null===D||void 0===D?void 0:D.componentFromFramework)&&VQ(D.componentClass)),[D]),Y=(0,i.useRef)(!1);(0,i.useEffect)(()=>{Y.current=q&&!!D&&!!r.get("reactiveCustomComponents")},[q,D]);return i.createElement("div",{ref:j,role:"row",style:W,"row-index":p,"row-id":m,"row-business-key":f},K?null===H||void 0===H?void 0:H.map(e=>{var n;return i.createElement(_J,{cellCtrl:e,editingCell:null!==(n=null===s||void 0===s?void 0:s.isEditing(e,{withOpenEditor:!0}))&&void 0!==n&&n,printLayout:t.printLayout,key:e.instanceId})}):U?(()=>{const e=D.componentClass;return q?i.createElement(e,d({},D.params)):i.createElement(e,d(d({},D.params),{},{ref:T}))})():null)}),IJ=(0,i.memo)(e=>{let{name:t}=e;const{context:n,gos:o}=(0,i.useContext)(LQ),r=(0,i.useMemo)(()=>gj(t),[t]),s=(0,i.useRef)(null),a=(0,i.useRef)(null),l=(0,i.useRef)(null),u=(0,i.useRef)([]),c=(0,i.useRef)([]),[d,h]=(0,i.useState)(()=>[]),p=!!o.get("enableCellSpan")&&!!r.getSpannedRowCtrls,g=(0,i.useRef)([]),m=(0,i.useRef)([]),[v,f]=(0,i.useState)(()=>[]),w=(0,i.useRef)(!1),C=(0,i.useRef)(),b=(0,i.useMemo)(()=>GQ("ag-viewport",dj(t)),[t]),y=(0,i.useMemo)(()=>GQ(hj(t)),[t]),S=(0,i.useMemo)(()=>GQ("ag-spanning-container",pj(t)),[t]),x="center"===r.type||p;FJ(" AG Row Container "+t+" ",x?s:a);const D=(0,i.useCallback)(()=>{const e=!x||null!=s.current,t=null!=a.current,n=!p||null!=l.current;return e&&t&&n},[]),E=(0,i.useCallback)(()=>null==s.current&&null==a.current&&null==l.current,[]),F=(0,i.useCallback)(()=>{if(E()&&(C.current=n.destroyBean(C.current)),D()){var e;const i=e=>{const t=KQ(c.current,u.current,w.current);t!==c.current&&(c.current=t,UQ(e,()=>h(t)))},o=e=>{const t=KQ(m.current,g.current,w.current);t!==m.current&&(m.current=t,UQ(e,()=>f(t)))},r={setHorizontalScroll:e=>{s.current&&(s.current.scrollLeft=e)},setViewportHeight:e=>{s.current&&(s.current.style.height=e)},setRowCtrls:e=>{let{rowCtrls:t,useFlushSync:n}=e;const o=!!n&&u.current.length>0&&t.length>0;u.current=t,i(o)},setSpannedRowCtrls:(e,t)=>{const n=!!t&&g.current.length>0&&e.length>0;g.current=e,o(n)},setDomOrder:e=>{w.current!=e&&(w.current=e,i(!1))},setContainerWidth:e=>{a.current&&(a.current.style.width=e)},setOffsetTop:e=>{a.current&&(a.current.style.transform="translateY(".concat(e,")"))}};C.current=n.createBean(new xj(t)),C.current.setComp(r,a.current,null!==(e=l.current)&&void 0!==e?e:void 0,s.current)}},[D,E]),k=(0,i.useCallback)(e=>{a.current=e,F()},[F]),A=(0,i.useCallback)(e=>{l.current=e,F()},[F]),R=(0,i.useCallback)(e=>{s.current=e,F()},[F]),P=()=>i.createElement("div",{className:y,ref:k,role:"rowgroup"},d.map(e=>i.createElement(MJ,{rowCtrl:e,containerType:r.type,key:e.instanceId})));if(!x)return P();return i.createElement("div",{className:b,ref:R,role:"presentation"},P(),p?i.createElement("div",{className:S,ref:A,role:"rowgroup"},v.map(e=>i.createElement(MJ,{rowCtrl:e,containerType:r.type,key:e.instanceId}))):null)}),LJ=(0,i.memo)(()=>{const e=(0,i.useContext)(LQ),{context:t,overlays:n}=e,[o,r]=(0,i.useState)(""),[s,a]=(0,i.useState)(0),[l,u]=(0,i.useState)(0),[c,d]=(0,i.useState)("0px"),[h,p]=(0,i.useState)("0px"),[g,m]=(0,i.useState)("100%"),[v,f]=(0,i.useState)("0px"),[w,C]=(0,i.useState)("0px"),[b,y]=(0,i.useState)("100%"),[S,x]=(0,i.useState)(!0),[D,E]=(0,i.useState)(!0),[F,k]=(0,i.useState)(null),[A,R]=(0,i.useState)(""),[P,T]=(0,i.useState)(null),[_,M]=(0,i.useState)("ag-layout-normal"),I=(0,i.useRef)();I.current||(I.current=new EG(()=>L.current));const L=(0,i.useRef)(null),N=(0,i.useRef)(null),B=(0,i.useRef)(null),O=(0,i.useRef)(null),G=(0,i.useRef)(null),z=(0,i.useRef)(null),V=(0,i.useRef)(null),H=(0,i.useRef)([]),j=(0,i.useRef)([]);FJ(" AG Grid Body ",L),FJ(" AG Pinned Top ",N),FJ(" AG Sticky Top ",B),FJ(" AG Middle ",z),FJ(" AG Pinned Bottom ",V);const W=(0,i.useCallback)(i=>{if(L.current=i,!i)return H.current=t.destroyBeans(H.current),j.current.forEach(e=>e()),void(j.current=[]);if(!t)return;const o=(e,t)=>{e.appendChild(t),j.current.push(()=>e.removeChild(t))},s=(e,n,i)=>{o(e,document.createComment(i)),o(e,(e=>{const n=t.createBean(new e);return H.current.push(n),n})(n).getGui())};s(i,Aj," AG Fake Horizontal Scroll ");const l=null===n||void 0===n?void 0:n.getOverlayWrapperCompClass();l&&s(i,l," AG Overlay Wrapper "),G.current&&s(G.current,Tj," AG Fake Vertical Scroll ");const c={setRowAnimationCssOnBodyViewport:r,setColumnCount:e=>{L.current&&PL(L.current,e)},setRowCount:e=>{L.current&&AL(L.current,e)},setTopHeight:a,setBottomHeight:u,setStickyTopHeight:d,setStickyTopTop:p,setStickyTopWidth:m,setTopInvisible:x,setBottomInvisible:E,setColumnMovingCss:(e,t)=>I.current.toggleCss(e,t),updateLayoutClasses:M,setAlwaysVerticalScrollClass:k,setPinnedTopBottomOverflowY:R,setCellSelectableCss:(e,t)=>T(t?e:null),setBodyViewportWidth:e=>{z.current&&(z.current.style.width=e)},registerBodyViewportResizeListener:t=>{if(z.current){const n=kN(e,z.current,t);j.current.push(()=>n())}},setStickyBottomHeight:f,setStickyBottomBottom:C,setStickyBottomWidth:y,setGridRootRole:e=>i.setAttribute("role",e)},h=t.createBean(new Ej);H.current.push(h),h.setComp(c,i,z.current,N.current,V.current,B.current,O.current)},[]),U=(0,i.useMemo)(()=>GQ("ag-root","ag-unselectable",_),[_]),K=(0,i.useMemo)(()=>GQ("ag-body-viewport",o,_,F,P),[o,_,F,P]),q=(0,i.useMemo)(()=>GQ("ag-body",_),[_]),Y=(0,i.useMemo)(()=>GQ("ag-floating-top",S?"ag-invisible":null,P),[P,S]),Z=(0,i.useMemo)(()=>GQ("ag-sticky-top",P),[P]),$=(0,i.useMemo)(()=>GQ("ag-sticky-bottom","0px"===v?"ag-invisible":null,P),[P,v]),X=(0,i.useMemo)(()=>GQ("ag-floating-bottom",D?"ag-invisible":null,P),[P,D]),Q=(0,i.useMemo)(()=>({height:s,minHeight:s,overflowY:A}),[s,A]),J=(0,i.useMemo)(()=>({height:c,top:h,width:g}),[c,h,g]),ee=(0,i.useMemo)(()=>({height:v,bottom:w,width:b}),[v,w,b]),te=(0,i.useMemo)(()=>({height:l,minHeight:l,overflowY:A}),[l,A]),ne=e=>i.createElement(IJ,{name:e,key:"".concat(e,"-container")}),ie=e=>{let{section:t,children:n,className:o,style:r}=e;return i.createElement("div",{ref:t,className:o,role:"presentation",style:r},n.map(ne))};return i.createElement("div",{ref:W,className:U},i.createElement(EJ,null),ie({section:N,className:Y,style:Q,children:["topLeft","topCenter","topRight","topFullWidth"]}),i.createElement("div",{className:q,ref:G,role:"presentation"},ie({section:z,className:K,children:["left","center","right","fullWidth"]})),ie({section:B,className:Z,style:J,children:["stickyTopLeft","stickyTopCenter","stickyTopRight","stickyTopFullWidth"]}),ie({section:O,className:$,style:ee,children:["stickyBottomLeft","stickyBottomCenter","stickyBottomRight","stickyBottomFullWidth"]}),ie({section:V,className:X,style:te,children:["bottomLeft","bottomCenter","bottomRight","bottomFullWidth"]}))}),NJ=(0,i.forwardRef)((e,t)=>{const{children:n,eFocusableElement:o,onTabKeyDown:r,gridCtrl:s,forceFocusOutWhenTabGuardsAreEmpty:a,isEmpty:l}=e,{context:u}=(0,i.useContext)(LQ),c=(0,i.useRef)(null),d=(0,i.useRef)(null),h=(0,i.useRef)(),p=e=>{const t=null==e?void 0:parseInt(e,10).toString();[c,d].forEach(e=>{var n,i;void 0===t?null===(n=e.current)||void 0===n||n.removeAttribute("tabindex"):null===(i=e.current)||void 0===i||i.setAttribute("tabindex",t)})};(0,i.useImperativeHandle)(t,()=>({forceFocusOutOfContainer(e){var t;null===(t=h.current)||void 0===t||t.forceFocusOutOfContainer(e)}}));const g=(0,i.useCallback)(()=>{const e=c.current,t=d.current;if(e||t){if(e&&t){const n={setTabIndex:p};h.current=u.createBean(new aU({comp:n,eTopGuard:e,eBottomGuard:t,eFocusableElement:o,onTabKeyDown:r,forceFocusOutWhenTabGuardsAreEmpty:a,focusInnerElement:e=>s.focusInnerElement(e),isEmpty:l}))}}else h.current=u.destroyBean(h.current)},[]),m=(0,i.useCallback)(e=>{c.current=e,g()},[g]),v=(0,i.useCallback)(e=>{d.current=e,g()},[g]),f=e=>{const t="top"===e?rU:sU;return i.createElement("div",{className:"".concat(oU," ").concat(t),role:"presentation",ref:"top"===e?m:v})};return i.createElement(i.Fragment,null,f("top"),n,f("bottom"))}),BJ=(0,i.memo)(NJ),OJ=(0,i.memo)(e=>{let{context:t}=e;const[n,o]=(0,i.useState)(""),[r,s]=(0,i.useState)(""),[a,l]=(0,i.useState)(null),[u,c]=(0,i.useState)(null),[d,h]=(0,i.useState)(!1),[p,g]=(0,i.useState)(),m=(0,i.useRef)(),v=(0,i.useRef)(null),f=(0,i.useRef)(),[w,C]=(0,i.useState)(null),b=(0,i.useRef)(()=>{}),y=(0,i.useRef)(),S=(0,i.useRef)([]),x=(0,i.useCallback)(()=>{},[]),D=(0,i.useMemo)(()=>t.isDestroyed()?null:t.getBeans(),[t]);FJ(" AG Grid ",v);const E=(0,i.useCallback)(e=>{if(v.current=e,m.current=e?t.createBean(new RU):t.destroyBean(m.current),!e||t.isDestroyed())return;const n=m.current;b.current=n.focusInnerElement.bind(n);const i={destroyGridUi:()=>{},setRtlClass:o,forceFocusOutOfContainer:e=>{var t,n;e||null===(t=y.current)||void 0===t||!t.isDisplayed()?null===(n=f.current)||void 0===n||n.forceFocusOutOfContainer(e):y.current.forceFocusOutOfContainer(e)},updateLayoutClasses:s,getFocusableContainers:()=>{var e;const t=[],n=null===(e=v.current)||void 0===e?void 0:e.querySelector(".ag-root");return n&&t.push({getGui:()=>n}),S.current.forEach(e=>{e.isDisplayed()&&t.push(e)}),t},setCursor:l,setUserSelect:c};n.setComp(i,e,e),h(!0)},[]);(0,i.useEffect)(()=>{const e=m.current,n=v.current;if(!p||!D||!e||!w||!n||t.isDestroyed())return;const i=[],{watermarkSelector:o,paginationSelector:r,sideBarSelector:s,statusBarSelector:a,gridHeaderDropZonesSelector:l}=e.getOptionalSelectors(),u=[];if(l){const e=t.createBean(new l.component),o=e.getGui();n.insertAdjacentElement("afterbegin",o),u.push(o),i.push(e)}if(s){const e=t.createBean(new s.component),n=e.getGui(),o=w.querySelector(".ag-tab-guard-bottom");o&&(o.insertAdjacentElement("beforebegin",n),u.push(n)),i.push(e),S.current.push(e)}const c=e=>{const o=t.createBean(new e),r=o.getGui();return n.insertAdjacentElement("beforeend",r),u.push(r),i.push(o),o};if(a&&c(a.component),r){const e=c(r.component);y.current=e,S.current.push(e)}return o&&c(o.component),()=>{t.destroyBeans(i),u.forEach(e=>{var t;null===(t=e.parentElement)||void 0===t||t.removeChild(e)})}},[p,w,D]);const F=(0,i.useMemo)(()=>GQ("ag-root-wrapper",n,r),[n,r]),k=(0,i.useMemo)(()=>GQ("ag-root-wrapper-body","ag-focus-managed",r),[r]),A=(0,i.useMemo)(()=>({userSelect:null!=u?u:"",WebkitUserSelect:null!=u?u:"",cursor:null!=a?a:""}),[u,a]),R=(0,i.useCallback)(e=>{f.current=e,g(null!==e)},[]),P=(0,i.useCallback)(()=>{var e;return!(null!==(e=m.current)&&void 0!==e&&e.isFocusable())},[]);return i.createElement("div",{ref:E,className:F,style:A,role:"presentation"},i.createElement("div",{className:k,ref:C,role:"presentation"},d&&w&&D&&i.createElement(LQ.Provider,{value:D},i.createElement(BJ,{ref:R,eFocusableElement:w,onTabKeyDown:x,gridCtrl:m.current,forceFocusOutWhenTabGuardsAreEmpty:!0,isEmpty:P},i.createElement(LJ,null)))))}),GJ=class extends vO{wireBeans(e){this.ctrlsSvc=e.ctrlsSvc}areHeaderCellsRendered(){return this.ctrlsSvc.getHeaderRowContainerCtrls().every(e=>e.getAllCtrls().every(e=>e.areCellsRendered()))}},zJ={setGridApi:void 0,maxComponentCreationTimeMs:void 0,children:void 0},VJ=d({gridOptions:void 0,modules:void 0,containerStyle:void 0,className:void 0,passGridApi:void 0,componentWrappingElement:void 0},zJ),HJ=new Set(Object.keys(VJ)),jJ=new Set(Object.keys(zJ)),WJ=e=>{var t,n;const o=(0,i.useRef)(),r=(0,i.useRef)(null),s=(0,i.useRef)(null),a=(0,i.useRef)([]),l=(0,i.useRef)([]),u=(0,i.useRef)(e),c=(0,i.useRef)(),h=(0,i.useRef)(),p=(0,i.useRef)(!1),[g,m]=(0,i.useState)(void 0),[,v]=(0,i.useState)(0),f=(0,i.useCallback)(t=>{var n;if(r.current=t,!t)return a.current.forEach(e=>e()),void(a.current.length=0);const i=e.modules||[];s.current||(s.current=new wJ(()=>v(e=>e+1),e.componentWrappingElement,e.maxComponentCreationTimeMs),a.current.push(()=>{var e;null===(e=s.current)||void 0===e||e.destroy(),s.current=null}));const u=function(e,t,n){"object"!==typeof e&&(e={});const i=d({},e);return n.forEach(e=>{const n=t[e];"undefined"!==typeof n&&(i[e]=n)}),i}(e.gridOptions,e,Object.keys(e).filter(e=>!HJ.has(e))),g=new qJ(()=>{if(p.current){const e=()=>{var e;return null!==(e=c.current)&&void 0!==e&&e.shouldQueueUpdates()?void 0:l.current.shift()};let t=e();for(;t;)t(),t=e()}});c.current=g;const f=new GJ,w={providedBeanInstances:{frameworkCompWrapper:new UJ(s.current,u),renderStatus:f},modules:i,frameworkOverrides:g,setThemeOnGridDiv:!0},C=new fZ;null!==(n=u.gridId)&&void 0!==n||(u.gridId=h.current),o.current=C.create(t,u,t=>{m(t),t.createBean(f),a.current.push(()=>{t.destroy()}),t.getBean("ctrlsSvc").whenReady({addDestroyFunc:e=>{a.current.push(e)}},()=>{if(t.isDestroyed())return;const n=o.current;var i;n&&(null===(i=e.passGridApi)||void 0===i||i.call(e,n))})},e=>{e.getBean("ctrlsSvc").whenReady({addDestroyFunc:e=>{a.current.push(e)}},()=>{l.current.forEach(e=>e()),l.current.length=0,p.current=!0})},w),a.current.push(()=>{o.current=void 0}),o.current&&(h.current=o.current.getGridId())},[]),w=(0,i.useMemo)(()=>d({height:"100%"},e.containerStyle||{}),[e.containerStyle]),C=(0,i.useCallback)(e=>{var t;!p.current||null!==(t=c.current)&&void 0!==t&&t.shouldQueueUpdates()?l.current.push(e):e()},[]);(0,i.useEffect)(()=>{const t=function(e,t){const n={};return Object.keys(t).forEach(i=>{if(HJ.has(i))return void(jJ.has(i)&&iB(274,{prop:i}));const o=t[i];e[i]!==o&&(n[i]=o)}),n}(u.current,e);u.current=e,C(()=>{o.current&&function(e,t){if(!e)return;const n={};let i=!1;if(Object.keys(e).forEach(t=>{n[t]=e[t],i=!0}),!i)return;const o={type:"gridOptionsChanged",options:n};t.dispatchEvent(o);const r=d({type:"componentStateChanged"},n);t.dispatchEvent(r)}(t,o.current)})},[e]);const b=i.useSyncExternalStore&&"legacy"!==rO(e,"renderingMode")?"default":"legacy";return i.createElement("div",{style:w,className:e.className,ref:f},i.createElement(NQ.Provider,{value:b},g&&!g.isDestroyed()?i.createElement(OJ,{context:g}):null,null!==(t=null===(n=s.current)||void 0===n?void 0:n.getPortals())&&void 0!==t?t:null))};var UJ=class extends DZ{constructor(e,t){super(),this.parent=e,this.gridOptions=t}createWrapper(e,t){const n=this.gridOptions;if(rO(n,"reactiveCustomComponents")){const i=(e=>{switch(e){case"filter":return rO(n,"enableFilterHandlers")?sJ:rJ;case"floatingFilterComponent":return rO(n,"enableFilterHandlers")?cJ:uJ;case"dateComponent":return iJ;case"dragAndDropImageComponent":return oJ;case"loadingOverlayComponent":return hJ;case"noRowsOverlayComponent":return gJ;case"statusPanel":return mJ;case"toolPanel":return vJ;case"menuItem":return pJ;case"cellRenderer":return nJ;case"innerHeaderComponent":return dJ}})(t.name);if(i)return new i(e,this.parent,t)}else switch(t.name){case"filter":case"floatingFilterComponent":case"dateComponent":case"dragAndDropImageComponent":case"loadingOverlayComponent":case"noRowsOverlayComponent":case"statusPanel":case"toolPanel":case"menuItem":case"cellRenderer":fJ()}const i=!t.cellRenderer&&"toolPanel"!==t.name;return new JQ(e,this.parent,t,i)}},KJ=(0,i.forwardRef)((e,t)=>{const n=(0,i.useContext)(LQ),{registry:o,context:r,gos:s,rowModel:a}=n,[l,u]=(0,i.useState)(()=>new zQ),[c,h]=(0,i.useState)(()=>new zQ),[p,g]=(0,i.useState)(),[m,v]=(0,i.useState)(),f=(0,i.useRef)(),w=(0,i.useRef)(null),C=(0,i.useRef)(),b=(0,i.useMemo)(()=>{var t;return Cz(e.api.getGridId(),null!==(t=null===p||void 0===p?void 0:p.rowModelType)&&void 0!==t?t:"clientSide")},[e]),y=(0,i.useMemo)(()=>l.toString()+" ag-details-row",[l]),S=(0,i.useMemo)(()=>c.toString()+" ag-details-grid",[c]);t&&(0,i.useImperativeHandle)(t,()=>({refresh(){var e,t;return null!==(e=null===(t=f.current)||void 0===t?void 0:t.refresh())&&void 0!==e&&e}})),e.template&&iB(230);const x=(0,i.useCallback)(t=>{var i;if(w.current=t,!t)return f.current=r.destroyBean(f.current),void(null===(i=C.current)||void 0===i||i.call(C));const l={toggleCss:(e,t)=>u(n=>n.setClass(e,t)),toggleDetailGridCss:(e,t)=>h(n=>n.setClass(e,t)),setDetailGrid:e=>g(e),setRowData:e=>v(e),getGui:()=>w.current},c=o.createDynamicBean("detailCellRendererCtrl",!0);if(c&&(r.createBean(c),c.init(l,e),f.current=c,s.get("detailRowAutoHeight"))){const i=()=>{if(null==w.current)return;const t=w.current.clientHeight;if(null!=t&&t>0){setTimeout(()=>{e.node.setRowHeight(t),(uB(s)||cB(s))&&a.onRowHeightChanged()},0)}};C.current=kN(n,t,i),i()}},[]),D=(0,i.useCallback)(e=>{var t;null===(t=f.current)||void 0===t||t.registerDetailWithMaster(e)},[]);return i.createElement("div",{className:y,ref:x},p&&i.createElement(WJ,d(d({className:S},p),{},{modules:b,rowData:m,passGridApi:D})))}),qJ=class extends pU{constructor(e){super("react"),this.processQueuedUpdates=e,this.queueUpdates=!1,this.renderingEngine="react",this.frameworkComponents={agGroupCellRenderer:YQ,agGroupRowRenderer:YQ,agDetailCellRenderer:KJ},this.wrapIncoming=(e,t)=>{return"ensureVisible"===t?(n=e,WQ||setTimeout(()=>WQ=!1,0),WQ=!0,n()):e();var n}}frameworkComponent(e){return this.frameworkComponents[e]}isFrameworkComponent(e){if(!e)return!1;const t=e.prototype;return!(t&&"getGui"in t)}getLockOnRefresh(){this.queueUpdates=!0}releaseLockOnRefresh(){this.queueUpdates=!1,this.processQueuedUpdates()}shouldQueueUpdates(){return this.queueUpdates}runWhenReadyAsync(){return"19"===HQ}},YJ=class extends i.Component{constructor(){super(...arguments),this.apiListeners=[],this.setGridApi=e=>{this.api=e,this.apiListeners.forEach(t=>t(e))}}registerApiListener(e){this.apiListeners.push(e)}componentWillUnmount(){this.apiListeners.length=0}render(){return i.createElement(WJ,d(d({},this.props),{},{passGridApi:this.setGridApi}))}};const ZJ=["nodes"],$J=["xAxis","yAxis"],XJ=["chartType","chartPalette","chartOptions"],QJ=["dimOpacity"],JJ=["item","series"],e0=["axes","series","seriesDefaults"],t0=["chartType","chartOptions"],n0=["type"],i0=["tracking"],o0=["dimOpacity"];var r0=class{constructor(){this.ieCompatibility=!1}init(){this.ieCompatibility="5d41402abc4b2a76b9719d911017c592"!=this.md5("hello")}md5cycle(e,t){let n=e[0],i=e[1],o=e[2],r=e[3];n=this.ff(n,i,o,r,t[0],7,-680876936),r=this.ff(r,n,i,o,t[1],12,-389564586),o=this.ff(o,r,n,i,t[2],17,606105819),i=this.ff(i,o,r,n,t[3],22,-1044525330),n=this.ff(n,i,o,r,t[4],7,-176418897),r=this.ff(r,n,i,o,t[5],12,1200080426),o=this.ff(o,r,n,i,t[6],17,-1473231341),i=this.ff(i,o,r,n,t[7],22,-45705983),n=this.ff(n,i,o,r,t[8],7,1770035416),r=this.ff(r,n,i,o,t[9],12,-1958414417),o=this.ff(o,r,n,i,t[10],17,-42063),i=this.ff(i,o,r,n,t[11],22,-1990404162),n=this.ff(n,i,o,r,t[12],7,1804603682),r=this.ff(r,n,i,o,t[13],12,-40341101),o=this.ff(o,r,n,i,t[14],17,-1502002290),i=this.ff(i,o,r,n,t[15],22,1236535329),n=this.gg(n,i,o,r,t[1],5,-165796510),r=this.gg(r,n,i,o,t[6],9,-1069501632),o=this.gg(o,r,n,i,t[11],14,643717713),i=this.gg(i,o,r,n,t[0],20,-373897302),n=this.gg(n,i,o,r,t[5],5,-701558691),r=this.gg(r,n,i,o,t[10],9,38016083),o=this.gg(o,r,n,i,t[15],14,-660478335),i=this.gg(i,o,r,n,t[4],20,-405537848),n=this.gg(n,i,o,r,t[9],5,568446438),r=this.gg(r,n,i,o,t[14],9,-1019803690),o=this.gg(o,r,n,i,t[3],14,-187363961),i=this.gg(i,o,r,n,t[8],20,1163531501),n=this.gg(n,i,o,r,t[13],5,-1444681467),r=this.gg(r,n,i,o,t[2],9,-51403784),o=this.gg(o,r,n,i,t[7],14,1735328473),i=this.gg(i,o,r,n,t[12],20,-1926607734),n=this.hh(n,i,o,r,t[5],4,-378558),r=this.hh(r,n,i,o,t[8],11,-2022574463),o=this.hh(o,r,n,i,t[11],16,1839030562),i=this.hh(i,o,r,n,t[14],23,-35309556),n=this.hh(n,i,o,r,t[1],4,-1530992060),r=this.hh(r,n,i,o,t[4],11,1272893353),o=this.hh(o,r,n,i,t[7],16,-155497632),i=this.hh(i,o,r,n,t[10],23,-1094730640),n=this.hh(n,i,o,r,t[13],4,681279174),r=this.hh(r,n,i,o,t[0],11,-358537222),o=this.hh(o,r,n,i,t[3],16,-722521979),i=this.hh(i,o,r,n,t[6],23,76029189),n=this.hh(n,i,o,r,t[9],4,-640364487),r=this.hh(r,n,i,o,t[12],11,-421815835),o=this.hh(o,r,n,i,t[15],16,530742520),i=this.hh(i,o,r,n,t[2],23,-995338651),n=this.ii(n,i,o,r,t[0],6,-198630844),r=this.ii(r,n,i,o,t[7],10,1126891415),o=this.ii(o,r,n,i,t[14],15,-1416354905),i=this.ii(i,o,r,n,t[5],21,-57434055),n=this.ii(n,i,o,r,t[12],6,1700485571),r=this.ii(r,n,i,o,t[3],10,-1894986606),o=this.ii(o,r,n,i,t[10],15,-1051523),i=this.ii(i,o,r,n,t[1],21,-2054922799),n=this.ii(n,i,o,r,t[8],6,1873313359),r=this.ii(r,n,i,o,t[15],10,-30611744),o=this.ii(o,r,n,i,t[6],15,-1560198380),i=this.ii(i,o,r,n,t[13],21,1309151649),n=this.ii(n,i,o,r,t[4],6,-145523070),r=this.ii(r,n,i,o,t[11],10,-1120210379),o=this.ii(o,r,n,i,t[2],15,718787259),i=this.ii(i,o,r,n,t[9],21,-343485551),e[0]=this.add32(n,e[0]),e[1]=this.add32(i,e[1]),e[2]=this.add32(o,e[2]),e[3]=this.add32(r,e[3])}cmn(e,t,n,i,o,r){return t=this.add32(this.add32(t,e),this.add32(i,r)),this.add32(t<<o|t>>>32-o,n)}ff(e,t,n,i,o,r,s){return this.cmn(t&n|~t&i,e,t,o,r,s)}gg(e,t,n,i,o,r,s){return this.cmn(t&i|n&~i,e,t,o,r,s)}hh(e,t,n,i,o,r,s){return this.cmn(t^n^i,e,t,o,r,s)}ii(e,t,n,i,o,r,s){return this.cmn(n^(t|~i),e,t,o,r,s)}md51(e){const t=e.length,n=[1732584193,-271733879,-1732584194,271733878];let i;for(i=64;i<=e.length;i+=64)this.md5cycle(n,this.md5blk(e.substring(i-64,i)));e=e.substring(i-64);const o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(i=0;i<e.length;i++)o[i>>2]|=e.charCodeAt(i)<<(i%4<<3);if(o[i>>2]|=128<<(i%4<<3),i>55)for(this.md5cycle(n,o),i=0;i<16;i++)o[i]=0;return o[14]=8*t,this.md5cycle(n,o),n}md5blk(e){const t=[];for(let n=0;n<64;n+=4)t[n>>2]=e.charCodeAt(n)+(e.charCodeAt(n+1)<<8)+(e.charCodeAt(n+2)<<16)+(e.charCodeAt(n+3)<<24);return t}rhex(e){const t="0123456789abcdef".split("");let n="",i=0;for(;i<4;i++)n+=t[e>>8*i+4&15]+t[e>>8*i&15];return n}hex(e){for(let t=0;t<e.length;t++)e[t]=this.rhex(e[t]);return e.join("")}md5(e){return this.hex(this.md51(e))}add32(e,t){return this.ieCompatibility?this.add32Compat(e,t):this.add32Std(e,t)}add32Std(e,t){return e+t&4294967295}add32Compat(e,t){const n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}},s0={"01":"GRID","02":"CHARTS","0102":"BOTH"},a0="https://www.ag-grid.com/licensing/",l0=class e{constructor(e){this.watermarkMessage=void 0,this.totalMessageLength=124,this.document=e,this.md5=new r0,this.md5.init()}validateLicense(){const t=this.getLicenseDetails(e.licenseKey),n="AG Grid ".concat("BOTH"===t.currentLicenseType?"and AG Charts ":"","Enterprise"),i=void 0===t.suppliedLicenseType?"":"AG ".concat("BOTH"===t.suppliedLicenseType?"Grid and AG Charts":"GRID"===t.suppliedLicenseType?"Grid":"Charts"," Enterprise");if(t.missing)this.isWebsiteUrl()&&!this.isForceWatermark()||this.outputMissingLicenseKey(n);else if(t.expired){const o=e.getGridReleaseDate(),r=e.formatDate(o);this.outputExpiredKey(t.expiry,r,n,i)}else t.valid?t.isTrial&&t.trialExpired&&this.outputExpiredTrialKey(t.expiry,n,i):this.outputInvalidLicenseKey(!!t.incorrectLicenseType,n,i)}static extractExpiry(t){const n=t.substring(t.lastIndexOf("_")+1,t.length);return new Date(parseInt(e.decode(n),10))}static extractLicenseComponents(t){let n=t.replace(/[\u200B-\u200D\uFEFF]/g,"");if(n=n.replace(/\r?\n|\r/g,""),t.length<=32)return{md5:null,license:t,version:null,isTrial:null};const i=n.length-32,o=n.substring(i),r=n.substring(0,i),[s,a,l]=e.extractBracketedInformation(n);return{md5:o,license:r,version:s,isTrial:a,type:l}}getLicenseDetails(t){const n=e.chartsLicenseManager?"BOTH":"GRID";if(null===t||void 0===t||!t.length)return{licenseKey:t,valid:!1,missing:!0,currentLicenseType:n};const i=e.getGridReleaseDate(),{md5:o,license:r,version:s,isTrial:a,type:l}=e.extractLicenseComponents(t);let u,c,d,h=o===this.md5.md5(r)&&-1===t.indexOf("For_Trialing_ag-Grid_Only"),p=null,g=!1;function m(){u=p<new Date,c=void 0}if(h&&(p=e.extractExpiry(r),h=!isNaN(p.getTime()),h))switch(c=i>p,s){case"legacy":case"2":a&&m();break;case"3":null!==l&&void 0!==l&&l.length?(d=l,l!==s0["01"]&&l!==s0["0102"]||"BOTH"===n&&"BOTH"!==d?(h=!1,g=!0):a&&m()):h=!1}return h?{licenseKey:t,valid:h,expiry:e.formatDate(p),expired:c,version:s,isTrial:a,trialExpired:u,incorrectLicenseType:g,currentLicenseType:n,suppliedLicenseType:d}:{licenseKey:t,valid:h,incorrectLicenseType:g,currentLicenseType:n,suppliedLicenseType:d}}isDisplayWatermark(){var e;return this.isForceWatermark()||!this.isLocalhost()&&!this.isWebsiteUrl()&&!(null===(e=this.watermarkMessage)||void 0===e||!e.length)}getWatermarkMessage(){return this.watermarkMessage||""}getHostname(){const e=(this.document.defaultView||window).location,{hostname:t=""}=e;return t}isForceWatermark(){const e=(this.document.defaultView||window).location,{pathname:t}=e;return!!t&&-1!==t.indexOf("forceWatermark")}isWebsiteUrl(){return null!==this.getHostname().match(/^((?:[\w-]+\.)?ag-grid\.com)$/)}isLocalhost(){return null!==this.getHostname().match(/^(?:127\.0\.0\.1|localhost)$/)}static formatDate(e){const t=e.getDate(),n=e.getMonth(),i=e.getFullYear();return t+" "+["January","February","March","April","May","June","July","August","September","October","November","December"][n]+" "+i}static getGridReleaseDate(){return new Date(parseInt(e.decode(e.RELEASE_INFORMATION),10))}static decode(t){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let i,o,r,s,a,l,u,c="",d=0;const h=t.replace(/[^A-Za-z0-9+/=]/g,"");for(;d<h.length;)s=n.indexOf(h.charAt(d++)),a=n.indexOf(h.charAt(d++)),l=n.indexOf(h.charAt(d++)),u=n.indexOf(h.charAt(d++)),i=s<<2|a>>4,o=(15&a)<<4|l>>2,r=(3&l)<<6|u,c+=String.fromCharCode(i),64!=l&&(c+=String.fromCharCode(o)),64!=u&&(c+=String.fromCharCode(r));return c=e.utf8_decode(c),c}static utf8_decode(e){e=e.replace(/rn/g,"n");let t="";for(let n=0;n<e.length;n++){const i=e.charCodeAt(n);i<128?t+=String.fromCharCode(i):i>127&&i<2048?(t+=String.fromCharCode(i>>6|192),t+=String.fromCharCode(63&i|128)):(t+=String.fromCharCode(i>>12|224),t+=String.fromCharCode(i>>6&63|128),t+=String.fromCharCode(63&i|128))}return t}static setChartsLicenseManager(e){var t;this.chartsLicenseManager=e,null===(t=this.chartsLicenseManager)||void 0===t||t.setLicenseKey(this.licenseKey,!0)}static setLicenseKey(e){var t;this.licenseKey=e,null===(t=this.chartsLicenseManager)||void 0===t||t.setLicenseKey(e,!0)}static extractBracketedInformation(e){if(!e.includes("["))return["legacy",!1,void 0];const t=e.match(/\[(.*?)\]/g).map(e=>e.replace("[","").replace("]",""));if(!t||0===t.length)return["legacy",!1,void 0];const n=1===t.filter(e=>"TRIAL"===e).length,i=t.filter(e=>0===e.indexOf("v"))[0],o=i?i.replace("v",""):"legacy",r=s0[t.filter(e=>s0[e])[0]];return[o,n,r]}centerPadAndOutput(e){const t=this.totalMessageLength-e.length;console.error(e.padStart(t/2+e.length,"*").padEnd(this.totalMessageLength,"*"))}padAndOutput(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"*",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";console.error(e.padEnd(this.totalMessageLength-n.length,t)+n)}outputInvalidLicenseKey(e,t,n){e?(this.centerPadAndOutput(""),this.centerPadAndOutput(" ".concat(t," License ")),this.centerPadAndOutput(" Incompatible License Key "),this.padAndOutput("* Your license key is for ".concat(n," only and does not cover you for ").concat(t,".")," ","*"),this.padAndOutput("* To troubleshoot your license key visit ".concat(a0,".")," ","*"),this.centerPadAndOutput(""),this.centerPadAndOutput("")):(this.centerPadAndOutput(""),this.centerPadAndOutput(" ".concat(t," License ")),this.centerPadAndOutput(" Invalid License Key "),this.padAndOutput("* Your license key is not valid."," ","*"),this.padAndOutput("* To troubleshoot your license key visit ".concat(a0,".")," ","*"),this.centerPadAndOutput(""),this.centerPadAndOutput("")),this.watermarkMessage="Invalid License"}outputExpiredTrialKey(e,t,n){this.centerPadAndOutput(""),this.centerPadAndOutput(" ".concat(t," License ")),this.centerPadAndOutput(" Trial Period Expired. "),this.padAndOutput("* Your trial only license for ".concat(n," expired on ").concat(e,".")," ","*"),this.padAndOutput("* Please email info@ag-grid.com to purchase a license."," ","*"),this.centerPadAndOutput(""),this.centerPadAndOutput(""),this.watermarkMessage="Trial Period Expired"}outputMissingLicenseKey(e){this.centerPadAndOutput(""),this.centerPadAndOutput(" ".concat(e," License ")),this.centerPadAndOutput(" License Key Not Found "),this.padAndOutput("* All ".concat(e," features are unlocked for trial.")," ","*"),this.padAndOutput("* If you want to hide the watermark please email info@ag-grid.com for a trial license key."," ","*"),this.centerPadAndOutput(""),this.centerPadAndOutput(""),this.watermarkMessage="For Trial Use Only"}outputExpiredKey(e,t,n,i){this.centerPadAndOutput(""),this.centerPadAndOutput(" ".concat(n," License ")),this.centerPadAndOutput(" Incompatible Software Version "),this.padAndOutput("* Your license key works with versions".concat(""==i?"":" of ".concat(i)," released before ").concat(e,".")," ","*"),this.padAndOutput("* The version you are trying to use was released on ".concat(t,".")," ","*"),this.padAndOutput("* Please contact info@ag-grid.com to renew your license key."," ","*"),this.centerPadAndOutput(""),this.centerPadAndOutput(""),this.watermarkMessage="License Expired"}};l0.RELEASE_INFORMATION="MTc1NTA5MjQ4MDczNA==";var u0=l0,c0={tag:"div",cls:"ag-watermark",children:[{tag:"div",ref:"eLicenseTextRef",cls:"ag-watermark-text"}]},d0={selector:"AG-WATERMARK",component:class extends AG{constructor(){super(c0),this.eLicenseTextRef=kG,this.registerCSS('.ag-watermark{bottom:20px;color:#9b9b9b;opacity:.7;position:absolute;transition:opacity 1s ease-out 3s;&:before{background-image:url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMDkiIGhlaWdodD0iMzYiIGZpbGw9Im5vbmUiIHZpZXdCb3g9IjAgMCAyMDkgMzYiPjxwYXRoIGZpbGw9IiM5QjlCOUIiIGQ9Ik0xOTIuOTkzIDIzLjY1OHYtNy45NDZoLTEzLjU0MWwtNy45NDcgNy45NDZ6TTIwOC4yNSAzLjk1aC0xNi45NzRsLTguMDEgNy45NDdoMjQuOTg0ek0xNjMuNjIyIDMxLjYwNWw0LjA2OS00LjA2OWgxMy43MzJ2Ny45NDdoLTE3LjgwMXoiLz48cGF0aCBmaWxsPSIjOUI5QjlCIiBkPSJNMTY2LjYxIDE5Ljc4aDguNzczbDguMDEtNy45NDZIMTY2LjYxek0xNTcuMDExIDMxLjYwNWg2LjYxMWw3Ljg4My03Ljk0N2gtMTQuNDk0ek0xOTEuMjc2IDMuOTVsLTQuMDY4IDQuMDdIMTYxLjI3Vi4wNzJoMzAuMDA2ek0yMC44NCAzMC4yMDZIOC4zNzhsLTIuMTYyIDUuMzRILjc1TDEyLjI1NyA4LjU5Mmg0Ljc2OEwyOC41MyAzNS41NDZoLTUuNTN6bS0xLjcxNy00LjI2TDE0LjYwOSAxNC45NWwtNC41MTQgMTAuOTk4ek0xMDQuNDM3IDE4LjUwOWMxLjU4OS0yLjM1MiA1LjU5NC0yLjYwNyA3LjI0Ny0yLjYwN3Y0LjU3OGMtMi4wMzQgMC00LjA2OS4wNjMtNS4yNzcuOTUzLTEuMjA3Ljg5LTEuODQzIDIuMDk4LTEuODQzIDMuNTZ2MTAuNTUzaC00Ljk1OVYxNS45MDJoNC43Njh6TTExOS4zNzYgMTUuOTAyaC00Ljk1OHYxOS42NDRoNC45NTh6TTExOS4zNzYgNy4xM2gtNC45NTh2NS44NDhoNC45NTh6TTE0My45NzkgNy4xM3YyOC40MTZoLTQuNzY4bC0uMTI3LTIuOTg4YTguMyA4LjMgMCAwIDEtMi42NyAyLjQ4Yy0xLjA4MS41NzItMi40MTYuODktMy45NDIuODktMS4zMzUgMC0yLjYwNi0uMjU1LTMuNjg3LS43LTEuMTQ0LS41MDgtMi4xNjItMS4xNDQtMi45ODgtMi4wMzRhOS42IDkuNiAwIDAgMS0xLjk3MS0zLjE3OWMtLjUwOC0xLjIwNy0uNjk5LTIuNjA2LS42OTktNC4xMzJzLjI1NC0yLjkyNC42OTktNC4xOTZjLjUwOS0xLjI3MSAxLjE0NS0yLjM1MiAxLjk3MS0zLjI0MnMxLjg0NC0xLjU4OSAyLjk4OC0yLjA5OCAyLjM1Mi0uNzYzIDMuNjg3LS43NjNjMS41MjYgMCAyLjc5Ny4yNTUgMy44NzguODI3czEuOTcxIDEuMzM1IDIuNjcgMi40MTZWNy4xOTNoNC45NTl6bS0xMC40MjYgMjQuNTM4YzEuNjUzIDAgMi45MjQtLjU3MiAzLjk0MS0xLjY1M3MxLjUyNi0yLjU0MyAxLjUyNi00LjMyMy0uNTA5LTMuMTc4LTEuNTI2LTQuMzIyYy0xLjAxNy0xLjA4MS0yLjI4OC0xLjY1My0zLjk0MS0xLjY1My0xLjU5IDAtMi45MjUuNTcyLTMuODc4IDEuNjUzLTEuMDE3IDEuMDgtMS41MjYgMi41NDMtMS41MjYgNC4zMjIgMCAxLjc4LjUwOSAzLjE4IDEuNTI2IDQuMjYgMS4wMTcgMS4xNDQgMi4yODggMS43MTYgMy44NzggMS43MTZNNTcuMjAyIDIwLjM1M0g0NC45MzN2NC4yNTloNi45OTNjLS4xOSAyLjE2MS0xLjAxNyAzLjgxNC0yLjQxNiA1LjE1LTEuMzk4IDEuMjctMy4xNzggMS45MDYtNS40NjcgMS45MDYtMS4yNzEgMC0yLjQ4LS4yNTQtMy40OTYtLjY5OWE3IDcgMCAwIDEtMi43MzQtMS45N2MtLjc2My0uODI3LTEuMzM1LTEuODQ0LTEuNzgtMy4wNTJzLS42MzYtMi40OC0uNjM2LTMuOTQyLjE5LTIuNzMzLjYzNi0zLjk0MWMuMzgxLTEuMjA4IDEuMDE3LTIuMTYyIDEuNzgtMy4wNTIuNzYzLS44MjYgMS42NTMtMS40NjIgMi43MzMtMS45N2E5LjEgOS4xIDAgMCAxIDMuNTYtLjdxNC4wMDUgMCA2LjEwMyAxLjkwN2wzLjMwNi0zLjMwNWMtMi40OC0xLjkwNy01LjY1OC0yLjkyNS05LjQwOS0yLjkyNS0yLjA5NyAwLTQuMDA0LjMxOC01LjcyMSAxLjAxOC0xLjcxNi42OTktMy4xNzkgMS41ODktNC4zODYgMi43OTdBMTIuMSAxMi4xIDAgMCAwIDMxLjIgMTYuMjJjLS42MzUgMS43MTctLjk1MyAzLjYyNC0uOTUzIDUuNjU4cy4zMTggMy45NDIgMS4wMTcgNS42NThjLjcgMS43MTcgMS41OSAzLjE3OSAyLjc5NyA0LjM4N2ExMi4xIDEyLjEgMCAwIDAgNC4zODcgMi43OTdjMS43MTYuNyAzLjYyMyAxLjAxNyA1LjY1NyAxLjAxNyAyLjAzNSAwIDMuODc4LS4zMTggNS41MzEtMS4wMTcgMS42NTMtLjcgMy4wNTItMS41OSA0LjE5Ni0yLjc5N3ExLjcxNi0xLjgxMiAyLjY3LTQuMzg3Yy42MzYtMS43MTYuOTU0LTMuNjIzLjk1NC01LjY1OHYtLjgyNmMtLjE5MS0uMTI3LS4yNTUtLjQ0NS0uMjU1LS43TTk1Ljk4MiAyMC4zNTNoLTEyLjI3djQuMjU5aDYuOTkzYy0uMTkgMi4xNjEtMS4wMTcgMy44MTQtMi40MTYgNS4xNS0xLjM5OCAxLjI3LTMuMTc4IDEuOTA2LTUuNDY3IDEuOTA2LTEuMjcxIDAtMi40OC0uMjU0LTMuNDk2LS42OTlhNyA3IDAgMCAxLTIuNzM0LTEuOTdjLS43NjMtLjgyNy0xLjMzNS0xLjg0NC0xLjc4LTMuMDUycy0uNjM2LTIuNDgtLjYzNi0zLjk0Mi4xOS0yLjczMy42MzYtMy45NDFjLjM4MS0xLjIwOCAxLjAxNy0yLjE2MiAxLjc4LTMuMDUyLjc2My0uODI2IDEuNjUzLTEuNDYyIDIuNzM0LTEuOTdhOS4xIDkuMSAwIDAgMSAzLjU2LS43cTQuMDA1IDAgNi4xMDMgMS45MDdsMy4zMDUtMy4zMDVjLTIuNDc5LTEuOTA3LTUuNjU4LTIuOTI1LTkuNDA4LTIuOTI1LTIuMDk4IDAtNC4wMDUuMzE4LTUuNzIyIDEuMDE4LTEuNzE2LjY5OS0zLjE3OCAxLjU4OS00LjM4NiAyLjc5N2ExMi4xIDEyLjEgMCAwIDAtMi43OTcgNC4zODZjLS42MzYgMS43MTctLjk1NCAzLjYyNC0uOTU0IDUuNjU4cy4zMTggMy45NDIgMS4wMTcgNS42NThjLjcgMS43MTcgMS41OSAzLjE3OSAyLjc5NyA0LjM4N2ExMi4xIDEyLjEgMCAwIDAgNC4zODcgMi43OTdjMS43MTYuNyAzLjYyMyAxLjAxNyA1LjY1OCAxLjAxNyAyLjAzNCAwIDMuODc4LS4zMTggNS41My0xLjAxNyAxLjY1My0uNyAzLjA1Mi0xLjU5IDQuMTk2LTIuNzk3cTEuNzE4LTEuODEyIDIuNjctNC4zODdjLjYzNi0xLjcxNi45NTQtMy42MjMuOTU0LTUuNjU4di0uODI2Yy0uMTktLjEyNy0uMjU1LS40NDUtLjI1NS0uNyIvPjwvc3ZnPg==");background-repeat:no-repeat;background-size:170px 40px;content:"";display:block;height:40px;width:170px}}:where(.ag-ltr) .ag-watermark{right:25px}:where(.ag-rtl) .ag-watermark{left:25px}.ag-watermark-text{font-family:Impact,sans-serif;font-size:19px;font-weight:700;opacity:.5}:where(.ag-ltr) .ag-watermark-text{padding-left:.7rem}:where(.ag-rtl) .ag-watermark-text{padding-right:.7rem}')}wireBeans(e){this.licenseManager=e.licenseManager}postConstruct(){const e=this.shouldDisplayWatermark();this.setDisplayed(e),e&&(this.eLicenseTextRef.textContent=this.licenseManager.getWatermarkMessage(),window.setTimeout(()=>this.addCss("ag-opacity-zero"),0),window.setTimeout(()=>this.setDisplayed(!1),5e3))}shouldDisplayWatermark(){return this.licenseManager.isDisplayWatermark()}}},h0={0:1,"0.00":2,"#,##0":3,"#,##0.00":4,"0%":9,"0.00%":10,"0.00E+00":11,"# ?/?":12,"# ??/??":13,"mm-dd-yy":14,"d-mmm-yy":15,"d-mmm":16,"mmm-yy":17,"h:mm AM/PM":18,"h:mm:ss AM/PM":19,"h:mm":20,"h:mm:ss":21,"m/d/yy h:mm":22,"#,##0 ;(#,##0)":37,"#,##0 ;[Red](#,##0)":38,"#,##0.00;(#,##0.00)":39,"#,##0.00;[Red](#,##0.00)":40,"mm:ss":45,"[h]:mm:ss":46,"mmss.0":47,"##0.0E+0":48,"@":49},p0="\r\n";function g0(e,t,n){if(!t&&""!==t&&0!==t)return"";let i=t;return"boolean"===typeof t&&n&&(i=n(t))," ".concat(e,'="').concat(i,'"')}function m0(e,t){let n="";e.properties&&(e.properties.prefixedAttributes&&e.properties.prefixedAttributes.forEach(e=>{Object.keys(e.map).forEach(i=>{n+=g0(e.prefix+i,e.map[i],t)})}),e.properties.rawMap&&Object.keys(e.properties.rawMap).forEach(i=>{n+=g0(i,e.properties.rawMap[i],t)}));let i="<"+e.name+n;return e.children||null!=e.textNode?null!=e.textNode?i+">"+e.textNode+"</"+e.name+">"+p0:(i+=">\r\n",e.children&&e.children.forEach(e=>{i+=m0(e,t)}),i+"</"+e.name+">"+p0):i+"/>"+p0}var v0=e=>Math.round(96*e/72),f0=e=>Math.ceil(9525*e),w0=(e,t)=>{if(!t)return;let n;if("number"===typeof t)n=t;else{n=t({rowIndex:e})}return n},C0=(e,t)=>{const n=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=["version"];e.version||(e.version="1.0"),e.encoding&&t.push("encoding"),e.standalone&&t.push("standalone");const n=t.map(t=>"".concat(t,'="').concat(e[t],'"')).join(" ");return"".concat("<?","xml ").concat(n," ").concat("?>")}({encoding:"UTF-8",standalone:"yes"}),i=m0(e);return t?i:"".concat(n).concat(i)},b0=e=>{const t=String.fromCharCode,n=Math.floor(e/26),i=e%26;return n&&26!==e?i?n<26?t(65+n-1)+t(65+i-1):b0(n)+t(65+i-1):b0(n-1)+"Z":t(65+e-1)},y0=e=>e.replaceAll("\n","_x000a_"),S0=e=>{if(null==e)return null;let t="";for(let n=0;n<e.length;n++){const i=e.charCodeAt(n);if(i>=0&&i<=31&&10!==i){const e=i.toString(16).toUpperCase().padStart(4,"0");t+="_x".concat(e,"_")}else t+=e[n]}return t},x0=e=>{const t=[];for(const n of e.keys()){const e=n.toString(),i={name:"t",textNode:bO(S0(e))};e.trim().length!==e.length&&(i.properties={rawMap:{"xml:space":"preserve"}}),t.push({name:"si",children:[i]})}return t},D0={getTemplate(e){const{name:t,ContentType:n,Extension:i,PartName:o}=e;return{name:t,properties:{rawMap:{Extension:i,PartName:o,ContentType:n}}}}},E0=D0,F0=e=>"jpg"===e?"jpeg":e,k0={getTemplate(e){const t=new Array(e).fill(void 0).map((e,t)=>({name:"Override",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",PartName:"/xl/worksheets/sheet".concat(t+1,".xml")})),n=D2.size,i=E2.size,o={};F2.forEach(e=>{o[F0(e.type)]=!0});const r=new Array(n).fill(void 0).map((e,t)=>({name:"Override",ContentType:"application/vnd.openxmlformats-officedocument.drawing+xml",PartName:"/xl/drawings/drawing".concat(t+1,".xml")})),s=[];A2.forEach(e=>{let{name:t}=e;s.push({name:"Override",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml",PartName:"/xl/tables/".concat(t,".xml")})});const a=Object.keys(o).map(e=>({name:"Default",ContentType:"image/".concat(e),Extension:e}));i&&a.push({name:"Default",Extension:"vml",ContentType:"application/vnd.openxmlformats-officedocument.vmlDrawing"});return{name:"Types",properties:{rawMap:{xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"}},children:[...a,{name:"Default",Extension:"rels",ContentType:"application/vnd.openxmlformats-package.relationships+xml"},{name:"Default",ContentType:"application/xml",Extension:"xml"},{name:"Override",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",PartName:"/xl/workbook.xml"},...t,{name:"Override",ContentType:"application/vnd.openxmlformats-officedocument.theme+xml",PartName:"/xl/theme/theme1.xml"},{name:"Override",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",PartName:"/xl/styles.xml"},{name:"Override",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",PartName:"/xl/sharedStrings.xml"},...r,...s,{name:"Override",ContentType:"application/vnd.openxmlformats-package.core-properties+xml",PartName:"/docProps/core.xml"}].map(e=>E0.getTemplate(e))}}},A0={getTemplate(e){const t=(new Date).toJSON();return{name:"cp:coreProperties",properties:{prefixedAttributes:[{prefix:"xmlns:",map:{cp:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",xsi:"http://www.w3.org/2001/XMLSchema-instance"}}]},children:[{name:"dc:creator",textNode:e},{name:"dc:title",textNode:"Workbook"},{name:"dcterms:created",properties:{rawMap:{"xsi:type":"dcterms:W3CDTF"}},textNode:t},{name:"dcterms:modified",properties:{rawMap:{"xsi:type":"dcterms:W3CDTF"}},textNode:t}]}}},R0=(e,t)=>({name:"xdr:".concat(e),children:[{name:"xdr:col",textNode:t.col.toString()},{name:"xdr:colOff",textNode:t.offsetX.toString()},{name:"xdr:row",textNode:t.row.toString()},{name:"xdr:rowOff",textNode:t.offsetY.toString()}]}),P0=e=>{const t=[{name:"a:ext",properties:{rawMap:{uri:"{FF2B5EF4-FFF2-40B4-BE49-F238E27FC236}"}},children:[{name:"a16:creationId",properties:{rawMap:{id:"{822E6D20-D7BC-2841-A643-D49A6EF008A2}","xmlns:a16":"http://schemas.microsoft.com/office/drawing/2014/main"}}}]}];switch(e.recolor&&e.recolor.toLowerCase()){case"grayscale":case"sepia":case"washout":t.push({name:"a:ext",properties:{rawMap:{uri:"{C183D7F6-B498-43B3-948B-1728B52AA6E4}"}},children:[{name:"adec:decorative",properties:{rawMap:{val:"0","xmlns:adec":"http://schemas.microsoft.com/office/drawing/2017/decorative"}}}]})}return{name:"a:extLst",children:t}},T0=(e,t)=>({name:"xdr:nvPicPr",children:[{name:"xdr:cNvPr",properties:{rawMap:{id:t,name:e.id,descr:null!=e.altText?e.altText:void 0}},children:[P0(e)]},{name:"xdr:cNvPicPr",properties:{rawMap:{preferRelativeResize:"0"}},children:[{name:"a:picLocks"}]}]}),_0=e=>{if(!e.saturation&&!e.tint)return;const t=[];return e.saturation&&t.push({name:"a:satMod",properties:{rawMap:{val:1e3*e.saturation}}}),e.tint&&t.push({name:"a:tint",properties:{rawMap:{val:1e3*e.tint}}}),t},M0=(e,t)=>{let n;if(e.transparency){const t=Math.min(Math.max(e.transparency,0),100);n=[{name:"a:alphaModFix",properties:{rawMap:{amt:1e5-Math.round(1e3*t)}}}]}if(e.recolor)switch(n||(n=[]),e.recolor.toLocaleLowerCase()){case"grayscale":n.push({name:"a:grayscl"});break;case"sepia":n.push((o={color:"D9C3A5",tint:50,saturation:180},{name:"a:duotone",children:[{name:"a:prstClr",properties:{rawMap:{val:(i={color:"black"}).color}},children:_0(i)},{name:"a:srgbClr",properties:{rawMap:{val:o.color}},children:_0(o)}]}));break;case"washout":n.push({name:"a:lum",properties:{rawMap:{bright:"70000",contrast:"-70000"}}})}var i,o;return{name:"xdr:blipFill",children:[{name:"a:blip",properties:{rawMap:{cstate:"print","r:embed":"rId".concat(t),"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships"}},children:n},{name:"a:stretch",children:[{name:"a:fillRect"}]}]}},I0=(e,t)=>{const n={name:"a:xfrm",children:[{name:"a:off",properties:{rawMap:{x:0,y:0}}},{name:"a:ext",properties:{rawMap:{cx:t.width,cy:t.height}}}]};if(e.rotation){const t=e.rotation;n.properties={rawMap:{rot:6e4*Math.min(Math.max(t,0),360)}}}return{name:"xdr:spPr",children:[n,{name:"a:prstGeom",properties:{rawMap:{prst:"rect"}},children:[{name:"a:avLst"}]}]}},L0=(e,t,n,i)=>({name:"xdr:pic",children:[T0(e,t+1),M0(e,n+1),I0(e,i)]}),N0={getTemplate(e){const{sheetIndex:t}=e,n=D2.get(t),i=k2.get(t),o=n.map((e,t)=>{const n=(e=>{e.fitCell=!!e.fitCell||!e.width||!e.height;const{position:t={},fitCell:n,width:i=0,height:o=0,totalHeight:r,totalWidth:s}=e,{offsetX:a=0,offsetY:l=0,row:u=1,rowSpan:c=1,column:d=1,colSpan:h=1}=t;return{from:{row:u-1,col:d-1,offsetX:f0(a),offsetY:f0(l)},to:{row:u-1+(n?1:c-1),col:d-1+(n?1:h-1),offsetX:f0(i+a),offsetY:f0(o+l)},height:f0(r||o),width:f0(s||i)}})(e);return{name:"xdr:twoCellAnchor",properties:{rawMap:{editAs:"absolute"}},children:[R0("from",n.from),R0("to",n.to),L0(e,t,i.get(e.id).index,n),{name:"xdr:clientData"}]}});return{name:"xdr:wsDr",properties:{rawMap:{"xmlns:a":"http://schemas.openxmlformats.org/drawingml/2006/main","xmlns:xdr":"http://schemas.openxmlformats.org/drawingml/2006/spreadsheetDrawing"}},children:o}}},B0=N0,O0={getTemplate(e){const{Id:t,Type:n,Target:i}=e;return{name:"Relationship",properties:{rawMap:{Id:t,Type:n,Target:i}}}}},G0=O0,z0={getTemplate:e=>({name:"Relationships",properties:{rawMap:{xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"}},children:e.map(e=>G0.getTemplate(e))})},V0={getTemplate:e=>({name:"sst",properties:{rawMap:{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main",count:e.size,uniqueCount:e.size}},children:x0(e)})},H0={None:"None",Dot:"Dotted",Dash:"Dashed",Double:"Double",DashDot:"DashDot",DashDotDot:"DashDotDot",SlantDashDot:"SlantDashDot",Continuous:"Continuous"},j0=["Dashed","DashDot","DashDotDot"],W0={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinDiagStripe:"lightUp",ThinHorzCross:"lightGrid",ThinDiagCross:"lightTrellis",Gray125:"gray125",Gray0625:"gray0625"},U0={Automatic:"general",Left:"left",Center:"center",Right:"right",Fill:"fill",Justify:"justify",CenterAcrossSelection:"centerContinuous",Distributed:"distributed",JustifyDistributed:"justify"},K0={Automatic:void 0,Top:"top",Bottom:"bottom",Center:"center",Justify:"justify",Distributed:"distributed",JustifyDistributed:"justify"},q0=e=>void 0==e?e:("#"===e.charAt(0)&&(e=e.substring(1)),6===e.length?"FF"+e:e),Y0=(e,t)=>{if(!e)return"thin";const n=(e=>{switch(e){case 1:return"thin";case 2:return"medium";case 3:return"thick";default:return"hair"}})(t);if("Continuous"===e)return n;const i=H0[e];return"medium"===n&&j0.some(e=>e===i)?"medium".concat(i):"".concat(i.charAt(0).toLowerCase()).concat(i.substring(1))},Z0=e=>U0[e]||"general",$0=e=>K0[e]||void 0,X0=e=>({name:"color",properties:{rawMap:{rgb:q0(e||"#000000")}}}),Q0={getTemplate(e){const{left:t,right:n,top:i,bottom:o,diagonal:r}=e,s=t?[X0(t.color)]:void 0,a=n?[X0(n.color)]:void 0,l=i?[X0(i.color)]:void 0,u=o?[X0(o.color)]:void 0,c=r?[X0(r.color)]:void 0;return{name:"border",children:[{name:"left",properties:{rawMap:{style:t&&t.style}},children:s},{name:"right",properties:{rawMap:{style:n&&n.style}},children:a},{name:"top",properties:{rawMap:{style:i&&i.style}},children:l},{name:"bottom",properties:{rawMap:{style:o&&o.style}},children:u},{name:"diagonal",properties:{rawMap:{style:r&&r.style}},children:c}]}}},J0={getTemplate:e=>({name:"borders",properties:{rawMap:{count:e.length}},children:e.map(e=>Q0.getTemplate(e))})},e1=e=>{const t=["Context","LeftToRight","RightToLeft"].indexOf(e);return Math.max(t,0)},t1={getTemplate(e){const{horizontal:t,indent:n,readingOrder:i,rotate:o,shrinkToFit:r,vertical:s,wrapText:a}=e;return{name:"alignment",properties:{rawMap:{horizontal:t&&Z0(t),indent:n,readingOrder:i&&e1(i),textRotation:o,shrinkToFit:r,vertical:s&&$0(s),wrapText:a}}}}},n1={getTemplate(e){const t=!1===e.protected?0:1;return{name:"protection",properties:{rawMap:{hidden:!0===e.hideFormula?1:0,locked:t}}}}},i1={getTemplate(e){const{alignment:t,borderId:n,fillId:i,fontId:o,numFmtId:r,protection:s,quotePrefix:a,xfId:l}=e,u=[];return t&&u.push(t1.getTemplate(t)),s&&u.push(n1.getTemplate(s)),{name:"xf",properties:{rawMap:{applyAlignment:t?1:void 0,applyProtection:s?1:void 0,applyBorder:n?1:void 0,applyFill:i?1:void 0,borderId:n,fillId:i,applyFont:o?1:void 0,fontId:o,applyNumberFormat:r?1:void 0,numFmtId:r,quotePrefix:a?1:void 0,xfId:l}},children:u.length?u:void 0}}},o1={getTemplate:e=>({name:"cellStyleXfs",properties:{rawMap:{count:e.length}},children:e.map(e=>i1.getTemplate(e))})},r1={getTemplate(e){const{builtinId:t,name:n,xfId:i}=e;return{name:"cellStyle",properties:{rawMap:{builtinId:t,name:n,xfId:i}}}}},s1={getTemplate:e=>({name:"cellStyles",properties:{rawMap:{count:e.length}},children:e.map(e=>r1.getTemplate(e))})},a1={getTemplate:e=>({name:"cellXfs",properties:{rawMap:{count:e.length}},children:e.map(e=>i1.getTemplate(e))})},l1={getTemplate(e){const{patternType:t,fgTheme:n,fgTint:i,fgRgb:o,bgRgb:r,bgIndexed:s}=e,a={name:"patternFill",properties:{rawMap:{patternType:t}}};return(n||i||o)&&(a.children=[{name:"fgColor",properties:{rawMap:{theme:n,tint:i,rgb:o}}}]),(s||r)&&(a.children||(a.children=[]),a.children.push({name:"bgColor",properties:{rawMap:{indexed:s,rgb:r}}})),{name:"fill",children:[a]}}},u1={getTemplate:e=>({name:"fills",properties:{rawMap:{count:e.length}},children:e.map(e=>l1.getTemplate(e))})},c1={getTemplate(e){const{size:t,colorTheme:n,color:i="FF000000",fontName:o="Calibri",family:r,scheme:s,italic:a,bold:l,strikeThrough:u,outline:c,shadow:d,underline:h,verticalAlign:p}=e,g=[{name:"sz",properties:{rawMap:{val:t}}},{name:"color",properties:{rawMap:{theme:n,rgb:i}}},{name:"name",properties:{rawMap:{val:o}}}];return r&&g.push({name:"family",properties:{rawMap:{val:r}}}),s&&g.push({name:"scheme",properties:{rawMap:{val:s}}}),a&&g.push({name:"i"}),l&&g.push({name:"b"}),u&&g.push({name:"strike"}),c&&g.push({name:"outline"}),d&&g.push({name:"shadow"}),h&&g.push({name:"u",properties:{rawMap:{val:h}}}),p&&g.push({name:"vertAlign",properties:{rawMap:{val:p}}}),{name:"font",children:g}}},d1=c1,h1={getTemplate:e=>({name:"fonts",properties:{rawMap:{count:e.length}},children:e.map(e=>d1.getTemplate(e))})};var p1,g1,m1,v1,f1,w1,C1,b1,y1,S1={getTemplate(e){let{formatCode:t,numFmtId:n}=e;return t.length&&(t=function(e){const t=e.split(/(\[[^\]]*\])/);for(let n=0;n<t.length;n++){let e=t[n];e.length&&(e.startsWith("[")||(e=e.replace(/\$/g,'"$"')),t[n]=bO(e))}return t.join("")}(t)),{name:"numFmt",properties:{rawMap:{formatCode:t,numFmtId:n}}}}},x1={getTemplate:e=>({name:"numFmts",properties:{rawMap:{count:e.length}},children:e.map(e=>S1.getTemplate(e))})},D1=(e,t)=>(-1!==e.indexOf("mixedStyle")&&t>1&&(e+="_".concat(t)),e),E1=()=>{p1={base:0},g1=[],m1=[{fontName:"Calibri",colorTheme:"1",family:"2",scheme:"minor"}],v1=[{patternType:"none"},{patternType:"gray125"}],f1=[{left:void 0,right:void 0,top:void 0,bottom:void 0,diagonal:void 0}],w1=[{borderId:0,fillId:0,fontId:0,numFmtId:0}],C1=[{borderId:0,fillId:0,fontId:0,numFmtId:0,xfId:0}],b1=[{builtinId:0,name:"Normal",xfId:0}]},F1=e=>{const t=(n=e.pattern)?W0[n]||n:"none";var n;const i=q0(e.color),o=q0(e.patternColor);let r=v1.findIndex(e=>{const{patternType:n,fgRgb:r,bgRgb:s}=e;return n==t&&r==i&&s==o});return-1===r&&(r=v1.length,v1.push({patternType:t,fgRgb:i,bgRgb:o})),r},k1=e=>{const{fontName:t="Calibri",color:n,size:i,bold:o,italic:r,outline:s,shadow:a,strikeThrough:l,underline:u,family:c,verticalAlign:d}=e,h=q0(n),p=(e=>{if(void 0===e)return;const t=["Automatic","Roman","Swiss","Modern","Script","Decorative"].indexOf(e||"Automatic");return Math.max(t,0)})(c),g=u?u.toLocaleLowerCase():void 0,m=d?d.toLocaleLowerCase():void 0;let v=m1.findIndex(e=>e.fontName==t&&e.color==h&&e.size==i&&e.bold==o&&e.italic==r&&e.outline==s&&e.shadow==a&&e.strikeThrough==l&&e.underline==g&&e.verticalAlign==m&&e.family==p);return-1===v&&(v=m1.length,m1.push({fontName:t,color:h,size:i,bold:o,italic:r,outline:s,shadow:a,strikeThrough:l,underline:g,verticalAlign:m,family:null!=p?p.toString():void 0})),v},A1=e=>{const{alignment:t,borders:n,font:i,interior:o,numberFormat:r,protection:s,quotePrefix:a}=e;let{id:l}=e,u=0,c=0,d=0,h=0;l&&(l=D1(l,y1),void 0==p1[l]&&(o&&(u=F1(o)),n&&(c=(e=>{const{borderBottom:t,borderTop:n,borderLeft:i,borderRight:o}=e;let r,s,a,l,u,c,d,h;i&&(a=Y0(i.lineStyle,i.weight),d=q0(i.color)),o&&(l=Y0(o.lineStyle,o.weight),h=q0(o.color)),t&&(r=Y0(t.lineStyle,t.weight),u=q0(t.color)),n&&(s=Y0(n.lineStyle,n.weight),c=q0(n.color));let p=f1.findIndex(e=>{const{left:t,right:n,top:i,bottom:o}=e;if(!t&&(a||d))return!1;if(!n&&(l||h))return!1;if(!i&&(s||c))return!1;if(!o&&(r||u))return!1;const{style:p,color:g}=t||{},{style:m,color:v}=n||{},{style:f,color:w}=i||{},{style:C,color:b}=o||{};return p==a&&g==d&&m==l&&v==h&&f==s&&w==c&&C==r&&b==u});return-1===p&&(p=f1.length,f1.push({left:{style:a,color:d},right:{style:l,color:h},top:{style:s,color:c},bottom:{style:r,color:u},diagonal:{style:void 0,color:void 0}})),p})(n)),i&&(d=k1(i)),r&&(h=(e=>{if(h0[e])return h0[e];let t=g1.findIndex(t=>t.formatCode===e);return-1===t?(t=g1.length+164,g1.push({formatCode:e,numFmtId:t})):t=g1[t].numFmtId,t})(r.format)),p1[l]=C1.length,C1.push({alignment:t,borderId:c||0,fillId:u||0,fontId:d||0,numFmtId:h||0,protection:s,quotePrefix:a,xfId:0})))},R1=(e,t)=>p1[D1(e,t)]||0,P1={getTemplate(e){const t=x1.getTemplate(g1),n=h1.getTemplate(m1.map(t=>d(d({},t),{},{size:null!=t.size?t.size:e}))),i=u1.getTemplate(v1),o=J0.getTemplate(f1),r=o1.getTemplate(w1),s=a1.getTemplate(C1),a=s1.getTemplate(b1);return E1(),{name:"styleSheet",properties:{rawMap:{"mc:Ignorable":"x14ac x16r2 xr",xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac","xmlns:x16r2":"http://schemas.microsoft.com/office/spreadsheetml/2015/02/main","xmlns:xr":"http://schemas.microsoft.com/office/spreadsheetml/2014/revision"}},children:[t,n,i,o,r,s,a,{name:"tableStyles",properties:{rawMap:{count:0,defaultPivotStyle:"PivotStyleLight16",defaultTableStyle:"TableStyleMedium2"}}}]}}},T1={getTemplate(e,t){const{name:n,columns:i,rowRange:o,displayName:r,showRowStripes:s,showColumnStripes:a,showFilterButtons:l,highlightFirstColumn:u,highlightLastColumn:c}=e||{},d=!o||o[0]-o[1]===0;if(!e||!n||!Array.isArray(i)||!i.length||d)return{name:"table"};const h=i.map((e,t)=>({name:"filterColumn",properties:{rawMap:{colId:t.toString(),hiddenButton:l[t]?0:1}}})),p="A".concat(o[0]),g="".concat(b0(i.length)).concat(o[1]),m="".concat(p,":").concat(g),v="".concat(t+1);return{name:"table",properties:{rawMap:{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"xr xr3","xmlns:xr":"http://schemas.microsoft.com/office/spreadsheetml/2014/revision","xmlns:xr3":"http://schemas.microsoft.com/office/spreadsheetml/2016/revision3",name:n,displayName:t?"".concat(r,"_").concat(v):r,ref:m,totalsRowShown:0,id:v}},children:[{name:"autoFilter",properties:{rawMap:{ref:m}},children:h},{name:"tableColumns",properties:{rawMap:{count:i.length}},children:i.map((e,t)=>({name:"tableColumn",properties:{rawMap:{id:(t+1).toString(),name:bO(y0(e)),dataCellStyle:"Normal"}}}))},{name:"tableStyleInfo",properties:{rawMap:{name:"TableStyleLight1",showFirstColumn:u?1:0,showLastColumn:c?1:0,showRowStripes:s?1:0,showColumnStripes:a?1:0}}}]}}},_1=e=>{const[t,n,i,o]=e;return{name:"a:".concat(t),children:[{name:"a:".concat(n),properties:{rawMap:{val:i,lastClr:o}}}]}},M1={getTemplate:()=>({name:"a:clrScheme",properties:{rawMap:{name:"Office"}},children:[_1(["dk1","sysClr","windowText","000000"]),_1(["lt1","sysClr","window","FFFFFF"]),_1(["dk2","srgbClr","44546A"]),_1(["lt2","srgbClr","E7E6E6"]),_1(["accent1","srgbClr","4472C4"]),_1(["accent2","srgbClr","ED7D31"]),_1(["accent3","srgbClr","A5A5A5"]),_1(["accent4","srgbClr","FFC000"]),_1(["accent5","srgbClr","5B9BD5"]),_1(["accent6","srgbClr","70AD47"]),_1(["hlink","srgbClr","0563C1"]),_1(["folHlink","srgbClr","954F72"])]})},I1=e=>{const[t,n,i,o]=e;return{name:"a:".concat(t),properties:{rawMap:{script:i,typeface:n,panose:o}}}},L1={getTemplate:()=>({name:"a:fontScheme",properties:{rawMap:{name:"Office"}},children:[{name:"a:majorFont",children:[I1(["latin","Calibri Light",void 0,"020F0302020204030204"]),I1(["ea",""]),I1(["cs",""]),I1(["font","\u6e38\u30b4\u30b7\u30c3\u30af Light","Jpan"]),I1(["font","\ub9d1\uc740 \uace0\ub515","Hang"]),I1(["font","\u7b49\u7ebf Light","Hans"]),I1(["font","\u65b0\u7d30\u660e\u9ad4","Hant"]),I1(["font","Times New Roman","Arab"]),I1(["font","Times New Roman","Hebr"]),I1(["font","Tahoma","Thai"]),I1(["font","Nyala","Ethi"]),I1(["font","Vrinda","Beng"]),I1(["font","Shruti","Gujr"]),I1(["font","MoolBoran","Khmr"]),I1(["font","Tunga","Knda"]),I1(["font","Raavi","Guru"]),I1(["font","Euphemia","Cans"]),I1(["font","Plantagenet Cherokee","Cher"]),I1(["font","Microsoft Yi Baiti","Yiii"]),I1(["font","Microsoft Himalaya","Tibt"]),I1(["font","MV Boli","Thaa"]),I1(["font","Mangal","Deva"]),I1(["font","Gautami","Telu"]),I1(["font","Latha","Taml"]),I1(["font","Estrangelo Edessa","Syrc"]),I1(["font","Kalinga","Orya"]),I1(["font","Kartika","Mlym"]),I1(["font","DokChampa","Laoo"]),I1(["font","Iskoola Pota","Sinh"]),I1(["font","Mongolian Baiti","Mong"]),I1(["font","Times New Roman","Viet"]),I1(["font","Microsoft Uighur","Uigh"]),I1(["font","Sylfaen","Geor"]),I1(["font","Arial","Armn"]),I1(["font","Leelawadee UI","Bugi"]),I1(["font","Microsoft JhengHei","Bopo"]),I1(["font","Javanese Text","Java"]),I1(["font","Segoe UI","Lisu"]),I1(["font","Myanmar Text","Mymr"]),I1(["font","Ebrima","Nkoo"]),I1(["font","Nirmala UI","Olck"]),I1(["font","Ebrima","Osma"]),I1(["font","Phagspa","Phag"]),I1(["font","Estrangelo Edessa","Syrn"]),I1(["font","Estrangelo Edessa","Syrj"]),I1(["font","Estrangelo Edessa","Syre"]),I1(["font","Nirmala UI","Sora"]),I1(["font","Microsoft Tai Le","Tale"]),I1(["font","Microsoft New Tai Lue","Talu"]),I1(["font","Ebrima","Tfng"])]},{name:"a:minorFont",children:[I1(["latin","Calibri",void 0,"020F0502020204030204"]),I1(["ea",""]),I1(["cs",""]),I1(["font","\u6e38\u30b4\u30b7\u30c3\u30af","Jpan"]),I1(["font","\ub9d1\uc740 \uace0\ub515","Hang"]),I1(["font","\u7b49\u7ebf","Hans"]),I1(["font","\u65b0\u7d30\u660e\u9ad4","Hant"]),I1(["font","Arial","Arab"]),I1(["font","Arial","Hebr"]),I1(["font","Tahoma","Thai"]),I1(["font","Nyala","Ethi"]),I1(["font","Vrinda","Beng"]),I1(["font","Shruti","Gujr"]),I1(["font","DaunPenh","Khmr"]),I1(["font","Tunga","Knda"]),I1(["font","Raavi","Guru"]),I1(["font","Euphemia","Cans"]),I1(["font","Plantagenet Cherokee","Cher"]),I1(["font","Microsoft Yi Baiti","Yiii"]),I1(["font","Microsoft Himalaya","Tibt"]),I1(["font","MV Boli","Thaa"]),I1(["font","Mangal","Deva"]),I1(["font","Gautami","Telu"]),I1(["font","Latha","Taml"]),I1(["font","Estrangelo Edessa","Syrc"]),I1(["font","Kalinga","Orya"]),I1(["font","Kartika","Mlym"]),I1(["font","DokChampa","Laoo"]),I1(["font","Iskoola Pota","Sinh"]),I1(["font","Mongolian Baiti","Mong"]),I1(["font","Arial","Viet"]),I1(["font","Microsoft Uighur","Uigh"]),I1(["font","Sylfaen","Geor"]),I1(["font","Arial","Armn"]),I1(["font","Leelawadee UI","Bugi"]),I1(["font","Microsoft JhengHei","Bopo"]),I1(["font","Javanese Text","Java"]),I1(["font","Segoe UI","Lisu"]),I1(["font","Myanmar Text","Mymr"]),I1(["font","Ebrima","Nkoo"]),I1(["font","Nirmala UI","Olck"]),I1(["font","Ebrima","Osma"]),I1(["font","Phagspa","Phag"]),I1(["font","Estrangelo Edessa","Syrn"]),I1(["font","Estrangelo Edessa","Syrj"]),I1(["font","Estrangelo Edessa","Syre"]),I1(["font","Nirmala UI","Sora"]),I1(["font","Microsoft Tai Le","Tale"]),I1(["font","Microsoft New Tai Lue","Talu"]),I1(["font","Ebrima","Tfng"])]}]})},N1=(e,t,n)=>({name:"a:".concat(e),properties:{rawMap:{val:t}},children:n}),B1=e=>{const[t,n,i,o,r,s]=e,a=[];return a.push(N1("satMod",i)),o&&a.push(N1("lumMod",o)),r&&a.push(N1("tint",r)),s&&a.push(N1("shade",s)),{name:"a:gs",properties:{rawMap:{pos:t}},children:[{name:"a:schemeClr",properties:{rawMap:{val:n}},children:a}]}},O1=(e,t)=>({name:"a:solidFill",children:[N1("schemeClr",e,t)]}),G1=e=>{const[t,n,i,o,r]=e,[s,a]=r;return{name:"a:gradFill",properties:{rawMap:{rotWithShape:t}},children:[{name:"a:gsLst",children:[B1(n),B1(i),B1(o)]},{name:"a:lin",properties:{rawMap:{ang:s,scaled:a}}}]}},z1=e=>{const[t,n,i,o]=e;return{name:"a:ln",properties:{rawMap:{w:t,cap:n,cmpd:i,algn:o}},children:[O1("phClr"),N1("prstDash","solid"),{name:"a:miter",properties:{rawMap:{lim:"800000"}}}]}},V1=e=>{const t=[];if(e){const[n,i,o,r,s]=e;t.push({name:"a:outerShdw",properties:{rawMap:{blurRad:n,dist:i,dir:o,algn:r,rotWithShape:s}},children:[N1("srgbClr","000000",[N1("alpha","63000")])]})}return{name:"a:effectStyle",children:[Object.assign({},{name:"a:effectLst"},t.length?{children:t}:{})]}},H1={getTemplate:()=>({name:"a:fmtScheme",properties:{rawMap:{name:"Office"}},children:[{name:"a:fillStyleLst",children:[O1("phClr"),G1(["1",["0","phClr","105000","110000","67000"],["50000","phClr","103000","105000","73000"],["100000","phClr","109000","105000","81000"],["5400000","0"]]),G1(["1",["0","phClr","103000","102000","94000"],["50000","phClr","110000","100000",void 0,"100000"],["100000","phClr","120000","99000",void 0,"78000"],["5400000","0"]])]},{name:"a:lnStyleLst",children:[z1(["6350","flat","sng","ctr"]),z1(["12700","flat","sng","ctr"]),z1(["19050","flat","sng","ctr"])]},{name:"a:effectStyleLst",children:[V1(),V1(),V1(["57150","19050","5400000","ctr","0"])]},{name:"a:bgFillStyleLst",children:[O1("phClr"),O1("phClr",[N1("tint","95000"),N1("satMod","170000")]),G1(["1",["0","phClr","150000","102000","93000","98000"],["50000","phClr","130000","103000","98000","90000"],["100000","phClr","120000",void 0,void 0,"63000"],["5400000","0"]])]}]})},j1={getTemplate:()=>({name:"a:themeElements",children:[M1.getTemplate(),L1.getTemplate(),H1.getTemplate()]})},W1={getTemplate:()=>({name:"a:theme",properties:{prefixedAttributes:[{prefix:"xmlns:",map:{a:"http://schemas.openxmlformats.org/drawingml/2006/main"}}],rawMap:{name:"Office Theme"}},children:[j1.getTemplate(),{name:"a:objectDefaults"},{name:"a:extraClrSchemeLst"}]})},U1=e=>{const{aspectratio:t,rotation:n}=e||{},i={};return t&&(i.aspectratio="t"),n&&(i.rotation="t"),{name:"o:lock",properties:{prefixedAttributes:[{prefix:"v:",map:{ext:"edit"}}],rawMap:i}}};var K1=(e,t)=>{let n;const{recolor:i,brightness:o,contrast:r,id:s}=e;if(i&&(n={},"Washout"!==i&&"Grayscale"!==i||(n.gain="19661f",n.blacklevel="22938f"),"Black & White"!==i&&"Grayscale"!==i||(n.grayscale="t","Black & White"===i&&(n.bilevel="t"))),!i||"Grayscale"===i){if(n||(n={}),null!=r&&50!==r){let e="1";r>=0&&(r<50?e=String(r/50):r<100?e=String(50/(100-r)):100===r&&(e="2147483647f")),n.gain=e}null!=o&&50!==o&&(n.blacklevel=(a=o,l=0,u=100,c=-.5,d=.5,(a-l)/(u-l)*(d-c)+c).toString())}var a,l,u,c,d;return{name:"v:imagedata",properties:{prefixedAttributes:[{prefix:"o:",map:{relid:"rId".concat(t),title:s}}],rawMap:n}}},q1=e=>Math.floor(.74999943307122*(null!==e&&void 0!==e?e:0)),Y1={getTemplate(e){const t=E2.get(e.sheetIndex)||[];var n;return{name:"xml",properties:{prefixedAttributes:[{prefix:"xmlns:",map:{v:"urn:schemas-microsoft-com:vml",o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel"}}]},children:[{name:"o:shapelayout",properties:{prefixedAttributes:[{prefix:"v:",map:{ext:"edit"}}]},children:[{name:"o:idmap",properties:{prefixedAttributes:[{prefix:"v:",map:{ext:"edit"}}],rawMap:{data:"1"}}}]},{name:"v:shapetype",properties:{prefixedAttributes:[{prefix:"o:",map:{spt:"75",preferrelative:"t"}}],rawMap:{coordsize:"21600,21600",filled:"f",id:"_x0000_t75",path:"m@4@5l@4@11@9@11@9@5xe",stroked:"f"}},children:[{name:"v:stroke",properties:{rawMap:{joinstyle:"miter"}}},(n=["if lineDrawn pixelLineWidth 0","sum @0 1 0","sum 0 0 @1","prod @2 1 2","prod @3 21600 pixelWidth","prod @3 21600 pixelHeight","sum @0 0 1","prod @6 1 2","prod @7 21600 pixelWidth","sum @8 21600 0","prod @7 21600 pixelHeight","sum @10 21600 0"],{name:"v:formulas",children:n.map(e=>({name:"v:f",properties:{rawMap:{eqn:e}}}))}),{name:"v:path",properties:{prefixedAttributes:[{prefix:"o:",map:{connecttype:"rect",extrusionok:"f"}}],rawMap:{gradientshapeok:"t"}}},U1({aspectratio:!0})]},...t.map((e,t)=>((e,t)=>{const{width:n=0,height:i=0,altText:o}=e,r=q1(n),s=q1(i);return{name:"v:shape",properties:{rawMap:{id:e.headerFooterPosition,"o:spid":"_x0000_s1025",style:"position: absolute; margin-left: 0; margin-top: 10in; margin-bottom: 0; margin-right: 0; width: ".concat(r,"pt; height: ").concat(s,"pt; z-index: ").concat(t+1),type:"#_x0000_t75",alt:o}},children:[K1(e,t+1),U1({rotation:!0})]}})(e,t))]}}},Z1={getTemplate(e,t){const n=(t+1).toString();return{name:"sheet",properties:{rawMap:{name:e,sheetId:n,"r:id":"rId".concat(n)}}}}},$1={getTemplate:e=>({name:"sheets",children:e.map((e,t)=>Z1.getTemplate(e,t))})},X1={getTemplate:(e,t)=>({name:"workbook",properties:{prefixedAttributes:[{prefix:"xmlns:",map:{r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships"}}],rawMap:{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main"}},children:[{name:"bookViews",children:[{name:"workbookView",properties:{rawMap:{activeTab:t}}}]},$1.getTemplate(e)]})},Q1={getTemplate(e){const{min:t,max:n,outlineLevel:i,s:o,width:r,hidden:s,bestFit:a}=e;let l=1,u="0";return r>1&&(l=(e=>Math.ceil((e-12)/7+1))(r),u="1"),{name:"col",properties:{rawMap:{min:t,max:n,outlineLevel:null!=i?i:void 0,width:l,style:o,hidden:s?"1":"0",bestFit:a?"1":"0",customWidth:u}}}}},J1=Q1,e2={getTemplate:e=>({name:"mergeCell",properties:{rawMap:{ref:e}}})},t2={getTemplate(e,t,n){const{ref:i,data:o,styleId:r}=e,{type:s,value:a}=o||{type:"empty",value:null};let l=s;"f"===s?l="str":s.charAt(0)===s.charAt(0).toUpperCase()&&(l=(e=>{const t=e.charAt(0).toLowerCase();return"s"===t?"inlineStr":t})(s));const u={name:"c",properties:{rawMap:{r:i,t:"empty"===l?void 0:l,s:r?R1(r,n):void 0}}};if("empty"===l)return u;let c;return c="str"===l&&"f"===s?[{name:"f",textNode:bO(S0(a))}]:"inlineStr"===l?[{name:"is",children:[{name:"t",textNode:bO(S0(a))}]}]:[{name:"v",textNode:a}],Object.assign({},u,{children:c})}},n2=t2,i2=e=>{var t;return""!==(null===(t=e.data)||void 0===t?void 0:t.value)||void 0!==e.styleId},o2={getTemplate(e,t,n){const{collapsed:i,hidden:o,height:r,outlineLevel:s,cells:a=[]}=e;((e,t)=>{const n=[];let i=0;for(let o=0;o<e.length;o++){const t=e[o];t.mergeAcross&&(n.push({pos:o,excelPos:i}),i+=t.mergeAcross),i++}if(n.length)for(let o=n.length-1;o>=0;o--){const i=[],r=e[n[o].pos];for(let e=1;e<=r.mergeAcross;e++)i.push({ref:"".concat(b0(n[o].excelPos+1+e)).concat(t+1),styleId:r.styleId,data:{type:"empty",value:null}});i.length&&e.splice(n[o].pos+1,0,...i)}})(a,t);return{name:"row",properties:{rawMap:{r:t+1,collapsed:i?"1":"0",hidden:o?"1":"0",ht:r,customHeight:null!=r?"1":"0",spans:"1:1",outlineLevel:s||void 0}},children:a.filter(i2).map((e,t)=>n2.getTemplate(e,t,n))}}},r2=o2,s2=e=>{if(null==e)return 1;const t=["Letter","Letter Small","Tabloid","Ledger","Legal","Statement","Executive","A3","A4","A4 Small","A5","A6","B4","B5","Folio","Envelope","Envelope DL","Envelope C5","Envelope B5","Envelope C3","Envelope C4","Envelope C6","Envelope Monarch","Japanese Postcard","Japanese Double Postcard"].indexOf(e);return-1===t?1:t+1},a2=(e,t,n)=>e.reduce((e,i,o)=>{const r=(e=>"Center"===e?"C":"Right"===e?"R":"L")(i.position),s=(a="".concat(e,"&amp;").concat(r),(l=i.font)?(a+="&amp;&quot;",a+=l.fontName||"Calibri",l.bold!==l.italic?a+=l.bold?",Bold":",Italic":l.bold?a+=",Bold Italic":a+=",Regular",a+="&quot;",l.size&&(a+="&amp;".concat(l.size)),l.strikeThrough&&(a+="&amp;S"),l.underline&&(a+="&amp;".concat("Double"===l.underline?"E":"U")),l.color&&(a+="&amp;K".concat(l.color.replace("#","").toUpperCase())),a):a);var a,l;const u=["Left","Center","Right"];i.position||(i.position=u[o]);const{image:c}=i;if("&[Picture]"===i.value&&c){!function(e,t){const n=S2.length-1,i=e;i.headerFooterPosition=t,M2({imageToAdd:i,idx:n});let o=E2.get(n);o||(o=[],E2.set(n,o));o.find(t=>t.id===e.id)||o.push(e)}(c,"".concat(r).concat(t).concat(n))}return"".concat(s).concat(bO((e=>{const t={"&[Page]":"&P","&[Pages]":"&N","&[Date]":"&D","&[Time]":"&T","&[Tab]":"&A","&[Path]":"&Z","&[File]":"&F","&[Picture]":"&G"};for(const n of Object.keys(t))e=e.replace(n,t[n]);return e})(i.value)))},""),l2=e=>{const t=[];return["all","first","even"].forEach(n=>{const i=e[n],o="all"===n?"odd":n;if(i)for(const e of Object.keys(i)){const r=i[e],s="".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),a=e[0].toUpperCase();if(r){const e="all"===n?"":n.toUpperCase();t.push({name:"".concat(o).concat(s),properties:{rawMap:{"xml:space":"preserve"}},textNode:a2(r,a,e)})}}}),t},u2=e=>t=>(e.length&&t.children.push({name:"cols",children:e.map(e=>J1.getTemplate(e))}),t),c2=(e,t)=>n=>(e.length&&n.children.push({name:"sheetData",children:e.map((e,n)=>r2.getTemplate(e,n,t))}),n),d2=e=>t=>{const{top:n=.75,right:i=.7,bottom:o=.75,left:r=.7,header:s=.3,footer:a=.3}=e;return t.children.push({name:"pageMargins",properties:{rawMap:{bottom:o,footer:a,header:s,left:r,right:i,top:n}}}),t},h2=e=>t=>{var n;return e&&t.children.push({name:"pageSetup",properties:{rawMap:{horizontalDpi:0,verticalDpi:0,orientation:(n=e.orientation,!n||"Portrait"!==n&&"Landscape"!==n?"portrait":n.toLocaleLowerCase()),paperSize:s2(e.pageSize)}}}),t},p2=e=>t=>{if(!e)return t;const n=null!=e.first?1:0,i=null!=e.even?1:0;return t.children.push({name:"headerFooter",properties:{rawMap:{differentFirst:n,differentOddEven:i}},children:l2(e)}),t},g2=e=>t=>{const n=D2.get(e);return null!==n&&void 0!==n&&n.length&&t.children.push({name:"drawing",properties:{rawMap:{"r:id":"rId".concat(++t.rIdCounter)}}}),t},m2=e=>t=>(E2.get(e)&&t.children.push({name:"legacyDrawingHF",properties:{rawMap:{"r:id":"rId".concat(++t.rIdCounter)}}}),t),v2=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=e>0||t>0;return n?[{name:"pane",properties:{rawMap:{state:n?"frozen":void 0,topLeftCell:n?"".concat(b0(e+1)).concat(t+1):void 0,xSplit:0===e?void 0:e,ySplit:0===t?void 0:t}}}]:void 0},f2=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;return i=>(i.children.push({name:"sheetViews",children:[{name:"sheetView",properties:{rawMap:{rightToLeft:!0===e?"1":"0",workbookViewId:"0"}},children:v2(t,n)}]}),i)},w2=e=>t=>{const n=e.reduce((e,t)=>t.outlineLevel&&t.outlineLevel>e?t.outlineLevel:e,0);return t.children.push({name:"sheetFormatPr",properties:{rawMap:{baseColWidth:10,defaultRowHeight:16,outlineLevelRow:n||void 0}}}),t},C2={getTemplate(e){const{worksheet:t,currentSheet:n,config:i}=e,{margins:o={},pageSetup:r,headerFooterConfig:s,suppressColumnOutline:a,rightToLeft:l,frozenRowCount:u,frozenColumnCount:c}=i,{table:d}=t,{rows:h,columns:p}=d,g=p&&p.length?((e,t,n)=>{const i=[],o=[];e.forEach((e,n)=>{const r=e.cells;let s,a=0;r.forEach((e,r)=>{const l=r+a+1,u=b0(l),c=n+1;if(e.mergeAcross){a+=e.mergeAcross;const t=b0(r+a+1);i.push("".concat(u).concat(c,":").concat(t).concat(c))}t[l-1]||(t[l-1]={});const{collapsibleRanges:d}=e;d&&d.forEach(e=>{o.push([l+e[0],l+e[1]])}),s=t[l-1],s.min=l,s.max=l,e.ref="".concat(u).concat(c)})}),o.sort((e,t)=>e[0]!==t[0]?e[0]-t[0]:t[1]-e[1]);const r=new Map,s=new Map;return o.filter(e=>{const t=e.toString();return!r.get(t)&&(r.set(t,!0),!0)}).forEach(e=>{const i=t.find(t=>t.min==e[0]&&t.max==e[1]),o=s.get(e[0]);t.push({min:e[0],max:e[1],outlineLevel:n?void 0:o||1,width:(i||{width:100}).width}),s.set(e[0],(o||0)+1)}),i})(h,p,!!a):[],m=A2.get(n),{children:v}=[e=>(e.children.push({name:"sheetPr",children:[{name:"outlinePr",properties:{rawMap:{summaryBelow:0}}}]}),e),f2(l,c,u),w2(h),u2(p),c2(h,n+1),(w=g,e=>(w.length&&e.children.push({name:"mergeCells",properties:{rawMap:{count:w.length}},children:w.map(e=>e2.getTemplate(e))}),e)),d2(o),h2(r),p2(s),g2(n),m2(n),(f=m,e=>(f&&e.children.push({name:"tableParts",properties:{rawMap:{count:"1"}},children:[{name:"tablePart",properties:{rawMap:{"r:id":"rId".concat(++e.rIdCounter)}}}]}),e))].reduce((e,t)=>t(e),{children:[],rIdCounter:0});var f,w;return{name:"worksheet",properties:{prefixedAttributes:[{prefix:"xmlns:",map:{r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships"}}],rawMap:{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main"}},children:v}}},b2=C2,y2=new Map,S2=[],x2=new Map,D2=new Map,E2=new Map,F2=new Map,k2=new Map,A2=new Map,R2="AG-GRID-TABLE",P2="SINGLE_SHEET";function T2(e,t,n){!function(e){const t=bO(e.name)||"";let n="";for(;-1!==S2.indexOf("".concat(t).concat(n));)if(""===n)n="_1";else{const e=parseInt(n.slice(1),10);n="_".concat(e+1)}e.name="".concat(t).concat(n),S2.push(e.name)}(t),((e,t)=>{1===(y1=t)&&E1(),e.forEach(A1)})(e,S2.length);const i=Object.assign({},n);return n.exportAsExcelTable&&n.colModel.isPivotActive()&&(iB(163,{featureName:"pivot mode"}),i.exportAsExcelTable=!1),function(e,t){const{exportAsExcelTable:n,prependContent:i,appendContent:o,colModel:r}=t;if(!n)return;const s="boolean"===typeof n?{}:n,{name:a,showColumnStripes:l,showRowStripes:u,showFilterButton:c,highlightFirstColumn:d,highlightLastColumn:h}=s,p=(E=a||R2,E.replace(/^[^a-zA-Z_]+/,"_").replace(/\s/g,"_").replace(/[^a-zA-Z0-9_]/g,"_")),g=S2.length-1,{table:m}=e,{rows:v,columns:f}=m,w=function(e){return e.cols?e.cols.treeDepth+1:-1}(r),C=i?i.length:0,b=o?o.length:0,y=v.length,S=f.length,x=[],D=[];var E;for(let k=0;k<S;k++){var F;const e=f[k];x.push(e.displayName||""),D.push("match"===c||void 0===c?null!==(F=e.filterAllowed)&&void 0!==F&&F:c)}if(!x||!x.length||!y||!p)return void iB(165);!function(e,t){if(A2.has(e))return void iB(164);A2.set(e,t)}(g,{name:"table".concat(A2.size+1),displayName:p,columns:x,showFilterButtons:D,rowRange:[w+C,w+(y-w)-b],showRowStripes:null===u||void 0===u||u,showColumnStripes:null!==l&&void 0!==l&&l,highlightFirstColumn:null!==d&&void 0!==d&&d,highlightLastColumn:null!==h&&void 0!==h&&h})}(t,i),function(e,t){return C0(b2.getTemplate({worksheet:e,currentSheet:S2.length-1,config:t}))}(t,i)}function _2(e,t,n,i,o){const r=S2.length,{row:s,column:a}=e.position||{},l=e;i&&(null==t||null==n||s&&a||(e.position||(e.position={}),e.position=Object.assign({},e.position,{row:t,column:i.indexOf(n)+1})),((e,t)=>{const{colSpan:n,column:i}=e.position;if(e.width)if(n){const o=t.slice(i-1,i+n-1);let r=0;for(let t=0;t<o.length;t++){const n=o[t].getActualWidth();if(e.width<r+n){e.position.colSpan=t+1,e.totalWidth=e.width,e.width=e.totalWidth-r;break}r+=n}}else e.totalWidth=e.width})(l,i),((e,t)=>{const{rowSpan:n,row:i}=e.position;if(e.height)if(n){let o=0,r=0;for(let s=i;s<i+n;s++){const n=v0(w0(s,t)||20);if(e.height<o+n){e.position.rowSpan=r+1,e.totalHeight=e.height,e.height=e.totalHeight-o;break}o+=n,r++}}else e.totalHeight=e.height})(l,o)),M2({imageToAdd:l,idx:r});let u=k2.get(r);u||(u=new Map,k2.set(r,u));const c=D2.get(r);c?c.push(l):D2.set(r,[l]),u.get(e.id)||u.set(e.id,{index:u.size,type:e.imageType})}function M2(e){const{imageToAdd:t,idx:n}=e,i=x2.get(t.id);if(i){const e=i.find(e=>e.sheetId===n);e?e.image.push(t):i.push({sheetId:n,image:[t]})}else x2.set(t.id,[{sheetId:n,image:[t]}]),F2.set(t.id,{type:t.imageType,index:F2.size})}function I2(e){return y2.has(e)?y2.get(e):(y2.set(e,y2.size),y2.size-1)}function L2(){y2.clear(),x2.clear(),D2.clear(),E2.clear(),F2.clear(),k2.clear(),A2.clear(),S2=[],P2="SINGLE_SHEET"}function N2(e,t){return C0(T1.getTemplate(e,t))}function B2(){let{drawingIndex:e,vmlDrawingIndex:t,tableName:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(void 0===e&&void 0===t&&void 0===n)return"";const i=[];null!=e&&i.push({Id:"rId".concat(i.length+1),Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",Target:"../drawings/drawing".concat(e+1,".xml")}),null!=t&&i.push({Id:"rId".concat(i.length+1),Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",Target:"../drawings/vmlDrawing".concat(t+1,".vml")}),null!=n&&i.push({Id:"rId".concat(i.length+1),Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/table",Target:"../tables/".concat(n,".xml")});const o=z0.getTemplate(i);return C0(o)}var O2=class extends _Z{constructor(e){super(e),this.mixedStyles={},this.mixedStyleCounter=0,this.rows=[],this.frozenRowCount=0,this.skipFrozenRows=!1,this.frozenColumnCount=0,this.skipFrozenColumns=!1,this.config=Object.assign({},e),this.stylesByIds={},this.config.baseExcelStyles.forEach(e=>{this.stylesByIds[e.id]=e}),this.excelStyles=[...this.config.baseExcelStyles,{id:"_quotePrefix",quotePrefix:1}]}addCustomContent(e){e.forEach(e=>{const t=this.rows.length+1;let n;this.config.suppressRowOutline||null==e.outlineLevel||(n=e.outlineLevel);const i={height:w0(t,e.height||this.config.rowHeight),cells:(e.cells||[]).map((e,n)=>{var i,o,r;const s=this.addImage(t,this.columnsToExport[n],null===(i=e.data)||void 0===i?void 0:i.value);let a=null;e.styleId&&(a="string"===typeof e.styleId?[e.styleId]:e.styleId);const l=this.getStyleId(a);if(s)return this.createCell(l,this.getDataTypeForValue(s.value),null==s.value?"":s.value);const u=null!==(o=null===(r=e.data)||void 0===r?void 0:r.value)&&void 0!==o?o:"",c=this.getDataTypeForValue(u);return e.mergeAcross?this.createMergedCell(l,c,u,e.mergeAcross):this.createCell(l,c,u)}),outlineLevel:n};null!=e.collapsed&&(i.collapsed=e.collapsed),null!=e.hidden&&(i.hidden=e.hidden),this.rows.push(i)})}onNewHeaderGroupingRow(){const e=[],{freezeRows:t,headerRowHeight:n}=this.config;return this.rows.push({cells:e,height:w0(this.rows.length+1,n)}),t&&this.frozenRowCount++,{onColumn:(t,n,i,o,r)=>{const s=this.config.styleLinker({rowType:"HEADER_GROUPING",rowIndex:1,value:"grouping-".concat(n),columnGroup:t});e.push(d(d({},this.createMergedCell(this.getStyleId(s),this.getDataTypeForValue("string"),n,o)),{},{collapsibleRanges:r}))}}}onNewHeaderRow(){const{freezeRows:e,headerRowHeight:t}=this.config;return e&&this.frozenRowCount++,this.onNewRow(this.onNewHeaderColumn,t)}onNewBodyRow(e){const{freezeRows:t,rowHeight:n}=this.config;this.skipFrozenRows||("headersAndPinnedRows"===t&&"top"===(null===e||void 0===e?void 0:e.rowPinned)||"function"===typeof t&&t(iO(this.gos,{node:e}))?this.frozenRowCount++:this.skipFrozenRows=!0);const i=this.onNewRow(this.onNewBodyColumn,n);return e&&this.addRowOutlineIfNecessary(e),i}prepare(e){super.prepare(e),this.columnsToExport=[...e],this.cols=e.map((e,t)=>this.convertColumnToExcel(e,t))}parse(){const e=this.rows.reduce((e,t)=>Math.max(e,t.cells.length),0);for(;this.cols.length<e;)this.cols.push(this.convertColumnToExcel(null,this.cols.length+1));const{config:t}=this;let n;if(null!=t.sheetName){const{sheetName:e}=t,i="function"===typeof e?e(iO(this.gos,{})):e;n=String(i).substring(0,31)}else n="ag-grid";const i={name:n,table:{columns:this.cols,rows:this.rows}};return this.createExcel(i)}addRowOutlineIfNecessary(e){const{gos:t,suppressRowOutline:n,rowGroupExpandState:i="expanded"}=this.config;if(t.get("groupHideOpenParents")||n||null==e.level)return;const o=e.footer?1:0,r=_O(this.rows),s=Math.min(e.level+o,7);if(r.outlineLevel=s,"expanded"===i)return;const a="collapsed"===i;if(e.isExpandable()){const t=!a&&e.expanded;r.collapsed=!t}r.hidden=!!e.parent&&-1!==e.parent.level&&(a||this.isAnyParentCollapsed(e.parent))}isAnyParentCollapsed(e){for(;e&&-1!==e.level;){if(!e.expanded)return!0;e=e.parent}return!1}convertColumnToExcel(e,t){const n=this.config.columnWidth,i=e?this.extractHeaderValue(e):void 0,o=null!==i&&void 0!==i?i:"",r=!!e&&e.isFilterAllowed();if(n)return"number"===typeof n?{width:n,displayName:o,filterAllowed:r}:{width:n({column:e,index:t}),displayName:o,filterAllowed:r};if(e){const t=75;return{width:Math.max(e.getActualWidth(),t),displayName:o,filterAllowed:r}}return{displayName:o,filterAllowed:r}}onNewHeaderColumn(e,t){return n=>{const i=this.extractHeaderValue(n),o=this.config.styleLinker({rowType:"HEADER",rowIndex:e,value:i,column:n});t.push(this.createCell(this.getStyleId(o),this.getDataTypeForValue("string"),i))}}onNewBodyColumn(e,t){let n=0;const{freezeColumns:i,rightToLeft:o}=this.config;return(r,s,a)=>{if(n>0)return void(n-=1);if(!this.skipFrozenColumns){const e=r.getPinned();"pinned"===i&&e&&(!0===e||"left"===e)!==o||"function"===typeof i&&i(iO(this.gos,{column:r}))?this.frozenColumnCount++:this.skipFrozenColumns=!0}const{value:l,valueFormatted:u}=this.extractRowCellValue(r,s,e,"excel",a),c=this.config.styleLinker({rowType:"BODY",rowIndex:e,value:l,column:r,node:a}),d=this.getStyleId(c),h=r.getColSpan(a),p=this.addImage(e,r,l);p?t.push(this.createCell(d,this.getDataTypeForValue(p.value),null==p.value?"":p.value)):h>1?(n=h-1,t.push(this.createMergedCell(d,this.getDataTypeForValue(l),l,h-1))):t.push(this.createCell(d,this.getDataTypeForValue(l),l,u))}}onNewRow(e,t){const n=[];return this.rows.push({cells:n,height:w0(this.rows.length+1,t)}),{onColumn:e.bind(this,this.rows.length,n)()}}createExcel(e){const{excelStyles:t,config:n}=this;return this.frozenColumnCount&&(n.frozenColumnCount=this.frozenColumnCount),this.frozenRowCount&&(n.frozenRowCount=this.frozenRowCount),T2(t,e,n)}getDataTypeForValue(e){if(void 0===e)return"empty";let t="s";try{this.isNumerical(e)&&(t="n")}catch(nce){}return t}getTypeFromStyle(e,t){if(this.isFormula(t))return"f";if(e&&e.dataType)switch(e.dataType.toLocaleLowerCase()){case"formula":return"f";case"string":return"s";case"number":return"n";case"datetime":return"d";case"error":return"e";case"boolean":return"b";default:iB(162,{id:e.id,dataType:e.dataType})}return null}addImage(e,t,n){if(!this.config.addImageToCell)return;const i=this.config.addImageToCell(e,t,n);return i?(_2(i.image,e,t,this.columnsToExport,this.config.rowHeight),i):void 0}createCell(e,t,n,i){const o=this.getStyleById(e);null!==o&&void 0!==o&&o.dataType||"s"!==t||null==i||(n=i);const r=this.getTypeFromStyle(o,n)||t,{value:s,escaped:a}=this.getCellValue(r,n),l=[];return o&&l.push(e),a&&l.push("_quotePrefix"),{styleId:e=this.getStyleId(l)||void 0,data:{type:r,value:s}}}createMergedCell(e,t,n,i){const o=null==n?"":n;return{styleId:this.getStyleById(e)?e:void 0,data:{type:t,value:"s"===t?I2(o).toString():n},mergeAcross:i}}getCellValue(e,t){let n=!1;if(null==t||"s"===e&&""===t)return{value:"",escaped:!1};if("s"===e)t&&"'"===t[0]&&(n=!0,t=t.slice(1)),t=I2(t).toString();else if("f"===e)t=t.slice(1);else if("n"===e){const e=Number(t);isNaN(e)?t="":""!==t&&(t=e.toString())}return{value:t,escaped:n}}getStyleId(e){if(!e||!e.length)return null;if(1===e.length)return e[0];const t=e.join("-");return this.mixedStyles[t]||this.addNewMixedStyle(e),this.mixedStyles[t].excelID}deepCloneObject(e){return JSON.parse(JSON.stringify(e))}addNewMixedStyle(e){this.mixedStyleCounter+=1;const t="mixedStyle".concat(this.mixedStyleCounter),n={};for(const o of e)for(const e of this.excelStyles)e.id===o&&XI(n,this.deepCloneObject(e));n.id=t;const i=e.join("-");this.mixedStyles[i]={excelID:t,key:i,result:n},this.excelStyles.push(n),this.stylesByIds[t]=n}isFormula(e){return null!=e&&(this.config.autoConvertFormulas&&e.toString().startsWith("="))}isNumerical(e){return"bigint"===typeof e||isFinite(e)&&""!==e&&!isNaN(parseFloat(e))}getStyleById(e){return null==e?null:this.stylesByIds[e]||null}},G2=async e=>{const t=new Blob([e]),{size:n,content:i}=await(async e=>{let t=0;const n=[],i=new WritableStream({write:e=>{n.push(e),t+=e.length}}),o=new ReadableStream({start:t=>{const n=new FileReader;n.onload=e=>{var n;null!==(n=e.target)&&void 0!==n&&n.result&&t.enqueue(e.target.result),t.close()},n.readAsArrayBuffer(e)}}),r=new window.CompressionStream("deflate-raw");return await o.pipeThrough(r).pipeTo(i),{size:t,content:new Blob(n)}})(t);return{size:n,content:new Uint8Array(await i.arrayBuffer())}};function z2(e,t){let n="";for(let i=0;i<t;i++)n+=String.fromCharCode(255&e),e>>>=8;return n}var V2=e=>{if(!e.length)return 0;let t=~0,n=0,i=0,o=0;for(let r=0;r<e.length;r++)n=e[r],i=255&(t^n),o=j2[i],t=t>>>8^o;return-1^t},H2=e=>e.length?V2("string"===typeof e?(new TextEncoder).encode(e):e):0,j2=new Uint32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]);function W2(e){const t=String.fromCharCode;function n(e,n){return t(e>>n&63|128)}function i(e){if(0==(4294967168&e))return t(e);let i="";return 0==(4294965248&e)?i=t(e>>6&31|192):0==(4294901760&e)?(!function(e){if(e>=55296&&e<=57343)throw Error(aB(255,{point:e}))}(e),i=t(e>>12&15|224),i+=n(e,6)):0==(4292870144&e)&&(i=t(e>>18&7|240),i+=n(e,12),i+=n(e,6)),i+=t(63&e|128),i}const o=function(e){const t=[];if(!e)return[];const n=e.length;let i,o,r=0;for(;r<n;)i=e.charCodeAt(r++),i>=55296&&i<=56319&&r<n?(o=e.charCodeAt(r++),56320==(64512&o)?t.push(((1023&i)<<10)+(1023&o)+65536):(t.push(i),r--)):t.push(i);return t}(e),r=o.length;let s,a=-1,l="";for(;++a<r;)s=o[a],l+=i(s);return l}var U2=(e,t,n,i,o,r)=>{const{content:s,path:a,created:l}=e,u=(e=>{let t=e.getHours();return t<<=6,t|=e.getMinutes(),t<<=5,t|=e.getSeconds()/2,t})(l),c=(e=>{let t=e.getFullYear()-1980;return t<<=4,t|=e.getMonth()+1,t<<=5,t|=e.getDate(),t})(l),d=H2(o),h=void 0!==r?r:i,p=W2(a),g=p!==a;let m="";if(g){const e=z2(1,1)+z2(H2(p),4)+p;m="up"+z2(e.length,2)+e}const v="\x14\0"+(g?"\0\b":"\0\0")+z2(t?8:0,2)+z2(u,2)+z2(c,2)+z2(h?d:0,4)+z2(null!==r&&void 0!==r?r:i,4)+z2(i,4)+z2(p.length,2)+z2(m.length,2),f="PK\x03\x04"+v+p+m,w="PK\x01\x02\x14\0"+v+"\0\0\0\0\0\0"+(s?"\0\0\0\0":"\x10\0\0\0")+z2(n,4)+p+m;return{localFileHeader:Uint8Array.from(f,e=>e.charCodeAt(0)),centralDirectoryHeader:Uint8Array.from(w,e=>e.charCodeAt(0))}},K2=e=>{let t;if("string"===typeof e){const n=atob(e.split(";base64,")[1]);t=Uint8Array.from(n,e=>e.charCodeAt(0))}else t=e;return{size:t.length,content:t}},q2=async(e,t)=>{const{content:n}=e,{size:i,content:o}=n?K2(n):{size:0,content:Uint8Array.from([])};let r,s,a=!1;if("file"===e.type&&o&&i>0){const e=await G2(o);r=e.content,s=e.size,a=!0}return d(d({},U2(e,a,t,i,o,s)),{},{content:r||o,isCompressed:a})},Y2=(e,t)=>{const{content:n}=e,{content:i}=n?K2(n):{content:Uint8Array.from([])};return d(d({},U2(e,!1,t,i.length,i,void 0)),{},{content:i,isCompressed:!1})},Z2=class{constructor(){this.folders=[],this.files=[]}addFolders(e){e.forEach(this.addFolder.bind(this))}addFolder(e){this.folders.push({path:e,created:new Date,isBase64:!1,type:"folder"})}addFile(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.files.push({path:e,created:new Date,content:n?t:(new TextEncoder).encode(t),isBase64:n,type:"file"})}async getZipFile(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"application/zip";const t=await this.buildCompressedFileStream();return this.clearStream(),new Blob([t],{type:e})}getUncompressedZipFile(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"application/zip";const t=this.buildFileStream();return this.clearStream(),new Blob([t],{type:e})}clearStream(){this.folders=[],this.files=[]}packageFiles(e){let t=0,n=0;for(const u of e){const{localFileHeader:e,centralDirectoryHeader:i,content:o}=u;t+=e.length+o.length,n+=i.length}const i=new Uint8Array(t),o=new Uint8Array(n);let r=0,s=0;for(const u of e){const{localFileHeader:e,centralDirectoryHeader:t,content:n}=u;i.set(e,r),r+=e.length,i.set(n,r),r+=n.length,o.set(t,s),s+=t.length}const a=((e,t,n)=>{const i="PK\x05\x06\0\0\0\0"+z2(e,2)+z2(e,2)+z2(t,4)+z2(n,4)+"\0\0";return Uint8Array.from(i,e=>e.charCodeAt(0))})(e.length,n,t),l=new Uint8Array(i.length+o.length+a.length);return l.set(i),l.set(o,i.length),l.set(a,i.length+o.length),l}async buildCompressedFileStream(){const e=[...this.folders,...this.files],t=[];let n=0;for(const i of e){const e=await q2(i,n),{localFileHeader:o,content:r}=e;t.push(e),n+=o.length+r.length}return this.packageFiles(t)}buildFileStream(){const e=[...this.folders,...this.files],t=[];let n=0;for(const i of e){const e=Y2(i,n),{localFileHeader:o,content:r}=e;t.push(e),n+=o.length+r.length}return this.packageFiles(t)}},$2=(e,t,n)=>{const i="xl/drawings",o="".concat(i,"/drawing").concat(n+1,".xml"),r="".concat(i,"/_rels/drawing").concat(n+1,".xml.rels");e.addFile(r,function(e){const t=k2.get(e)||[],n=[];for(const[i,o]of t){const{index:e,type:t}=o;n.push({Id:"rId".concat(e+1),Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",Target:"../media/image".concat(F2.get(i).index+1,".").concat(F0(t))})}return C0(z0.getTemplate(n))}(t)),e.addFile(o,function(e){return C0(B0.getTemplate({sheetIndex:e}))}(t))},X2=(e,t,n)=>{const i="xl/drawings",o="".concat(i,"/vmlDrawing").concat(n+1,".vml"),r="".concat(i,"/_rels/vmlDrawing").concat(n+1,".vml.rels");e.addFile(o,function(e){return C0(Y1.getTemplate({sheetIndex:e}),!0)}(t)),e.addFile(r,function(e){const t=E2.get(e)||[],n=[];for(let i=0;i<t.length;i++){const e=t[i],o=F2.get(e.id);if(!o)continue;const{index:r,type:s}=o;n.push({Id:"rId".concat(i+1),Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",Target:"../media/image".concat(r+1,".").concat(F0(s))})}return C0(z0.getTemplate(n))}(t))},Q2=(e,t,n,i,o)=>{var r,s;e.addFile("xl/workbook.xml",(r=o,C0(X1.getTemplate(S2,r)))),e.addFile("xl/styles.xml",(s=t,C0(P1.getTemplate(s)))),e.addFile("xl/sharedStrings.xml",C0(V0.getTemplate(y2))),e.addFile("xl/theme/theme1.xml",C0(W1.getTemplate())),e.addFile("xl/_rels/workbook.xml.rels",function(e){const t=new Array(e).fill(void 0).map((e,t)=>({Id:"rId".concat(t+1),Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet",Target:"worksheets/sheet".concat(t+1,".xml")})),n=z0.getTemplate([...t,{Id:"rId".concat(e+1),Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",Target:"theme/theme1.xml"},{Id:"rId".concat(e+2),Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",Target:"styles.xml"},{Id:"rId".concat(e+3),Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",Target:"sharedStrings.xml"}]);return C0(n)}(i)),e.addFile("docProps/core.xml",function(e){return C0(A0.getTemplate(e))}(n)),e.addFile("[Content_Types].xml",function(e){return C0(k0.getTemplate(e))}(i)),e.addFile("_rels/.rels",function(){const e=z0.getTemplate([{Id:"rId1",Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",Target:"xl/workbook.xml"},{Id:"rId2",Type:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",Target:"docProps/core.xml"}]);return C0(e)}())},J2=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!t||0===t.length)return iB(159),L2(),!1;const{fontSize:i=11,author:o="AG Grid",activeTab:r=0}=n,s=t.length,a=Math.max(Math.min(r,s-1),0);return(e=>{if(e.addFolders(["_rels/","docProps/","xl/","xl/theme/","xl/_rels/","xl/worksheets/"]),!x2.size)return;e.addFolders(["xl/worksheets/_rels","xl/drawings/","xl/drawings/_rels","xl/media/"]);let t=0;x2.forEach(n=>{const i=n[0].image[0],{base64:o,imageType:r}=i;e.addFile("xl/media/image".concat(++t,".").concat(F0(r)),o,!0)})})(e),(e=>{const t=A2,n=Array.from(t.keys());for(let i=0;i<n.length;i++){const o=n[i],r=t.get(o);r&&e.addFile("xl/tables/".concat(r.name,".xml"),N2(r,i))}})(e),((e,t)=>{let n=0,i=0;for(let o=0;o<t.length;o++){const r=t[o];e.addFile("xl/worksheets/sheet".concat(o+1,".xml"),r,!1);const s=x2.size>0&&D2.has(o),a=A2.size>0&&A2.get(o),l=x2.size&&E2.has(o);if(!s&&!a&&!l)continue;let u,c,d;s&&($2(e,o,n),c=n,n++),l&&(X2(e,o,i),d=i,i++),a&&(u=a.name);const h="xl/worksheets/_rels/sheet".concat(o+1,".xml.rels");e.addFile(h,B2({tableName:u,drawingIndex:c,vmlDrawingIndex:d}))}})(e,t),Q2(e,i,o,s,a),L2(),!0},e5=e=>{const{data:t,fontSize:n,author:i,activeSheetIndex:o}=e,r=e.mimeType||"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",s=new Z2;return J2(s,t,{author:i,fontSize:n,activeTab:o})?s.getZipFile(r):Promise.resolve(void 0)},t5=e=>{const{data:t,fontSize:n,author:i,activeSheetIndex:o}=e,r=e.mimeType||"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",s=new Z2;if(J2(s,t,{author:i,fontSize:n,activeTab:o}))return s.getUncompressedZipFile(r)},n5="34.1.2",i5={moduleName:"EnterpriseCore",version:n5,beans:[class extends vO{constructor(){super(...arguments),this.beanName="licenseManager"}postConstruct(){this.validateLicense()}validateLicense(){this.licenseManager=new u0(CB(this.beans)),this.licenseManager.validateLicense()}static getLicenseDetails(e){return new u0(null).getLicenseDetails(e)}getWatermarkSelector(){return d0}isDisplayWatermark(){return this.licenseManager.isDisplayWatermark()}getWatermarkMessage(){return this.licenseManager.getWatermarkMessage()}static setLicenseKey(e){u0.setLicenseKey(e)}static setChartsLicenseManager(e){u0.setChartsLicenseManager(e)}}],icons:{accordionOpen:"tree-open",accordionClosed:"tree-closed",accordionIndeterminate:"tree-indeterminate",close:"cross",cancel:"cancel",maximize:"maximize",minimize:"minimize",columnDrag:"grip"},dependsOn:[]};var o5={ariaAdvancedFilterBuilderItem:e=>"".concat(e[0],". Level ").concat(e[1],". Press ENTER to edit"),ariaAdvancedFilterBuilderItemValidation:e=>"".concat(e[0],". Level ").concat(e[1],". ").concat(e[2]," Press ENTER to edit"),ariaAdvancedFilterBuilderList:"Advanced Filter Builder List",ariaAdvancedFilterBuilderFilterItem:"Filter Condition",ariaAdvancedFilterBuilderGroupItem:"Filter Group",ariaAdvancedFilterBuilderColumn:"Column",ariaAdvancedFilterBuilderOption:"Option",ariaAdvancedFilterBuilderValue:"Value",ariaAdvancedFilterBuilderJoinOperator:"Join Operator",ariaAdvancedFilterInput:"Advanced Filter Input",ariaLabelAdvancedFilterAutocomplete:"Advanced Filter Autocomplete",advancedFilterContains:"contains",advancedFilterNotContains:"does not contain",advancedFilterTextEquals:"equals",advancedFilterTextNotEqual:"does not equal",advancedFilterStartsWith:"begins with",advancedFilterEndsWith:"ends with",advancedFilterBlank:"is blank",advancedFilterNotBlank:"is not blank",advancedFilterEquals:"=",advancedFilterNotEqual:"!=",advancedFilterGreaterThan:">",advancedFilterGreaterThanOrEqual:">=",advancedFilterLessThan:"<",advancedFilterLessThanOrEqual:"<=",advancedFilterTrue:"is true",advancedFilterFalse:"is false",advancedFilterAnd:"AND",advancedFilterOr:"OR",advancedFilterApply:"Apply",advancedFilterReset:"Reset",advancedFilterCancel:"Cancel",advancedFilterClear:"Clear",advancedFilterBuilder:"Builder",advancedFilterValidationMissingColumn:"Column is missing",advancedFilterValidationMissingOption:"Option is missing",advancedFilterValidationMissingValue:"Value is missing",advancedFilterValidationInvalidColumn:"Column not found",advancedFilterValidationInvalidOption:"Option not found",advancedFilterValidationMissingQuote:"Value is missing an end quote",advancedFilterValidationNotANumber:"Value is not a number",advancedFilterValidationInvalidDate:"Value is not a valid date",advancedFilterValidationMissingCondition:"Condition is missing",advancedFilterValidationJoinOperatorMismatch:"Join operators within a condition must be the same",advancedFilterValidationInvalidJoinOperator:"Join operator not found",advancedFilterValidationMissingEndBracket:"Missing end bracket",advancedFilterValidationExtraEndBracket:"Too many end brackets",advancedFilterValidationMessage:e=>"Expression has an error. ".concat(e[0]," - ").concat(e[1],"."),advancedFilterValidationMessageAtEnd:e=>"Expression has an error. ".concat(e[0]," at end of expression."),advancedFilterBuilderTitle:"Advanced Filter",advancedFilterBuilderApply:"Apply",advancedFilterBuilderCancel:"Cancel",advancedFilterBuilderClear:"Clear",advancedFilterBuilderReset:"Reset",advancedFilterBuilderAddButtonTooltip:"Add Filter or Group",advancedFilterBuilderRemoveButtonTooltip:"Remove",advancedFilterBuilderMoveUpButtonTooltip:"Move Up",advancedFilterBuilderMoveDownButtonTooltip:"Move Down",advancedFilterBuilderAddJoin:"Add Group",advancedFilterBuilderAddCondition:"Add Filter",advancedFilterBuilderSelectColumn:"Select a column",advancedFilterBuilderSelectOption:"Select an option",advancedFilterBuilderEnterValue:"Enter a value...",advancedFilterBuilderValidationAlreadyApplied:"Current filter already applied.",advancedFilterBuilderValidationIncomplete:"Not all conditions are complete.",advancedFilterBuilderValidationSelectColumn:"Must select a column.",advancedFilterBuilderValidationSelectOption:"Must select an option.",advancedFilterBuilderValidationEnterValue:"Must enter a value."};function r5(e,t,n){if(!e)return"";const i=n-t;return i?e.slice(0,e.length-i):e}function s5(e,t,n,i,o,r,s){const a=n+(!e.length||s?0:1);let l=0;o&&(" "===e[a]?l=1:(i+=" ",r&&(i+='"')));return{updatedValue:e.slice(0,t)+i+e.slice(a),updatedPosition:t+i.length+l}}function a5(e,t,n,i){let o=t,r=!1;for(;o<e.length;){const t=e[o];if("("===t){i&&" "===e[o-1]?r=!0:o-=1;break}if(" "===t||n&&")"===t){o-=1;break}o++}return{endPosition:o,isEmpty:r}}function l5(e,t,n,i){n!==t&&(e.expression=s5(e.expression,i-t.length+1,i,n).updatedValue)}var u5=class{constructor(e,t){this.params=e,this.startPosition=t,this.type="column",this.valid=!0,this.hasStartChar=!1,this.hasEndChar=!1,this.colName=""}parse(e,t){if(e!==h5||this.colName)if(e===p5&&this.hasStartChar){if(this.parseColumn(!1,t))return this.hasEndChar=!0,!1;this.colName+=e}else this.colName+=e;else this.hasStartChar=!0}getDisplayValue(){return(this.hasStartChar?h5:"")+this.colName+(this.hasEndChar?p5:"")}getColId(){return this.colId}complete(e){this.parseColumn(!0,e)}getValidationError(){var e;return this.valid?null:{message:this.params.advFilterExpSvc.translate("advancedFilterValidationInvalidColumn"),startPosition:this.startPosition,endPosition:null!==(e=this.endPosition)&&void 0!==e?e:this.params.expression.length-1}}parseColumn(e,t){this.endPosition=t;const n=this.params.advFilterExpSvc.getColId(this.colName);var i,o;if(n&&this.hasStartChar&&(this.colId=n.colId,l5(this.params,this.colName,n.columnName,t-1),this.colName=n.columnName,this.column=this.params.colModel.getColDefCol(this.colId),this.column))return this.baseCellDataType=null!==(i=null===(o=this.params.dataTypeSvc)||void 0===o?void 0:o.getBaseDataType(this.column))&&void 0!==i?i:"text",!0;return e&&(this.valid=!1),this.baseCellDataType="text",!1}},c5=class{constructor(e,t,n){this.params=e,this.startPosition=t,this.baseCellDataType=n,this.type="operator",this.valid=!0,this.expectedNumOperands=0,this.operator=""}parse(e,t){if(" "===e||")"===e){if(this.parseOperator(!1,t-1))return!0;this.operator+=e}else this.operator+=e}complete(e){this.parseOperator(!0,e)}getValidationError(){var e;return this.valid?null:{message:this.params.advFilterExpSvc.translate("advancedFilterValidationInvalidOption"),startPosition:this.startPosition,endPosition:null!==(e=this.endPosition)&&void 0!==e?e:this.params.expression.length-1}}getDisplayValue(){return this.operator}getOperatorKey(){return this.parsedOperator}parseOperator(e,t){const n=this.params.advFilterExpSvc.getDataTypeExpressionOperator(this.baseCellDataType),i=n.findOperator(this.operator);if(this.endPosition=t,i){this.parsedOperator=i;const e=n.operators[i];this.expectedNumOperands=e.numOperands;const o=e.displayValue;return l5(this.params,this.operator,o,t),this.operator=o,!0}return!e&&null===i||(this.valid=!1),!1}},d5=class{constructor(e,t,n,i){var o=this;this.params=e,this.startPosition=t,this.baseCellDataType=n,this.column=i,this.type="operand",this.valid=!0,this.operand="",this.validationMessage=null,this.filterValidationSetters={number:()=>{(this.quotes||isNaN(this.modelValue))&&(this.valid=!1,this.validationMessage=this.params.advFilterExpSvc.translate("advancedFilterValidationNotANumber"))},date:e=>{null==e&&(this.valid=!1,this.validationMessage=this.params.advFilterExpSvc.translate("advancedFilterValidationInvalidDate"))},dateString:function(){return o.filterValidationSetters.date(...arguments)},dateTime:function(){return o.filterValidationSetters.date(...arguments)},dateTimeString:function(){return o.filterValidationSetters.date(...arguments)},boolean(){},object(){},text(){}}}parse(e,t){if(" "===e){if(!this.quotes)return this.parseOperand(!1,t),!0;this.operand+=e}else if(")"===e){if("number"===this.baseCellDataType||!this.quotes)return this.parseOperand(!1,t-1),!0;this.operand+=e}else if(this.operand||this.quotes||"'"!==e&&'"'!==e){if(this.quotes&&e===this.quotes)return this.parseOperand(!1,t),!1;this.operand+=e}else this.quotes=e}complete(e){this.parseOperand(!0,e)}getValidationError(){var e;return this.validationMessage?{message:this.validationMessage,startPosition:this.startPosition,endPosition:null!==(e=this.endPosition)&&void 0!==e?e:this.params.expression.length-1}:null}getRawValue(){return this.operand}getModelValue(){return this.modelValue}parseOperand(e,t){const{advFilterExpSvc:n}=this.params;if(this.endPosition=t,this.modelValue=this.operand,e&&this.quotes)this.valid=!1,this.validationMessage=n.translate("advancedFilterValidationMissingQuote");else if(""===this.modelValue)this.valid=!1,this.validationMessage=n.translate("advancedFilterValidationMissingValue");else{const e=n.getOperandModelValue(this.operand,this.baseCellDataType,this.column);null!=e&&(this.modelValue=e),this.filterValidationSetters[this.baseCellDataType](e)}}},h5="[",p5="]",g5=class{constructor(e,t){var n=this;this.params=e,this.startPosition=t,this.isAwaiting=!0,this.operandValueGetters={number:Number,date:e=>this.params.valueSvc.parseValue(this.columnParser.column,null,e,void 0),dateString:function(){return n.operandValueGetters.date(...arguments)},dateTime:function(){return n.operandValueGetters.date(...arguments)},dateTimeString:function(){return n.operandValueGetters.date(...arguments)},boolean:e=>e,object:e=>e,text:e=>e}}parseExpression(){var e,t;let n=this.startPosition;const{expression:i}=this.params;for(;n<i.length;){const e=i[n];if(" "===e&&this.isAwaiting);else{if(this.isAwaiting=!1,!this.parser){let e;this.columnParser?this.operatorParser?(this.operandParser=new d5(this.params,n,this.columnParser.baseCellDataType,this.columnParser.column),e=this.operandParser):(this.operatorParser=new c5(this.params,n,this.columnParser.baseCellDataType),e=this.operatorParser):(this.columnParser=new u5(this.params,n),e=this.columnParser),this.parser=e}const t=this.parser.parse(e,n);if(null!=t){if(this.isComplete())return this.returnEndPosition(t?n-1:n,!0);this.parser=void 0,this.isAwaiting=!0}}n++}return null===(e=this.parser)||void 0===e||null===(t=e.complete)||void 0===t||t.call(e,n-1),this.returnEndPosition(n)}isValid(){return this.isComplete()&&this.columnParser.valid&&this.operatorParser.valid&&(!this.operandParser||this.operandParser.valid)}getValidationError(){var e,t,n,i,o;const r=null!==(e=null!==(t=null===(n=this.columnParser)||void 0===n?void 0:n.getValidationError())&&void 0!==t?t:null===(i=this.operatorParser)||void 0===i?void 0:i.getValidationError())&&void 0!==e?e:null===(o=this.operandParser)||void 0===o?void 0:o.getValidationError();if(r)return r;const s=this.params.expression.length;let a;return this.columnParser?this.operatorParser?this.operatorParser.expectedNumOperands&&!this.operandParser&&(a="advancedFilterValidationMissingValue"):a="advancedFilterValidationMissingOption":a="advancedFilterValidationMissingColumn",a?{message:this.params.advFilterExpSvc.translate(a),startPosition:s,endPosition:s}:null}getFunction(e){return this.getFunctionCommon(e,(e,t,n,i)=>(o,r,s)=>s.operators[t].evaluator(o.getValue(n,r),r,s.evaluatorParams[i],null==e?void 0:s.operands[e]))}getAutocompleteListParams(e){return this.isColumnPosition(e)?this.getColumnAutocompleteListParams(e):this.isOperatorPosition(e)?this.getOperatorAutocompleteListParams(e):this.isBeyondEndPosition(e)?void 0:{enabled:!1}}updateExpression(e,t,n){const{expression:i}=this.params;var o;if(this.isColumnPosition(e))return s5(this.params.expression,this.startPosition,null!==(o=this.columnParser)&&void 0!==o&&o.getColId()?this.columnParser.endPosition:a5(i,e).endPosition,this.params.advFilterExpSvc.getColumnValue(t),!0);if(this.isOperatorPosition(e)){var r;const o=this.getBaseCellDataTypeFromOperatorAutocompleteType(n),u=this.hasOperand(o,t.key),c=u&&this.doesOperandNeedQuotes(o);let h;if(null!=(null===(r=this.operatorParser)||void 0===r?void 0:r.startPosition)&&e<this.operatorParser.startPosition){var s;h=s5(i,e,e,null!==(s=t.displayValue)&&void 0!==s?s:t.key,u,c)}else{var a,l;let n,o=!1;if(null!==(a=this.operatorParser)&&void 0!==a&&a.getOperatorKey())n=this.operatorParser.endPosition;else{const{endPosition:t,isEmpty:r}=a5(i,e,!0,!0);n=t,o=r}h=s5(i,function(e,t,n){let i=t;for(;i<n&&" "===e[i];)i++;return i}(i,this.columnParser.endPosition+1,n),n,null!==(l=t.displayValue)&&void 0!==l?l:t.key,u,c,o)}return d(d({},h),{},{hideAutocomplete:!u})}return null}getModel(){const e=this.columnParser.getColId(),t={filterType:this.columnParser.baseCellDataType,colId:e,type:this.operatorParser.getOperatorKey()};return this.operatorParser.expectedNumOperands&&(t.filter=this.operandParser.getModelValue()),t}getFunctionCommon(e,t){var n,i;const o=this.columnParser.getColId(),r=null===(n=this.operatorParser)||void 0===n?void 0:n.getOperatorKey(),{operators:s,evaluatorParams:a,operands:l}=e,u=this.params.advFilterExpSvc.getExpressionOperator(this.columnParser.baseCellDataType,r),c=this.addToListAndGetIndex(s,u),d=this.params.advFilterExpSvc.getExpressionEvaluatorParams(o),h=this.addToListAndGetIndex(a,d);return t(0===(null===(i=this.operatorParser)||void 0===i?void 0:i.expectedNumOperands)?void 0:this.addToListAndGetIndex(l,this.getOperandValue()),c,o,h)}getOperandValue(){const{baseCellDataType:e,column:t}=this.columnParser,n=this.operandValueGetters[e](this.operandParser.getRawValue());var i,o;return("dateString"===e||"dateTimeString"===e)&&null!==(i=null===(o=this.params.dataTypeSvc)||void 0===o?void 0:o.getDateParserFunction(t)(n))&&void 0!==i?i:n}isComplete(){return!(!this.operatorParser||!(!this.operatorParser.expectedNumOperands||this.operatorParser.expectedNumOperands&&this.operandParser))}isColumnPosition(e){return!this.columnParser||null==this.columnParser.endPosition||e<=this.columnParser.endPosition+1}isOperatorPosition(e){return!this.operatorParser||null==this.operatorParser.endPosition||e<=this.operatorParser.endPosition+1}isBeyondEndPosition(e){return this.isComplete()&&null!=this.endPosition&&e>this.endPosition+1&&this.endPosition+1<this.params.expression.length}returnEndPosition(e,t){return this.endPosition=t?e:e-1,e}getColumnAutocompleteListParams(e){return this.params.advFilterExpSvc.generateAutocompleteListParams(this.params.advFilterExpSvc.getColumnAutocompleteEntries(),"column",this.getColumnSearchString(e))}getColumnSearchString(e){var t,n,i,o,r;const s=null!==(t=null===(n=this.columnParser)||void 0===n?void 0:n.getDisplayValue())&&void 0!==t?t:"",a=r5(s,e,null==(null===(i=this.columnParser)||void 0===i?void 0:i.endPosition)?this.params.expression.length:this.columnParser.endPosition+1),l=(null===(o=this.columnParser)||void 0===o?void 0:o.hasStartChar)&&a.length>0,u=(null===(r=this.columnParser)||void 0===r?void 0:r.hasEndChar)&&a.length===s.length+2;return l?a.slice(1,u?-1:void 0):a}getOperatorAutocompleteListParams(e){var t,n,i,o,r;const s=null===(t=this.columnParser)||void 0===t?void 0:t.column;if(!s)return{enabled:!1};const a=this.columnParser.baseCellDataType,l=null!=(null===(n=this.operatorParser)||void 0===n?void 0:n.startPosition)&&e<this.operatorParser.startPosition?"":r5(null!==(i=null===(o=this.operatorParser)||void 0===o?void 0:o.getDisplayValue())&&void 0!==i?i:"",e,null==(null===(r=this.operatorParser)||void 0===r?void 0:r.endPosition)?this.params.expression.length:this.operatorParser.endPosition+1);return this.params.advFilterExpSvc.generateAutocompleteListParams(this.params.advFilterExpSvc.getOperatorAutocompleteEntries(s,a),"operator-".concat(a),l)}getBaseCellDataTypeFromOperatorAutocompleteType(e){return null===e||void 0===e?void 0:e.replace("operator-","")}hasOperand(e,t){var n,i;return!e||!t||(null!==(n=null===(i=this.params.advFilterExpSvc.getExpressionOperator(e,t))||void 0===i?void 0:i.numOperands)&&void 0!==n?n:0)>0}doesOperandNeedQuotes(e){return"number"!==e}addToListAndGetIndex(e,t){const n=e.length;return e.push(t),n}};function m5(e,t,n){let i=!1;const o=e.toLocaleLowerCase(),r=o+" ",s=Object.keys(t).find(e=>{const s=t[e],a=n(s).toLocaleLowerCase();return a.startsWith(r)&&(i=!0),a===o});return s||(i?null:void 0)}function v5(e,t){return(null!==t&&void 0!==t?t:Object.keys(e)).map(t=>({key:t,displayValue:e[t].displayValue}))}var f5=class{constructor(e){this.params=e,this.initOperators()}getEntries(e){return v5(this.operators,e)}findOperator(e){return m5(e,this.operators,e=>{let{displayValue:t}=e;return t})}initOperators(){const{translate:e}=this.params;this.operators={contains:{displayValue:e("advancedFilterContains"),evaluator:(e,t,n,i)=>this.evaluateExpression(e,t,n,i,!1,(e,t)=>e.includes(t)),numOperands:1},notContains:{displayValue:e("advancedFilterNotContains"),evaluator:(e,t,n,i)=>this.evaluateExpression(e,t,n,i,!0,(e,t)=>!e.includes(t)),numOperands:1},equals:{displayValue:e("advancedFilterTextEquals"),evaluator:(e,t,n,i)=>this.evaluateExpression(e,t,n,i,!1,(e,t)=>e===t),numOperands:1},notEqual:{displayValue:e("advancedFilterTextNotEqual"),evaluator:(e,t,n,i)=>this.evaluateExpression(e,t,n,i,!0,(e,t)=>e!=t),numOperands:1},startsWith:{displayValue:e("advancedFilterStartsWith"),evaluator:(e,t,n,i)=>this.evaluateExpression(e,t,n,i,!1,(e,t)=>e.startsWith(t)),numOperands:1},endsWith:{displayValue:e("advancedFilterEndsWith"),evaluator:(e,t,n,i)=>this.evaluateExpression(e,t,n,i,!1,(e,t)=>e.endsWith(t)),numOperands:1},blank:{displayValue:e("advancedFilterBlank"),evaluator:e=>null==e||"string"===typeof e&&0===e.trim().length,numOperands:0},notBlank:{displayValue:e("advancedFilterNotBlank"),evaluator:e=>null!=e&&("string"!==typeof e||e.trim().length>0),numOperands:0}}}evaluateExpression(e,t,n,i,o,r){return null==e?o:n.caseSensitive?r(n.valueConverter(e,t),i):r(n.valueConverter(e,t).toLocaleLowerCase(),i.toLocaleLowerCase())}},w5=class{constructor(e){this.params=e,this.initOperators()}getEntries(e){return v5(this.operators,e)}findOperator(e){return m5(e,this.operators,e=>{let{displayValue:t}=e;return t})}initOperators(){const{translate:e,equals:t}=this.params;this.operators={equals:{displayValue:e("advancedFilterEquals"),evaluator:(e,n,i,o)=>this.evaluateSingleOperandExpression(e,n,i,o,!!i.includeBlanksInEquals,t),numOperands:1},notEqual:{displayValue:e("advancedFilterNotEqual"),evaluator:(e,n,i,o)=>this.evaluateSingleOperandExpression(e,n,i,o,!!i.includeBlanksInEquals,(e,n)=>!t(e,n)),numOperands:1},greaterThan:{displayValue:e("advancedFilterGreaterThan"),evaluator:(e,t,n,i)=>this.evaluateSingleOperandExpression(e,t,n,i,!!n.includeBlanksInGreaterThan,(e,t)=>e>t),numOperands:1},greaterThanOrEqual:{displayValue:e("advancedFilterGreaterThanOrEqual"),evaluator:(e,t,n,i)=>this.evaluateSingleOperandExpression(e,t,n,i,!!n.includeBlanksInGreaterThan,(e,t)=>e>=t),numOperands:1},lessThan:{displayValue:e("advancedFilterLessThan"),evaluator:(e,t,n,i)=>this.evaluateSingleOperandExpression(e,t,n,i,!!n.includeBlanksInLessThan,(e,t)=>e<t),numOperands:1},lessThanOrEqual:{displayValue:e("advancedFilterLessThanOrEqual"),evaluator:(e,t,n,i)=>this.evaluateSingleOperandExpression(e,t,n,i,!!n.includeBlanksInLessThan,(e,t)=>e<=t),numOperands:1},blank:{displayValue:e("advancedFilterBlank"),evaluator:e=>null==e,numOperands:0},notBlank:{displayValue:e("advancedFilterNotBlank"),evaluator:e=>null!=e,numOperands:0}}}evaluateSingleOperandExpression(e,t,n,i,o,r){return null==e?o:r(n.valueConverter(e,t),i)}},C5=class{constructor(e){this.params=e,this.initOperators()}getEntries(e){return v5(this.operators,e)}findOperator(e){return m5(e,this.operators,e=>{let{displayValue:t}=e;return t})}initOperators(){const{translate:e}=this.params;this.operators={true:{displayValue:e("advancedFilterTrue"),evaluator:e=>!!e,numOperands:0},false:{displayValue:e("advancedFilterFalse"),evaluator:e=>!1===e,numOperands:0},blank:{displayValue:e("advancedFilterBlank"),evaluator:e=>null==e,numOperands:0},notBlank:{displayValue:e("advancedFilterNotBlank"),evaluator:e=>null!=e,numOperands:0}}}};var b5=class extends AG{constructor(e){super(function(e){const t=e.cssIdentifier||"default";return{tag:"div",cls:"ag-panel ag-".concat(t,"-panel"),attrs:{tabindex:"-1"},children:[{tag:"div",ref:"eTitleBar",cls:"ag-panel-title-bar ag-".concat(t,"-panel-title-bar ag-unselectable"),children:[{tag:"span",ref:"eTitle",cls:"ag-panel-title-bar-title ag-".concat(t,"-panel-title-bar-title")},{tag:"div",ref:"eTitleBarButtons",cls:"ag-panel-title-bar-buttons ag-".concat(t,"-panel-title-bar-buttons")}]},{tag:"div",ref:"eContentWrapper",cls:"ag-panel-content-wrapper ag-".concat(t,"-panel-content-wrapper")}]}}(e)),this.config=e,this.closable=!0,this.eContentWrapper=kG,this.eTitleBar=kG,this.eTitleBarButtons=kG,this.eTitle=kG,this.registerCSS(".ag-panel{background-color:var(--ag-panel-background-color);display:flex;flex-direction:column;overflow:hidden;position:relative}.ag-dialog{border:var(--ag-dialog-border);border-radius:var(--ag-border-radius);box-shadow:var(--ag-dialog-shadow);position:absolute}.ag-panel-title-bar{align-items:center;background-color:var(--ag-panel-title-bar-background-color);border-bottom:var(--ag-panel-title-bar-border);color:var(--ag-panel-title-bar-text-color);cursor:default;display:flex;flex:none;font-weight:var(--ag-panel-title-bar-font-weight);height:var(--ag-header-height);padding:var(--ag-spacing) var(--ag-cell-horizontal-padding)}.ag-panel-title-bar-button{cursor:pointer;:where(.ag-icon){color:var(--ag-panel-title-bar-icon-color)}}:where(.ag-ltr) .ag-panel-title-bar-button{margin-left:calc(var(--ag-spacing)*2);margin-right:var(--ag-spacing)}:where(.ag-rtl) .ag-panel-title-bar-button{margin-left:var(--ag-spacing);margin-right:calc(var(--ag-spacing)*2)}.ag-panel-title-bar-title{flex:1 1 auto}.ag-panel-title-bar-buttons{display:flex}.ag-panel-content-wrapper{display:flex;flex:1 1 auto;overflow:hidden;position:relative}:where(.ag-dragging-fill-handle) .ag-dialog,:where(.ag-dragging-range-handle) .ag-dialog{opacity:.7;pointer-events:none}")}postConstruct(){const{component:e,closable:t,hideTitleBar:n,title:i,minWidth:o=250,width:r,minHeight:s=250,height:a,centered:l,popup:u,x:c,y:d,postProcessPopupParams:h}=this.config,p=this.beans,g=this.createManagedBean(new _H(this.getGui(),{minWidth:o,width:r,minHeight:s,height:a,centered:l,x:c,y:d,popup:u,calculateTopBuffer:()=>this.positionableFeature.getHeight()-this.getBodyHeight()}));this.positionableFeature=g;const m=this.getGui();if(e&&this.setBodyComponent(e),n?XL(this.eTitleBar,!1):(i&&this.setTitle(i),this.setClosable(null!=t?t:this.closable)),this.addManagedElementListeners(this.eTitleBar,{mousedown:e=>{if(m.contains(e.relatedTarget)||m.contains(SB(p))||this.eTitleBarButtons.contains(e.target))return void e.preventDefault();const t=this.eContentWrapper.querySelector("button, [href], input, select, textarea, [tabindex]");t&&t.focus()}}),u&&g.isPositioned())return;let v;if(this.renderComponent&&this.renderComponent(),h){const{type:e,eventSource:t,column:n,mouseEvent:i,rowNode:o}=h;v=()=>{var r;return null===(r=p.popupSvc)||void 0===r?void 0:r.callPostProcessPopup(e,m,t,i,n,o)}}g.initialisePosition(v),this.eContentWrapper.style.height="0"}renderComponent(){const e=this.getGui();e.focus(),this.close=()=>{e.parentElement.removeChild(e),this.destroy()}}getHeight(){return this.positionableFeature.getHeight()}setHeight(e){this.positionableFeature.setHeight(e)}getWidth(){return this.positionableFeature.getWidth()}setWidth(e){this.positionableFeature.setWidth(e)}setClosable(e){if(e!==this.closable&&(this.closable=e),e){const e=this.closeButtonComp=new AG({tag:"div",cls:"ag-button"});this.createBean(e);const t=e.getGui(),n=hW("close",this.beans);n.classList.add("ag-panel-title-bar-button-icon"),t.appendChild(n),this.addTitleBarButton(e),e.addManagedElementListeners(t,{click:this.onBtClose.bind(this)})}else if(this.closeButtonComp){const e=this.closeButtonComp.getGui();e.parentElement.removeChild(e),this.closeButtonComp=this.destroyBean(this.closeButtonComp)}}setBodyComponent(e){e.setParentComponent(this),this.eContentWrapper.appendChild(e.getGui())}addTitleBarButton(e,t){const n=this.eTitleBarButtons,i=n.children,o=i.length;null==t&&(t=o),t=Math.max(0,Math.min(t,o)),e.addCss("ag-panel-title-bar-button");const r=e.getGui();0===t?n.insertAdjacentElement("afterbegin",r):t===o?n.insertAdjacentElement("beforeend",r):i[t-1].insertAdjacentElement("afterend",r),e.setParentComponent(this)}getBodyHeight(){return nN(this.eContentWrapper)}getBodyWidth(){return iN(this.eContentWrapper)}setTitle(e){this.eTitle.innerText=e}onBtClose(){this.close()}destroy(){this.closeButtonComp&&(this.closeButtonComp=this.destroyBean(this.closeButtonComp));const e=this.getGui();e&&hN(e)&&this.close(),super.destroy()}},y5=class extends b5{constructor(e){super(d(d({},e),{},{popup:!0})),this.isMaximizable=!1,this.isMaximized=!1,this.maximizeListeners=[],this.resizeListenerDestroy=null,this.lastPosition={x:0,y:0,width:0,height:0}}wireBeans(e){this.popupSvc=e.popupSvc}postConstruct(){const e=this.getGui(),{movable:t,resizable:n,maximizable:i,modal:o}=this.config;if(this.addCss("ag-dialog"),super.postConstruct(),this.tabGuardFeature=this.createManagedBean(new lU(this)),this.tabGuardFeature.initialiseTabGuard({isFocusableContainer:!0,onFocusIn:()=>{var t;null===(t=this.popupSvc)||void 0===t||t.bringPopupToFront(e)},onTabKeyDown:t=>{if(o)return;const n=t.shiftKey,i=mV(this.beans,e,!1,n);i&&!this.tabGuardFeature.getTabGuardCtrl().isTabGuard(i)||bV(this.beans,n)&&t.preventDefault()}}),t&&this.setMovable(t),i&&this.setMaximizable(i),n&&this.setResizable(n),!this.config.modal){const e=this.beans.ctrlsSvc.get("gridCtrl");e.addFocusableContainer(this),this.addDestroyFunc(()=>e.removeFocusableContainer(this))}}setAllowFocus(e){this.tabGuardFeature.getTabGuardCtrl().setAllowFocus(e)}renderComponent(){var e;const t=this.getGui(),{alwaysOnTop:n,modal:i,title:o,afterGuiAttached:r}=this.config,s=this.getLocaleTextFunc(),a=null===(e=this.popupSvc)||void 0===e?void 0:e.addPopup({modal:i,eChild:t,closeOnEsc:!0,closedCallback:this.onClosed.bind(this),alwaysOnTop:n,ariaLabel:o||s("ariaLabelDialog","Dialog"),afterGuiAttached:r});a&&(this.close=a.hideFunc)}onClosed(e){var t,n;this.destroy(),null===(t=(n=this.config).closedCallback)||void 0===t||t.call(n,e)}setMaximized(e){this.isMaximizable&&e!==this.isMaximized&&this.toggleMaximize()}toggleMaximize(){const e=this.positionableFeature.getPosition();if(this.isMaximized){const{x:e,y:t,width:n,height:i}=this.lastPosition;this.setWidth(n),this.setHeight(i),this.positionableFeature.offsetElement(e,t)}else this.lastPosition.width=this.getWidth(),this.lastPosition.height=this.getHeight(),this.lastPosition.x=e.x,this.lastPosition.y=e.y,this.positionableFeature.offsetElement(0,0),this.setHeight("100%"),this.setWidth("100%");this.isMaximized=!this.isMaximized,this.refreshMaximizeIcon()}refreshMaximizeIcon(){XL(this.maximizeIcon,!this.isMaximized),XL(this.minimizeIcon,this.isMaximized)}clearMaximizebleListeners(){this.maximizeListeners.length&&(this.maximizeListeners.forEach(e=>e()),this.maximizeListeners.length=0),this.resizeListenerDestroy&&(this.resizeListenerDestroy(),this.resizeListenerDestroy=null)}destroy(){this.maximizeButtonComp=this.destroyBean(this.maximizeButtonComp),this.clearMaximizebleListeners(),super.destroy()}setResizable(e){this.positionableFeature.setResizable(e)}setMovable(e){this.positionableFeature.setMovable(e,this.eTitleBar)}setMaximizable(e){if(!e)return this.clearMaximizebleListeners(),void(this.maximizeButtonComp&&(this.destroyBean(this.maximizeButtonComp),this.maximizeButtonComp=this.maximizeIcon=this.minimizeIcon=void 0));const t=this.eTitleBar;if(!t||e===this.isMaximizable)return;this.isMaximizable=e;const n=this.buildMaximizeAndMinimizeElements();this.refreshMaximizeIcon(),n.addManagedElementListeners(n.getGui(),{click:this.toggleMaximize.bind(this)}),this.addTitleBarButton(n,0),this.maximizeListeners.push(...this.addManagedElementListeners(t,{dblclick:this.toggleMaximize.bind(this)})),[this.resizeListenerDestroy]=this.addManagedListeners(this.positionableFeature,{resize:()=>{this.isMaximized=!1,this.refreshMaximizeIcon()}})}buildMaximizeAndMinimizeElements(){const e=this.maximizeButtonComp=this.createBean(new AG({tag:"div",cls:"ag-dialog-button"})),t=e.getGui();return this.maximizeIcon=hW("maximize",this.beans),t.appendChild(this.maximizeIcon),this.maximizeIcon.classList.add("ag-panel-title-bar-button-icon"),this.minimizeIcon=hW("minimize",this.beans),t.appendChild(this.minimizeIcon),this.minimizeIcon.classList.add("ag-panel-title-bar-button-icon"),e}};var S5=class extends uU{constructor(e){super(function(e){return{tag:"div",cls:"ag-virtual-list-viewport ag-".concat(e,"-virtual-list-viewport"),role:"presentation",children:[{tag:"div",ref:"eContainer",cls:"ag-virtual-list-container ag-".concat(e,"-virtual-list-container")}]}}((null===e||void 0===e?void 0:e.cssIdentifier)||"default")),this.renderedRows=new Map,this.rowHeight=20,this.pageSize=-1,this.isScrolling=!1,this.isHeightFromTheme=!0,this.eContainer=kG,this.awaitStableCallbacks=[];const{cssIdentifier:t="default",ariaRole:n="listbox",listName:i,moveItemCallback:o}=e||{};this.cssIdentifier=t,this.ariaRole=n,this.listName=i,this.moveItemCallback=o}wireBeans(e){this.environment=e.environment}postConstruct(){this.addScrollListener(),this.rowHeight=this.getItemHeight(),this.addResizeObserver(),this.initialiseTabGuard({onFocusIn:e=>this.onFocusIn(e),onFocusOut:e=>this.onFocusOut(e),focusInnerElement:e=>this.focusInnerElement(e),onTabKeyDown:e=>this.onTabKeyDown(e),handleKeyDown:e=>this.handleKeyDown(e)}),this.refreshAriaProperties(),this.addManagedEventListeners({gridStylesChanged:this.onGridStylesChanged.bind(this)})}onGridStylesChanged(e){e.listItemHeightChanged&&(this.rowHeight=this.getItemHeight(),this.refresh())}refreshAriaProperties(){var e;const t=this.getLocaleTextFunc()("ariaDefaultListName",this.listName||"List"),n=this.eContainer;gL(n,(null===(e=this.model)||void 0===e?void 0:e.getRowCount())>0?this.ariaRole:"presentation"),mL(n,t)}addResizeObserver(){const e=kN(this.beans,this.getGui(),()=>RN(this.beans,()=>this.drawVirtualRows()));this.addDestroyFunc(e)}focusInnerElement(e){return this.focusRow(e?this.model.getRowCount()-1:0),!0}onFocusIn(e){const t=e.target;t.classList.contains("ag-virtual-list-item")&&(this.lastFocusedRowIndex=parseInt(t.getAttribute("aria-posinset"),10)-1)}onFocusOut(e){this.getFocusableElement().contains(e.relatedTarget)||(this.lastFocusedRowIndex=null)}handleKeyDown(e){const{key:t,shiftKey:n}=e;switch(t){case sV.UP:case sV.DOWN:{const i=t===sV.UP;e.preventDefault(),n?this.moveItem(i):this.navigate(i)}break;case sV.PAGE_HOME:case sV.PAGE_END:case sV.PAGE_UP:case sV.PAGE_DOWN:null!==this.navigateToPage(t)&&e.preventDefault()}}onTabKeyDown(e){cO(e),this.forceFocusOutOfContainer(e.shiftKey)}getNextRow(e){if(null==this.lastFocusedRowIndex)return;const t=this.lastFocusedRowIndex+(e?-1:1);return t<0||t>=this.model.getRowCount()?void 0:t}moveItem(e){if(!this.moveItemCallback)return;const t=this.getComponentAt(this.lastFocusedRowIndex);t&&this.moveItemCallback(t,e)}navigate(e){const t=this.getNextRow(e);void 0!==t&&this.focusRow(t)}navigateToPage(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"focused",n=!1;"focused"===t&&(t=this.getLastFocusedRow(),n=!0);const i=this.model.getRowCount()-1;let o=-1;return e===sV.PAGE_HOME?o=0:e===sV.PAGE_END?o=i:e===sV.PAGE_DOWN?o=Math.min(t+this.pageSize,i):e===sV.PAGE_UP&&(o=Math.max(t-this.pageSize,0)),-1===o?null:(n?this.focusRow(o):this.ensureIndexVisible(o),o)}getLastFocusedRow(){return this.lastFocusedRowIndex}focusRow(e){this.isScrolling||(this.isScrolling=!0,this.ensureIndexVisible(e),RN(this.beans,()=>{if(this.isScrolling=!1,!this.isAlive())return;const t=this.renderedRows.get(e);t&&t.eDiv.focus()}))}getComponentAt(e){const t=this.renderedRows.get(e);return t&&t.rowComponent}forEachRenderedRow(e){this.renderedRows.forEach((t,n)=>e(t.rowComponent,n))}getItemHeight(){return this.isHeightFromTheme?this.environment.getDefaultListItemHeight():this.rowHeight}ensureIndexVisible(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=this.model.getRowCount();if("number"!==typeof e||e<0||e>=n)return iB(229,{index:e}),!1;const i=e*this.rowHeight,o=i+this.rowHeight,r=this.getGui(),s=r.scrollTop,a=r.offsetHeight,l=s+a,u=t?0:this.rowHeight,c=l<o-u;if(s>i+u)return r.scrollTop=i,!0;if(c){const e=o-a;return r.scrollTop=e,!0}return!1}setComponentCreator(e){this.componentCreator=e}setComponentUpdater(e){this.componentUpdater=e}getRowHeight(){return this.rowHeight}getScrollTop(){return this.getGui().scrollTop}setRowHeight(e){this.isHeightFromTheme=!1,this.rowHeight=e,this.refresh()}refresh(e){if(null==this.model||!this.isAlive())return;const t=this.model.getRowCount();this.eContainer.style.height="".concat(t*this.rowHeight,"px"),this.refreshAriaProperties(),this.awaitStable(()=>{this.isAlive()&&(this.canSoftRefresh(e)?this.drawVirtualRows(!0):(this.clearVirtualRows(),this.drawVirtualRows()))})}awaitStable(e){if(this.awaitStableCallbacks.push(e),this.awaitStableCallbacks.length>1)return;const t=this.model.getRowCount();WN(()=>this.eContainer.clientHeight>=t*this.rowHeight,()=>{if(!this.isAlive())return;const e=this.awaitStableCallbacks;this.awaitStableCallbacks=[],e.forEach(e=>e())})}canSoftRefresh(e){return!!(e&&this.renderedRows.size&&"function"===typeof this.model.areRowsEqual&&this.componentUpdater)}clearVirtualRows(){this.renderedRows.forEach((e,t)=>this.removeRow(t))}drawVirtualRows(e){if(!this.isAlive()||!this.model)return;const t=this.getGui(),n=t.scrollTop,i=n+t.offsetHeight;if(n===i)this.clearVirtualRows();else{const t=Math.floor(n/this.rowHeight),o=Math.floor(i/this.rowHeight);this.pageSize=Math.floor((i-n)/this.rowHeight),this.ensureRowsRendered(t,o,e)}}ensureRowsRendered(e,t,n){this.renderedRows.forEach((n,i)=>{(i<e||i>t)&&i!==this.lastFocusedRowIndex&&this.removeRow(i)}),n&&this.refreshRows();for(let i=e;i<=t;i++)this.renderedRows.has(i)||i<this.model.getRowCount()&&this.insertRow(i)}insertRow(e){const t=this.model.getRow(e),n="tree"===this.ariaRole?"treeitem":"option",i=MN({tag:"div",cls:"ag-virtual-list-item ag-".concat(this.cssIdentifier,"-virtual-list-item"),role:n,attrs:{tabindex:"-1"}});FL(i,this.model.getRowCount()),kL(i,e+1),i.style.height="".concat(this.rowHeight,"px"),i.style.top="".concat(this.rowHeight*e,"px");const o=this.componentCreator(t,i);o.addGuiEventListener("focusin",()=>this.lastFocusedRowIndex=e),i.appendChild(o.getGui()),this.renderedRows.has(e-1)?this.renderedRows.get(e-1).eDiv.insertAdjacentElement("afterend",i):this.renderedRows.has(e+1)?this.renderedRows.get(e+1).eDiv.insertAdjacentElement("beforebegin",i):this.eContainer.appendChild(i),this.renderedRows.set(e,{rowComponent:o,eDiv:i,value:t})}removeRow(e){const t=this.renderedRows.get(e);this.eContainer.removeChild(t.eDiv),this.destroyBean(t.rowComponent),this.renderedRows.delete(e)}refreshRows(){const e=this.model.getRowCount();this.renderedRows.forEach((t,n)=>{if(n>=e)this.removeRow(n);else{var i,o;const e=this.model.getRow(n);null!==(i=(o=this.model).areRowsEqual)&&void 0!==i&&i.call(o,t.value,e)?this.componentUpdater(e,t.rowComponent):this.removeRow(n)}})}addScrollListener(){this.addGuiEventListener("scroll",()=>this.drawVirtualRows(),{passive:!0})}setModel(e){this.model=e}getAriaElement(){return this.eContainer}destroy(){this.isAlive()&&(this.clearVirtualRows(),this.awaitStableCallbacks.length=0,super.destroy())}},x5={tag:"div",cls:"ag-autocomplete-row",role:"presentation",children:[{tag:"div",cls:"ag-autocomplete-row-label"}]},D5=class extends AG{constructor(){super(x5),this.hasHighlighting=!1}setState(e,t){this.value=e,this.render(),this.updateSelected(t)}updateSelected(e){this.toggleCss("ag-autocomplete-row-selected",e)}setSearchString(e){let t=!1;const{value:n}=this;if(n&&UI(e)){const i=n.toLocaleLowerCase().indexOf(e.toLocaleLowerCase());if(i>=0){t=!0,this.hasHighlighting=!0;const o=i+e.length,r=this.getGui().lastElementChild;uN(r),r.append(n.slice(0,i),MN({tag:"b",children:n.slice(i,o)}),n.slice(o))}}!t&&this.hasHighlighting&&(this.hasHighlighting=!1,this.render())}render(){var e;this.getGui().lastElementChild.textContent=null!==(e=this.value)&&void 0!==e?e:"\xa0"}},E5={tag:"div",cls:"ag-autocomplete-list-popup",children:[{tag:"div",ref:"eList",cls:"ag-autocomplete-list"}]},F5=class extends sW{constructor(e){super(E5),this.params=e,this.eList=kG,this.searchString=""}postConstruct(){this.autocompleteEntries=this.params.autocompleteEntries,this.virtualList=this.createManagedBean(new S5({cssIdentifier:"autocomplete"})),this.virtualList.setComponentCreator(this.createRowComponent.bind(this)),this.eList.appendChild(this.virtualList.getGui()),this.virtualList.setModel({getRowCount:()=>this.autocompleteEntries.length,getRow:e=>this.autocompleteEntries[e]});const e=this.virtualList.getGui();this.addManagedListeners(e,{click:()=>this.params.onConfirmed(),mousemove:this.onMouseMove.bind(this),mousedown:e=>e.preventDefault()}),this.setSelectedValue(0)}onNavigationKeyDown(e,t){e.preventDefault();const n=this.autocompleteEntries.indexOf(this.selectedValue),i=t===sV.UP?n-1:n+1;this.checkSetSelectedValue(i)}setSearch(e){this.searchString=e,UI(e)?this.runSearch():(this.autocompleteEntries=this.params.autocompleteEntries,this.virtualList.refresh(),this.checkSetSelectedValue(0)),this.updateSearchInList()}runContainsSearch(e,t){let n,i=!1;const o=e.toLocaleLowerCase(),r=t.filter(e=>{const t=e.toLocaleLowerCase().indexOf(o),r=0===t,s=t>=0;return s&&(!n||!i&&r||i===r&&e.length<n.length)&&(n=e,i=r),s});return!n&&r.length&&(n=r[0]),{topMatch:n,allMatches:r}}runSearch(){const{autocompleteEntries:e,useFuzzySearch:t,forceLastSelection:n}=this.params,i=e.map(e=>{var t;return null!==(t=e.displayValue)&&void 0!==t?t:e.key});let o,r;if(t)o=nZ({inputValue:this.searchString,allSuggestions:i,hideIrrelevant:!0}).values,r=o.length?o[0]:void 0;else{const e=this.runContainsSearch(this.searchString,i);o=e.allMatches,r=e.topMatch}let s=e.filter(e=>{let{key:t,displayValue:n}=e;return o.includes(null!==n&&void 0!==n?n:t)});if(!s.length&&this.selectedValue&&null!==n&&void 0!==n&&n(this.selectedValue,this.searchString)&&(s=[this.selectedValue]),this.autocompleteEntries=s,this.virtualList.refresh(),!r)return;const a=o.indexOf(r);this.checkSetSelectedValue(a)}updateSearchInList(){this.virtualList.forEachRenderedRow(e=>e.setSearchString(this.searchString))}checkSetSelectedValue(e){e>=0&&e<this.autocompleteEntries.length&&this.setSelectedValue(e)}setSelectedValue(e){const t=this.autocompleteEntries[e];this.selectedValue!==t&&(this.selectedValue=t,this.virtualList.ensureIndexVisible(e),this.virtualList.forEachRenderedRow((t,n)=>{t.updateSelected(e===n)}))}createRowComponent(e){var t;const n=new D5;return this.createBean(n),n.setState(null!==(t=e.displayValue)&&void 0!==t?t:e.key,e===this.selectedValue),n}onMouseMove(e){const t=this.virtualList,n=t.getGui().getBoundingClientRect(),i=t.getScrollTop(),o=e.clientY-n.top+i,r=Math.floor(o/t.getRowHeight());this.checkSetSelectedValue(r)}afterGuiAttached(){this.virtualList.refresh()}getSelectedValue(){var e;return this.autocompleteEntries.length&&null!==(e=this.selectedValue)&&void 0!==e?e:null}},k5={tag:"div",cls:"ag-autocomplete",role:"presentation",children:[{tag:"ag-input-text-field",ref:"eAutocompleteInput"}]},A5={selector:"AG-AUTOCOMPLETE",component:class extends AG{constructor(){super(k5,[qW]),this.eAutocompleteInput=kG,this.isListOpen=!1,this.lastPosition=0,this.valid=!0,this.registerCSS(".ag-autocomplete{align-items:center;display:flex;width:100%;>*{flex:1 1 auto}}.ag-autocomplete-list-popup{background-color:var(--ag-background-color);border-radius:var(--ag-border-radius);box-shadow:var(--ag-dropdown-shadow);padding:0;position:absolute;-webkit-user-select:none;-moz-user-select:none;user-select:none}.ag-autocomplete-list{height:calc(var(--ag-row-height)*6.5);min-width:200px;position:relative;width:100%}.ag-autocomplete-virtual-list-item{cursor:default;display:flex;height:var(--ag-list-item-height);&:focus-visible:after{content:none}&:hover{background-color:var(--ag-row-hover-color)}}.ag-autocomplete-row{align-items:center;display:flex;flex:1 1 auto;overflow:hidden}.ag-autocomplete-row-label{margin:0 var(--ag-widget-container-horizontal-padding);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ag-autocomplete-row-selected{background-color:var(--ag-selected-row-background-color)}")}wireBeans(e){this.popupSvc=e.popupSvc}postConstruct(){this.eAutocompleteInput.onValueChange(e=>this.onValueChanged(e)),this.eAutocompleteInput.getInputElement().setAttribute("autocomplete","off"),this.addGuiEventListener("keydown",this.onKeyDown.bind(this)),this.addGuiEventListener("click",this.updatePositionAndList.bind(this)),this.addDestroyFunc(()=>{this.destroyBean(this.autocompleteList)}),this.addGuiEventListener("focusout",()=>this.onFocusOut())}onValueChanged(e){const t=WI(e);this.updateValue(t),this.updateAutocompleteList(t)}updateValue(e){this.updateLastPosition(),this.dispatchLocalEvent({type:"eventValueChanged",value:e}),this.validate(e)}updateAutocompleteList(e){var t,n,i;const o=null!==(t=null===(n=this.listGenerator)||void 0===n?void 0:n.call(this,e,this.lastPosition))&&void 0!==t?t:{enabled:!1};o.type&&o.type===(null===(i=this.autocompleteListParams)||void 0===i?void 0:i.type)||this.isListOpen&&this.closeList();const r=this.isListOpen;if(this.autocompleteListParams=o,null!==o&&void 0!==o&&o.enabled){r||this.openList();const{searchString:e}=o;this.autocompleteList.setSearch(null!==e&&void 0!==e?e:"")}else r&&this.closeList()}onKeyDown(e){const t=e.key;switch(this.updateLastPosition(),t){case sV.ENTER:this.onEnterKeyDown(e);break;case sV.TAB:this.onTabKeyDown(e);break;case sV.DOWN:case sV.UP:this.onUpDownKeyDown(e,t);break;case sV.LEFT:case sV.RIGHT:case sV.PAGE_HOME:case sV.PAGE_END:setTimeout(()=>{this.updatePositionAndList()});break;case sV.ESCAPE:this.onEscapeKeyDown(e);break;case sV.SPACE:e.ctrlKey&&!this.isListOpen&&(e.preventDefault(),this.forceOpenList())}}confirmSelection(){var e;const t=null===(e=this.autocompleteList)||void 0===e?void 0:e.getSelectedValue();t&&(this.closeList(),this.dispatchLocalEvent({type:"eventOptionSelected",value:this.getValue(),position:this.lastPosition,updateEntry:t,autocompleteType:this.autocompleteListParams.type}))}onTabKeyDown(e){this.isListOpen&&(e.preventDefault(),e.stopPropagation(),this.confirmSelection())}onEnterKeyDown(e){e.preventDefault(),this.isListOpen?this.confirmSelection():this.onCompleted()}onUpDownKeyDown(e,t){var n;(e.preventDefault(),this.isListOpen)?null===(n=this.autocompleteList)||void 0===n||n.onNavigationKeyDown(e,t):this.forceOpenList()}onEscapeKeyDown(e){this.isListOpen&&(e.preventDefault(),e.stopPropagation(),this.closeList(),this.setCaret(this.lastPosition,!0))}onFocusOut(){this.isListOpen&&this.closeList()}updatePositionAndList(){var e;this.updateLastPosition(),this.updateAutocompleteList(null!==(e=this.eAutocompleteInput.getValue())&&void 0!==e?e:null)}setCaret(e,t){(t||EB(this.beans))&&this.eAutocompleteInput.getFocusableElement().focus();const n=this.eAutocompleteInput.getInputElement();n.setSelectionRange(e,e),e===n.value.length&&(n.scrollLeft=n.scrollWidth)}forceOpenList(){this.onValueChanged(this.eAutocompleteInput.getValue())}updateLastPosition(){var e;this.lastPosition=null!==(e=this.eAutocompleteInput.getInputElement().selectionStart)&&void 0!==e?e:0}validate(e){if(!this.validator)return;const t=this.validationMessage=this.validator(e);this.eAutocompleteInput.getInputElement().setCustomValidity(null!==t&&void 0!==t?t:""),this.valid=!t,this.dispatchLocalEvent({type:"eventValidChanged",isValid:this.valid,validationMessage:t})}openList(){this.isListOpen=!0,this.autocompleteList=this.createBean(new F5({autocompleteEntries:this.autocompleteListParams.entries,onConfirmed:()=>this.confirmSelection(),forceLastSelection:this.forceLastSelection}));const e=this.autocompleteList.getGui(),t={ePopup:e,type:"autocomplete",eventSource:this.getGui(),position:"under",alignSide:this.gos.get("enableRtl")?"right":"left",keepWithinBounds:!0},n=this.popupSvc.addPopup({eChild:e,anchorToElement:this.getGui(),positionCallback:()=>this.popupSvc.positionPopupByComponent(t),ariaLabel:this.listAriaLabel});this.hidePopup=n.hideFunc,this.autocompleteList.afterGuiAttached()}closeList(){this.isListOpen=!1,this.hidePopup(),this.destroyBean(this.autocompleteList),this.autocompleteList=null}onCompleted(){this.isListOpen&&this.closeList(),this.dispatchLocalEvent({type:"eventValueConfirmed",value:this.getValue(),isValid:this.isValid()})}getValue(){return WI(this.eAutocompleteInput.getValue())}setInputPlaceholder(e){return this.eAutocompleteInput.setInputPlaceholder(e),this}setInputAriaLabel(e){return this.eAutocompleteInput.setInputAriaLabel(e),this}setListAriaLabel(e){return this.listAriaLabel=e,this}setListGenerator(e){return this.listGenerator=e,this}setValidator(e){return this.validator=e,this}isValid(){return this.valid}setValue(e){const{value:t,position:n,silent:i,updateListOnlyIfOpen:o,restoreFocus:r}=e;this.eAutocompleteInput.setValue(t,!0),this.setCaret(null!==n&&void 0!==n?n:this.lastPosition,r),i||this.updateValue(t),o&&!this.isListOpen||this.updateAutocompleteList(t)}setForceLastSelection(e){return this.forceLastSelection=e,this}setInputDisabled(e){return this.eAutocompleteInput.setDisabled(e),this}}},R5={buttons:["apply"],suppressBuilderButton:!1},P5={apply:"advancedFilterApply",clear:"advancedFilterClear",cancel:"advancedFilterCancel",reset:"advancedFilterReset"},T5={tag:"div",cls:"ag-advanced-filter",role:"presentation",attrs:{tabindex:"-1"},children:[{tag:"ag-autocomplete",ref:"eAutocomplete"},{tag:"ag-filter-button",ref:"eButtons",cls:"ag-advanced-filter-buttons"},{tag:"button",ref:"eBuilderFilterButton",cls:"ag-button ag-advanced-filter-builder-button",children:[{tag:"span",ref:"eBuilderFilterButtonIcon",attrs:{"aria-hidden":"true"}},{tag:"span",ref:"eBuilderFilterButtonLabel",cls:"ag-advanced-filter-builder-button-label"}]}]},_5=class extends AG{constructor(){super(T5,[A5,iH]),this.eAutocomplete=kG,this.eButtons=kG,this.eBuilderFilterButton=kG,this.eBuilderFilterButtonIcon=kG,this.eBuilderFilterButtonLabel=kG,this.expressionParser=null,this.isApplyDisabled=!0,this.builderOpen=!1}wireBeans(e){this.advFilterExpSvc=e.advFilterExpSvc,this.advancedFilter=e.advancedFilter,this.filterManager=e.filterManager,this.registry=e.registry}postConstruct(){this.tooltipFeature=this.createOptionalManagedBean(this.registry.createDynamicBean("tooltipFeature",!1,{getGui:()=>this.getGui(),getTooltipShowDelayOverride:()=>1e3,getLocation:()=>"advancedFilter"})),this.eAutocomplete.setListGenerator((e,t)=>this.generateAutocompleteListParams(t)).setValidator(()=>this.validateValue()).setForceLastSelection((e,t)=>this.forceLastSelection(e,t)).setInputAriaLabel(this.advFilterExpSvc.translate("ariaAdvancedFilterInput")).setListAriaLabel(this.advFilterExpSvc.translate("ariaLabelAdvancedFilterAutocomplete")),this.refresh(),this.addManagedListeners(this.eAutocomplete,{eventValueChanged:e=>{let{value:t}=e;return this.onValueChanged(t)},eventValueConfirmed:e=>{let{isValid:t}=e;return this.onValueConfirmed(t)},eventOptionSelected:e=>{let{position:t,updateEntry:n,autocompleteType:i}=e;return this.onOptionSelected(t,n,i)},eventValidChanged:e=>{let{isValid:t,validationMessage:n}=e;return this.onValidChanged(t,n)}});const{buttons:e,suppressBuilderButton:t}=d(d({},R5),this.gos.get("advancedFilterParams"));this.setupButtons(e),this.setupBuilderButton(t),this.beans.gos.addManagedPropertyListener("advancedFilterParams",e=>{const t=d(d({},R5),e.currentValue),n=d(d({},R5),e.previousValue);if(t.buttons!==n.buttons){const e=t.buttons.map(e=>({type:e,label:this.advFilterExpSvc.translate(P5[e])}));this.eButtons.updateButtons(e)}t.suppressBuilderButton!==n.suppressBuilderButton&&XL(this.eBuilderFilterButton,!t.suppressBuilderButton)})}refresh(){const e=this.advancedFilter.getExpressionDisplayValue();this.eAutocomplete.setValue({value:null!==e&&void 0!==e?e:"",position:null===e||void 0===e?void 0:e.length,updateListOnlyIfOpen:!0})}setInputDisabled(e){this.eAutocomplete.setInputDisabled(e),this.eButtons.updateValidity(!e&&!this.isApplyDisabled&&!this.advancedFilter.isCurrentExpressionApplied())}setupButtons(e){const t=e.map(e=>({type:e,label:this.advFilterExpSvc.translate(P5[e])})),n=e=>()=>{this.updateModel(e)};this.eButtons.addManagedListeners(this.eButtons,{apply:n("apply"),clear:n("clear"),reset:n("reset"),cancel:n("cancel")}),this.eButtons.updateButtons(t)}updateModel(e){var t,n;switch(e){case"apply":this.onValueConfirmed(this.eAutocomplete.isValid());break;case"reset":this.advancedFilter.setModel(null),null===(t=this.filterManager)||void 0===t||t.onFilterChanged({source:"advancedFilter"});break;case"cancel":this.advancedFilter.setModel(this.advancedFilter.getModel()),null===(n=this.filterManager)||void 0===n||n.onFilterChanged({source:"advancedFilter"});break;case"clear":this.eAutocomplete.setValue({value:"",restoreFocus:!0})}}setupBuilderButton(e){this.eBuilderFilterButtonIcon.appendChild(hW("advancedFilterBuilder",this.beans)),this.eBuilderFilterButtonLabel.textContent=this.advFilterExpSvc.translate("advancedFilterBuilder"),this.activateTabIndex([this.eBuilderFilterButton]),this.addManagedElementListeners(this.eBuilderFilterButton,{click:()=>this.openBuilder()}),this.addManagedListeners(this.advancedFilter.getCtrl(),{advancedFilterBuilderClosed:()=>this.closeBuilder()}),XL(this.eBuilderFilterButton,!e)}onValueChanged(e){var t;e=WI(e),this.advancedFilter.setExpressionDisplayValue(e),this.expressionParser=this.advancedFilter.createExpressionParser(e);const n=null===(t=this.expressionParser)||void 0===t?void 0:t.parseExpression();n&&n!==e&&this.eAutocomplete.setValue({value:n,silent:!0,restoreFocus:!0})}onValueConfirmed(e){var t,n;e&&!this.isApplyDisabled&&(null===(t=this.eButtons)||void 0===t||t.updateValidity(!1),this.advancedFilter.applyExpression(),null===(n=this.filterManager)||void 0===n||n.onFilterChanged({source:"advancedFilter"}))}onOptionSelected(e,t,n){const{updatedValue:i,updatedPosition:o,hideAutocomplete:r}=this.updateExpression(e,t,n);this.eAutocomplete.setValue({value:i,position:o,updateListOnlyIfOpen:r,restoreFocus:!0})}validateValue(){var e,t,n;return null!==(e=this.expressionParser)&&void 0!==e&&e.isValid()?null:null!==(t=null===(n=this.expressionParser)||void 0===n?void 0:n.getValidationMessage())&&void 0!==t?t:null}onValidChanged(e,t){var n;this.isApplyDisabled=!e||this.advancedFilter.isCurrentExpressionApplied(),this.eButtons.updateValidity(!this.isApplyDisabled),null===(n=this.tooltipFeature)||void 0===n||n.setTooltipAndRefresh(t)}generateAutocompleteListParams(e){return this.expressionParser?this.expressionParser.getAutocompleteListParams(e):this.advFilterExpSvc.getDefaultAutocompleteListParams("")}updateExpression(e,t,n){var i,o;return this.advFilterExpSvc.updateAutocompleteCache(t,n),null!==(i=null===(o=this.expressionParser)||void 0===o?void 0:o.updateExpression(e,t,n))&&void 0!==i?i:this.advancedFilter.getDefaultExpression(t)}forceLastSelection(e,t){let{key:n,displayValue:i}=e;return!!t.toLocaleLowerCase().match("^".concat((null!==i&&void 0!==i?i:n).toLocaleLowerCase(),"\\s*$"))}openBuilder(){this.builderOpen||(this.builderOpen=!0,JL(this.eBuilderFilterButton,!0),this.advancedFilter.getCtrl().toggleFilterBuilder({source:"ui",eventSource:this.eBuilderFilterButton}))}closeBuilder(){this.builderOpen&&(this.builderOpen=!1,JL(this.eBuilderFilterButton,!1),this.eBuilderFilterButton.focus())}},M5={tag:"div",cls:"ag-advanced-filter-header",role:"row"},I5=class extends AG{constructor(e){super(M5),this.enabled=e}wireBeans(e){this.colModel=e.colModel,this.focusSvc=e.focusSvc,this.ctrlsSvc=e.ctrlsSvc}postConstruct(){this.setupAdvancedFilter(this.enabled),this.addDestroyFunc(()=>this.destroyBean(this.eAdvancedFilter));const e=()=>{this.enabled&&this.setEnabledHeight()};this.addManagedEventListeners({gridColumnsChanged:()=>this.onGridColumnsChanged(),columnHeaderHeightChanged:e,gridStylesChanged:e}),this.addManagedPropertyListener("headerHeight",e),this.addManagedPropertyListener("floatingFiltersHeight",e),this.addGuiEventListener("keydown",e=>this.onKeyDown(e)),this.addGuiEventListener("focusout",e=>{this.getFocusableElement().contains(e.relatedTarget)||this.focusSvc.clearAdvancedFilterColumn()})}getFocusableElement(){var e,t;return null!==(e=null===(t=this.eAdvancedFilter)||void 0===t?void 0:t.getGui())&&void 0!==e?e:this.getGui()}setEnabled(e){e!==this.enabled&&this.setupAdvancedFilter(e)}refresh(){var e;null===(e=this.eAdvancedFilter)||void 0===e||e.refresh()}getHeight(){return this.height}setInputDisabled(e){var t;null===(t=this.eAdvancedFilter)||void 0===t||t.setInputDisabled(e)}setupAdvancedFilter(e){const t=this.getGui();if(e){this.eAdvancedFilter=this.createBean(new _5);const e=this.eAdvancedFilter.getGui();this.eAdvancedFilter.addCss("ag-advanced-filter-header-cell"),this.setEnabledHeight(),this.setAriaRowIndex(),gL(e,"gridcell"),TL(e,1),this.setAriaColumnCount(e),t.appendChild(e)}else uN(t),this.destroyBean(this.eAdvancedFilter),this.height=0;XL(t,e),this.enabled=e}setEnabledHeight(){const e=this.getGui();this.height=Oj(this.beans);const t="".concat(this.height,"px");e.style.height=t,e.style.minHeight=t}setAriaColumnCount(e){_L(e,this.colModel.getCols().length)}setAriaRowIndex(){var e,t;RL(this.getGui(),null!==(e=null===(t=this.ctrlsSvc.getHeaderRowContainerCtrl())||void 0===t?void 0:t.getRowCount())&&void 0!==e?e:0)}onGridColumnsChanged(){this.eAdvancedFilter&&(this.setAriaColumnCount(this.eAdvancedFilter.getGui()),this.setAriaRowIndex())}onKeyDown(e){switch(e.key){case sV.ENTER:this.hasFocus()&&gV(this.getFocusableElement())&&e.preventDefault();break;case sV.ESCAPE:this.hasFocus()||this.getFocusableElement().focus();break;case sV.UP:this.navigateUpDown(!0,e);break;case sV.DOWN:this.navigateUpDown(!1,e);break;case sV.TAB:if(this.hasFocus())this.navigateLeftRight(e);else{const t=mV(this.beans,this.getFocusableElement(),null,e.shiftKey);t?(e.preventDefault(),t.focus()):this.navigateLeftRight(e)}}}navigateUpDown(e,t){this.hasFocus()&&this.focusSvc.focusNextFromAdvancedFilter(e)&&t.preventDefault()}navigateLeftRight(e){(e.shiftKey?this.focusSvc.focusLastHeader():this.focusSvc.focusNextFromAdvancedFilter(!1,!0))&&e.preventDefault()}hasFocus(){return SB(this.beans)===this.getFocusableElement()}},L5="ag-list-item-hovered",N5=class extends vO{constructor(e,t,n){super(),this.comp=e,this.virtualList=t,this.params=n,this.currentDragValue=null,this.lastHoveredListItem=null}wireBeans(e){this.dragAndDrop=e.dragAndDrop}postConstruct(){this.addManagedListeners(this.params.eventSource,{[this.params.listItemDragStartEvent]:this.listItemDragStart.bind(this),[this.params.listItemDragEndEvent]:this.listItemDragEnd.bind(this)}),this.createDropTarget(),this.createAutoScrollService()}listItemDragStart(e){this.currentDragValue=this.params.getCurrentDragValue(e),this.moveBlocked=this.params.isMoveBlocked(this.currentDragValue)}listItemDragEnd(){window.setTimeout(()=>{this.currentDragValue=null,this.moveBlocked=!1},10)}createDropTarget(){var e;const t={isInterestedIn:e=>e===this.params.dragSourceType,getIconName:()=>this.moveBlocked?"pinned":"move",getContainer:()=>this.comp.getGui(),onDragging:e=>this.onDragging(e),onDragStop:()=>this.onDragStop(),onDragLeave:()=>this.onDragLeave(),onDragCancel:()=>this.onDragCancel()};null===(e=this.dragAndDrop)||void 0===e||e.addDropTarget(t)}createAutoScrollService(){const e=this.virtualList.getGui();this.autoScrollService=new hU({scrollContainer:e,scrollAxis:"y",getVerticalPosition:()=>e.scrollTop,setVerticalPosition:t=>e.scrollTop=t})}onDragging(e){if(!this.currentDragValue||this.moveBlocked)return;const t=this.getListDragItem(e),n=this.virtualList.getComponentAt(t.rowIndex);if(!n)return;const i=n.getGui().parentElement;this.lastHoveredListItem&&this.lastHoveredListItem.rowIndex===t.rowIndex&&this.lastHoveredListItem.position===t.position||(this.autoScrollService.check(e.event),this.clearHoveredItems(),this.lastHoveredListItem=t,YL(i,L5),YL(i,"ag-item-highlight-".concat(t.position)))}getListDragItem(e){const t=this.virtualList.getGui(),n=parseFloat(window.getComputedStyle(t).paddingTop),i=this.virtualList.getRowHeight(),o=this.virtualList.getScrollTop(),r=Math.max(0,(e.y-n+o)/i),s=this.params.getNumRows(this.comp)-1,a=0|Math.min(s,r);return{rowIndex:a,position:Math.round(r)>r||r>s?"bottom":"top",component:this.virtualList.getComponentAt(a)}}onDragStop(){this.moveBlocked||(this.params.moveItem(this.currentDragValue,this.lastHoveredListItem),this.clearDragProperties())}onDragCancel(){this.clearDragProperties()}onDragLeave(){this.clearDragProperties()}clearDragProperties(){this.clearHoveredItems(),this.autoScrollService.ensureCleared()}clearHoveredItems(){this.virtualList.getGui().querySelectorAll(".".concat(L5)).forEach(e=>{[L5,"ag-item-highlight-top","ag-item-highlight-bottom"].forEach(t=>{e.classList.remove(t)})}),this.lastHoveredListItem=null}},B5=class extends vO{constructor(e,t){super(),this.comp=e,this.virtualList=t}postConstruct(){this.createManagedBean(new N5(this.comp,this.virtualList,{dragSourceType:NV.AdvancedFilterBuilder,listItemDragStartEvent:"advancedFilterBuilderDragStarted",listItemDragEndEvent:"advancedFilterBuilderDragEnded",eventSource:this,getCurrentDragValue:e=>this.getCurrentDragValue(e),isMoveBlocked:()=>!1,getNumRows:e=>e.getNumItems(),moveItem:(e,t)=>this.moveItem(e,t)}))}getCurrentDragValue(e){return e.item}moveItem(e,t){this.comp.moveItem(e,t)}},O5={tag:"div",cls:"ag-pill",role:"option",children:[{tag:"span",ref:"eText",cls:"ag-pill-text"},{tag:"span",ref:"eButton",cls:"ag-button ag-pill-button",role:"presentation"}]},G5=class extends AG{constructor(e){super(O5),this.config=e,this.eText=kG,this.eButton=kG}postConstruct(){const{config:e,eButton:t}=this,{onKeyDown:n,onButtonClick:i}=e;this.getGui().setAttribute("tabindex",String(this.gos.get("tabIndex"))),this.addGuiEventListener("focus",()=>{this.eButton.focus()}),n&&this.addGuiEventListener("keydown",n),i&&this.addManagedElementListeners(t,{click:i})}toggleCloseButtonClass(e,t){this.eButton.classList.toggle(e,t)}setText(e){this.eText.textContent=e}getText(){return this.eText.textContent}},z5={tag:"div",cls:"ag-pill-container"},V5=class extends AG{constructor(){super(z5),this.pills=[]}init(e){this.params=e,this.refresh()}refresh(){var e;this.clearPills();const{params:t,onPillKeyDown:n}=this;let i=t.getValue();if(!Array.isArray(i)){if(null==i)return;i=[i]}const o=null!==(e=t.valueFormatter)&&void 0!==e?e:e=>String(e),r=i.length;gL(this.getGui(),0===r?"presentation":"listbox");for(let a=0;a<r;a++){var s;const e=i[a],l=this.createBean(new G5({onButtonClick:()=>this.onPillButtonClick(l),onKeyDown:n.bind(this)})),u=l.getGui();kL(u,a+1),FL(u,r),t.onPillMouseDown&&l.addGuiEventListener("mousedown",t.onPillMouseDown),t.announceItemFocus&&l.addGuiEventListener("focus",t.announceItemFocus),l.setText(null!==(s=o(e))&&void 0!==s?s:""),l.toggleCloseButtonClass("ag-icon-cancel",!0),this.appendChild(u),this.pills.push(l)}}onNavigationKeyDown(e){const{key:t}=e;if(!this.pills.length||t!==sV.LEFT&&t!==sV.RIGHT)return;e.preventDefault();const{params:n,beans:i}=this,o=SB(i),r=this.getGui();if(r.contains(o)){const e=mV(i,r,!1,t===sV.LEFT);e?e.focus():n.eWrapper&&n.eWrapper.focus()}else{const e=pV(r);e.length>0&&e[t===sV.RIGHT?0:e.length-1].focus()}}clearPills(){const e=this.getGui();e.contains(SB(this.beans))&&this.params.eWrapper&&this.params.eWrapper.focus(),uN(e),this.destroyBeans(this.pills),this.pills=[]}onPillButtonClick(e){this.deletePill(e)}onPillKeyDown(e){const t=e.key;if(t!==sV.DELETE&&t!==sV.BACKSPACE)return;e.preventDefault();const n=CB(this.beans),i=this.pills.findIndex(e=>e.getGui().contains(n.activeElement));if(-1===i)return;const o=this.pills[i];o&&this.deletePill(o,i)}deletePill(e,t){const n=e.getText(),i=(this.params.getValue()||[]).filter(e=>e!==n);if(this.params.setValue(i),!i.length&&this.params.eWrapper)this.params.eWrapper.focus();else if(null!=t){const e=this.pills[Math.min(t,this.pills.length-1)];e&&e.getFocusableElement().focus()}}destroy(){this.clearPills(),super.destroy()}},H5={tag:"div",cls:"ag-rich-select-row",role:"presentation"},j5=class extends AG{constructor(e){super(H5),this.params=e}wireBeans(e){this.userCompFactory=e.userCompFactory,this.registry=e.registry}postConstruct(){this.tooltipFeature=this.createOptionalManagedBean(this.registry.createDynamicBean("tooltipFeature",!1,{getGui:()=>this.getGui(),shouldDisplayTooltip:()=>{var e,t;return null===(e=null===(t=this.shouldDisplayTooltip)||void 0===t?void 0:t.call(this))||void 0===e||e}}))}setState(e){var t,n;const{params:i}=this,o=null!==(t=null===(n=i.valueFormatter)||void 0===n?void 0:n.call(i,e))&&void 0!==t?t:"";this.populateWithRenderer(e,o)||this.populateWithoutRenderer(e,o),this.value=e}highlightString(e){const{parsedValue:t,params:n}=this;if(n.cellRenderer||!UI(t))return;let i=UI(e);if(i){const n=null===t||void 0===t?void 0:t.toLocaleLowerCase().indexOf(e.toLocaleLowerCase());if(n>=0){const i=n+e.length,o=this.getGui().querySelector("span");o&&(uN(o),o.append(t.slice(0,n),MN({tag:"span",cls:"ag-rich-select-row-text-highlight",children:t.slice(n,i)}),t.slice(i)))}else i=!1}i||this.renderValueWithoutRenderer(t)}updateSelected(e){LL(this.getGui().parentElement,e),this.toggleCss("ag-rich-select-row-selected",e)}getValue(){return this.value}toggleHighlighted(e){this.toggleCss("ag-rich-select-row-highlighted",e)}populateWithoutRenderer(e,t){var n;const i=this.getGui(),o=MN({tag:"span"});o.style.overflow="hidden",o.style.textOverflow="ellipsis";const r=CO(UI(t)?t:e);this.parsedValue=UI(r)?r:null,i.appendChild(o),this.renderValueWithoutRenderer(r),this.shouldDisplayTooltip=wN(()=>o),null===(n=this.tooltipFeature)||void 0===n||n.setTooltipAndRefresh(this.parsedValue)}renderValueWithoutRenderer(e){const t=this.getGui().querySelector("span");t&&(t.textContent=UI(e)?e:"\xa0")}populateWithRenderer(e,t){let n,i;if(this.params.cellRenderer){var o;const n=null===(o=this.getParentComponent())||void 0===o?void 0:o.getParentComponent();i=ez(this.userCompFactory,this.params,iO(this.gos,{value:e,valueFormatted:t,getValue:()=>null===n||void 0===n?void 0:n.getValue(),setValue:e=>{null===n||void 0===n||n.setValue(e,!0)},setTooltip:(e,t)=>{var n;this.gos.assertModuleRegistered("Tooltip",3),this.shouldDisplayTooltip=t,null===(n=this.tooltipFeature)||void 0===n||n.setTooltipAndRefresh(e)}}))}return i&&(n=i.newAgStackInstance()),n&&$5(n,this.getGui()),!!n&&(n.then(e=>{this.addDestroyFunc(()=>{this.destroyBean(e)})}),!0)}},W5="ag-rich-select-list",U5="ag-rich-select-row",K5=class extends S5{constructor(e,t,n){super({cssIdentifier:"rich-select"}),this.params=e,this.richSelectWrapper=t,this.getSearchString=n,this.lastRowHovered=-1,this.selectedItems=new Set,this.params=e,this.setComponentCreator(this.createRowComponent.bind(this)),this.setComponentUpdater(()=>{})}postConstruct(){super.postConstruct(),this.eLoading=MN({tag:"div",cls:"ag-loading-text",children:this.getLocaleTextFunc()("loadingOoo","Loading...")});const{cellRowHeight:e,pickerAriaLabelKey:t,pickerAriaLabelValue:n}=this.params;e&&this.setRowHeight(e);const i=this.getGui(),o=this.getAriaElement();this.addManagedListeners(i,{mousemove:this.onMouseMove.bind(this),mouseout:this.onMouseOut.bind(this),mousedown:this.onMouseDown.bind(this),click:this.onClick.bind(this)}),i.classList.add(W5);const r="".concat(W5,"-").concat(this.getCompId());o.setAttribute("id",r);mL(o,this.getLocaleTextFunc()(t,n)),OL(this.richSelectWrapper,o)}navigateToPage(e){const t=super.navigateToPage(e,this.lastRowHovered);return null!=t&&RN(this.beans,()=>{if(!this.isAlive())return null;this.highlightIndex(t)}),t}drawVirtualRows(e){super.drawVirtualRows(e),this.refreshSelectedItems()}highlightFilterMatch(e){this.forEachRenderedRow(t=>{t.highlightString(e)})}onNavigationKeyDown(e,t){RN(this.beans,()=>{if(!this.currentList||!this.isAlive())return;const n=this.currentList.length,i=this.lastRowHovered,o=e===sV.DOWN?1:-1,r=Math.min(Math.max(-1===i?0:i+o,0),n-1);this.highlightIndex(r),t()})}selectValue(e){var t,n;if(!this.currentList)return this.eLoading&&this.appendChild(this.eLoading),!1;null!==(t=this.eLoading)&&void 0!==t&&t.offsetParent&&(null===(n=this.eLoading.parentElement)||void 0===n||n.removeChild(this.eLoading));if(null==e)return!1;const i=this.getIndicesForValues(e),o=i.length>0;return o&&(this.refresh(),this.ensureIndexVisible(i[0]),this.refresh(!0)),this.selectListItems(Array.isArray(e)?e:[e]),o}selectListItems(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1]||this.selectedItems.clear();for(let t=0;t<e.length;t++){const n=e[t];void 0===this.findItemInSelected(n)&&this.selectedItems.add(n)}this.refreshSelectedItems()}getCurrentList(){return this.currentList}setCurrentList(e){this.currentList=e,this.setModel({getRowCount:()=>e.length,getRow:t=>e[t],areRowsEqual:(e,t)=>e===t})}getSelectedItems(){return this.selectedItems}getLastItemHovered(){return this.currentList[this.lastRowHovered]}highlightIndex(e,t){if(this.currentList){if(e<0||e>=this.currentList.length)this.lastRowHovered=-1;else{this.lastRowHovered=e;this.ensureIndexVisible(e,!t)&&!t&&this.refresh(!0)}this.forEachRenderedRow((t,n)=>{const i=e===n;if(t.toggleHighlighted(i),i){const e="".concat(U5,"-").concat(t.getCompId());xL(this.richSelectWrapper,e),this.richSelectWrapper.setAttribute("data-active-option",e)}})}}getIndicesForValues(e){const{currentList:t}=this;if(!t||0===t.length||null==e)return[];if(Array.isArray(e)||(e=[e]),0===e.length)return[];const{valueFormatter:n}=this.params,i=[],o="object"===typeof e[0],r=t.map(n);for(const s of e){let e=-1;e=o?r.indexOf(n(s)):t.indexOf(s),e>=0&&i.push(e)}return i}toggleListItemSelection(e){const t=this.findItemInSelected(e);void 0!==t?this.selectedItems.delete(t):this.selectedItems.add(e),this.refreshSelectedItems(),this.dispatchValueSelected()}refreshSelectedItems(){this.forEachRenderedRow(e=>{const t=void 0!==this.findItemInSelected(e.getValue());e.updateSelected(t)})}findItemInSelected(e){if("object"!==typeof e)return this.selectedItems.has(e)?e:void 0;{const t=this.params.valueFormatter,n=t(e);for(const e of this.selectedItems)if(t(e)===n)return e}}createRowComponent(e,t){const n=new j5(this.params);t.setAttribute("id","".concat(U5,"-").concat(n.getCompId())),n.setParentComponent(this),this.createBean(n),n.setState(e);const{highlightMatch:i,searchType:o="fuzzy"}=this.params;return i&&"fuzzy"!==o&&n.highlightString(this.getSearchString()),n}getRowForMouseEvent(e){if(!this.model)return-1;const t=this.getGui().getBoundingClientRect(),n=this.getScrollTop(),i=e.clientY-t.top+n;return Math.min(Math.floor(i/this.getRowHeight()),this.model.getRowCount()-1)}onMouseMove(e){const t=this.getRowForMouseEvent(e);-1!==t&&t!=this.lastRowHovered&&(this.lastRowHovered=t,this.highlightIndex(t,!0))}onMouseDown(e){e.preventDefault()}onMouseOut(e){this.getGui().contains(e.relatedTarget)||this.highlightIndex(-1)}onClick(e){const{multiSelect:t}=this.params;if(!this.currentList)return;const n=this.getRowForMouseEvent(e),i=this.currentList[n];t?this.toggleListItemSelection(i):(this.selectListItems([i]),this.dispatchValueSelected())}dispatchValueSelected(){this.dispatchLocalEvent({type:"richSelectListRowSelected",fromEnterKey:!1,value:this.selectedItems})}destroy(){super.destroy(),this.eLoading=void 0}},q5={tag:"div",cls:"ag-picker-field",role:"presentation",children:[{tag:"div",ref:"eLabel"},{tag:"div",ref:"eWrapper",cls:"ag-wrapper ag-picker-field-wrapper ag-rich-select-value ag-picker-collapsed",children:[{tag:"span",ref:"eDisplayField",cls:"ag-picker-field-display"},{tag:"ag-input-text-field",ref:"eInput",cls:"ag-rich-select-field-input"},{tag:"span",ref:"eDeselect",cls:"ag-rich-select-deselect-button ag-picker-field-icon",role:"presentation"},{tag:"span",ref:"eIcon",cls:"ag-picker-field-icon",attrs:{"aria-hidden":"true"}}]}]},Y5=class extends tU{constructor(e){var t,n;super(d(d({pickerAriaLabelKey:"ariaLabelRichSelectField",pickerAriaLabelValue:"Rich Select Field",pickerType:"ag-list",className:"ag-rich-select",pickerIcon:"richSelectOpen",ariaRole:"combobox",template:null!==(t=null===e||void 0===e?void 0:e.template)&&void 0!==t?t:q5,agComponents:[qW],modalPicker:!1},e),{},{maxPickerHeight:null!==(n=null===e||void 0===e?void 0:e.maxPickerHeight)&&void 0!==n?n:"calc(var(--ag-row-height) * 6.5)"})),this.searchString="",this.searchStringCreator=null,this.eInput=kG,this.eDeselect=kG,this.skipWrapperAnnouncement=!1;const{value:i,valueList:o,searchStringCreator:r}=e||{};void 0!==i&&(this.value=i),r&&(this.searchStringCreator=r),null!=o&&this.setValues(o),this.registerCSS(".ag-rich-select{cursor:default;height:100%}.ag-rich-select-value{align-items:center;background-color:var(--ag-picker-button-background-color);display:flex;height:100%;padding:var(--ag-spacing);:where(.ag-picker-field-display){overflow:hidden;text-overflow:ellipsis;&:where(.ag-display-as-placeholder){opacity:.5}}}.ag-rich-select-list{background-color:var(--ag-picker-list-background-color);border:var(--ag-picker-list-border);border-radius:var(--ag-input-border-radius);box-shadow:var(--ag-dropdown-shadow);height:auto;position:relative;width:100%;:where(.ag-loading-text){padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding)}}.ag-rich-select-row{align-items:center;display:flex;flex:1 1 auto;height:100%;overflow:hidden;padding:0 var(--ag-spacing);white-space:nowrap}.ag-rich-select-row-selected{background-color:var(--ag-selected-row-background-color)}.ag-rich-select-row-highlighted,.ag-rich-select-row:hover{background-image:linear-gradient(var(--ag-row-hover-color),var(--ag-row-hover-color))}.ag-rich-select-row-text-highlight{font-weight:700}.ag-rich-select-field-input{flex:1 1 auto;:where(.ag-input-field-input){border:none!important;box-shadow:none!important;padding:0!important;text-overflow:ellipsis;&::-moz-placeholder{opacity:.8}&::placeholder{opacity:.8}}}:where(.ag-ltr) .ag-rich-select-field-input{left:var(--ag-spacing)}:where(.ag-rtl) .ag-rich-select-field-input{right:var(--ag-spacing)}:where(.ag-popup-editor) .ag-rich-select-value{height:var(--ag-row-height);min-width:200px}.ag-rich-select-virtual-list-item{cursor:default;height:var(--ag-list-item-height)}.ag-pill-container{display:flex;flex-wrap:nowrap;gap:.25rem}.ag-pill{align-items:center;background:var(--ag-select-cell-background-color);border:var(--ag-select-cell-border);border-radius:var(--ag-border-radius);display:flex;padding:0 .25rem;white-space:nowrap}.ag-pill-button{border:none;padding:0;&:hover{color:var(--ag-accent-color);cursor:pointer}}:where(.ag-ltr) .ag-pill-button{margin-left:var(--ag-spacing)}:where(.ag-rtl) .ag-pill-button{margin-right:var(--ag-spacing)}")}wireBeans(e){this.userCompFactory=e.userCompFactory,this.ariaAnnounce=e.ariaAnnounce,this.registry=e.registry}postConstruct(){this.tooltipFeature=this.createOptionalManagedBean(this.registry.createDynamicBean("tooltipFeature",!1,{getGui:()=>this.getGui(),shouldDisplayTooltip:()=>{var e,t;return null===(e=null===(t=this.shouldDisplayTooltip)||void 0===t?void 0:t.call(this))||void 0===e||e}})),super.postConstruct(),this.createListComponent(),this.eDeselect.appendChild(hW("richSelectRemove",this.beans));const{allowTyping:e,placeholder:t,suppressDeselectAll:n}=this.config;this.eDeselect.classList.add("ag-hidden"),e?(this.eInput.setAutoComplete(!1).setInputPlaceholder(t),this.eDisplayField.classList.add("ag-hidden")):this.eInput.setDisplayed(!1),this.setupAriaProperties();const{searchDebounceDelay:i=300}=this.config;this.clearSearchString=HN(this,this.clearSearchString.bind(this),i),this.renderSelectedValue(),e&&this.eInput.onValueChange(e=>this.searchTextFromString(e)),this.addManagedElementListeners(this.eWrapper,{focus:this.onWrapperFocus.bind(this)}),this.addManagedElementListeners(this.eWrapper,{focusout:this.onWrapperFocusOut.bind(this)}),n||this.addManagedElementListeners(this.eDeselect,{mousedown:this.onDeselectAllMouseDown.bind(this),click:this.onDeselectAllClick.bind(this)})}setupAriaProperties(){const{eWrapper:e,gos:t}=this;e.tabIndex=t.get("tabIndex");const n=this.getLocaleTextFunc();this.ariaDeleteSelection=n("ariaLabelRichSelectDeleteSelection","Press DELETE to deselect item"),this.ariaDeselectAllItems=n("ariaLabelRichSelectDeselectAllItems","Press DELETE to deselect all items"),this.ariaToggleSelection=n("ariaLabelRichSelectToggleSelection","Press SPACE to toggle selection")}createListComponent(){this.listComponent=this.createBean(new K5(this.config,this.getFocusableElement(),()=>this.searchString)),this.listComponent.setParentComponent(this),this.addManagedListeners(this.listComponent,{richSelectListRowSelected:e=>{this.onListValueSelected(e.value,e.fromEnterKey)}})}renderSelectedValue(){const{value:e,eDisplayField:t,config:n,gos:i}=this,{allowTyping:o,cellRenderer:r,initialInputValue:s,multiSelect:a,suppressDeselectAll:l,suppressMultiSelectPillRenderer:u,valueFormatter:c}=n,d=Z5(e,c);if(o)return void this.eInput.setValue(null!==s&&void 0!==s?s:d);if(a&&!l){const t=null==e||Array.isArray(e)&&0===e.length;this.eDeselect.classList.toggle("ag-hidden",t)}let h,p;if(!a||u)if(r&&(h=ez(this.userCompFactory,n,iO(this.gos,{value:e,valueFormatted:d,getValue:()=>this.getValue(),setValue:e=>{this.setValue(e,!0)},setTooltip:(e,t)=>{var n;i.assertModuleRegistered("Tooltip",3),this.shouldDisplayTooltip=t,null===(n=this.tooltipFeature)||void 0===n||n.setTooltipAndRefresh(e)}}))),h&&(p=h.newAgStackInstance()),p)uN(t),$5(p,t),p.then(e=>{this.addDestroyFunc(()=>this.destroyBean(e))});else{var g;if(UI(this.value))t.innerText=d,t.classList.remove("ag-display-as-placeholder");else{const{placeholder:e}=n;UI(e)?(t.textContent=e,t.classList.add("ag-display-as-placeholder")):uN(t)}this.shouldDisplayTooltip=wN(()=>this.eDisplayField),null===(g=this.tooltipFeature)||void 0===g||g.setTooltipAndRefresh(null!==d&&void 0!==d?d:null)}else this.createOrUpdatePillContainer(t)}createPickerComponent(){const{values:e}=this;return e&&this.setValueList({valueList:e}),this.listComponent}setSearchStringCreator(e){this.searchStringCreator=e}setValueList(e){const{valueList:t,refresh:n}=e;if(this.listComponent&&this.listComponent.getCurrentList()!==t&&(this.listComponent.setCurrentList(t),n)){if(this.values)this.listComponent.refresh(!0);else if(this.setValues(t),this.isPickerDisplayed){this.listComponent.selectValue(this.value)||this.listComponent.refresh()}this.alignPickerToComponent()}}setValues(e){this.values=e,this.searchStrings=this.getSearchStringsFromValues(e)}showPicker(){super.showPicker();const{listComponent:e,value:t}=this;if(!e)return;let n=null;e.selectValue(this.value),null!=this.value&&(n=e.getIndicesForValues(Array.isArray(t)?t:[t])[0]),null!=n?e.highlightIndex(n):e.refresh(),this.displayOrHidePicker()}beforeHidePicker(){super.beforeHidePicker()}createOrUpdatePillContainer(e){if(!this.pillContainer){const t=this.pillContainer=this.createBean(new V5);this.addDestroyFunc(()=>{this.destroyBean(this.pillContainer),this.pillContainer=null}),uN(e),e.appendChild(t.getGui());const{config:n,eWrapper:i,ariaDeleteSelection:o}=this,{valueFormatter:r}=n;t.init({eWrapper:i,valueFormatter:r,onPillMouseDown:e=>{e.stopImmediatePropagation()},announceItemFocus:()=>{this.announceAriaValue(o)},getValue:()=>this.getValue(),setValue:e=>this.setValue(e,!0)})}this.doWhileBlockingAnnouncement(()=>{var e;return null===(e=this.pillContainer)||void 0===e?void 0:e.refresh()})}doWhileBlockingAnnouncement(e){this.skipWrapperAnnouncement=!0,e(),this.skipWrapperAnnouncement=!1}onWrapperFocus(){const{eInput:e,config:t}=this,{allowTyping:n,multiSelect:i,suppressDeselectAll:o}=t;if(n){const t=e.getFocusableElement();t.focus(),t.select()}else!i||o||this.skipWrapperAnnouncement||this.announceAriaValue(this.ariaDeselectAllItems)}onWrapperFocusOut(e){this.eWrapper.contains(e.relatedTarget)||this.hidePicker()}onDeselectAllMouseDown(e){e.stopImmediatePropagation()}onDeselectAllClick(){this.setValue([],!0)}buildSearchStringFromKeyboardEvent(e){let{key:t}=e;if(t===sV.BACKSPACE)this.searchString=this.searchString.slice(0,-1),t="";else if(!XH(e))return;e.preventDefault(),this.searchTextFromCharacter(t)}searchTextFromCharacter(e){this.searchString+=e,this.runSearch(),this.clearSearchString()}searchTextFromString(e){null==e&&(e=""),this.searchString=e,this.runSearch()}getSearchStringsFromValues(e){const{config:{valueFormatter:t}}=this;return"object"===typeof e[0]&&this.searchStringCreator?this.searchStringCreator(e):e.map(e=>Z5(e,t))}filterListModel(e){const{filterList:t}=this.config;t&&this.setValueList({valueList:e,refresh:!0})}runSearch(){if(!this.listComponent)return;const{values:e}=this,t=this.searchStrings;if(!t)return void this.listComponent.highlightIndex(-1);const{suggestions:n,filteredValues:i}=this.getSuggestionsAndFilteredValues(this.searchString,t),{filterList:o,highlightMatch:r,searchType:s="fuzzy"}=this.config,a=!(!o||""===this.searchString);var l;(this.filterListModel(a?i:e),this.highlightEmptyValue()||this.highlightListValue(n,i,a),r&&"fuzzy"!==s)&&(null===(l=this.listComponent)||void 0===l||l.highlightFilterMatch(this.searchString));this.displayOrHidePicker()}highlightEmptyValue(){if(""===this.searchString){var e;const n=null===(e=this.searchStrings)||void 0===e?void 0:e.indexOf("");var t;if(void 0!==n&&-1!==n)return null===(t=this.listComponent)||void 0===t||t.highlightIndex(n),!0}return!1}highlightListValue(e,t,n){if(e.length){var i;const t=n?0:null===(i=this.searchStrings)||void 0===i?void 0:i.indexOf(e[0]);var o;if(void 0!==t)null===(o=this.listComponent)||void 0===o||o.highlightIndex(t)}else{var r,s;if(null===(r=this.listComponent)||void 0===r||r.highlightIndex(-1),!n||t.length)null===(s=this.listComponent)||void 0===s||s.ensureIndexVisible(0);else if(n){var a;this.getAriaElement().removeAttribute("data-active-option");const e=null===(a=this.listComponent)||void 0===a?void 0:a.getAriaElement();e&&xL(e,null)}}}getSuggestionsAndFilteredValues(e,t){let n=[];const i=[];if(!e.length)return{suggestions:n,filteredValues:i};const{searchType:o="fuzzy",filterList:r}=this.config;if("fuzzy"===o){const o=nZ({inputValue:e,allSuggestions:t,hideIrrelevant:!0});n=o.values;const s=o.indices;if(r&&s.length)for(let e=0;e<s.length;e++)i.push(this.values[s[e]])}else n=t.filter((e,t)=>{const n=e.toLocaleLowerCase(),s=this.searchString.toLocaleLowerCase(),a="match"===o?n.startsWith(s):-1!==n.indexOf(s);return r&&a&&i.push(this.values[t]),a});return{suggestions:n,filteredValues:i}}displayOrHidePicker(){if(!this.listComponent)return;const e=this.listComponent.getGui(),t=this.listComponent.getCurrentList(),n=!!t&&0===t.length;e.classList.toggle("ag-hidden",n)}clearSearchString(){this.searchString=""}setValue(e,t,n,i){if(this.value===e)return this;const o=Array.isArray(e);if(null!=e){if(!o){var r;const t=null===(r=this.listComponent)||void 0===r?void 0:r.getCurrentList();if(-1===(t?t.indexOf(e):-1))return this}var s;if(!n)null===(s=this.listComponent)||void 0===s||s.selectValue(e)}return super.setValue(e,t),i||this.renderSelectedValue(),this}onNavigationKeyDown(e,t,n){var i;e.preventDefault();const o=t===sV.DOWN;this.isPickerDisplayed||!o?null===(i=this.listComponent)||void 0===i||i.onNavigationKeyDown(t,n):this.showPicker()}onEnterKeyDown(e){var t;if(this.isPickerDisplayed&&(e.preventDefault(),null!==(t=this.listComponent)&&void 0!==t&&t.getCurrentList())){const e=this.listComponent.getLastItemHovered();this.config.multiSelect||null==e?this.dispatchPickerEventAndHidePicker(this.value,!0):this.onListValueSelected(new Set([e]),!0)}}onDeleteKeyDown(e){const{eWrapper:t,beans:n}=this;SB(n)===t&&(e.preventDefault(),this.setValue([],!0))}onTabKeyDown(){const{config:e,isPickerDisplayed:t,listComponent:n}=this,{multiSelect:i}=e;if(t&&n){if(i){const e=this.getValueFromSet(n.getSelectedItems());e&&this.setValue(e,!1,!0,!0)}else{const e=n.getLastItemHovered();e&&this.setValue(e,!1,!0)}this.hidePicker()}}getValueFromSet(e){const{multiSelect:t}=this.config;let n=null;for(const i of e){if(1===e.size&&!t){n=i;break}n||(n=[]),n.push(i)}return Array.isArray(n)&&n.sort(),n}onListValueSelected(e,t){const n=this.getValueFromSet(e);this.setValue(n,!1,!0),this.config.multiSelect||this.dispatchPickerEventAndHidePicker(n,t)}dispatchPickerEventAndHidePicker(e,t){const n={type:"fieldPickerValueSelected",fromEnterKey:t,value:e};this.dispatchLocalEvent(n),this.hidePicker()}getFocusableElement(){const{allowTyping:e}=this.config;return e?this.eInput.getFocusableElement():super.getFocusableElement()}onKeyDown(e){const{key:t,isComposing:n}=e,{isPickerDisplayed:i,config:{allowTyping:o,multiSelect:r,suppressDeselectAll:s},listComponent:a,pickerComponent:l}=this;switch(t){case sV.LEFT:case sV.RIGHT:var u;if(!o||this.pillContainer)if(e.preventDefault(),this.pillContainer)null===(u=this.listComponent)||void 0===u||u.highlightIndex(-1),this.pillContainer.onNavigationKeyDown(e);break;case sV.PAGE_HOME:case sV.PAGE_END:if(o){e.preventDefault();const n=this.eInput.getInputElement(),i=t===sV.PAGE_HOME?0:n.value.length;n.setSelectionRange(i,i);break}case sV.PAGE_UP:case sV.PAGE_DOWN:e.preventDefault(),l&&(null===a||void 0===a||a.navigateToPage(t));break;case sV.DOWN:case sV.UP:n||this.onNavigationKeyDown(e,t,()=>{r&&(this.doWhileBlockingAnnouncement(()=>this.eWrapper.focus()),this.announceAriaValue(this.ariaToggleSelection))});break;case sV.ESCAPE:i&&(hN(this.listComponent.getGui())&&(e.preventDefault(),cO(e)),this.hidePicker());break;case sV.ENTER:n?e.preventDefault():this.onEnterKeyDown(e);break;case sV.SPACE:if(o&&!n||e.preventDefault(),!n&&i&&r&&a){const e=a.getLastItemHovered();e&&a.toggleListItemSelection(e)}break;case sV.TAB:this.onTabKeyDown();break;case sV.DELETE:r&&!s&&this.onDeleteKeyDown(e);break;default:o||this.buildSearchStringFromKeyboardEvent(e)}}announceAriaValue(e){var t;null===(t=this.ariaAnnounce)||void 0===t||t.announceValue(e,"richSelect")}destroy(){this.listComponent&&(this.listComponent=this.destroyBean(this.listComponent)),this.searchStrings=void 0,super.destroy()}},Z5=(e,t)=>{var n;return null!==(n=null===t||void 0===t?void 0:t(e))&&void 0!==n?n:String(null!==e&&void 0!==e?e:"")};function $5(e,t){e.then(e=>{const n=e.getGui();null!=n&&t.appendChild(n)})}var X5={tag:"div",cls:"ag-picker-field",role:"presentation",children:[{tag:"div",ref:"eLabel"},{tag:"div",ref:"eWrapper",cls:"ag-wrapper ag-picker-collapsed",children:[{tag:"div",ref:"eDisplayField",cls:"ag-picker-field-display"},{tag:"ag-input-text-field",ref:"eInput",cls:"ag-rich-select-field-input"},{tag:"span",ref:"eDeselect",cls:"ag-rich-select-deselect-button ag-picker-field-icon",role:"presentation"},{tag:"div",ref:"eIcon",cls:"ag-picker-field-icon",attrs:{"aria-hidden":"true"}}]}]},Q5=class extends Y5{constructor(e){super(d(d({},e),{},{template:X5,agComponents:[qW]})),this.params=e}showPicker(){setTimeout(()=>super.showPicker())}hidePicker(){setTimeout(()=>super.hidePicker())}postConstruct(){super.postConstruct();const{wrapperClassName:e,ariaLabel:t}=this.params;XL(this.eDisplayField,!1),e&&this.eWrapper.classList.add(e),vL(this.eWrapper,""),mL(this.eWrapper,t)}onEnterKeyDown(e){cO(e),this.isPickerDisplayed?super.onEnterKeyDown(e):(e.preventDefault(),this.showPicker())}},J5=class extends vO{constructor(e,t,n){super(),this.eGui=e,this.focusWrapper=t,this.eFocusableComp=n}postConstruct(){this.addManagedElementListeners(this.eGui,{keydown:e=>{switch(e.key){case sV.TAB:e.defaultPrevented||cO(e);break;case sV.UP:case sV.DOWN:cO(e);break;case sV.ESCAPE:if(dO(e))return;this.eGui.contains(SB(this.beans))&&(e.preventDefault(),cO(e),this.focusWrapper.focus())}}});const e="ag-advanced-filter-builder-virtual-list-item-highlight";this.addManagedListeners(this.focusWrapper,{keydown:e=>{if(e.key===sV.ENTER){if(dO(e))return;SB(this.beans)===this.focusWrapper&&(e.preventDefault(),cO(e),this.eFocusableComp.getFocusableElement().focus())}},focusin:()=>{this.focusWrapper.classList.add(e)},focusout:t=>{this.focusWrapper.contains(t.relatedTarget)||this.focusWrapper.classList.remove(e)}})}};function e3(e,t){return{pickerAriaLabelKey:"ariaLabelAdvancedFilterBuilderAddField",pickerAriaLabelValue:"Advanced Filter Builder Add Field",pickerType:"ag-list",valueList:[{key:"condition",displayValue:e("advancedFilterBuilderAddCondition")},{key:"join",displayValue:e("advancedFilterBuilderAddJoin")}],valueFormatter:e=>{var t;return null==e?"":null!==(t=e.displayValue)&&void 0!==t?t:e.key},pickerIcon:"advancedFilterBuilderAdd",maxPickerWidth:"".concat(null!==t&&void 0!==t?t:120,"px"),wrapperClassName:"ag-advanced-filter-builder-item-button",ariaLabel:e("advancedFilterBuilderAddButtonTooltip")}}var t3={tag:"div",cls:"ag-advanced-filter-builder-item-wrapper",role:"presentation",children:[{tag:"div",ref:"eItem",cls:"ag-advanced-filter-builder-item",role:"presentation",children:[{tag:"div",cls:"ag-advanced-filter-builder-item-tree-lines",attrs:{"aria-hidden":"true"},children:[{tag:"div",cls:"ag-advanced-filter-builder-item-tree-line-vertical-top ag-advanced-filter-builder-item-tree-line-horizontal"}]}]}]},n3=class extends AG{constructor(e,t){super(t3),this.item=e,this.focusWrapper=t,this.eItem=kG}wireBeans(e){this.advFilterExpSvc=e.advFilterExpSvc,this.registry=e.registry}postConstruct(){var e;bL(this.focusWrapper,2);const t=e3(e=>this.advFilterExpSvc.translate(e),null===(e=this.gos.get("advancedFilterBuilderParams"))||void 0===e?void 0:e.addSelectWidth),n=this.createManagedBean(new Q5(t));this.addManagedListeners(n,{fieldPickerValueSelected:e=>{let{value:t}=e;this.dispatchLocalEvent({type:"advancedFilterBuilderAdded",item:this.item,isJoin:"join"===t.key})}}),this.eItem.appendChild(n.getGui()),this.createOptionalManagedBean(this.registry.createDynamicBean("tooltipFeature",!1,{getGui:()=>n.getGui(),getLocation:()=>"advancedFilter",getTooltipValue:()=>this.advFilterExpSvc.translate("advancedFilterBuilderAddButtonTooltip")})),this.createManagedBean(new J5(this.getGui(),this.focusWrapper,n)),mL(this.focusWrapper,this.advFilterExpSvc.translate("ariaAdvancedFilterBuilderItem",[this.advFilterExpSvc.translate("advancedFilterBuilderAddButtonTooltip"),"".concat(this.item.level+1)]))}afterAdd(){}},i3=class extends AG{constructor(){super({tag:"div",cls:"ag-advanced-filter-builder-item-condition",role:"presentation"}),this.validationMessage=null}wireBeans(e){this.advFilterExpSvc=e.advFilterExpSvc}init(e){const{item:t,createPill:n}=e;this.item=t,this.createPill=n,this.filterModel=t.filterModel,this.setupColumnCondition(this.filterModel),this.validate(),this.addDestroyFunc(()=>this.destroyBeans([this.eColumnPill,this.eOperatorPill,this.eOperandPill]))}getDragName(){return this.filterModel.colId?this.advFilterExpSvc.parseColumnFilterModel(this.filterModel):this.getDefaultColumnDisplayValue()}getAriaLabel(){return"".concat(this.advFilterExpSvc.translate("ariaAdvancedFilterBuilderFilterItem")," ").concat(this.getDragName())}getValidationMessage(){return this.validationMessage}getFocusableElement(){return this.eColumnPill.getFocusableElement()}setupColumnCondition(e){var t;const n=this.advFilterExpSvc.getColumnDetails(e.colId);this.baseCellDataType=n.baseCellDataType,this.column=n.column,this.numOperands=this.getNumOperands(this.getOperatorKey()),this.eColumnPill=this.createPill({key:this.getColumnKey(),displayValue:null!==(t=this.getColumnDisplayValue())&&void 0!==t?t:this.getDefaultColumnDisplayValue(),cssClass:"ag-advanced-filter-builder-column-pill",isSelect:!0,getEditorParams:()=>({values:this.advFilterExpSvc.getColumnAutocompleteEntries()}),update:e=>this.setColumnKey(e),pickerAriaLabelKey:"ariaLabelAdvancedFilterBuilderColumnSelectField",pickerAriaLabelValue:"Advanced Filter Builder Column Select Field",ariaLabel:this.advFilterExpSvc.translate("ariaAdvancedFilterBuilderColumn")}),this.getGui().appendChild(this.eColumnPill.getGui()),UI(this.getColumnKey())&&(this.createOperatorPill(),this.hasOperand()&&this.createOperandPill())}createOperatorPill(){var e;this.eOperatorPill=this.createPill({key:this.getOperatorKey(),displayValue:null!==(e=this.getOperatorDisplayValue())&&void 0!==e?e:this.getDefaultOptionSelectValue(),cssClass:"ag-advanced-filter-builder-option-pill",isSelect:!0,getEditorParams:()=>({values:this.getOperatorAutocompleteEntries()}),update:e=>this.setOperatorKey(e),pickerAriaLabelKey:"ariaLabelAdvancedFilterBuilderOptionSelectField",pickerAriaLabelValue:"Advanced Filter Builder Option Select Field",ariaLabel:this.advFilterExpSvc.translate("ariaAdvancedFilterBuilderOption")}),this.eColumnPill.getGui().insertAdjacentElement("afterend",this.eOperatorPill.getGui())}createOperandPill(){var e;const{filter:t}=this.filterModel,n=null!==(e="number"===typeof t?qI(t):t)&&void 0!==e?e:"";this.eOperandPill=this.createPill({key:n,valueFormatter:e=>this.advFilterExpSvc.getOperandDisplayValue(d(d({},this.filterModel),{},{filter:e}),!0),baseCellDataType:this.baseCellDataType,cssClass:"ag-advanced-filter-builder-value-pill",isSelect:!1,update:e=>this.setOperand(e),ariaLabel:this.advFilterExpSvc.translate("ariaAdvancedFilterBuilderValue")}),this.getGui().appendChild(this.eOperandPill.getGui())}getColumnKey(){return this.filterModel.colId}getColumnDisplayValue(){return this.advFilterExpSvc.getColumnDisplayValue(this.filterModel)}getOperatorKey(){return this.filterModel.type}getOperatorDisplayValue(){return this.advFilterExpSvc.getOperatorDisplayValue(this.filterModel)}getOperandDisplayValue(){return this.advFilterExpSvc.getOperandDisplayValue(this.filterModel,!0)}hasOperand(){return this.numOperands>0}getOperatorAutocompleteEntries(){return this.column?this.advFilterExpSvc.getOperatorAutocompleteEntries(this.column,this.baseCellDataType):[]}setColumnKey(e){this.eOperatorPill||this.createOperatorPill();const t=this.advFilterExpSvc.getColumnDetails(e);this.column=t.column;const n=t.baseCellDataType;this.baseCellDataType!==n&&(this.baseCellDataType=n,this.setOperatorKey(void 0),this.eOperatorPill&&(cN(this.eOperatorPill.getGui()),this.destroyBean(this.eOperatorPill),this.createOperatorPill()),this.validate()),this.filterModel.colId=e,this.filterModel.filterType=this.baseCellDataType}setOperatorKey(e){const t=this.getNumOperands(e);t!==this.numOperands&&(this.numOperands=t,0===t?this.destroyOperandPill():(this.createOperandPill(),"number"!==this.baseCellDataType&&this.setOperand(""))),this.filterModel.type=e,this.validate()}setOperand(e){let t=e;"number"===this.baseCellDataType&&(t=UI(e)?Number(e):""),this.filterModel.filter=t,this.validate()}getNumOperands(e){var t,n;return null!==(t=null===(n=this.advFilterExpSvc.getExpressionOperator(this.baseCellDataType,e))||void 0===n?void 0:n.numOperands)&&void 0!==t?t:0}destroyOperandPill(){delete this.filterModel.filter,this.getGui().removeChild(this.eOperandPill.getGui()),this.destroyBean(this.eOperandPill),this.eOperandPill=void 0}validate(){let e=null;UI(this.getColumnKey())?UI(this.getOperatorKey())?this.numOperands>0&&!UI(this.getOperandDisplayValue())&&(e=this.advFilterExpSvc.translate("advancedFilterBuilderValidationEnterValue")):e=this.advFilterExpSvc.translate("advancedFilterBuilderValidationSelectOption"):e=this.advFilterExpSvc.translate("advancedFilterBuilderValidationSelectColumn"),this.item.valid=!e,e!==this.validationMessage&&(this.validationMessage=e,this.dispatchLocalEvent({type:"advancedFilterBuilderValidChanged"}))}getDefaultColumnDisplayValue(){return this.advFilterExpSvc.translate("advancedFilterBuilderSelectColumn")}getDefaultOptionSelectValue(){return this.advFilterExpSvc.translate("advancedFilterBuilderSelectOption")}},o3={number:[ZW],boolean:[KW],object:[KW],text:[KW],date:[XW],dateString:[XW],dateTime:[XW,e=>e.setIncludeTime(!0)],dateTimeString:[XW,e=>e.setIncludeTime(!0)]},r3={tag:"div",cls:"ag-advanced-filter-builder-pill-wrapper",role:"presentation",children:[{tag:"div",ref:"ePill",cls:"ag-advanced-filter-builder-pill",role:"button",children:[{tag:"span",ref:"eLabel",cls:"ag-advanced-filter-builder-pill-display"}]}]},s3=class extends AG{constructor(e){super(r3),this.params=e,this.ePill=kG,this.eLabel=kG;const{value:t,valueFormatter:n}=e;this.value=t,this.displayValue=n(t)}wireBeans(e){this.advFilterExpSvc=e.advFilterExpSvc}postConstruct(){const{cssClass:e,ariaLabel:t}=this.params;this.ePill.classList.add(e),this.activateTabIndex([this.ePill]),this.eLabel.id="".concat(this.getCompId()),fL(this.ePill,this.eLabel.id),mL(this.ePill,t),this.renderValue(),this.addManagedListeners(this.ePill,{click:e=>{e.preventDefault(),this.showEditor()},keydown:e=>{if(e.key===sV.ENTER)e.preventDefault(),cO(e),this.showEditor()}}),this.addDestroyFunc(()=>this.destroyBean(this.eEditor))}getFocusableElement(){return this.ePill}showEditor(){if(this.eEditor)return;XL(this.ePill,!1),this.eEditor=this.createEditorComp(this.params.type),this.eEditor.setValue(this.value);const e=this.eEditor.getGui();this.eEditor.addManagedElementListeners(e,{keydown:e=>{switch(e.key){case sV.ENTER:e.preventDefault(),cO(e),this.updateValue(!0);break;case sV.ESCAPE:e.preventDefault(),cO(e),this.hideEditor(!0)}},focusout:()=>this.updateValue(!1)}),this.getGui().appendChild(e),this.eEditor.getFocusableElement().focus()}createEditorComp(e){const[t,n]=o3[e],i=this.createBean(new t);return n&&n(i),i}hideEditor(e){const{eEditor:t}=this;t&&(this.eEditor=void 0,this.getGui().removeChild(t.getGui()),this.destroyBean(t),XL(this.ePill,!0),e&&this.ePill.focus())}renderValue(){let e;const{displayValue:t,eLabel:n}=this,{classList:i}=n;i.remove("ag-advanced-filter-builder-value-empty","ag-advanced-filter-builder-value-number","ag-advanced-filter-builder-value-text"),UI(t)?"number"===this.params.type?(e=t,i.add("ag-advanced-filter-builder-value-number")):(e='"'.concat(t,'"'),i.add("ag-advanced-filter-builder-value-text")):(e=this.advFilterExpSvc.translate("advancedFilterBuilderEnterValue"),i.add("ag-advanced-filter-builder-value-empty")),n.textContent=e}updateValue(e){var t;if(!this.eEditor)return;const n=null!==(t=this.eEditor.getValue())&&void 0!==t?t:"";this.dispatchLocalEvent({type:"fieldValueChanged",value:n}),this.value=n,this.displayValue=this.params.valueFormatter(n),this.renderValue(),this.hideEditor(e)}},a3=class extends AG{wireBeans(e){this.advFilterExpSvc=e.advFilterExpSvc}constructor(){super({tag:"div",cls:"ag-advanced-filter-builder-item-condition",role:"presentation"})}init(e){const{item:t,createPill:n}=e,i=t.filterModel;this.filterModel=i,this.ePill=n({key:i.type,displayValue:this.advFilterExpSvc.parseJoinOperator(i),cssClass:"ag-advanced-filter-builder-join-pill",isSelect:!0,getEditorParams:()=>({values:this.advFilterExpSvc.getJoinOperatorAutocompleteEntries()}),update:e=>i.type=e,pickerAriaLabelKey:"ariaLabelAdvancedFilterBuilderJoinSelectField",pickerAriaLabelValue:"Advanced Filter Builder Join Operator Select Field",ariaLabel:this.advFilterExpSvc.translate("ariaAdvancedFilterBuilderJoinOperator")}),this.getGui().appendChild(this.ePill.getGui()),this.addDestroyFunc(()=>this.destroyBean(this.ePill))}getDragName(){return this.advFilterExpSvc.parseJoinOperator(this.filterModel)}getAriaLabel(){return"".concat(this.advFilterExpSvc.translate("ariaAdvancedFilterBuilderGroupItem")," ").concat(this.getDragName())}getValidationMessage(){return null}getFocusableElement(){return this.ePill.getFocusableElement()}},l3={tag:"div",cls:"ag-picker-field ag-advanced-filter-builder-pill-wrapper",role:"presentation",children:[{tag:"div",ref:"eLabel"},{tag:"div",ref:"eWrapper",cls:"ag-wrapper ag-advanced-filter-builder-pill ag-picker-collapsed",children:[{tag:"div",ref:"eDisplayField",cls:"ag-picker-field-display ag-advanced-filter-builder-pill-display"},{tag:"ag-input-text-field",ref:"eInput",cls:"ag-rich-select-field-input"},{tag:"span",ref:"eDeselect",cls:"ag-rich-select-deselect-button ag-picker-field-icon",role:"presentation"},{tag:"div",ref:"eIcon",cls:"ag-picker-field-icon",attrs:{"aria-hidden":"true"}}]}]},u3=class extends Y5{constructor(e){super(d(d({},e),{},{template:l3,agComponents:[qW]})),this.params=e}getFocusableElement(){return this.eWrapper}showPicker(){setTimeout(()=>super.showPicker())}hidePicker(){setTimeout(()=>super.hidePicker())}postConstruct(){super.postConstruct();const{wrapperClassName:e,ariaLabel:t}=this.params;this.eWrapper.classList.add(e),vL(this.eWrapper,""),mL(this.eWrapper,t)}createPickerComponent(){if(!this.values){var e;const{values:t}=this.params.getEditorParams();this.values=t;const n=this.value.key,i=null!==(e=t.find(e=>e.key===n))&&void 0!==e?e:{key:n,displayValue:this.value.displayValue};this.value=i}return super.createPickerComponent()}onEnterKeyDown(e){cO(e),this.isPickerDisplayed?super.onEnterKeyDown(e):(e.preventDefault(),this.showPicker())}},c3={tag:"div",cls:"ag-advanced-filter-builder-item-wrapper",role:"presentation",children:[{tag:"div",cls:"ag-advanced-filter-builder-item",role:"presentation",children:[{tag:"div",ref:"eTreeLines",cls:"ag-advanced-filter-builder-item-tree-lines",attrs:{"aria-hidden":"true"}},{tag:"span",ref:"eDragHandle",cls:"ag-drag-handle",attrs:{"aria-hidden":"true"}},{tag:"span",ref:"eValidation",cls:"ag-advanced-filter-builder-item-button ag-advanced-filter-builder-invalid",attrs:{"aria-hidden":"true"}}]},{tag:"div",ref:"eButtons",cls:"ag-advanced-filter-builder-item-buttons",children:[{tag:"span",ref:"eMoveUpButton",cls:"ag-advanced-filter-builder-item-button",role:"button"},{tag:"span",ref:"eMoveDownButton",cls:"ag-advanced-filter-builder-item-button",role:"button"},{tag:"div",ref:"eAddButton",role:"presentation"},{tag:"span",ref:"eRemoveButton",cls:"ag-advanced-filter-builder-item-button",role:"button"}]}]},d3=class extends uU{constructor(e,t,n){super(c3),this.item=e,this.dragFeature=t,this.focusWrapper=n,this.eTreeLines=kG,this.eDragHandle=kG,this.eButtons=kG,this.eValidation=kG,this.eMoveUpButton=kG,this.eMoveDownButton=kG,this.eAddButton=kG,this.eRemoveButton=kG,this.moveUpDisabled=!1,this.moveDownDisabled=!1}wireBeans(e){this.dragAndDrop=e.dragAndDrop,this.advFilterExpSvc=e.advFilterExpSvc,this.registry=e.registry}postConstruct(){const{filterModel:e,level:t,showMove:n}=this.item,i="join"===e.filterType;if(this.ePillWrapper=this.createManagedBean(i?new a3:new i3),this.ePillWrapper.init({item:this.item,createPill:e=>this.createPill(e)}),this.eDragHandle.insertAdjacentElement("afterend",this.ePillWrapper.getGui()),0===t){const e=MN({tag:"div",cls:"ag-advanced-filter-builder-item-tree-line-vertical-bottom ag-advanced-filter-builder-item-tree-line-root"});this.eTreeLines.appendChild(e),XL(this.eDragHandle,!1),XL(this.eButtons,!1),DL(this.focusWrapper,!0)}else this.setupTreeLines(t),this.eDragHandle.appendChild(hW("advancedFilterBuilderDrag",this.beans)),this.setupValidation(),this.setupMoveButtons(n),this.setupAddButton(),this.setupRemoveButton(),this.setupDragging(),this.updateAriaExpanded();bL(this.focusWrapper,t+1),this.initialiseTabGuard({}),this.createManagedBean(new J5(this.getGui(),this.focusWrapper,this.ePillWrapper)),this.updateAriaLabel(),this.addManagedListeners(this.ePillWrapper,{advancedFilterBuilderValueChanged:()=>this.dispatchLocalEvent({type:"advancedFilterBuilderValueChanged"}),advancedFilterBuilderValidChanged:()=>this.updateValidity()})}setState(e){const{level:t}=this.item;if(0===t)return;const{showMove:n}=this.item,{disableMoveUp:i,disableMoveDown:o,treeLines:r,showStartTreeLine:s}=e;var a,l;(this.updateTreeLines(r,s),this.updateAriaExpanded(),n)&&(this.moveUpDisabled=!!i,this.moveDownDisabled=!!o,this.eMoveUpButton.classList.toggle("ag-advanced-filter-builder-item-button-disabled",i),this.eMoveDownButton.classList.toggle("ag-advanced-filter-builder-item-button-disabled",o),yL(this.eMoveUpButton,!!i),yL(this.eMoveDownButton,!!o),null===(a=this.moveUpTooltipFeature)||void 0===a||a.refreshTooltip(),null===(l=this.moveDownTooltipFeature)||void 0===l||l.refreshTooltip())}focusMoveButton(e){(e?this.eMoveUpButton:this.eMoveDownButton).focus()}afterAdd(){this.ePillWrapper.getFocusableElement().focus()}setupTreeLines(e){for(let t=0;t<e;t++)this.eTreeLines.appendChild(MN({tag:"div"}))}updateTreeLines(e,t){const n=e.length-1,{children:i}=this.eTreeLines;for(let r=0;r<n;r++){const t=i.item(r);t&&t.classList.toggle("ag-advanced-filter-builder-item-tree-line-vertical",!e[r])}const o=i.item(n);if(o){o.classList.add("ag-advanced-filter-builder-item-tree-line-horizontal");const t=e[n];o.classList.toggle("ag-advanced-filter-builder-item-tree-line-vertical-top",t),o.classList.toggle("ag-advanced-filter-builder-item-tree-line-vertical",!t)}this.eDragHandle.classList.toggle("ag-advanced-filter-builder-item-tree-line-vertical-bottom",t)}setupValidation(){this.eValidation.appendChild(hW("advancedFilterBuilderInvalid",this.beans)),this.validationTooltipFeature=this.createOptionalManagedBean(this.registry.createDynamicBean("tooltipFeature",!1,{getGui:()=>this.eValidation,getLocation:()=>"advancedFilter",getTooltipValue:()=>this.ePillWrapper.getValidationMessage(),getTooltipShowDelayOverride:()=>1e3})),this.updateValidity()}setupAddButton(){var e;const t=e3(e=>this.advFilterExpSvc.translate(e),null===(e=this.gos.get("advancedFilterBuilderParams"))||void 0===e?void 0:e.addSelectWidth),n=this.createManagedBean(new Q5(t));this.addManagedListeners(n,{fieldPickerValueSelected:e=>{let{value:t}=e;return this.dispatchLocalEvent({type:"advancedFilterBuilderAdded",item:this.item,isJoin:"join"===t.key})}}),this.eAddButton.appendChild(n.getGui()),this.createOptionalManagedBean(this.registry.createDynamicBean("tooltipFeature",!1,{getGui:()=>this.eAddButton,getLocation:()=>"advancedFilter",getTooltipValue:()=>this.advFilterExpSvc.translate("advancedFilterBuilderAddButtonTooltip")}))}setupRemoveButton(){this.eRemoveButton.appendChild(hW("advancedFilterBuilderRemove",this.beans)),this.addManagedListeners(this.eRemoveButton,{click:()=>this.removeItem(),keydown:e=>{if(e.key===sV.ENTER)e.preventDefault(),cO(e),this.removeItem()}}),this.createOptionalManagedBean(this.registry.createDynamicBean("tooltipFeature",!1,{getGui:()=>this.eRemoveButton,getLocation:()=>"advancedFilter",getTooltipValue:()=>this.advFilterExpSvc.translate("advancedFilterBuilderRemoveButtonTooltip")})),mL(this.eRemoveButton,this.advFilterExpSvc.translate("advancedFilterBuilderRemoveButtonTooltip")),this.activateTabIndex([this.eRemoveButton])}setupMoveButtons(e){e?(this.eMoveUpButton.appendChild(hW("advancedFilterBuilderMoveUp",this.beans)),this.addManagedListeners(this.eMoveUpButton,{click:()=>this.moveItem(!0),keydown:e=>{if(e.key===sV.ENTER)e.preventDefault(),cO(e),this.moveItem(!0)}}),this.moveUpTooltipFeature=this.createOptionalManagedBean(this.registry.createDynamicBean("tooltipFeature",!1,{getGui:()=>this.eMoveUpButton,getLocation:()=>"advancedFilter",getTooltipValue:()=>this.moveUpDisabled?null:this.advFilterExpSvc.translate("advancedFilterBuilderMoveUpButtonTooltip")})),mL(this.eMoveUpButton,this.advFilterExpSvc.translate("advancedFilterBuilderMoveUpButtonTooltip")),this.eMoveDownButton.appendChild(hW("advancedFilterBuilderMoveDown",this.beans)),this.addManagedListeners(this.eMoveDownButton,{click:()=>this.moveItem(!1),keydown:e=>{if(e.key===sV.ENTER)e.preventDefault(),cO(e),this.moveItem(!1)}}),this.moveDownTooltipFeature=this.createOptionalManagedBean(this.registry.createDynamicBean("tooltipFeature",!1,{getGui:()=>this.eMoveDownButton,getLocation:()=>"advancedFilter",getTooltipValue:()=>this.moveDownDisabled?null:this.advFilterExpSvc.translate("advancedFilterBuilderMoveDownButtonTooltip")})),mL(this.eMoveDownButton,this.advFilterExpSvc.translate("advancedFilterBuilderMoveDownButtonTooltip")),this.activateTabIndex([this.eMoveUpButton,this.eMoveDownButton])):(XL(this.eMoveUpButton,!1),XL(this.eMoveDownButton,!1))}updateValidity(){var e;QL(this.eValidation,!this.item.valid),null===(e=this.validationTooltipFeature)||void 0===e||e.refreshTooltip(),this.updateAriaLabel()}createPill(e){const{key:t,cssClass:n,update:i,ariaLabel:o}=e,r=e=>{null!=e&&(i(e),this.dispatchLocalEvent({type:"advancedFilterBuilderValueChanged"}))};if(e.isSelect){var s,a;const{getEditorParams:i,pickerAriaLabelKey:l,pickerAriaLabelValue:u,displayValue:c}=e,d=this.gos.get("advancedFilterBuilderParams"),h="".concat(null!==(s=null===d||void 0===d?void 0:d.pillSelectMinWidth)&&void 0!==s?s:140,"px"),p="".concat(null!==(a=null===d||void 0===d?void 0:d.pillSelectMaxWidth)&&void 0!==a?a:200,"px"),g=this.createBean(new u3({pickerAriaLabelKey:l,pickerAriaLabelValue:u,pickerType:"ag-list",value:{key:t,displayValue:c},valueFormatter:e=>{var t;return null==e?"":null!==(t=e.displayValue)&&void 0!==t?t:e.key},variableWidth:!0,minPickerWidth:h,maxPickerWidth:p,getEditorParams:i,wrapperClassName:n,ariaLabel:o,pickerIcon:"advancedFilterBuilderSelectOpen"}));return this.addManagedListeners(g,{fieldPickerValueSelected:e=>{let{value:t}=e;return r(null===t||void 0===t?void 0:t.key)}}),g}{const{baseCellDataType:i,valueFormatter:s}=e,a=this.createBean(new s3({value:t,valueFormatter:s,cssClass:n,type:i,ariaLabel:o}));return this.addManagedListeners(a,{fieldValueChanged:e=>{let{value:t}=e;return r(t)}}),a}}setupDragging(){const e={type:NV.AdvancedFilterBuilder,eElement:this.eDragHandle,dragItemName:()=>this.ePillWrapper.getDragName(),getDefaultIconName:()=>"notAllowed",getDragItem:()=>({}),onDragStarted:()=>this.dragFeature.dispatchLocalEvent({type:"advancedFilterBuilderDragStarted",item:this.item}),onDragStopped:()=>this.dragFeature.dispatchLocalEvent({type:"advancedFilterBuilderDragEnded"})};this.dragAndDrop.addDragSource(e,!0),this.addDestroyFunc(()=>this.dragAndDrop.removeDragSource(e))}updateAriaLabel(){const e=this.ePillWrapper.getAriaLabel(),t="".concat(this.item.level+1),n=this.ePillWrapper.getValidationMessage();let i;i=n?this.advFilterExpSvc.translate("ariaAdvancedFilterBuilderItemValidation",[e,t,n]):this.advFilterExpSvc.translate("ariaAdvancedFilterBuilderItem",[e,t]),mL(this.focusWrapper,i)}updateAriaExpanded(){EL(this.focusWrapper);const{filterModel:e}=this.item;"join"===(null===e||void 0===e?void 0:e.filterType)&&e.conditions.length&&DL(this.focusWrapper,!0)}removeItem(){this.dispatchLocalEvent({type:"advancedFilterBuilderRemoved",item:this.item})}moveItem(e){this.dispatchLocalEvent({type:"advancedFilterBuilderMoved",item:this.item,backwards:e})}},h3={apply:"advancedFilterBuilderApply",clear:"advancedFilterBuilderClear",cancel:"advancedFilterBuilderCancel",reset:"advancedFilterBuilderReset"},p3={tag:"div",cls:"ag-advanced-filter-builder",role:"presentation",attrs:{tabindex:"-1"},children:[{tag:"div",ref:"eList",cls:"ag-advanced-filter-builder-list",role:"presentation"}]},g3=class extends AG{constructor(){super(p3),this.eList=kG}wireBeans(e){this.filterManager=e.filterManager,this.advancedFilter=e.advancedFilter,this.advFilterExpSvc=e.advFilterExpSvc}postConstruct(){const e=this.gos.get("advancedFilterBuilderParams");this.params=d({buttons:["apply","cancel"]},e),this.addManagedPropertyListener("advancedFilterBuilderParams",e=>{var t;let{currentValue:n}=e;this.params.showMoveButtons=!(null===n||void 0===n||!n.showMoveButtons),this.params.buttons=null!==(t=null===n||void 0===n?void 0:n.buttons)&&void 0!==t?t:["apply","cancel"],this.refreshList(!1)}),this.filterModel=this.setupFilterModel(),this.setupVirtualList(),this.dragFeature=this.createManagedBean(new B5(this,this.virtualList)),this.resetButtonsPanel(this.params.buttons)}refresh(){const e=this.virtualList;let t=e.getLastFocusedRow();this.setupFilterModel(),this.validateItems(),this.refreshList(!1),null!=t&&(e.getComponentAt(t)||(t=0),e.focusRow(t))}getNumItems(){return this.items.length}moveItem(e,t){t&&e&&this.moveItemToIndex(e,t.rowIndex,t.position)}afterGuiAttached(){this.virtualList.awaitStable(()=>this.virtualList.focusRow(0))}setupVirtualList(){const e=this.virtualList=this.createManagedBean(new S5({cssIdentifier:"advanced-filter-builder",ariaRole:"tree",listName:this.advFilterExpSvc.translate("ariaAdvancedFilterBuilderList"),moveItemCallback:this.virtualListMoveItemCallback.bind(this)}));e.setComponentCreator(this.createItemComponent.bind(this)),e.setComponentUpdater(this.updateItemComponent.bind(this)),e.setRowHeight(40),this.eList.appendChild(e.getGui()),e.setModel({getRowCount:()=>{var e;return(null===(e=this.items)||void 0===e?void 0:e.length)||0},getRow:e=>this.items[e],areRowsEqual:(e,t)=>e===t}),this.buildList(),e.refresh()}resetButtonsPanel(e){const t=e&&e.length>0;let n=this.eButtons;if(t){const t=e.map(e=>({type:e,label:this.advFilterExpSvc.translate(h3[e])}));if(!n){n=this.createBean(new nH),this.appendChild(n.getGui());const e=e=>t=>{let{event:n}=t;this.updateModel(e),this.afterAction(e,n)};n.addManagedListeners(n,{apply:e("apply"),clear:e("clear"),reset:e("reset"),cancel:e("cancel")}),this.eButtons=n}n.updateButtons(t);const i=n.getApplyButton();if(i){const e=e=>this.toggleCss("ag-advanced-filter-builder-validation",e);this.addManagedElementListeners(i,{mouseenter:()=>e(!0),mouseleave:()=>e(!1)})}}else n&&(cN(n.getGui()),this.eButtons=this.destroyBean(n))}updateModel(e){var t,n;switch(e){case"apply":this.advancedFilter.setModel(this.filterModel),null===(t=this.filterManager)||void 0===t||t.onFilterChanged({source:"advancedFilter"});break;case"reset":this.advancedFilter.setModel(null),null===(n=this.filterManager)||void 0===n||n.onFilterChanged({source:"advancedFilter"});break;case"cancel":break;case"clear":this.filterModel=this.formatFilterModel(null),this.refreshList(!1)}}afterAction(e,t){switch(e){case"apply":null===t||void 0===t||t.preventDefault(),this.close();break;case"reset":case"cancel":this.close()}}removeItemFromParent(e){const t=e.parent.conditions.indexOf(e.filterModel);return e.parent.conditions.splice(t,1),t}moveItemToIndex(e,t,n){var i;const o=this.items[t],r="join"===(null===(i=o.filterModel)||void 0===i?void 0:i.filterType)&&"bottom"===n,s=r?o.filterModel:o.parent;if(!s)return;if(this.isChildOrSelf(s,e.filterModel)||o===e)return;let a;this.removeItemFromParent(e),r?a=0:(a=s.conditions.indexOf(o.filterModel),-1===a?a=s.conditions.length:"bottom"===n&&(a+=1)),s.conditions.splice(a,0,e.filterModel),this.refreshList(!1)}isChildOrSelf(e,t){return e===t||"join"===t.filterType&&t.conditions.some(t=>this.isChildOrSelf(e,t))}setupFilterModel(){const e=this.formatFilterModel(this.advancedFilter.getModel());return this.stringifiedModel=JSON.stringify(e),e}formatFilterModel(e){return"join"!==(e=null!==e&&void 0!==e?e:{filterType:"join",type:"AND",conditions:[]}).filterType&&(e={filterType:"join",type:"AND",conditions:[e]}),e}buildList(){const e=(t,n,i,o)=>{n.push({filterModel:t,level:i,parent:o,valid:!0,showMove:this.params.showMoveButtons}),"join"===t.filterType&&(t.conditions.forEach(o=>e(o,n,i+1,t)),0===i&&n.push({filterModel:null,level:i+1,parent:t,valid:!0}))};this.items=[],e(this.filterModel,this.items,0)}refreshList(e){if(!e){const e=[];this.items.forEach(t=>{t.valid||e.push(t.filterModel)}),this.buildList(),e.length&&this.items.forEach(t=>{t.filterModel&&e.includes(t.filterModel)&&(t.valid=!1)})}this.virtualList.refresh(e),this.validate()}updateItemComponent(e,t){const n=this.items.indexOf(e),i=(e,t)=>{const n=this.items.find(t=>t.filterModel===e),o=null===n||void 0===n?void 0:n.parent;if(o){const{conditions:n}=o;i(o,t),t.push(n[n.length-1]===e)}},o=[],{filterModel:r}=e;r&&(i(r,o),o[0]=!1);const s="join"===(null===r||void 0===r?void 0:r.filterType)&&!!r.conditions.length;t.setState({disableMoveUp:1===n,disableMoveDown:!this.canMoveDown(e,n),treeLines:o,showStartTreeLine:s})}createItemComponent(e,t){const n=this.createBean(e.filterModel?new d3(e,this.dragFeature,t):new n3(e,t));return n.addManagedListeners(n,{advancedFilterBuilderRemoved:e=>{let{item:t}=e;return this.removeItem(t)},advancedFilterBuilderValueChanged:()=>this.validate(),advancedFilterBuilderAdded:e=>{let{item:t,isJoin:n}=e;return this.addItem(t,n)},advancedFilterBuilderMoved:e=>{let{item:t,backwards:n}=e;return this.moveItemUpDown(t,n)}}),n instanceof d3&&this.updateItemComponent(e,n),n}addItem(e,t){const{parent:n,level:i,filterModel:o}=e,r="join"===(null===o||void 0===o?void 0:o.filterType),s=t?{filterType:"join",type:"AND",conditions:[]}:{},a=r?o:n;let l=r?0:a.conditions.indexOf(o);l>=0?(r||(l+=1),a.conditions.splice(l,0,s)):a.conditions.push(s);let u=this.items.indexOf(e);const c=u>=0;if(c){e.filterModel&&u++;const n=[{filterModel:s,level:r?i+1:i,parent:a,valid:t,showMove:this.params.showMoveButtons}];this.items.splice(u,0,...n)}var d;(this.refreshList(c),c)&&(null===(d=this.virtualList.getComponentAt(u))||void 0===d||d.afterAdd())}removeItem(e){var t;const n=e.parent,{filterModel:i}=e,o=n.conditions.indexOf(i);n.conditions.splice(o,1);const r="join"===(null===(t=e.filterModel)||void 0===t?void 0:t.filterType),s=this.items.indexOf(e),a=!r&&s>=0;a&&this.items.splice(s,1),this.refreshList(a),s>=0&&this.virtualList.focusRow(s)}moveItemUpDown(e,t,n){const i=this.items.indexOf(e),o=t?i-1:i+1;if(0===o||!t&&!this.canMoveDown(e,i))return;const r=this.items[o],s=this.removeItemFromParent(e),{level:a,filterModel:l,parent:u}=e,{level:c,filterModel:d,parent:h}=r;if(t)if(c===a&&"join"===d.filterType)d.conditions.push(l);else if(c<=a){const e=h.conditions.indexOf(d);h.conditions.splice(e,0,l)}else{u.conditions[s-1].conditions.push(l)}else if(c===a)if("join"===d.filterType)d.conditions.splice(0,0,l);else{const e=h.conditions.indexOf(d);h.conditions.splice(e+1,0,l)}else if(s<u.conditions.length)u.conditions.splice(s+1,0,l);else{const e=this.items.find(e=>e.filterModel===u),t=e.parent.conditions.indexOf(e.filterModel)+1;e.parent.conditions.splice(t,0,l)}this.refreshList(!1);const p=this.items.findIndex(e=>{let{filterModel:t}=e;return t===l});if(p<0)return;const g=this.virtualList.getComponentAt(p);g instanceof d3&&(n||g.focusMoveButton(t))}virtualListMoveItemCallback(e,t){const n=e.item,i=this.items.indexOf(n);i<=0||i===this.items.length-1||t&&1===i||!t&&!this.canMoveDown(n,i)||(this.moveItemUpDown(n,t,!0),this.virtualList.focusRow(i+(t?-1:1)))}canMoveDown(e,t){return!(1===e.level&&t===this.items.length-2||1===e.level&&e.parent.conditions[e.parent.conditions.length-1]===e.filterModel)}close(){this.advancedFilter.getCtrl().toggleFilterBuilder({source:"ui"})}validate(){var e;let t=this.items.every(e=>{let{valid:t}=e;return t}),n=null;t?(t=JSON.stringify(this.filterModel)!==this.stringifiedModel,n=t?null:this.advFilterExpSvc.translate("advancedFilterBuilderValidationAlreadyApplied")):n=this.advFilterExpSvc.translate("advancedFilterBuilderValidationIncomplete"),null===(e=this.eButtons)||void 0===e||e.updateValidity(t,n)}validateItems(){const e=e=>{e.type=void 0},t=e=>{delete e.filter};this.items.forEach(n=>{if(!n.valid||!n.filterModel||"join"===n.filterModel.filterType)return;const{filterModel:i}=n,{colId:o}=i,r=this.advFilterExpSvc.getColumnAutocompleteEntries().find(e=>{let{key:t}=e;return t===o}),s=this.advFilterExpSvc.getColumnDetails(i.colId);if(!r||!s.column)return n.valid=!1,i.colId=void 0,e(i),void t(i);const a=this.advFilterExpSvc.getDataTypeExpressionOperator(s.baseCellDataType).operators[i.type];if(!a)return n.valid=!1,e(i),void t(i);a.numOperands>0&&!UI(i.filter)&&(n.valid=!1)})}},m3=class extends vO{constructor(e){super(),this.enabled=e}wireBeans(e){this.ctrlsSvc=e.ctrlsSvc,this.popupSvc=e.popupSvc,this.advFilterExpSvc=e.advFilterExpSvc,this.environment=e.environment}postConstruct(){this.hasAdvancedFilterParent=!!this.gos.get("advancedFilterParent"),this.ctrlsSvc.whenReady(this,()=>this.setAdvancedFilterComp()),this.addManagedEventListeners({advancedFilterEnabledChanged:e=>{let{enabled:t}=e;return this.onEnabledChanged(t)}}),this.addManagedPropertyListener("advancedFilterParent",()=>this.updateComps()),this.addManagedPropertyListener("advancedFilterBuilderParams",e=>{var t,n,i,o,r;(null===(t=e.currentValue)||void 0===t?void 0:t.suppressFullScreenButton)!==(null===(n=e.previousValue)||void 0===n?void 0:n.suppressFullScreenButton)&&(null===(i=this.eBuilderDialog)||void 0===i||i.setMaximizable(null===(o=null===(r=e.currentValue)||void 0===r?void 0:r.suppressFullScreenButton)||void 0===o||o))}),this.addDestroyFunc(()=>{this.destroyAdvancedFilterComp(),this.destroyBean(this.eBuilderComp),this.eBuilderDialog&&this.eBuilderDialog.isAlive()&&this.destroyBean(this.eBuilderDialog)})}setupHeaderComp(e){var t;this.eHeaderComp&&(null===(t=this.eHeaderComp)||void 0===t||t.getGui().remove(),this.destroyBean(this.eHeaderComp));this.eHeaderComp=this.createManagedBean(new I5(this.enabled&&!this.hasAdvancedFilterParent)),e.insertAdjacentElement("beforebegin",this.eHeaderComp.getGui())}focusHeaderComp(){return!!this.eHeaderComp&&(this.eHeaderComp.getFocusableElement().focus(),!0)}refreshComp(){var e,t;null===(e=this.eFilterComp)||void 0===e||e.refresh(),null===(t=this.eHeaderComp)||void 0===t||t.refresh()}refreshBuilderComp(){var e;null===(e=this.eBuilderComp)||void 0===e||e.refresh()}getHeaderHeight(){var e,t;return null!==(e=null===(t=this.eHeaderComp)||void 0===t?void 0:t.getHeight())&&void 0!==e?e:0}setInputDisabled(e){var t,n;null===(t=this.eFilterComp)||void 0===t||t.setInputDisabled(e),null===(n=this.eHeaderComp)||void 0===n||n.setInputDisabled(e)}toggleFilterBuilder(e){const{source:t,force:n,eventSource:i}=e;if(n&&this.eBuilderDialog||!1===n&&!this.eBuilderDialog)return;if(this.eBuilderDialog)return this.builderDestroySource=t,void this.destroyBean(this.eBuilderDialog);this.setInputDisabled(!0);const{width:o,height:r,minWidth:s}=this.getBuilderDialogSize(),{suppressFullScreenButton:a}=d({suppressFullScreenButton:!1},this.gos.get("advancedFilterBuilderParams"));this.eBuilderComp=this.createBean(new g3),this.eBuilderDialog=this.createBean(new y5({title:this.advFilterExpSvc.translate("advancedFilterBuilderTitle"),component:this.eBuilderComp,width:o,height:r,resizable:!0,movable:!0,maximizable:!a,centered:!0,closable:!0,minWidth:s,afterGuiAttached:()=>{var e;return null===(e=this.eBuilderComp)||void 0===e?void 0:e.afterGuiAttached()},postProcessPopupParams:{type:"advancedFilterBuilder",eventSource:i}})),this.dispatchFilterBuilderVisibleChangedEvent(t,!0),this.eBuilderDialog.addEventListener("destroyed",()=>{var e;this.destroyBean(this.eBuilderComp),this.eBuilderComp=void 0,this.eBuilderDialog=void 0,this.setInputDisabled(!1),this.dispatchLocalEvent({type:"advancedFilterBuilderClosed"}),this.dispatchFilterBuilderVisibleChangedEvent(null!==(e=this.builderDestroySource)&&void 0!==e?e:"ui",!1),this.builderDestroySource=void 0})}dispatchFilterBuilderVisibleChangedEvent(e,t){this.eventSvc.dispatchEvent({type:"advancedFilterBuilderVisibleChanged",source:e,visible:t})}getBuilderDialogSize(){var e,t;const n=null!==(e=null===(t=this.gos.get("advancedFilterBuilderParams"))||void 0===t?void 0:t.minWidth)&&void 0!==e?e:500,i=this.popupSvc.getPopupParent(),o=Math.round(rN(i))-2,r=Math.round(.75*oN(i))-2;return{width:Math.min(Math.max(700,n),o),height:Math.min(600,r),minWidth:n}}onEnabledChanged(e){this.enabled=e,this.updateComps()}updateComps(){this.setAdvancedFilterComp(),this.setHeaderCompEnabled(),this.eventSvc.dispatchEvent({type:"headerHeightChanged"})}setAdvancedFilterComp(){if(this.destroyAdvancedFilterComp(),!this.enabled)return;const e=this.gos.get("advancedFilterParent");if(this.hasAdvancedFilterParent=!!e,e){const t=this.createBean(new _5),n=t.getGui();this.environment.applyThemeClasses(n),n.classList.add(this.gos.get("enableRtl")?"ag-rtl":"ag-ltr"),e.appendChild(n),this.eFilterComp=t}}setHeaderCompEnabled(){var e;null===(e=this.eHeaderComp)||void 0===e||e.setEnabled(this.enabled&&!this.hasAdvancedFilterParent)}destroyAdvancedFilterComp(){this.eFilterComp&&(cN(this.eFilterComp.getGui()),this.destroyBean(this.eFilterComp))}},v3=class{constructor(e){this.params=e,this.operators=[],this.operatorStartPositions=[],this.operatorEndPositions=[],this.activeOperator=0,this.validationError=null}parseExpression(e){this.operators.push(""),this.operatorStartPositions.push(e),this.operatorEndPositions.push(void 0);const{expression:t}=this.params;for(;e<t.length;){const n=t[e];if(" "===n){if(this.parseOperator(e-1))return this.activeOperator++,e-1;this.operators[this.activeOperator]+=n}else this.operators[this.activeOperator]+=n;e++}return this.parseOperator(e-1),e}isValid(){return!this.validationError&&(!this.operators.length||!!this.parsedOperator)}getValidationError(){return this.validationError}getFunction(){return"OR"===this.parsedOperator?"||":"&&"}getModel(){return"OR"===this.parsedOperator?"OR":"AND"}getAutocompleteListParams(e,t){let n;if(null==t)n="";else{const i=this.operators[t],o=this.operatorEndPositions[t];n=r5(i,e,null==o?this.params.expression.length:o+1)}let i=this.params.advFilterExpSvc.getJoinOperatorAutocompleteEntries();return(t||null==t&&this.activeOperator)&&(i=i.filter(e=>{let{key:t}=e;return t===this.parsedOperator})),this.params.advFilterExpSvc.generateAutocompleteListParams(i,"join",n)}updateExpression(e,t,n){var i,o;let{expression:r}=this.params;const s=null!==(i=t.displayValue)&&void 0!==i?i:t.key;if(0===n)for(let a=this.operatorEndPositions.length-1;a>0;a--){const e=this.operatorEndPositions[a];null!=e&&(r=s5(r,this.operatorStartPositions[a],e,s).updatedValue)}return s5(r,this.operatorStartPositions.length>n?this.operatorStartPositions[n]:e,null!==(o=this.operatorEndPositions.length>n?this.operatorEndPositions[n]:void 0)&&void 0!==o?o:a5(r,e,!0).endPosition,s,!0)}getNumOperators(){return this.operators.length}getLastOperatorEndPosition(){return this.operatorEndPositions[this.operatorEndPositions.length-1]}parseOperator(e){const t=this.operators.length>this.activeOperator?this.operators[this.activeOperator]:"",n=this.params.advFilterExpSvc.getExpressionJoinOperators(),i=m5(t,n,e=>e);if(i){this.operatorEndPositions[this.activeOperator]=e;const o=n[i];if(this.activeOperator){if(i!==this.parsedOperator)return this.validationError||(this.validationError={message:this.params.advFilterExpSvc.translate("advancedFilterValidationJoinOperatorMismatch"),startPosition:e-t.length+1,endPosition:e}),!1}else this.parsedOperator=i;return t!==o&&(l5(this.params,t,o,e),this.operators[this.activeOperator]=o),!0}return null!==i&&(this.validationError||(this.validationError={message:this.params.advFilterExpSvc.translate("advancedFilterValidationInvalidJoinOperator"),startPosition:e-t.length+1,endPosition:e}),!0)}},f3=class e{constructor(e,t){this.params=e,this.startPosition=t,this.expectingExpression=!0,this.expectingOperator=!1,this.expressionParsers=[],this.operatorParser=new v3(this.params),this.missingEndBracket=!1,this.extraEndBracket=!1}parseExpression(){let t=this.startPosition;const{expression:n}=this.params;for(;t<n.length;){const i=n[t];if("("!==i||this.expectingOperator){if(")"===i)return this.endPosition=t-1,0===this.startPosition&&(this.extraEndBracket=!0),t;if(" "===i);else if(this.expectingExpression){const e=new g5(this.params,t);t=e.parseExpression(),this.expressionParsers.push(e),this.expectingExpression=!1,this.expectingOperator=!0}else this.expectingOperator&&(t=this.operatorParser.parseExpression(t),this.expectingOperator=!1,this.expectingExpression=!0)}else{const n=new e(this.params,t+1);t=n.parseExpression(),this.expressionParsers.push(n),this.expectingExpression=!1,this.expectingOperator=!0}t++}return this.startPosition>0&&(this.missingEndBracket=!0),t}isValid(){return!this.missingEndBracket&&!this.extraEndBracket&&this.expressionParsers.length===this.operatorParser.getNumOperators()+1&&this.operatorParser.isValid()&&this.expressionParsers.every(e=>e.isValid())}getValidationError(){const e=this.operatorParser.getValidationError();for(let n=0;n<this.expressionParsers.length;n++){const t=this.expressionParsers[n].getValidationError();if(t)return e&&e.startPosition<t.startPosition?e:t}if(e)return e;if(this.extraEndBracket)return{message:this.params.advFilterExpSvc.translate("advancedFilterValidationExtraEndBracket"),startPosition:this.endPosition+1,endPosition:this.endPosition+1};let t;return this.expressionParsers.length===this.operatorParser.getNumOperators()?t="advancedFilterValidationMissingCondition":this.missingEndBracket&&(t="advancedFilterValidationMissingEndBracket"),t?{message:this.params.advFilterExpSvc.translate(t),startPosition:this.params.expression.length,endPosition:this.params.expression.length}:null}getFunction(e){const t=this.operatorParser.getFunction(),n=this.expressionParsers.map(t=>t.getFunction(e)),i="&&"===t?"every":"some";return(e,t,o)=>n[i](n=>n(e,t,o))}getAutocompleteListParams(e){if(null!=this.endPosition&&e>this.endPosition+1)return;if(!this.expressionParsers.length)return this.getColumnAutocompleteListParams();const t=this.getExpressionParserIndex(e);if(null==t)return"("===this.params.expression[e]?{enabled:!1}:this.getColumnAutocompleteListParams();const n=this.expressionParsers[t].getAutocompleteListParams(e);if(!n){if(t<this.expressionParsers.length-1)return this.operatorParser.getAutocompleteListParams(e,t);if(this.expressionParsers.length===this.operatorParser.getNumOperators()){const t=this.operatorParser.getLastOperatorEndPosition();return null==t||e<=t+1?this.operatorParser.getAutocompleteListParams(e,this.operatorParser.getNumOperators()-1):this.getColumnAutocompleteListParams()}return")"===this.params.expression[e-1]?{enabled:!1}:this.operatorParser.getAutocompleteListParams(e)}return n}updateExpression(e,t,n){const i=this.params.expression,o=this.getExpressionParserIndex(e);if(null==o){var r;const e="column"===n?this.params.advFilterExpSvc.getColumnValue(t):null!==(r=t.displayValue)&&void 0!==r?r:t.key;return s5(i,this.startPosition,this.startPosition,e,!0)}const s=this.expressionParsers[o].updateExpression(e,t,n);return null==s?"column"===n?s5(i,e,i.length-1,this.params.advFilterExpSvc.getColumnValue(t),!0):null!=this.endPosition&&e>this.endPosition+1?null:this.operatorParser.updateExpression(e,t,o):s}getModel(){return this.expressionParsers.length>1?{filterType:"join",type:this.operatorParser.getModel(),conditions:this.expressionParsers.map(e=>e.getModel())}:this.expressionParsers[0].getModel()}getColumnAutocompleteListParams(){return this.params.advFilterExpSvc.generateAutocompleteListParams(this.params.advFilterExpSvc.getColumnAutocompleteEntries(),"column","")}getExpressionParserIndex(e){let t;for(let n=0;n<this.expressionParsers.length;n++){if(this.expressionParsers[n].startPosition>e)break;t=n}return t}},w3=class{constructor(e){this.params=e,this.valid=!1}parseExpression(){this.joinExpressionParser=new f3(this.params,0);const e=this.joinExpressionParser.parseExpression();return this.valid=e>=this.params.expression.length-1&&this.joinExpressionParser.isValid(),this.params.expression}isValid(){return this.valid}getValidationMessage(){const e=this.joinExpressionParser.getValidationError();if(!e)return null;const{message:t,startPosition:n,endPosition:i}=e;return n<this.params.expression.length?this.params.advFilterExpSvc.translate("advancedFilterValidationMessage",[t,this.params.expression.slice(n,i+1).trim()]):this.params.advFilterExpSvc.translate("advancedFilterValidationMessageAtEnd",[t])}getFunction(){const e=this.createFunctionParams();return{expressionFunction:this.joinExpressionParser.getFunction(e),params:e}}getAutocompleteListParams(e){var t;return null!==(t=this.joinExpressionParser.getAutocompleteListParams(e))&&void 0!==t?t:{enabled:!1}}updateExpression(e,t,n){return this.joinExpressionParser.updateExpression(e,t,n)}getModel(){return this.isValid()?this.joinExpressionParser.getModel():null}createFunctionParams(){return{operands:[],operators:[],evaluatorParams:[]}}},C3={moduleName:"AdvancedFilter",version:n5,beans:[class extends vO{constructor(){super(...arguments),this.beanName="advancedFilter",this.appliedExpression=null,this.expression=null,this.isValid=!0}wireBeans(e){this.valueSvc=e.valueSvc,this.colModel=e.colModel,this.dataTypeSvc=e.dataTypeSvc,this.advFilterExpSvc=e.advFilterExpSvc,this.filterValueSvc=e.filterValueSvc}postConstruct(){this.setEnabled(this.gos.get("enableAdvancedFilter"),!0),this.ctrl=this.createManagedBean(new m3(this.enabled)),this.expressionProxy={getValue:(e,t)=>{const n=this.colModel.getColDefCol(e);return n?this.filterValueSvc.getValue(n,t):void 0}},this.addManagedPropertyListener("enableAdvancedFilter",e=>this.setEnabled(!!e.currentValue)),this.addManagedEventListeners({newColumnsLoaded:e=>this.onNewColumnsLoaded(e)}),this.addManagedPropertyListener("includeHiddenColumnsInAdvancedFilter",()=>this.updateValidity())}isEnabled(){return this.enabled}isFilterPresent(){return!!this.expressionFunction}doesFilterPass(e){return this.expressionFunction(this.expressionProxy,e,this.expressionParams)}getModel(){var e;const t=this.createExpressionParser(this.appliedExpression);return null===t||void 0===t||t.parseExpression(),null!==(e=null===t||void 0===t?void 0:t.getModel())&&void 0!==e?e:null}setModel(e){const t=(e,n)=>{if("join"===e.filterType){const i=this.advFilterExpSvc.parseJoinOperator(e),o=e.conditions.map(e=>t(e)).filter(e=>UI(e)).join(" ".concat(i," "));return n||e.conditions.length<=1?o:"(".concat(o,")")}return this.advFilterExpSvc.parseColumnFilterModel(e)},n=e?t(e,!0):null;this.setExpressionDisplayValue(n),this.applyExpression(),this.ctrl.refreshComp(),this.ctrl.refreshBuilderComp()}getExpressionDisplayValue(){return this.expression}setExpressionDisplayValue(e){this.expression=e}isCurrentExpressionApplied(){return this.appliedExpression===this.expression}createExpressionParser(e){return e?new w3({expression:e,colModel:this.colModel,dataTypeSvc:this.dataTypeSvc,valueSvc:this.valueSvc,advFilterExpSvc:this.advFilterExpSvc}):null}getDefaultExpression(e){const t=this.advFilterExpSvc.getColumnValue(e)+" ";return{updatedValue:t,updatedPosition:t.length}}isHeaderActive(){return!this.gos.get("advancedFilterParent")}getCtrl(){return this.ctrl}setEnabled(e,t){const n=this.enabled,i=uB(this.gos)||cB(this.gos);e&&!i&&iB(123),this.enabled=e&&i,t||this.enabled===n||this.eventSvc.dispatchEvent({type:"advancedFilterEnabledChanged",enabled:this.enabled})}applyExpression(){const e=this.createExpressionParser(this.expression);null===e||void 0===e||e.parseExpression(),this.applyExpressionFromParser(e)}getAppliedExpressionDisplayValue(){return this.appliedExpression}applyExpressionFromParser(e){if(this.isValid=!e||e.isValid(),!e||!this.isValid)return this.expressionFunction=null,this.expressionParams=null,void(this.appliedExpression=null);const{expressionFunction:t,params:n}=e.getFunction();this.expressionFunction=t,this.expressionParams=n,this.appliedExpression=this.expression}updateValidity(){this.advFilterExpSvc.resetColumnCaches();const e=this.createExpressionParser(this.expression);null===e||void 0===e||e.parseExpression();const t=(!e||e.isValid())!==this.isValid;return this.applyExpressionFromParser(e),this.ctrl.refreshComp(),this.ctrl.refreshBuilderComp(),t}onNewColumnsLoaded(e){var t;if("gridInitializing"!==e.source||null===(t=this.dataTypeSvc)||void 0===t||!t.isPendingInference)return;this.ctrl.setInputDisabled(!0);const[n]=this.addManagedEventListeners({dataTypesInferred:()=>{null===n||void 0===n||n(),this.ctrl.setInputDisabled(!1)}})}},class extends vO{constructor(){var e;super(...arguments),e=this,this.beanName="advFilterExpSvc",this.filterOperandGetters={number:e=>{var t;return null!==(t=qI(e.filter))&&void 0!==t?t:""},date:e=>{const t=this.colModel.getColDefCol(e.colId);return t?this.valueSvc.formatValue(t,null,wH(e.filter)):null},dateTime:e=>this.filterOperandGetters.date(e),dateString:e=>{var t,n,i;const o=this.colModel.getColDefCol(e.colId);if(!o)return null;const{filter:r}=e,s=null===(t=this.dataTypeSvc)||void 0===t?void 0:t.getDateFormatterFunction(o),a=null!==(n=null===s||void 0===s?void 0:s(null!==(i=wH(r))&&void 0!==i?i:void 0))&&void 0!==n?n:r;return this.valueSvc.formatValue(o,null,a)},dateTimeString:e=>this.filterOperandGetters.dateString(e),boolean:()=>null,object:()=>null,text:()=>null},this.operandModelValueGetters={number:e=>UI(e)?Number(e):null,date:(e,t,n)=>{var i;return pH(this.valueSvc.parseValue(t,null,e,void 0),!(null===(i=this.dataTypeSvc)||void 0===i||!i.getDateIncludesTimeFlag(n)))},dateTime:function(){return e.operandModelValueGetters.date(...arguments)},dateString:(e,t,n)=>{const i=this.valueSvc.parseValue(t,null,e,void 0);var o;return this.dataTypeSvc?pH(null!==(o=this.dataTypeSvc.getDateParserFunction(t)(i))&&void 0!==o?o:null,this.dataTypeSvc.getDateIncludesTimeFlag(n)):i},dateTimeString:function(){return e.operandModelValueGetters.dateString(...arguments)},boolean:e=>e,object:e=>e,text:e=>e},this.columnNameToIdMap={},this.columnAutocompleteEntries=null,this.expressionEvaluatorParams={}}wireBeans(e){this.valueSvc=e.valueSvc,this.colModel=e.colModel,this.colNames=e.colNames,this.dataTypeSvc=e.dataTypeSvc}postConstruct(){this.expressionJoinOperators=this.generateExpressionJoinOperators(),this.expressionOperators=this.generateExpressionOperators()}parseJoinOperator(e){var t;const{type:n}=e;return null!==(t=this.expressionJoinOperators[n])&&void 0!==t?t:n}getColumnDisplayValue(e){const{colId:t}=e,n=this.getColumnAutocompleteEntries().find(e=>{let{key:n}=e;return n===t});let i;return n?(i=n.displayValue,this.columnNameToIdMap[i.toLocaleUpperCase()]={colId:t,columnName:i}):i=t,i}getOperatorDisplayValue(e){var t,n;return null!==(t=null===(n=this.getExpressionOperator(e.filterType,e.type))||void 0===n?void 0:n.displayValue)&&void 0!==t?t:e.type}getOperandModelValue(e,t,n){return this.operandModelValueGetters[t](e,n,t)}getOperandDisplayValue(e,t){const{filter:n}=e;if(null==n)return"";let i=this.filterOperandGetters[e.filterType](e);var o;"number"!==e.filterType&&(null!==i&&void 0!==i||(i=null!==(o=qI(n))&&void 0!==o?o:""),t||(i='"'.concat(i,'"')));return t?i:" ".concat(i)}parseColumnFilterModel(e){var t,n;const i=null!==(t=this.getColumnDisplayValue(e))&&void 0!==t?t:"",o=null!==(n=this.getOperatorDisplayValue(e))&&void 0!==n?n:"",r=this.getOperandDisplayValue(e);return"[".concat(i,"] ").concat(o).concat(r)}updateAutocompleteCache(e,t){if("column"===t){const{key:t,displayValue:n}=e;this.columnNameToIdMap[e.displayValue.toLocaleUpperCase()]={colId:t,columnName:n}}}translate(e,t){let n=o5[e];return"function"===typeof n&&(n=n(t)),this.getLocaleTextFunc()(e,n,t)}generateAutocompleteListParams(e,t,n){return{enabled:!0,type:t,searchString:n,entries:e}}getColumnAutocompleteEntries(){var e;if(this.columnAutocompleteEntries)return this.columnAutocompleteEntries;const t=null!==(e=this.colModel.getColDefCols())&&void 0!==e?e:[],n=[],i=this.gos.get("includeHiddenColumnsInAdvancedFilter");return t.forEach(e=>{e.getColDef().filter&&(i||e.isVisible()||e.isRowGroupActive())&&n.push({key:e.getColId(),displayValue:this.colNames.getDisplayNameForColumn(e,"advancedFilter")})}),n.sort((e,t)=>{var n,i;const o=null!==(n=e.displayValue)&&void 0!==n?n:"",r=null!==(i=t.displayValue)&&void 0!==i?i:"";return o<r?-1:r>o?1:0}),n}getOperatorAutocompleteEntries(e,t){const n=this.getActiveOperators(e);return this.getDataTypeExpressionOperator(t).getEntries(n)}getJoinOperatorAutocompleteEntries(){return Object.entries(this.expressionJoinOperators).map(e=>{let[t,n]=e;return{key:t,displayValue:n}})}getDefaultAutocompleteListParams(e){return this.generateAutocompleteListParams(this.getColumnAutocompleteEntries(),"column",e)}getDataTypeExpressionOperator(e){return this.expressionOperators[e]}getExpressionOperator(e,t){var n;return null===(n=this.getDataTypeExpressionOperator(e))||void 0===n||null===(n=n.operators)||void 0===n?void 0:n[t]}getExpressionJoinOperators(){return this.expressionJoinOperators}getColId(e){const t=e.toLocaleUpperCase(),n=this.columnNameToIdMap[t];if(n)return n;const i=this.getColumnAutocompleteEntries().find(e=>{let{displayValue:n}=e;return n.toLocaleUpperCase()===t});if(i){const{key:e,displayValue:n}=i,o={colId:e,columnName:n};return this.columnNameToIdMap[t]=o,o}return null}getExpressionEvaluatorParams(e){var t,n,i;let o=this.expressionEvaluatorParams[e];if(o)return o;const r=this.colModel.getColDefCol(e);if(!r)return{valueConverter:e=>e};switch(null===(t=this.dataTypeSvc)||void 0===t?void 0:t.getBaseDataType(r)){case"dateTimeString":case"dateString":o={valueConverter:null!==(n=null===(i=this.dataTypeSvc)||void 0===i?void 0:i.getDateParserFunction(r))&&void 0!==n?n:e=>e};break;case"object":o=r.getColDef().filterValueGetter?{valueConverter:e=>e}:{valueConverter:(e,t)=>{var n;return null!==(n=this.valueSvc.formatValue(r,t,e))&&void 0!==n?n:"function"===typeof e.toString?e.toString():""}};break;case"text":case void 0:o={valueConverter:e=>qI(e)};break;default:o={valueConverter:e=>e}}const{filterParams:s}=r.getColDef();return s&&["caseSensitive","includeBlanksInEquals","includeBlanksInLessThan","includeBlanksInGreaterThan"].forEach(e=>{const t=s[e];t&&(o[e]=t)}),this.expressionEvaluatorParams[e]=o,o}getColumnDetails(e){var t,n,i;const o=null!==(t=this.colModel.getColDefCol(e))&&void 0!==t?t:void 0;return{column:o,baseCellDataType:null!==(n=o?null===(i=this.dataTypeSvc)||void 0===i?void 0:i.getBaseDataType(o):void 0)&&void 0!==n?n:"text"}}generateExpressionOperators(){const e=(e,t)=>this.translate(e,t),t={translate:e,equals:(e,t)=>e.getTime()===t.getTime()};return{text:new f5({translate:e}),boolean:new C5({translate:e}),object:new f5({translate:e}),number:new w5({translate:e,equals:(e,t)=>e===t}),date:new w5(t),dateString:new w5(t),dateTime:new w5(t),dateTimeString:new w5(t)}}getColumnValue(e){let{displayValue:t}=e;return"".concat(h5).concat(t).concat(p5)}generateExpressionJoinOperators(){return{AND:this.translate("advancedFilterAnd"),OR:this.translate("advancedFilterOr")}}getActiveOperators(e){var t;const n=null===(t=e.getColDef().filterParams)||void 0===t?void 0:t.filterOptions;if(!n)return;return n.every(e=>"string"===typeof e)?n:void 0}resetColumnCaches(){this.columnAutocompleteEntries=null,this.columnNameToIdMap={},this.expressionEvaluatorParams={}}}],icons:{advancedFilterBuilder:"group",advancedFilterBuilderDrag:"grip",advancedFilterBuilderInvalid:"not-allowed",advancedFilterBuilderMoveUp:"up",advancedFilterBuilderMoveDown:"down",advancedFilterBuilderAdd:"plus",advancedFilterBuilderRemove:"minus",advancedFilterBuilderSelectOpen:"small-down",richSelectRemove:"cancel"},apiFunctions:{getAdvancedFilterModel:function(e){var t,n;return null!==(t=null===(n=e.filterManager)||void 0===n?void 0:n.getAdvFilterModel())&&void 0!==t?t:null},setAdvancedFilterModel:function(e,t){var n;null===(n=e.filterManager)||void 0===n||n.setAdvFilterModel(t)},showAdvancedFilterBuilder:function(e){var t;null===(t=e.filterManager)||void 0===t||t.toggleAdvFilterBuilder(!0,"api")},hideAdvancedFilterBuilder:function(e){var t;null===(t=e.filterManager)||void 0===t||t.toggleAdvFilterBuilder(!1,"api")}},dependsOn:[i5,I$,eK,ZZ,L$,U$],css:['.ag-advanced-filter-header{align-items:center;background-color:var(--ag-header-background-color);border-bottom:var(--ag-header-row-border);display:flex;position:relative}.ag-advanced-filter{align-items:center;display:flex;width:100%}.ag-advanced-filter-buttons{display:contents}.ag-advanced-filter-header-cell{height:100%;padding-left:var(--ag-cell-horizontal-padding);padding-right:var(--ag-cell-horizontal-padding)}.ag-advanced-filter-apply-button,.ag-advanced-filter-builder-button{align-items:center;background-color:unset;border:0;display:flex;font-size:var(--ag-font-size);font-weight:600;line-height:normal;padding:var(--ag-spacing);white-space:nowrap;&:where(:not(:disabled)){cursor:pointer;&:hover{background-color:var(--ag-row-hover-color)}}}:where(.ag-ltr) .ag-advanced-filter-apply-button,:where(.ag-ltr) .ag-advanced-filter-builder-button{margin-left:calc(var(--ag-spacing)*2)}:where(.ag-rtl) .ag-advanced-filter-apply-button,:where(.ag-rtl) .ag-advanced-filter-builder-button{margin-right:calc(var(--ag-spacing)*2)}:where(.ag-ltr) .ag-advanced-filter-builder-button-label{margin-left:var(--ag-spacing)}:where(.ag-rtl) .ag-advanced-filter-builder-button-label{margin-right:var(--ag-spacing)}.ag-advanced-filter-builder{display:flex;flex-direction:column;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:100%}.ag-advanced-filter-builder-list{flex:1;overflow:auto}.ag-advanced-filter-builder-button-panel{border-top:var(--ag-advanced-filter-builder-button-bar-border);display:flex;justify-content:flex-end;padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding)}:where(.ag-ltr) .ag-advanced-filter-builder-apply-button,:where(.ag-ltr) .ag-advanced-filter-builder-cancel-button{margin-left:calc(var(--ag-spacing)*2)}:where(.ag-rtl) .ag-advanced-filter-builder-apply-button,:where(.ag-rtl) .ag-advanced-filter-builder-cancel-button{margin-right:calc(var(--ag-spacing)*2)}.ag-advanced-filter-builder-item-wrapper{align-items:center;display:flex;flex:1 1 auto;justify-content:space-between;overflow:hidden}:where(.ag-ltr) .ag-advanced-filter-builder-item-wrapper{padding-left:calc(var(--ag-icon-size)/2);padding-right:var(--ag-icon-size)}:where(.ag-rtl) .ag-advanced-filter-builder-item-wrapper{padding-left:var(--ag-icon-size);padding-right:calc(var(--ag-icon-size)/2)}:where(.ag-virtual-list-viewport .ag-advanced-filter-builder-item-wrapper) .ag-tab-guard{position:absolute}.ag-advanced-filter-builder-item-tree-lines>*{width:var(--ag-advanced-filter-builder-indent-size)}.ag-advanced-filter-builder-item-tree-line-root{width:var(--ag-icon-size);&:before{height:50%;top:50%}}.ag-advanced-filter-builder-item-tree-line-horizontal,.ag-advanced-filter-builder-item-tree-line-vertical,.ag-advanced-filter-builder-item-tree-line-vertical-bottom,.ag-advanced-filter-builder-item-tree-line-vertical-top{align-items:center;display:flex;height:100%;position:relative;&:after,&:before{content:"";height:100%;position:absolute}}.ag-advanced-filter-builder-item-tree-line-horizontal:after{border-bottom:var(--ag-border-width) solid var(--ag-border-color);height:50%;top:0;width:calc(var(--ag-advanced-filter-builder-indent-size) - var(--ag-icon-size))}:where(.ag-ltr) .ag-advanced-filter-builder-item-tree-line-horizontal:after{left:calc(var(--ag-icon-size)/2)}:where(.ag-rtl) .ag-advanced-filter-builder-item-tree-line-horizontal:after{right:calc(var(--ag-icon-size)/2)}.ag-advanced-filter-builder-item-tree-line-vertical:before{top:0;width:calc(var(--ag-advanced-filter-builder-indent-size) - var(--ag-icon-size)/2)}:where(.ag-ltr) .ag-advanced-filter-builder-item-tree-line-vertical:before{border-left:var(--ag-border-width) solid var(--ag-border-color);left:calc(var(--ag-icon-size)/2)}:where(.ag-rtl) .ag-advanced-filter-builder-item-tree-line-vertical:before{border-right:var(--ag-border-width) solid var(--ag-border-color);right:calc(var(--ag-icon-size)/2)}.ag-advanced-filter-builder-item-tree-line-vertical-top:before{height:50%;top:0;width:calc(var(--ag-advanced-filter-builder-indent-size) - var(--ag-icon-size)/2)}:where(.ag-ltr) .ag-advanced-filter-builder-item-tree-line-vertical-top:before{border-left:var(--ag-border-width) solid var(--ag-border-color);left:calc(var(--ag-icon-size)/2)}:where(.ag-rtl) .ag-advanced-filter-builder-item-tree-line-vertical-top:before{border-right:var(--ag-border-width) solid var(--ag-border-color);right:calc(var(--ag-icon-size)/2)}.ag-advanced-filter-builder-item-tree-line-vertical-bottom:before{height:calc(50% - var(--ag-icon-size)*1.5/2);top:calc(50% + var(--ag-icon-size)*1.5/2);width:calc(var(--ag-icon-size)/2)}:where(.ag-ltr) .ag-advanced-filter-builder-item-tree-line-vertical-bottom:before{border-left:var(--ag-border-width) solid var(--ag-border-color);left:calc(var(--ag-icon-size)/2)}:where(.ag-rtl) .ag-advanced-filter-builder-item-tree-line-vertical-bottom:before{border-right:var(--ag-border-width) solid var(--ag-border-color);right:calc(var(--ag-icon-size)/2)}.ag-advanced-filter-builder-item-condition{padding-bottom:var(--ag-spacing);padding-top:var(--ag-spacing)}.ag-advanced-filter-builder-item,.ag-advanced-filter-builder-item-buttons,.ag-advanced-filter-builder-item-condition,.ag-advanced-filter-builder-item-tree-lines,.ag-advanced-filter-builder-pill,.ag-advanced-filter-builder-pill-wrapper{align-items:center;display:flex;height:100%}.ag-advanced-filter-builder-pill-wrapper{margin:0 var(--ag-spacing)}.ag-advanced-filter-builder-pill{border-radius:var(--ag-border-radius);min-height:calc(100% - var(--ag-spacing)*3);min-width:calc(var(--ag-spacing)*2);padding:var(--ag-spacing) calc(var(--ag-spacing)*2);position:relative}:where(.ag-advanced-filter-builder-pill){.ag-advanced-filter-builder-value-number{font-family:monospace;font-weight:700}.ag-advanced-filter-builder-value-empty{color:var(--ag-subtle-text-color)}}:where(.ag-ltr) :where(.ag-advanced-filter-builder-pill){.ag-picker-field-display{margin-right:var(--ag-spacing)}}:where(.ag-rtl) :where(.ag-advanced-filter-builder-pill){.ag-picker-field-display{margin-left:var(--ag-spacing)}}.ag-advanced-filter-builder-pill-display{font-weight:500;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ag-advanced-filter-builder-join-pill{background-color:var(--ag-advanced-filter-builder-join-pill-color);cursor:pointer}.ag-advanced-filter-builder-column-pill{background-color:var(--ag-advanced-filter-builder-column-pill-color);cursor:pointer}.ag-advanced-filter-builder-option-pill{background-color:var(--ag-advanced-filter-builder-option-pill-color);cursor:pointer}.ag-advanced-filter-builder-value-pill{background-color:var(--ag-advanced-filter-builder-value-pill-color);cursor:text;max-width:140px;:where(.ag-advanced-filter-builder-pill-display){display:block}}.ag-advanced-filter-builder-item-buttons>*{margin:0 calc(var(--ag-spacing)*.5)}.ag-advanced-filter-builder-item-button{color:var(--ag-subtle-text-color);cursor:pointer;position:relative}.ag-advanced-filter-builder-item-button,.ag-advanced-filter-builder-pill{&:focus-visible{box-shadow:var(--ag-focus-shadow)}}.ag-advanced-filter-builder-item-button-disabled{cursor:default;opacity:.5}.ag-advanced-filter-builder-virtual-list-container{top:var(--ag-spacing)}.ag-advanced-filter-builder-virtual-list-item{cursor:default;display:flex;height:var(--ag-list-item-height);&:hover{background-color:var(--ag-row-hover-color);:where(.ag-advanced-filter-builder-item-button){opacity:1}}}.ag-advanced-filter-builder-invalid{color:var(--ag-subtle-text-color);cursor:default;margin:0 var(--ag-spacing)}:where(.ag-advanced-filter-builder-validation) .ag-advanced-filter-builder-invalid{color:var(--ag-invalid-color)}:where(.ag-advanced-filter-builder-virtual-list-item-highlight) .ag-advanced-filter-builder-item-button:focus-visible{opacity:1}']};function b3(e,t){if(!t)return null;const n=pV(e),i=n.indexOf(t);if(-1===i)return null;let o=-1;for(let r=i-1;r>=0;r--)if(n[r].classList.contains(rU)){o=r;break}return o<=0?null:n[o-1]}function y3(e,t){if(!t)return!1;const n=e.querySelectorAll(".".concat(MH));if(!n.length)return!1;for(let i=0;i<n.length;i++)if(n[i].contains(t))return!0;return!1}var S3={tag:"div",cls:"ag-side-button",role:"presentation",children:[{tag:"button",ref:"eToggleButton",cls:"ag-button ag-side-button-button",role:"tab",attrs:{type:"button",tabindex:"-1","aria-expanded":"false"},children:[{tag:"div",ref:"eIconWrapper",cls:"ag-side-button-icon-wrapper",attrs:{"aria-hidden":"true"}},{tag:"span",ref:"eLabel",cls:"ag-side-button-label"}]}]},x3=class extends AG{constructor(e){super(),this.toolPanelDef=e,this.eToggleButton=kG,this.eIconWrapper=kG,this.eLabel=kG}getToolPanelId(){return this.toolPanelDef.id}postConstruct(){this.setTemplate(S3,[]),this.setLabel(),this.setIcon(),this.addManagedElementListeners(this.eToggleButton,{click:this.onButtonPressed.bind(this)}),this.eToggleButton.setAttribute("id","ag-".concat(this.getCompId(),"-button"))}setLabel(){const e=this.toolPanelDef,t=this.getLocaleTextFunc()(e.labelKey,e.labelDefault);this.eLabel.textContent=t}setIcon(){this.eIconWrapper.insertAdjacentElement("afterbegin",hW(this.toolPanelDef.iconKey,this.beans))}onButtonPressed(){this.dispatchLocalEvent({type:"toggleButtonClicked"})}setSelected(e){this.toggleCss("ag-selected",e),DL(this.eToggleButton,e)}},D3={tag:"div",cls:"ag-side-buttons",role:"tablist"},E3={selector:"AG-SIDE-BAR-BUTTONS",component:class extends AG{constructor(){super(D3),this.buttonComps=[]}postConstruct(){this.addManagedElementListeners(this.getFocusableElement(),{keydown:this.handleKeyDown.bind(this)})}handleKeyDown(e){e.key===sV.TAB&&e.shiftKey&&(bV(this.beans,!0)?e.preventDefault():cO(e))}setActiveButton(e){this.buttonComps.forEach(t=>{t.setSelected(e===t.getToolPanelId())})}addButtonComp(e){const t=this.createBean(new x3(e));return this.buttonComps.push(t),this.appendChild(t),t.addEventListener("toggleButtonClicked",()=>{this.dispatchLocalEvent({type:"sideBarButtonClicked",toolPanelId:e.id})}),t}clearButtons(){this.buttonComps=this.destroyBeans(this.buttonComps),uN(this.getGui()),super.destroy()}destroy(){this.clearButtons(),super.destroy()}}},F3={id:"columns",labelDefault:"Columns",labelKey:"columns",iconKey:"columnsToolPanel",toolPanel:"agColumnsToolPanel"},k3={id:"filters",labelDefault:"Filters",labelKey:"filters",iconKey:"filtersToolPanel",toolPanel:"agFiltersToolPanel"},A3={columns:F3,filters:k3,"filters-new":{id:"filters-new",labelDefault:"Filters",labelKey:"filters",iconKey:"filtersToolPanel",toolPanel:"agNewFiltersToolPanel"}};function R3(e){if(!e)return;if(!0===e)return{toolPanels:[F3,k3],defaultToolPanel:"columns"};if("string"===typeof e)return R3([e]);if(Array.isArray(e)){const t=[];if(e.forEach(e=>{const n=A3[e];n?t.push(n):iB(215,{key:e,defaultByKey:A3})}),0===t.length)return;return{toolPanels:t,defaultToolPanel:t[0].id}}return{toolPanels:P3(e.toolPanels),defaultToolPanel:e.defaultToolPanel,hiddenByDefault:e.hiddenByDefault,position:e.position}}function P3(e){const t=[];return e?(e.forEach(e=>{let n=null;if("string"===typeof e){const t=A3[e];if(!t)return void iB(215,{key:e,defaultByKey:A3});n=t}else n=e;t.push(n)}),t):t}var T3=class extends AG{constructor(){super({tag:"div",cls:"ag-tool-panel-horizontal-resize"}),this.minWidth=100,this.maxWidth=null}postConstruct(){const e=this.beans.horizontalResizeSvc.addResizeBar({eResizeBar:this.getGui(),dragStartPixels:1,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this),onResizeEnd:this.onResizeEnd.bind(this)});this.addDestroyFunc(e),this.inverted=this.gos.get("enableRtl")}dispatchResizeEvent(e,t,n){this.eventSvc.dispatchEvent({type:"toolPanelSizeChanged",width:n,started:e,ended:t})}onResizeStart(){this.startingWidth=this.elementToResize.offsetWidth,this.dispatchResizeEvent(!0,!1,this.startingWidth)}onResizeEnd(e){return this.onResizing(e,!0)}onResizing(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=this.inverted?-1:1;let i=Math.max(this.minWidth,Math.floor(this.startingWidth-e*n));null!=this.maxWidth&&(i=Math.min(this.maxWidth,i)),this.elementToResize.style.width="".concat(i,"px"),this.dispatchResizeEvent(!1,t,i)}};var _3={name:"toolPanel",optionalMethods:["refresh","getState"]},M3={tag:"div",cls:"ag-tool-panel-wrapper",role:"tabpanel"},I3=class extends AG{constructor(){super(M3)}postConstruct(){const e=this.getGui(),t=this.resizeBar=this.createManagedBean(new T3);e.setAttribute("id","ag-".concat(this.getCompId())),t.elementToResize=e,this.appendChild(t)}getToolPanelId(){return this.toolPanelId}setToolPanelDef(e,t){const{id:n,minWidth:i,maxWidth:o,width:r}=e;this.toolPanelId=n,this.width=r;const s=function(e,t,n){return e.getCompDetails(t,_3,void 0,n,!0)}(this.beans.userCompFactory,e,t);if(null==s)return!1;const a=s.newAgStackInstance();this.params=s.params,a.then(this.setToolPanelComponent.bind(this));const l=this.resizeBar;return null!=i&&(l.minWidth=i),null!=o&&(l.maxWidth=o),!0}setToolPanelComponent(e){this.toolPanelCompInstance=e,this.appendChild(e.getGui()),this.addDestroyFunc(()=>{this.destroyBean(e)});const t=this.width;t&&(this.getGui().style.width="".concat(t,"px"))}getToolPanelInstance(){return this.toolPanelCompInstance}setResizerSizerSide(e){const t="left"===e,n=this.gos.get("enableRtl")?t:!t;this.resizeBar.inverted=n}refresh(){var e;null===(e=this.toolPanelCompInstance)||void 0===e||e.refresh(this.params)}},L3={tag:"div",cls:"ag-side-bar ag-unselectable",children:[{tag:"ag-side-bar-buttons",ref:"sideBarButtons"}]},N3={selector:"AG-SIDE-BAR",component:class extends AG{constructor(){super(L3,[E3]),this.sideBarButtons=kG,this.toolPanelWrappers=[],this.registerCSS('.ag-tool-panel-wrapper{display:flex;overflow:hidden auto;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:var(--ag-side-bar-panel-width)}.ag-select-agg-func-item{align-items:center;display:flex;flex:1 1 auto;flex-flow:row nowrap;height:100%;overflow:hidden;position:relative;text-overflow:ellipsis;white-space:nowrap;>*{flex:none}}.ag-tool-panel-horizontal-resize{cursor:ew-resize;height:100%;position:absolute;top:0;width:5px;z-index:1}.ag-side-bar{background-color:var(--ag-side-bar-background-color);display:flex;flex-direction:row-reverse;position:relative}:where(.ag-ltr) :where(.ag-side-bar-left) .ag-tool-panel-horizontal-resize{right:-3px}:where(.ag-rtl) :where(.ag-side-bar-left) .ag-tool-panel-horizontal-resize{left:-3px}:where(.ag-ltr) :where(.ag-side-bar-right) .ag-tool-panel-horizontal-resize{left:-3px}:where(.ag-rtl) :where(.ag-side-bar-right) .ag-tool-panel-horizontal-resize{right:-3px}.ag-side-bar-left{flex-direction:row;order:-1}.ag-side-buttons{background-color:var(--ag-side-button-bar-background-color);padding-top:var(--ag-side-button-bar-top-padding);position:relative}.ag-side-button{background-color:var(--ag-side-button-background-color);border-bottom:var(--ag-side-button-border);border-top:var(--ag-side-button-border);color:var(--ag-side-button-text-color);margin-top:-1px;position:relative;&:before{background-color:transparent;bottom:0;content:"";display:block;position:absolute;top:0;transition:background-color var(--ag-side-button-selected-underline-transition-duration);width:var(--ag-side-button-selected-underline-width)}&:hover{background-color:var(--ag-side-button-hover-background-color);color:var(--ag-side-button-hover-text-color)}&.ag-selected{background-color:var(--ag-side-button-selected-background-color);border-bottom:var(--ag-side-button-selected-border);border-top:var(--ag-side-button-selected-border);color:var(--ag-side-button-selected-text-color);&:before{background-color:var(--ag-side-button-selected-underline-color)}}}:where(.ag-ltr) .ag-side-button{&:before{left:0}}:where(.ag-rtl) .ag-side-button{&:before{right:0}}.ag-side-button-button{align-items:center;display:flex;flex-direction:column;gap:var(--ag-spacing);position:relative;white-space:nowrap;width:100%;&:focus{box-shadow:none}}:where(.ag-ltr) .ag-side-button-button{padding:var(--ag-side-button-vertical-padding) var(--ag-side-button-right-padding) var(--ag-side-button-vertical-padding) var(--ag-side-button-left-padding)}:where(.ag-rtl) .ag-side-button-button{padding:var(--ag-side-button-vertical-padding) var(--ag-side-button-left-padding) var(--ag-side-button-vertical-padding) var(--ag-side-button-right-padding)}.ag-side-button-button:focus-visible{box-shadow:inset var(--ag-focus-shadow)}.ag-side-button-label{writing-mode:vertical-lr}@media (resolution <= 1.5x){.ag-side-button-label{font-family:"Segoe UI",var(--ag-font-family)}:where(.ag-ltr) .ag-side-button-label{transform:rotate(.05deg)}:where(.ag-rtl) .ag-side-button-label{transform:rotate(-.05deg)}}:where(.ag-ltr) .ag-side-bar-left,:where(.ag-rtl) .ag-side-bar-right{border-right:var(--ag-side-panel-border);:where(.ag-tool-panel-wrapper){border-left:var(--ag-side-panel-border)}}:where(.ag-ltr) .ag-side-bar-right,:where(.ag-rtl) .ag-side-bar-left{border-left:var(--ag-side-panel-border);:where(.ag-tool-panel-wrapper){border-right:var(--ag-side-panel-border)}}')}postConstruct(){var e;this.sideBarButtons.addEventListener("sideBarButtonClicked",this.onToolPanelButtonClicked.bind(this));const{beans:t,gos:n}=this,{sideBar:i}=null!==(e=n.get("initialState"))&&void 0!==e?e:{};this.setSideBarDef({sideBarDef:R3(n.get("sideBar")),sideBarState:i}),this.addManagedPropertyListener("sideBar",()=>this.setState()),t.sideBar.comp=this;const o=this.getFocusableElement();this.createManagedBean(new IH(o,{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this)})),hV(t,this,o)}onTabKeyDown(e){if(e.defaultPrevented)return;const{beans:t,sideBarButtons:n}=this,i=this.getGui(),o=n.getGui(),r=SB(t),s=i.querySelector(".ag-tool-panel-wrapper:not(.ag-hidden)"),a=e.target,l=e.shiftKey;if(!s)return bV(t,l)?(e.preventDefault(),!0):bV(t,l,!0);if(o.contains(r))return void(gV(s,l)&&e.preventDefault());if(!l)return;let u=null;s.contains(r)?u=mV(t,s,void 0,!0):y3(s,a)&&l&&(u=b3(s,a)),u||(u=o.querySelector(".ag-selected button")),u&&u!==e.target&&(e.preventDefault(),u.focus())}handleKeyDown(e){const t=SB(this.beans),n=this.sideBarButtons;if(!n.getGui().contains(t))return;const i=n.getGui(),o=Array.prototype.slice.call(i.querySelectorAll(".ag-side-button")),r=o.findIndex(e=>e.contains(t));let s=null;switch(e.key){case sV.LEFT:case sV.UP:s=Math.max(0,r-1);break;case sV.RIGHT:case sV.DOWN:s=Math.min(r+1,o.length-1)}if(null===s)return;const a=o[s].querySelector("button");a&&(a.focus(),e.preventDefault())}onToolPanelButtonClicked(e){const t=e.toolPanelId;this.openedItem()===t?this.openToolPanel(void 0,"sideBarButtonClicked"):this.openToolPanel(t,"sideBarButtonClicked")}clearDownUi(){this.sideBarButtons.clearButtons(),this.destroyToolPanelWrappers()}setSideBarDef(e){let{sideBarDef:t,sideBarState:n,existingToolPanelWrappers:i}=e;if(this.setDisplayed(!1),this.sideBar=t,t&&t.toolPanels){const e=t.toolPanels;if(this.createToolPanelsAndSideButtons(e,n,i),!this.toolPanelWrappers.length)return;const o=n?n.visible:!t.hiddenByDefault;if(this.setDisplayed(o),this.setSideBarPosition(n?n.position:t.position),o)if(n){const{openToolPanel:e}=n;e&&this.openToolPanel(e,"sideBarInitializing")}else this.openToolPanel(t.defaultToolPanel,"sideBarInitializing")}}getDef(){return this.sideBar}setSideBarPosition(e){e||(e="right"),this.position=e;const t="left"===e,n=t?"right":"left";return this.toggleCss("ag-side-bar-left",t),this.toggleCss("ag-side-bar-right",!t),this.toolPanelWrappers.forEach(e=>{e.setResizerSizerSide(n)}),this.dispatchSideBarUpdated(),this}setDisplayed(e,t){super.setDisplayed(e,t),this.dispatchSideBarUpdated()}getState(){const e={};return this.toolPanelWrappers.forEach(t=>{var n,i;e[t.getToolPanelId()]=null===(n=t.getToolPanelInstance())||void 0===n||null===(i=n.getState)||void 0===i?void 0:i.call(n)}),{visible:this.isDisplayed(),position:this.position,openToolPanel:this.openedItem(),toolPanels:e}}createToolPanelsAndSideButtons(e,t,n){for(const o of e){var i;this.createToolPanelAndSideButton(o,null===t||void 0===t||null===(i=t.toolPanels)||void 0===i?void 0:i[o.id],null===n||void 0===n?void 0:n[o.id])}}validateDef(e){const{id:t,toolPanel:n}=e;if(null==t)return iB(212),!1;var i;if(("agFiltersToolPanel"===n||"agNewFiltersToolPanel"===n)&&(null!==(i=this.beans.filterManager)&&void 0!==i&&i.isAdvFilterEnabled()))return iB(213),!1;return!0}createToolPanelAndSideButton(e,t,n){if(!this.validateDef(e))return;let i;if(n)i=n;else{i=this.createBean(new I3);if(!i.setToolPanelDef(e,iO(this.gos,{initialState:t,onStateUpdated:()=>this.dispatchSideBarUpdated()})))return}i.setDisplayed(!1);const o=i.getGui();this.appendChild(o),this.toolPanelWrappers.push(i);OL(this.sideBarButtons.addButtonComp(e).eToggleButton,o)}refresh(){this.toolPanelWrappers.forEach(e=>e.refresh())}openToolPanel(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"api";const n=this.openedItem();if(n===e)return;this.toolPanelWrappers.forEach(t=>{const n=e===t.getToolPanelId();t.setDisplayed(n)});n!==this.openedItem()&&(this.sideBarButtons.setActiveButton(e),this.raiseToolPanelVisibleEvent(e,null!==n&&void 0!==n?n:void 0,t))}getToolPanelInstance(e){const t=this.toolPanelWrappers.filter(t=>t.getToolPanelId()===e)[0];if(t)return t.getToolPanelInstance();iB(214,{key:e})}raiseToolPanelVisibleEvent(e,t,n){const i=!!e&&!!t,o=this.eventSvc;t&&o.dispatchEvent({type:"toolPanelVisibleChanged",source:n,key:t,visible:!1,switchingToolPanel:i}),e&&o.dispatchEvent({type:"toolPanelVisibleChanged",source:n,key:e,visible:!0,switchingToolPanel:i})}close(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"api";this.openToolPanel(void 0,e)}isToolPanelShowing(){return!!this.openedItem()}openedItem(){let e=null;return this.toolPanelWrappers.forEach(t=>{t.isDisplayed()&&(e=t.getToolPanelId())}),e}setState(e){const t=R3(this.gos.get("sideBar")),n={};var i;t&&this.sideBar&&(null===(i=t.toolPanels)||void 0===i||i.forEach(e=>{var t,i,o;const{id:r}=e;if(!r)return;const s=null===(t=this.sideBar.toolPanels)||void 0===t?void 0:t.find(e=>e.id===r);if(!s||e.toolPanel!==s.toolPanel)return;const a=this.toolPanelWrappers.find(e=>e.getToolPanelId()===r);if(!a)return;const l=iO(this.gos,d(d({},null!==(i=e.toolPanelParams)&&void 0!==i?i:{}),{},{onStateUpdated:()=>this.dispatchSideBarUpdated()}));!0===(null===(o=a.getToolPanelInstance())||void 0===o?void 0:o.refresh(l))&&(this.toolPanelWrappers=this.toolPanelWrappers.filter(e=>e!==a),cN(a.getGui()),n[r]=a)}));this.clearDownUi(),this.setSideBarDef({sideBarDef:t,sideBarState:e,existingToolPanelWrappers:n})}dispatchSideBarUpdated(){this.eventSvc.dispatchEvent({type:"sideBarUpdated"})}destroyToolPanelWrappers(){this.toolPanelWrappers.forEach(e=>{cN(e.getGui()),this.destroyBean(e)}),this.toolPanelWrappers.length=0}destroy(){this.destroyToolPanelWrappers(),super.destroy()}}},B3={moduleName:"SideBar",version:n5,beans:[class extends vO{constructor(){super(...arguments),this.beanName="sideBar"}getSelector(){return N3}}],apiFunctions:{isSideBarVisible:function(e){var t,n;return null!==(t=null===(n=e.sideBar)||void 0===n?void 0:n.comp.isDisplayed())&&void 0!==t&&t},setSideBarVisible:function(e,t){var n;null===(n=e.sideBar)||void 0===n||n.comp.setDisplayed(t)},setSideBarPosition:function(e,t){var n;null===(n=e.sideBar)||void 0===n||n.comp.setSideBarPosition(t)},openToolPanel:function(e,t){var n;null===(n=e.sideBar)||void 0===n||n.comp.openToolPanel(t,"api")},closeToolPanel:function(e){var t;null===(t=e.sideBar)||void 0===t||t.comp.close("api")},getOpenedToolPanel:function(e){var t,n;return null!==(t=null===(n=e.sideBar)||void 0===n?void 0:n.comp.openedItem())&&void 0!==t?t:null},refreshToolPanel:function(e){var t;null===(t=e.sideBar)||void 0===t||t.comp.refresh()},isToolPanelShowing:function(e){var t,n;return null!==(t=null===(n=e.sideBar)||void 0===n?void 0:n.comp.isToolPanelShowing())&&void 0!==t&&t},getToolPanelInstance:function(e,t){var n;return az(null===(n=e.sideBar)||void 0===n?void 0:n.comp.getToolPanelInstance(t))},getSideBar:function(e){var t;return null===(t=e.sideBar)||void 0===t?void 0:t.comp.getDef()}},dependsOn:[i5,nK]},O3={tag:"div"},G3=class extends AG{constructor(){super(O3)}init(e){var t;this.params=e,this.cssClassPrefix=null!==(t=this.params.cssClassPrefix)&&void 0!==t?t:"ag-menu-option",this.addAriaAttributes(),this.addIcon(),this.addName(),this.addShortcut(),this.addSubMenu()}configureDefaults(){return!0}addAriaAttributes(){const{checked:e,subMenu:t}=this.params,n=this.getGui();e&&NL(n,e),t&&DL(n,!1)}addIcon(){if(this.params.isCompact)return;const e=MN({tag:"span",ref:"eIcon",cls:"".concat(this.getClassName("part")," ").concat(this.getClassName("icon")),role:"presentation"}),{checked:t,icon:n}=this.params;t?e.appendChild(hW("check",this.beans)):n&&(EN(n)?e.appendChild(n):"string"===typeof n?e.innerHTML=n:iB(227)),this.getGui().appendChild(e)}addName(){const e=MN({tag:"span",ref:"eName",cls:"".concat(this.getClassName("part")," ").concat(this.getClassName("text")),children:this.params.name||""});this.getGui().appendChild(e)}addShortcut(){if(this.params.isCompact)return;const e=MN({tag:"span",ref:"eShortcut",cls:"".concat(this.getClassName("part")," ").concat(this.getClassName("shortcut")),children:this.params.shortcut||""});this.getGui().appendChild(e)}addSubMenu(){const e=MN({tag:"span",ref:"ePopupPointer",cls:"".concat(this.getClassName("part")," ").concat(this.getClassName("popup-pointer"))}),t=this.getGui();if(this.params.subMenu){const t=this.gos.get("enableRtl")?"subMenuOpenRtl":"subMenuOpen";e.appendChild(hW(t,this.beans))}t.appendChild(e)}getClassName(e){return"".concat(this.cssClassPrefix,"-").concat(e)}},z3={moduleName:"MenuItem",version:n5,userComponents:{agMenuItem:G3},icons:{check:"tick",subMenuOpen:"small-right",subMenuOpenRtl:"small-left"},css:['.ag-menu-list{cursor:default;display:table;padding:var(--ag-spacing) 0;width:100%}.ag-menu-option,.ag-menu-separator{display:table-row}.ag-menu-option-part,.ag-menu-separator-part{display:table-cell;vertical-align:middle}.ag-menu-option{cursor:pointer;font-weight:500}:where(.ag-ltr) :where(.ag-menu-option-popup-pointer) .ag-icon{text-align:right}:where(.ag-rtl) :where(.ag-menu-option-popup-pointer) .ag-icon{text-align:left}.ag-menu-option-text{white-space:nowrap}.ag-menu-option-custom{display:contents}.ag-compact-menu-option{display:flex;flex-wrap:nowrap;width:100%}.ag-compact-menu-option-text{flex:1 1 auto;white-space:nowrap}.ag-menu-separator{height:calc(var(--ag-spacing)*2 + 1px)}.ag-menu-separator-part:after{border-top:solid var(--ag-border-width) var(--ag-menu-separator-color);content:"";display:block}.ag-compact-menu-option-active,.ag-menu-option-active{background-color:var(--ag-row-hover-color)}.ag-compact-menu-option-part,.ag-menu-option-part{line-height:var(--ag-icon-size);padding:calc(var(--ag-spacing) + 2px) 0}.ag-compact-menu-option-disabled,.ag-menu-option-disabled{cursor:not-allowed;opacity:.5}.ag-compact-menu-option-icon,.ag-menu-option-icon{width:var(--ag-icon-size)}:where(.ag-ltr) .ag-compact-menu-option-icon,:where(.ag-ltr) .ag-menu-option-icon{padding-left:calc(var(--ag-spacing)*2)}:where(.ag-rtl) .ag-compact-menu-option-icon,:where(.ag-rtl) .ag-menu-option-icon{padding-right:calc(var(--ag-spacing)*2)}.ag-compact-menu-option-text,.ag-menu-option-text{padding-left:calc(var(--ag-spacing)*2);padding-right:calc(var(--ag-spacing)*2)}:where(.ag-ltr) .ag-compact-menu-option-shortcut,:where(.ag-ltr) .ag-menu-option-shortcut{padding-right:var(--ag-spacing)}:where(.ag-rtl) .ag-compact-menu-option-shortcut,:where(.ag-rtl) .ag-menu-option-shortcut{padding-left:var(--ag-spacing)}:where(.ag-ltr) .ag-compact-menu-option-popup-pointer,:where(.ag-ltr) .ag-menu-option-popup-pointer{padding-right:var(--ag-spacing)}:where(.ag-rtl) .ag-compact-menu-option-popup-pointer,:where(.ag-rtl) .ag-menu-option-popup-pointer{padding-left:var(--ag-spacing)}.ag-menu-column-select-wrapper{height:265px;overflow:auto;:where(.ag-column-select){height:100%}}.ag-menu:where(.ag-tabs){min-width:290px}.ag-context-menu-loading-icon{pointer-events:none;position:absolute}']},V3={tag:"div",cls:"ag-column-select-header",role:"presentation",children:[{tag:"div",ref:"eExpand",cls:"ag-column-select-header-icon"},{tag:"ag-checkbox",ref:"eSelect",cls:"ag-column-select-header-checkbox"},{tag:"ag-input-text-field",ref:"eFilterTextField",cls:"ag-column-select-header-filter-wrapper"}]},H3={selector:"AG-PRIMARY-COLS-HEADER",component:class extends AG{constructor(){super(V3,[wW,qW]),this.eExpand=kG,this.eSelect=kG,this.eFilterTextField=kG}postConstruct(){this.createExpandIcons(),this.addManagedListeners(this.eExpand,{click:this.onExpandClicked.bind(this),keydown:e=>{e.key===sV.SPACE&&(e.preventDefault(),this.onExpandClicked())}}),this.addManagedElementListeners(this.eSelect.getInputElement(),{click:this.onSelectClicked.bind(this)}),this.addManagedPropertyListener("functionsReadOnly",()=>this.onFunctionsReadOnlyPropChanged()),this.eFilterTextField.setAutoComplete(!1).onValueChange(()=>this.onFilterTextChanged()),this.addManagedEventListeners({newColumnsLoaded:this.showOrHideOptions.bind(this)});const e=this.getLocaleTextFunc();this.eSelect.setInputAriaLabel(e("ariaColumnSelectAll","Toggle All Columns Visibility")),this.eFilterTextField.setInputAriaLabel(e("ariaFilterColumnsInput","Filter Columns Input")),this.activateTabIndex([this.eExpand])}onFunctionsReadOnlyPropChanged(){const e=this.gos.get("functionsReadOnly");this.eSelect.setReadOnly(e),this.eSelect.toggleCss("ag-column-select-column-readonly",e)}init(e){this.params=e;const t=this.gos.get("functionsReadOnly");this.eSelect.setReadOnly(t),this.eSelect.toggleCss("ag-column-select-column-readonly",t),this.beans.colModel.ready&&this.showOrHideOptions()}createExpandIcons(){const e=this.beans;this.eExpand.appendChild(this.eExpandChecked=hW("columnSelectOpen",e)),this.eExpand.appendChild(this.eExpandUnchecked=hW("columnSelectClosed",e)),this.eExpand.appendChild(this.eExpandIndeterminate=hW("columnSelectIndeterminate",e)),this.setExpandState(0)}showOrHideOptions(){var e;const t=this.params,n=!t.suppressColumnFilter,i=!t.suppressColumnSelectAll,o=!t.suppressColumnExpandAll,r=!(null===(e=this.beans.colModel.colDefCols)||void 0===e||!e.treeDepth),s=this.getLocaleTextFunc();this.eFilterTextField.setInputPlaceholder(s("searchOoo","Search...")),XL(this.eFilterTextField.getGui(),n),XL(this.eSelect.getGui(),i),XL(this.eExpand,o&&r)}onFilterTextChanged(){this.onFilterTextChangedDebounced||(this.onFilterTextChangedDebounced=HN(this,()=>{const e=this.eFilterTextField.getValue();this.dispatchLocalEvent({type:"filterChanged",filterText:e})},300)),this.onFilterTextChangedDebounced()}onSelectClicked(){this.dispatchLocalEvent({type:this.selectState?"unselectAll":"selectAll"})}onExpandClicked(){this.dispatchLocalEvent({type:0===this.expandState?"collapseAll":"expandAll"})}setExpandState(e){this.expandState=e,XL(this.eExpandChecked,0===e),XL(this.eExpandUnchecked,1===e),XL(this.eExpandIndeterminate,2===e)}setSelectionState(e){this.selectState=e,this.eSelect.setValue(this.selectState)}}};function j3(e){return!!e&&"undefined"!==typeof e.children}function W3(e){return j3(e)?e.groupId:e.colId}function U3(e,t,n){if(!j3(e))return!0;const i=e,o=n;if(((e,t)=>{const n=e.children.map(W3).includes(W3(t)),i=_O(e.children),o=i&&W3(i)!==W3(t);return n&&o})(i,o))return i.children.push(o),!0;if(i.groupId===t){if(!i.children.map(W3).includes(W3(o)))return i.children.push(o),!0}for(let r=i.children.length-1;r>=0&&!U3(i.children[r],t,n);r--);return!1}function K3(e){const t=(e,t)=>j3(e)&&j3(t)&&W3(e)===W3(t),n=(e,t)=>{if(!j3(t))return e;const i=e,o=t;if(o.children&&o.groupId){if(U3(i,o.groupId,o.children[0]))return i}return o.children.forEach(e=>n(i,e)),i},i=[];for(let o=1;o<=e.length;o++){const r=e[o-1],s=e[o];t(r,s)?e[o]=n(r,s):i.push(r)}return i}function q3(e,t){const n=[],i=(t,o)=>{if(j3(t)){const e=t,n="undefined"!==typeof e.groupId?e.groupId:e.headerName,r=new kO(e,n,!1,o),s=[];return e.children.forEach(e=>{const t=i(e,o+1);t&&s.push(t)}),r.setChildren(s),r}{const i=t,o=i.colId?i.colId:i.field,r=e.getColDefCol(o);return r||n.push(i),r}},o=[];return t.forEach(e=>{const t=i(e,0);t&&o.push(t)}),n.length>0&&iB(217,{invalidColIds:n}),o}function Y3(e,t){const n=function(e){const t=(e,n)=>{let i;if(FO(e))if(e.isPadding())i=n;else{const t=Object.assign({},e.getColGroupDef());t.groupId=e.getGroupId(),t.children=[n],i=t}else{const t=Object.assign({},e.getColDef());t.colId=e.getColId(),i=t}const o=e.getOriginalParent();return o?t(o,i):i},n=e.getCols();return n.filter(e=>{const t=e.getColDef();return e.isPrimary()&&!t.showRowGroup}).map(e=>t(e,e.getColDef()))}(e);t(K3(n))}var Z3=class{constructor(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4?arguments[4]:void 0;this.displayName=e,this.depth=n,this.group=i,this.localEventService=new zI,i?(this.columnGroup=t,this._expanded=o,this.children=[]):this.column=t}get expanded(){return!!this._expanded}set expanded(e){e!==this._expanded&&(this._expanded=e,this.localEventService.dispatchEvent({type:"expandedChanged"}))}addEventListener(e,t){this.localEventService.addEventListener(e,t)}removeEventListener(e,t){this.localEventService.removeEventListener(e,t)}};function $3(e,t,n,i){const o=function(e){const t=[],n=e=>{e.forEach(e=>{e.passesFilter&&(e.group?n(e.children):t.push(e.column))})};return n(e),t}(t);X3(e,o,n,i)}function X3(e,t,n,i){e.colModel.isPivotMode()?function(e,t,n,i){!function(e,t,n,i){const o=[],r=t=>{if(!t.isAnyFunctionActive())if(t.isAllowValue()){var n;const i="string"===typeof t.getAggFunc()?t.getAggFunc():null===(n=e.aggFuncSvc)||void 0===n?void 0:n.getDefaultAggFunc(t);o.push({colId:t.getId(),aggFunc:i})}else t.isAllowRowGroup()?o.push({colId:t.getId(),rowGroup:!0}):t.isAllowPivot()&&o.push({colId:t.getId(),pivot:!0})},s=e=>{(e.isPivotActive()||e.isRowGroupActive()||e.isValueActive())&&o.push({colId:e.getId(),pivot:!1,rowGroup:!1,aggFunc:null})},a=n?r:s;t.forEach(a),o.length>0&&mG(e,{state:o},i)}(e,t,n,i)}(e,t,n,i):function(e,t,n,i){const o=[];t.forEach(e=>{e.getColDef().lockVisible||e.isVisible()!=n&&o.push({colId:e.getId(),hide:!n})}),o.length>0&&mG(e,{state:o},i)}(e,t,n,i)}function Q3(e,t){const{columns:n,visibleState:i,pivotState:o,eventType:r}=t,s=n.map(t=>{const n=t.getColId();if(e.colModel.isPivotMode()){const e=null===o||void 0===o?void 0:o[n];return{colId:n,pivot:null===e||void 0===e?void 0:e.pivot,rowGroup:null===e||void 0===e?void 0:e.rowGroup,aggFunc:null===e||void 0===e?void 0:e.aggFunc}}return{colId:n,hide:!(null!==i&&void 0!==i&&i[n])}});mG(e,{state:s},r)}function J3(e){return{pivot:e.isPivotActive(),rowGroup:e.isRowGroupActive(),aggFunc:e.isValueActive()?e.getAggFunc():void 0}}function e4(e,t,n,i){const o=t.getCol(n);e.groupData||(e.groupData={});const r=o.getColId(),s=e.groupData[r];s!==i&&(e.groupData[r]=i,e.dispatchCellChangedEvent(o,i,s))}function t4(e,t,n){var i;e.group!==n&&(e.group&&!n&&(e.expanded=!1),e.group=n,e.updateHasChildren(),null===(i=t.selectionSvc)||void 0===i||i.updateRowSelectable(e),e.dispatchRowEvent("groupChanged"))}function n4(e,t){const{gos:n,rowGroupColsSvc:i}=t;if(!i||!e)return!1;const o=n.get("groupLockGroupColumns");if(!e.isRowGroupActive()||0===o)return!1;if(-1===o)return!0;return o>i.columns.findIndex(t=>t.getColId()===e.getColId())}var i4=class extends uU{constructor(e){super(),this.setTemplateFromElement(e.getGui(),void 0,void 0,!0)}postConstruct(){this.initialiseTabGuard({onTabKeyDown:e=>this.onTabKeyDown(e),handleKeyDown:e=>this.handleKeyDown(e)})}handleKeyDown(e){e.key===sV.ESCAPE&&this.closePanel()}onTabKeyDown(e){e.defaultPrevented||(this.closePanel(),e.preventDefault())}closePanel(){const e=this.parentComponent;e.closeSubMenu(),setTimeout(()=>e.getGui().focus(),0)}};var o4={name:"menuItem",optionalMethods:["setActive","select","setExpanded","configureDefaults"]},r4={tag:"div",cls:"ag-menu",role:"presentation"},s4=class extends vO{constructor(){super(...arguments),this.ACTIVATION_DELAY=80,this.isActive=!1,this.subMenuIsOpen=!1,this.subMenuIsOpening=!1,this.suppressRootStyles=!0,this.suppressAria=!0,this.suppressFocus=!0}wireBeans(e){this.popupSvc=e.popupSvc,this.userCompFactory=e.userCompFactory,this.registry=e.registry}init(e){var t,n,i;const{menuItemDef:o,isAnotherSubMenuOpen:r,level:s,childComponent:a,contextParams:l}=e;this.params=e.menuItemDef,this.level=s,this.isAnotherSubMenuOpen=r,this.childComponent=a,this.contextParams=l,this.cssClassPrefix=null!==(t=null===(n=this.params.menuItemParams)||void 0===n?void 0:n.cssClassPrefix)&&void 0!==t?t:"ag-menu-option";const u=function(e,t,n){return e.getCompDetails(t,o4,"agMenuItem",n,!0)}(this.userCompFactory,this.params,iO(this.gos,d(d({},o),{},{level:s,isAnotherSubMenuOpen:r,openSubMenu:e=>this.openSubMenu(e),closeSubMenu:()=>this.closeSubMenu(),closeMenu:e=>this.closeMenu(e),updateTooltip:(e,t)=>this.refreshTooltip(e,t),onItemActivated:()=>this.onItemActivated()})));return null!==(i=null===u||void 0===u?void 0:u.newAgStackInstance().then(e=>{var t;this.menuItemComp=e;const n=null===(t=e.configureDefaults)||void 0===t?void 0:t.call(e);n&&this.configureDefaults(!0===n?void 0:n)}))&&void 0!==i?i:PG.resolve()}addListeners(e,t){null!==t&&void 0!==t&&t.suppressClick||this.addManagedElementListeners(e,{click:e=>this.onItemSelected(e)}),null!==t&&void 0!==t&&t.suppressKeyboardSelect||this.addManagedElementListeners(e,{keydown:e=>{e.key!==sV.ENTER&&e.key!==sV.SPACE||(e.preventDefault(),this.onItemSelected(e))}}),null!==t&&void 0!==t&&t.suppressMouseDown||this.addManagedElementListeners(e,{mousedown:e=>{e.stopPropagation(),e.preventDefault()}}),null!==t&&void 0!==t&&t.suppressMouseOver||this.addManagedElementListeners(e,{mouseenter:()=>this.onMouseEnter(),mouseleave:()=>this.onMouseLeave()})}isDisabled(){return!!this.params.disabled}openSubMenu(){var e,t;let n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=arguments.length>1?arguments[1]:void 0;if(this.closeSubMenu(),!this.params.subMenu)return;this.subMenuIsOpening=!0;const o=MN(r4);let r;this.eSubMenuGui=o;let s=()=>{this.subMenuIsOpening=!1};if(this.childComponent){const e=this.createBean(new i4(this.childComponent));e.setParentComponent(this);const t=e.getGui(),n="mouseenter",i=()=>this.cancelDeactivate();t.addEventListener(n,i),r=()=>{t.removeEventListener(n,i),this.destroyBean(e)},o.appendChild(t),this.childComponent.afterGuiAttached&&(s=()=>{this.childComponent.afterGuiAttached(),this.subMenuIsOpening=!1})}else if(this.params.subMenu){const e=this.createBean(new a4(this.level+1,this.contextParams));e.setParentComponent(this),e.addMenuItems(this.params.subMenu),o.appendChild(e.getGui()),this.addManagedListeners(e,{closeMenu:e=>this.dispatchLocalEvent(e)}),e.addGuiEventListener("mouseenter",()=>this.cancelDeactivate()),r=()=>this.destroyBean(e),n&&(s=()=>{e.activateFirstItem(),this.subMenuIsOpening=!1})}const{popupSvc:a}=this,l=this.getLocaleTextFunc(),u=null===a||void 0===a?void 0:a.addPopup({modal:!0,eChild:o,positionCallback:()=>{const e=this.eGui,{column:t,node:n}=this.contextParams;null===a||void 0===a||a.positionPopupForMenu({eventSource:e,ePopup:o,event:i instanceof MouseEvent?i:void 0,column:t,node:n})},anchorToElement:this.eGui,ariaLabel:l("ariaLabelSubMenu","SubMenu"),afterGuiAttached:s});this.subMenuIsOpen=!0,this.setAriaExpanded(!0),this.hideSubMenu=()=>{var e,t;u&&u.hideFunc(),this.subMenuIsOpen=!1,this.setAriaExpanded(!1),r(),null===(e=(t=this.menuItemComp).setExpanded)||void 0===e||e.call(t,!1),this.eSubMenuGui=void 0},null===(e=(t=this.menuItemComp).setExpanded)||void 0===e||e.call(t,!0)}setAriaExpanded(e){this.suppressAria||DL(this.eGui,e)}closeSubMenu(){this.hideSubMenu&&(this.hideSubMenu(),this.hideSubMenu=null,this.setAriaExpanded(!1))}isSubMenuOpen(){return this.subMenuIsOpen}isSubMenuOpening(){return this.subMenuIsOpening}activate(e,t){var n,i;this.cancelActivate(),this.params.disabled&&!t||(this.isActive=!0,this.suppressRootStyles||this.eGui.classList.add("".concat(this.cssClassPrefix,"-active")),null===(n=(i=this.menuItemComp).setActive)||void 0===n||n.call(i,!0),this.suppressFocus||AN(this.beans,()=>this.eGui.focus({preventScroll:!t})),e&&this.params.subMenu&&window.setTimeout(()=>{this.isAlive()&&this.isActive&&this.openSubMenu()},300),this.onItemActivated())}deactivate(){var e,t;this.cancelDeactivate(),this.suppressRootStyles||this.eGui.classList.remove("".concat(this.cssClassPrefix,"-active")),null===(e=(t=this.menuItemComp).setActive)||void 0===e||e.call(t,!1),this.isActive=!1,this.subMenuIsOpen&&this.closeSubMenu()}getGui(){return this.menuItemComp.getGui()}getParentComponent(){return this.parentComponent}setParentComponent(e){this.parentComponent=e}getSubMenuGui(){return this.eSubMenuGui}onItemSelected(e){var t,n;null===(t=(n=this.menuItemComp).select)||void 0===t||t.call(n),this.params.action?this.beans.frameworkOverrides.wrapOutgoing(()=>this.params.action(iO(this.gos,d({},this.contextParams)))):this.openSubMenu(e&&"keydown"===e.type,e),this.params.subMenu&&!this.params.action||this.params.suppressCloseOnSelect||this.closeMenu(e)}closeMenu(e){const t={type:"closeMenu"};e&&(e instanceof MouseEvent?t.mouseEvent=e:t.keyboardEvent=e),this.dispatchLocalEvent(t)}onItemActivated(){const e={type:"menuItemActivated",menuItem:this};this.dispatchLocalEvent(e)}cancelActivate(){this.activateTimeoutId&&(window.clearTimeout(this.activateTimeoutId),this.activateTimeoutId=0)}cancelDeactivate(){this.deactivateTimeoutId&&(window.clearTimeout(this.deactivateTimeoutId),this.deactivateTimeoutId=0)}onMouseEnter(){this.cancelDeactivate(),this.isAnotherSubMenuOpen()?this.activateTimeoutId=window.setTimeout(()=>this.activate(!0),this.ACTIVATION_DELAY):this.activate(!0)}onMouseLeave(){this.cancelActivate(),this.isSubMenuOpen()?this.deactivateTimeoutId=window.setTimeout(()=>this.deactivate(),this.ACTIVATION_DELAY):this.deactivate()}refreshRootElementGui(e){var t,n;let i=this.menuItemComp.getGui();const{cssClassPrefix:o,params:{cssClasses:r,disabled:s}}=this,a=null===(t=(n=this.menuItemComp).getRootElement)||void 0===t?void 0:t.call(n);return a&&(e||i.classList.add("ag-menu-option-custom"),i=a),this.suppressRootStyles=!!e,this.suppressRootStyles||(i.classList.add(o),null===r||void 0===r||r.forEach(e=>i.classList.add(e)),s&&i.classList.add("".concat(o,"-disabled"))),i}applyAriaProperties(e){const{params:{checked:t,subMenu:n,subMenuRole:i,disabled:o}}=this;var r;gL(e,null!=t?"menuitemcheckbox":"menuitem"),n&&cL(e,"haspopup",!1===(r=null!==i&&void 0!==i?i:"menu")?null:r),o&&yL(e,!0)}configureDefaults(e){if(!this.menuItemComp)return void setTimeout(()=>this.configureDefaults(e));const{suppressRootStyles:t,suppressTooltip:n,suppressAria:i,suppressTabIndex:o,suppressFocus:r}=e||{},{params:{tooltip:s,disabled:a}}=this,l=this.eGui=this.refreshRootElementGui(!!t);this.suppressAria=!!i,i||this.applyAriaProperties(l),o||l.setAttribute("tabindex","-1"),n||this.refreshTooltip(s),a||this.addListeners(l,e),this.suppressFocus=!!r}refreshTooltip(e,t){if(this.tooltip=e,this.tooltipFeature=this.destroyBean(this.tooltipFeature),!e||!this.menuItemComp)return;const n=this.registry.createDynamicBean("tooltipFeature",!1,{getGui:()=>this.getGui(),getTooltipValue:()=>this.tooltip,getLocation:()=>"menu",shouldDisplayTooltip:t});n&&(this.tooltipFeature=this.createBean(n))}destroy(){var e,t;this.tooltipFeature=this.destroyBean(this.tooltipFeature),null===(e=this.menuItemComp)||void 0===e||null===(t=e.destroy)||void 0===t||t.call(e),super.destroy()}},a4=class extends uU{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;super({tag:"div",cls:"ag-menu-list",role:"menu"}),this.level=e,this.menuItems=[],this.params=null!==t&&void 0!==t?t:{column:null,node:null,value:null}}postConstruct(){this.initialiseTabGuard({onTabKeyDown:e=>this.onTabKeyDown(e),handleKeyDown:e=>AN(this.beans,()=>this.handleKeyDown(e)),onFocusIn:e=>this.handleFocusIn(e),onFocusOut:e=>this.handleFocusOut(e)})}onTabKeyDown(e){var t;const n=this.getParentComponent();(null===n||void 0===n||null===(t=n.getGui())||void 0===t?void 0:t.classList.contains("ag-focus-managed"))||e.preventDefault(),e.shiftKey&&this.closeIfIsChild(e)}handleKeyDown(e){switch(e.key){case sV.UP:case sV.RIGHT:case sV.DOWN:case sV.LEFT:e.preventDefault(),this.handleNavKey(e.key);break;case sV.ESCAPE:this.closeIfIsChild()&&cO(e)}}handleFocusIn(e){var t;const n=e.relatedTarget;!this.tabGuardFeature.getTabGuardCtrl().isTabGuard(n)&&(this.getGui().contains(n)||null!==(t=this.activeMenuItem)&&void 0!==t&&null!==(t=t.getSubMenuGui())&&void 0!==t&&t.contains(n))||(this.activeMenuItem?this.activeMenuItem.activate():this.activateFirstItem())}handleFocusOut(e){var t;const n=e.relatedTarget;!this.activeMenuItem||this.getGui().contains(n)||null!==(t=this.activeMenuItem.getSubMenuGui())&&void 0!==t&&t.contains(n)||this.activeMenuItem.isSubMenuOpening()||this.activeMenuItem.deactivate()}clearActiveItem(){this.activeMenuItem&&(this.activeMenuItem.deactivate(),this.activeMenuItem=null)}addMenuItems(e){null!=e&&PG.all(e.map(e=>"separator"===e?PG.resolve({eGui:this.createSeparator()}):"string"===typeof e?(iB(228,{menuItemOrString:e}),PG.resolve({eGui:null})):this.addItem(e))).then(e=>{(null!==e&&void 0!==e?e:[]).forEach(e=>{null!==e&&void 0!==e&&e.eGui&&(this.appendChild(e.eGui),e.comp&&this.menuItems.push(e.comp))})})}addItem(e){const t=this.createManagedBean(new s4);return t.init({menuItemDef:e,isAnotherSubMenuOpen:()=>this.menuItems.some(e=>e.isSubMenuOpen()),level:this.level,contextParams:this.params}).then(()=>(t.setParentComponent(this),this.addManagedListeners(t,{closeMenu:e=>{this.dispatchLocalEvent(e)},menuItemActivated:e=>{this.activeMenuItem&&this.activeMenuItem!==e.menuItem&&this.activeMenuItem.deactivate(),this.activeMenuItem=e.menuItem}}),{comp:t,eGui:t.getGui()}))}activateFirstItem(){const e=this.menuItems.filter(e=>!e.isDisabled())[0];e&&e.activate()}createSeparator(){const e={tag:"div",cls:"ag-menu-separator-part"};return MN({tag:"div",cls:"ag-menu-separator",attrs:{"aria-hidden":"true"},children:[e,e,e,e]})}handleNavKey(e){switch(e){case sV.UP:case sV.DOWN:{const t=this.findNextItem(e===sV.UP);return void(t&&t!==this.activeMenuItem&&t.activate(!1,!0))}}e===(this.gos.get("enableRtl")?sV.RIGHT:sV.LEFT)?this.closeIfIsChild():this.openChild()}closeIfIsChild(e){const t=this.getParentComponent();return!!(t&&t instanceof s4)&&(e&&e.preventDefault(),t.closeSubMenu(),t.getGui().focus(),!0)}openChild(){this.activeMenuItem&&this.activeMenuItem.openSubMenu(!0)}findNextItem(e){const t=[...this.menuItems];if(!t.length)return;if(!this.activeMenuItem)return e?_O(t):t[0];let n;e&&t.reverse();let i=!1;for(const o of t){if(i){n=o;break}o===this.activeMenuItem&&(i=!0)}return i&&!n?t[0]:n||this.activeMenuItem}destroy(){this.clearActiveItem(),super.destroy()}},l4=class extends AG{constructor(e,t,n){super({tag:"div",cls:"ag-menu"}),this.column=e,this.mouseEvent=t,this.parentEl=n,this.displayName=null}postConstruct(){const{column:e,beans:{colNames:t}}=this;let n;if(this.initializeProperties(e),n=DO(e)?t.getDisplayNameForColumn(e,"columnToolPanel"):t.getDisplayNameForProvidedColumnGroup(null,e,"columnToolPanel"),this.displayName=n,this.buildMenuItemMap(),this.isActive()){this.mouseEvent.preventDefault();const e=this.getMappedMenuItems();if(0===e.length)return;this.displayContextMenu(e)}}initializeProperties(e){let t;t=FO(e)?e.getLeafColumns():[e],this.columns=t;const n=this.beans.colModel.isPivotMode();this.allowScrollIntoView=!n&&t.some(this.isColumnValidForScrollIntoView),this.allowGrouping=t.some(e=>e.isPrimary()&&e.isAllowRowGroup()),this.allowValues=t.some(e=>e.isPrimary()&&e.isAllowValue()),this.allowPivoting=n&&t.some(e=>e.isPrimary()&&e.isAllowPivot())}buildMenuItemMap(){const e=this.getLocaleTextFunc(),{beans:t,displayName:n}=this,{rowGroupColsSvc:i,valueColsSvc:o,pivotColsSvc:r,colModel:s}=t,a=new Map;this.menuItemMap=a;const l=s.isPivotMode();a.set("scrollIntoView",{allowedFunction:e=>!e.isPinned()&&!l&&this.isColumnValidForScrollIntoView(e),activeFunction:()=>!1,activateLabel:()=>e("scrollColumnIntoView","Scroll ".concat(n," into View"),[n]),activateFunction:()=>{const e=this.columns.find(this.isColumnValidForScrollIntoView);e&&this.beans.ctrlsSvc.getScrollFeature().ensureColumnVisible(e)},deActivateFunction:()=>{},addIcon:"ensureColumnVisible"}),a.set("rowGroup",{allowedFunction:e=>e.isPrimary()&&e.isAllowRowGroup()&&!n4(e,t),activeFunction:e=>e.isRowGroupActive(),activateLabel:()=>"".concat(e("groupBy","Group by")," ").concat(n),deactivateLabel:()=>"".concat(e("ungroupBy","Un-Group by")," ").concat(n),activateFunction:()=>null===i||void 0===i?void 0:i.setColumns(this.addColumnsToList(i.columns),"toolPanelUi"),deActivateFunction:()=>null===i||void 0===i?void 0:i.setColumns(this.removeColumnsFromList(i.columns),"toolPanelUi"),addIcon:"menuAddRowGroup",removeIcon:"menuRemoveRowGroup"}),a.set("value",{allowedFunction:e=>e.isPrimary()&&e.isAllowValue(),activeFunction:e=>e.isValueActive(),activateLabel:()=>e("addToValues","Add ".concat(n," to values"),[n]),deactivateLabel:()=>e("removeFromValues","Remove ".concat(n," from values"),[n]),activateFunction:()=>null===o||void 0===o?void 0:o.setColumns(this.addColumnsToList(o.columns),"toolPanelUi"),deActivateFunction:()=>null===o||void 0===o?void 0:o.setColumns(this.removeColumnsFromList(o.columns),"toolPanelUi"),addIcon:"valuePanel",removeIcon:"valuePanel"}),a.set("pivot",{allowedFunction:e=>l&&e.isPrimary()&&e.isAllowPivot(),activeFunction:e=>e.isPivotActive(),activateLabel:()=>e("addToLabels","Add ".concat(n," to labels"),[n]),deactivateLabel:()=>e("removeFromLabels","Remove ".concat(n," from labels"),[n]),activateFunction:()=>null===r||void 0===r?void 0:r.setColumns(this.addColumnsToList(r.columns),"toolPanelUi"),deActivateFunction:()=>null===r||void 0===r?void 0:r.setColumns(this.removeColumnsFromList(r.columns),"toolPanelUi"),addIcon:"pivotPanel",removeIcon:"pivotPanel"})}isColumnValidForScrollIntoView(e){var t;if(!e.isVisible())return!1;const n=e.getParent();return!n||-1!==(null===(t=n.getDisplayedChildren())||void 0===t?void 0:t.indexOf(e))}addColumnsToList(e){return[...e].concat(this.columns.filter(t=>-1===e.indexOf(t)))}removeColumnsFromList(e){return e.filter(e=>-1===this.columns.indexOf(e))}displayContextMenu(e){const t=this.getGui(),n=this.createBean(new a4),i=this.getLocaleTextFunc();let o=()=>{};t.appendChild(n.getGui()),n.addMenuItems(e),n.addManagedListeners(n,{closeMenu:()=>{this.parentEl.focus(),o()}});const r=this.beans.popupSvc,s=r.addPopup({modal:!0,eChild:t,closeOnEsc:!0,afterGuiAttached:()=>gV(n.getGui()),ariaLabel:i("ariaLabelContextMenu","Context Menu"),closedCallback:e=>{e instanceof KeyboardEvent&&this.parentEl.focus(),this.destroyBean(n)}});s&&(o=s.hideFunc),r.positionPopupUnderMouseEvent({type:"columnContextMenu",mouseEvent:this.mouseEvent,ePopup:t})}isActive(){return this.allowScrollIntoView||this.allowGrouping||this.allowValues||this.allowPivoting}getMappedMenuItems(){const e=[],{menuItemMap:t,columns:n,displayName:i,beans:o}=this;for(const r of t.values()){const t=n.some(e=>r.allowedFunction(e)&&!r.activeFunction(e)),s=n.some(e=>r.allowedFunction(e)&&r.activeFunction(e));t&&e.push({name:r.activateLabel(i),icon:hW(r.addIcon,o,null),action:()=>r.activateFunction()}),s&&r.removeIcon&&r.deactivateLabel&&e.push({name:r.deactivateLabel(i),icon:hW(r.removeIcon,o,null),action:()=>{var e;return null===(e=r.deActivateFunction)||void 0===e?void 0:e.call(r)}})}return e}},u4={tag:"div",cls:"ag-column-select-column-group",children:[{tag:"span",ref:"eColumnGroupIcons",cls:"ag-column-group-icons",children:[{tag:"span",ref:"eGroupClosedIcon",cls:"ag-column-group-closed-icon"},{tag:"span",ref:"eGroupOpenedIcon",cls:"ag-column-group-opened-icon"}]},{tag:"ag-checkbox",ref:"cbSelect",cls:"ag-column-select-checkbox"},{tag:"span",ref:"eLabel",cls:"ag-column-select-column-label"}]},c4=class extends AG{constructor(e,t,n,i){super(),this.modelItem=e,this.allowDragging=t,this.eventType=n,this.focusWrapper=i,this.cbSelect=kG,this.eLabel=kG,this.eGroupOpenedIcon=kG,this.eGroupClosedIcon=kG,this.eColumnGroupIcons=kG,this.processingColumnStateChange=!1;const{columnGroup:o,depth:r,displayName:s}=e;this.columnGroup=o,this.columnDepth=r,this.displayName=s}postConstruct(){this.setTemplate(u4,[wW]);const{beans:e,cbSelect:t,eLabel:n,displayName:i,columnDepth:o,modelItem:r,focusWrapper:s,columnGroup:a}=this,{registry:l,gos:u}=e,c=hW("columnDrag",e);this.eDragHandle=c,c.classList.add("ag-drag-handle","ag-column-select-column-group-drag-handle");const d=t.getGui(),h=t.getInputElement();d.insertAdjacentElement("afterend",c),h.setAttribute("tabindex","-1"),n.textContent=null!==i&&void 0!==i?i:"",this.setupExpandContract(),this.addCss("ag-column-select-indent-"+o),this.getGui().style.setProperty("--ag-indentation-level",String(o)),this.tooltipFeature=this.createOptionalManagedBean(l.createDynamicBean("tooltipFeature",!1,{getGui:()=>this.getGui(),getLocation:()=>"columnToolPanelColumnGroup",shouldDisplayTooltip:RZ(u,()=>n)})),this.addManagedEventListeners({columnPivotModeChanged:this.onColumnStateChanged.bind(this)}),this.addManagedElementListeners(n,{click:this.onLabelClicked.bind(this)}),this.addManagedListeners(t,{fieldValueChanged:this.onCheckboxChanged.bind(this)}),this.addManagedListeners(r,{expandedChanged:this.onExpandChanged.bind(this)}),this.addManagedListeners(s,{keydown:this.handleKeyDown.bind(this),contextmenu:this.onContextMenu.bind(this)}),this.setOpenClosedIcons(),this.setupDragging(),this.onColumnStateChanged(),this.addVisibilityListenersToAllChildren(),this.refreshAriaExpanded(),this.refreshAriaLabel(),this.setupTooltip();tV(a.getColGroupDef(),u,null,a).forEach(e=>this.toggleCss(e,!0))}getColumns(){return this.columnGroup.getLeafColumns()}setupTooltip(){const e=this.columnGroup.getColGroupDef();if(!e)return;const t=()=>{var t;return null===(t=this.tooltipFeature)||void 0===t?void 0:t.setTooltipAndRefresh(e.headerTooltip)};t(),this.addManagedEventListeners({newColumnsLoaded:t})}handleKeyDown(e){switch(e.key){case sV.LEFT:e.preventDefault(),this.modelItem.expanded=!1;break;case sV.RIGHT:e.preventDefault(),this.modelItem.expanded=!0;break;case sV.SPACE:e.preventDefault(),this.isSelectable()&&this.onSelectAllChanged(!this.isSelected())}}onContextMenu(e){const{columnGroup:t,gos:n}=this;if(n.get("functionsReadOnly"))return;const i=this.createBean(new l4(t,e,this.focusWrapper));this.addDestroyFunc(()=>{i.isAlive()&&this.destroyBean(i)})}addVisibilityListenersToAllChildren(){const e=this.onColumnStateChanged.bind(this);this.columnGroup.getLeafColumns().forEach(t=>{this.addManagedListeners(t,{visibleChanged:e,columnValueChanged:e,columnPivotChanged:e,columnRowGroupChanged:e})})}setupDragging(){if(!this.allowDragging)return void XL(this.eDragHandle,!1);const e=this.beans,{gos:t,eventSvc:n,dragAndDrop:i}=e;let o=!t.get("suppressDragLeaveHidesColumns");const r={type:NV.ToolPanel,eElement:this.eDragHandle,dragItemName:this.displayName,getDefaultIconName:()=>o?"hide":"notAllowed",getDragItem:()=>this.createDragItem(),onDragStarted:()=>{o=!t.get("suppressDragLeaveHidesColumns"),n.dispatchEvent({type:"columnPanelItemDragStart",column:this.columnGroup})},onDragStopped:()=>{n.dispatchEvent({type:"columnPanelItemDragEnd"})},onGridEnter:t=>{o&&Q3(e,{columns:this.columnGroup.getLeafColumns(),visibleState:null===t||void 0===t?void 0:t.visibleState,pivotState:null===t||void 0===t?void 0:t.pivotState,eventType:this.eventType})},onGridExit:()=>{o&&this.onChangeCommon(!1)}};i.addDragSource(r,!0),this.addDestroyFunc(()=>i.removeDragSource(r))}createDragItem(){const e=this.columnGroup.getLeafColumns(),t={},n={};return e.forEach(e=>{const i=e.getId();t[i]=e.isVisible(),n[i]=J3(e)}),{columns:e,visibleState:t,pivotState:n}}setupExpandContract(){const{beans:e,eGroupClosedIcon:t,eGroupOpenedIcon:n,eColumnGroupIcons:i}=this;t.appendChild(dW("columnSelectClosed",e,null)),n.appendChild(dW("columnSelectOpen",e,null));const o=this.onExpandOrContractClicked.bind(this);this.addManagedElementListeners(t,{click:o}),this.addManagedElementListeners(n,{click:o});const r=new cU(i,!0);this.addManagedListeners(r,{tap:o}),this.addDestroyFunc(r.destroy.bind(r))}onLabelClicked(){const e=!this.cbSelect.getValue();this.onChangeCommon(e)}onCheckboxChanged(e){this.onChangeCommon(e.selected)}getVisibleLeafColumns(){const e=[],t=n=>{n.forEach(n=>{n.passesFilter&&(n.group?t(n.children):e.push(n.column))})};return t(this.modelItem.children),e}onChangeCommon(e){this.refreshAriaLabel(),this.processingColumnStateChange||$3(this.beans,this.modelItem.children,e,this.eventType)}refreshAriaLabel(){const{cbSelect:e,focusWrapper:t,displayName:n}=this,i=this.getLocaleTextFunc(),o=i("ariaColumnGroup","Column Group"),r=e.getValue(),s=void 0===r?i("ariaIndeterminate","indeterminate"):r?i("ariaVisible","visible"):i("ariaHidden","hidden"),a=i("ariaToggleVisibility","Press SPACE to toggle visibility");mL(t,"".concat(n," ").concat(o)),e.setInputAriaLabel("".concat(a," (").concat(s,")")),fL(t,e.getInputElement().id)}onColumnStateChanged(){const e=this.workOutSelectedValue(),t=this.workOutReadOnlyValue();this.processingColumnStateChange=!0;const n=this.cbSelect;n.setValue(e),n.setReadOnly(t),this.toggleCss("ag-column-select-column-group-readonly",t),this.processingColumnStateChange=!1}workOutSelectedValue(){const e=this.beans.colModel.isPivotMode(),t=this.getVisibleLeafColumns();let n=0,i=0;if(t.forEach(t=>{!e&&t.getColDef().lockVisible||(this.isColumnChecked(t,e)?n++:i++)}),!(n>0&&i>0))return n>0}workOutReadOnlyValue(){const e=this.beans.colModel.isPivotMode();let t=0;return this.columnGroup.getLeafColumns().forEach(n=>{e?n.isAnyFunctionAllowed()&&t++:n.getColDef().lockVisible||t++}),0===t}isColumnChecked(e,t){if(t){const t=e.isPivotActive(),n=e.isRowGroupActive(),i=e.isValueActive();return t||n||i}return e.isVisible()}onExpandOrContractClicked(){const e=this.modelItem,t=e.expanded;e.expanded=!t}onExpandChanged(){this.setOpenClosedIcons(),this.refreshAriaExpanded()}setOpenClosedIcons(){const e=this.modelItem.expanded;XL(this.eGroupClosedIcon,!e),XL(this.eGroupOpenedIcon,e)}refreshAriaExpanded(){DL(this.focusWrapper,this.modelItem.expanded)}getDisplayName(){return this.displayName}onSelectAllChanged(e){const t=this.cbSelect,n=t.getValue();!t.isReadOnly()&&(e&&!n||!e&&n)&&t.toggle()}isSelected(){return this.cbSelect.getValue()}isSelectable(){return!this.cbSelect.isReadOnly()}setSelected(e){this.cbSelect.setValue(e,!0)}},d4=e=>FO(e)?e.getLeafColumns():e?[e]:[],h4=(e,t,n)=>{if(!t)return 0;const i=t[0],o=t.length;return e.indexOf(i)<n?o:0},p4=(e,t,n)=>{if(e.get("suppressMovableColumns")||t.colModel.isPivotMode())return!0;return!!n.find(e=>{let{colDef:t}=e;return!!t.suppressMovable||!!t.lockPosition})},g4=(e,t,n)=>{if(!n)return;const{component:i}=n;let o=null,r="top"===n.position;if(i instanceof c4){o=i.getColumns()[0],r=!0}else i&&(o=i.column);if(!o)return;const s=((e,t,n,i)=>{if(!n||!t)return null;const o=e.colModel.getCols(),r=o.indexOf(n),s=i?r:r+1;return s-h4(o,t,s)})(e,t,o,r);var a;null!=s&&(null===(a=e.colMoves)||void 0===a||a.moveColumns(t,s,"toolPanelUi"))},m4={tag:"div",cls:"ag-column-select-column",children:[{tag:"ag-checkbox",ref:"cbSelect",cls:"ag-column-select-checkbox"},{tag:"span",ref:"eLabel",cls:"ag-column-select-column-label"}]},v4=class extends AG{constructor(e,t,n,i){super(),this.modelItem=e,this.allowDragging=t,this.groupsExist=n,this.focusWrapper=i,this.eLabel=kG,this.cbSelect=kG,this.processingColumnStateChange=!1;const{column:o,depth:r,displayName:s}=e;this.column=o,this.columnDepth=r,this.displayName=s}postConstruct(){this.setTemplate(m4,[wW]);const{beans:e,cbSelect:t,displayName:n,eLabel:i,columnDepth:o,groupsExist:r,column:s,gos:a,focusWrapper:l}=this,u=hW("columnDrag",e);this.eDragHandle=u,u.classList.add("ag-drag-handle","ag-column-select-column-drag-handle");const c=t.getGui(),d=t.getInputElement();c.insertAdjacentElement("afterend",u),d.setAttribute("tabindex","-1"),i.textContent=n,r&&this.addCss("ag-column-select-add-group-indent"),this.addCss("ag-column-select-indent-".concat(o)),this.getGui().style.setProperty("--ag-indentation-level",String(o)),this.tooltipFeature=this.createOptionalManagedBean(e.registry.createDynamicBean("tooltipFeature",!1,{getGui:()=>this.getGui(),getLocation:()=>"columnToolPanelColumn",getColDef:()=>s.getColDef(),shouldDisplayTooltip:RZ(a,()=>i)})),this.setupDragging();const h=this.onColumnStateChanged.bind(this);this.addManagedEventListeners({columnPivotModeChanged:h}),this.addManagedListeners(s,{columnValueChanged:h,columnPivotChanged:h,columnRowGroupChanged:h,visibleChanged:h}),this.addManagedListeners(l,{keydown:this.handleKeyDown.bind(this),contextmenu:this.onContextMenu.bind(this)}),this.addManagedPropertyListener("functionsReadOnly",this.onColumnStateChanged.bind(this)),this.addManagedListeners(t,{fieldValueChanged:this.onCheckboxChanged.bind(this)}),this.addManagedElementListeners(i,{click:this.onLabelClicked.bind(this)}),this.onColumnStateChanged(),this.refreshAriaLabel(),this.setupTooltip();tV(s.getColDef(),a,s,null).forEach(e=>this.toggleCss(e,!0))}getColumn(){return this.column}setupTooltip(){const e=()=>{var e;return null===(e=this.tooltipFeature)||void 0===e?void 0:e.setTooltipAndRefresh(this.column.getColDef().headerTooltip)};e(),this.addManagedEventListeners({newColumnsLoaded:e})}onContextMenu(e){const{column:t,gos:n}=this;if(n.get("functionsReadOnly"))return;const i=this.createBean(new l4(t,e,this.focusWrapper));this.addDestroyFunc(()=>{i.isAlive()&&this.destroyBean(i)})}handleKeyDown(e){e.key===sV.SPACE&&(e.preventDefault(),this.isSelectable()&&this.onSelectAllChanged(!this.isSelected()))}onLabelClicked(){if(this.gos.get("functionsReadOnly"))return;const e=!this.cbSelect.getValue();this.onChangeCommon(e)}onCheckboxChanged(e){this.onChangeCommon(e.selected)}onChangeCommon(e){this.cbSelect.isReadOnly()||(this.refreshAriaLabel(),this.processingColumnStateChange||X3(this.beans,[this.column],e,"toolPanelUi"))}refreshAriaLabel(){const{cbSelect:e,focusWrapper:t,displayName:n}=this,i=this.getLocaleTextFunc(),o=i("ariaColumn","Column"),r=e.getValue()?i("ariaVisible","visible"):i("ariaHidden","hidden"),s=i("ariaToggleVisibility","Press SPACE to toggle visibility");mL(t,"".concat(n," ").concat(o)),this.cbSelect.setInputAriaLabel("".concat(s," (").concat(r,")")),fL(t,e.getInputElement().id)}setupDragging(){const e=this.eDragHandle;if(!this.allowDragging)return void XL(e,!1);const t=this.beans,{gos:n,eventSvc:i,dragAndDrop:o}=t;let r=!n.get("suppressDragLeaveHidesColumns");const s={type:NV.ToolPanel,eElement:e,dragItemName:this.displayName,getDefaultIconName:()=>r?"hide":"notAllowed",getDragItem:()=>this.createDragItem(),onDragStarted:()=>{r=!n.get("suppressDragLeaveHidesColumns"),i.dispatchEvent({type:"columnPanelItemDragStart",column:this.column})},onDragStopped:()=>{i.dispatchEvent({type:"columnPanelItemDragEnd"})},onGridEnter:e=>{r&&Q3(t,{columns:[this.column],visibleState:null===e||void 0===e?void 0:e.visibleState,pivotState:null===e||void 0===e?void 0:e.pivotState,eventType:"toolPanelUi"})},onGridExit:()=>{r&&this.onChangeCommon(!1)}};o.addDragSource(s,!0),this.addDestroyFunc(()=>o.removeDragSource(s))}createDragItem(){const e=this.column.getColId(),t={[e]:this.column.isVisible()},n={[e]:J3(this.column)};return{columns:[this.column],visibleState:t,pivotState:n}}onColumnStateChanged(){this.processingColumnStateChange=!0;const e=this.beans.colModel.isPivotMode();if(e){const e=this.column.isAnyFunctionActive();this.cbSelect.setValue(e)}else this.cbSelect.setValue(this.column.isVisible());let t=!0,n=!0;if(e){const e=this.gos.get("functionsReadOnly"),i=!this.column.isAnyFunctionAllowed();t=!e&&!i,n=t}else{const{enableRowGroup:e,enableValue:i,lockPosition:o,suppressMovable:r,lockVisible:s}=this.column.getColDef();t=!s,n=!!e||!!i||!(!!o||!!r)}this.cbSelect.setReadOnly(!t),this.eDragHandle.classList.toggle("ag-column-select-column-readonly",!n),this.toggleCss("ag-column-select-column-readonly",!n&&!t),this.cbSelect.setPassive(!1),this.processingColumnStateChange=!1}getDisplayName(){return this.displayName}onSelectAllChanged(e){const t=this.cbSelect;e!==t.getValue()&&(t.isReadOnly()||t.toggle())}isSelected(){return this.cbSelect.getValue()}isSelectable(){return!this.cbSelect.isReadOnly()}isExpandable(){return!1}setExpanded(e){iB(158)}},f4=class{constructor(e){this.items=e}getRowCount(){return this.items.length}getRow(e){return this.items[e]}},w4={selector:"AG-PRIMARY-COLS-LIST",component:class extends AG{constructor(){super({tag:"div",cls:"ag-column-select-list",role:"presentation"}),this.destroyColumnItemFuncs=[],this.hasLoadedInitialState=!1,this.isInitialState=!1,this.skipRefocus=!1}wireBeans(e){this.colModel=e.colModel}destroy(){this.destroyColumnTree(),super.destroy()}destroyColumnTree(){this.allColsTree=[],this.destroyColumnItemFuncs.forEach(e=>e()),this.destroyColumnItemFuncs=[]}init(e,t,n){this.params=e;const{suppressSyncLayoutWithGrid:i,contractColumnSelection:o,suppressColumnMove:r}=e;this.allowDragging=t,this.eventType=n,i||this.addManagedEventListeners({columnMoved:this.onColumnsChanged.bind(this)}),this.addManagedEventListeners({newColumnsLoaded:this.onColumnsChanged.bind(this)});const s=this.fireSelectionChangedEvent.bind(this);this.addManagedEventListeners({columnPivotChanged:s,columnPivotModeChanged:s,columnRowGroupChanged:s,columnValueChanged:s,columnVisible:s,newColumnsLoaded:s}),this.expandGroupsByDefault=!o;const a=r||i,l=this.createManagedBean(new S5({cssIdentifier:"column-select",ariaRole:"tree",moveItemCallback:(e,t)=>{a||this.moveItems(e,t)}}));this.virtualList=l,this.appendChild(l.getGui()),l.setComponentCreator((e,t)=>(bL(t,e.depth+1),this.createComponentFromItem(e,t))),this.colModel.ready&&this.onColumnsChanged(),a||this.createItemDragFeature()}createItemDragFeature(){const{gos:e,beans:t,eventSvc:n,virtualList:i}=this;this.createManagedBean(new N5(this,i,{dragSourceType:NV.ToolPanel,listItemDragStartEvent:"columnPanelItemDragStart",listItemDragEndEvent:"columnPanelItemDragEnd",eventSource:n,getCurrentDragValue:e=>(e=>e.column)(e),isMoveBlocked:n=>p4(e,t,d4(n)),getNumRows:e=>e.getDisplayedColsList().length,moveItem:(e,n)=>g4(t,d4(e),n)}))}moveItems(e,t){const{gos:n,beans:i}=this,{modelItem:o}=e,{group:r,columnGroup:s,column:a,expanded:l}=o,u=d4(r?s:a);if(p4(n,i,u))return;const c=this.displayedColsList.indexOf(o),d=t?-1:1;let h=0;if(t){var p;const t=e.columnDepth>0&&(null===(p=a.getParent())||void 0===p?void 0:p.getChildren());t&&t.length&&a===t[0]&&(h=-1)}else r&&(h=l?o.children.length:0);const g=Math.min(Math.max(c+h+d,0),this.displayedColsList.length-1);this.skipRefocus=!0,g4(i,u,{rowIndex:g,position:t?"top":"bottom",component:this.virtualList.getComponentAt(g)}),this.focusRowIfAlive(g-h).then(()=>{this.skipRefocus=!1})}createComponentFromItem(e,t){const n=this.allowDragging;if(e.group){const i=new c4(e,n,this.eventType,t);return this.createBean(i),i}const i=new v4(e,n,this.groupsExist,t);return this.createBean(i),i}onColumnsChanged(){const e=this.params;this.hasLoadedInitialState||(this.hasLoadedInitialState=!0,this.isInitialState=!!e.initialState);const t=this.getExpandedStates(),n=this.colModel.isPivotMode();!e.suppressSyncLayoutWithGrid&&!n?this.buildTreeFromWhatGridIsDisplaying():this.buildTreeFromProvidedColumnDefs(),this.setExpandedStates(t),this.markFilteredColumns(),this.flattenAndFilterModel(),this.isInitialState=!1}getDisplayedColsList(){return this.displayedColsList}getExpandedStates(){const e={};if(this.isInitialState){const{expandedGroupIds:t}=this.params.initialState;return t.forEach(t=>{e[t]=!0}),e}return this.allColsTree?(this.forEachItem(t=>{if(!t.group)return;const n=t.columnGroup;n&&(e[n.getId()]=t.expanded)}),e):{}}setExpandedStates(e){if(!this.allColsTree)return;const{isInitialState:t}=this;this.forEachItem(n=>{if(!n.group)return;const i=n.columnGroup;if(i){const o=e[i.getId()];(null!=o||t)&&(n.expanded=!!o)}})}buildTreeFromWhatGridIsDisplaying(){Y3(this.colModel,this.setColumnLayout.bind(this))}setColumnLayout(e){const t=q3(this.colModel,e);this.buildListModel(t),this.groupsExist=e.some(e=>e&&"undefined"!==typeof e.children),this.markFilteredColumns(),this.flattenAndFilterModel()}buildTreeFromProvidedColumnDefs(){var e;const t=this.colModel;this.buildListModel(t.getColDefColTree()),this.groupsExist=!(null===(e=t.colDefCols)||void 0===e||!e.treeDepth)}buildListModel(e){const t=this.onColumnExpanded.bind(this),n=e=>{e.addEventListener("expandedChanged",t);const n=e.removeEventListener.bind(e,"expandedChanged",t);this.destroyColumnItemFuncs.push(n)},i=this.beans.colNames,o=(e,t,n)=>{e.forEach(e=>{FO(e)?r(e,t,n):s(e,t,n)})},r=(e,t,r)=>{const s=e.getColGroupDef();if(s&&s.suppressColumnsToolPanel)return;if(e.isPadding())return void o(e.getChildren(),t,r);const a=i.getDisplayNameForProvidedColumnGroup(null,e,"columnToolPanel"),l=new Z3(a,e,t,!0,this.expandGroupsByDefault);r.push(l),n(l),o(e.getChildren(),t+1,l.children)},s=(e,t,n)=>{if(e.getColDef()&&e.getColDef().suppressColumnsToolPanel)return;const o=i.getDisplayNameForColumn(e,"columnToolPanel");n.push(new Z3(o,e,t))};this.destroyColumnTree(),o(e,0,this.allColsTree)}onColumnExpanded(){this.flattenAndFilterModel()}flattenAndFilterModel(){this.displayedColsList=[];const e=t=>{t.passesFilter&&(this.displayedColsList.push(t),t.group&&t.expanded&&t.children.forEach(e))},t=this.virtualList;this.allColsTree.forEach(e),t.setModel(new f4(this.displayedColsList));let n=null;this.skipRefocus||(n=t.getLastFocusedRow()),t.refresh(),null!=n&&this.focusRowIfAlive(n),this.notifyListeners(),this.refreshAriaLabel()}refreshAriaLabel(){const e=this.getLocaleTextFunc(),t=e("ariaColumnPanelList","Column List"),n=e("columns","Columns"),i=this.displayedColsList.length;mL(this.virtualList.getAriaElement(),"".concat(t," ").concat(i," ").concat(n))}focusRowIfAlive(e){return-1===e?Promise.resolve():new Promise(t=>{window.setTimeout(()=>{this.isAlive()&&this.virtualList.focusRow(e),t()},0)})}forEachItem(e){const t=n=>{n.forEach(n=>{e(n),n.group&&t(n.children)})},n=this.allColsTree;n&&t(n)}doSetExpandedAll(e){this.forEachItem(t=>{t.group&&(t.expanded=e)})}setGroupsExpanded(e,t){if(!t)return void this.doSetExpandedAll(e);const n=[];this.forEachItem(i=>{if(!i.group)return;const o=i.columnGroup.getId();t.indexOf(o)>=0&&(i.expanded=e,n.push(o))});const i=t.filter(e=>!n.includes(e));i.length>0&&iB(157,{unrecognisedGroupIds:i})}getExpandState(){let e=0,t=0;return this.forEachItem(n=>{n.group&&(n.expanded?e++:t++)}),e>0&&t>0?2:t>0?1:0}doSetSelectedAll(e){$3(this.beans,this.allColsTree,e,this.eventType)}getSelectionState(){let e=0,t=0;const n=this.colModel.isPivotMode();if(this.forEachItem(i=>{if(i.group)return;if(!i.passesFilter)return;const o=i.column,r=o.getColDef();let s;if(n){if(!o.isAllowPivot()&&!o.isAllowRowGroup()&&!o.isAllowValue())return;s=o.isValueActive()||o.isPivotActive()||o.isRowGroupActive()}else{if(r.lockVisible)return;s=o.isVisible()}s?e++:t++}),!(e>0&&t>0))return!(0===e||t>0)}setFilterText(e){this.filterText=UI(e)?e.toLowerCase():null,this.markFilteredColumns(),this.flattenAndFilterModel()}markFilteredColumns(){const e=e=>{if(!UI(this.filterText))return!0;const t=e.displayName;return null==t||-1!==t.toLowerCase().indexOf(this.filterText)},t=(n,i)=>{let o=!1;if(n.group){const r=e(n);n.children.forEach(e=>{const n=t(e,r||i);n&&(o=n)})}const r=!(!i&&!o)||e(n);return n.passesFilter=r,r};this.allColsTree.forEach(e=>t(e,!1))}notifyListeners(){this.fireGroupExpandedEvent(),this.fireSelectionChangedEvent()}fireGroupExpandedEvent(){const e=this.getExpandState();this.dispatchLocalEvent({type:"groupExpanded",state:e})}fireSelectionChangedEvent(){if(!this.allColsTree)return;const e=this.getSelectionState();this.dispatchLocalEvent({type:"selectionChanged",state:e})}getExpandedGroups(){const e=[];return this.allColsTree?(this.forEachItem(t=>{t.group&&t.expanded&&e.push(t.columnGroup.getId())}),e):e}}},C4={tag:"div",cls:"ag-column-select",children:[{tag:"ag-primary-cols-header",ref:"primaryColsHeaderPanel"},{tag:"ag-primary-cols-list",ref:"primaryColsListPanel"}]},b4=class extends AG{constructor(){super(C4,[H3,w4]),this.primaryColsHeaderPanel=kG,this.primaryColsListPanel=kG,this.registerCSS(".ag-column-select{display:flex;flex:3 1 0px;flex-direction:column;overflow:hidden;position:relative}.ag-column-select-header{align-items:center;display:flex;flex:none;gap:var(--ag-widget-horizontal-spacing);height:var(--ag-header-height);padding-left:var(--ag-widget-container-horizontal-padding);padding-right:var(--ag-widget-container-horizontal-padding);position:relative}.ag-column-select-column,.ag-column-select-column-group{align-items:center;display:flex;gap:var(--ag-widget-horizontal-spacing);height:100%;position:relative;&:where(:not(:last-child)){margin-bottom:var(--ag-widget-vertical-spacing)}}:where(.ag-ltr) .ag-column-select-column,:where(.ag-ltr) .ag-column-select-column-group{padding-left:calc(var(--ag-indentation-level)*var(--ag-column-select-indent-size))}:where(.ag-rtl) .ag-column-select-column,:where(.ag-rtl) .ag-column-select-column-group{padding-right:calc(var(--ag-indentation-level)*var(--ag-column-select-indent-size))}.ag-column-select-header-icon{border-radius:var(--ag-border-radius);cursor:pointer;height:var(--ag-icon-size);position:relative;width:var(--ag-icon-size);&:focus-visible{box-shadow:var(--ag-focus-shadow)}}.ag-column-select-header-filter-wrapper{flex:1 1 auto}.ag-column-select-header-filter{width:100%}.ag-column-select-list{flex:1 1 0px;overflow:hidden}:where(.ag-ltr) .ag-column-select-add-group-indent{margin-left:calc(var(--ag-icon-size) + var(--ag-spacing)*1.5)}:where(.ag-rtl) .ag-column-select-add-group-indent{margin-right:calc(var(--ag-icon-size) + var(--ag-spacing)*1.5)}.ag-column-select-column-group-readonly,.ag-column-select-column-readonly{opacity:.5;pointer-events:none}.ag-column-select-virtual-list-viewport{padding:calc(var(--ag-widget-container-vertical-padding)*.5) 0}.ag-column-select-virtual-list-item{padding:0 var(--ag-widget-container-horizontal-padding)}.ag-column-select-column-label{flex:1 1 auto;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ag-column-select-checkbox{display:flex}")}init(e,t,n){const{primaryColsHeaderPanel:i,primaryColsListPanel:o}=this;i.init(t);const r=t.suppressColumnFilter,s=t.suppressColumnSelectAll;t.suppressColumnExpandAll&&r&&s&&i.setDisplayed(!1),this.addManagedListeners(o,{groupExpanded:e=>{i.setExpandState(e.state),t.onStateUpdated()},selectionChanged:e=>i.setSelectionState(e.state)}),o.init(t,e,n),this.addManagedListeners(i,{expandAll:o.doSetExpandedAll.bind(o,!0),collapseAll:o.doSetExpandedAll.bind(o,!1),selectAll:o.doSetSelectedAll.bind(o,!0),unselectAll:o.doSetSelectedAll.bind(o,!1),filterChanged:e=>o.setFilterText(e.filterText)}),this.positionableFeature=this.createManagedBean(new _H(this.getGui(),{minHeight:100}))}toggleResizable(e){this.positionableFeature.setResizable(!!e&&{bottom:!0})}expandGroups(e){this.primaryColsListPanel.setGroupsExpanded(!0,e)}collapseGroups(e){this.primaryColsListPanel.setGroupsExpanded(!1,e)}setColumnLayout(e){this.primaryColsListPanel.setColumnLayout(e)}syncLayoutWithGrid(){this.primaryColsListPanel.onColumnsChanged()}getExpandedGroups(){return this.primaryColsListPanel.getExpandedGroups()}};function y4(e,t,n){null!=e&&null!=t&&e.splice(n,0,...t)}var S4={tag:"div",cls:"ag-unselectable",role:"presentation"},x4=class extends AG{constructor(e){super(S4),this.horizontal=e,this.state="notDragging",this.guiDestroyFunctions=[],this.childPillComponents=[],this.resizeEnabled=!1,this.addElementClasses(this.getGui()),this.ePillDropList=MN({tag:"div"}),this.addElementClasses(this.ePillDropList,"list"),this.registerCSS(".ag-column-drop{align-items:center;display:inline-flex;overflow:auto;position:relative;width:100%}.ag-column-drop-list{align-items:center;display:flex}.ag-column-drop-cell{align-items:center;background-color:var(--ag-column-drop-cell-background-color);border:var(--ag-column-drop-cell-border);border-radius:500px;color:var(--ag-column-drop-cell-text-color);display:flex;padding:calc(var(--ag-spacing)*.25);position:relative;&:focus-visible{box-shadow:var(--ag-focus-shadow)}:where(.ag-drag-handle){color:var(--ag-column-drop-cell-drag-handle-color)}}:where(.ag-ltr) .ag-column-drop-cell{padding-left:calc(var(--ag-spacing)*.75)}:where(.ag-rtl) .ag-column-drop-cell{padding-right:calc(var(--ag-spacing)*.75)}.ag-column-drop-cell-text{flex:1 1 auto;margin:0 var(--ag-spacing);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ag-column-drop-vertical{align-items:stretch;display:flex;flex-direction:column;min-height:75px;overflow:hidden}.ag-column-drop-vertical-title-bar{align-items:center;display:flex;flex:none;padding:var(--ag-widget-container-vertical-padding) calc(var(--ag-spacing)*2) 0}.ag-column-drop-vertical-list{align-items:stretch;flex-direction:column;flex-grow:1;overflow-x:auto;padding-bottom:var(--ag-spacing);padding-left:var(--ag-spacing);padding-right:var(--ag-spacing);position:relative;>*{flex:none}}:where(.ag-column-drop-empty) .ag-column-drop-vertical-list{overflow:hidden}.ag-column-drop-cell-button{cursor:pointer;min-width:0;opacity:.75;&:hover{opacity:1}}.ag-column-drop-wrapper{display:flex}.ag-column-drop-horizontal-half-width{width:50%!important}.ag-column-drop-cell-ghost{opacity:.5}.ag-column-drop-horizontal{background-color:var(--ag-header-background-color);border-bottom:var(--ag-header-row-border);gap:var(--ag-cell-widget-spacing);height:var(--ag-header-height);overflow:hidden;white-space:nowrap}:where(.ag-ltr) .ag-column-drop-horizontal{padding-left:var(--ag-cell-horizontal-padding)}:where(.ag-rtl) .ag-column-drop-horizontal{padding-right:var(--ag-cell-horizontal-padding)}.ag-column-drop-horizontal-list{gap:var(--ag-cell-widget-spacing)}.ag-column-drop-vertical-cell{margin-top:var(--ag-spacing)}:where(.ag-ltr) .ag-column-drop-vertical-icon{margin-right:var(--ag-widget-horizontal-spacing)}:where(.ag-rtl) .ag-column-drop-vertical-icon{margin-left:var(--ag-widget-horizontal-spacing)}.ag-select-agg-func-popup{background:var(--ag-background-color);border:solid var(--ag-border-width) var(--ag-border-color);border-radius:var(--ag-border-radius);box-shadow:var(--ag-dropdown-shadow);height:calc(var(--ag-spacing)*5*3.5);padding:0;position:absolute}.ag-select-agg-func-virtual-list-item{cursor:default;&:hover{background-color:var(--ag-selected-row-background-color)}}:where(.ag-ltr) .ag-select-agg-func-virtual-list-item{padding-left:calc(var(--ag-spacing)*2)}:where(.ag-rtl) .ag-select-agg-func-virtual-list-item{padding-right:calc(var(--ag-spacing)*2)}:where(.ag-ltr) .ag-column-drop-horizontal-half-width:where(:not(:last-child)){border-right:solid var(--ag-border-width) var(--ag-border-color)}:where(.ag-rtl) .ag-column-drop-horizontal-half-width:where(:not(:last-child)){border-left:solid var(--ag-border-width) var(--ag-border-color)}")}toggleResizable(e){this.positionableFeature.setResizable(!!e&&{bottom:!0}),this.resizeEnabled=e}isSourceEventFromTarget(e){const{dropZoneTarget:t,dragSource:n}=e;return t.contains(n.eElement)}destroy(){this.destroyGui(),super.destroy()}destroyGui(){this.guiDestroyFunctions.forEach(e=>e()),this.guiDestroyFunctions.length=0,this.childPillComponents.length=0,uN(this.getGui()),uN(this.ePillDropList)}init(e){this.params=null!==e&&void 0!==e?e:{},this.createManagedBean(new IH(this.getFocusableElement(),{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.onKeyDown.bind(this)})),this.setupDropTarget(),this.positionableFeature=new _H(this.getGui()),this.createManagedBean(this.positionableFeature),this.refreshGui(),mL(this.ePillDropList,this.getAriaLabel())}onTabKeyDown(e){const t=pV(this.getFocusableElement(),null,!0),n=t.length;if(0===n)return;const{shiftKey:i}=e,o=SB(this.beans),r=o===t[0],s=o===_O(t);1===n||r&&i||s&&!i||t[i?0:n-1].focus()}onKeyDown(e){const{key:t}=e,n=!this.horizontal;let i=t===sV.DOWN,o=t===sV.UP;if(!n){const e=this.gos.get("enableRtl");i=!e&&t===sV.RIGHT||e&&t===sV.LEFT,o=!e&&t===sV.LEFT||e&&t===sV.RIGHT}if(i||o)if(e.preventDefault(),e.shiftKey)this.moveFocusedItem(o);else{const e=mV(this.beans,this.getFocusableElement(),!1,o);e&&e.focus()}}moveFocusedItem(e){const t=this.getFocusedItem();if(-1===t)return;const n=e?-1:1;if(!this.normalizeAndUpdateInsertIndex(t,t+n))return;const i=this.childPillComponents[t];if(!i.isMovable())return;const o=i.getItem();this.focusItemAtIndex(this.insertIndex),this.rearrangeItems([o],!0)}addElementClasses(e,t){t=t?"-".concat(t):"";const n=this.horizontal?"horizontal":"vertical";e.classList.add("ag-column-drop".concat(t),"ag-column-drop-".concat(n).concat(t))}setupDropTarget(){var e;this.dropTarget={getContainer:this.getGui.bind(this),getIconName:this.getIconName.bind(this),onDragging:this.onDragging.bind(this),onDragEnter:this.onDragEnter.bind(this),onDragLeave:this.onDragLeave.bind(this),onDragStop:this.onDragStop.bind(this),onDragCancel:this.onDragCancel.bind(this),isInterestedIn:this.isInterestedIn.bind(this)},null===(e=this.beans.dragAndDrop)||void 0===e||e.addDropTarget(this.dropTarget)}minimumAllowedNewInsertIndex(){return 0}checkInsertIndex(e){const t=this.getNewInsertIndex(e);return!(t<0)&&this.normalizeAndUpdateInsertIndex(this.insertIndex,t)}normalizeAndUpdateInsertIndex(e,t){const n=this.minimumAllowedNewInsertIndex(),i=Math.max(n,t),o=i!==e;return o&&(this.insertIndex=i),o}getNewInsertIndex(e){const t=e.event,n=this.horizontal?t.clientX:t.clientY,i=this.childPillComponents.map(e=>e.getGui().getBoundingClientRect()),o=i.findIndex(e=>this.horizontal?e.right>n&&e.left<n:e.top<n&&e.bottom>n);if(-1===o){const e=this.gos.get("enableRtl");if(i.every(e=>n>(this.horizontal?e.right:e.bottom)))return e&&this.horizontal?0:this.childPillComponents.length;return i.every(e=>n<(this.horizontal?e.left:e.top))?e&&this.horizontal?this.childPillComponents.length:0:this.insertIndex}return this.insertIndex<=o?o+1:o}checkDragStartedBySelf(e){"notDragging"===this.state&&(this.state="rearrangeItems",this.potentialDndItems=this.getItems(e.dragSource.getDragItem()),this.refreshGui(),this.checkInsertIndex(e),this.refreshGui())}onDragging(e){this.checkDragStartedBySelf(e),this.checkInsertIndex(e)&&this.refreshGui()}handleDragEnterEnd(e){}onDragEnter(e){const t=this.getItems(e.dragSource.getDragItem());this.state="newItemsIn";const n=t.filter(t=>this.isItemDroppable(t,e)),i=n.every(e=>-1!==this.childPillComponents.map(e=>e.getItem()).indexOf(e));0!==n.length&&(this.potentialDndItems=n,i?this.state="notDragging":(this.handleDragEnterEnd(e),this.checkInsertIndex(e),this.refreshGui()))}isPotentialDndItems(){var e;return!(null===(e=this.potentialDndItems)||void 0===e||!e.length)}handleDragLeaveEnd(e){}onDragLeave(e){if("rearrangeItems"===this.state){const t=this.getItems(e.dragSource.getDragItem());this.removeItems(t)}this.isPotentialDndItems()&&(this.handleDragLeaveEnd(e),this.potentialDndItems=[],this.refreshGui()),this.state="notDragging"}onDragCancel(e){this.isPotentialDndItems()&&("newItemsIn"===this.state&&this.handleDragLeaveEnd(e),this.potentialDndItems=[],this.refreshGui()),this.state="notDragging"}onDragStop(){this.isPotentialDndItems()&&("newItemsIn"===this.state?this.addItems(this.potentialDndItems):this.rearrangeItems(this.potentialDndItems),this.potentialDndItems=[],this.refreshGui()),this.state="notDragging"}removeItems(e){const t=this.getExistingItems().filter(t=>!e.includes(t));this.updateItems(t)}addItems(e){if(!e)return;const t=this.getExistingItems().slice(),n=e.filter(e=>t.indexOf(e)<0);y4(t,n,this.insertIndex),this.updateItems(t)}addItem(e){this.insertIndex=this.getExistingItems().length,this.addItems([e]),this.refreshGui()}rearrangeItems(e,t){let n;return n=t?this.getExistingItems().filter(t=>-1===e.indexOf(t)):this.getNonGhostItems().slice(),y4(n,e,this.insertIndex),!MO(n,this.getExistingItems())&&(this.updateItems(n),!0)}refreshGui(){let e=0;this.horizontal||(e=this.ePillDropList.scrollTop);const t=this.resizeEnabled,n=this.getFocusedItem(),{eGridDiv:i}=this.beans,o=dV();let r=null;var s;o&&(r=null!==(s=mV(this.beans,i))&&void 0!==s?s:mV(this.beans,i,!1,!0));this.toggleResizable(!1),this.destroyGui(),this.addIconAndTitleToGui(),this.addEmptyMessageToGui(),this.addItemsToGui(),0!==e&&(this.ePillDropList.scrollTop=e),t&&this.toggleResizable(t),o&&this.restoreFocus(n,r)}getFocusedItem(){const e=this.getGui(),t=SB(this.beans);if(!e.contains(t))return-1;return Array.from(e.querySelectorAll(".ag-column-drop-cell")).indexOf(t)}focusItemAtIndex(e){const t=this.getGui(),n=Array.from(t.querySelectorAll(".ag-column-drop-cell"))[e];n&&n.focus({preventScroll:!0})}restoreFocus(e,t){const n=this.getGui(),i=Array.from(n.querySelectorAll(".ag-column-drop-cell"));if(-1===e)return;0===i.length&&t.focus();const o=i[Math.min(i.length-1,e)];o&&o.focus()}focusList(e){const t=e?this.childPillComponents.length-1:0;this.restoreFocus(t,this.getFocusableElement())}getNonGhostItems(){const e=this.getExistingItems();return this.isPotentialDndItems()?e.filter(e=>!this.potentialDndItems.includes(e)):e}addItemsToGui(){const e=this.getNonGhostItems().map(e=>this.createItemComponent(e,!1));if(this.isPotentialDndItems()){const t=this.potentialDndItems.map(e=>this.createItemComponent(e,!0));this.insertIndex>=e.length?e.push(...t):e.splice(this.insertIndex,0,...t)}this.appendChild(this.ePillDropList),e.forEach((e,t)=>{t>0&&this.addArrow(this.ePillDropList),this.ePillDropList.appendChild(e.getGui())}),this.addAriaLabelsToComponents()}addAriaLabelsToComponents(){const{childPillComponents:e,ePillDropList:t}=this,n=e.length;gL(t,0===n?"presentation":"listbox");for(let i=0;i<n;i++){const t=e[i].getGui();kL(t,i+1),FL(t,n)}}createItemComponent(e,t){const n=this.createPillComponent(e,this.dropTarget,t,this.horizontal);return n.addEventListener("columnRemove",this.removeItems.bind(this,[e])),this.createBean(n),this.guiDestroyFunctions.push(()=>this.destroyBean(n)),t||this.childPillComponents.push(n),n}addIconAndTitleToGui(){const{title:e,icon:t}=this.params;if(!e||!t)return;const n=MN({tag:"div"});if(SL(n,!0),this.addElementClasses(n,"title-bar"),this.addElementClasses(t,"icon"),this.toggleCss("ag-column-drop-empty",this.isExistingItemsEmpty()),n.appendChild(t),!this.horizontal){const t=MN({tag:"span"});this.addElementClasses(t,"title"),t.textContent=e,n.appendChild(t)}this.appendChild(n)}isExistingItemsEmpty(){return 0===this.getExistingItems().length}addEmptyMessageToGui(){const{emptyMessage:e}=this.params;if(!e||!this.isExistingItemsEmpty()||this.isPotentialDndItems())return;const t=MN({tag:"span"});t.textContent=e,this.addElementClasses(t,"empty-message"),this.ePillDropList.appendChild(t)}addArrow(e){if(this.horizontal){const t=hW(this.gos.get("enableRtl")?"panelDelimiterRtl":"panelDelimiter",this.beans);this.addElementClasses(t,"cell-separator"),e.appendChild(t)}}},D4={tag:"span",role:"option",children:[{tag:"span",ref:"eDragHandle",cls:"ag-drag-handle ag-column-drop-cell-drag-handle",role:"presentation"},{tag:"span",ref:"eText",cls:"ag-column-drop-cell-text",attrs:{"aria-hidden":"true"}},{tag:"span",ref:"eButton",cls:"ag-column-drop-cell-button",role:"presentation"}]},E4=class extends AG{constructor(e,t,n,i,o){super(),this.dragSourceDropTarget=e,this.ghost=t,this.horizontal=n,this.template=i,this.agComponents=o,this.eText=kG,this.eDragHandle=kG,this.eButton=kG}postConstruct(){var e;this.setTemplate(null!==(e=this.template)&&void 0!==e?e:D4,this.agComponents);const t=this.getGui(),{beans:n,eDragHandle:i,eText:o,eButton:r}=this;this.addElementClasses(t),this.addElementClasses(i,"drag-handle"),this.addElementClasses(o,"text"),this.addElementClasses(r,"button"),i.appendChild(hW("columnDrag",n)),r.appendChild(hW("cancel",n)),this.tooltipFeature=this.createOptionalManagedBean(n.registry.createDynamicBean("tooltipFeature",!1,{getGui:()=>this.getGui()})),this.setupComponents(),!this.ghost&&this.isDraggable()&&this.addDragSource(),this.setupAria(),this.setupTooltip(),this.activateTabIndex(),this.refreshDraggable()}isDraggable(){return!0}refreshDraggable(){this.eDragHandle.classList.toggle("ag-column-select-column-readonly",!this.isDraggable())}setupAria(){const e=this.getLocaleTextFunc(),t=[this.getAriaDisplayName()];this.addAdditionalAriaInstructions(t,e),mL(this.getGui(),t.join(". "))}addAdditionalAriaInstructions(e,t){if(this.isRemovable()){const n=t("ariaDropZoneColumnComponentDescription","Press DELETE to remove");e.push(n)}}setupTooltip(){const e=()=>{var e;return null===(e=this.tooltipFeature)||void 0===e?void 0:e.setTooltipAndRefresh(this.getTooltip())};e(),this.addManagedEventListeners({newColumnsLoaded:e})}getDragSourceId(){}getDefaultIconName(){return"notAllowed"}addDragSource(){const{beans:{dragAndDrop:e},eDragHandle:t}=this,n=this.createGetDragItem(),i=this.getDefaultIconName(),o={type:this.getDragSourceType(),sourceId:this.getDragSourceId(),eElement:t,getDefaultIconName:()=>i,getDragItem:n,dragItemName:this.getDisplayName()};null===e||void 0===e||e.addDragSource(o,!0),this.addDestroyFunc(()=>null===e||void 0===e?void 0:e.removeDragSource(o))}setupComponents(){this.eText.textContent=this.getDisplayValue(),this.setupRemove(),this.ghost&&this.addCss("ag-column-drop-cell-ghost")}isRemovable(){return!0}refreshRemove(){XL(this.eButton,this.isRemovable())}setupRemove(){this.refreshRemove();const e={type:"columnRemove"};this.addGuiEventListener("keydown",e=>this.onKeyDown(e)),this.addManagedElementListeners(this.eButton,{click:t=>{this.dispatchLocalEvent(e),t.stopPropagation()}});const t=new cU(this.eButton);this.addManagedListeners(t,{tap:()=>this.dispatchLocalEvent(e)}),this.addDestroyFunc(t.destroy.bind(t))}onKeyDown(e){e.key===sV.DELETE&&this.isRemovable()&&(e.preventDefault(),this.dispatchLocalEvent({type:"columnRemove"}))}getDisplayValue(){return this.getDisplayName()}addElementClasses(e,t){t=t?"-".concat(t):"";const n=this.horizontal?"horizontal":"vertical";e.classList.add("ag-column-drop-cell".concat(t),"ag-column-drop-".concat(n,"-cell").concat(t))}destroy(){super.destroy(),this.dragSourceDropTarget=null}},F4=class extends E4{constructor(e,t,n,i,o){super(t,n,o),this.column=e,this.dropZonePurpose=i,this.eSortIndicator=kG,this.popupShowing=!1}postConstruct(){const{sortSvc:e,colNames:t}=this.beans;this.template={tag:"span",role:"option",children:[{tag:"span",ref:"eDragHandle",cls:"ag-drag-handle ag-column-drop-cell-drag-handle",role:"presentation"},{tag:"span",ref:"eText",cls:"ag-column-drop-cell-text",attrs:{"aria-hidden":"true"}},e?{tag:"ag-sort-indicator",ref:"eSortIndicator"}:void 0,{tag:"span",ref:"eButton",cls:"ag-column-drop-cell-button",role:"presentation"}]},e&&(this.agComponents=[e.getSortIndicatorSelector()]),this.displayName=t.getDisplayNameForColumn(this.column,"columnDrop"),super.postConstruct(),e&&(this.setupSort(),this.addManagedEventListeners({sortChanged:()=>{this.setupAria()}})),this.isGroupingZone()&&this.addManagedPropertyListener("groupLockGroupColumns",()=>{this.refreshRemove(),this.refreshDraggable(),this.setupAria()})}getItem(){return this.column}getDisplayName(){return this.displayName}getTooltip(){return this.column.getColDef().headerTooltip}addAdditionalAriaInstructions(e,t){const n=this.gos.get("rowGroupPanelSuppressSort"),i=this.gos.get("functionsReadOnly");if(this.isAggregationZone()&&!i){const n=t("ariaDropZoneColumnValueItemDescription","Press ENTER to change the aggregation type");e.push(n)}if(this.isGroupingZone()&&this.column.isSortable()&&!n){const n=t("ariaDropZoneColumnGroupItemDescription","Press ENTER to sort");e.push(n)}super.addAdditionalAriaInstructions(e,t)}isMovable(){return this.isDraggable()}isDraggable(){return this.isReadOnly()}isRemovable(){return this.isReadOnly()}isReadOnly(){return!this.isGroupingAndLocked()&&!this.gos.get("functionsReadOnly")}getAriaDisplayName(){const e=this.getLocaleTextFunc(),{name:t,aggFuncName:n}=this.getColumnAndAggFuncName(),i=e("ariaDropZoneColumnComponentAggFuncSeparator"," of "),o={asc:e("ariaDropZoneColumnComponentSortAscending","ascending"),desc:e("ariaDropZoneColumnComponentSortDescending","descending")},r=this.column.getSort(),s=this.gos.get("rowGroupPanelSuppressSort");return[n&&"".concat(n).concat(i),t,this.isGroupingZone()&&!s&&r&&", ".concat(o[r])].filter(e=>!!e).join("")}getColumnAndAggFuncName(){const e=this.displayName;let t="";if(this.isAggregationZone()){const e=this.column.getAggFunc(),n="string"===typeof e?e:"agg";t=this.getLocaleTextFunc()(n,n)}return{name:e,aggFuncName:t}}setupSort(){if(this.column.isSortable()&&this.isGroupingZone()&&!this.gos.get("rowGroupPanelSuppressSort")){this.eSortIndicator.setupSort(this.column,!0);const e=e=>{e.preventDefault(),this.beans.sortSvc.progressSortFromEvent(this.column,e)};this.addGuiEventListener("click",e),this.addGuiEventListener("keydown",t=>{t.key===sV.ENTER&&this.isGroupingZone()&&e(t)})}}getDefaultIconName(){return"hide"}createGetDragItem(){const{column:e}=this;return()=>{const t={};return t[e.getId()]=e.isVisible(),{columns:[e],visibleState:t}}}setupComponents(){super.setupComponents(),this.isAggregationZone()&&!this.gos.get("functionsReadOnly")&&this.addGuiEventListener("click",this.onShowAggFuncSelection.bind(this))}onKeyDown(e){super.onKeyDown(e);e.key===sV.ENTER&&this.isAggregationZone()&&!this.gos.get("functionsReadOnly")&&(e.preventDefault(),this.onShowAggFuncSelection())}getDisplayValue(){const{name:e,aggFuncName:t}=this.getColumnAndAggFuncName();return this.isAggregationZone()?"".concat(t,"(").concat(e,")"):e}onShowAggFuncSelection(){if(this.popupShowing)return;this.popupShowing=!0;const{aggFuncSvc:e,popupSvc:t}=this.beans,n=new S5({cssIdentifier:"select-agg-func"}),i=e.getFuncNames(this.column),o=this.getGui(),r=n.getGui();n.setModel({getRow:function(e){return i[e]},getRowCount:function(){return i.length}}),this.createBean(n);const s=MN({tag:"div",cls:"ag-select-agg-func-popup"});s.style.top="0px",s.style.left="0px",s.appendChild(r),s.style.width="".concat(o.clientWidth,"px");const[a]=this.addManagedElementListeners(s,{focusout:e=>{!s.contains(e.relatedTarget)&&u&&u.hideFunc()}}),l=this.getLocaleTextFunc(),u=t.addPopup({modal:!0,eChild:s,closeOnEsc:!0,closedCallback:e=>{this.destroyBean(n),this.popupShowing=!1,"Escape"===(null===e||void 0===e?void 0:e.key)&&o.focus(),a&&a()},ariaLabel:l("ariaLabelAggregationFunction","Aggregation Function")});u&&n.setComponentCreator(this.createAggSelect.bind(this,u.hideFunc)),n.addGuiEventListener("keydown",e=>{if(e.key===sV.ENTER||e.key===sV.SPACE){const e=n.getLastFocusedRow();if(null==e)return;const t=n.getComponentAt(e);t&&t.selectItem()}}),t.positionPopupByComponent({type:"aggFuncSelect",eventSource:o,ePopup:s,keepWithinBounds:!0,column:this.column,position:"under"}),n.refresh();let c=i.findIndex(e=>e===this.column.getAggFunc());-1===c&&(c=0),n.focusRow(c)}createAggSelect(e,t){const n=this.getLocaleTextFunc(),i=t.toString(),o=n(i,i);return new k4(()=>{var n,i;e(),this.getGui().focus(),null===(n=this.beans.valueColsSvc)||void 0===n||null===(i=n.setColumnAggFunc)||void 0===i||i.call(n,this.column,t,"toolPanelDragAndDrop")},o)}isGroupingAndLocked(){return this.isGroupingZone()&&n4(this.column,this.beans)}isAggregationZone(){return"aggregation"===this.dropZonePurpose}isGroupingZone(){return"rowGroup"===this.dropZonePurpose}getDragSourceType(){return NV.ToolPanel}destroy(){super.destroy(),this.column=null}},k4=class extends AG{constructor(e,t){super({tag:"div",cls:"ag-select-agg-func-item",children:t}),this.selectItem=e,this.addGuiEventListener("click",this.selectItem)}},A4=class extends x4{constructor(e,t){super(e),this.dropZonePurpose=t,this.addElementClasses(this.getGui(),this.dropZonePurpose.toLowerCase())}init(e){super.init(e),this.addManagedEventListeners({newColumnsLoaded:this.refreshGui.bind(this)}),this.addManagedPropertyListeners(["functionsReadOnly","rowGroupPanelSuppressSort","groupLockGroupColumns"],this.refreshGui.bind(this))}getItems(e){var t;return null!==(t=e.columns)&&void 0!==t?t:[]}isInterestedIn(e){return e===NV.HeaderCell||e===NV.ToolPanel}minimumAllowedNewInsertIndex(){var e;const{gos:t,rowGroupColsSvc:n}=this.beans,i=t.get("groupLockGroupColumns"),o=null!==(e=null===n||void 0===n?void 0:n.columns.length)&&void 0!==e?e:0;return-1===i?o:Math.min(i,o)}showOrHideColumnOnExit(e){return this.isRowGroupPanel()&&BB(this.gos,!0)&&!e.fromNudge}handleDragEnterEnd(e){if(this.showOrHideColumnOnExit(e)){const t=e.dragSource.getDragItem().columns;this.setColumnsVisible(t,!1,"uiColumnDragged")}}handleDragLeaveEnd(e){if(this.showOrHideColumnOnExit(e)){const t=e.dragSource.getDragItem();this.setColumnsVisible(t.columns,!0,"uiColumnDragged")}}setColumnsVisible(e,t,n){if(e){const i=e.filter(e=>!e.getColDef().lockVisible);this.beans.colModel.setColsVisible(i,t,n)}}isRowGroupPanel(){return"rowGroup"===this.dropZonePurpose}createPillComponent(e,t,n,i){return new F4(e,t,n,this.dropZonePurpose,i)}},R4=class extends A4{constructor(e){super(e,"pivot")}postConstruct(){const e=this.getLocaleTextFunc(),t=e("pivotColumnsEmptyMessage","Drag here to set column labels"),n=e("pivots","Column Labels");super.init({icon:hW("pivotPanel",this.beans,null),emptyMessage:t,title:n}),this.addManagedEventListeners({newColumnsLoaded:this.refresh.bind(this),columnPivotChanged:this.refresh.bind(this),columnPivotModeChanged:this.checkVisibility.bind(this)}),this.refresh()}getAriaLabel(){return this.getLocaleTextFunc()("ariaPivotDropZonePanelLabel","Column Labels")}refresh(){this.checkVisibility(),this.refreshGui()}checkVisibility(){const e=this.beans.colModel,t=e.isPivotMode();if(this.horizontal)switch(this.gos.get("pivotPanelShow")){case"always":this.setDisplayed(t);break;case"onlyWhenPivoting":{const n=e.isPivotActive();this.setDisplayed(t&&n);break}default:this.setDisplayed(!1)}else this.setDisplayed(t)}isItemDroppable(e,t){return!(this.gos.get("functionsReadOnly")||!e.isPrimary())&&(e.isAllowPivot()&&(!e.isPivotActive()||this.isSourceEventFromTarget(t)))}updateItems(e){var t;null===(t=this.beans.pivotColsSvc)||void 0===t||t.setColumns(e,"toolPanelUi")}getIconName(){return this.isPotentialDndItems()?"pivot":"notAllowed"}getExistingItems(){var e,t;return null!==(e=null===(t=this.beans.pivotColsSvc)||void 0===t?void 0:t.columns)&&void 0!==e?e:[]}},P4=class extends A4{constructor(e){super(e,"rowGroup")}postConstruct(){const e=this.getLocaleTextFunc(),t=e("rowGroupColumnsEmptyMessage","Drag here to set row groups"),n=e("groups","Row Groups");super.init({icon:hW("rowGroupPanel",this.beans,null),emptyMessage:t,title:n}),this.addManagedEventListeners({columnRowGroupChanged:this.refreshGui.bind(this)})}getAriaLabel(){return this.getLocaleTextFunc()("ariaRowGroupDropZonePanelLabel","Row Groups")}isItemDroppable(e,t){return!(this.gos.get("functionsReadOnly")||!e.isPrimary()||e.colDef.showRowGroup)&&(e.isAllowRowGroup()&&(!e.isRowGroupActive()||this.isSourceEventFromTarget(t)))}updateItems(e){var t;null===(t=this.beans.rowGroupColsSvc)||void 0===t||t.setColumns(e,"toolPanelUi")}getIconName(){return this.isPotentialDndItems()?"group":"notAllowed"}getExistingItems(){var e,t;return null!==(e=null===(t=this.beans.rowGroupColsSvc)||void 0===t?void 0:t.columns)&&void 0!==e?e:[]}},T4=class extends A4{constructor(e){super(e,"aggregation")}postConstruct(){const e=this.getLocaleTextFunc(),t=e("valueColumnsEmptyMessage","Drag here to aggregate"),n=e("values","Values");super.init({icon:hW("valuePanel",this.beans,null),emptyMessage:t,title:n}),this.addManagedEventListeners({columnValueChanged:this.refreshGui.bind(this)})}getAriaLabel(){return this.getLocaleTextFunc()("ariaValuesDropZonePanelLabel","Values")}getIconName(){return this.isPotentialDndItems()?"aggregate":"notAllowed"}isItemDroppable(e,t){return!(this.gos.get("functionsReadOnly")||!e.isPrimary())&&(e.isAllowValue()&&(!e.isValueActive()||this.isSourceEventFromTarget(t)))}updateItems(e){var t;null===(t=this.beans.valueColsSvc)||void 0===t||t.setColumns(e,"toolPanelUi")}getExistingItems(){var e,t;return null!==(e=null===(t=this.beans.valueColsSvc)||void 0===t?void 0:t.columns)&&void 0!==e?e:[]}},_4={tag:"div",cls:"ag-pivot-mode-panel",children:[{tag:"ag-toggle-button",ref:"cbPivotMode",cls:"ag-pivot-mode-select"}]},M4=class extends AG{constructor(){super(...arguments),this.cbPivotMode=kG}postConstruct(){this.setTemplate(_4,[UW]);const e=this.cbPivotMode,{colModel:t,ctrlsSvc:n,gos:i}=this.beans;e.setValue(t.isPivotMode());const o=this.getLocaleTextFunc();e.setLabel(o("pivotMode","Pivot Mode"));const r=()=>{const n=t.isPivotMode();e.setValue(n)};this.addManagedListeners(e,{fieldValueChanged:()=>{const o=!!e.getValue();o!==t.isPivotMode()&&(i.updateGridOptions({options:{pivotMode:o},source:"toolPanelUi"}),n.getHeaderRowContainerCtrls().forEach(e=>e.refresh()))}}),this.addManagedEventListeners({newColumnsLoaded:r,columnPivotModeChanged:r})}},I4={moduleName:"ColumnsToolPanel",version:n5,beans:[class extends vO{constructor(){super(...arguments),this.beanName="colToolPanelFactory"}setPanelVisible(e,t,n){return e?e.setDisplayed(t):t&&(e=n()),e}createRowGroupPanel(e,t){return this.createPanel(e,t,new P4(!1))}createValuesPanel(e,t){return this.createPanel(e,t,new T4(!1))}createPivotPanel(e,t){return this.createPanel(e,t,new R4(!1))}createPivotModePanel(e,t,n){return this.createPanel(e,t,new M4,n)}createPanel(e,t,n,i){return n=e.createBean(n),t.push(()=>e.destroyBean(n)),i?e.prependChild(n):e.appendChild(n),n}}],userComponents:{agColumnsToolPanel:class extends AG{constructor(){super({tag:"div",cls:"ag-column-panel"}),this.initialised=!1,this.childDestroyFuncs=[],this.registerCSS(".ag-column-panel{display:flex;flex:1 1 auto;flex-direction:column;overflow:hidden}.ag-pivot-mode-panel{display:flex;height:var(--ag-header-height)}.ag-pivot-mode-select{align-items:center;display:flex}:where(.ag-ltr) .ag-pivot-mode-select{margin-left:var(--ag-widget-container-horizontal-padding)}:where(.ag-rtl) .ag-pivot-mode-select{margin-right:var(--ag-widget-container-horizontal-padding)}.ag-column-panel-column-select{border-bottom:var(--ag-tool-panel-separator-border)}.ag-column-panel-column-select:where(:nth-child(n+2 of :not(.ag-hidden))){border-top:var(--ag-tool-panel-separator-border)}:where(.ag-column-panel) .ag-column-drop-vertical{flex:1 1 0px;min-height:50px;&:where(:not(.ag-last-column-drop)){border-bottom:var(--ag-tool-panel-separator-border)}}")}wireBeans(e){this.colToolPanelFactory=e.colToolPanelFactory}setVisible(e){super.setDisplayed(e),e&&!this.initialised&&this.init(this.params)}init(e){const t=d(d({},iO(this.gos,{suppressColumnMove:!1,suppressColumnSelectAll:!1,suppressColumnFilter:!1,suppressColumnExpandAll:!1,contractColumnSelection:!1,suppressPivotMode:!1,suppressRowGroups:!1,suppressValues:!1,suppressPivots:!1,suppressSyncLayoutWithGrid:!1})),e);this.params=t;const{childDestroyFuncs:n,colToolPanelFactory:i,gos:o}=this,r=o.isModuleRegistered("SharedPivot"),s=r||o.isModuleRegistered("SharedRowGrouping");!t.suppressPivotMode&&i&&r&&(this.pivotModePanel=i.createPivotModePanel(this,n));const a=this.createBean(new b4);if(this.primaryColsPanel=a,n.push(()=>this.destroyBean(this.primaryColsPanel)),a.init(!0,t,"toolPanelUi"),a.addCss("ag-column-panel-column-select"),this.appendChild(a),i){!t.suppressRowGroups&&s&&(this.rowGroupDropZonePanel=i.createRowGroupPanel(this,n)),!t.suppressValues&&s&&(this.valuesDropZonePanel=i.createValuesPanel(this,n)),!t.suppressPivots&&r&&(this.pivotDropZonePanel=i.createPivotPanel(this,n)),this.setLastVisible();const[e]=this.addManagedEventListeners({columnPivotModeChanged:()=>{this.resetChildrenHeight(),this.setLastVisible()}});n.push(()=>e())}this.initialised=!0}setPivotModeSectionVisible(e){const t=this.colToolPanelFactory;t&&(this.pivotModePanel=t.setPanelVisible(this.pivotModePanel,e,t.createPivotModePanel.bind(t,this,this.childDestroyFuncs,!0)),this.setLastVisible())}setRowGroupsSectionVisible(e){const t=this.colToolPanelFactory;t&&(this.rowGroupDropZonePanel=t.setPanelVisible(this.rowGroupDropZonePanel,e,t.createRowGroupPanel.bind(t,this,this.childDestroyFuncs)),this.setLastVisible())}setValuesSectionVisible(e){const t=this.colToolPanelFactory;t&&(this.valuesDropZonePanel=t.setPanelVisible(this.valuesDropZonePanel,e,t.createValuesPanel.bind(t,this,this.childDestroyFuncs)),this.setLastVisible())}setPivotSectionVisible(e){var t;const n=this.colToolPanelFactory;n&&(this.pivotDropZonePanel=n.setPanelVisible(this.pivotDropZonePanel,e,n.createPivotPanel.bind(n,this,this.childDestroyFuncs)),null===(t=this.pivotDropZonePanel)||void 0===t||t.setDisplayed(e),this.setLastVisible())}setResizers(){[this.primaryColsPanel,this.rowGroupDropZonePanel,this.valuesDropZonePanel,this.pivotDropZonePanel].forEach(e=>{if(!e)return;const t=e.getGui();e.toggleResizable(!t.classList.contains("ag-last-column-drop")&&!t.classList.contains("ag-hidden"))})}setLastVisible(){const e=this.getGui();Array.prototype.slice.call(e.querySelectorAll(".ag-column-drop")).forEach(e=>e.classList.remove("ag-last-column-drop"));const t=_O(e.querySelectorAll(".ag-column-drop:not(.ag-hidden)"));t&&t.classList.add("ag-last-column-drop"),this.setResizers()}resetChildrenHeight(){const e=this.getGui().children;for(let t=0;t<e.length;t++){const{style:n}=e[t];n.removeProperty("height"),n.removeProperty("flex")}}expandColumnGroups(e){this.primaryColsPanel.expandGroups(e)}collapseColumnGroups(e){this.primaryColsPanel.collapseGroups(e)}setColumnLayout(e){this.primaryColsPanel.setColumnLayout(e)}syncLayoutWithGrid(){this.primaryColsPanel.syncLayoutWithGrid()}destroyChildren(){const e=this.childDestroyFuncs;e.forEach(e=>e()),e.length=0,uN(this.getGui())}refresh(e){return this.destroyChildren(),this.init(e),!0}getState(){return{expandedGroupIds:this.primaryColsPanel.getExpandedGroups()}}destroy(){this.destroyChildren(),super.destroy()}}},icons:{ensureColumnVisible:"column-arrow",columnsToolPanel:"columns",menuAddRowGroup:"group",menuRemoveRowGroup:"group",pivotPanel:"pivot",rowGroupPanel:"group",valuePanel:"aggregation",columnSelectClosed:"tree-closed",columnSelectOpen:"tree-open",columnSelectIndeterminate:"tree-indeterminate"},dependsOn:[i5,B3,hK,eK,ZZ,z3]},L4=class{constructor(e,t,n){this.beans=e,this.chartSvc=t,this.getLocaleTextFunc=n}getMenuItem(){var e=this;const t=this.getLocaleTextFunc(),n=function(n,i,o,r){let s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return{name:t(n,i+"\u200e"),action:()=>e.chartSvc.createPivotChart({chartType:o}),_key:r,_enterprise:s}};return{name:t("pivotChart","Pivot Chart"),_key:"pivotChart",subMenu:[{_key:"pivotColumnChart",name:t("columnChart","Column"),subMenu:[n("groupedColumn","Grouped","groupedColumn","pivotGroupedColumn"),n("stackedColumn","Stacked","stackedColumn","pivotStackedColumn"),n("normalizedColumn","100% Stacked","normalizedColumn","pivotNormalizedColumn")]},{_key:"pivotBarChart",name:t("barChart","Bar"),subMenu:[n("groupedBar","Grouped","groupedBar","pivotGroupedBar"),n("stackedBar","Stacked","stackedBar","pivotStackedBar"),n("normalizedBar","100% Stacked","normalizedBar","pivotNormalizedBar")]},{_key:"pivotPieChart",name:t("pieChart","Pie"),subMenu:[n("pie","Pie","pie","pivotPie"),n("donut","Donut","donut","pivotDonut")]},{_key:"pivotLineChart",name:t("lineChart","Line"),subMenu:[n("lineChart","Line","line","pivotLineChart"),n("stackedLine","Stacked","stackedLine","pivotStackedLine"),n("normalizedLine","100% Stacked","normalizedLine","pivotNormalizedLine")]},{_key:"pivotAreaChart",name:t("areaChart","Area"),subMenu:[n("areaChart","Area","area","pivotArea"),n("stackedArea","Stacked","stackedArea","pivotStackedArea"),n("normalizedArea","100% Stacked","normalizedArea","pivotNormalizedArea")]},{_key:"pivotXYChart",name:t("xyChart","X Y (Scatter)"),subMenu:[n("scatter","Scatter","scatter","pivotScatter"),n("bubble","Bubble","bubble","pivotBubble")]},{_key:"pivotStatisticalChart",_enterprise:!1,name:t("statisticalChart","Statistical"),subMenu:[n("histogramChart","Histogram","histogram","pivotHistogram",!1)]},{_key:"pivotHierarchicalChart",_enterprise:!0,name:t("hierarchicalChart","Hierarchical"),subMenu:[n("treemapChart","Treemap","treemap","pivotTreemap",!0),n("sunburstChart","Sunburst","sunburst","pivotSunburst",!0)]},{_key:"pivotFunnel",name:t("funnel","Funnel"),subMenu:[n("funnel","Funnel","funnel","pivotFunnel"),n("coneFunnel","Cone Funnel","coneFunnel","pivotConeFunnel"),n("pyramid","Pyramid","pyramid","pivotPyramid")]},{_key:"pivotCombinationChart",name:t("combinationChart","Combination"),subMenu:[n("columnLineCombo","Column & Line","columnLineCombo","pivotColumnLineCombo"),n("AreaColumnCombo","Area & Column","areaColumnCombo","pivotAreaColumnCombo")]}],icon:hW("chart",this.beans,void 0)}}getConfigLookup(){return{columnGroup:{_key:"pivotColumnChart",column:"pivotGroupedColumn",stackedColumn:"pivotStackedColumn",normalizedColumn:"pivotNormalizedColumn"},barGroup:{_key:"pivotBarChart",bar:"pivotGroupedBar",stackedBar:"pivotStackedBar",normalizedBar:"pivotNormalizedBar"},pieGroup:{_key:"pivotPieChart",pie:"pivotPie",donut:"pivotDonut",doughnut:"pivotDonut"},lineGroup:{_key:"pivotLineChart",line:"pivotLineChart",stackedLine:"pivotStackedLine",normalizedLine:"pivotNormalizedLine"},areaGroup:{_key:"pivotAreaChart",area:"pivotArea",stackedArea:"pivotStackedArea",normalizedArea:"pivotNormalizedArea"},scatterGroup:{_key:"pivotXYChart",bubble:"pivotBubble",scatter:"pivotScatter"},combinationGroup:{_key:"pivotCombinationChart",columnLineCombo:"pivotColumnLineCombo",areaColumnCombo:"pivotAreaColumnCombo",customCombo:null},hierarchicalGroup:{_key:"pivotHierarchicalChart",treemap:"pivotTreemap",sunburst:"pivotSunburst"},statisticalGroup:{_key:"pivotStatisticalChart",histogram:"pivotHistogram",rangeBar:null,rangeArea:null,boxPlot:null},funnelGroup:{_key:"pivotFunnel",funnel:"pivotFunnel",coneFunnel:"pivotConeFunnel",pyramid:"pivotPyramid"},polarGroup:null,specializedGroup:null}}},N4=class{constructor(e,t,n){this.beans=e,this.chartSvc=t,this.getLocaleTextFunc=n}getMenuItem(){var e=this;const t=this.getLocaleTextFunc(),n=function(n,i,o,r){let s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return{name:t(n,i),action:()=>e.chartSvc.createChartFromCurrentRange(o),_key:r,_enterprise:s}};return{name:t("chartRange","Chart Range"),_key:"chartRange",subMenu:[{name:t("columnChart","Column"),subMenu:[n("groupedColumn","Grouped","groupedColumn","rangeGroupedColumn"),n("stackedColumn","Stacked","stackedColumn","rangeStackedColumn"),n("normalizedColumn","100% Stacked","normalizedColumn","rangeNormalizedColumn")],_key:"rangeColumnChart"},{name:t("barChart","Bar"),subMenu:[n("groupedBar","Grouped","groupedBar","rangeGroupedBar"),n("stackedBar","Stacked","stackedBar","rangeStackedBar"),n("normalizedBar","100% Stacked","normalizedBar","rangeNormalizedBar")],_key:"rangeBarChart"},{name:t("pieChart","Pie"),subMenu:[n("pie","Pie","pie","rangePie"),n("donut","Donut","donut","rangeDonut")],_key:"rangePieChart"},{name:t("lineChart","Line"),subMenu:[n("lineChart","Line","line","rangeLineChart"),n("stackedLine","Stacked","stackedLine","rangeStackedLine"),n("normalizedLine","100% Stacked","normalizedLine","rangeNormalizedLine")],_key:"rangeLineChart"},{name:t("areaChart","Area"),subMenu:[n("areaChart","Area","area","rangeArea"),n("stackedArea","Stacked","stackedArea","rangeStackedArea"),n("normalizedArea","100% Stacked","normalizedArea","rangeNormalizedArea")],_key:"rangeAreaChart"},{name:t("xyChart","X Y (Scatter)"),subMenu:[n("scatter","Scatter","scatter","rangeScatter"),n("bubble","Bubble","bubble","rangeBubble")],_key:"rangeXYChart"},{name:t("polarChart","Polar"),subMenu:[n("radarLine","Radar Line","radarLine","rangeRadarLine"),n("radarArea","Radar Area","radarArea","rangeRadarArea"),n("nightingale","Nightingale","nightingale","rangeNightingale"),n("radialColumn","Radial Column","radialColumn","rangeRadialColumn"),n("radialBar","Radial Bar","radialBar","rangeRadialBar")],_key:"rangePolarChart",_enterprise:!0},{name:t("statisticalChart","Statistical"),subMenu:[n("boxPlot","Box Plot","boxPlot","rangeBoxPlot",!0),n("histogramChart","Histogram","histogram","rangeHistogram",!1),n("rangeBar","Range Bar","rangeBar","rangeRangeBar",!0),n("rangeArea","Range Area","rangeArea","rangeRangeArea",!0)],_key:"rangeStatisticalChart",_enterprise:!1},{name:t("hierarchicalChart","Hierarchical"),subMenu:[n("treemap","Treemap","treemap","rangeTreemap"),n("sunburst","Sunburst","sunburst","rangeSunburst")],_key:"rangeHierarchicalChart",_enterprise:!0},{name:t("specializedChart","Specialized"),subMenu:[n("heatmap","Heatmap","heatmap","rangeHeatmap"),n("waterfall","Waterfall","waterfall","rangeWaterfall")],_key:"rangeSpecializedChart",_enterprise:!0},{name:t("funnel","Funnel"),subMenu:[n("funnel","Funnel","funnel","rangeFunnel"),n("coneFunnel","Cone Funnel","coneFunnel","rangeConeFunnel"),n("pyramid","Pyramid","pyramid","rangePyramid")],_key:"rangeFunnel",_enterprise:!0},{name:t("combinationChart","Combination"),subMenu:[n("columnLineCombo","Column & Line","columnLineCombo","rangeColumnLineCombo"),n("AreaColumnCombo","Area & Column","areaColumnCombo","rangeAreaColumnCombo")],_key:"rangeCombinationChart"}],icon:hW("chart",this.beans,void 0)}}getConfigLookup(){return{columnGroup:{_key:"rangeColumnChart",column:"rangeGroupedColumn",stackedColumn:"rangeStackedColumn",normalizedColumn:"rangeNormalizedColumn"},barGroup:{_key:"rangeBarChart",bar:"rangeGroupedBar",stackedBar:"rangeStackedBar",normalizedBar:"rangeNormalizedBar"},pieGroup:{_key:"rangePieChart",pie:"rangePie",donut:"rangeDonut",doughnut:"rangeDonut"},lineGroup:{_key:"rangeLineChart",line:"rangeLineChart",stackedLine:"rangeStackedLine",normalizedLine:"rangeNormalizedLine"},areaGroup:{_key:"rangeAreaChart",area:"rangeArea",stackedArea:"rangeStackedArea",normalizedArea:"rangeNormalizedArea"},scatterGroup:{_key:"rangeXYChart",bubble:"rangeBubble",scatter:"rangeScatter"},polarGroup:{_key:"rangePolarChart",radarLine:"rangeRadarLine",radarArea:"rangeRadarArea",nightingale:"rangeNightingale",radialColumn:"rangeRadialColumn",radialBar:"rangeRadialBar"},statisticalGroup:{_key:"rangeStatisticalChart",boxPlot:"rangeBoxPlot",histogram:"rangeHistogram",rangeBar:"rangeRangeBar",rangeArea:"rangeRangeArea"},hierarchicalGroup:{_key:"rangeHierarchicalChart",treemap:"rangeTreemap",sunburst:"rangeSunburst"},specializedGroup:{_key:"rangeSpecializedChart",heatmap:"rangeHeatmap",waterfall:"rangeWaterfall"},funnelGroup:{_key:"rangeFunnel",funnel:"rangeFunnel",coneFunnel:"rangeConeFunnel",pyramid:"rangePyramid"},combinationGroup:{_key:"rangeCombinationChart",columnLineCombo:"rangeColumnLineCombo",areaColumnCombo:"rangeAreaColumnCombo",customCombo:null}}}},B4={pinSubMenu:"PinnedColumn",pinLeft:"PinnedColumn",pinRight:"PinnedColumn",clearPinned:"PinnedColumn",pinRowSubMenu:"PinnedRow",pinBottom:"PinnedRow",pinTop:"PinnedRow",unpinRow:"PinnedRow",valueAggSubMenu:"SharedAggregation",autoSizeThis:"ColumnAutoSize",autoSizeAll:"ColumnAutoSize",rowGroup:"SharedRowGrouping",rowUnGroup:"SharedRowGrouping",resetColumns:"CommunityCore",expandAll:["ClientSideRowModelHierarchy","ServerSideRowModel"],contractAll:["ClientSideRowModelHierarchy","ServerSideRowModel"],copy:"Clipboard",copyWithHeaders:"Clipboard",copyWithGroupHeaders:"Clipboard",cut:"Clipboard",paste:"Clipboard",export:["CsvExport","ExcelExport"],csvExport:"CsvExport",excelExport:"ExcelExport",separator:"CommunityCore",pivotChart:"IntegratedCharts",chartRange:"IntegratedCharts",columnFilter:"ColumnFilter",columnChooser:"ColumnMenu",sortAscending:"Sort",sortDescending:"Sort",sortUnSort:"Sort"};var O4="separator";function G4(e,t){if(e)for(let n=e.length-2;n>=0;n--){const i=e[n]===t,o=e[n+1]===t;i&&o&&e.splice(n+1,1)}}function z4(e,t,n,i){let o;if(e.isPrimary())o=e;else{const t=e.getColDef().pivotValueColumn;o=UI(t)?t:void 0}const r=[];if(o){const e=o.isValueActive(),s=t.getFuncNames(o);r.push({name:i("noAggregation","None"),action:()=>{n.removeColumns([o],"contextMenu"),n.setColumnAggFunc(o,void 0,"contextMenu")},checked:!e}),s.forEach(s=>{r.push({name:i(s,t.getDefaultFuncLabel(s)),action:()=>{n.setColumnAggFunc(o,s,"contextMenu"),n.addColumns([o],"contextMenu")},checked:e&&o.getAggFunc()===s})})}return r}var V4="ag-context-menu-open",H4=class extends AG{constructor(e,t,n,i){super({tag:"div",cls:"ag-menu",role:"presentation"}),this.menuItems=e,this.column=t,this.node=n,this.value=i,this.menuList=null,this.focusedCell=null}postConstruct(){const e=this.createManagedBean(new a4(0,{column:this.column,node:this.node,value:this.value})),t=this.beans.menuItemMapper.mapWithStockItems(this.menuItems,this.column,this.node,()=>this.getGui(),"contextMenu");e.addMenuItems(t),this.appendChild(e),this.menuList=e,e.addEventListener("closeMenu",e=>this.dispatchLocalEvent(e))}afterGuiAttached(e){let{hidePopup:t}=e;t&&this.addDestroyFunc(t),this.focusedCell=this.beans.focusSvc.getFocusedCell();const n=this.menuList;n&&AN(this.beans,()=>gV(n.getGui()))}restoreFocusedCell(){const{beans:e,focusedCell:t}=this,n=e.focusSvc,i=n.getFocusedCell();if(i&&t&&kz(i,t)){const{rowIndex:i,rowPinned:o,column:r}=t;EB(e)&&n.setFocusedCell({rowIndex:i,column:r,rowPinned:o,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!dV()})}}destroy(){super.destroy(),this.restoreFocusedCell()}};var j4=class extends uU{constructor(e){var t;super((t=e.cssClass,{tag:"div",cls:"ag-tabs ".concat(t),children:[{tag:"div",ref:"eHeader"},{tag:"div",ref:"eBody",role:"presentation",cls:"ag-tabs-body ".concat(t?"".concat(t,"-body"):"")}]})),this.eHeader=kG,this.eBody=kG,this.items=[],this.tabbedItemScrollMap=new Map,this.params=e}postConstruct(){this.setupHeader(),this.params.items&&this.params.items.forEach(e=>this.addItem(e)),this.initialiseTabGuard({onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),focusInnerElement:this.focusInnerElement.bind(this),focusTrapActive:!0}),this.addDestroyFunc(()=>{var e,t;return null===(e=this.activeItem)||void 0===e||null===(e=e.tabbedItem)||void 0===e||null===(t=e.afterDetachedCallback)||void 0===t?void 0:t.call(e)})}setupHeader(){const{enableCloseButton:e,cssClass:t}=this.params,n=(e,n)=>{e.classList.add("ag-tabs-".concat(n)),t&&e.classList.add("".concat(t,"-").concat(n))};e?(this.setupCloseButton(n),this.eTabHeader=MN({tag:"div",role:"presentation"}),n(this.eHeader,"header-wrapper"),this.eHeader.appendChild(this.eTabHeader)):this.eTabHeader=this.eHeader,gL(this.eTabHeader,"tablist"),n(this.eTabHeader,"header")}setupCloseButton(e){const t=MN({tag:"button"});e(t,"close-button");const n=hW("close",this.beans);mL(t,this.params.closeButtonAriaLabel),t.appendChild(n),this.addManagedElementListeners(t,{click:()=>{var e,t;return null===(e=(t=this.params).onCloseClicked)||void 0===e?void 0:e.call(t)}});const i=MN({tag:"div",role:"presentation"});e(i,"close-button-wrapper"),i.appendChild(t),this.eHeader.appendChild(i),this.eCloseButton=t}handleKeyDown(e){switch(e.key){case sV.RIGHT:case sV.LEFT:{if(!this.eTabHeader.contains(SB(this.beans)))return;const t=e.key===sV.RIGHT,n=this.gos.get("enableRtl"),i=this.items.indexOf(this.activeItem),o=t!==n?Math.min(i+1,this.items.length-1):Math.max(i-1,0);if(i===o)return;e.preventDefault();const r=this.items[o];this.showItemWrapper(r),r.eHeaderButton.focus();break}case sV.UP:case sV.DOWN:e.stopPropagation()}}onTabKeyDown(e){if(e.defaultPrevented)return;const{beans:t,eHeader:n,eBody:i,activeItem:o,params:r}=this,{suppressTrapFocus:s,enableCloseButton:a}=r,l=SB(t),u=e.target,c=e.shiftKey;if(n.contains(l)){var d,h;if(e.preventDefault(),!a||!c||null!==(d=this.eCloseButton)&&void 0!==d&&d.contains(l))if(s&&c){var p;null===(p=b3(CB(t).body,u))||void 0===p||p.focus()}else this.focusBody(e.shiftKey);else null===(h=this.eCloseButton)||void 0===h||h.focus();return}let g=null;if(y3(i,u)&&(c&&(g=b3(i,u)),g||s||(g=o.eHeaderButton)),g||!i.contains(l)||(g=mV(t,i,!1,c),g))g&&(e.preventDefault(),g.focus());else if(s&&!c)this.forceFocusOutOfContainer(c);else if(a&&!c){var m;e.preventDefault(),null===(m=this.eCloseButton)||void 0===m||m.focus()}else e.preventDefault(),this.focusHeader()}focusInnerElement(e){return e?this.focusBody(!0):(this.focusHeader(),!0)}focusHeader(e){this.activeItem.eHeaderButton.focus({preventScroll:e})}focusBody(e){return gV(this.eBody,e)}setAfterAttachedParams(e){this.afterAttachedParams=e}showFirstItem(){this.items.length>0&&this.showItemWrapper(this.items[0])}addItem(e){const t=MN({tag:"span",cls:"ag-tab",role:"tab",attrs:{tabindex:"-1"}});t.appendChild(e.title),this.eTabHeader.appendChild(t),mL(t,e.titleLabel);const n={tabbedItem:e,eHeaderButton:t};this.items.push(n),t.addEventListener("click",this.showItemWrapper.bind(this,n))}showItem(e){const t=this.items.find(t=>t.tabbedItem===e);t&&this.showItemWrapper(t)}showItemWrapper(e){var t,n;const{tabbedItem:i,eHeaderButton:o}=e;if(null===(t=(n=this.params).onItemClicked)||void 0===t||t.call(n,{item:i}),this.activeItem!==e){var r,s;if(this.lastScrollListener&&(this.lastScrollListener=this.lastScrollListener()),uN(this.eBody),i.bodyPromise.then(e=>{this.eBody.appendChild(e);const t=!dV();if(this.params.suppressFocusBodyOnOpen||gV(this.eBody,!1,t),i.afterAttachedCallback&&i.afterAttachedCallback(this.afterAttachedParams),this.params.keepScrollPosition){const t=i.getScrollableContainer&&i.getScrollableContainer()||e;[this.lastScrollListener]=this.addManagedElementListeners(t,{scroll:()=>{this.tabbedItemScrollMap.set(i.name,t.scrollTop)}});const n=this.tabbedItemScrollMap.get(i.name);void 0!==n&&setTimeout(()=>{t.scrollTop=n},0)}}),this.activeItem)this.activeItem.eHeaderButton.classList.remove("ag-tab-selected"),null===(r=(s=this.activeItem.tabbedItem).afterDetachedCallback)||void 0===r||r.call(s);o.classList.add("ag-tab-selected"),this.activeItem=e}else{var a,l;null===(a=(l=this.params).onActiveItemClicked)||void 0===a||a.call(l)}}},W4="filterMenuTab",U4="generalMenuTab",K4="columnsMenuTab",q4=[U4,W4,K4],Y4=class extends vO{constructor(e,t,n,i,o){super(),this.column=e,this.restoreFocusParams=t,this.initialSelection=n,this.restrictTo=i,this.sourceElement=o,this.tabFactories={},this.includeChecks={};const{tabFactories:r,includeChecks:s}=this;r[U4]=this.createMainPanel.bind(this),r[W4]=this.createFilterPanel.bind(this),r[K4]=this.createColumnsPanel.bind(this),s[U4]=()=>!0,s[W4]=()=>{var t;return!!e&&!(null===(t=this.beans.filterManager)||void 0===t||!t.isFilterAllowed(e))},s[K4]=()=>!0}postConstruct(){var e;const t=this.getTabsToCreate().map(e=>this.createTab(e)),n=new j4({items:t,cssClass:"ag-menu",onActiveItemClicked:this.onHidePopup.bind(this),onItemClicked:this.onTabItemClicked.bind(this)});this.tabbedLayout=this.createBean(n),null===(e=this.mainMenuList)||void 0===e||e.setParentComponent(n),this.addDestroyFunc(()=>this.destroyBean(n))}getTabsToCreate(){var e,t;return this.restrictTo?this.restrictTo:(null!==(e=null===(t=this.column)||void 0===t?void 0:t.getColDef().menuTabs)&&void 0!==e?e:q4).filter(e=>this.isValidMenuTabItem(e)&&this.isNotSuppressed(e))}isValidMenuTabItem(e){let t=!0,n=q4;return null!=this.restrictTo&&(t=this.restrictTo.indexOf(e)>-1,n=this.restrictTo),t=t&&q4.indexOf(e)>-1,t||iB(175,{menuTabName:e,itemsToConsider:n}),t}isNotSuppressed(e){return this.includeChecks[e]()}createTab(e){return this.tabFactories[e]()}showTabBasedOnPreviousSelection(){this.showTab(this.initialSelection)}showTab(e){const{tabItemColumns:t,tabbedLayout:n,tabItemFilter:i,tabItemGeneral:o}=this;t&&e===K4?n.showItem(t):i&&e===W4?n.showItem(i):o&&e===U4?n.showItem(o):n.showFirstItem()}onTabItemClicked(e){let t=null;switch(e.item){case this.tabItemColumns:t=K4;break;case this.tabItemFilter:t=W4;break;case this.tabItemGeneral:t=U4}t&&this.activateTab(t)}activateTab(e){const t={type:"tabSelected",key:e};this.dispatchLocalEvent(t)}createMainPanel(){const{beans:e,column:t}=this,n=e.colMenuFactory,i=n.createMenu(this,n.getMenuItems(t),this.column,()=>{var e;return null!==(e=this.sourceElement)&&void 0!==e?e:this.getGui()});this.mainMenuList=i,i.addEventListener("closeMenu",this.onHidePopup.bind(this));const o={title:hW("legacyMenu",e,t),titleLabel:U4.replace("MenuTab",""),bodyPromise:PG.resolve(i.getGui()),name:U4};return this.tabItemGeneral=o,o}onHidePopup(e){this.beans.menuUtils.closePopupAndRestoreFocusOnSelect(this.hidePopupFunc,this.restoreFocusParams,e)}createFilterPanel(){const e=this.column?this.createBean(new cH(this.column,"COLUMN_MENU")):null;this.filterComp=e,null!==e&&void 0!==e&&e.hasFilter()||oB(119);return this.tabItemFilter={title:hW("filterTab",this.beans,this.column),titleLabel:W4.replace("MenuTab",""),bodyPromise:PG.resolve(null===e||void 0===e?void 0:e.getGui()),afterAttachedCallback:t=>null===e||void 0===e?void 0:e.afterGuiAttached(t),afterDetachedCallback:()=>null===e||void 0===e?void 0:e.afterGuiDetached(),name:W4},this.tabItemFilter}createColumnsPanel(){const e=MN({tag:"div",cls:"ag-menu-column-select-wrapper"}),{beans:t,column:n}=this,i=t.colChooserFactory.createColumnSelectPanel(this,n).getGui();i.classList.add("ag-menu-column-select"),e.appendChild(i);const o={title:hW("columns",t,n),titleLabel:K4.replace("MenuTab",""),bodyPromise:PG.resolve(e),name:K4};return this.tabItemColumns=o,o}afterGuiAttached(e){const{container:t,hidePopup:n}=e;this.tabbedLayout.setAfterAttachedParams({container:t,hidePopup:n}),n&&(this.hidePopupFunc=n,this.addDestroyFunc(n))}getGui(){return this.tabbedLayout.getGui()}destroy(){super.destroy(),this.destroyBean(this.filterComp)}},Z4=class extends AG{constructor(e,t,n,i){super({tag:"div",ref:"eColumnMenu",cls:"ag-menu ag-column-menu",role:"presentation"}),this.menuItems=e,this.column=t,this.restoreFocusParams=n,this.sourceElement=i,this.eColumnMenu=kG}postConstruct(){const e=this.beans.colMenuFactory.createMenu(this,this.menuItems,this.column,()=>{var e;return null!==(e=this.sourceElement)&&void 0!==e?e:this.getGui()});this.mainMenuList=e,e.addEventListener("closeMenu",this.onHidePopup.bind(this)),this.eColumnMenu.appendChild(e.getGui())}onHidePopup(e){this.beans.menuUtils.closePopupAndRestoreFocusOnSelect(this.hidePopupFunc,this.restoreFocusParams,e)}afterGuiAttached(e){let{hidePopup:t}=e;t&&(this.hidePopupFunc=t,this.addDestroyFunc(t)),gV(this.mainMenuList.getGui())}};var $4={moduleName:"MenuCore",version:n5,beans:[class extends vO{constructor(){super(...arguments),this.beanName="menuItemMapper"}mapWithStockItems(e,t,n,i,o){if(!e)return[];const r=[],s=this.getLocaleTextFunc(),{beans:a,gos:l}=this,{pinnedCols:u,colAutosize:c,aggFuncSvc:h,rowGroupColsSvc:p,colNames:g,colModel:m,clipboardSvc:v,expansionSvc:f,focusSvc:w,csvCreator:C,excelCreator:b,menuSvc:y,colChooserFactory:S,sortSvc:x,chartMenuItemMapper:D,valueColsSvc:E,pinnedRowModel:F}=a,k=(e,t,i,o)=>{switch(function(e,t){const n=B4[t];n&&e.assertModuleRegistered(n,"menu item '".concat(t,"'"))}(l,e),e){case"pinSubMenu":return u&&t?{name:s("pinColumn","Pin Column"),icon:hW("menuPin",a,null),subMenu:["clearPinned","pinLeft","pinRight"]}:null;case"pinLeft":return u&&t?{name:s("pinLeft","Pin Left"),action:()=>u.setColsPinned([t],"left",o),checked:!!t&&t.isPinnedLeft()}:null;case"pinRight":return u&&t?{name:s("pinRight","Pin Right"),action:()=>u.setColsPinned([t],"right",o),checked:!!t&&t.isPinnedRight()}:null;case"clearPinned":return u&&t?{name:s("noPin","No Pin"),action:()=>u.setColsPinned([t],null,o),checked:!!t&&!t.isPinned()}:null;case"pinRowSubMenu":{var r,d;const e=l.get("enableRowPinning"),i=[],o=null!==(r=null===n||void 0===n?void 0:n.rowPinned)&&void 0!==r?r:null===n||void 0===n||null===(d=n.pinnedSibling)||void 0===d?void 0:d.rowPinned;return o&&i.push("unpinRow"),e&&"bottom"!==e&&"top"!=o&&i.push("pinTop"),e&&"top"!==e&&"bottom"!=o&&i.push("pinBottom"),null!==F&&void 0!==F&&F.isManual()?{name:s("pinRow","Pin Row"),icon:hW("rowPin",a,t),subMenu:i}:null}case"pinTop":return null!==F&&void 0!==F&&F.isManual()?{name:s("pinTop","Pin to Top"),icon:hW("rowPinTop",a,t),action:e=>{let{node:t,column:n}=e;return t&&F.pinRow(t,"top",n)}}:null;case"pinBottom":return null!==F&&void 0!==F&&F.isManual()?{name:s("pinBottom","Pin to Bottom"),icon:hW("rowPinBottom",a,t),action:e=>{let{node:t,column:n}=e;return t&&F.pinRow(t,"bottom",n)}}:null;case"unpinRow":return null!==F&&void 0!==F&&F.isManual()?{name:s("unpinRow","Unpin Row"),icon:hW("rowUnpin",a,t),action:e=>{let{node:t,column:n}=e;return t&&F.pinRow(t,null,n)}}:null;case"valueAggSubMenu":return h&&E&&(null!==t&&void 0!==t&&t.isPrimary()||null!==t&&void 0!==t&&t.getColDef().pivotValueColumn)?{name:s("valueAggregation","Value Aggregation"),icon:hW("menuValue",a,null),subMenu:z4(t,h,E,s),disabled:l.get("functionsReadOnly")}:null;case"autoSizeThis":return c?{name:s("autosizeThisColumn","Autosize This Column"),action:()=>c.autoSizeColumn(t,o,l.get("skipHeaderOnAutoSize"))}:null;case"autoSizeAll":return c?{name:s("autosizeAllColumns","Autosize All Columns"),action:()=>c.autoSizeAllColumns({source:o,skipHeader:l.get("skipHeaderOnAutoSize")})}:null;case"rowGroup":return p?{name:s("groupBy","Group by")+" "+g.getDisplayNameForColumn(t,"header"),disabled:l.get("functionsReadOnly")||(null===t||void 0===t?void 0:t.isRowGroupActive())||!(null!==t&&void 0!==t&&t.getColDef().enableRowGroup),action:()=>p.addColumns([t],o),icon:hW("menuAddRowGroup",a,null)}:null;case"rowUnGroup":if(p&&l.isModuleRegistered("SharedRowGrouping")){const e=null===t||void 0===t?void 0:t.getColDef().showRowGroup,n=l.get("groupLockGroupColumns");let i,r,u;var k;if(!0===e)i=s("ungroupAll","Un-Group All"),r=l.get("functionsReadOnly")||-1===n||n>=(null!==(k=p.columns.length)&&void 0!==k?k:0),u=()=>p.setColumns(p.columns.slice(0,n),o);else if("string"===typeof e){const t=m.getColDefCol(e),n=null!=t?g.getDisplayNameForColumn(t,"header"):e;i=s("ungroupBy","Un-Group by")+" "+n,r=l.get("functionsReadOnly")||n4(t,a),u=()=>{p.removeColumns([e],o)}}else i=s("ungroupBy","Un-Group by")+" "+g.getDisplayNameForColumn(t,"header"),r=l.get("functionsReadOnly")||!(null!==t&&void 0!==t&&t.isRowGroupActive())||!(null!==t&&void 0!==t&&t.getColDef().enableRowGroup)||n4(t,a),u=()=>p.removeColumns([t],o);return{name:i,disabled:r,action:u,icon:hW("menuRemoveRowGroup",a,null)}}return null;case"resetColumns":return{name:s("resetColumns","Reset Columns"),action:()=>vG(a,o)};case"expandAll":return f?{name:s("expandAll","Expand All Row Groups"),action:()=>f.expandAll(!0)}:null;case"contractAll":return f?{name:s("collapseAll","Collapse All Row Groups"),action:()=>f.expandAll(!1)}:null;case"copy":return v?{name:s("copy","Copy"),shortcut:s("ctrlC","Ctrl+C"),icon:hW("clipboardCopy",a,null),action:()=>v.copyToClipboard()}:null;case"copyWithHeaders":return v?{name:s("copyWithHeaders","Copy with Headers"),icon:hW("clipboardCopy",a,null),action:()=>v.copyToClipboard({includeHeaders:!0})}:null;case"copyWithGroupHeaders":return v?{name:s("copyWithGroupHeaders","Copy with Group Headers"),icon:hW("clipboardCopy",a,null),action:()=>v.copyToClipboard({includeHeaders:!0,includeGroupHeaders:!0})}:null;case"cut":if(v){const e=w.getFocusedCell(),t=e?Tz(a,e):null,n=!!t&&(null===e||void 0===e?void 0:e.column.isCellEditable(t));return{name:s("cut","Cut"),shortcut:s("ctrlX","Ctrl+X"),icon:hW("clipboardCut",a,null),disabled:!n||l.get("suppressCutToClipboard"),action:()=>v.cutToClipboard(void 0,"contextMenu")}}return null;case"paste":return v?{name:s("paste","Paste"),shortcut:s("ctrlV","Ctrl+V"),disabled:!0,icon:hW("clipboardPaste",a,null),action:()=>v.pasteFromClipboard()}:null;case"export":{const e=[];return!l.get("suppressCsvExport")&&C&&e.push("csvExport"),!l.get("suppressExcelExport")&&b&&e.push("excelExport"),e.length?{name:s("export","Export"),subMenu:e,icon:hW("save",a,null)}:null}case"csvExport":return C?{name:s("csvExport","CSV Export"),icon:hW("csvExport",a,null),action:()=>C.exportDataAsCsv()}:null;case"excelExport":return b?{name:s("excelExport","Excel Export"),icon:hW("excelExport",a,null),action:()=>b.exportDataAsExcel()}:null;case"separator":return e;case"pivotChart":case"chartRange":return D.getChartItems(e);case"columnFilter":return y&&t?{name:s("columnFilter","Column Filter"),icon:hW("filter",a,null),action:()=>y.showFilterMenu({column:t,buttonElement:i(),containerType:"columnFilter",positionBy:"button"})}:null;case"columnChooser":{const e=w.focusedHeader;return S?{name:s("columnChooser","Choose Columns"),icon:hW("columns",a,null),action:()=>S.showColumnChooser({column:t,eventSource:i(),headerPosition:e})}:null}case"sortAscending":return x?{name:s("sortAscending","Sort Ascending"),icon:hW("sortAscending",a,null),action:()=>x.setSortForColumn(t,"asc",!1,o)}:null;case"sortDescending":return x?{name:s("sortDescending","Sort Descending"),icon:hW("sortDescending",a,null),action:()=>x.setSortForColumn(t,"desc",!1,o)}:null;case"sortUnSort":return x?{name:s("sortUnSort","Clear Sort"),icon:hW("sortUnSort",a,null),action:()=>x.setSortForColumn(t,null,!1,o)}:null;default:return iB(176,{key:e}),null}};return e.forEach(e=>{let s;if(s="string"===typeof e?k(e,t,i,o):d({},e),!s)return;const a=s,{subMenu:l}=a;l&&l instanceof Array&&(a.subMenu=this.mapWithStockItems(l,t,n,i,o)),null!=s&&r.push(s)}),G4(r,O4),r}},class extends vO{constructor(){super(...arguments),this.beanName="chartMenuItemMapper"}getChartItems(e){var t;const n=this.beans,i=n.chartSvc,o="pivotChart"===e;if(!i)return null;const r=this.getLocaleTextFunc.bind(this),s=o?new L4(n,i,r):new N4(n,i,r),a=i.isEnterprise();let l=s.getMenuItem();if(l&&l.subMenu&&!a){const e=t=>{var n;return d(d({},t),{},{subMenu:null===(n=t.subMenu)||void 0===n?void 0:n.filter(e=>!e._enterprise).map(t=>e(t))})};l=e(l)}const u=null===(t=this.gos.get("chartToolPanelsDef"))||void 0===t||null===(t=t.settingsPanel)||void 0===t?void 0:t.chartGroupsDef;return u&&(l=this.filterAndOrderChartMenu(l,u,s.getConfigLookup())),this.cleanInternals(l)}cleanInternals(e){if(!e)return e;const t=e=>{var n;return null===e||void 0===e||delete e._key,null===e||void 0===e||delete e._enterprise,null===e||void 0===e||null===(n=e.subMenu)||void 0===n||n.forEach(e=>t(e)),e};return t(e)}buildLookup(e){const t={},n=e=>{t[e._key]=e,e.subMenu&&e.subMenu.forEach(e=>n(e))};return n(e),t}filterAndOrderChartMenu(e,t,n){var i;const o=this.buildLookup(e),r=d(d({},e),{},{subMenu:[]});for(const l of Object.keys(t)){const e=t[l],i=n[l];if(null===i)continue;if(void 0==i){iB(173,{group:l});continue}const u=o[i._key];if(u)if(u.subMenu){const t=e.map(e=>{const t=i[e];if(void 0!=t)return o[t];iB(174,{group:l,chartType:e})}).filter(e=>void 0!==e);var s;if(t.length>0)u.subMenu=t,null===(s=r.subMenu)||void 0===s||s.push(u)}else{var a;null===(a=r.subMenu)||void 0===a||a.push(u)}}return 0==(null===(i=r.subMenu)||void 0===i?void 0:i.length)?null:r}},class extends vO{constructor(){super(...arguments),this.beanName="menuUtils"}restoreFocusOnClose(e,t,n,i){const{eventSource:o}=e,r=n instanceof KeyboardEvent;if(!i&&!r||!o)return;const s=SB(this.beans);(t.contains(s)||EB(this.beans))&&this.focusHeaderCell(e)}closePopupAndRestoreFocusOnSelect(e,t,n){let i;n&&n.keyboardEvent&&(i=n.keyboardEvent),e(i&&{keyboardEvent:i});const o=this.beans,r=o.focusSvc,s=r.getFocusedCell();if(EB(o))if(s){const{rowIndex:e,rowPinned:t,column:n}=s;r.setFocusedCell({rowIndex:e,column:n,rowPinned:t,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}else this.focusHeaderCell(t)}onContextMenu(e){const{mouseEvent:t,touchEvent:n,showMenuCallback:i,source:o}=e;if(!this.gos.get("allowContextMenuWithControlKey")&&t&&(t.ctrlKey||t.metaKey))return;if(t&&this.blockMiddleClickScrollsIfNeeded(t),"ui"===o&&this.gos.get("suppressContextMenu"))return;if(i(null!==t&&void 0!==t?t:n.touches[0])){const e=null!==t&&void 0!==t?t:n;e&&e.cancelable&&e.preventDefault()}}async focusHeaderCell(e){const{column:t,columnIndex:n,headerPosition:i,eventSource:o}=e,{visibleCols:r,headerNavigation:s,focusSvc:a}=this.beans,l=await r.allCols.some(e=>e===t);if(this.isAlive())if(null!==t&&void 0!==t&&t.isAlive()&&l&&o&&hN(o)){const e=vV(o);e&&(null===s||void 0===s||s.scrollToColumn(t),e.focus())}else if(i&&-1!==n){const e=r.allCols,t=e[n]||_O(e);t&&a.focusHeaderPosition({headerPosition:{headerRowIndex:i.headerRowIndex,column:t}})}}blockMiddleClickScrollsIfNeeded(e){this.gos.get("suppressMiddleClickScrolls")&&2===e.which&&e.preventDefault()}}],icons:{chart:"chart",columns:"columns",loadingMenuItems:"loading",menuPin:"pin",menuValue:"aggregation",menuAddRowGroup:"group",menuRemoveRowGroup:"group",clipboardCopy:"copy",clipboardCut:"cut",clipboardPaste:"paste",save:"save",csvExport:"csv",excelExport:"excel",sortAscending:"asc",sortDescending:"desc",sortUnSort:"none"},dependsOn:[i5,ZZ,qZ,z3]},X4={moduleName:"ColumnMenu",version:n5,beans:[class extends vO{constructor(){super(...arguments),this.beanName="enterpriseMenuFactory"}hideActiveMenu(){this.destroyBean(this.activeMenu)}showMenuAfterMouseEvent(e,t,n,i,o){const{column:r,columnGroup:s}=this.splitColumnOrGroup(e),a=o?"filterMenuTab":void 0;this.showMenu(r,s,e=>{const i=e.getGui();var o;(this.beans.popupSvc.positionPopupUnderMouseEvent({type:n,column:r,mouseEvent:t,ePopup:i}),a)&&(null===(o=e.showTab)||void 0===o||o.call(e,a));this.dispatchVisibleChangedEvent(!0,!1,r,s,a)},n,a,void 0,t.target,i)}splitColumnOrGroup(e){const t=e&&DO(e);return{column:t?e:void 0,columnGroup:t?void 0:e}}showMenuAfterButtonClick(e,t,n,i,o){let r=-1,s="left";this.gos.get("enableRtl")&&(r=1,s="right");const a=o?"filterMenuTab":void 0,l=a?[a]:void 0,u=tO(this.gos),c=(u?9:4)*r,d=u?-23:4,{column:h,columnGroup:p}=this.splitColumnOrGroup(e);this.showMenu(h,p,e=>{const i=e.getGui();var o;(this.beans.popupSvc.positionPopupByComponent({type:n,column:h,eventSource:t,ePopup:i,alignSide:s,nudgeX:c,nudgeY:d,position:"under",keepWithinBounds:!0}),a)&&(null===(o=e.showTab)||void 0===o||o.call(e,a));this.dispatchVisibleChangedEvent(!0,!1,h,p,a)},n,a,l,t,i)}showMenu(e,t,n,i,o,r,s,a){const l=this.getMenuParams(e,t,r,s);if(!l)return;const{menu:u,eMenuGui:c,anchorToElement:d,restoreFocusParams:h}=l,p=[],{menuUtils:g,popupSvc:m}=this.beans;p.push(t=>{const n=u.getGui();this.destroyBean(u),e&&(oW(e,!1,"contextMenu"),g.restoreFocusOnClose(h,n,t)),null===a||void 0===a||a()});const v=this.getLocaleTextFunc();var f;(m.addPopup({modal:!0,eChild:c,closeOnEsc:!0,closedCallback:n=>{p.forEach(e=>e(n)),this.dispatchVisibleChangedEvent(!1,!1,e,t,o)},afterGuiAttached:e=>u.afterGuiAttached(Object.assign({},{container:i},e)),positionCallback:o?()=>n(u):void 0,ariaLabel:v("ariaLabelColumnMenu","Column Menu")}),o)||(null===(f=u.showTabBasedOnPreviousSelection)||void 0===f||f.call(u),n(u));if(nO(this.gos)){const t=m.setPopupPositionRelatedToElement(c,d);t&&e&&this.addStopAnchoring(t,e,p)}u.addEventListener("tabSelected",t=>{this.dispatchVisibleChangedEvent(!1,!0,e),this.lastSelectedTab=t.key,this.dispatchVisibleChangedEvent(!0,!0,e)}),e&&oW(e,!0,"contextMenu"),this.activeMenu=u,u.addEventListener("destroyed",()=>{this.activeMenu===u&&(this.activeMenu=null)})}addStopAnchoring(e,t,n){e.then(e=>{t.__addEventListener("leftChanged",e),t.__addEventListener("visibleChanged",e),n.push(()=>{t.__removeEventListener("leftChanged",e),t.__removeEventListener("visibleChanged",e)})})}getMenuParams(e,t,n,i){const{focusSvc:o,visibleCols:r,ctrlsSvc:s}=this.beans,a={column:e,headerPosition:o.focusedHeader,columnIndex:r.allCols.indexOf(e),eventSource:i},l=this.createMenu(e,t,a,n,i);return l?{menu:l,eMenuGui:l.getGui(),anchorToElement:i||s.getGridBodyCtrl().eGridBody,restoreFocusParams:a}:void 0}createMenu(e,t,n,i,o){if(tO(this.gos))return this.createBean(new Y4(e,n,this.lastSelectedTab,i,o));{const i=this.beans.colMenuFactory.getMenuItems(e,t);return i.length?this.createBean(new Z4(i,e,n,o)):void 0}}dispatchVisibleChangedEvent(e,t,n,i,o){var r,s;this.eventSvc.dispatchEvent({type:"columnMenuVisibleChanged",visible:e,switchingTab:t,key:null!==(r=null!==(s=this.lastSelectedTab)&&void 0!==s?s:o)&&void 0!==r?r:tO(this.gos)?U4:"columnMenu",column:null!==n&&void 0!==n?n:null,columnGroup:null!==i&&void 0!==i?i:null})}isMenuEnabled(e){var t,n;if(!tO(this.gos))return!0;const i=!(null!==(t=this.beans.filterManager)&&void 0!==t&&t.isFilterAllowed(e)),o=null!==(n=e.getColDef().menuTabs)&&void 0!==n?n:q4;return(i&&o.includes(W4)?o.length-1:o.length)>0}showMenuAfterContextMenuEvent(e,t,n){this.beans.menuUtils.onContextMenu({mouseEvent:t,touchEvent:n,source:"ui",showMenuCallback:t=>(this.showMenuAfterMouseEvent(e,t,"columnMenu"),!0)})}},class extends vO{constructor(){super(...arguments),this.beanName="colMenuFactory"}createMenu(e,t,n,i){const o=e.createManagedBean(new a4(0,{column:null!==n&&void 0!==n?n:null,node:null,value:null})),r=this.beans.menuItemMapper.mapWithStockItems(t,null!==n&&void 0!==n?n:null,null,i,"columnMenu");return o.addMenuItems(r),o}getMenuItems(){var e,t;let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const o=this.getDefaultMenuOptions(n);let r;const s=null===(e=null!==(t=null===n||void 0===n?void 0:n.getColDef())&&void 0!==t?t:null===i||void 0===i?void 0:i.getColGroupDef())||void 0===e?void 0:e.mainMenuItems;if(Array.isArray(s))r=s;else if("function"===typeof s)r=s(iO(this.gos,{column:n,columnGroup:i,defaultItems:o}));else{const e=this.gos.getCallback("getMainMenuItems");r=e?e({column:n,columnGroup:i,defaultItems:o}):o}return G4(r,O4),r}getDefaultMenuOptions(e){var t;const n=[],{beans:i,gos:o}=this,{colChooserFactory:r,rowGroupColsSvc:s,colModel:a,expansionSvc:l,sortSvc:u,menuSvc:c,pinnedCols:d,aggFuncSvc:h,colAutosize:p}=i,g=tO(o),m=()=>{!g&&r&&n.push("columnChooser"),n.push("resetColumns")};if(!e)return m(),n;const{colDef:v}=e,f=d&&!v.lockPinned,w=null!==(t=null===s||void 0===s?void 0:s.columns.length)&&void 0!==t?t:0,C=w>0,b=e.isPrimary(),y=h&&b&&C&&e.isAllowValue()||!b;if(u&&!g&&e.isSortable()){const t=e.getSort();"asc"!==t&&n.push("sortAscending"),"desc"!==t&&n.push("sortDescending"),t&&n.push("sortUnSort"),n.push(O4)}if(null!==c&&void 0!==c&&c.isFilterMenuItemEnabled(e)&&(n.push("columnFilter"),n.push(O4)),f&&n.push("pinSubMenu"),y&&n.push("valueAggSubMenu"),(f||y)&&n.push(O4),p&&(n.push("autoSizeThis"),n.push("autoSizeAll"),n.push(O4)),s&&o.isModuleRegistered("SharedRowGrouping")){const t=n.length;if(v.showRowGroup)n.push("rowUnGroup");else if(e.isAllowRowGroup()&&b)if(e.isRowGroupActive()){n4(e,i)||n.push("rowUnGroup")}else n.push("rowGroup");n.length>t&&n.push(O4)}return m(),l&&uB(o)&&(o.get("treeData")||w>(a.isPivotMode()?1:0))&&(n.push("expandAll"),n.push("contractAll")),n}},class extends vO{constructor(){super(...arguments),this.beanName="colChooserFactory"}createColumnSelectPanel(e,t,n,i){var o;const r=e.createManagedBean(new b4),s=null!==(o=null!==i&&void 0!==i?i:null===t||void 0===t?void 0:t.getColDef().columnChooserParams)&&void 0!==o?o:{},{contractColumnSelection:a,suppressColumnExpandAll:l,suppressColumnFilter:u,suppressColumnSelectAll:c,suppressSyncLayoutWithGrid:d,columnLayout:h}=s;return r.init(!!n,iO(this.gos,{suppressColumnMove:!1,suppressValues:!1,suppressPivots:!1,suppressRowGroups:!1,suppressPivotMode:!1,contractColumnSelection:!!a,suppressColumnExpandAll:!!l,suppressColumnFilter:!!u,suppressColumnSelectAll:!!c,suppressSyncLayoutWithGrid:!!h||!!d,onStateUpdated:()=>{}}),"columnMenu"),h&&r.setColumnLayout(h),r}showColumnChooser(e){var t,n;let{column:i,chooserParams:o,eventSource:r,headerPosition:s}=e;this.hideActiveColumnChooser();const a=this.createColumnSelectPanel(this,i,!0,o),l=this.getLocaleTextFunc(),u=this.beans,{visibleCols:c,focusSvc:d,menuUtils:h}=u,p=c.allCols.indexOf(i),g=i&&null!==(t=null!==(n=d.focusedHeader)&&void 0!==n?n:s)&&void 0!==t?t:null;this.activeColumnChooserDialog=this.createBean(new y5({title:l("chooseColumns","Choose Columns"),component:a,width:300,height:300,resizable:!0,movable:!0,centered:!0,closable:!0,afterGuiAttached:()=>{var e;null===(e=mV(u,a.getGui()))||void 0===e||e.focus({preventScroll:!0}),this.dispatchVisibleChangedEvent(!0,i)},closedCallback:e=>{const t=this.activeColumnChooser.getGui();this.destroyBean(this.activeColumnChooser),this.activeColumnChooser=void 0,this.activeColumnChooserDialog=void 0,this.dispatchVisibleChangedEvent(!1,i),i&&h.restoreFocusOnClose({column:i,headerPosition:g,columnIndex:p,eventSource:r},t,e,!0)},postProcessPopupParams:{type:"columnChooser",column:i,eventSource:r}})),this.activeColumnChooser=a}hideActiveColumnChooser(){this.destroyBean(this.activeColumnChooserDialog)}dispatchVisibleChangedEvent(e,t){this.eventSvc.dispatchEvent({type:"columnMenuVisibleChanged",visible:e,switchingTab:!1,key:"columnChooser",column:null!==t&&void 0!==t?t:null})}}],icons:{ensureColumnVisible:"column-arrow",legacyMenu:"menu",filterTab:"filter",columnSelectClosed:"tree-closed",columnSelectOpen:"tree-open",columnSelectIndeterminate:"tree-indeterminate"},apiFunctions:{showColumnChooser:function(e,t){var n;null===(n=e.colChooserFactory)||void 0===n||n.showColumnChooser({chooserParams:t})},hideColumnChooser:function(e){var t;null===(t=e.colChooserFactory)||void 0===t||t.hideActiveColumnChooser()}},dependsOn:[$4,eK,hK]},Q4={moduleName:"ContextMenu",version:n5,beans:[class extends vO{constructor(){super(...arguments),this.beanName="contextMenuSvc",this.destroyLoadingSpinner=null,this.lastPromise=0}hideActiveMenu(){this.destroyBean(this.activeMenu)}getMenuItems(e,t,n,i){var o;const r=[],{clipboardSvc:s,chartSvc:a,csvCreator:l,excelCreator:u,colModel:c,rangeSvc:d,gos:h}=this.beans;if(UI(e)&&s&&t&&(h.get("suppressCutToClipboard")||r.push("cut"),r.push("copy","copyWithHeaders","copyWithGroupHeaders","paste","separator")),h.get("enableCharts")&&a&&(c.isPivotMode()&&r.push("pivotChart"),d&&!d.isEmpty()&&r.push("chartRange")),UI(e)){const t=h.get("enableRowPinning"),n=h.get("isRowPinnable");if(t){const t=e.level>-1&&e.footer,i=-1===e.level&&e.footer,o=PB(h);if(i&&!("pinnedBottom"===o||"pinnedTop"===o)||!i&&!t){var p;(null===(p=null===n||void 0===n?void 0:n(e))||void 0===p||p)&&r.push("pinRowSubMenu")}}const i=h.get("suppressExcelExport")||!u,o=h.get("suppressCsvExport")||!l;!WL()&&(!i||!o)&&r.push("export")}const g=r.length?r:void 0,m=null===t||void 0===t?void 0:t.getColDef().contextMenuItems;if(Array.isArray(m))return m;if("function"===typeof m)return m(iO(h,{column:t,node:e,value:n,defaultItems:g,event:i}));const v=h.getCallback("getContextMenuItems");return null!==(o=null===v||void 0===v?void 0:v({column:t,node:e,value:n,defaultItems:g,event:i}))&&void 0!==o?o:r}getContextMenuPosition(e,t){const n=this.getRowCtrl(e),i=this.getCellGui(n,t);var o;if(!i)return{x:0,y:null!==(o=null===n||void 0===n?void 0:n.getRowYPosition())&&void 0!==o?o:0};const r=i.getBoundingClientRect();return{x:r.x+r.width/2,y:r.y+r.height/2}}showContextMenu(e){var t,n,i,o;const r=null!==(t=e.rowNode)&&void 0!==t?t:null,s=null!==(n=e.column)&&void 0!==n?n:null;let{anchorToElement:a,value:l,source:u}=e;r&&s&&null==l&&(l=this.beans.valueSvc.getValueForDisplay(s,r).value),null==a&&(a=this.getContextMenuAnchorElement(r,s)),this.beans.menuUtils.onContextMenu({mouseEvent:null!==(i=e.mouseEvent)&&void 0!==i?i:null,touchEvent:null!==(o=e.touchEvent)&&void 0!==o?o:null,showMenuCallback:e=>this.showMenu(r,s,l,e,a),source:u})}handleContextMenuMouseEvent(e,t,n,i){var o,r,s,a,l;const u=null!==(o=null!==(r=null===i||void 0===i?void 0:i.rowNode)&&void 0!==r?r:null===n||void 0===n?void 0:n.rowNode)&&void 0!==o?o:null,c=null!==(s=null!==(a=null===i||void 0===i?void 0:i.column)&&void 0!==a?a:null===n||void 0===n||null===(l=n.findFullWidthInfoForEvent(e||t))||void 0===l?void 0:l.column)&&void 0!==s?s:null,{valueSvc:d,ctrlsSvc:h}=this.beans,p=c?d.getValue(c,u):null,g=h.getGridBodyCtrl(),m=i?i.eGui:g.eGridBody;this.showContextMenu({mouseEvent:e,touchEvent:t,rowNode:u,column:c,value:p,anchorToElement:m,source:"ui"})}showMenu(e,t,n,i,o){const r=this.getMenuItems(e,t,n,i);if("function"===typeof r.then){const s=this.lastPromise+1;return this.lastPromise=s,this.destroyLoadingSpinner||this.createLoadingIcon(i),r.then(r=>{var a,l;if(this.lastPromise!==s)return;const{target:u}=i,c=!u;r&&r.length&&(c||hN(u))&&!(null!==(a=this.beans.overlays)&&void 0!==a&&a.isExclusive())&&this.createContextMenu({menuItems:r,node:e,column:t,value:n,mouseEvent:i,anchorToElement:o}),null===(l=this.destroyLoadingSpinner)||void 0===l||l.call(this)}),!0}return!(void 0===r||null===r||void 0===r||!r.length)&&(this.createContextMenu({menuItems:r,node:e,column:t,value:n,mouseEvent:i,anchorToElement:o}),!0)}createLoadingIcon(e){var t;const{beans:n}=this,i=this.getLocaleTextFunc(),o=hW("loadingMenuItems",n),r=MN({tag:"div",cls:"ag-context-menu-loading-icon"});r.appendChild(o);const s=yB(n),a=xB(n);if(!a)return void iB(54);a.appendChild(r),null===(t=n.ariaAnnounce)||void 0===t||t.announceValue(i("ariaLabelLoadingContextMenu","Loading Context Menu"),"contextmenu"),n.environment.applyThemeClasses(r),DB(r,e,n);const l=e=>{DB(r,e,n)};s.addEventListener("mousemove",l),this.destroyLoadingSpinner=()=>{s.removeEventListener("mousemove",l),a.removeChild(r),this.destroyLoadingSpinner=null}}createContextMenu(e){const{menuItems:t,node:n,column:i,value:o,mouseEvent:r,anchorToElement:s}=e,{ctrlsSvc:a,focusSvc:l,popupSvc:u}=this.beans,c=a.getGridBodyCtrl().eGridBody,h=new H4(t,i,n,o);this.createBean(h);const p=h.getGui();i||l.clearFocusedCell();const g={column:i,rowNode:n,type:"contextMenu",mouseEvent:r,ePopup:p,nudgeY:1},m=this.getLocaleTextFunc(),v=null===u||void 0===u?void 0:u.addPopup({modal:!0,eChild:p,closeOnEsc:!0,closedCallback:e=>{AN(this.beans,()=>{c.classList.remove(V4),this.destroyBean(h),this.dispatchVisibleChangedEvent(!1,void 0===e?"api":"ui")})},click:r,positionCallback:()=>{const e=this.gos.get("enableRtl");null===u||void 0===u||u.positionPopupUnderMouseEvent(d(d({},g),{},{nudgeX:e?-1*(p.offsetWidth+1):1}))},anchorToElement:s,ariaLabel:m("ariaLabelContextMenu","Context Menu")});v&&(c.classList.add(V4),h.afterGuiAttached({container:"contextMenu",hidePopup:v.hideFunc})),this.activeMenu&&this.hideActiveMenu(),this.activeMenu=h,h.addEventListener("destroyed",()=>{this.activeMenu===h&&(this.activeMenu=null)}),v&&h.addEventListener("closeMenu",e=>{var t,n;return v.hideFunc({mouseEvent:null!==(t=e.mouseEvent)&&void 0!==t?t:void 0,keyboardEvent:null!==(n=e.keyboardEvent)&&void 0!==n?n:void 0,forceHide:!0})});const f=r&&r instanceof MouseEvent&&"mousedown"===r.type;this.dispatchVisibleChangedEvent(!0,f?"api":"ui")}dispatchVisibleChangedEvent(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ui";this.eventSvc.dispatchEvent({type:"contextMenuVisibleChanged",visible:e,source:t})}getRowCtrl(e){const{rowIndex:t,rowPinned:n}=e||{};if(null!=t)return this.beans.rowRenderer.getRowByPosition({rowIndex:t,rowPinned:n})||void 0}getCellGui(e,t){if(!e||!t)return;const n=e.getCellCtrl(t);return(null===n||void 0===n?void 0:n.eGui)||void 0}getContextMenuAnchorElement(e,t){const n=this.beans.ctrlsSvc.getGridBodyCtrl().eGridBody,i=this.getRowCtrl(e);if(!i)return n;const o=this.getCellGui(i,t);return o||(i.isFullWidth()?i.getFullWidthElement():n)}destroy(){var e;null===(e=this.destroyLoadingSpinner)||void 0===e||e.call(this),super.destroy()}}],apiFunctions:{showContextMenu:function(e,t){const{contextMenuSvc:n}=e;if(!n)return;const{rowNode:i,column:o,value:r,x:s,y:a}=t||{};let{x:l,y:u}=n.getContextMenuPosition(i,o);null!=s&&(l=s),null!=a&&(u=a),n.showContextMenu({mouseEvent:new MouseEvent("mousedown",{clientX:l,clientY:u}),rowNode:i,column:o,value:r,source:"api"})}},dependsOn:[$4]},J4=class extends aW{constructor(){super({tag:"div",cls:"ag-cell-edit-wrapper"}),this.isAsync=!1}initialiseEditor(e){const{cellStartedEdit:t,values:n,eventKey:i}=this.params;KI(n)&&iB(180);const{params:o,valuesPromise:r}=this.buildRichSelectParams(),s=this.createManagedBean(new Y5(o));this.eEditor=s,s.addCss("ag-cell-editor"),this.appendChild(s),r&&(this.isAsync=!0,r.then(e=>{s.setValueList({valueList:e,refresh:!0});const t=this.getSearchStringCallback(e);t&&s.setSearchStringCreator(t),this.processEventKey(i)})),this.addManagedListeners(s,{fieldPickerValueSelected:this.onEditorPickerValueSelected.bind(this)}),this.focusAfterAttached=t}onEditorPickerValueSelected(e){"fullRow"!==this.gos.get("editType")&&setTimeout(()=>this.params.stopEditing(!e.fromEnterKey))}buildRichSelectParams(){const e=this.params,{cellRenderer:t,cellHeight:n,value:i,values:o,formatValue:r,searchDebounceDelay:s,valueListGap:a,valueListMaxHeight:l,valueListMaxWidth:u,allowTyping:c,filterList:d,searchType:h,highlightMatch:p,valuePlaceholder:g,eventKey:m,multiSelect:v,suppressDeselectAll:f,suppressMultiSelectPillRenderer:w}=e,C={value:i,cellRenderer:t,cellRowHeight:n,searchDebounceDelay:s,valueFormatter:r,pickerAriaLabelKey:"ariaLabelRichSelectField",pickerAriaLabelValue:"Rich Select Field",pickerType:"virtual-list",pickerGap:a,allowTyping:c,filterList:d,searchType:h,highlightMatch:p,maxPickerHeight:l,maxPickerWidth:u,placeholder:g,initialInputValue:1===(null===m||void 0===m?void 0:m.length)?m:void 0,multiSelect:v,suppressDeselectAll:f,suppressMultiSelectPillRenderer:w};let b,y;return b="function"===typeof o?o(e):null!==o&&void 0!==o?o:[],Array.isArray(b)?(C.valueList=b,C.searchStringCreator=this.getSearchStringCallback(b)):y=b,v&&c&&(e.allowTyping=C.allowTyping=!1,iB(181)),{params:C,valuesPromise:y}}getSearchStringCallback(e){var t;if("object"!==typeof e[0])return;const n=this.params,{colDef:i,formatValue:o}=n;if(null!==(t=i.cellEditorParams)&&void 0!==t&&t.formatValue)return e=>e.map(o);const{keyCreator:r}=i;if(r){iB(266);const{column:e,node:t,data:o}=n;return n=>n.map(n=>{const s=iO(this.gos,{value:n,colDef:i,column:e,node:t,data:o});return r(s)})}return e=>e.map(o)}afterGuiAttached(){const{focusAfterAttached:e,params:t}=this;setTimeout(()=>{if(!this.isAlive())return;const n=this.eEditor,{allowTyping:i,eventKey:o,cellStartedEdit:r}=t;if(e){const e=n.getFocusableElement();e.focus(),!i||o&&1===o.length||e.select()}r&&n.showPicker(),this.isAsync||this.processEventKey(o)})}processEventKey(e){e&&1===(null===e||void 0===e?void 0:e.length)&&this.eEditor.searchTextFromString(e)}focusIn(){this.eEditor.getFocusableElement().focus()}getValue(){var e,t;const{params:n}=this,i=this.eEditor.getValue();return null!==(e=null===(t=n.parseValue)||void 0===t?void 0:t.call(n,i))&&void 0!==e?e:i}isPopup(){return!1}getValidationElement(){return this.eEditor.getAriaElement()}getValidationErrors(){const{params:e}=this,{getValidationErrors:t}=e;return t?t({value:this.getValue(),internalErrors:null,cellEditorParams:e}):null}},e6={moduleName:"RichSelect",version:n5,beans:[],userComponents:{agRichSelect:J4,agRichSelectCellEditor:J4},icons:{richSelectOpen:"small-down",richSelectRemove:"cancel"},dependsOn:[i5,AX]},t6="__AG_SELECT_ALL__",n6="__AG_ADD_SELECTION_TO_FILTER__",i6=class{constructor(e,t,n,i){this.valueSvc=e,this.getValueFormatter=t,this.formatter=n,this.column=i,this.displayedKeys=[]}updateDisplayedValuesToAllAvailable(e,t,n){this.displayedKeys=Array.from(n)}updateDisplayedValuesToMatchMiniFilter(e,t,n,i,o){this.displayedKeys=[];const r=this.getValueFormatter();for(const s of n)if(null==s)o&&this.displayedKeys.push(s);else{const t=e(s),n=this.valueSvc.formatValue(this.column,null,t,r,!1);i(this.formatter(n))&&this.displayedKeys.push(s)}}getDisplayedValueCount(){return this.displayedKeys.length}getDisplayedItem(e){return this.displayedKeys[e]}getSelectAllItem(){return t6}getAddSelectionToFilterItem(){return n6}getDisplayedKeys(){return this.displayedKeys}forEachDisplayedKey(e){this.displayedKeys.forEach(e)}someDisplayedKey(e){return this.displayedKeys.some(e)}hasGroups(){return!1}refresh(){}},o6={tag:"div",cls:"ag-set-filter-item",attrs:{"aria-hidden":"true"},children:[{tag:"span",cls:"ag-set-filter-group-icons",children:[{tag:"span",ref:"eGroupClosedIcon",cls:"ag-set-filter-group-closed-icon"},{tag:"span",ref:"eGroupOpenedIcon",cls:"ag-set-filter-group-opened-icon"},{tag:"span",ref:"eGroupIndeterminateIcon",cls:"ag-set-filter-group-indeterminate-icon"}]},{tag:"ag-checkbox",ref:"eCheckbox",cls:"ag-set-filter-item-checkbox"}]},r6={tag:"div",cls:"ag-set-filter-item",children:[{tag:"ag-checkbox",ref:"eCheckbox",cls:"ag-set-filter-item-checkbox"}]},s6=class extends AG{constructor(e){var t;super(e.isGroup?o6:r6,[wW]),this.eCheckbox=kG,this.eGroupOpenedIcon=kG,this.eGroupClosedIcon=kG,this.eGroupIndeterminateIcon=kG,this.formattedValue=null,this.focusWrapper=e.focusWrapper,this.value=e.value,this.params=e.params,this.translate=e.translate,this.valueFormatter=e.valueFormatter,this.item=e.item,this.isSelected=e.isSelected,this.isTree=e.isTree,this.depth=null!==(t=e.depth)&&void 0!==t?t:0,this.isGroup=e.isGroup,this.groupsExist=e.groupsExist,this.isExpanded=e.isExpanded,this.hasIndeterminateExpandState=e.hasIndeterminateExpandState}postConstruct(){this.tooltipFeature=this.createOptionalManagedBean(this.beans.registry.createDynamicBean("tooltipFeature",!1,{getGui:()=>this.getGui(),getColDef:()=>this.params.colDef,getColumn:()=>this.params.column,getLocation:()=>"setFilterValue",shouldDisplayTooltip:()=>{var e,t;return null===(e=null===(t=this.shouldDisplayTooltip)||void 0===t?void 0:t.call(this))||void 0===e||e},getValueFormatted:()=>this.formattedValue,getAdditionalParams:()=>this.isTree?{level:this.depth}:{}})),this.addDestroyFunc(()=>{var e;return null===(e=this.destroyCellRendererComponent)||void 0===e?void 0:e.call(this)}),this.render(),this.eCheckbox.setLabelEllipsis(!0).setValue(this.isSelected,!0).setDisabled(!!this.params.readOnly).getInputElement().setAttribute("tabindex","-1"),this.refreshVariableAriaLabels(),this.isTree&&(this.depth>0&&(this.addCss("ag-set-filter-indent-"+this.depth),this.getGui().style.setProperty("--ag-indentation-level",String(this.depth))),this.isGroup?this.setupExpansion():this.groupsExist&&this.addCss("ag-set-filter-add-group-indent"),bL(this.getAriaElement(),this.depth+1)),this.refreshAriaChecked(),this.params.readOnly||this.eCheckbox.onValueChange(e=>this.onCheckboxChanged(!!e))}getFocusableElement(){return this.focusWrapper}setupExpansion(){const{eGroupClosedIcon:e,eGroupOpenedIcon:t,eGroupIndeterminateIcon:n,hasIndeterminateExpandState:i,beans:o}=this;e.appendChild(dW("setFilterGroupClosed",o,null)),t.appendChild(dW("setFilterGroupOpen",o,null));const r=this.onExpandOrContractClicked.bind(this);this.addManagedElementListeners(e,{click:r}),this.addManagedElementListeners(t,{click:r}),i&&(n.appendChild(dW("setFilterGroupIndeterminate",o,null)),this.addManagedElementListeners(n,{click:r})),this.setExpandedIcons(),this.refreshAriaExpanded()}onExpandOrContractClicked(){this.setExpanded(!this.isExpanded)}setExpanded(e,t){if(this.isGroup&&e!==this.isExpanded){this.isExpanded=e;const n={type:"expandedChanged",isExpanded:!!e,item:this.item};t||this.dispatchLocalEvent(n),this.setExpandedIcons(),this.refreshAriaExpanded()}}setExpandedIcons(){const{isExpanded:e,hasIndeterminateExpandState:t,eGroupClosedIcon:n,eGroupOpenedIcon:i,eGroupIndeterminateIcon:o}=this;XL(n,t?!1===e:!e),XL(i,!0===e),t&&XL(o,void 0===e)}onCheckboxChanged(e){this.isSelected=e;const t={type:"selectionChanged",isSelected:e,item:this.item};this.dispatchLocalEvent(t),this.refreshVariableAriaLabels(),this.refreshAriaChecked()}toggleSelected(){this.params.readOnly||this.setSelected(!this.isSelected)}setSelected(e,t){this.isSelected=e,this.eCheckbox.setValue(e,t),this.refreshAriaChecked()}refreshVariableAriaLabels(){if(!this.isTree)return;const e=this.getLocaleTextFunc(),t=this.eCheckbox.getValue(),n=void 0===t?e("ariaIndeterminate","indeterminate"):t?e("ariaVisible","visible"):e("ariaHidden","hidden"),i=e("ariaToggleVisibility","Press SPACE to toggle visibility");vL(this.eCheckbox.getInputElement(),void 0),this.eCheckbox.setInputAriaLabel("".concat(i," (").concat(n,")"))}setupFixedAriaLabels(e){if(!this.isTree)return;const t=this.getLocaleTextFunc()("ariaFilterValue","Filter Value"),n=this.getAriaElement();mL(n,"".concat(e," ").concat(t)),fL(n,this.eCheckbox.getInputElement().id)}refreshAriaChecked(){NL(this.getAriaElement(),this.eCheckbox.getValue())}refreshAriaExpanded(){DL(this.getAriaElement(),!!this.isExpanded)}refresh(e,t,n){this.item=e,t!==this.isSelected&&this.setSelected(t,!0),this.setExpanded(n,!0);const{cellRendererComponent:i,cellRendererParams:o,beans:r,params:s}=this;if(this.valueFunction){const e=this.valueFunction();this.setTooltipAndCellRendererParams(e,e),i||this.renderCellWithoutCellRenderer()}if(i){var a,l;const e=JG(r.userCompFactory,s,o);if(!(null===(a=i.refresh)||void 0===a?void 0:a.call(i,null!==(l=null===e||void 0===e?void 0:e.params)&&void 0!==l?l:o))){const e=i;this.renderCell(),this.destroyBean(e)}}}render(){const{params:{column:e}}=this;let{value:t}=this,n=null;"function"===typeof t?(this.valueFunction=t,n=this.valueFunction(),t=n):n=this.isTree?qI(t):this.getFormattedValue(e,t),this.formattedValue=n,this.setTooltipAndCellRendererParams(t,n),this.renderCell()}setTooltipAndCellRendererParams(e,t){const n=this.gos;if(this.params.showTooltips&&(!AZ(n)||!this.params.cellRenderer)){var i;const o=null!=t?t:qI(e);this.shouldDisplayTooltip=RZ(n,()=>this.eCheckbox.getGui().querySelector(".ag-label")),null===(i=this.tooltipFeature)||void 0===i||i.setTooltipAndRefresh(o)}this.cellRendererParams=iO(n,{value:e,valueFormatted:t,colDef:this.params.colDef,column:this.params.column,setTooltip:(e,t)=>{var i;n.assertModuleRegistered("Tooltip",3),this.shouldDisplayTooltip=t,null===(i=this.tooltipFeature)||void 0===i||i.setTooltipAndRefresh(e)}})}getFormattedValue(e,t){return this.beans.valueSvc.formatValue(e,null,t,this.valueFormatter,!1)}renderCell(){const e=JG(this.beans.userCompFactory,this.params,this.cellRendererParams),t=null===e||void 0===e?void 0:e.newAgStackInstance();null!=t?t.then(e=>{e&&(this.cellRendererComponent=e,this.eCheckbox.setLabel(e.getGui()),this.destroyCellRendererComponent=()=>this.destroyBean(e))}):this.renderCellWithoutCellRenderer()}renderCellWithoutCellRenderer(){var e;const{valueFormatted:t,value:n}=this.cellRendererParams;let i=null!==(e=null==t?n:t)&&void 0!==e?e:this.translate("blanks");"string"!==typeof i&&(iB(208),i=""),this.eCheckbox.setLabel(i),this.setupFixedAriaLabels(i)}getComponentHolder(){return this.params.column.getColDef()}},a6={loadingOoo:"Loading...",blanks:"(Blanks)",searchOoo:"Search...",selectAll:"(Select All)",selectAllSearchResults:"(Select All Search Results)",addCurrentSelectionToFilter:"Add current selection to filter",noMatches:"No matches.",ariaSearchFilterValues:"Search filter values",ariaFilterList:"Filter List",filterSummaryListInactive:"is (All)",filterSummaryListSeparator:", ",filterSummaryListShort:e=>"is (".concat(e[0],")"),filterSummaryListLong:e=>"is (".concat(e[0],") and ").concat(e[1]," more")};function l6(e,t,n){let i=e;return i?(i=i.map(e=>qI(WI(e))),!t&&n&&i.some(e=>null==e)?null==_O(i)?null:i.filter(e=>null!=e):i):null}function u6(e,t,n){return jI(e,a6,t,n)}var c6=class{constructor(e,t,n,i){this.formatter=e,this.treeListPathGetter=t,this.treeListFormatter=n,this.treeDataOrGrouping=i,this.allDisplayedItemsTree=new Map,this.activeDisplayedItemsFlat=[],this.selectAllItem={depth:0,filterPasses:!0,available:!0,treeKey:t6,children:this.allDisplayedItemsTree,expanded:!0,key:t6,parentTreeKeys:[]},this.addSelectionToFilterItem={depth:0,filterPasses:!0,available:!0,treeKey:n6,expanded:!0,key:n6,parentTreeKeys:[]}}updateParams(e,t){this.treeListPathGetter=e,this.treeListFormatter=t}updateDisplayedValuesToAllAvailable(e,t,n,i){"reload"===i?this.generateItemTree(e,t,n):"otherFilter"===i?(this.updateAvailable(n),this.updateExpandAll()):"miniFilter"===i&&(this.resetFilter(),this.updateExpandAll()),this.flattenItems()}updateDisplayedValuesToMatchMiniFilter(e,t,n,i,o,r){"reload"===r?this.generateItemTree(e,t,n):"otherFilter"===r&&this.updateAvailable(n),this.updateFilter(i,o),this.updateExpandAll(),this.flattenItems()}generateItemTree(e,t,n){const i=new Map;this.allDisplayedItemsTree=i;let o=!1;const r=this.getTreeListPathGetter(e,n);for(const l of t){var s;const t=null!==(s=r(e(l)))&&void 0!==s?s:[null],u=t.length;u>1&&(o=!0);const c=n.has(l);let d,h=i,p=[];for(let e=0;e<u;e++){var a;const n=t[e];h||(h=new Map,d.children=h);const i=null!==(a=null===n||void 0===n?void 0:n.toUpperCase())&&void 0!==a?a:null;d=h.get(i),d||(d={treeKey:n,depth:e,filterPasses:!0,expanded:!1,available:c,parentTreeKeys:p},e===t.length-1&&(d.key=l),h.set(i,d)),h=d.children,p=[...p,n]}}this.groupsExist=o,this.updateAvailable(n),this.selectAllItem.children=i,this.selectAllItem.expanded=!1}getTreeListPathGetter(e,t){if(this.treeListPathGetter)return this.treeListPathGetter;if(this.treeDataOrGrouping)return e=>e;let n=!1;for(const i of t){const t=e(i);if(t instanceof Date){n=!0;break}if(null!=t)break}return n?e=>gH(e,!1):(iB(211),e=>[String(e)])}flattenItems(){this.activeDisplayedItemsFlat=[];const e=t=>{for(const n of t.values())n.filterPasses&&n.available&&(this.activeDisplayedItemsFlat.push(n),n.children&&n.expanded&&e(n.children))};e(this.allDisplayedItemsTree)}resetFilter(){const e=t=>{const n=t.children;if(n)for(const i of n.values())e(i);t.filterPasses=!0};for(const t of this.allDisplayedItemsTree.values())e(t)}updateFilter(e,t){const n=n=>!!n.available&&(null==n.treeKey?t:e(this.formatter(this.treeListFormatter?this.treeListFormatter(n.treeKey,n.depth,n.parentTreeKeys):n.treeKey)));for(const i of this.allDisplayedItemsTree.values())this.recursiveItemCheck(i,!1,n,"filterPasses")}getDisplayedValueCount(){return this.activeDisplayedItemsFlat.length}getDisplayedItem(e){return this.activeDisplayedItemsFlat[e]}getSelectAllItem(){return this.selectAllItem}getAddSelectionToFilterItem(){return this.addSelectionToFilterItem}getDisplayedKeys(){const e=[];return this.forEachDisplayedKey(t=>e.push(t)),e}forEachDisplayedKey(e){const t=(n,i)=>{const o=n.children;if(o){if(!n.expanded||!i)for(const e of o.values())e.filterPasses&&t(e,!1)}else e(n.key)};this.activeDisplayedItemsFlat.forEach(e=>t(e,!0))}someDisplayedKey(e){const t=(n,i)=>{const o=n.children;if(!o)return e(n.key);if(!n.expanded||!i){for(const e of o.values())if(e.filterPasses&&t(e,!1))return!0;return!1}return!1};return this.activeDisplayedItemsFlat.some(e=>t(e,!0))}hasGroups(){return this.groupsExist}refresh(){this.updateExpandAll(),this.flattenItems()}updateExpandAll(){const e=(t,n,i)=>{for(const o of t.values()){if(!o.filterPasses||!o.available||!o.children)continue;if(n=n||!!o.expanded,i=i||!o.expanded,n&&i)return;const t=e(o.children,n,i);if(void 0===t)return;t?n=!0:i=!0}return n&&i?void 0:n},t=this.getSelectAllItem();t.expanded=e(t.children,!1,!1)}recursiveItemCheck(e,t,n,i){let o=!1;const r=e.children;if(r)for(const a of r.values()){const r=this.recursiveItemCheck(a,t||n(e),n,i);o=o||r}const s=t||o||n(e);return e[i]=s,s}updateAvailable(e){const t=t=>e.has(t.key);for(const n of this.allDisplayedItemsTree.values())this.recursiveItemCheck(n,!1,t,"available")}},d6=class extends LH{constructor(){super("setFilter","set-filter"),this.filterType="set",this.eMiniFilter=kG,this.eFilterLoading=kG,this.eFilterLoadingIcon=kG,this.eSetFilterList=kG,this.eFilterNoMatches=kG,this.hardRefreshVirtualList=!1,this.miniFilterText=null,this.addCurrentSelectionToFilter=!1,this.selectedKeys=new Set}setParams(e){super.setParams(e);const t=this.updateHandler(e.getHandler()),{column:n,textFormatter:i,treeList:o,treeListPathGetter:r,treeListFormatter:s}=e;this.formatter=null!==i&&void 0!==i?i:e=>null!==e&&void 0!==e?e:null,this.displayValueModel=o?new c6(this.formatter,r,s,t.isTreeDataOrGrouping()):new i6(this.beans.valueSvc,()=>this.handler.valueFormatter,this.formatter,n),t.valueModel.allKeys.then(e=>{this.updateDisplayedValues("reload",null!==e&&void 0!==e?e:[]),this.resetSelectionState(null!==e&&void 0!==e?e:[])}),t.valueModel.isLoading()&&this.setIsLoading(!0),this.initialiseFilterBodyUi()}refresh(e){return this.params.treeList===e.treeList&&(this.updateHandler(e.getHandler()),super.refresh(e))}updateParams(e,t){super.updateParams(e,t),this.updateMiniFilter(),e.suppressSelectAll!==t.suppressSelectAll&&this.createVirtualListModel(e);const{textFormatter:n,treeListPathGetter:i,treeListFormatter:o}=e;this.formatter=null!==n&&void 0!==n?n:e=>null!==e&&void 0!==e?e:null,this.displayValueModel instanceof c6&&this.displayValueModel.updateParams(i,o),this.handler.refreshFilterValues()}updateHandler(e){var t;this.handler!==e&&(null===(t=this.handlerDestroyFuncs)||void 0===t||t.forEach(e=>e()),this.handlerDestroyFuncs=[...this.addManagedListeners(e,{anyFilterChanged:t=>{e.valueModel.allKeys.then(e=>{this.isAlive()&&(this.updateDisplayedValues("otherFilter",null!==e&&void 0!==e?e:[]),t.updated&&(this.checkAndRefreshVirtualList(),this.showOrHideResults()))})},dataChanged:t=>{let{hardRefresh:n}=t;e.valueModel.allKeys.then(e=>{var t,i;this.isAlive()&&(this.updateDisplayedValues("reload",null!==e&&void 0!==e?e:[]),this.setSelectedModel(null!==(t=null===(i=this.state.model)||void 0===i?void 0:i.values)&&void 0!==t?t:null),n&&(this.hardRefreshVirtualList=!0),this.checkAndRefreshVirtualList())})}}),...this.addManagedListeners(e.valueModel,{loadingStart:()=>this.setIsLoading(!0),loadingEnd:()=>this.setIsLoading(!1)})],this.handler=e);return e}updateUiVisibility(){}createBodyTemplate(){return{tag:"div",cls:"ag-set-filter",children:[{tag:"div",ref:"eFilterLoading",cls:"ag-filter-loading ag-loading ag-hidden",children:[{tag:"span",ref:"eFilterLoadingIcon",cls:"ag-loading-icon"},{tag:"span",cls:"ag-loading-text",children:u6(this,"loadingOoo")}]},{tag:"ag-input-text-field",ref:"eMiniFilter",cls:"ag-mini-filter"},{tag:"div",ref:"eFilterNoMatches",cls:"ag-filter-no-matches ag-hidden",children:u6(this,"noMatches")},{tag:"div",ref:"eSetFilterList",cls:"ag-set-filter-list",role:"presentation"}]}}getAgComponents(){return[qW]}handleKeyDown(e){var t,n,i;if(super.handleKeyDown(e),e.defaultPrevented)return;const o=()=>{if(!this.eSetFilterList.contains(SB(this.beans)))return;const t=this.virtualList.getLastFocusedRow();if(null==t)return;const n=this.virtualList.getComponentAt(t);if(null==n)return;e.preventDefault();const{readOnly:i}=this.params;return i?void 0:n};switch(e.key){case sV.SPACE:null===(t=o())||void 0===t||t.toggleSelected();break;case sV.ENTER:this.handleKeyEnter(e);break;case sV.LEFT:null===(n=o())||void 0===n||n.setExpanded(!1);break;case sV.RIGHT:null===(i=o())||void 0===i||i.setExpanded(!0)}}handleKeyEnter(e){e.preventDefault();const{excelMode:t,readOnly:n}=this.params;t&&!n&&(this.params.onAction("apply",void 0,e),"mac"===this.params.excelMode&&this.eMiniFilter.getInputElement().select())}setModelAndRefresh(e){return this.setSelectedModel(e).then(()=>{this.isAlive()&&this.checkAndRefreshVirtualList()})}setModelIntoUi(e){var t,n;this.setMiniFilter(null!==(t=null===(n=this.params.state.state)||void 0===n?void 0:n.miniFilterValue)&&void 0!==t?t:null);const i=null==e?null:e.values;return this.setModelAndRefresh(i)}getModelFromUi(){const e=this.getSelectedModel();return e?{values:e,filterType:this.filterType}:null}areNonNullModelsEqual(e,t){return MO(e.values,t.values)}setIsLoading(e){XL(this.eFilterLoading,e),e||(this.hardRefreshVirtualList=!0)}initialiseFilterBodyUi(){this.initVirtualList(),this.initMiniFilter(),this.initLoading()}initLoading(){const e=hW("setFilterLoading",this.beans,this.params.column);e&&this.eFilterLoadingIcon.appendChild(e)}initVirtualList(){const e=u6(this,"ariaFilterList"),t=!!this.params.treeList,n=this.virtualList=this.createBean(new S5({cssIdentifier:"filter",ariaRole:t?"tree":"listbox",listName:e})),i=this.eSetFilterList;t&&i.classList.add("ag-set-filter-tree-list"),i.appendChild(n.getGui());const{cellHeight:o}=this.params;null!=o&&n.setRowHeight(o);n.setComponentCreator((e,n)=>this.createSetListItem(e,t,n));n.setComponentUpdater((e,t)=>this.updateSetListItem(e,t)),this.createVirtualListModel(this.params)}createVirtualListModel(e){let t;t=e.suppressSelectAll?new h6(this.displayValueModel):new p6(this.displayValueModel,this.showAddCurrentSelectionToFilter.bind(this)),e.treeList&&(t=new g6(t)),this.virtualList.setModel(t)}getSelectAllLabel(){return u6(this,null!=this.miniFilterText&&this.params.excelMode?"selectAllSearchResults":"selectAll")}getAddSelectionToFilterLabel(){return u6(this,"addCurrentSelectionToFilter")}createSetListItem(e,t,n){const i=this.displayValueModel.hasGroups(),{isSelected:o,isExpanded:r}=this.isSelectedExpanded(e),{value:s,depth:a,isGroup:l,hasIndeterminateExpandState:u,selectedListener:c,expandedListener:d}=this.newSetListItemAttributes(e),h={focusWrapper:n,value:s,params:this.params,translate:e=>u6(this,e),valueFormatter:this.handler.valueFormatter,item:e,isSelected:o,isTree:t,depth:a,groupsExist:i,isGroup:l,isExpanded:r,hasIndeterminateExpandState:u},p=this.createBean(new s6(h));return p.addEventListener("selectionChanged",c),d&&p.addEventListener("expandedChanged",d),p}newSetTreeItemAttributes(e){var t,n,i;const o=this.displayValueModel.hasGroups();return e.key===t6?{value:()=>this.getSelectAllLabel(),isGroup:o,depth:e.depth,hasIndeterminateExpandState:!0,selectedListener:e=>this.onSelectAll(e.isSelected),expandedListener:e=>this.onExpandAll(e.item,e.isExpanded)}:e.key===n6?{value:()=>this.getAddSelectionToFilterLabel(),depth:e.depth,isGroup:!1,hasIndeterminateExpandState:!1,selectedListener:e=>{this.addCurrentSelectionToFilter=e.isSelected,this.refreshAfterSelection()}}:e.children?{value:null!==(r=null===(s=(a=this.params).treeListFormatter)||void 0===s?void 0:s.call(a,e.treeKey,e.depth,e.parentTreeKeys))&&void 0!==r?r:e.treeKey,depth:e.depth,isGroup:!0,selectedListener:e=>this.onGroupItemSelected(e.item,e.isSelected),expandedListener:e=>this.onExpandedChanged(e.item,e.isExpanded)}:{value:null!==(t=null===(n=(i=this.params).treeListFormatter)||void 0===n?void 0:n.call(i,e.treeKey,e.depth,e.parentTreeKeys))&&void 0!==t?t:e.treeKey,depth:e.depth,selectedListener:e=>this.onItemSelected(e.item.key,e.isSelected)};var r,s,a}newSetListItemAttributes(e){var t;return this.isSetFilterModelTreeItem(e)?this.newSetTreeItemAttributes(e):e===t6?{value:()=>this.getSelectAllLabel(),selectedListener:e=>this.onSelectAll(e.isSelected)}:e===n6?{value:()=>this.getAddSelectionToFilterLabel(),selectedListener:e=>{this.addCurrentSelectionToFilter=e.isSelected,this.refreshAfterSelection()}}:{value:null!==(t=this.handler.valueModel.allValues.get(e))&&void 0!==t?t:null,selectedListener:e=>this.onItemSelected(e.item,e.isSelected)}}updateSetListItem(e,t){const{isSelected:n,isExpanded:i}=this.isSelectedExpanded(e);t.refresh(e,n,i)}isSelectedExpanded(e){let t,n;return this.isSetFilterModelTreeItem(e)?(n=e.expanded,t=e.key===t6?this.isSelectAllSelected():e.key===n6?this.isAddCurrentSelectionToFilterChecked():e.children?this.areAllChildrenSelected(e):this.selectedKeys.has(e.key)):t=e===t6?this.isSelectAllSelected():e===n6?this.isAddCurrentSelectionToFilterChecked():this.selectedKeys.has(e),{isSelected:t,isExpanded:n}}isSetFilterModelTreeItem(e){return void 0!==(null===e||void 0===e?void 0:e.treeKey)}initMiniFilter(){const{eMiniFilter:e}=this;this.updateMiniFilter(),e.onValueChange(()=>this.onMiniFilterInput()),e.setInputAriaLabel(u6(this,"ariaSearchFilterValues")),this.addManagedElementListeners(e.getInputElement(),{keydown:e=>this.onMiniFilterKeyDown(e)})}updateMiniFilter(){const{eMiniFilter:e,miniFilterText:t,params:n}=this;e.setDisplayed(!n.suppressMiniFilter),e.setValue(t)}afterGuiAttached(e){super.afterGuiAttached(e),this.resetExpansion(),this.refreshVirtualList();const{eMiniFilter:t}=this;t.setInputPlaceholder(u6(this,"searchOoo")),e&&e.suppressFocus||(t.isDisplayed()?t.getFocusableElement().focus():this.virtualList.awaitStable(()=>this.virtualList.focusRow(0)))}afterGuiDetached(){var e;super.afterGuiDetached();const{column:t,excelMode:n,model:i,onStateChange:o}=this.params;null!==(e=this.beans.colFilter)&&void 0!==e&&e.shouldKeepStateOnDetach(t)||(n&&this.resetMiniFilter(),(n||i!==this.state.model)&&(o({model:i,state:this.getState()}),this.showOrHideResults()))}canApply(e){return!this.params.excelMode||(null==e||e.values.length>0)}onNewRowsLoaded(){}setFilterValues(e){iB(283),this.handler.setFilterValues(e)}resetFilterValues(){iB(283),this.handler.resetFilterValues()}refreshFilterValues(){iB(283),this.doRefreshFilterValues()}doRefreshFilterValues(){this.handler.refreshFilterValues()}onAnyFilterChanged(){}onMiniFilterInput(){if(!this.doSetMiniFilter(this.eMiniFilter.getValue()))return;const{applyMiniFilterWhileTyping:e,readOnly:t,excelMode:n}=this.params,i=!t&&(e||!!n),o=e&&!t?"debounce":void 0;this.updateUiAfterMiniFilterChange(i,o)}updateUiAfterMiniFilterChange(e,t){if(e){const{excelMode:e,readOnly:t,model:i}=this.params;var n;if(e&&!t&&null==this.miniFilterText)this.setModelAndRefresh(null!==(n=null===i||void 0===i?void 0:i.values)&&void 0!==n?n:null);else this.selectAllMatchingMiniFilter(!0)}this.checkAndRefreshVirtualList(),this.onUiChanged(e?t:"prevent"),this.showOrHideResults()}showOrHideResults(){const e=null!=this.miniFilterText&&this.displayValueModel.getDisplayedValueCount()<1;XL(this.eFilterNoMatches,e),XL(this.eSetFilterList,!e)}resetMiniFilter(){this.eMiniFilter.setValue(null,!0),this.doSetMiniFilter(null)}onMiniFilterKeyDown(e){const{excelMode:t,readOnly:n}=this.params;e.key!==sV.ENTER||t||n||this.updateUiAfterMiniFilterChange(!0,"immediately")}focusRowIfAlive(e){return null==e?Promise.resolve():new Promise(t=>{window.setTimeout(()=>{this.isAlive()&&this.virtualList.focusRow(e),t()},0)})}onSelectAll(e){e?this.selectAllMatchingMiniFilter():this.deselectAllMatchingMiniFilter(),this.refreshAfterSelection()}onGroupItemSelected(e,t){const n=e=>{if(!e.filterPasses)return;const i=e.children;if(i)for(const t of i.values())n(t);else this.setKeySelected(e.key,t)};n(e),this.refreshAfterSelection()}onItemSelected(e,t){this.setKeySelected(e,t),this.refreshAfterSelection()}onExpandAll(e,t){const n=e=>{if(e.filterPasses&&e.available&&e.children){for(const t of e.children.values())n(t);e.expanded=t}};n(e),this.refreshAfterExpansion()}onExpandedChanged(e,t){e.expanded=t,this.refreshAfterExpansion()}refreshAfterExpansion(){const e=this.virtualList.getLastFocusedRow();this.updateDisplayedValues("expansion"),this.checkAndRefreshVirtualList(),this.focusRowIfAlive(e)}refreshAfterSelection(){const e=this.virtualList.getLastFocusedRow();this.checkAndRefreshVirtualList(),this.onUiChanged(),this.focusRowIfAlive(e)}setMiniFilter(e){this.eMiniFilter.setValue(e),this.onMiniFilterInput()}doSetMiniFilter(e){return e=WI(e),this.miniFilterText!==e&&(null===e&&(this.addCurrentSelectionToFilter=!1),this.miniFilterText=e,this.updateDisplayedValues("miniFilter"),!0)}getMiniFilter(){return this.miniFilterText}getUiChangeEventParams(){return{miniFilterValue:this.miniFilterText}}getState(){const e=this.miniFilterText;return e?{miniFilterValue:e}:void 0}checkAndRefreshVirtualList(){this.virtualList.refresh(!this.hardRefreshVirtualList),this.hardRefreshVirtualList&&(this.hardRefreshVirtualList=!1)}getFilterKeys(){return iB(283),this.handler.getFilterKeys()}getFilterValues(){return iB(283),this.handler.getFilterValues()}refreshVirtualList(){this.params.refreshValuesOnOpen?this.doRefreshFilterValues():this.checkAndRefreshVirtualList()}isSelectAllSelected(){if(this.params.defaultToNothingSelected){if(this.hasSelections()&&this.isEverythingVisibleSelected())return!0;if(this.isNothingVisibleSelected())return!1}else{if(this.hasSelections()&&this.isNothingVisibleSelected())return!1;if(this.isEverythingVisibleSelected())return!0}}areAllChildrenSelected(e){const t=e=>{if(e.children){let n=!1,i=!1;for(const o of e.children.values()){if(!o.filterPasses||!o.available)continue;const e=t(o);if(void 0===e)return;if(e?n=!0:i=!0,n&&i)return}return n}return this.selectedKeys.has(e.key)};return this.params.defaultToNothingSelected?this.hasSelections()&&t(e):t(e)}resetExpansion(){if(!this.params.treeList)return;const e=this.displayValueModel.getSelectAllItem();if(this.isSetFilterModelTreeItem(e)){const t=e=>{const n=e.children;if(n){for(const e of n.values())t(e);e.expanded=!1}};t(e),this.updateDisplayedValues("expansion")}}getModelAsString(e){return this.handler.getModelAsString(e)}getPositionableElement(){return this.eSetFilterList}updateDisplayedValues(e,t){if("expansion"===e)return void this.displayValueModel.refresh();const n=this.handler,i=n.valueModel;if(null==this.miniFilterText)return void this.displayValueModel.updateDisplayedValuesToAllAvailable(e=>{var t;return null!==(t=i.allValues.get(e))&&void 0!==t?t:null},t,i.availableKeys,e);const o=n.caseFormat(this.formatter(this.miniFilterText)||""),r=e=>null!=e&&n.caseFormat(e).indexOf(o)>=0,s=!!this.params.excelMode&&r(u6(this,"blanks"));this.displayValueModel.updateDisplayedValuesToMatchMiniFilter(e=>{var t;return null!==(t=i.allValues.get(e))&&void 0!==t?t:null},t,i.availableKeys,r,s,e)}hasSelections(){return this.params.defaultToNothingSelected?this.selectedKeys.size>0:this.handler.valueModel.allValues.size!==this.selectedKeys.size}isInWindowsExcelMode(){return"windows"===this.params.excelMode}isAddCurrentSelectionToFilterChecked(){return this.isInWindowsExcelMode()&&this.addCurrentSelectionToFilter}showAddCurrentSelectionToFilter(){return this.isInWindowsExcelMode()&&UI(this.miniFilterText)&&this.miniFilterText.length>0}selectAllMatchingMiniFilter(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];null==this.miniFilterText?this.selectedKeys=new Set(this.handler.valueModel.allValues.keys()):(e&&this.selectedKeys.clear(),this.displayValueModel.forEachDisplayedKey(e=>this.selectedKeys.add(e)))}deselectAllMatchingMiniFilter(){null==this.miniFilterText?this.selectedKeys.clear():this.displayValueModel.forEachDisplayedKey(e=>this.selectedKeys.delete(e))}setKeySelected(e,t){t?this.selectedKeys.add(e):(this.params.excelMode&&this.isEverythingVisibleSelected()&&this.resetSelectionState(this.displayValueModel.getDisplayedKeys()),this.selectedKeys.delete(e))}isEverythingVisibleSelected(){return!this.displayValueModel.someDisplayedKey(e=>!this.selectedKeys.has(e))}isNothingVisibleSelected(){return!this.displayValueModel.someDisplayedKey(e=>this.selectedKeys.has(e))}getSelectedModel(){var e;if(!this.hasSelections())return null;const t=this.isAddCurrentSelectionToFilterChecked()?null===(e=this.params.model)||void 0===e?void 0:e.values:void 0;if(null!==t&&void 0!==t&&t.length){if(this.selectedKeys){const e=new Set([...t,...this.selectedKeys]);return Array.from(e)}return Array.from(t)}return Array.from(this.selectedKeys)}setSelectedModel(e){const t=this.handler,n=t.valueModel;return n.allKeys.then(i=>{if(null==e)this.resetSelectionState(null!==i&&void 0!==i?i:[]);else{this.selectedKeys.clear();const i=new Map;n.allValues.forEach((e,n)=>{i.set(t.caseFormat(n),n)}),e.forEach(e=>{const n=t.caseFormat(WI(e)),o=i.get(n);void 0!==o&&this.selectedKeys.add(o)})}})}resetSelectionState(e){this.params.defaultToNothingSelected?this.selectedKeys.clear():this.selectedKeys=new Set(e)}getFilterHandler(){return this.handler}destroy(){var e;this.virtualList=this.destroyBean(this.virtualList),null===(e=this.handlerDestroyFuncs)||void 0===e||e.forEach(e=>e()),this.handler=void 0,this.displayValueModel=void 0,this.selectedKeys.clear(),super.destroy()}},h6=class{constructor(e){this.model=e}getRowCount(){return this.model.getDisplayedValueCount()}getRow(e){return this.model.getDisplayedItem(e)}areRowsEqual(e,t){return e===t}},p6=class{constructor(e,t){this.model=e,this.showAddCurrentSelectionToFilter=t}getRowCount(){const e=this.showAddCurrentSelectionToFilter()?2:1;return this.model.getDisplayedValueCount()+e}getRow(e){if(0===e)return this.model.getSelectAllItem();const t=this.showAddCurrentSelectionToFilter(),n=t?2:1;return 1===e&&t?this.model.getAddSelectionToFilterItem():this.model.getDisplayedItem(e-n)}areRowsEqual(e,t){return e===t}},g6=class{constructor(e){this.model=e}getRowCount(){return this.model.getRowCount()}getRow(e){return this.model.getRow(e)}areRowsEqual(e,t){return null==e&&null==t||null!=e&&null!=t&&e.treeKey===t.treeKey&&e.depth===t.depth}},m6=class extends vO{constructor(e,t,n,i,o){super(),this.createKey=e,this.caseFormat=t,this.getValue=n,this.isTreeDataOrGrouping=i,this.isTreeData=o}extractUniqueValuesAsync(e,t){return new PG(n=>{if(this.beans.rowModel.isRowDataLoaded())n(this.extractUniqueValues(e,t));else{const[i]=this.addManagedEventListeners({rowCountReady:()=>{null===i||void 0===i||i(),n(this.extractUniqueValues(e,t))}})}})}extractUniqueValues(e,t){var n;const i=new Map,o=this.extractExistingFormattedKeys(t),r=new Set,s=this.isTreeData(),a=this.isTreeDataOrGrouping(),l=null===(n=this.beans.rowGroupColsSvc)||void 0===n?void 0:n.columns,u=this.gos.get("groupAllowUnbalanced"),c=(e,n)=>{const s=this.caseFormat(e);if(!r.has(s)){r.add(s);let a=e,l=WI(n);const u=null===o||void 0===o?void 0:o.get(s);null!=u&&(a=u,l=t.get(u)),i.set(a,l)}};return this.beans.rowModel.forEachLeafNode(t=>{if(!t.data||!e(t))return;if(a)return void this.addValueForTreeDataOrGrouping(t,s,l,c,u);const n=this.getValue(t);null!=n&&Array.isArray(n)?(n.forEach(e=>{c(this.createKey(e,t),e)}),0===n.length&&c(null,null)):c(this.createKey(n,t),n)}),i}addValueForTreeDataOrGrouping(e,t){let n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],o=arguments.length>3?arguments[3]:void 0,r=arguments.length>4?arguments[4]:void 0;if(t){var s,a,l;if(null!==(s=e.childrenAfterGroup)&&void 0!==s&&s.length)return;n=null!==(a=e.getRoute())&&void 0!==a?a:[null!==(l=e.key)&&void 0!==l?l:e.id]}else n=i.map(t=>this.beans.valueSvc.getKeyForNode(t,e)),n.push(this.getValue(e));const u=l6(n,t,r);o(this.createKey(u),u)}extractExistingFormattedKeys(e){if(!e)return null;const t=new Map;return e.forEach((e,n)=>{t.set(this.caseFormat(n),n)}),t}},v6=class{constructor(e){this.caseFormat=e,this.keys=null}isNull(){return null==this.keys}isEmpty(){var e;return!(null!==(e=this.keys)&&void 0!==e&&e.size)}update(e){const t=new Set;this.keys=t;const n=null===e||void 0===e?void 0:e.values;if(n){const e=this.caseFormat;for(let i=0,o=n.length;i<o;i++)t.add(e(n[i]))}}has(e){var t;return!(null===(t=this.keys)||void 0===t||!t.has(this.caseFormat(e)))}destroy(){this.keys=null}},f6=(e=>(e[e.PROVIDED_LIST=0]="PROVIDED_LIST",e[e.PROVIDED_CALLBACK=1]="PROVIDED_CALLBACK",e[e.TAKEN_FROM_GRID_VALUES=2]="TAKEN_FROM_GRID_VALUES",e))(f6||{}),w6=f6,C6=class extends vO{constructor(e,t,n,i,o){super(),this.clientSideValuesExtractor=e,this.caseFormat=t,this.createKey=n,this.isTreeDataOrGrouping=i,this.params=o,this.allValues=new Map,this.availableKeys=new Set,this.providedValues=null,this.initialised=!1}postConstruct(){const e=this.params,t=e.handlerParams.filterParams.values;this.updateParams(e),null==t?this.valuesType=2:(this.valuesType=Array.isArray(t)?0:1,this.providedValues=t),this.updateAllValues()}refresh(e){const t=e.handlerParams;if("colDef"!==t.source)return;const{values:n,suppressSorting:i}=t.filterParams,o=this.providedValues,r=this.params.handlerParams.filterParams.suppressSorting;this.params=e,this.updateParams(e),this.providedValues=null!==n&&void 0!==n?n:null,this.providedValues===o&&i===r||(n&&0!==n.length?this.valuesType=Array.isArray(n)?0:1:(this.valuesType=2,this.providedValues=null),this.updateAllValues())}updateParams(e){const{handlerParams:{colDef:t,filterParams:{comparator:n,treeList:i,treeListPathGetter:o}},usingComplexObjects:r}=e,s=null!==n&&void 0!==n?n:t.comparator,a=this.isTreeDataOrGrouping();let l;l=a&&!s?(e,t)=>{let[n,i]=e,[o,r]=t;if(null==i)return null==r?0:-1;if(null==r)return 1;for(let s=0;s<i.length;s++){if(s>=r.length)return 1;const e=ZI(i[s],r[s]);if(0!==e)return e}return 0}:!i||o||s?(e,t)=>{let[n,i]=e,[o,r]=t;return s(i,r)}:(e,t)=>{let[n,i]=e,[o,r]=t;return ZI(i,r)},this.entryComparator=l,this.keyComparator=null!==s&&void 0!==s?s:ZI,this.compareByValue=!!(r&&s||a||i&&!o)}updateAllValues(){return this.allKeys=new PG(e=>{switch(this.valuesType){case 2:this.getValuesFromRowsAsync().then(t=>e(this.processAllValues(t)));break;case 0:e(this.processAllValues(this.uniqueValues(this.validateProvidedValues(this.providedValues))));break;case 1:{this.dispatchLocalEvent({type:"loadingStart"});const t=this.providedValues,{column:n,colDef:i}=this.params.handlerParams,o=iO(this.gos,{success:t=>{this.dispatchLocalEvent({type:"loadingEnd"}),e(this.processAllValues(this.uniqueValues(this.validateProvidedValues(t))))},colDef:i,column:n});window.setTimeout(()=>t(o),0);break}}}),this.allKeys.then(e=>{this.updateAvailableKeys(null!==e&&void 0!==e?e:[]),this.initialised=!0}),this.allKeys}getAvailableValues(e){return this.sortKeys(this.getValuesFromRows(e))}overrideValues(e){return this.allKeys.then(()=>{this.valuesType=0,this.providedValues=e})}refreshAvailable(){return new PG(e=>{this.showAvailableOnly()?this.allKeys.then(t=>{const n=null!==t&&void 0!==t?t:[];this.updateAvailableKeys(n),e(!0)}):e(!1)})}refreshAll(){return new PG(e=>{this.allKeys.then(()=>{this.updateAllValues().then(()=>{e()})})})}isLoading(){return!this.initialised&&1===this.valuesType}isInitialised(){return this.initialised}getValueForFormatter(e){return this.initialised?this.allValues.get(e):e}getAvailableKeys(e){return this.initialised?e.filter(e=>this.availableKeys.has(e)):e}getParamsForValuesFromRows(e){if(!this.clientSideValuesExtractor)return void oB(113);return e&&!this.params.handlerParams.filterParams.caseSensitive?this.allValues:void 0}getValuesFromRows(e){var t,n;const i=this.getParamsForValuesFromRows(!0);return null!==(t=null===(n=this.clientSideValuesExtractor)||void 0===n?void 0:n.extractUniqueValues(e,i))&&void 0!==t?t:null}getValuesFromRowsAsync(){var e,t;const n=this.getParamsForValuesFromRows(!1);return null!==(e=null===(t=this.clientSideValuesExtractor)||void 0===t?void 0:t.extractUniqueValuesAsync(()=>!0,n))&&void 0!==e?e:PG.resolve(null)}processAllValues(e){const t=this.sortKeys(e);return this.allValues=null!==e&&void 0!==e?e:new Map,t}uniqueValues(e){const t=new Map,n=new Set,{caseFormat:i,createKey:o}=this;return(null!==e&&void 0!==e?e:[]).forEach(e=>{const r=WI(e),s=o(r),a=i(s);n.has(a)||(n.add(a),t.set(s,r))}),t}validateProvidedValues(e){if(this.params.usingComplexObjects&&null!==e&&void 0!==e&&e.length){const t=e[0];if(t&&"object"!==typeof t&&"function"!==typeof t){iB(null==this.createKey(t)?209:210)}}return e}sortKeys(e){const t=null!==e&&void 0!==e?e:new Map,n=this.params.handlerParams.filterParams;if(n.suppressSorting)return Array.from(t.keys());let i;return i=this.compareByValue?Array.from(t.entries()).sort(this.entryComparator).map(e=>{let[t]=e;return t}):Array.from(t.keys()).sort(this.keyComparator),n.excelMode&&t.has(null)&&(i=i.filter(e=>null!=e),i.push(null)),i}showAvailableOnly(){return 2===this.valuesType}updateAvailableKeys(e){const t=this.showAvailableOnly()?this.getAvailableValues(e=>this.params.handlerParams.doesRowPassOtherFilter(e)):e;this.availableKeys=new Set(t),this.dispatchLocalEvent({type:"availableValuesChanged"})}},b6={tag:"div",cls:"ag-floating-filter-input ag-set-floating-filter-input",role:"presentation",children:[{tag:"ag-input-text-field",ref:"eFloatingFilterText"}]},y6={moduleName:"SetFilter",version:n5,userComponents:{agSetColumnFilter:{classImp:d6,params:{useForm:!0},processParams:e=>(function(e){"windows"===e.excelMode?(e.buttons||(e.buttons=["apply","cancel"]),null==e.closeOnApply&&(e.closeOnApply=!0)):"mac"===e.excelMode&&(e.buttons||(e.buttons=["reset"]),null==e.applyMiniFilterWhileTyping&&(e.applyMiniFilterWhileTyping=!0),null==e.debounceMs&&(e.debounceMs=500)),e.excelMode&&e.defaultToNothingSelected&&(e.defaultToNothingSelected=!1,iB(207))}(e),e)},agSetColumnFloatingFilter:class extends AG{constructor(){super(b6,[qW]),this.eFloatingFilterText=kG,this.listenerAdded=!1}init(e){this.params=e,this.eFloatingFilterText.setDisabled(!0).addGuiEventListener("click",()=>this.params.showParentFilter()),this.setParams(e)}setParams(e){const t=this.beans.colNames.getDisplayNameForColumn(e.column,"header",!0),n=this.getLocaleTextFunc();if(this.eFloatingFilterText.setInputAriaLabel("".concat(t," ").concat(n("ariaFilterInput","Filter Input"))),this.gos.get("enableFilterHandlers")){const t=e;this.updateFloatingFilterText(t.model)}}refresh(e){this.params=e,this.setParams(e)}onParentModelChanged(e){this.updateFloatingFilterText(e)}parentSetFilterInstance(e){this.params.parentFilterInstance(t=>{t instanceof d6?e(t):oB(248)})}addAvailableValuesListener(){const e=e=>{if(null==e||!e.isAlive())return;const t=e.valueModel;this.destroyListeners=t.addManagedListeners(t,{availableValuesChanged:()=>this.updateFloatingFilterText(e.params.model),destroyed:()=>{this.listenerAdded=!1,this.destroyListeners=void 0}})};this.gos.get("enableFilterHandlers")?e(this.params.getHandler()):this.parentSetFilterInstance(t=>{e(t.handler)}),this.listenerAdded=!0}updateFloatingFilterText(e){var t,n,i;(this.listenerAdded||this.addAvailableValuesListener(),null==e)?this.eFloatingFilterText.setValue(""):this.gos.get("enableFilterHandlers")?this.eFloatingFilterText.setValue(null!==(t=null===(n=(i=this.params.getHandler()).getModelAsString)||void 0===n?void 0:n.call(i,e))&&void 0!==t?t:""):this.parentSetFilterInstance(t=>{this.eFloatingFilterText.setValue(t.getModelAsString(e))})}destroy(){const e=this.destroyListeners;e&&(e.forEach(e=>e()),e.length=0),super.destroy()}}},dynamicBeans:{agSetColumnFilterHandler:class extends vO{constructor(){super(...arguments),this.filterType="set",this.treeDataTreeList=!1,this.groupingTreeList=!1,this.caseSensitive=!1,this.noValueFormatterSupplied=!1}init(e){var t;this.updateParams(e);const n=this.isTreeDataOrGrouping.bind(this),i=this.createKey,o=this.caseFormat.bind(this),{gos:r,beans:s}=this,a=uB(r,s.rowModel)?this.createManagedBean(new m6(i,o,e.getValue,n,()=>this.treeDataTreeList)):void 0;this.valueModel=this.createManagedBean(new C6(a,o,i,n,{handlerParams:e,usingComplexObjects:!!(null!==(t=e.filterParams.keyCreator)&&void 0!==t?t:e.colDef.keyCreator)})),this.appliedModel=new v6(this.caseFormat.bind(this)),this.appliedModel.update(e.model),this.validateModel(e),this.addEventListenersForDataChanges()}refresh(e){var t;this.updateParams(e),this.valueModel.refresh({handlerParams:e,usingComplexObjects:!!(null!==(t=e.filterParams.keyCreator)&&void 0!==t?t:e.colDef.keyCreator)}),this.appliedModel.update(e.model),this.validateModel(e)}updateParams(e){var t;this.params=e;const{colDef:n,filterParams:{caseSensitive:i,treeList:o,keyCreator:r,valueFormatter:s}}=e;this.caseSensitive=!!i;const a=!!n.showRowGroup;this.treeDataTreeList=this.gos.get("treeData")&&!!o&&a,this.groupingTreeList=!(null===(t=this.beans.rowGroupColsSvc)||void 0===t||!t.columns.length)&&!!o&&a;const l=null!==r&&void 0!==r?r:n.keyCreator;this.createKey=this.generateCreateKey(l,this.isTreeDataOrGrouping()),this.setValueFormatter(s,l,!!o,!!n.refData)}doesFilterPass(e){const{appliedModel:t,treeDataTreeList:n,groupingTreeList:i}=this;if(t.isNull())return!0;if(t.isEmpty())return!1;const{node:o}=e;if(n)return this.doesFilterPassForTreeData(o);if(i)return this.doesFilterPassForGrouping(o);const r=this.params.getValue(o);return null!=r&&Array.isArray(r)?0===r.length?t.has(null):r.some(e=>t.has(this.createKey(e,o))):t.has(this.createKey(r,o))}getFormattedValue(e){var t;let n=this.valueModel.getValueForFormatter(e);this.noValueFormatterSupplied&&this.isTreeDataOrGrouping()&&Array.isArray(n)&&(n=_O(n));const i=this.beans.valueSvc.formatValue(this.params.column,null,n,this.valueFormatter,!1);return null!==(t=null==i?qI(n):i)&&void 0!==t?t:u6(this,"blanks")}getModelAsString(e,t){const{values:n}=null!==e&&void 0!==e?e:{},i="filterToolPanel"===t;if(null==n)return i?u6(this,"filterSummaryListInactive"):"";const o=this.valueModel.getAvailableKeys(n),r=o.length,s=i?3:10,a=o.slice(0,s).map(e=>this.getFormattedValue(e));if(i){const e=a.join(u6(this,"filterSummaryListSeparator"));return r>3?u6(this,"filterSummaryListLong",[e,String(r-3)]):u6(this,"filterSummaryListShort",[e])}return"(".concat(r,") ").concat(a.join(",")).concat(r>10?",...":"")}onAnyFilterChanged(){window.setTimeout(()=>{this.isAlive()&&this.valueModel.refreshAvailable().then(e=>{this.dispatchLocalEvent({type:"anyFilterChanged",updated:!!e})})})}onNewRowsLoaded(){this.syncAfterDataChange()}setFilterValues(e){this.valueModel.overrideValues(e).then(()=>{this.refreshFilterValues()})}resetFilterValues(){this.valueModel.valuesType=w6.TAKEN_FROM_GRID_VALUES,this.syncAfterDataChange()}refreshFilterValues(){this.valueModel.isInitialised()&&this.valueModel.refreshAll().then(()=>{this.dispatchLocalEvent({type:"dataChanged",hardRefresh:!0}),this.validateModel(this.params,void 0,!0)})}getFilterKeys(){return Array.from(this.valueModel.allValues.keys())}getFilterValues(){return Array.from(this.valueModel.allValues.values())}isTreeDataOrGrouping(){return this.treeDataTreeList||this.groupingTreeList}caseFormat(e){return null==e||"string"!==typeof e||this.caseSensitive?e:e.toUpperCase()}addEventListenersForDataChanges(){this.addManagedPropertyListeners(["groupAllowUnbalanced"],()=>this.syncAfterDataChange());const e=HN(this,this.syncAfterDataChange.bind(this),0);this.addManagedEventListeners({cellValueChanged:t=>{t.column===this.params.column&&e()}})}syncAfterDataChange(){this.isValuesTakenFromGrid()&&this.valueModel.refreshAll().then(()=>{this.dispatchLocalEvent({type:"dataChanged"}),this.validateModel(this.params,{afterDataChange:!0})})}validateModel(e,t,n){const i=this.valueModel;i.allKeys.then(()=>{const o=e.model;if(null==o)return;const r=new Map,s=e=>r.set(this.caseFormat(e),e);if(n)for(const e of i.availableKeys)s(e);else i.allValues.forEach((e,t)=>s(t));const a=[];let l=!1;for(const e of o.values){const t=this.caseFormat(WI(e)),n=r.get(t);void 0!==n?(a.push(n),n!==e&&(l=!0)):l=!0}const u=a.length;if(0===u&&e.filterParams.excelMode)return void e.onModelChange(null,t);const c=(this.valueModel.valuesType===w6.TAKEN_FROM_GRID_VALUES||!e.filterParams.suppressClearModelOnRefreshValues)&&u===r.size;if(l||!o.filterType||c){const n=c?null:{filterType:this.filterType,values:a};return void e.onModelChange(n,t)}})}isValuesTakenFromGrid(){return this.valueModel.valuesType===w6.TAKEN_FROM_GRID_VALUES}doesFilterPassForTreeData(e){var t,n,i;if(null!==(t=e.childrenAfterGroup)&&void 0!==t&&t.length)return!1;const{gos:o,appliedModel:r}=this;return r.has(this.createKey(l6(null!==(n=e.getRoute())&&void 0!==n?n:[null!==(i=e.key)&&void 0!==i?i:e.id],!0,o.get("groupAllowUnbalanced"))))}doesFilterPassForGrouping(e){var t;const{appliedModel:n,params:i,gos:o,beans:{rowGroupColsSvc:r,valueSvc:s}}=this,a=(null!==(t=null===r||void 0===r?void 0:r.columns)&&void 0!==t?t:[]).map(t=>s.getKeyForNode(t,e));return a.push(i.getValue(e)),n.has(this.createKey(l6(a,!1,o.get("groupAllowUnbalanced"))))}generateCreateKey(e,t){var n=this;return t&&!e?(oB(250),()=>null):e?function(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const o=n.getKeyCreatorParams(t,i);return WI(e(o))}:e=>WI(qI(e))}getKeyCreatorParams(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const{colDef:n,column:i}=this.params;return iO(this.gos,{value:e,colDef:n,column:i,node:t,data:null===t||void 0===t?void 0:t.data})}setValueFormatter(e,t,n,i){let o=e;if(!o){if(t&&!n)return void oB(249);this.noValueFormatterSupplied=!0,i||(o=e=>qI(e.value))}this.valueFormatter=o}destroy(){this.appliedModel.destroy(),super.destroy(),this.valueModel=void 0}}},icons:{setFilterGroupClosed:"tree-closed",setFilterGroupOpen:"tree-open",setFilterGroupIndeterminate:"tree-indeterminate",setFilterLoading:"loading"},dependsOn:[i5,N$]};var S6={name:"statusPanel",optionalMethods:["refresh"]},x6={tag:"div",cls:"ag-status-bar",children:[{tag:"div",ref:"eStatusBarLeft",cls:"ag-status-bar-left",role:"status"},{tag:"div",ref:"eStatusBarCenter",cls:"ag-status-bar-center",role:"status"},{tag:"div",ref:"eStatusBarRight",cls:"ag-status-bar-right",role:"status"}]},D6={selector:"AG-STATUS-BAR",component:class extends AG{constructor(){super(x6),this.updateQueued=!1,this.panelsPromise=PG.resolve(),this.eStatusBarLeft=kG,this.eStatusBarCenter=kG,this.eStatusBarRight=kG,this.compDestroyFunctions={},this.registerCSS(".ag-status-bar{border-top:var(--ag-footer-row-border);display:flex;justify-content:space-between;line-height:1.5;overflow:hidden;padding-left:calc(var(--ag-spacing)*4);padding-right:calc(var(--ag-spacing)*4)}.ag-status-panel,:where(.ag-status-panel.ag-status-panel-aggregations .ag-status-name-value){display:inline-flex}.ag-status-name-value{color:var(--ag-status-bar-label-color);font-weight:var(--ag-status-bar-label-font-weight);margin-left:var(--ag-spacing);margin-right:var(--ag-spacing);padding-bottom:var(--ag-widget-container-vertical-padding);padding-top:var(--ag-widget-container-vertical-padding);white-space:nowrap}.ag-status-name-value-value{color:var(--ag-status-bar-value-color);font-weight:var(--ag-status-bar-value-font-weight)}.ag-status-bar-left{display:inline-flex}.ag-status-bar-center{display:inline-flex;text-align:center}.ag-status-bar-right{display:inline-flex}")}wireBeans(e){this.userCompFactory=e.userCompFactory,this.statusBarSvc=e.statusBarSvc}postConstruct(){this.processStatusPanels(new Map),this.addManagedPropertyListeners(["statusBar"],this.handleStatusBarChanged.bind(this))}processStatusPanels(e){var t;const n=null===(t=this.gos.get("statusBar"))||void 0===t?void 0:t.statusPanels;if(n){const t=n.filter(e=>"left"===e.align),i=n.filter(e=>"center"===e.align),o=n.filter(e=>!e.align||"right"===e.align);this.panelsPromise=PG.all([this.createAndRenderComponents(t,this.eStatusBarLeft,e),this.createAndRenderComponents(i,this.eStatusBarCenter,e),this.createAndRenderComponents(o,this.eStatusBarRight,e)])}else this.setDisplayed(!1)}handleStatusBarChanged(){this.updateQueued||(this.updateQueued=!0,this.panelsPromise.then(()=>{this.updateStatusBar(),this.updateQueued=!1}))}updateStatusBar(){var e;const t=null===(e=this.gos.get("statusBar"))||void 0===e?void 0:e.statusPanels,n=Array.isArray(t)&&t.length>0;this.setDisplayed(n);const i=new Map;n&&t.forEach(e=>{var t;const n=null!==(t=e.key)&&void 0!==t?t:e.statusPanel,o=this.statusBarSvc.getStatusPanel(n);if(null!==o&&void 0!==o&&o.refresh){var r;const t=iO(this.gos,d(d({},null!==(r=e.statusPanelParams)&&void 0!==r?r:{}),{},{key:n}));o.refresh(t)&&(i.set(n,o),delete this.compDestroyFunctions[n],cN(o.getGui()))}}),this.resetStatusBar(),n&&this.processStatusPanels(i)}resetStatusBar(){uN(this.eStatusBarLeft),uN(this.eStatusBarCenter),uN(this.eStatusBarRight),this.destroyComponents(),this.statusBarSvc.unregisterAllComponents()}destroy(){this.destroyComponents(),super.destroy()}destroyComponents(){Object.values(this.compDestroyFunctions).forEach(e=>e()),this.compDestroyFunctions={}}createAndRenderComponents(e,t,n){const i=[];return e.forEach(e=>{const t=e.key||e.statusPanel,o=n.get(t);let r;if(o)r=PG.resolve(o);else{const n=(s=this.userCompFactory,a=e,l=iO(this.gos,{key:t}),s.getCompDetails(a,S6,void 0,l,!0));if(null==n)return;r=n.newAgStackInstance()}var s,a,l;i.push({key:t,promise:r})}),PG.all(i.map(e=>e.promise)).then(()=>{i.forEach(e=>{e.promise.then(n=>{const i=()=>{this.destroyBean(n)};this.isAlive()?(this.statusBarSvc.registerStatusPanel(e.key,n),t.appendChild(n.getGui()),this.compDestroyFunctions[e.key]=i):i()})})})}}},E6={tag:"div",cls:"ag-status-name-value",children:[{tag:"span",ref:"eLabel"},":\xa0",{tag:"span",ref:"eValue",cls:"ag-status-name-value-value"}]},F6=class extends AG{constructor(){super(E6),this.eLabel=kG,this.eValue=kG}setLabel(e,t){this.setDisplayed(!1),this.eLabel.textContent=this.getLocaleTextFunc()(e,t)}setValue(e,t){this.eValue.textContent=this.valueFormatter(iO(this.gos,{value:e,totalRows:t,key:this.key}))}},k6={selector:"AG-NAME-VALUE",component:F6},A6=e=>{let t=0;return e.forEachNodeAfterFilter(e=>{e.data&&t++}),t},R6=e=>{let t=0;return e.forEachNode(e=>{e.data&&t++}),t};var P6={tag:"div",cls:"ag-status-panel ag-status-panel-aggregations",children:[{tag:"ag-name-value",ref:"avgAggregationComp"},{tag:"ag-name-value",ref:"countAggregationComp"},{tag:"ag-name-value",ref:"minAggregationComp"},{tag:"ag-name-value",ref:"maxAggregationComp"},{tag:"ag-name-value",ref:"sumAggregationComp"}]};var T6={moduleName:"StatusBar",version:n5,beans:[class extends vO{constructor(){super(),this.beanName="statusBarSvc",this.comps=new Map}registerStatusPanel(e,t){this.comps.set(e,t)}unregisterStatusPanel(e){this.comps.delete(e)}unregisterAllComponents(){this.comps.clear()}getStatusPanel(e){return this.comps.get(e)}destroy(){this.unregisterAllComponents(),super.destroy()}}],userComponents:{agAggregationComponent:class extends AG{constructor(){super(P6,[k6]),this.sumAggregationComp=kG,this.countAggregationComp=kG,this.minAggregationComp=kG,this.maxAggregationComp=kG,this.avgAggregationComp=kG}postConstruct(){uB(this.gos)||cB(this.gos)?(this.avgAggregationComp.setLabel("avg","Average"),this.countAggregationComp.setLabel("count","Count"),this.minAggregationComp.setLabel("min","Min"),this.maxAggregationComp.setLabel("max","Max"),this.sumAggregationComp.setLabel("sum","Sum"),this.addManagedEventListeners({cellSelectionChanged:this.onCellSelectionChanged.bind(this),modelUpdated:this.onCellSelectionChanged.bind(this)})):iB(221)}init(e){this.refresh(e)}refresh(e){var t;this.params=e;const n=null!==(t=e.valueFormatter)&&void 0!==t?t:e=>{let{value:t}=e;return function(e,t){return"number"!==typeof e?"":PZ(Math.round(100*e)/100,t)}(t,this.getLocaleTextFunc.bind(this))},i=["avg","count","min","max","sum"];for(const o of i){const e=this.getAllowedAggregationValueComponent(o);e&&(e.key=o,e.valueFormatter=n.bind(this))}return this.onCellSelectionChanged(),!0}setAggregationComponentValue(e,t,n){const i=this.getAllowedAggregationValueComponent(e),o=R6(this.beans.rowModel);var r;UI(i)&&i?(i.setValue(t,o),i.setDisplayed(n)):null===(r=this.getAggregationValueComponent(e))||void 0===r||r.setDisplayed(!1)}getAllowedAggregationValueComponent(e){const{aggFuncs:t}=this.params;return!t||t.includes(e)?this.getAggregationValueComponent(e):null}getAggregationValueComponent(e){return this["".concat(e,"AggregationComp")]}onCellSelectionChanged(){const e=this.beans,{rangeSvc:t,valueSvc:n}=e,i=null===t||void 0===t?void 0:t.getCellRanges();let o=0,r=0,s=0,a=null,l=null;const u={};if(null!==i&&void 0!==i&&i.length&&t)for(let h=0;h<i.length;h++){const c=i[h];let d=t.getRangeStartRow(c);const p=t.getRangeEndRow(c);for(;;){if(KI(d)||!d||Az(p,d)||!d||!c.columns)break;c.columns.forEach(t=>{if(null===d)return;const i=Fz({rowPinned:d.rowPinned,column:t,rowIndex:d.rowIndex});if(u[i])return;u[i]=!0;const c=Tz(e,d);if(KI(c))return;let h=n.getValue(t,c);KI(h)||""===h||(r++,"object"===typeof h&&"value"in h&&(h=h.value,""===h)||("string"===typeof h&&(h=Number(h)),"number"!==typeof h||isNaN(h)||(o+=h,(null===l||h>l)&&(l=h),(null===a||h<a)&&(a=h),s++)))}),d=Iz(e,d)}}const c=r>1,d=s>1;this.setAggregationComponentValue("count",r,c),this.setAggregationComponentValue("sum",o,d),this.setAggregationComponentValue("min",a,d),this.setAggregationComponentValue("max",l,d),this.setAggregationComponentValue("avg",o/s,d)}},agTotalRowCountComponent:class extends F6{postConstruct(){this.setLabel("totalRows","Total Rows"),uB(this.gos)?(this.addCss("ag-status-panel"),this.addCss("ag-status-panel-total-row-count"),this.setDisplayed(!0),this.addManagedEventListeners({modelUpdated:this.onDataChanged.bind(this)})):iB(225)}onDataChanged(){const e=R6(this.beans.rowModel);this.setValue(e,e)}init(e){this.refresh(e),this.onDataChanged()}updateValueFormatter(e){this.valueFormatter=null!==e&&void 0!==e?e:e=>{let{value:t}=e;return PZ(t,this.getLocaleTextFunc.bind(this))}}refresh(e){const{key:t,valueFormatter:n}=e;return this.key=t,this.updateValueFormatter(n),!0}},agFilteredRowCountComponent:class extends F6{postConstruct(){if(this.setLabel("filteredRows","Filtered"),!uB(this.gos))return void iB(222);this.addCss("ag-status-panel"),this.addCss("ag-status-panel-filtered-row-count"),this.setDisplayed(!0);const e=this.onDataChanged.bind(this);this.addManagedEventListeners({modelUpdated:e})}onDataChanged(){const{rowModel:e}=this.beans,t=R6(e),n=A6(e);this.setValue(n,t),this.setDisplayed(t!==n)}init(e){this.refresh(e),this.onDataChanged()}updateValueFormatter(e){this.valueFormatter=null!==e&&void 0!==e?e:e=>{let{value:t}=e;return PZ(t,this.getLocaleTextFunc.bind(this))}}refresh(e){const{key:t,valueFormatter:n}=e;return this.key=t,this.updateValueFormatter(n),!0}},agTotalAndFilteredRowCountComponent:class extends F6{postConstruct(){uB(this.gos)?(this.setLabel("totalAndFilteredRows","Rows"),this.addCss("ag-status-panel"),this.addCss("ag-status-panel-total-and-filtered-row-count"),this.setDisplayed(!0),this.addManagedEventListeners({modelUpdated:this.onDataChanged.bind(this)})):iB(224)}onDataChanged(){const{rowModel:e}=this.beans,t=A6(e),n=R6(e);this.setValue(t,n)}init(e){this.refresh(e),this.onDataChanged()}updateValueFormatter(e){this.valueFormatter=null!==e&&void 0!==e?e:e=>{let{value:t,totalRows:n}=e;const i=this.getLocaleTextFunc.bind(this),o=PZ(t,i),r=PZ(null!==n&&void 0!==n?n:t,i);if(t===n)return o;const s=i();return"".concat(o," ").concat(s("of","of")," ").concat(r)}}refresh(e){const{key:t,valueFormatter:n}=e;return this.key=t,this.updateValueFormatter(n),!0}},agSelectedRowCountComponent:class extends F6{postConstruct(){const e=this.gos;if(!uB(e)&&!cB(e))return void iB(223);this.setLabel("selectedRows","Selected"),this.addCss("ag-status-panel"),this.addCss("ag-status-panel-selected-row-count");const t=this.onRowSelectionChanged.bind(this);this.addManagedEventListeners({modelUpdated:t,selectionChanged:t})}onRowSelectionChanged(){var e;const{selectionSvc:t,rowModel:n}=this.beans,i=null!==(e=null===t||void 0===t?void 0:t.getSelectionCount())&&void 0!==e?e:0,o=R6(n);this.setValue(i,o),i<0?this.setDisplayed(!0):this.setDisplayed(i>0)}init(e){this.refresh(e),this.onRowSelectionChanged()}updateValueFormatter(e){this.valueFormatter=null!==e&&void 0!==e?e:e=>{let{value:t}=e;return null==t||t>=0?PZ(t,this.getLocaleTextFunc.bind(this)):this.getLocaleTextFunc()("statusBarLastRowUnknown","?")}}refresh(e){const{key:t,valueFormatter:n}=e;return this.key=t,this.updateValueFormatter(n),!0}}},selectors:[D6],apiFunctions:{getStatusPanel:function(e,t){var n;return az(null===(n=e.statusBarSvc)||void 0===n?void 0:n.getStatusPanel(t))}},dependsOn:[i5,OY]};function _6(e){var t;return"MULTI_SHEET"!==(null===(t=e.excelCreator)||void 0===t?void 0:t.getFactoryMode())||(iB(161),!1)}var M6={moduleName:"ExcelExport",version:n5,beans:[class extends TZ{constructor(){super(...arguments),this.beanName="excelCreator"}getMergedParams(e){const t=this.gos.get("defaultExcelExportParams");return Object.assign({},t,e)}export(e){if(this.isExportSuppressed())return void iB(160);const t=this.getMergedParams(e),n={data:[this.getData(t)],fontSize:t.fontSize,author:t.author,mimeType:t.mimeType};this.packageCompressedFile(n).then(e=>{if(e){const{fileName:n}=t,i="function"===typeof n?n(iO(this.gos,{})):n;MZ(this.getFileName(i),e)}})}exportDataAsExcel(e){this.export(e)}getDataAsExcel(e){const t=this.getMergedParams(e),n={data:[this.getData(t)],fontSize:t.fontSize,author:t.author,mimeType:t.mimeType};return this.packageFile(n)}setFactoryMode(e){!function(e){P2=e}(e)}getFactoryMode(){return P2}getSheetDataForExcel(e){const t=this.getMergedParams(e);return this.getData(t)}getMultipleSheetsAsExcel(e){return t5(e)}exportMultipleSheetsAsExcel(e){(e=>{const{fileName:t="export.xlsx"}=e;e5(e).then(e=>{e&&MZ("function"===typeof t?t():t,e)})})(e)}getDefaultFileExtension(){return"xlsx"}createSerializingSession(e){var t;const{colModel:n,colNames:i,rowGroupColsSvc:o,valueSvc:r,gos:s}=this.beans,a=d(d({},e),{},{colModel:n,colNames:i,rowGroupColsSvc:o,valueSvc:r,gos:s,suppressRowOutline:e.suppressRowOutline||e.skipRowGroups,headerRowHeight:e.headerRowHeight||e.rowHeight,baseExcelStyles:s.get("excelStyles")||[],rightToLeft:null!==(t=e.rightToLeft)&&void 0!==t?t:s.get("enableRtl"),styleLinker:this.styleLinker.bind(this)});return new O2(a)}styleLinker(e){const{rowType:t,rowIndex:n,value:i,column:o,columnGroup:r,node:s}=e,a="HEADER"===t,l="HEADER_GROUPING"===t,u=a?o:r;let c=[];const{gos:d,cellStyles:h}=this.beans;if(a||l)return c.push("header"),l&&c.push("headerGroup"),u&&(c=c.concat(eV(u.getDefinition(),d,o||null,r||null))),c;const p=d.get("excelStyles"),g=["cell"];if(!p||!p.length)return g;const m=p.map(e=>e.id),v=o.getDefinition();return null===h||void 0===h||h.processAllCellClasses(v,iO(d,{value:i,data:s.data,node:s,colDef:v,column:o,rowIndex:n}),e=>{m.indexOf(e)>-1&&g.push(e)}),g.sort((e,t)=>m.indexOf(e)<m.indexOf(t)?-1:1)}isExportSuppressed(){return this.gos.get("suppressExcelExport")}packageCompressedFile(e){return e5(e)}packageFile(e){return t5(e)}}],apiFunctions:{getDataAsExcel:function(e,t){var n;if(_6(e))return null===(n=e.excelCreator)||void 0===n?void 0:n.getDataAsExcel(t)},exportDataAsExcel:function(e,t){var n;_6(e)&&(null===(n=e.excelCreator)||void 0===n||n.exportDataAsExcel(t))},getSheetDataForExcel:function(e,t){var n,i;return null===(n=e.excelCreator)||void 0===n||n.setFactoryMode("MULTI_SHEET"),null===(i=e.excelCreator)||void 0===i?void 0:i.getSheetDataForExcel(t)},getMultipleSheetsAsExcel:function(e,t){var n;return null===(n=e.excelCreator)||void 0===n?void 0:n.getMultipleSheetsAsExcel(t)},exportMultipleSheetsAsExcel:function(e,t){var n;null===(n=e.excelCreator)||void 0===n||n.exportMultipleSheetsAsExcel(t)}},dependsOn:[YX,i5]};var I6=class extends AG{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(function(e){const t=e.cssIdentifier||"default",n=e.direction||"vertical";return{tag:"div",cls:"ag-group ag-".concat(t,"-group"),role:"presentation",children:[{tag:"div",ref:"eToolbar",cls:"ag-group-toolbar ag-".concat(t,"-group-toolbar"),children:[{tag:"ag-checkbox",ref:"cbGroupEnabled"}]},{tag:"div",ref:"eContainer",cls:"ag-group-container ag-group-container-".concat(n," ag-").concat(t,"-group-container")}]}}(e),[wW]),this.params=e,this.suppressEnabledCheckbox=!0,this.suppressToggleExpandOnEnableChange=!1,this.eToolbar=kG,this.cbGroupEnabled=kG,this.eContainer=kG;const{enabled:t,items:n,suppressEnabledCheckbox:i,expanded:o,suppressToggleExpandOnEnableChange:r,useToggle:s}=e;this.cssIdentifier=e.cssIdentifier||"default",this.enabled=null==t||t,this.items=n||[],this.useToggle=null!==s&&void 0!==s&&s,this.alignItems=e.alignItems||"center",this.expanded=null==o||o,null!=i&&(this.suppressEnabledCheckbox=i),null!=r&&(this.suppressToggleExpandOnEnableChange=r)}postConstruct(){if(this.setupTitleBar(),this.items.length){const e=this.items;this.items=[],this.addItems(e)}const e=this.getLocaleTextFunc();this.cbGroupEnabled.setLabel(e("enabled","Enabled")),this.enabled&&this.setEnabled(this.enabled,void 0,!0),this.setAlignItems(this.alignItems);const{onEnableChange:t,onExpandedChange:n,suppressOpenCloseIcons:i}=this.params;this.hideEnabledCheckbox(this.suppressEnabledCheckbox),this.hideOpenCloseIcons(null!==i&&void 0!==i&&i),this.refreshChildDisplay(),XL(this.eContainer,this.expanded),this.cbGroupEnabled.onValueChange(e=>{this.setEnabled(e,!0,this.suppressToggleExpandOnEnableChange),this.dispatchEnableChangeEvent(e)}),null!=t&&this.onEnableChange(t),null!=n&&this.onExpandedChange(n)}refreshChildDisplay(){var e;XL(this.eToolbar,this.expanded&&!this.suppressEnabledCheckbox),null===(e=this.eTitleBar)||void 0===e||e.refreshOnExpand(this.expanded)}isExpanded(){return this.expanded}setAlignItems(e){this.alignItems!==e&&this.removeCss("ag-group-item-alignment-".concat(this.alignItems)),this.alignItems=e;const t="ag-group-item-alignment-".concat(this.alignItems);return this.addCss(t),this}toggleGroupExpand(e,t){var n;if(null!==(n=this.eTitleBar)&&void 0!==n&&n.isSuppressCollapse()&&!this.useToggle)e=!0,t=!0;else if(e=null!=e?e:!this.expanded,this.expanded===e)return this;return this.expanded=e,this.refreshChildDisplay(),XL(this.eContainer,e),t||this.dispatchLocalEvent({type:e?"expanded":"collapsed"}),this}addItems(e){e.forEach(e=>this.addItem(e))}prependItem(e){this.insertItem(e,!0)}addItem(e){this.insertItem(e,!1)}insertItem(e,t){const n=this.eContainer,i=e instanceof AG?e.getGui():e;i.classList.add("ag-group-item","ag-".concat(this.cssIdentifier,"-group-item")),t?(n.insertAdjacentElement("afterbegin",i),this.items.unshift(i)):(n.appendChild(i),this.items.push(i))}hideItem(e,t){XL(this.items[t],!e)}getItemIndex(e){const t=e instanceof AG?e.getGui():e;return this.items.indexOf(t)}setTitle(e){var t;return null===(t=this.eTitleBar)||void 0===t||t.setTitle(e),this}addTitleBarWidget(e){var t;return null===(t=this.eTitleBar)||void 0===t||t.addWidget(e),this}addCssClassToTitleBar(e){var t;null===(t=this.eTitleBar)||void 0===t||t.addCss(e)}dispatchEnableChangeEvent(e){const t={type:"enableChange",enabled:e};this.dispatchLocalEvent(t)}setEnabled(e,t,n){var i;(this.enabled=e,this.refreshDisabledStyles(),n||this.toggleGroupExpand(e),t)||(this.cbGroupEnabled.setValue(e),null===(i=this.eToggle)||void 0===i||i.setValue(e));return this}isEnabled(){return this.enabled}onEnableChange(e){return this.addManagedListeners(this,{enableChange:t=>e(t.enabled)}),this}onExpandedChange(e){return this.addManagedListeners(this,{expanded:()=>e(!0),collapsed:()=>e(!1)}),this}hideEnabledCheckbox(e){return this.suppressEnabledCheckbox=e,this.refreshChildDisplay(),this.refreshDisabledStyles(),this}hideOpenCloseIcons(e){var t;return null===(t=this.eTitleBar)||void 0===t||t.hideOpenCloseIcons(e),this}refreshDisabledStyles(){var e;const t=!this.enabled;this.eContainer.classList.toggle("ag-disabled",t),null===(e=this.eTitleBar)||void 0===e||e.refreshDisabledStyles(this.suppressEnabledCheckbox&&t),this.eContainer.classList.toggle("ag-disabled-group-container",t)}setupTitleBar(){const e=this.useToggle?this.createToggleTitleBar():this.createDefaultTitleBar();this.eToolbar.insertAdjacentElement("beforebegin",e.getGui())}createDefaultTitleBar(){const e=this.createManagedBean(new N6(this.params));return this.eTitleBar=e,e.refreshOnExpand(this.expanded),this.addManagedListeners(e,{expandedChanged:e=>this.toggleGroupExpand(e.expanded)}),e}createToggleTitleBar(){var e;const t=this.createManagedBean(new WW({value:this.enabled,label:this.params.title,labelAlignment:"left",labelWidth:"flex",onValueChange:e=>{this.setEnabled(e,!0),this.dispatchEnableChangeEvent(e)}}));return t.addCss("ag-group-title-bar"),t.addCss("ag-".concat(null!==(e=this.params.cssIdentifier)&&void 0!==e?e:"default","-group-title-bar ag-unselectable")),this.eToggle=t,this.toggleGroupExpand(this.enabled),t}},L6="ag-disabled-group-title-bar";var N6=class extends AG{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(function(e){var t;const n=null!==(t=e.cssIdentifier)&&void 0!==t?t:"default";return{tag:"div",cls:"ag-group-title-bar ag-".concat(n,"-group-title-bar ag-unselectable"),role:e.suppressKeyboardNavigation?"presentation":"role",children:[{tag:"span",ref:"eGroupOpenedIcon",cls:"ag-group-title-bar-icon ag-".concat(n,"-group-title-bar-icon"),role:"presentation"},{tag:"span",ref:"eGroupClosedIcon",cls:"ag-group-title-bar-icon ag-".concat(n,"-group-title-bar-icon"),role:"presentation"},{tag:"span",ref:"eTitle",cls:"ag-group-title ag-".concat(n,"-group-title")}]}}(e)),this.suppressOpenCloseIcons=!1,this.suppressKeyboardNavigation=!1,this.eGroupOpenedIcon=kG,this.eGroupClosedIcon=kG,this.eTitle=kG;const{title:t,suppressOpenCloseIcons:n,suppressKeyboardNavigation:i}=e;t&&t.length>0&&(this.title=t),null!=n&&(this.suppressOpenCloseIcons=n),this.suppressKeyboardNavigation=null!==i&&void 0!==i&&i}postConstruct(){this.setTitle(this.title),this.hideOpenCloseIcons(this.suppressOpenCloseIcons),this.setupExpandContract()}setupExpandContract(){this.eGroupClosedIcon.appendChild(dW("accordionClosed",this.beans,null)),this.eGroupOpenedIcon.appendChild(dW("accordionOpen",this.beans,null)),this.addManagedElementListeners(this.getGui(),{click:()=>this.dispatchExpandChanged(),keydown:e=>{switch(e.key){case sV.ENTER:case sV.SPACE:e.preventDefault(),this.dispatchExpandChanged();break;case sV.RIGHT:case sV.LEFT:e.preventDefault(),this.dispatchExpandChanged(e.key===sV.RIGHT)}}})}refreshOnExpand(e){this.refreshAriaStatus(e),this.refreshOpenCloseIcons(e)}refreshAriaStatus(e){this.suppressOpenCloseIcons||DL(this.getGui(),e)}refreshOpenCloseIcons(e){const t=!this.suppressOpenCloseIcons;XL(this.eGroupOpenedIcon,t&&e),XL(this.eGroupClosedIcon,t&&!e)}isSuppressCollapse(){return this.suppressOpenCloseIcons}dispatchExpandChanged(e){const t={type:"expandedChanged",expanded:e};this.dispatchLocalEvent(t)}setTitle(e){const t=this.getGui(),n=!!e&&e.length>0;e=n?e:void 0,this.eTitle.textContent=null!==e&&void 0!==e?e:"",XL(t,n),e!==this.title&&(this.title=e);const i=t.classList.contains(L6);return this.refreshDisabledStyles(i),this}addWidget(e){return this.getGui().appendChild(e),this}hideOpenCloseIcons(e){return this.suppressOpenCloseIcons=e,e&&this.dispatchExpandChanged(!0),this}refreshDisabledStyles(e){const t=this.getGui();e?(t.classList.add(L6),t.removeAttribute("tabindex")):(t.classList.remove(L6),"string"!==typeof this.title||this.suppressKeyboardNavigation?t.removeAttribute("tabindex"):t.setAttribute("tabindex","0"))}},B6={selector:"AG-GROUP-COMPONENT",component:I6};function O6(e){const{filters:t}=e;return t&&t.length>0?t:[{filter:"agTextColumnFilter"},{filter:"agSetColumnFilter"}]}function G6(e,t){if(null!=e)for(let n=e.length-1;n>=0;n--)t(e[n],n)}function z6(e,t,n,i){const o=[],r=null===e||void 0===e?void 0:e.filterModels;for(let a=0;a<t;a++){var s;o[a]=null!==(s=a===i?n:null===r||void 0===r?void 0:r[a])&&void 0!==s?s:null}return o.every(e=>null==e)?null:{filterType:"multi",filterModels:o}}function V6(e,t){var n,i;return null!==(n=null===e||void 0===e||null===(i=e.filterModels)||void 0===i?void 0:i[t])&&void 0!==n?n:null}function H6(e,t,n,i){const o=n.filterValueGetter;return o?e.colFilter.createGetValue(t,o):i}var j6=class extends uU{constructor(){super({tag:"div",cls:"ag-multi-filter ag-menu-list-compact"}),this.filterDefs=[],this.guiDestroyFuncs=[],this.filterGuis=[],this.lastActivatedMenuItem=null}postConstruct(){this.initialiseTabGuard({onFocusIn:e=>this.onFocusIn(e)})}refreshGui(e){return e===this.lastOpenedInContainer?PG.resolve():(this.tabGuardFeature.removeAllChildrenExceptTabGuards(),this.destroyChildren(),PG.all(this.getFilterWrappers().map((t,n)=>{if(!t)return PG.resolve(null);const i=this.getFilterFromWrapper(t),o=this.getCompFromWrapper(t),r=this.filterDefs[n],s=function(e,t){return null!=t.title?t.title:e instanceof LH?e.getFilterTitle():"Filter"}(i,r);let a;if("subMenu"===r.display&&"toolPanel"!==e)a=this.insertFilterMenu(o,i,s).then(e=>e.getGui());else if("subMenu"===r.display||"accordion"===r.display){const e=this.insertFilterGroup(i,o,s);a=PG.resolve(e.getGui())}else a=PG.resolve(o.getGui());return a})).then(t=>{t.forEach((e,t)=>{e&&(t>0&&this.appendChild(MN({tag:"div",cls:"ag-filter-separator"})),this.appendChild(e))}),this.filterGuis=t,this.lastOpenedInContainer=e}))}destroyChildren(){this.guiDestroyFuncs.forEach(e=>e()),this.guiDestroyFuncs.length=0,this.filterGuis.length=0}insertFilterMenu(e,t,n){gL(e.getGui(),"dialog");const i=this.createBean(new s4),o={getGui:()=>e.getGui(),afterGuiAttached:n=>{var i,o;(null===(i=e.afterGuiAttached)||void 0===i||i.call(e,n),e!==t)&&(null===(o=t.afterGuiAttached)||void 0===o||o.call(t,n))}};return i.init({menuItemDef:{name:n,subMenu:[],subMenuRole:"dialog",cssClasses:["ag-multi-filter-menu-item"],menuItem:G3,menuItemParams:{cssClassPrefix:"ag-compact-menu-option",isCompact:!0}},level:0,isAnotherSubMenuOpen:()=>!1,childComponent:o,contextParams:{column:null,node:null,value:null}}).then(()=>{i.setParentComponent(this),this.guiDestroyFuncs.push(()=>this.destroyBean(i)),this.addManagedListeners(i,{menuItemActivated:e=>{this.lastActivatedMenuItem&&this.lastActivatedMenuItem!==e.menuItem&&this.lastActivatedMenuItem.deactivate(),this.lastActivatedMenuItem=e.menuItem}});const e=i.getGui();return i.addManagedElementListeners(e,{keydown:e=>{const{key:t}=e;switch(t){case sV.UP:case sV.RIGHT:case sV.DOWN:case sV.LEFT:e.preventDefault(),t===sV.RIGHT&&i.openSubMenu(!0)}},focusin:()=>i.activate(),focusout:()=>{i.isSubMenuOpen()||i.isSubMenuOpening()||i.deactivate()}}),i})}insertFilterGroup(e,t,n){const i=this.createBean(new I6({title:n,cssIdentifier:"multi-filter"}));return this.guiDestroyFuncs.push(()=>this.destroyBean(i)),i.addItem(t.getGui()),i.toggleGroupExpand(!1),e.afterGuiAttached&&i.addManagedListeners(i,{expanded:()=>e.afterGuiAttached({container:this.lastOpenedInContainer,suppressFocus:!0,hidePopup:this.hidePopup})}),i}afterGuiAttached(e){let t;e?(this.hidePopup=e.hidePopup,t=this.refreshGui(e.container)):(this.hidePopup=void 0,t=PG.resolve());const n=null===e||void 0===e?void 0:e.suppressFocus;t.then(()=>{const{filterDefs:t,filterGuis:i,beans:o}=this,r=this.getFilterWrappers();let s=!!n;t&&G6(t,(t,o)=>{const a=0===o,l=t.display&&"inline"!==t.display,u=n||!a||l,c=d(d({},null!==e&&void 0!==e?e:{}),{},{suppressFocus:u}),h=r[o],p=h?this.getFilterFromWrapper(h):void 0;if(h){const e=this.getCompFromWrapper(h);e!==p&&e.afterGuiAttached(c)}if(p&&(this.executeFunctionIfExistsOnFilter(p,"afterGuiAttached",c),a&&!u&&(s=!0)),!n&&a&&l){const e=i[o];e&&(gV(e)||e.focus({preventScroll:!0}),s=!0)}});const a=SB(o);s||!EB(o)&&!this.getGui().contains(a)||this.forceFocusOutOfContainer(!0)})}afterGuiDetached(){this.executeFunctionIfExists("afterGuiDetached")}onAnyFilterChanged(){this.executeFunctionIfExists("onAnyFilterChanged",e=>this.executeOnWrapper(e,"onAnyFilterChanged"))}onNewRowsLoaded(){this.executeFunctionIfExists("onNewRowsLoaded",e=>this.executeOnWrapper(e,"onNewRowsLoaded"))}destroy(){this.destroyChildren(),this.hidePopup=void 0,super.destroy()}executeOnWrapper(e,t){}executeFunctionIfExists(e,t){G6(this.getFilterWrappers(),n=>{n&&(null===t||void 0===t||t(n),this.executeFunctionIfExistsOnFilter(this.getFilterFromWrapper(n),e))})}executeFunctionIfExistsOnFilter(e,t){const n=e[t];if("function"===typeof n){for(var i=arguments.length,o=new Array(i>2?i-2:0),r=2;r<i;r++)o[r-2]=arguments[r];n.apply(e,o)}}onFocusIn(e){const t=this.lastActivatedMenuItem;null==t||t.getGui().contains(e.target)||(t.deactivate(),this.lastActivatedMenuItem=null)}},W6=class extends j6{constructor(){super(...arguments),this.filterType="multi",this.wrappers=[],this.activeFilterIndices=[],this.afterFiltersReadyFuncs=[]}init(e){this.params=e,this.filterDefs=O6(e);const t=tH(this.beans.colFilter.model,e.column.getColId()),{filterChangedCallback:n}=e;this.filterChangedCallback=n;const i=this.filterDefs.map((e,n)=>this.createFilter(e,n,t));return new PG(e=>{PG.all(i).then(t=>{this.wrappers=t,this.refreshGui("columnMenu").then(()=>{e()})})}).then(()=>{this.afterFiltersReadyFuncs.forEach(e=>e()),this.afterFiltersReadyFuncs.length=0})}refresh(e){return this.params=e,!0}isFilterActive(){return this.wrappers.some(e=>{if(!e)return!1;const{filter:t,handler:n,model:i}=e;return n?null!=i:t.isFilterActive()})}getLastActiveFilterIndex(){const e=this.activeFilterIndices;return e.length>0?e[e.length-1]:null}doesFilterPass(e,t){return this.wrappers.every((n,i)=>{if(!n||null!=t&&i===t)return!0;const{handler:o,filter:r,model:s}=n;return o?null==s||o.doesFilterPass(d(d({},e),{},{model:s,handlerParams:n.handlerParams})):!r.isFilterActive()||r.doesFilterPass(e)})}getModelFromUi(){return{filterType:this.filterType,filterModels:this.wrappers.map(e=>{if(!e)return null;const t=e.filter;return"function"===typeof t.getModelFromUi?t.getModelFromUi():null})}}getModel(){if(!this.isFilterActive())return null;return{filterType:this.filterType,filterModels:this.wrappers.map(e=>{if(!e)return null;const{filter:t,handler:n,model:i}=e;return n?i:t.isFilterActive()?t.getModel():null})}}setModel(e){const t=[];return this.wrappers.forEach((n,i)=>{if(!n)return;const o=V6(e,i),{filter:r,filterParams:s,handler:a,handlerParams:l,state:u}=n;a?t.push(XV(()=>PG.resolve({filter:r,filterParams:s}),a,l,o,null!==u&&void 0!==u?u:{model:o},"api").then(()=>{n.model=o,this.updateActiveListForHandler(i,o)})):t.push(((e,t)=>new PG(n=>{const i=e.setModel(t);i?i.then(()=>n()):n()}))(r,o).then(()=>{this.updateActiveListForFilter(i,r)}))}),PG.all(t).then(()=>{})}applyModel(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"api",t=!1;return this.wrappers.forEach(n=>{if(n){const i=n.filter;i instanceof LH&&(t=i.applyModel(e)||t)}}),t}getChildFilterInstance(e){var t;return null===(t=this.wrappers[e])||void 0===t?void 0:t.filter}destroy(){this.wrappers.forEach(e=>{this.destroyBean(null===e||void 0===e?void 0:e.filter),this.destroyBean(null===e||void 0===e?void 0:e.handler)}),this.wrappers.length=0,super.destroy()}getFilterWrappers(){return this.wrappers}getFilterFromWrapper(e){return e.filter}getCompFromWrapper(e){return e.comp}executeOnWrapper(e,t){var n,i;null===(n=e.handler)||void 0===n||null===(i=n[t])||void 0===i||i.call(n)}createFilter(e,t,n){const i=this.params.column;let o,r=null;const s=this.beans,{compDetails:a,handler:l,handlerParams:u,createFilterUi:c}=s.colFilter.createFilterInstance(i,e,"agTextColumnFilter",(u,c)=>{const h=d(d({},u),{},{filterChangedCallback:c?()=>{}:e=>{this.executeWhenAllFiltersReady(()=>this.onFilterModelChanged(t,e))},doesRowPassOtherFilter:e=>u.doesRowPassOtherFilter(e)&&this.doesFilterPass({node:e,data:e.data},t),getValue:H6(s,i,e,u.getValue)});return c&&(r=V6(n,t),o=this.updateDisplayParams(h,t,r,()=>a,()=>l)),h});if(!c)return PG.resolve(null);let h;if(l){var p;const{onModelChange:n,doesRowPassOtherFilter:o,getValue:a}=u;h=d(d({},u),{},{onModelChange:(e,i)=>n(z6(this.params.model,this.wrappers.length,e,t),i),doesRowPassOtherFilter:e=>o(e)&&this.doesFilterPass({node:e,data:e.data},t),getValue:H6(s,i,e,a)}),null===(p=l.init)||void 0===p||p.call(l,d(d({},h),{},{model:r,source:"init"}))}return c().then(e=>{if(!l)return{filter:e,comp:e};const t=null===a||void 0===a?void 0:a.params;return{filter:e,comp:o(e),filterParams:t,handler:l,handlerParams:h,model:r}})}updateDisplayParams(e,t,n,i,o){const r=this.params.column,s=new zI;e.model=n,e.state={model:n},e.onModelChange=(e,n)=>{var i;const o=this.wrappers[t];o&&XV(()=>PG.resolve({filter:o.filter,filterParams:o.filterParams}),o.handler,o.handlerParams,e,null!==(i=o.state)&&void 0!==i?i:{model:e},"ui").then(()=>{o.model=e,this.onHandlerModelChanged(t,e,n)})},e.getHandler=o;const a=(e,t)=>{e.state=t,s.dispatchEvent({type:"filterStateChanged",column:r,state:t})};e.onStateChange=e=>{var n;const i=this.wrappers[t];i&&(a(i,e),QV(i.filter,i.filterParams,null!==(n=i.model)&&void 0!==n?n:null,e,"ui"))};const l=(e,n,o)=>{const r=this.wrappers[t];if(!r)return;const s=()=>{var e;return null!==(e=null===r||void 0===r?void 0:r.model)&&void 0!==e?e:null};eH(n,()=>{const e=PG.resolve(r.filter);return{created:!0,filterParams:r.filterParams,compDetails:i(),create:()=>e,promise:e}},s,()=>{var e;return null!==(e=null===r||void 0===r?void 0:r.state)&&void 0!==e?e:{model:s()}},e=>a(r,e),e=>{var t;return null===(t=r.filterParams)||void 0===t?void 0:t.onModelChange(e,o)})};return e.onAction=(e,t,n)=>{l(0,e,t),s.dispatchEvent({type:"filterAction",column:r,action:e,event:n})},e=>{var t;const n=null===(t=i())||void 0===t?void 0:t.params;return this.createManagedBean(new lH(r,{comp:e,params:n,isHandler:!0},s,l,!1))}}executeWhenAllFiltersReady(e){var t,n;(null!==(t=null===(n=this.wrappers)||void 0===n?void 0:n.length)&&void 0!==t?t:0)>0?e():this.afterFiltersReadyFuncs.push(e)}updateActiveListForFilter(e,t){this.updateActiveList(e,()=>null===t||void 0===t?void 0:t.isFilterActive())}updateActiveListForHandler(e,t){this.updateActiveList(e,()=>null!=t)}updateActiveList(e,t){const n=this.activeFilterIndices;LO(this.activeFilterIndices,e),t()&&n.push(e)}onFilterModelChanged(e,t){var n;this.updateActiveListForFilter(e,null===(n=this.wrappers[e])||void 0===n?void 0:n.filter),this.filterChanged(e,t)}onHandlerModelChanged(e,t,n){this.updateActiveListForHandler(e,t),this.filterChanged(e,n)}filterChanged(e,t){this.filterChangedCallback(t),this.wrappers.forEach((t,n)=>{var i;if(e===n||!t)return;const{filter:o,handler:r}=t;null===r||void 0===r||null===(i=r.onAnyFilterChanged)||void 0===i||i.call(r),"function"===typeof o.onAnyFilterChanged&&o.onAnyFilterChanged()})}getModelAsString(e){var t,n,i,o,r;if(null===e||void 0===e||null===(t=e.filterModels)||void 0===t||!t.length)return"";const s=null!==(n=this.getLastActiveFilterIndex())&&void 0!==n?n:0,a=null===(i=this.wrappers[s])||void 0===i?void 0:i.filter;return null!==(o=null===a||void 0===a||null===(r=a.getModelAsString)||void 0===r?void 0:r.call(a,e.filterModels[s]))&&void 0!==o?o:""}},U6=class extends j6{constructor(){super(...arguments),this.filterType="multi",this.filters=[],this.filterParams=[],this.validity=[]}init(e){this.params=e,this.filterDefs=O6(e),this.allState=e.state;const t=this.filterDefs.map((e,t)=>this.createFilter(e,t));return new PG(e=>{PG.all(t).then(t=>{this.filters=t,this.refreshGui("columnMenu").then(()=>{e()})})})}refresh(e){const{model:t,state:n,source:i}=e;if("colDef"===i)return!1;this.params=e;const o=this.filterParams;if(n===this.allState)return!0;this.allState=n;const r=n.state;return this.filters.forEach((e,s)=>{const a=V6(t,s),l={state:null===r||void 0===r?void 0:r[s],model:V6(n.model,s)};QV(e,o[s],a,l,i)}),!0}getLastActiveFilterIndex(){var e,t,n;return null!==(e=null===(t=(n=this.getHandler()).getLastActiveFilterIndex)||void 0===t?void 0:t.call(n))&&void 0!==e?e:null}getChildFilterInstance(e){var t;return null!==(t=this.filters[e])&&void 0!==t?t:void 0}destroy(){this.filters.forEach(e=>this.destroyBean(e)),this.filters.length=0,super.destroy()}getFilterWrappers(){return this.filters}getFilterFromWrapper(e){return e}getCompFromWrapper(e){return e}createFilter(e,t){const n=iz(this.beans.userCompFactory,e,this.updateParams(e,this.params,t),"agTextColumnFilter");return n?(this.filterParams[t]=n.params,n.newAgStackInstance()):PG.resolve(null)}updateParams(e,t,n){var i;const{doesRowPassOtherFilter:o,model:r,onModelChange:s,state:a,onStateChange:l,column:u,source:c,onAction:h,onUiChange:p,getValue:g}=t,m=V6(r,n),v=a?{model:V6(a.model,n),state:null===(i=a.state)||void 0===i?void 0:i[n]}:{model:m},f=()=>{const e=this.getHandler();this.filters.forEach((t,i)=>{var o,r,s;n!==i&&(null===(o=e.getHandler(i))||void 0===o||null===(r=o.onAnyFilterChanged)||void 0===r||r.call(o),null===t||void 0===t||null===(s=t.onAnyFilterChanged)||void 0===s||s.call(t))})},w=this.beans.colFilter;return d(d(d({},w.createBaseFilterParams(u)),e),{},{doesRowPassOtherFilter:e=>o(e)&&this.getHandler().doesFilterPass({node:e,data:e.data,model:this.params.model,handlerParams:w.getHandlerParams(u)},n),model:m,state:v,onModelChange:(e,t)=>{const{filters:i,params:o}=this,r=z6(o.model,i.length,e,n);this.updateActiveList(n,e),s(r,t),f()},onStateChange:e=>this.onStateChange(l,n,e),getHandler:()=>this.getHandler().getHandler(n),onAction:(e,i,o)=>{if(aH(t))return;const r="apply"===e||"reset"===e;r&&this.updateActiveList(n,V6(this.params.state.model,n)),h(e,i,o),r&&f()},onUiChange:p,source:c,getValue:H6(this.beans,u,e,g)})}updateActiveList(e,t){var n,i;null===(n=(i=this.getHandler()).updateActiveList)||void 0===n||n.call(i,e,t)}getHandler(){return this.params.getHandler()}onStateChange(e,t,n){var i;const{model:o,state:r,valid:s}=n,a=this.validity;a[t]=s;const l=this.allState,u=z6(l.model,this.filters.length,o,t),c=a.every(e=>!1!==e),d=[...null!==(i=l.state)&&void 0!==i?i:[]];d[t]=r;const h={state:d,model:u,valid:c};this.allState=h,e(h)}getModelAsString(e){var t,n,i;return null!==(t=null===(n=(i=this.getHandler()).getModelAsString)||void 0===n?void 0:n.call(i,e))&&void 0!==t?t:""}},K6={tag:"div",cls:"ag-multi-floating-filter ag-floating-filter-input"},q6={moduleName:"MultiFilter",version:n5,userComponents:{agMultiColumnFilter:{getComp:e=>e.gos.get("enableFilterHandlers")?{classImp:U6,params:{useForm:!0}}:W6},agMultiColumnFloatingFilter:class extends AG{constructor(){super(K6),this.floatingFilters=[],this.compDetailsList=[]}init(e){this.params=e;const{compDetailsList:t}=this.getCompDetailsList(e);return this.setParams(t)}setParams(e){const t=[];return e.forEach(e=>{const n=null===e||void 0===e?void 0:e.newAgStackInstance();null!=n&&(this.compDetailsList.push(e),t.push(n))}),PG.all(t).then(e=>{e.forEach((e,t)=>{this.floatingFilters.push(e);const n=e.getGui();this.appendChild(n),t>0&&XL(n,!1)})})}refresh(e){this.params=e;const{compDetailsList:t,floatingFilterParamsList:n}=this.getCompDetailsList(e),i=t.length===this.compDetailsList.length&&t.every((e,t)=>{var n;return!(null!==(n=this.beans.colFilter)&&void 0!==n&&n.areFilterCompsDifferent(this.compDetailsList[t],e))});if(i){if(n.forEach((e,t)=>{var n;const i=this.floatingFilters[t];null===(n=i.refresh)||void 0===n||n.call(i,e)}),this.gos.get("enableFilterHandlers")){const t=e;if(null==t.model)this.floatingFilters.forEach((e,t)=>{XL(e.getGui(),0===t)});else{var o,r;const e=null===(o=t.getHandler())||void 0===o||null===(r=o.getLastActiveFilterIndex)||void 0===r?void 0:r.call(o);this.floatingFilters.forEach((t,n)=>{const i=null==e?0===n:n===e;XL(t.getGui(),i)})}}}else uN(this.getGui()),this.destroyBeans(this.floatingFilters),this.floatingFilters=[],this.compDetailsList=[],this.setParams(t)}getCompDetailsList(e){const t=[],n=[],i=e.filterParams,o=e.currentParentModel,r=O6(i);return r.forEach((i,s)=>{const a=d(d({},e),{},{parentFilterInstance:e=>{this.parentMultiFilterInstance(t=>{const n=t.getChildFilterInstance(s);null!=n&&e(n)})},currentParentModel:()=>{var e,t;return null!==(e=null===(t=o())||void 0===t||null===(t=t.filterModels)||void 0===t?void 0:t[s])&&void 0!==e?e:null}});if(this.gos.get("enableFilterHandlers")){var l,u;const e=a;e.model=null!==(l=null===(u=e.model)||void 0===u||null===(u=u.filterModels)||void 0===u?void 0:u[s])&&void 0!==l?l:null;const{onModelChange:t,getHandler:n}=e;e.onModelChange=(e,n)=>t(z6(this.params.model,r.length,e,s),n),e.getHandler=()=>n().getHandler(s)}XI(a.filterParams,i.filterParams);const c=this.getCompDetails(i,a);c&&(t.push(c),n.push(a))}),{compDetailsList:t,floatingFilterParamsList:n}}onParentModelChanged(e,t){t&&t.afterFloatingFilter||this.parentMultiFilterInstance(n=>{if(null==e)this.floatingFilters.forEach((e,n)=>{e.onParentModelChanged(null,t),XL(e.getGui(),0===n)});else{const i=n.getLastActiveFilterIndex();this.floatingFilters.forEach((n,o)=>{const r=e.filterModels.length>o?e.filterModels[o]:null;n.onParentModelChanged(r,t);const s=null==i?0===o:o===i;XL(n.getGui(),s)})}})}destroy(){this.destroyBeans(this.floatingFilters),this.floatingFilters.length=0,super.destroy()}getCompDetails(e,t){var n;const{colFilter:i,frameworkOverrides:o,userCompFactory:r}=this.beans;return oz(r,e,t,null!==(n=NH(o,e,()=>i.getDefaultFloatingFilter(this.params.column)))&&void 0!==n?n:"agReadOnlyFloatingFilter")}parentMultiFilterInstance(e){this.params.parentFilterInstance(t=>{t instanceof W6||t instanceof U6||oB(120),e(t)})}}},beans:[class extends vO{constructor(){super(...arguments),this.beanName="multiFilter"}getParamsForDataType(e,t,n,i){let o=null===e||void 0===e?void 0:e.filters;const r=this.beans;if(!o){o=[{filter:AH(n.baseDataType)},{filter:"agSetColumnFilter"}]}const s=this.getLocaleTextFunc();return o=o.map(e=>{const{filter:o,filterParams:a,filterValueGetter:l}=e;if("string"!==typeof o)return e;const{filterParams:u,filterValueGetter:c}=EH(o,a,null!==l&&void 0!==l?l:t,n,i,r,s);return d(d({},e),{},{filterParams:u,filterValueGetter:c})}),{filterParams:d(d({},e),{},{filters:o})}}}],dynamicBeans:{agMultiColumnFilterHandler:class extends vO{constructor(){super(...arguments),this.filterType="multi",this.handlerWrappers=[],this.activeFilterIndices=[],this.filterDefs=[]}init(e){this.params=e;const t=O6(e.filterParams);this.filterDefs=t,t.forEach((t,n)=>{var i;const o=this.beans.colFilter.createHandler(e.column,t,"agTextColumnFilter");if(this.handlerWrappers.push(o),!o)return void iB(278,{colId:e.column.getColId()});const{handler:r,handlerParams:s}=o;null===(i=r.init)||void 0===i||i.call(r,d(d({},this.updateHandlerParams(s,n)),{},{model:V6(e.model,n),source:"init"}))}),this.resetActiveList(e.model)}refresh(e){this.params=e;const{model:t,source:n,filterParams:i}=e,o=null===i||void 0===i?void 0:i.filters;this.handlerWrappers.forEach((i,r)=>{if(i){var s,a;const l=this.updateHandlerParams(e,r).filterParams,u=null===o||void 0===o?void 0:o[r].filterParams,c=u?d(d({},l),u):l,h=d(d({},this.updateHandlerParams(e,r)),{},{filterParams:c});i.handlerParams=h,null===(s=(a=i.handler).refresh)||void 0===s||s.call(a,d(d({},h),{},{model:V6(t,r),source:n}))}}),"floating"!==e.source&&"ui"!==e.source&&this.resetActiveList(e.model)}updateHandlerParams(e,t){const{onModelChange:n,doesRowPassOtherFilter:i,getValue:o}=e,r=d(d({},e),{},{onModelChange:(e,i)=>n(z6(this.params.model,this.handlerWrappers.length,e,t),i),doesRowPassOtherFilter:e=>i(e)&&this.doesFilterPass({node:e,data:e.data,model:this.params.model,handlerParams:r},t),getValue:H6(this.beans,e.column,this.filterDefs[t],o)});return r}doesFilterPass(e,t){var n;const i=null===(n=e.model)||void 0===n?void 0:n.filterModels;return null==i||this.handlerWrappers.every((n,o)=>{const r=i[o];if(null==r||null!=t&&o===t)return!0;const s=null===n||void 0===n?void 0:n.handler;return!s||s.doesFilterPass(d(d({},e),{},{model:r,handlerParams:n.handlerParams}))})}resetActiveList(e){this.activeFilterIndices=[];const t=null===e||void 0===e?void 0:e.filterModels;if(null!=t)for(let n=0;n<this.handlerWrappers.length;n++){null!=t[n]&&this.activeFilterIndices.push(n)}}updateActiveList(e,t){const n=this.activeFilterIndices;LO(n,e),null!=t&&n.push(e)}getLastActiveFilterIndex(){const e=this.activeFilterIndices;return e.length>0?e[e.length-1]:null}getModelAsString(e,t){var n,i,o,r,s;const a="filterToolPanel"===t,l=()=>a?this.getLocaleTextFunc()("filterSummaryInactive","is (All)"):"";if(null===e||void 0===e||null===(n=e.filterModels)||void 0===n||!n.length)return l();const u=null!==(i=this.getLastActiveFilterIndex())&&void 0!==i?i:0,c=this.handlerWrappers[u];return null!==(o=null===c||void 0===c||null===(r=(s=c.handler).getModelAsString)||void 0===r?void 0:r.call(s,e.filterModels[u],t))&&void 0!==o?o:l()}getHandler(e){var t;return null===(t=this.handlerWrappers[e])||void 0===t?void 0:t.handler}onAnyFilterChanged(){G6(this.handlerWrappers,e=>{var t,n;return null===e||void 0===e||null===(t=e.handler)||void 0===t||null===(n=t.onAnyFilterChanged)||void 0===n?void 0:n.call(t)})}onNewRowsLoaded(){G6(this.handlerWrappers,e=>{var t,n;return null===e||void 0===e||null===(t=e.handler)||void 0===t||null===(n=t.onNewRowsLoaded)||void 0===n?void 0:n.call(t)})}destroy(){this.handlerWrappers.forEach(e=>this.destroyBean(null===e||void 0===e?void 0:e.handler)),this.handlerWrappers.length=0,super.destroy()}}},dependsOn:[i5,N$,z3]},Y6={sum:"Sum",first:"First",last:"Last",min:"Min",max:"Max",count:"Count",avg:"Average"};function Z6(e){const{values:t}=e;let n=null;for(let i=0;i<t.length;i++){const e=t[i];"number"===typeof e?null===n?n=e:n+="number"===typeof n?e:BigInt(e):"bigint"===typeof e&&(n=null===n?e:("bigint"===typeof n?n:BigInt(n))+e)}return n}function $6(e){return e.values.length>0?e.values[0]:null}function X6(e){return e.values.length>0?_O(e.values):null}function Q6(e){const{values:t}=e;let n=null;for(let i=0;i<t.length;i++){const e=t[i];"number"!==typeof e&&"bigint"!==typeof e||!(null===n||n>e)||(n=e)}return n}function J6(e){const{values:t}=e;let n=null;for(let i=0;i<t.length;i++){const e=t[i];"number"!==typeof e&&"bigint"!==typeof e||!(null===n||n<e)||(n=e)}return n}var e8=Object.freeze({toString:function(){return this.value.toString()},toNumber:function(){return this.value}});function t8(e){var t;const{values:n}=e;let i=0;for(let s=0;s<n.length;s++){const e=n[s];i+=null!=e&&"number"===typeof e.value?e.value:1}const o=null===(t=e.rowNode)||void 0===t||null===(t=t.aggData)||void 0===t?void 0:t[e.column.getColId()];if(o&&o.value===i)return o;const r=Object.create(e8);return r.value=i,r}var n8=Object.freeze({toString:function(){return"number"===typeof this.value||"bigint"===typeof this.value?this.value.toString():""},toNumber:function(){return this.value}});function i8(e){var t,n;const{values:i}=e;let o=0,r=0;for(let u=0;u<i.length;u++){const e=i[u];let t=null;"number"===typeof e||"bigint"===typeof e?(t=e,r++):null==e||"number"!==typeof e.value&&"bigint"!==typeof e.value||"number"!==typeof e.count||(t=e.value*("number"===typeof e.value?e.count:BigInt(e.count)),r+=e.count),"number"===typeof t?o+="number"===typeof o?t:BigInt(t):"bigint"===typeof t&&(o=("bigint"===typeof o?o:BigInt(o))+t)}let s=null;r>0&&(s=o/("number"===typeof o?r:BigInt(r)));const a=null===(t=e.rowNode)||void 0===t||null===(t=t.aggData)||void 0===t?void 0:t[null===(n=e.column)||void 0===n?void 0:n.getColId()];if(a&&a.count===r&&a.value===s)return a;const l=Object.create(n8);return l.count=r,l.value=s,l}function o8(e,t,n,i,o,r){const s="string"===typeof n?e.aggFuncSvc.getAggFunc(n):n;if("function"!==typeof s)return iB(109,{inputValue:n.toString(),allSuggestions:e.aggFuncSvc.getFuncNames(i)}),null;return s(iO(e.gos,{values:t,column:i,colDef:i.colDef,pivotResultColumn:r,rowNode:o,data:null===o||void 0===o?void 0:o.data}))}function r8(e,t){if(e.sibling)return;const n=qV(e,t);n.footer=!0,n.setRowTop(null),n.setRowIndex(null),n.oldRowTop=null,n.id="rowGroupFooter_"+e.id,n.sibling=e,e.sibling=n}function s8(e){e.sibling&&(e.sibling.setRowTop(null),e.sibling.setRowIndex(null),e.sibling=void 0)}var a8=class extends yG{constructor(){super(...arguments),this.beanName="valueColsSvc",this.eventName="columnValueChanged",this.columnProcessors={set:(e,t,n)=>this.setValueActive(t,e,n),add:(e,t,n)=>this.setValueActive(!0,e,n),remove:(e,t,n)=>this.setValueActive(!1,e,n)},this.columnExtractors={setFlagFunc:(e,t,n)=>this.setColValueActive(e,t,n),getIndexFunc:()=>{},getInitialIndexFunc:()=>{},getValueFunc:e=>{const t=e.aggFunc;return null===t||""===t?null:void 0!==t?!!t:void 0},getInitialValueFunc:e=>null!=e.initialAggFunc&&""!=e.initialAggFunc},this.modifyColumnsNoEventsCallbacks={addCol:e=>this.columns.push(e),removeCol:e=>LO(this.columns,e)}}extractCols(e,t){return this.columns=super.extractCols(e,t),this.columns.forEach(e=>{const t=e.getColDef();null!=t.aggFunc&&""!=t.aggFunc?this.setColAggFunc(e,t.aggFunc):e.getAggFunc()||this.setColAggFunc(e,t.initialAggFunc)}),this.columns}setColumnAggFunc(e,t,n){if(!e)return;const i=this.colModel.getColDefCol(e);i&&(this.setColAggFunc(i,t),this.dispatchColumnChangedEvent(this.eventSvc,this.eventName,[i],n))}syncColumnWithState(e,t,n){const i=n("aggFunc").value1;void 0!==i&&("string"===typeof i?(this.setColAggFunc(e,i),e.isValueActive()||(this.setColValueActive(e,!0,t),this.modifyColumnsNoEventsCallbacks.addCol(e))):(UI(i)&&iB(33),e.isValueActive()&&(this.setColValueActive(e,!1,t),this.modifyColumnsNoEventsCallbacks.removeCol(e))))}setValueActive(e,t,n){if(e!==t.isValueActive()&&(this.setColValueActive(t,e,n),e&&!t.getAggFunc()&&this.aggFuncSvc)){const e=this.aggFuncSvc.getDefaultAggFunc(t);this.setColAggFunc(t,e)}}setColAggFunc(e,t){e.aggFunc=t,e.dispatchStateUpdatedEvent("aggFunc")}setColValueActive(e,t,n){e.aggregationActive!==t&&(e.aggregationActive=t,e.dispatchColEvent("columnValueChanged",n))}},l8={moduleName:"SharedAggregation",version:n5,beans:[class extends vO{constructor(){super(...arguments),this.beanName="aggFuncSvc",this.aggFuncsMap={},this.initialised=!1}postConstruct(){this.init()}init(){this.initialised||(this.initialiseWithDefaultAggregations(),this.addAggFuncs(this.gos.get("aggFuncs")))}initialiseWithDefaultAggregations(){const e=this.aggFuncsMap;e.sum=Z6,e.first=$6,e.last=X6,e.min=Q6,e.max=J6,e.count=t8,e.avg=i8,this.initialised=!0}isAggFuncPossible(e,t){const n=this.getFuncNames(e).includes(t),i=UI(this.aggFuncsMap[t]);return n&&i}getDefaultFuncLabel(e){var t;return null!==(t=Y6[e])&&void 0!==t?t:e}getDefaultAggFunc(e){const t=e.getColDef().defaultAggFunc;if(UI(t)&&this.isAggFuncPossible(e,t))return t;if(this.isAggFuncPossible(e,"sum"))return"sum";const n=this.getFuncNames(e);return null!==n&&void 0!==n&&n.length?n[0]:null}addAggFuncs(e){if(this.init(),e)for(const t of Object.keys(e))e[t]&&(this.aggFuncsMap[t]=e[t])}getAggFunc(e){return this.init(),this.aggFuncsMap[e]}getFuncNames(e){const t=e.getColDef().allowedAggFuncs;return null==t?Object.keys(this.aggFuncsMap).sort():t}clear(){this.aggFuncsMap={}}},class extends vO{constructor(){super(...arguments),this.beanName="aggColNameSvc"}getHeaderName(e,t){if(this.gos.get("suppressAggFuncInHeader"))return t;const{valueColsSvc:n,colModel:i,rowGroupColsSvc:o}=this.beans,r=e.getColDef().pivotValueColumn;let s,a=null;if(UI(r)){var l;const i=null!==(l=null===n||void 0===n?void 0:n.columns)&&void 0!==l?l:[],o=this.gos.get("removePivotHeaderRowWhenSingleValueColumn")&&1===i.length,u=void 0!==e.getColDef().pivotTotalColumnIds;if(o&&!u)return t;a=r?r.getAggFunc():null,s=!0}else{const t=e.isValueActive(),n=i.isPivotMode()||0!==(null===o||void 0===o?void 0:o.columns.length);t&&n?(a=e.getAggFunc(),s=!0):s=!1}if(s){const e="string"===typeof a?a:"func",n=this.getLocaleTextFunc()(e,e);return"".concat(n,"(").concat(t,")")}return t}},class extends vO{constructor(){super(...arguments),this.beanName="footerSvc"}addTotalRows(e,t,n,i,o,r){let s=e;if(o){return function(e,t){switch(t){case"top":case"pinnedTop":return"top"===e;case"bottom":case"pinnedBottom":return"bottom"===e;default:return!1}}(r,i&&PB(this.gos))&&(r8(t,this.beans),n(t.sibling,s++)),s}const a=TB(this.gos);return(i&&a({node:t}))===r&&(r8(t,this.beans),n(t.sibling,s++)),s}getTopDisplayIndex(e,t,n,i){let o=t;if(e[0].footer){if(0===t)return 0;o-=1}const r=e[e.length-1],s=o>=n.length;return r.footer&&s?r.rowIndex:i(o)}doesCellShowTotalPrefix(e,t){return!(!e.footer||null===t||void 0===t||!t.getColDef().showRowGroup)&&(!!this.gos.get("treeData")||(-1===e.level?(null===(n=this.beans.showRowGroupCols)||void 0===n?void 0:n.getShowRowGroupCols()[0])===t:!!e.rowGroupColumn&&t&&t.isRowGroupDisplayed(e.rowGroupColumn.getId())));var n}applyTotalPrefix(e,t,n,i){var o,r;const s=null===(o=i.getColDef().cellRendererParams)||void 0===o?void 0:o.totalValueGetter;if(s){const o=iO(this.gos,{column:i,node:n,value:e,formattedValue:t});if("function"===typeof s)return s(o);var a;if("string"===typeof s)return null===(a=this.beans.expressionSvc)||void 0===a?void 0:a.evaluate(s,o);iB(179)}return-1===n.level?this.getLocaleTextFunc()("footerTotal","Total")+" ":null!==(r=this.getTotalValue(null!==t&&void 0!==t?t:e))&&void 0!==r?r:""}getTotalValue(e){return this.getLocaleTextFunc()("footerTotal","Total")+" "+(null!==e&&void 0!==e?e:"")}},a8],apiFunctions:{addAggFuncs:function(e,t){e.aggFuncSvc&&e.aggFuncSvc.addAggFuncs(t)},clearAggFuncs:function(e){e.aggFuncSvc&&e.aggFuncSvc.clear()},setColumnAggFunc:function(e,t,n){var i,o;null===(i=e.valueColsSvc)||void 0===i||null===(o=i.setColumnAggFunc)||void 0===o||o.call(i,t,n,"api")}},dependsOn:[i5]},u8={moduleName:"Aggregation",version:n5,beans:[class extends vO{constructor(){super(...arguments),this.beanName="aggStage",this.refreshProps=new Set(["getGroupRowAgg","alwaysAggregateAtRootLevel","suppressAggFilteredOnly","grandTotalRow"]),this.step="aggregate"}wireBeans(e){this.colModel=e.colModel,this.pivotColsSvc=e.pivotColsSvc,this.valueColsSvc=e.valueColsSvc,this.pivotResultCols=e.pivotResultCols,this.valueSvc=e.valueSvc}execute(e){var t,n;const i=!(null!==(t=this.valueColsSvc)&&void 0!==t&&null!==(t=t.columns)&&void 0!==t&&t.length),o=!this.gos.getCallback("getGroupRowAgg");if(i&&o&&null!==(n=e.changedPath)&&void 0!==n&&n.active)return;const r=this.createAggDetails(e);this.recursivelyCreateAggData(r)}createAggDetails(e){var t;const n=this.colModel.isPivotActive(),i=null===(t=this.valueColsSvc)||void 0===t?void 0:t.columns,o=n&&this.pivotColsSvc?this.pivotColsSvc.columns:[];return{alwaysAggregateAtRootLevel:this.gos.get("alwaysAggregateAtRootLevel"),groupIncludeTotalFooter:!!PB(this.gos),changedPath:e.changedPath,valueColumns:null!==i&&void 0!==i?i:[],pivotColumns:o,filteredOnly:!this.isSuppressAggFilteredOnly(),userAggFunc:this.gos.getCallback("getGroupRowAgg")}}isSuppressAggFilteredOnly(){return void 0!==RB(this.gos)||this.gos.get("suppressAggFilteredOnly")}recursivelyCreateAggData(e){e.changedPath.forEachChangedNodeDepthFirst(t=>{if(!t.hasChildren())return void(t.aggData&&this.setAggData(t,null));if(-1===t.level&&!e.groupIncludeTotalFooter){const n=!this.colModel.isPivotMode();if(!e.alwaysAggregateAtRootLevel&&n)return void this.setAggData(t,null)}this.aggregateRowNode(t,e)},!0)}aggregateRowNode(e,t){const n=0===t.valueColumns.length,i=0===t.pivotColumns.length;let o;o=t.userAggFunc?t.userAggFunc({nodes:e.childrenAfterFilter}):n?null:i?this.aggregateRowNodeUsingValuesOnly(e,t):this.aggregateRowNodeUsingValuesAndPivot(e),this.setAggData(e,o),e.sibling&&(this.setAggData(e.sibling,o),e.sibling.pinnedSibling&&this.setAggData(e.sibling.pinnedSibling,o))}aggregateRowNodeUsingValuesAndPivot(e){var t,n;const i={},o=null!==(t=null===(n=this.pivotResultCols)||void 0===n||null===(n=n.getPivotResultCols())||void 0===n?void 0:n.list)&&void 0!==t?t:[];let r=!0;const s=this.beans;for(let l=0;l<o.length;l++){var a;const t=o[l],n=t.getColDef();if(null!=n.pivotTotalColumnIds){r=!1;continue}const u=null!==(a=n.pivotKeys)&&void 0!==a?a:[];let c;c=e.leafGroup?this.getValuesFromMappedSet(e.childrenMapped,u,n.pivotValueColumn):this.getValuesPivotNonLeaf(e,n.colId),i[n.colId]=o8(s,c,n.pivotValueColumn.getAggFunc(),n.pivotValueColumn,e,t)}if(!r)for(let l=0;l<o.length;l++){const t=o[l],n=t.getColDef();if(null==n.pivotTotalColumnIds||!n.pivotTotalColumnIds.length)continue;const r=n.pivotTotalColumnIds.map(e=>i[e]);i[n.colId]=o8(s,r,n.pivotValueColumn.getAggFunc(),n.pivotValueColumn,e,t)}return i}aggregateRowNodeUsingValuesOnly(e,t){const n={},{changedPath:i,valueColumns:o,filteredOnly:r}=t,s=i.active?i.getValueColumnsForNode(e,o):o,a=i.active?i.getNotValueColumnsForNode(e,o):null,l=this.getValuesNormal(e,s,r),u=e.aggData,c=this.beans;return s.forEach((t,i)=>{n[t.getId()]=o8(c,l[i],t.getAggFunc(),t,e)}),a&&u&&a.forEach(e=>{n[e.getId()]=u[e.getId()]}),n}getValuesPivotNonLeaf(e,t){return e.childrenAfterFilter.map(e=>e.aggData[t])}getValuesFromMappedSet(e,t,n){let i=e;for(let o=0;o<t.length;o++){const e=t[o];i=i?i[e]:null}return i?i.map(e=>this.valueSvc.getValue(n,e)):[]}getValuesNormal(e,t,n){const i=[];t.forEach(()=>i.push([]));const o=t.length,r=n?e.childrenAfterFilter:e.childrenAfterGroup,s=r.length;for(let a=0;a<s;a++){const e=r[a];for(let n=0;n<o;n++){const o=t[n],r=this.valueSvc.getValue(o,e);i[n].push(r)}}return i}setAggData(e,t){const n=e.aggData;if(e.aggData=t,e.__localEventService){const i=t=>{const i=e.aggData?e.aggData[t]:void 0,o=n?n[t]:void 0;if(i===o)return;const r=this.colModel.getColById(t);r&&e.dispatchCellChangedEvent(r,i,o)};if(n)for(const e of Object.keys(n))i(e);if(t)for(const e of Object.keys(t))n&&e in n||i(e)}}},class extends vO{constructor(){super(...arguments),this.beanName="filterAggStage",this.refreshProps=new Set([]),this.step="filter_aggregates"}wireBeans(e){this.filterManager=e.filterManager}execute(e){var t,n,i=this;const o=this.beans.colModel.isPivotMode(),r=(null===(t=this.filterManager)||void 0===t?void 0:t.isAggregateFilterPresent())||(null===(n=this.filterManager)||void 0===n?void 0:n.isAggregateQuickFilterPresent()),s=RB(this.gos)||(o?e=>e.node.leafGroup:e=>!e.node.group),{changedPath:a}=e,l=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.childrenAfterFilter&&(e.childrenAfterAggFilter=e.childrenAfterFilter,t&&e.childrenAfterAggFilter.forEach(e=>l(e,t)),i.setAllChildrenCount(e)),e.sibling&&(e.sibling.childrenAfterAggFilter=e.childrenAfterAggFilter)};a.forEachChangedNodeDepthFirst(r?e=>{var t;e.childrenAfterAggFilter=(null===(t=e.childrenAfterFilter)||void 0===t?void 0:t.filter(e=>{var t;if(s({node:e})){if(this.filterManager.doesRowPassAggregateFilters({rowNode:e}))return l(e,!0),!0}return null===(t=e.childrenAfterAggFilter)||void 0===t?void 0:t.length}))||null,this.setAllChildrenCount(e),e.sibling&&(e.sibling.childrenAfterAggFilter=e.childrenAfterAggFilter)}:l,!0)}setAllChildrenCountTreeData(e){const t=e.childrenAfterAggFilter;let n=0;if(t){const e=t.length;n=e;for(let o=0;o<e;++o){var i;n+=null!==(i=t[o].allChildrenCount)&&void 0!==i?i:0}}e.setAllChildrenCount(0===n&&e.level>=0?null:n)}setAllChildrenCountGridGrouping(e){let t=0;e.childrenAfterAggFilter.forEach(e=>{e.group?t+=e.allChildrenCount:t++}),e.setAllChildrenCount(t)}setAllChildrenCount(e){e.hasChildren()?this.gos.get("treeData")?this.setAllChildrenCountTreeData(e):this.setAllChildrenCountGridGrouping(e):e.setAllChildrenCount(null)}}],rowModels:["clientSide"],dependsOn:[l8]},c8=class extends yG{constructor(){super(...arguments),this.beanName="pivotColsSvc",this.eventName="columnPivotChanged",this.columnProcessors={set:(e,t,n)=>this.setColPivotActive(e,t,n),add:(e,t,n)=>this.setColPivotActive(e,!0,n),remove:(e,t,n)=>this.setColPivotActive(e,!1,n)},this.columnOrdering={enableProp:"pivot",initialEnableProp:"initialPivot",indexProp:"pivotIndex",initialIndexProp:"initialPivotIndex"},this.columnExtractors={setFlagFunc:(e,t,n)=>this.setColPivotActive(e,t,n),getIndexFunc:e=>e.pivotIndex,getInitialIndexFunc:e=>e.initialPivotIndex,getValueFunc:e=>e.pivot,getInitialValueFunc:e=>e.initialPivot},this.modifyColumnsNoEventsCallbacks={addCol:e=>this.columns.push(e),removeCol:e=>LO(this.columns,e)}}syncColumnWithState(e,t,n,i){const{value1:o,value2:r}=n("pivot","pivotIndex");void 0===o&&void 0===r||("number"===typeof r||o?(e.isPivotActive()||(this.setColPivotActive(e,!0,t),this.modifyColumnsNoEventsCallbacks.addCol(e)),i&&"number"===typeof r&&(i[e.getId()]=r)):e.isPivotActive()&&(this.setColPivotActive(e,!1,t),this.modifyColumnsNoEventsCallbacks.removeCol(e)))}setColPivotActive(e,t,n){e.pivotActive!==t&&(e.pivotActive=t,e.dispatchColEvent("columnPivotChanged",n)),e.dispatchStateUpdatedEvent("pivot")}},d8=class extends vO{addExpandedCss(e,t){t.isExpandable()&&(e.push("ag-row-group"),e.push(t.expanded?"ag-row-group-expanded":"ag-row-group-contracted"))}getRowExpandedListeners(e){const{rowNode:t}=e,n=this.updateExpandedCss.bind(this,e,t);return{expandedChanged:n,hasChildrenChanged:n}}setExpanded(e,t,n,i){if(e.expanded===t)return;e.expanded=t,e.dispatchRowEvent("expandedChanged");const o=d(d({},UV(e,this.gos,"rowGroupOpened")),{},{expanded:t,event:n||null});this.dispatchExpandedEvent(o,i)}isExpandable(e){return!e.footer&&(this.beans.colModel.isPivotMode()?e.hasChildren()&&!e.leafGroup:e.hasChildren()||e.master)}updateExpandedCss(e,t){const n=t.isExpandable(),i=1==t.expanded;e.forEachGui(void 0,e=>{const t=e.rowComp;t.toggleCss("ag-row-group",n),t.toggleCss("ag-row-group-expanded",n&&i),t.toggleCss("ag-row-group-contracted",n&&!i),DL(e.element,n&&i)})}};function h8(e){let t=e.get("groupHideParentOfSingleChild");return t||(t=e.get("groupRemoveSingleChildren"),!t&&e.get("groupRemoveLowestSingleChildren")&&(t="leafGroupsOnly")),{groupHideParentOfSingleChild:t,isGroupMultiAutoColumn:_B(e),hideOpenParents:e.get("groupHideOpenParents"),grandTotalRow:PB(e),groupTotalRow:TB(e)}}function p8(e,t,n){return!0===e.groupHideParentOfSingleChild&&n&&1===t.childrenAfterGroup.length}function g8(e,t,n){return"leafGroupsOnly"===e.groupHideParentOfSingleChild&&n&&t.leafGroup&&1===t.childrenAfterGroup.length}function m8(e,t,n,i,o,r){const s=i&&!n,a=i&&t.leafGroup,l=e.hideOpenParents&&t.expanded&&!t.master&&!a;return!s&&!l&&!o&&!r}var v8=(e,t)=>{const n=e.allLeafChildren,i=e.sibling;e.treeNodeFlags=0,e.childrenAfterGroup=n,e.childrenMapped=null,e.groupData=null,i&&(i.childrenAfterGroup=e.childrenAfterGroup,i.childrenAfterAggFilter=e.childrenAfterAggFilter,i.childrenAfterFilter=e.childrenAfterFilter,i.childrenAfterSort=e.childrenAfterSort,i.childrenMapped=null);for(const o of n){const n=o.sibling;f8(o),n&&f8(n),o.parent=e,t&&(o.treeParent=null),(o.group||o.hasChildren())&&(o.group=!1,o.updateHasChildren())}e.updateHasChildren()},f8=e=>{e.key=null,e.treeNodeFlags=0,e.allChildrenCount=null,e.allLeafChildren=null,e.childrenAfterGroup=null,e.childrenAfterAggFilter=null,e.childrenAfterFilter=null,e.childrenAfterSort=null,e.childrenMapped=null,e.level=0,e.groupData&&(e.groupData=null)};function w8(e,t,n){let i=e;const o=i.level-t.level;if(o<=0)return!1;if(!n.get("groupHideOpenParents"))return!1;for(let s=0;s<o;s++){var r;if(!((null===(r=i.parent)||void 0===r?void 0:r.getFirstChild())===i))return!1;i=i.parent}return i===t}var C8=function(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.group;const o=e.gos,r=i&&o.get("isGroupOpenByDefault");if(!r){const e=o.get("groupDefaultExpanded");return-1===e||n<e}return 1==r({api:e.gridApi,context:e.gridOptions.context,rowNode:t,field:t.field,key:t.key,level:n,rowGroupColumn:t.rowGroupColumn})},b8=class extends vO{constructor(){super(...arguments),this.indentClass=null}init(e,t,n,i,o,r,s){var a,l;this.params=s,this.eGui=t,this.eCheckbox=n,this.eExpanded=i,this.eContracted=o,this.comp=e,this.compClass=r;const{node:u,column:c}=s;this.node=u,this.displayedNode=u;this.isEmbeddedRowMismatch()||(u.footer?this.initFooterCell():c?(this.displayedNode=null!==(a=null===(l=this.beans.showRowGroupColValueSvc)||void 0===l?void 0:l.getDisplayedNode(u,c))&&void 0!==a?a:this.node,this.setupExpand(),this.setupCheckbox(),this.addGroupValue(),this.setupIndent()):this.initFullWidthCell())}initFooterCell(){const{node:e}=this.params;this.addGroupValue(),this.setupIndent();-1===e.level||this.comp.toggleCss("ag-row-group-leaf-indent",!0)}initFullWidthCell(){this.setupExpand(),(()=>{const{rowDragSvc:e}=this.beans;if(!this.params.rowDrag||!e)return;const t=e.createRowDragComp(()=>this.params.value,this.params.node);this.createManagedBean(t),this.eGui.insertAdjacentElement("afterbegin",t.getGui())})(),this.setupCheckbox(),this.addGroupValue(),this.setupIndent()}getCellAriaRole(){var e,t;const n=null===(e=this.params.colDef)||void 0===e?void 0:e.cellAriaRole,i=null===(t=this.params.column)||void 0===t?void 0:t.getColDef().cellAriaRole;return n||i||"gridcell"}isEmbeddedRowMismatch(){if(!this.params.fullWidth||!this.gos.get("embedFullWidthRows"))return!1;const{visibleCols:e}=this.beans,t="left"===this.params.pinned,n="right"===this.params.pinned,i=!t&&!n;return this.gos.get("enableRtl")?e.isPinningLeft()?!n:!i:e.isPinningLeft()?!t:!i}addGroupValue(){var e;const{params:{value:t,valueFormatted:n}}=this,i=this.getInnerCompDetails();this.comp.setInnerRenderer(i,null!==(e=null!==n&&void 0!==n?n:t)&&void 0!==e?e:null)}setupExpand(){const{colModel:e}=this.beans,{eGridCell:t,column:n,suppressDoubleClickExpand:i}=this.params,o=(e,t)=>{const n=hW(e,this.beans,null);n&&(t.appendChild(n),this.addDestroyFunc(()=>t.removeChild(n)))};o("groupExpanded",this.eExpanded),o("groupContracted",this.eContracted);const r=this.comp,s=()=>{if(!this.isExpandable())return;const e=this.displayedNode.expanded;r.setExpandedDisplayed(e),r.setContractedDisplayed(!e),DL(t,!!this.displayedNode.expanded)},a=()=>{const n=this.isExpandable();r.toggleCss("ag-cell-expandable",n),r.toggleCss("ag-row-group",n);const i=!n&&e.isPivotMode();r.toggleCss("ag-pivot-leaf-group",i);const o=!e.isPivotMode()&&(!this.displayedNode.footer||-1!==this.displayedNode.level);r.toggleCss("ag-row-group-leaf-indent",!n&&o);const a=this.getChildCount(),l=a>0?"(".concat(a,")"):"";r.setChildCount(l),n?s():(r.setExpandedDisplayed(!1),r.setContractedDisplayed(!1),EL(t))};(()=>{(null===n||void 0===n?void 0:n.isCellEditable(this.displayedNode))&&this.gos.get("enableGroupEdit")||i||this.addManagedListeners(t,{dblclick:this.onCellDblClicked.bind(this)}),this.addManagedListeners(this.eExpanded,{click:this.onExpandClicked.bind(this)}),this.addManagedListeners(this.eContracted,{click:this.onExpandClicked.bind(this)}),this.addManagedListeners(t,{keydown:this.onKeyDown.bind(this)}),this.addManagedListeners(this.displayedNode,{allChildrenCountChanged:a,masterChanged:a,groupChanged:a,hasChildrenChanged:a,expandedChanged:s})})(),a()}getInnerCompDetails(){var e;const{userCompFactory:t,findSvc:n}=this.beans,i=this.params;if(i.fullWidth){const e=this.gos.get("groupRowRendererParams"),o=QG(t,e,i);return o||(null!==n&&void 0!==n&&n.isMatch(i.node,null)?QG(t,d(d({},e),{},{innerRenderer:"agFindCellRenderer"}),i):void 0)}const o=e=>e&&e.componentClass==this.compClass,r=QG(t,i,i);if(r&&!o(r))return r;const{displayedNode:{rowGroupColumn:s}}=this,a=null===s||void 0===s?void 0:s.colDef,l=s&&(null===(e=i.column)||void 0===e?void 0:e.isRowGroupDisplayed(s.getId()));if(a&&l){const e=JG(t,a,i);if(e){if(!o(e))return e;var u;if(null!==a&&void 0!==a&&null!==(u=a.cellRendererParams)&&void 0!==u&&u.innerRenderer)return QG(t,a.cellRendererParams,i)}}return null!==n&&void 0!==n&&n.isMatch(i.node,i.column)?JG(t,d(d({},null!==a&&void 0!==a?a:i.colDef),{},{cellRenderer:"agFindCellRenderer"}),i):void 0}getChildCount(){const{column:e,suppressCount:t}=this.params;if(t)return 0;const{allChildrenCount:n,rowGroupColumn:i}=this.displayedNode;if(!((null!==n&&void 0!==n?n:0)>0&&(!i||!e||(null===e||void 0===e?void 0:e.isRowGroupDisplayed(i.getId())))))return 0;return this.gos.get("showOpenedGroup")&&this.displayedNode!==this.node&&!w8(this.node,this.displayedNode,this.gos)?0:null!==n&&void 0!==n?n:0}isExpandable(){const{node:e,column:t,colDef:n}=this.params;if(!this.displayedNode.isExpandable())return!1;if(e.rowPinned)return!1;if(!t)return!0;if(e.hasChildren()&&n){const{showRowGroup:e}=n;if(!e)return!1;if(!0===e)return!0}if(e===this.displayedNode){if(e.rowGroupColumn){if(null===t||void 0===t?void 0:t.isRowGroupDisplayed(e.rowGroupColumn.getId()))return!0}return!!e.master&&(!0===(null===n||void 0===n?void 0:n.showRowGroup)||null==(null===n||void 0===n?void 0:n.showRowGroup))}return w8(this.node,this.displayedNode,this.gos)}setupIndent(){const{suppressPadding:e,node:t,colDef:n}=this.params;if(e)return;const i=()=>{let e=0;e=n&&!0!==n.showRowGroup?0:t.uiLevel;const i="ag-row-group-indent-"+e;i!==this.indentClass&&(this.indentClass&&this.comp.toggleCss(this.indentClass,!1),this.indentClass=i,this.comp.toggleCss(i,!0),this.eGui.style.setProperty("--ag-indentation-level",String(e)))};this.addManagedListeners(t,{uiLevelChanged:i.bind(this)}),i()}setupCheckbox(){const{node:e}=this.params;!e.footer&&!e.rowPinned&&!e.detail&&(this.addManagedPropertyListener("rowSelection",e=>{let{currentValue:t,previousValue:n}=e;const i="object"===typeof t?t:void 0,o="object"===typeof n?n:void 0;(null===i||void 0===i?void 0:i.checkboxLocation)!==(null===o||void 0===o?void 0:o.checkboxLocation)&&(this.destroyCheckbox(),this.addCheckbox())}),this.addCheckbox())}addCheckbox(){const{selectionSvc:e}=this.beans;if(!e||!hB(this.gos))return;const{node:t,column:n}=this.params,i=this.gos.get("rowSelection"),o=zB(i);if("selectionColumn"===o)return;if("autoGroupColumn"===o){const e=null!=(null===n||void 0===n?void 0:n.getColDef().showRowGroup),i=!n&&t.group;if(!(e||i))return}const r="object"===typeof i?OB(i):this.params.checkbox;if(!("function"===typeof r||!0===r))return;if("string"===typeof(null===n||void 0===n?void 0:n.getColDef().showRowGroup)&&!this.isExpandable())return void this.comp.setCheckboxSpacing(!0);const s=e.createCheckboxSelectionComponent();this.cbComp=s,this.createBean(s),s.init({rowNode:t,column:n,overrides:{isVisible:r,callbackParams:this.params,removeHidden:!0}}),this.eCheckbox.appendChild(s.getGui()),this.comp.setCheckboxVisible(!0)}destroyCheckbox(){this.comp.setCheckboxSpacing(!1),this.comp.setCheckboxVisible(!1),this.cbComp&&this.eCheckbox.removeChild(this.cbComp.getGui()),this.cbComp=this.destroyBean(this.cbComp)}onExpandClicked(e){dO(e)||(cO(e),this.onExpandOrContract(e))}onKeyDown(e){if(!(e.key===sV.ENTER)||this.params.suppressEnterExpand)return;this.params.column&&this.params.column.isCellEditable(this.params.node)||this.onExpandOrContract(e)}onCellDblClicked(e){if(dO(e))return;gO(this.eExpanded,e)||gO(this.eContracted,e)||this.onExpandOrContract(e)}onExpandOrContract(e){if(!this.isExpandable())return;const t=this.displayedNode,n=!t.expanded;!n&&t.sticky&&this.beans.ctrlsSvc.getScrollFeature().setVerticalScrollPosition(t.rowTop-t.stickyRowTop),t.setExpanded(n,e)}destroy(){super.destroy(),this.destroyCheckbox()}},y8={tag:"span",cls:"ag-cell-wrapper",children:[{tag:"span",ref:"eExpanded",cls:"ag-group-expanded ag-hidden"},{tag:"span",ref:"eContracted",cls:"ag-group-contracted ag-hidden"},{tag:"span",ref:"eCheckbox",cls:"ag-group-checkbox ag-invisible"},{tag:"span",ref:"eValue",cls:"ag-group-value"},{tag:"span",ref:"eChildCount",cls:"ag-group-child-count"}]},S8=class extends AG{constructor(){super(y8),this.eExpanded=kG,this.eContracted=kG,this.eCheckbox=kG,this.eValue=kG,this.eChildCount=kG}init(e){const t={setInnerRenderer:(e,t)=>this.setRenderDetails(e,t),setChildCount:e=>this.eChildCount.textContent=e,toggleCss:(e,t)=>this.toggleCss(e,t),setContractedDisplayed:e=>XL(this.eContracted,e),setExpandedDisplayed:e=>XL(this.eExpanded,e),setCheckboxVisible:e=>this.eCheckbox.classList.toggle("ag-invisible",!e),setCheckboxSpacing:e=>this.eCheckbox.classList.toggle("ag-group-checkbox-spacing",e)},n=this.createManagedBean(new b8),i=!e.colDef,o=this.getGui();n.init(t,o,this.eCheckbox,this.eExpanded,this.eContracted,this.constructor,e),i&&gL(o,n.getCellAriaRole())}setRenderDetails(e,t){e?e.newAgStackInstance().then(e=>{if(!e)return;const t=()=>this.destroyBean(e);this.isAlive()?(this.eValue.appendChild(e.getGui()),this.addDestroyFunc(t)):t()}):this.eValue.innerText=t}destroy(){this.destroyBean(this.innerCellRenderer),super.destroy()}refresh(){return!1}},x8=class extends vO{constructor(e,t){super(),this.createRowCon=e,this.destroyRowCtrls=t,this.stickyTopRowCtrls=[],this.stickyBottomRowCtrls=[],this.extraTopHeight=0,this.extraBottomHeight=0}postConstruct(){this.isClientSide=uB(this.gos),this.beans.ctrlsSvc.whenReady(this,e=>{this.gridBodyCtrl=e.gridBodyCtrl}),this.resetStickyContainers()}setOffsetTop(e){this.extraTopHeight!==e&&(this.extraTopHeight=e,this.eventSvc.dispatchEvent({type:"stickyTopOffsetChanged",offset:e}))}setOffsetBottom(e){this.extraBottomHeight!==e&&(this.extraBottomHeight=e)}resetOffsets(){this.setOffsetBottom(0),this.setOffsetTop(0)}getLastPixelOfGroup(e){return this.isClientSide?function(e){if(e.isExpandable()||e.footer){if(e.footer&&0===e.rowIndex)return Number.MAX_SAFE_INTEGER;if(!e.sibling||1===Math.abs(e.sibling.rowIndex-e.rowIndex)){let t=e.footer?e.sibling:e;for(;t.isExpandable()&&t.expanded;)if(t.master&&t.detailNode)t=t.detailNode;else if(t.childrenAfterSort){if(0===t.childrenAfterSort.length)break;t=_O(t.childrenAfterSort)}return t.rowTop+t.rowHeight}return e.footer?e.rowTop+e.rowHeight:e.sibling.rowTop+e.sibling.rowHeight}return Number.MAX_SAFE_INTEGER}(e):function(e){if(e.isExpandable()||e.footer){if(e.master&&e.detailNode)return e.detailNode.rowTop+e.detailNode.rowHeight;if(!e.sibling||1===Math.abs(e.sibling.rowIndex-e.rowIndex)){var t,n,i,o,r;let a=null===(t=e.childStore)||void 0===t?void 0:t.getStoreBounds();var s;if(e.footer)a=null===(s=e.sibling.childStore)||void 0===s?void 0:s.getStoreBounds();return(null!==(n=null===(i=a)||void 0===i?void 0:i.heightPx)&&void 0!==n?n:0)+(null!==(o=null===(r=a)||void 0===r?void 0:r.topPx)&&void 0!==o?o:0)}return e.footer?e.rowTop+e.rowHeight:e.sibling.rowTop+e.sibling.rowHeight}return Number.MAX_SAFE_INTEGER}(e)}getFirstPixelOfGroup(e){return e.footer?e.sibling.rowTop+e.sibling.rowHeight-1:e.hasChildren()?e.rowTop-1:0}updateStickyRows(e){const t="top"===e;let n=0;if(!this.canRowsBeSticky())return this.refreshNodesAndContainerHeight(e,new Set,n);const{rowModel:i,rowRenderer:o,pinnedRowModel:r}=this.beans,s=t?o.firstVisibleVPixel-this.extraTopHeight:o.lastVisibleVPixel-this.extraTopHeight,a=new Set,l=e=>{if(a.add(e),t){const t=this.getLastPixelOfGroup(e),i=s+n+e.rowHeight;e.stickyRowTop=t<i?n+(t-i):n}else{const t=this.getFirstPixelOfGroup(e),i=s-(n+e.rowHeight);e.stickyRowTop=t>i?n-(t-i):n}n=0,a.forEach(e=>{const t=e.stickyRowTop+e.rowHeight;n<t&&(n=t)})},u=this.areFooterRowsStickySuppressed(),c=this.gos.get("suppressGroupRowsSticky"),d=t=>{if(!t.displayed)return!1;if(t.footer){if(!0===u)return!1;if("grand"===u&&-1===t.level)return!1;if("group"===u&&t.level>-1)return!1;const n=!!t.sibling.rowIndex&&t.sibling.rowIndex+1===t.rowIndex;if("bottom"===e&&n)return!1;if(-1===t.level&&null!==r&&void 0!==r&&r.getGrandTotalPinned())return!1;return!a.has(t)}if(t.isExpandable()){if(!0===c)return!1;if("bottom"===e)return!1;return!a.has(t)&&t.expanded}return!1};for(let h=0;h<100;h++){let e=s+n;t||(e=s-n);const o=i.getRowIndexAtPixel(e),r=i.getRow(o);if(null==r)break;const a=this.getStickyAncestors(r).find(e=>(t?e.rowIndex<o:e.rowIndex>o)&&d(e));if(a){l(a);continue}if(!(t?r.rowTop<e:r.rowTop+r.rowHeight>e)||!d(r))break;l(r)}return t||a.forEach(e=>{e.stickyRowTop=n-(e.stickyRowTop+e.rowHeight)}),this.refreshNodesAndContainerHeight(e,a,n)}areFooterRowsStickySuppressed(){const e=this.gos.get("suppressStickyTotalRow");if(!0===e)return!0;const t="group"===e,n="grand"===e;return!(!t||!n)||(n?"grand":!!t&&"group")}canRowsBeSticky(){const e=kB(this.gos),t=this.areFooterRowsStickySuppressed(),n=this.gos.get("suppressGroupRowsSticky");return e&&(!t||!n)}getStickyAncestors(e){const t=[];let n=e.footer?e.sibling:e.parent;for(;n;)n.sibling&&t.push(n.sibling),t.push(n),n=n.parent;return t.reverse()}checkStickyRows(){const e=this.updateStickyRows("top"),t=this.updateStickyRows("bottom");return e||t}destroyStickyCtrls(){this.resetStickyContainers()}resetStickyContainers(){this.refreshNodesAndContainerHeight("top",new Set,0),this.refreshNodesAndContainerHeight("bottom",new Set,0)}refreshStickyNode(e){const t=new Set;if(this.stickyTopRowCtrls.some(t=>t.rowNode===e)){for(let n=0;n<this.stickyTopRowCtrls.length;n++){const i=this.stickyTopRowCtrls[n].rowNode;i!==e&&t.add(i)}this.refreshNodesAndContainerHeight("top",t,this.topContainerHeight)&&this.checkStickyRows()}else{for(let n=0;n<this.stickyBottomRowCtrls.length;n++){const i=this.stickyBottomRowCtrls[n].rowNode;i!==e&&t.add(i)}this.refreshNodesAndContainerHeight("bottom",t,this.bottomContainerHeight)&&this.checkStickyRows()}}refreshNodesAndContainerHeight(e,t,n){const i="top"===e,o=i?this.stickyTopRowCtrls:this.stickyBottomRowCtrls,r={},s=[];for(let p=0;p<o.length;p++){const e=o[p].rowNode;!t.has(e)?(r[e.id]=o[p],e.sticky=!1):s.push(o[p])}const a=new Set;for(let p=0;p<s.length;p++)a.add(s[p].rowNode);const l=[];t.forEach(e=>{a.has(e)||(e.sticky=!0,l.push(this.createRowCon(e,!1,!1)))});let u=!!l.length||s.length!==o.length;i?this.topContainerHeight!==n&&(this.topContainerHeight=n,this.gridBodyCtrl.setStickyTopHeight(n),u=!0):this.bottomContainerHeight!==n&&(this.bottomContainerHeight=n,this.gridBodyCtrl.setStickyBottomHeight(n),u=!0),this.destroyRowCtrls(r,!1);const c=[...s,...l];c.sort((e,t)=>t.rowNode.rowIndex-e.rowNode.rowIndex),i||c.reverse(),c.forEach(e=>e.setRowTop(e.rowNode.stickyRowTop));const d=this.beans.pageBounds;let h=0;return i?(t.forEach(e=>{e.rowIndex<d.getFirstRow()&&(h+=e.rowHeight)}),h>this.topContainerHeight&&(h=this.topContainerHeight),this.setOffsetTop(h)):(t.forEach(e=>{e.rowIndex>d.getLastRow()&&(h+=e.rowHeight)}),h>this.bottomContainerHeight&&(h=this.bottomContainerHeight),this.setOffsetBottom(h)),!!u&&(i?this.stickyTopRowCtrls=c:this.stickyBottomRowCtrls=c,!0)}ensureRowHeightsValid(){let e=!1;const t=t=>{const n=t.rowNode;if(n.rowHeightEstimated){const t=gB(this.beans,n);n.setRowHeight(t.height),e=!0}};return this.stickyTopRowCtrls.forEach(t),this.stickyBottomRowCtrls.forEach(t),e}};var D8={moduleName:"GroupCellRenderer",version:n5,userComponents:{agGroupRowRenderer:S8,agGroupCellRenderer:S8},dynamicBeans:{groupCellRendererCtrl:b8},icons:{groupContracted:"tree-closed",groupExpanded:"tree-open"},css:[".ag-group-checkbox-spacing{width:var(--ag-icon-size)}:where(.ag-ltr) .ag-group-checkbox-spacing{margin-right:var(--ag-cell-widget-spacing)}:where(.ag-rtl) .ag-group-checkbox-spacing{margin-left:var(--ag-cell-widget-spacing)}"],dependsOn:[i5]},E8={moduleName:"GroupColumn",version:n5,beans:[class extends vO{constructor(){super(...arguments),this.beanName="autoColSvc"}postConstruct(){this.addManagedPropertyListener("autoGroupColumnDef",this.updateColumns.bind(this))}addColumns(e){null!=this.columns&&(e.list=this.columns.list.concat(e.list),e.tree=this.columns.tree.concat(e.tree),$O(e))}createColumns(e,t){var n,i,o;const r=this.beans,{colModel:s,gos:a,rowGroupColsSvc:l,colGroupSvc:u}=r,c=s.isPivotMode(),d=MB(a,c),h=c?a.get("pivotSuppressAutoColumn"):this.isSuppressAutoCol(),p=null===l||void 0===l?void 0:l.columns,g=()=>{this.columns&&(jO(r,this.columns.tree),this.columns=null)};if(!(p&&p.length>0||a.get("treeData"))||h||d)return void g();const m=this.generateAutoCols(p),v=ZO(m,(null===(n=this.columns)||void 0===n?void 0:n.list)||null),f=e.treeDepth,w=this.columns?this.columns.treeDepth:-1;if(v&&w==f)return;g();const C=null!==(i=null===u||void 0===u?void 0:u.findDepth(e.tree))&&void 0!==i?i:0,b=null!==(o=null===u||void 0===u?void 0:u.balanceTreeForAutoCols(m,C))&&void 0!==o?o:[];this.columns={list:m,tree:b,treeDepth:C,map:{}};t(e=>{if(!e)return null;const t=e.filter(e=>!WO(e));return[...m,...t]})}updateColumns(e){var t;const n=XO(e.source);null===(t=this.columns)||void 0===t||t.list.forEach((e,t)=>this.updateOneAutoCol(e,t,n))}getColumn(e){var t,n;return null!==(t=null===(n=this.columns)||void 0===n?void 0:n.list.find(t=>QO(t,e)))&&void 0!==t?t:null}getColumns(){var e,t;return null!==(e=null===(t=this.columns)||void 0===t?void 0:t.list)&&void 0!==e?e:null}generateAutoCols(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];const t=[],n=this.gos.get("treeData");let i=_B(this.gos);return n&&i&&(iB(182),i=!1),i?e.forEach((e,n)=>{t.push(this.createOneAutoCol(e,n))}):t.push(this.createOneAutoCol()),t}isSuppressAutoCol(){const e=this.gos;if("custom"===e.get("groupDisplayType"))return!0;return"custom"===e.get("treeDataDisplayType")}createOneAutoCol(e,t){let n;n=e?"".concat(OO,"-").concat(e.getId()):OO;const i=this.createAutoColDef(n,e,t);i.colId=n;const o=new EO(i,null,n,!0);return this.createBean(o),o}updateOneAutoCol(e,t,n){const i=e.getColDef(),o="string"==typeof i.showRowGroup?i.showRowGroup:void 0,r=this.beans,s=null!=o?r.colModel.getColDefCol(o):void 0,a=e.getId(),l=this.createAutoColDef(a,null!==s&&void 0!==s?s:void 0,t);e.setColDef(l,null,n),mG(r,{state:[d({colId:a},l)]},n)}createAutoColDef(e,t,n){let i=this.createBaseColDef(t);if(XI(i,this.gos.get("autoGroupColumnDef")),i=sG(this.beans,i,e,!0),!this.gos.get("treeData")){KI(i.field)&&KI(i.valueGetter)&&KI(i.filterValueGetter)&&"agGroupColumnFilter"!==i.filter&&(i.filter=!1)}n&&n>0&&(i.headerCheckboxSelection=!1);const o=AB(this.gos),r=i.valueGetter||null!=i.field;return o&&!r&&(i.sortIndex=void 0,i.initialSort=void 0),i}createBaseColDef(e){var t;const n=this.gos.get("autoGroupColumnDef"),i={headerName:this.getLocaleTextFunc()("group","Group"),showRowGroup:null===(t=null===e||void 0===e?void 0:e.getColId())||void 0===t||t};var o;(n&&(n.cellRenderer||n.cellRendererSelector)||(i.cellRenderer="agGroupCellRenderer"),e)&&(i.headerName=null!==(o=this.beans.colNames.getDisplayNameForColumn(e,"header"))&&void 0!==o?o:void 0,i.headerValueGetter=e.colDef.headerValueGetter);return i}destroy(){var e;jO(this.beans,null===(e=this.columns)||void 0===e?void 0:e.tree),super.destroy()}},class extends vO{constructor(){super(...arguments),this.beanName="showRowGroupCols"}refresh(){this.showRowGroupCols=[],this.showRowGroupColsMap={};const{colModel:e,rowGroupColsSvc:t}=this.beans;e.getCols().forEach(e=>{const n=e.getColDef().showRowGroup,i="string"===typeof n;(i||!0===n)&&(this.showRowGroupCols.push(e),i?this.showRowGroupColsMap[n]=e:t&&t.columns.forEach(t=>{this.showRowGroupColsMap[t.getId()]=e}))})}getShowRowGroupCols(){return this.showRowGroupCols}getShowRowGroupCol(e){return this.showRowGroupColsMap[e]}getSourceColumnsForGroupColumn(e){const t=e.getColDef().showRowGroup;if(!t)return null;const{rowGroupColsSvc:n,colModel:i}=this.beans;if(!0===t&&n)return n.columns.slice(0);const o=i.getColDefCol(t);return o?[o]:null}isRowGroupDisplayed(e,t){const{colDef:n}=e;if(null==(null===n||void 0===n?void 0:n.showRowGroup))return!1;const i=!0===n.showRowGroup,o=n.showRowGroup===t;return i||o}},class extends vO{constructor(){super(...arguments),this.beanName="showRowGroupColValueSvc"}getGroupValue(e,t){if(!t)return e.group?{displayedNode:e,value:e.groupValue}:null;const n=this.beans.valueSvc,i=t.colDef.showRowGroup;if(!i)return null;if(-1===e.level&&e.footer)return{displayedNode:e,value:null};if("string"===typeof i){var o,r;if((null!==(o=null===(r=this.beans.rowGroupColsSvc)||void 0===r?void 0:r.getColumnIndex(i))&&void 0!==o?o:-1)>e.level)return null;const s=this.getDisplayedNode(e,t,!0);if(s)return{displayedNode:s,value:n.getValue(t,s)}}const s=n.getValue(t,e);if(null==s){const i=this.getDisplayedNode(e,t);if(i)return{displayedNode:i,value:n.getValue(t,i)}}return{displayedNode:e,value:s}}formatAndPrefixGroupColValue(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const i=this.formatGroupColValue(e,t,n),{value:o,displayedNode:r}=e,s=this.beans.footerSvc;if(null!==s&&void 0!==s&&s.doesCellShowTotalPrefix(r,t)){return s.applyTotalPrefix(o,i,r,t)}return r.footer&&-1===r.level?null:i}formatGroupColValue(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const i=this.beans.valueSvc,{displayedNode:o,value:r}=e,s=o.rowGroupColumn,a=o.group&&!t;if(s&&(a||(null===t||void 0===t?void 0:t.isRowGroupDisplayed(s.colId)))){if(n&&!1===s.colDef.useValueFormatterForExport)return null;const e=i.formatValue(s,o,r);if(null==e&&""===o.key){return this.getLocaleTextFunc()("blanks","(Blanks)")}return e}return!t||o.group||n&&!1===t.colDef.useValueFormatterForExport?null:i.formatValue(t,o,r)}getDisplayedNode(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const i=this.gos,o=i.get("groupHideOpenParents"),r=i.get("showOpenedGroup")&&!n;if(!o&&!r)return;const s=t.colDef.showRowGroup;if(!0===s){var a;if(e.group)return;return null!==(a=e.parent)&&void 0!==a?a:void 0}let l=e;for(;l&&(null===(u=l.rowGroupColumn)||void 0===u?void 0:u.getId())!=s;){var u,c;const e=l===(null===(c=l.parent)||void 0===c?void 0:c.getFirstChild());if(!r&&!e)return;l=l.parent}return l!==e&&null!==l&&void 0!==l?l:void 0}},class extends yG{constructor(){super(...arguments),this.beanName="rowGroupColsSvc",this.eventName="columnRowGroupChanged",this.columnProcessors={set:(e,t,n)=>this.setActive(t,e,n),add:(e,t,n)=>this.setActive(!0,e,n),remove:(e,t,n)=>this.setActive(!1,e,n)},this.columnOrdering={enableProp:"rowGroup",initialEnableProp:"initialRowGroup",indexProp:"rowGroupIndex",initialIndexProp:"initialRowGroupIndex"},this.columnExtractors={setFlagFunc:(e,t,n)=>this.setColRowGroupActive(e,t,n),getIndexFunc:e=>e.rowGroupIndex,getInitialIndexFunc:e=>e.initialRowGroupIndex,getValueFunc:e=>e.rowGroup,getInitialValueFunc:e=>e.initialRowGroup},this.modifyColumnsNoEventsCallbacks={addCol:e=>this.columns.push(e),removeCol:e=>LO(this.columns,e)}}moveColumn(e,t,n){if(0===this.columns.length)return;const i=this.columns[e],o=this.columns.slice(e,t);this.columns.splice(e,1),this.columns.splice(t,0,i),this.updateIndexMap(),this.eventSvc.dispatchEvent({type:this.eventName,columns:o,column:1===o.length?o[0]:null,source:n})}syncColumnWithState(e,t,n,i){const{value1:o,value2:r}=n("rowGroup","rowGroupIndex");void 0===o&&void 0===r||("number"===typeof r||o?(e.isRowGroupActive()||(this.setColRowGroupActive(e,!0,t),this.modifyColumnsNoEventsCallbacks.addCol(e)),i&&"number"===typeof r&&(i[e.getId()]=r)):e.isRowGroupActive()&&(this.setColRowGroupActive(e,!1,t),this.modifyColumnsNoEventsCallbacks.removeCol(e)))}setActive(e,t,n){e!==t.isRowGroupActive()&&(this.setColRowGroupActive(t,e,n),BB(this.gos,e)&&this.colModel.setColsVisible([t],!e,n))}setColRowGroupActive(e,t,n){e.rowGroupActive!==t&&(e.rowGroupActive=t,e.dispatchColEvent("columnRowGroupChanged",n)),e.dispatchStateUpdatedEvent("rowGroup")}},c8,a8],dependsOn:[i5,D8]},F8={moduleName:"ClientSideRowModelHierarchy",version:n5,rowModels:["clientSide"],beans:[class extends vO{constructor(){super(...arguments),this.beanName="groupStage",this.refreshProps=new Set(["groupDefaultExpanded","groupAllowUnbalanced","initialGroupOrderComparator","groupHideOpenParents","groupDisplayType","treeData","treeDataChildrenField","treeDataParentIdField"]),this.step="group",this.approach=null,this.strategyBeanName=null,this.strategy=void 0}getNode(e){var t;return null===(t=this.strategy)||void 0===t?void 0:t.getNode(e)}destroy(){super.destroy(),this.strategy=void 0}execute(e){const t=oO(this.gos),n=this.approach!==t,i=n?this.changeApproach(e,t):this.strategy;if(i)return i.execute(e,t)||n}getStrategyBeanName(e){switch(e){case"group":return"groupStrategy";case"treePath":case"treeNested":case"treeSelfRef":return"treeGroupStrategy";default:return null}}changeApproach(e,t){let{rowNode:n}=e;this.approach=t;const i=this.getStrategyBeanName(t),o=this.strategy;let r=o;var s,a;this.strategyBeanName!==i?(this.destroyBean(r),r=void 0,i&&(r=this.beans.registry.createDynamicBean(i,!1),this.createOptionalManagedBean(r)),this.strategy=r,this.strategyBeanName=i):null===(s=r)||void 0===s||null===(a=s.reset)||void 0===a||a.call(s);return o&&v8(n,"treeNested"!==t),r}},class extends vO{constructor(){super(...arguments),this.beanName="flattenStage",this.refreshProps=new Set(["groupHideParentOfSingleChild","groupRemoveSingleChildren","groupRemoveLowestSingleChildren","groupTotalRow","masterDetail"]),this.step="map"}execute(e){const t=e.rowNode,n=[],i=this.beans.colModel.isPivotMode(),o=i&&t.leafGroup&&t.aggData,r=o?[t]:t.childrenAfterSort,s=h8(this.gos);this.recursivelyAddToRowsToDisplay(s,r,n,i,0);const a=n.length>0,l=s.grandTotalRow;if(!o&&a&&l)if(r8(t,this.beans),"pinnedBottom"===l||"pinnedTop"===l){var u;null===(u=this.beans.pinnedRowModel)||void 0===u||u.setGrandTotalPinned("pinnedBottom"===l?"bottom":"top")}else{const e="top"===l;this.addRowNodeToRowsToDisplay(s,t.sibling,n,0,e)}return n}recursivelyAddToRowsToDisplay(e,t,n,i,o){if(null===t||void 0===t||!t.length)return;const r=this.beans.masterDetailSvc;for(let s=0;s<t.length;s++){const a=t[s],l=a.hasChildren(),u=p8(e,a,l),c=g8(e,a,l);if(m8(e,a,l,i,u,c)&&this.addRowNodeToRowsToDisplay(e,a,n,o),!i||!a.leafGroup)if(l){const t=u||c;if(a.expanded||t){const s=e.groupTotalRow({node:a});s||s8(a);const l=t?o:o+1;"top"===s&&(r8(a,this.beans),this.addRowNodeToRowsToDisplay(e,a.sibling,n,l));const u=null===r||void 0===r?void 0:r.getDetail(a);u&&this.addRowNodeToRowsToDisplay(e,u,n,o),this.recursivelyAddToRowsToDisplay(e,a.childrenAfterSort,n,i,l),"bottom"===s&&(r8(a,this.beans),this.addRowNodeToRowsToDisplay(e,a.sibling,n,l))}}else{const t=null===r||void 0===r?void 0:r.getDetail(a);t&&this.addRowNodeToRowsToDisplay(e,t,n,o)}}}addRowNodeToRowsToDisplay(e,t,n,i,o){o?n.unshift(t):n.push(t),t.setUiLevel(e.isGroupMultiAutoColumn?0:i)}},class extends d8{constructor(){super(...arguments),this.beanName="expansionSvc",this.events=[]}wireBeans(e){this.rowModel=e.rowModel}expandRows(e,t){const n=new Set(e),i=t?new Set(t):void 0;this.rowModel.forEachNode(e=>{const t=e.id;t&&(n.has(t)?e.expanded=!0:null!==i&&void 0!==i&&i.has(t)&&(e.expanded=!1))}),this.onGroupExpandedOrCollapsed()}expandAll(e){const{gos:t,colModel:n,eventSvc:i}=this.beans,o=this.rowModel,r=t.get("treeData"),s=n.isPivotActive(),a=t=>{t&&t.forEach(t=>{const n=()=>{t.expanded=e,a(t.childrenAfterGroup)};if(r){return void(UI(t.childrenAfterGroup)&&n())}if(s){return void(!t.leafGroup&&n())}t.group&&n()})},l=o.rootNode;l&&a(l.childrenAfterGroup),o.refreshModel({step:"map"}),i.dispatchEvent({type:"expandOrCollapseAll",source:e?"expandAll":"collapseAll"})}onGroupExpandedOrCollapsed(){this.rowModel.refreshModel({step:"map"})}dispatchExpandedEvent(e,t){this.events.push(e);const n=()=>{this.rowModel.onRowGroupOpened(),this.events.forEach(e=>this.eventSvc.dispatchEvent(e));const e=this.events.map(e=>e.node);this.beans.rowRenderer.refreshCells({rowNodes:e}),this.events=[]};t?n():(null==this.dispatchExpandedDebounced&&(this.dispatchExpandedDebounced=this.debounce(n)),this.dispatchExpandedDebounced())}debounce(e){const t=this.beans.animationFrameSvc;if(!t)return()=>window.setTimeout(e,0);let n=!1;return()=>{t.active?n||(n=!0,t.addDestroyTask(()=>{n=!1,e()})):window.setTimeout(e,0)}}}],dependsOn:[i5]},k8={moduleName:"StickyRow",version:n5,beans:[class extends vO{constructor(){super(...arguments),this.beanName="stickyRowSvc"}createStickyRowFeature(e,t,n){const i=this.gos;if(kB(i)&&uB(i)||cB(i))return e.createManagedBean(new x8(t,n))}}]},A8={selector:"AG-GRID-HEADER-DROP-ZONES",component:class extends AG{constructor(){super()}postConstruct(){this.setGui(this.createNorthPanel());const e=this.onRowGroupChanged.bind(this);this.addManagedEventListeners({columnRowGroupChanged:e,newColumnsLoaded:e}),this.addManagedPropertyListener("rowGroupPanelShow",e),this.addManagedPropertyListener("pivotPanelShow",()=>this.onPivotPanelShow()),this.onRowGroupChanged()}createNorthPanel(){const e=MN({tag:"div",cls:"ag-column-drop-wrapper",role:"presentation"}),t=new P4(!0);this.rowGroupComp=this.createManagedBean(t);const n=new R4(!0);this.pivotComp=this.createManagedBean(n),e.appendChild(t.getGui()),e.appendChild(n.getGui());const i=this.onDropPanelVisible.bind(this);return this.addManagedListeners(t,{displayChanged:i}),this.addManagedListeners(n,{displayChanged:i}),this.onDropPanelVisible(),e}onDropPanelVisible(){const{rowGroupComp:e,pivotComp:t}=this,n=e.isDisplayed()&&t.isDisplayed(),i="ag-column-drop-horizontal-half-width";e.toggleCss(i,n),t.toggleCss(i,n)}onRowGroupChanged(){const e=this.rowGroupComp;if(!e)return;const t=this.gos.get("rowGroupPanelShow");if("always"===t)e.setDisplayed(!0);else if("onlyWhenGrouping"===t){var n;const t=0!==(null===(n=this.beans.rowGroupColsSvc)||void 0===n||null===(n=n.columns)||void 0===n?void 0:n.length);e.setDisplayed(t)}else e.setDisplayed(!1)}onPivotPanelShow(){const e=this.pivotComp;if(!e)return;const t=this.gos.get("pivotPanelShow");if("always"===t)e.setDisplayed(!0);else if("onlyWhenPivoting"===t){const t=this.beans.colModel.isPivotActive();e.setDisplayed(t)}else e.setDisplayed(!1)}}},R8={tag:"div",cls:"ag-group-filter",children:[{tag:"div",ref:"eGroupField"},{tag:"div",ref:"eUnderlyingFilter"}]},P8={tag:"div",ref:"eFloatingFilter",cls:"ag-group-floating-filter ag-floating-filter-input",role:"presentation"},T8=class{constructor(){this.allSets=new Map}removeFromChildrenAfterGroup(e,t){var n;const i=this.getSet(e);(null!==(n=i.fromChildrenAfterGroup)&&void 0!==n?n:i.fromChildrenAfterGroup=new Set).add(t)}isRemoveFromAllLeafChildren(e,t){var n;return!(null===(n=this.allSets.get(e))||void 0===n||null===(n=n.fromAllLeafChildren)||void 0===n||!n.has(t))}preventRemoveFromAllLeafChildren(e,t){var n;null===(n=this.allSets.get(e))||void 0===n||null===(n=n.fromAllLeafChildren)||void 0===n||n.delete(t)}removeFromAllLeafChildren(e,t){var n;const i=this.getSet(e);(null!==(n=i.fromAllLeafChildren)&&void 0!==n?n:i.fromAllLeafChildren=new Set).add(t)}getSet(e){let t=this.allSets.get(e);return t||(t={fromChildrenAfterGroup:null,fromAllLeafChildren:null},this.allSets.set(e,t)),t}getAllParents(){return Array.from(this.allSets.keys())}flush(){const e=this.allSets;for(const t of e.keys()){const n=e.get(t);if(n){const{fromChildrenAfterGroup:e,fromAllLeafChildren:i}=n,{childrenAfterGroup:o,allLeafChildren:r}=t;o&&e&&(_8(o,e),t.updateHasChildren()),r&&i&&_8(r,i)}}e.clear()}};function _8(e,t){let n=0;for(let i=0,o=e.length;i<o;++i){const o=e[i];t.has(o)||(e[n++]=o)}e.length=n}var M8=e=>{if(!e)return[];const t=e.length,n=new Array(t);for(let i=0;i<t;i++){const t=e[i],o=t.getColDef();n[i]={col:t,field:o.field,type:o.type,keyCreator:o.keyCreator,valueGetter:o.valueGetter}}return n},I8=(e,t)=>{const n=e.length;if(n!==(null===t||void 0===t?void 0:t.length))return!0;for(let i=0;i<n;i++){const n=e[i],o=t[i];if(n.col!==o)return!0;const r=o.getColDef();if(n.field!==r.field||n.type!==r.type||n.valueGetter!==r.valueGetter||n.keyCreator!==r.keyCreator)return!0}return!1};function L8(e,t){const n=e.sourceRowIndex,i=t.sourceRowIndex,o=n>=0,r=i>=0;return o&&r?n-i:!o&&!r?e.__objectId-t.__objectId:o?1:-1}var N8={moduleName:"SharedRowGrouping",version:n5,apiFunctions:{setRowGroupColumns:function(e,t){var n;null===(n=e.rowGroupColsSvc)||void 0===n||n.setColumns(t,"api")},removeRowGroupColumns:function(e,t){var n;null===(n=e.rowGroupColsSvc)||void 0===n||n.removeColumns(t,"api")},addRowGroupColumns:function(e,t){var n;null===(n=e.rowGroupColsSvc)||void 0===n||n.addColumns(t,"api")},getRowGroupColumns:function(e){var t,n;return null!==(t=null===(n=e.rowGroupColsSvc)||void 0===n?void 0:n.columns)&&void 0!==t?t:[]},moveRowGroupColumn:function(e,t,n){var i,o;null===(i=e.rowGroupColsSvc)||void 0===i||null===(o=i.moveColumn)||void 0===o||o.call(i,t,n,"api")}},dependsOn:[i5,l8,E8,k8]},B8={moduleName:"RowGrouping",version:n5,dynamicBeans:{groupStrategy:class extends vO{constructor(){super(...arguments),this.prevGroupCols=null,this.prevShowGroupCols=null}wireBeans(e){this.colModel=e.colModel,this.valueSvc=e.valueSvc,this.selectionSvc=e.selectionSvc,this.showRowGroupCols=e.showRowGroupCols}getNode(e){let t;return this.beans.rowModel.forEachNode(n=>{n.id===e&&(t=n)}),t}execute(e){var t;const n=this.createGroupingDetails(e),i=e.changedRowNodes;i?this.handleDeltaUpdate(n,i):this.shotgunResetEverything(n,!!e.afterColumnsChanged);const o=e.changedPath;this.positionLeafsAndGroups(o),this.orderGroups(n),null===(t=this.selectionSvc)||void 0===t||t.updateSelectableAfterGrouping(o)}positionLeafsAndGroups(e){e.forEachChangedNodeDepthFirst(e=>{if(e.childrenAfterGroup){const t=[],n=[];let i;e.childrenAfterGroup.forEach(e=>{var o;null!==(o=e.childrenAfterGroup)&&void 0!==o&&o.length?""!==e.key||i?n.push(e):i=e:t.push(e)}),i&&n.push(i),e.childrenAfterGroup=[...t,...n]}},!1)}createGroupingDetails(e){var t;const{rowNode:n,changedPath:i,rowNodesOrderChanged:o}=e;let r=!1;const s=null===(t=this.beans.rowGroupColsSvc)||void 0===t?void 0:t.columns;let a=this.prevGroupCols;a&&!I8(a,s)||(r=!!a,this.prevGroupCols=a=M8(s));return{groupCols:a,rootNode:n,pivotMode:this.colModel.isPivotMode(),rowNodesOrderChanged:!!o,groupColsChanged:r,changedPath:i,groupAllowUnbalanced:this.gos.get("groupAllowUnbalanced"),isGroupOpenByDefault:this.gos.getCallback("isGroupOpenByDefault"),initialGroupOrderComparator:this.gos.getCallback("initialGroupOrderComparator")}}handleDeltaUpdate(e,t){let{removals:n,updates:i,adds:o}=t;const r=new T8;n.size&&this.removeNodes(n,e,r);for(const l of i)this.moveNodeInWrongPath(l,e,r);const s=e.changedPath;for(const l of o)this.insertOneNode(l,e),s.active&&s.addParentNode(l.parent);const a=r.getAllParents();r.flush(),this.removeEmptyGroups(a,e),e.rowNodesOrderChanged&&this.sortChildren(e)}sortChildren(e){e.changedPath.forEachChangedNodeDepthFirst(t=>{(function(e){if(!e)return!1;const t=e.length;if(t<2)return!1;let n=!1;for(let i=1;i<t;i++)if(L8(e[i-1],e[i])>0){n=!0;break}return!!n&&(e.sort(L8),!0)})(t.childrenAfterGroup)&&e.changedPath.addParentNode(t)},!1,!0)}orderGroups(e){const t=e.initialGroupOrderComparator;UI(t)&&function e(n){UI(n.childrenAfterGroup)&&!n.leafGroup&&(n.childrenAfterGroup.sort((e,n)=>t({nodeA:e,nodeB:n})),n.childrenAfterGroup.forEach(t=>e(t)))}(e.rootNode)}getExistingPathForNode(e,t){const n=[];let i=e.parent;for(;i&&i!==t.rootNode;)n.push({key:i.key,rowGroupColumn:i.rowGroupColumn,field:i.field}),i=i.parent;return n.reverse(),n}moveNodeInWrongPath(e,t,n){t.changedPath.active&&t.changedPath.addParentNode(e.parent);const i=e=>e.key;MO(this.getExistingPathForNode(e,t).map(i),this.getGroupInfo(e,t).map(i))||this.moveNode(e,t,n)}moveNode(e,t,n){if(this.removeNodesFromParents([e],t,n),this.insertOneNode(e,t,n),e.setData(e.data),t.changedPath.active){const n=e.parent;t.changedPath.addParentNode(n)}}removeNodes(e,t,n){if(this.removeNodesFromParents(e,t,n),t.changedPath.active)for(const i of e)t.changedPath.addParentNode(i.parent)}forEachParentGroup(e,t,n){let i=t;for(;i&&i!==e.rootNode;)n(i),i=i.parent}removeNodesFromParents(e,t,n){const i=null==n,o=n||new T8;for(const r of e)this.removeFromParent(r,o),this.forEachParentGroup(t,r.parent,e=>{o.removeFromAllLeafChildren(e,r)});i&&o.flush()}removeEmptyGroups(e,t){let n=!0;const i=e=>{var t,n,i;const o=this.getChildrenMappedKey(e.key,e.rowGroupColumn),r=null===(t=e.parent)||void 0===t?void 0:t.childrenMapped;return!(!r||!r[o])&&(!!e.group&&0===(null!==(n=null===(i=e.childrenAfterGroup)||void 0===i?void 0:i.length)&&void 0!==n?n:0))};for(;n;){n=!1;const o=new T8;e.forEach(e=>{this.forEachParentGroup(t,e,e=>{var t;i(e)&&(n=!0,this.removeFromParent(e,o),null===(t=this.selectionSvc)||void 0===t||t.setNodesSelected({nodes:[e],newValue:!1,source:"rowGroupChanged"}))})}),o.flush()}}removeFromParent(e,t){var n;e.parent&&(t?t.removeFromChildrenAfterGroup(e.parent,e):(LO(e.parent.childrenAfterGroup,e),e.parent.updateHasChildren()));const i=this.getChildrenMappedKey(e.key,e.rowGroupColumn),o=null===(n=e.parent)||void 0===n?void 0:n.childrenMapped;o&&delete o[i],e.setRowTop(null),e.setRowIndex(null)}addToParent(e,t){var n;const i=null!==(n=t.childrenMapped)&&void 0!==n?n:t.childrenMapped={},o=this.getChildrenMappedKey(e.key,e.rowGroupColumn);var r;i[o]!==e&&(i[o]=e,(null!==(r=t.childrenAfterGroup)&&void 0!==r?r:t.childrenAfterGroup=[]).push(e),t4(t,this.beans,!0))}checkAllGroupDataAfterColsChanged(e){const t=e=>{e&&e.forEach(e=>{var n;if(!e.group)return;const i={field:e.field,key:e.key,rowGroupColumn:e.rowGroupColumn,leafNode:null===(n=e.allLeafChildren)||void 0===n?void 0:n[0]};this.setGroupData(e,i),t(e.childrenAfterGroup)})};t(e.rootNode.childrenAfterGroup)}shotgunResetEverything(e,t){var n,i;if(this.noChangeInGroupingColumns(e,t))return;null===(n=this.selectionSvc)||void 0===n||null===(i=n.filterFromSelection)||void 0===i||i.call(n,e=>!e.group);const o=e.rootNode;o.leafGroup=0===e.groupCols.length,o.childrenAfterGroup=[],o.childrenMapped={},o.updateHasChildren();const r=o.sibling;r&&(r.childrenAfterGroup=o.childrenAfterGroup,r.childrenMapped=o.childrenMapped),this.insertNodes(o.allLeafChildren,e)}noChangeInGroupingColumns(e,t){let n=!1;const i=this.prevShowGroupCols,o=this.showRowGroupCols.getShowRowGroupCols();return i&&!I8(i,o)||(n=!!i,this.prevShowGroupCols=M8(o)),!(!t||e.groupColsChanged)&&(n&&this.checkAllGroupDataAfterColsChanged(e),!0)}insertNodes(e,t){e.forEach(e=>{this.insertOneNode(e,t),t.changedPath.active&&t.changedPath.addParentNode(e.parent)})}insertOneNode(e,t,n){const i=this.getGroupInfo(e,t),o=this.findParentForNode(e,i,t,n);o.group||iB(184,{parentGroupData:o.data,childNodeData:e.data}),e.parent=o,e.level=i.length,o.childrenAfterGroup.push(e),o.updateHasChildren()}findParentForNode(e,t,n,i){let o=n.rootNode;return t.forEach((t,r)=>{o=this.getOrCreateNextNode(o,t,r,n),null!==i&&void 0!==i&&i.isRemoveFromAllLeafChildren(o,e)?null===i||void 0===i||i.preventRemoveFromAllLeafChildren(o,e):o.allLeafChildren.push(e)}),o}getOrCreateNextNode(e,t,n,i){const o=this.getChildrenMappedKey(t.key,t.rowGroupColumn),r=null===e||void 0===e?void 0:e.childrenMapped;let s=null===r||void 0===r?void 0:r[o];return s||(s=this.createGroup(t,e,n,i),this.addToParent(s,e)),s}createGroup(e,t,n,i){const o=new WV(this.beans);return o.group=!0,o.field=e.field,o.rowGroupColumn=e.rowGroupColumn,this.setGroupData(o,e),o.key=e.key,o.id=this.createGroupId(o,t,n),o.level=n,o.leafGroup=n===i.groupCols.length-1,o.allLeafChildren=[],o.setAllChildrenCount(0),o.rowGroupIndex=n,o.childrenAfterGroup=[],o.childrenMapped={},o.updateHasChildren(),o.parent=t,this.setExpandedInitialValue(i,o),o}createGroupId(e,t,n){const i=(e,t)=>{if(!e.rowGroupColumn)return null;const n=t?i(t,t.parent,0):null;return"".concat(null==n?"":n+"-").concat(e.rowGroupColumn.getColId(),"-").concat(e.key)};return zV+i(e,t,n)}setGroupData(e,t){const n=t.rowGroupColumn;n&&t.leafNode&&(e.groupValue=this.valueSvc.getValue(n,t.leafNode)),e.groupData={};this.showRowGroupCols.getShowRowGroupCols().forEach(n=>{const i=e.rowGroupColumn;null!==i&&n.isRowGroupDisplayed(i.getId())&&(e.groupData[n.getColId()]=this.valueSvc.getValue(i,t.leafNode))})}getChildrenMappedKey(e,t){return t?t.getId()+"-"+e:e}setExpandedInitialValue(e,t){e.pivotMode&&t.leafGroup?t.expanded=!1:t.expanded=C8(this.beans,t,t.level)}getGroupInfo(e,t){const n=[];for(const{col:i,field:o}of t.groupCols){let r=this.valueSvc.getKeyForNode(i,e),s=null!==r&&void 0!==r&&""!==r;if((t.pivotMode||!t.groupAllowUnbalanced)&&!s&&(r="",s=!0),s){const t={key:r,field:o,rowGroupColumn:i,leafNode:e};n.push(t)}}return n}}},rowModels:["clientSide"],dependsOn:[N8,u8,F8]},O8={moduleName:"RowGroupingPanel",version:n5,selectors:[A8],icons:{pivotPanel:"pivot",rowGroupPanel:"group",panelDelimiter:"small-right",panelDelimiterRtl:"small-left"},dependsOn:[i5,ZZ]},G8={moduleName:"GroupFilter",version:n5,userComponents:{agGroupColumnFilter:class extends uU{constructor(){super(R8),this.filterType="group",this.eGroupField=kG,this.eUnderlyingFilter=kG}wireBeans(e){this.groupFilterSvc=e.groupFilter}postConstruct(){this.initialiseTabGuard({})}init(e){return this.params=e,this.updateParams().then(()=>{this.addHandlerListeners(this.updateGroups.bind(this))})}refresh(e){const t=e;return this.params=t,"colDef"===t.source&&this.updateParams(),!0}updateParams(){return this.validateParams(),this.updateGroups()}validateParams(){const{colDef:e}=this.params;e.field&&iB(234),e.filterValueGetter&&iB(235),e.filterParams&&iB(236)}addHandlerListeners(e){const t=this.addManagedListeners(this.getHandler(),{sourceColumnsChanged:()=>{this.updateGroups()},destroyed:()=>{t.forEach(e=>e()),this.addHandlerListeners(e)}})}updateGroups(){const{sourceColumns:e,selectedColumn:t}=this.updateGroupField();return this.dispatchLocalEvent({type:"columnsChanged"}),this.getUnderlyingFilters(e,t)}updateGroupField(){this.groupColumn=this.params.column;const e=this.getHandler();if(!e)return{sourceColumns:null};const{sourceColumns:t,hasMultipleColumns:n,selectedColumn:i}=e,o=this.eGroupField;return uN(o),this.eGroupFieldSelect&&this.destroyBean(this.eGroupFieldSelect),n&&t&&(this.createGroupFieldSelectElement(t,i),o.appendChild(this.eGroupFieldSelect.getGui()),o.appendChild(MN({tag:"div",cls:"ag-filter-separator"}))),XL(o,n),{sourceColumns:t,selectedColumn:i}}createGroupFieldSelectElement(e,t){const n=this.createManagedBean(new nU);this.eGroupFieldSelect=n;const i=this.getLocaleTextFunc();n.setLabel(i("groupFilterSelect","Select field:")),n.setLabelAlignment("top"),n.addOptions(e.map(e=>{var t;return{value:e.getColId(),text:null!==(t=this.beans.colNames.getDisplayNameForColumn(e,"groupFilter",!1))&&void 0!==t?t:void 0}})),n.setValue(t.getColId()),n.onValueChange(e=>this.updateSelectedColumn(e)),n.addCss("ag-group-filter-field-select-wrapper"),1===e.length&&n.setDisabled(!0)}getUnderlyingFilters(e,t){if(!e)return this.filterColumnPairs=void 0,this.selectedFilter=void 0,PG.resolve();const n=[],i=[],o=this.beans.colFilter;return e.forEach(e=>{const r=o.getOrCreateFilterUi(e);r&&n.push(r.then(n=>{n&&i.push({filter:n,column:e}),e.getColId()===t.getColId()&&(this.selectedFilter=null!==n&&void 0!==n?n:void 0)}))}),PG.all(n).then(()=>{this.filterColumnPairs=i})}addUnderlyingFilterElement(e){var t,n;if(uN(this.eUnderlyingFilter),!e)return PG.resolve();const i=this.createManagedBean(new cH(e,"COLUMN_MENU"));return this.filterComp=i,i.hasFilter()?(this.eUnderlyingFilter.appendChild(i.getGui()),null!==(t=null===(n=i.getFilter())||void 0===n?void 0:n.then(()=>{var e,t;null===(e=i.afterGuiAttached)||void 0===e||e.call(i,this.afterGuiAttachedParams),null!==(t=this.afterGuiAttachedParams)&&void 0!==t&&t.suppressFocus||!this.eGroupFieldSelect||this.eGroupFieldSelect.isDisabled()||this.eGroupFieldSelect.getFocusableElement().focus()}))&&void 0!==t?t:PG.resolve()):PG.resolve()}updateSelectedColumn(e){var t;if(!e)return;null===(t=this.filterComp)||void 0===t||t.afterGuiDetached(),this.destroyBean(this.filterComp);const n=this.getFilterColumnPair(e),i=null===n||void 0===n?void 0:n.column;this.selectedFilter=null===n||void 0===n?void 0:n.filter,this.getHandler().setSelectedColumn(i),this.dispatchLocalEvent({type:"columnsChanged"}),this.addUnderlyingFilterElement(i)}isFilterActive(){return this.groupFilterSvc.isFilterActive(this.groupColumn)}doesFilterPass(){return!0}getModel(){return null}setModel(){}afterGuiAttached(e){this.afterGuiAttachedParams=e,this.addUnderlyingFilterElement(this.getHandler().selectedColumn)}afterGuiDetached(){var e,t;uN(this.eUnderlyingFilter),null===(e=this.selectedFilter)||void 0===e||null===(t=e.afterGuiDetached)||void 0===t||t.call(e)}getSelectedColumn(){return this.getHandler().selectedColumn}getHandler(){return this.params.getHandler()}getFilterColumnPair(e){var t;if(e)return null===(t=this.filterColumnPairs)||void 0===t?void 0:t.find(t=>{let{column:n}=t;return n.getColId()===e})}},agGroupColumnFloatingFilter:class extends AG{constructor(){super(P8),this.eFloatingFilter=kG,this.haveAddedColumnListeners=!1}init(e){this.params=e;const t=_B(this.gos),n=this.onColChange.bind(this),i=e=>{t?this.setupUnderlyingFloatingFilterElement().then(()=>e()):(this.setupReadOnlyFloatingFilterElement(),e())};return this.gos.get("enableFilterHandlers")?new PG(e=>i(e)).then(()=>{this.addHandlerListeners(e,n)}):new PG(e=>{this.params.parentFilterInstance(t=>{this.parentFilterInstance=t,i(e)})}).then(()=>{this.addManagedListeners(this.parentFilterInstance,{columnsChanged:n})})}refresh(e){if(this.params=e,this.setParams(),this.gos.get("enableFilterHandlers"))if(this.showingUnderlyingFloatingFilter){var t,n;const e=this.getSelectedColumn(),i=this.beans.colFilter.getFloatingFilterCompDetails(e,this.params.showParentFilter);null===(t=this.underlyingFloatingFilter)||void 0===t||null===(n=t.refresh)||void 0===n||n.call(t,null===i||void 0===i?void 0:i.params)}else this.updateDisplayedValue()}setParams(){var e;const t=this.beans.colNames.getDisplayNameForColumn(this.params.column,"header",!0),n=this.getLocaleTextFunc();null===(e=this.eFloatingFilterText)||void 0===e||e.setInputAriaLabel("".concat(t," ").concat(n("ariaFilterInput","Filter Input")))}addHandlerListeners(e,t){const n=this.addManagedListeners(e.getHandler(),{selectedColumnChanged:t,sourceColumnsChanged:t,destroyed:()=>{n.forEach(e=>e()),this.addHandlerListeners(this.params,t)}})}setupReadOnlyFloatingFilterElement(){this.eFloatingFilterText||(this.eFloatingFilterText=this.createManagedBean(new KW),this.eFloatingFilterText.setDisabled(!0).addGuiEventListener("click",()=>this.params.showParentFilter()),this.setParams()),this.updateDisplayedValue(),this.eFloatingFilter.appendChild(this.eFloatingFilterText.getGui())}setupUnderlyingFloatingFilterElement(){this.showingUnderlyingFloatingFilter=!1,this.underlyingFloatingFilter=void 0,uN(this.eFloatingFilter);const e=this.getSelectedColumn();if(e&&!e.isVisible()){const t=this.beans.colFilter,n=t.getFloatingFilterCompDetails(e,this.params.showParentFilter);if(n)return this.haveAddedColumnListeners||(this.haveAddedColumnListeners=!0,this.addManagedListeners(e,{visibleChanged:this.onColumnVisibleChanged.bind(this),colDefChanged:this.onColDefChanged.bind(this)})),n.newAgStackInstance().then(n=>{var i;this.underlyingFloatingFilter=n,null===(i=this.underlyingFloatingFilter)||void 0===i||i.onParentModelChanged(t.getModelForColumn(e)),this.appendChild(n.getGui()),this.showingUnderlyingFloatingFilter=!0})}return this.setupReadOnlyFloatingFilterElement(),PG.resolve()}getSelectedColumn(){if(this.gos.get("enableFilterHandlers")){return this.params.getHandler().selectedColumn}return this.parentFilterInstance.getSelectedColumn()}onColumnVisibleChanged(){this.setupUnderlyingFloatingFilterElement()}onColDefChanged(e){if(!e.column)return;const t=this.beans.colFilter.getFloatingFilterCompDetails(e.column,this.params.showParentFilter);var n,i;t&&(null===(n=this.underlyingFloatingFilter)||void 0===n||null===(i=n.refresh)||void 0===i||i.call(n,t.params))}onParentModelChanged(e,t){var n;this.showingUnderlyingFloatingFilter?null===(n=this.underlyingFloatingFilter)||void 0===n||n.onParentModelChanged(this.beans.colFilter.getModelForColumn(this.getSelectedColumn()),t):this.updateDisplayedValue()}updateDisplayedValue(){const e=this.eFloatingFilterText;if(!e)return;const t=this.beans.colFilter,n=this.getSelectedColumn(),i=i=>{if(i){var o,r;const s=n?t.getModelForColumn(n):null;e.setValue(null==s?"":null!==(o=null===(r=i.getModelAsString)||void 0===r?void 0:r.call(i,s))&&void 0!==o?o:""),e.setDisplayed(!0)}else e.setValue(""),e.setDisplayed(!1)};var o;this.gos.get("enableFilterHandlers")?i(t.getHandler(n)):null===(o=t.getOrCreateFilterUi(n))||void 0===o||o.then(e=>{i(e)})}onColChange(){this.showingUnderlyingFloatingFilter||this.updateDisplayedValue()}}},beans:[class extends vO{constructor(){super(...arguments),this.beanName="groupFilter"}postConstruct(){this.addManagedEventListeners({columnRowGroupChanged:()=>this.updateFilterFlags("columnRowGroupChanged")})}isGroupFilter(e){return"agGroupColumnFilter"===e.getColDef().filter}isFilterAllowed(e){var t;const n=this.beans.colFilter;return!(null===(t=this.getSourceColumns(e))||void 0===t||!t.some(e=>null===n||void 0===n?void 0:n.isFilterAllowed(e)))}isFilterActive(e){var t;const n=this.beans.colFilter;return!(null===(t=this.getSourceColumns(e))||void 0===t||!t.some(e=>null===n||void 0===n?void 0:n.isFilterActive(e)))}getSourceColumns(e){var t;return null===(t=this.beans.showRowGroupCols)||void 0===t?void 0:t.getSourceColumnsForGroupColumn(e)}updateFilterFlags(e,t){var n;const{autoColSvc:i,colFilter:o}=this.beans;null===i||void 0===i||null===(n=i.getColumns())||void 0===n||n.forEach(n=>{this.isGroupFilter(n)&&(null===o||void 0===o||o.setColFilterActive(n,this.isFilterActive(n),e,t))})}}],dynamicBeans:{agGroupColumnFilterHandler:class extends vO{init(e){this.params=e,this.validateModel(e),this.updateColumns(),this.addManagedEventListeners({columnRowGroupChanged:this.updateColumns.bind(this),filterDestroyed:e=>this.onFilterDestroyed(e)})}refresh(e){this.params=e,this.validateModel(e),"colDef"===e.source&&this.updateColumns()}doesFilterPass(){return!0}setSelectedColumn(e){this.selectedColumn=e,this.dispatchLocalEvent({type:"selectedColumnChanged"})}validateModel(e){null!=e.model&&e.onModelChange(null)}getSourceColumns(){const e=this.params.column;if(this.gos.get("treeData"))return iB(237),[];const t=this.beans.groupFilter.getSourceColumns(e);return t||(iB(183),[])}updateColumns(){const e=this.getSourceColumns(),t=e.filter(e=>e.isFilterAllowed());let n,i;this.sourceColumns=t,t.length?1===e.length?(n=t[0],i=!1):(n=this.selectedColumn,n&&t.some(e=>e.getId()===n.getId())||(n=t[0]),i=!0):(n=void 0,i=!1),this.selectedColumn=n,this.hasMultipleColumns=i,this.dispatchLocalEvent({type:"sourceColumnsChanged"})}onFilterDestroyed(e){var t;let{column:n,source:i}=e;if("gridDestroyed"===i)return;const o=n.getColId();null!==(t=this.sourceColumns)&&void 0!==t&&t.some(e=>e.getColId()===o)&&setTimeout(()=>{this.isAlive()&&this.updateColumns()})}}},dependsOn:[i5,N$]},z8={moduleName:"ViewportRowModel",version:n5,rowModels:["viewport"],beans:[class extends vO{constructor(){super(...arguments),this.beanName="rowModel",this.firstRow=-1,this.lastRow=-1,this.rowCount=-1,this.rowNodesByIndex={},this.viewportChangedContext=!1}ensureRowHeightsValid(e,t,n,i){return!1}postConstruct(){const e=this.beans;this.rowHeight=mB(e),this.addManagedEventListeners({viewportChanged:this.onViewportChanged.bind(this)}),this.addManagedPropertyListener("viewportDatasource",()=>this.updateDatasource()),this.addManagedPropertyListener("rowHeight",()=>{this.rowHeight=mB(e),this.updateRowHeights()})}start(){this.updateDatasource()}isLastRowIndexKnown(){return!0}destroy(){this.destroyDatasource(),super.destroy()}destroyDatasource(){var e;const t=this.datasource;t&&(null===(e=t.destroy)||void 0===e||e.call(t),this.beans.rowRenderer.datasourceChanged(),this.firstRow=-1,this.lastRow=-1)}updateDatasource(){const e=this.gos.get("viewportDatasource");e&&this.setViewportDatasource(e)}getPageSize(){return this.gos.get("viewportRowModelPageSize")}getBufferSize(){return this.gos.get("viewportRowModelBufferSize")}calculateFirstRow(e){const t=this.getBufferSize(),n=this.getPageSize(),i=e-t;return i<0?0:Math.floor(i/n)*n}calculateLastRow(e){if(-1===e)return e;const t=this.getBufferSize(),n=this.getPageSize(),i=e+t,o=Math.ceil(i/n)*n,r=this.rowCount-1;return Math.min(o,r)}onViewportChanged(e){const t=this.calculateFirstRow(e.firstRow),n=this.calculateLastRow(e.lastRow);var i;this.firstRow===t&&this.lastRow===n||(this.firstRow=t,this.lastRow=n,this.purgeRowsNotInViewport(),this.viewportChangedContext=!0,null===(i=this.datasource)||void 0===i||i.setViewportRange(this.firstRow,this.lastRow),this.viewportChangedContext=!1)}purgeRowsNotInViewport(){const e=this.rowNodesByIndex;Object.keys(e).forEach(t=>{const n=parseInt(t,10);if(n<this.firstRow||n>this.lastRow){var i;if(this.isRowFocused(n)||null!==(i=this.beans.editSvc)&&void 0!==i&&i.isRowEditing(e[n]))return;delete e[n]}})}isRowFocused(e){const t=this.beans.focusSvc.getFocusCellToUseAfterRefresh();if(!t)return!1;if(null!=t.rowPinned)return!1;return t.rowIndex===e}setViewportDatasource(e){this.destroyDatasource(),this.datasource=e,this.rowCount=-1,e.init?e.init({setRowCount:this.setRowCount.bind(this),setRowData:this.setRowData.bind(this),getRow:this.getRow.bind(this)}):iB(226)}getType(){return"viewport"}getRow(e){return this.rowNodesByIndex[e]||(this.rowNodesByIndex[e]=this.createBlankRowNode(e)),this.rowNodesByIndex[e]}getRowNode(e){let t;return this.forEachNode(n=>{n.id===e&&(t=n)}),t}getRowCount(){return-1===this.rowCount?0:this.rowCount}getRowIndexAtPixel(e){return 0!==this.rowHeight?Math.floor(e/this.rowHeight):0}getRowBounds(e){const t=this.rowHeight;return{rowHeight:t,rowTop:t*e}}updateRowHeights(){const e=this.rowHeight;this.forEachNode(t=>{t.setRowHeight(e),t.setRowTop(e*t.rowIndex)}),this.eventSvc.dispatchEvent({type:"modelUpdated",newData:!1,newPage:!1,keepRenderedRows:!0,animate:!1})}getTopLevelRowCount(){return this.getRowCount()}getTopLevelRowDisplayedIndex(e){return e}isEmpty(){return this.rowCount>0}isRowsToRender(){return this.rowCount>0}getNodesInRangeForSelection(e,t){const n=e.rowIndex,i=t.rowIndex,o=n<this.firstRow||n>this.lastRow,r=i<this.firstRow||i>this.lastRow;if(o||r)return[];const s=[],a=n<=i?i:n;for(let l=n<=i?n:i;l<=a;l++)s.push(this.rowNodesByIndex[l]);return s}forEachNode(e){let t=0;Object.keys(this.rowNodesByIndex).forEach(n=>{const i=parseInt(n,10),o=this.rowNodesByIndex[i];e(o,t),t++})}setRowData(e){const t=LB(this.beans.gos),n=new Map;if(t)for(const i of Object.values(this.rowNodesByIndex))n.set(i.id,i);for(let i=this.firstRow;i<=this.lastRow;i++){const o=e[i];if(!o)continue;let r,s;t?(r=t({data:o,rowPinned:void 0,level:0,parentKeys:void 0}),s=n.get(r)):s=this.rowNodesByIndex[i],s?(s.updateData(o),s.setRowIndex(i),s.setRowTop(this.rowHeight*i)):(s=this.createBlankRowNode(i),s.setDataAndId(o,null!==r&&void 0!==r?r:i.toString())),this.rowNodesByIndex[i]=s}this.viewportChangedContext||this.eventSvc.dispatchEvent({type:"modelUpdated",newData:!1,newPage:!1,keepRenderedRows:!0,animate:!1})}createBlankRowNode(e){const t=new WV(this.beans),n=this.rowHeight;return t.setRowHeight(n),t.setRowTop(n*e),t.setRowIndex(e),t}setRowCount(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e===this.rowCount)return;this.rowCount=e;const n=this.eventSvc;n.dispatchEventOnce({type:"rowCountReady"}),n.dispatchEvent({type:"modelUpdated",newData:!1,newPage:!1,keepRenderedRows:t,animate:!1})}isRowPresent(e){return!!this.getRowNode(e.id)}}],dependsOn:[i5]};var V8="paste",H8="dragCopy",j8="clipboard";var W8={moduleName:"Clipboard",version:n5,beans:[class extends vO{constructor(){super(...arguments),this.beanName="clipboardSvc",this.clientSideRowModel=null,this.gridCtrl=null,this.lastPasteOperationTime=0,this.navigatorApiFailed=!1}postConstruct(){const{gos:e,rowModel:t,ctrlsSvc:n}=this.beans;uB(e)&&(this.clientSideRowModel=t),n.whenReady(this,e=>{this.gridCtrl=e.gridCtrl})}destroy(){super.destroy(),this.clientSideRowModel=null,this.gridCtrl=null}pasteFromClipboard(){!this.gos.get("suppressClipboardApi")&&!this.navigatorApiFailed&&navigator.clipboard&&navigator.clipboard.readText?navigator.clipboard.readText().then(this.processClipboardData.bind(this)).catch(e=>{iB(40,{e:e,method:"readText"}),this.navigatorApiFailed=!0,this.pasteFromClipboardLegacy()}):this.pasteFromClipboardLegacy()}pasteFromClipboardLegacy(){let e=!1;const t=t=>{const n=Date.now();n-this.lastPasteOperationTime<50&&(e=!0,t.preventDefault()),this.lastPasteOperationTime=n};this.executeOnTempElement(e=>{e.addEventListener("paste",t),e.focus({preventScroll:!0})},n=>{const i=n.value;e?this.refocusLastFocusedCell():this.processClipboardData(i),n.removeEventListener("paste",t)})}refocusLastFocusedCell(){const{focusSvc:e}=this.beans,t=e.getFocusedCell();t&&e.setFocusedCell({rowIndex:t.rowIndex,column:t.column,rowPinned:t.rowPinned,forceBrowserFocus:!0})}getClipboardDelimiter(){const e=this.gos.get("clipboardDelimiter");return UI(e)?e:"\t"}processClipboardData(e){if(null==e)return;let t=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:",";const n=[],i=e=>"\r"===e||"\n"===e;let o=!1;if(""===e)return[[""]];for(let r=0,s=0,a=0;a<e.length;a++){const l=e[a-1],u=e[a],c=e[a+1],d=()=>{n[r]||(n[r]=[]),n[r][s]||(n[r][s]="")};if(d(),'"'===u&&(o?'"'===c?(n[r][s]+='"',a++):o=!1:(void 0===l||l===t||i(l))&&(o=!0)),!o&&'"'!==u){if(u===t){s++,d();continue}if(i(u)){s=0,r++,d(),"\r"===u&&"\n"===c&&a++;continue}}n[r][s]+=u}return n}(e,this.getClipboardDelimiter());const n=this.gos.getCallback("processDataFromClipboard");if(n&&(t=n({data:t})),null==t)return;this.gos.get("suppressLastEmptyLineOnPaste")&&this.removeLastLineIfBlank(t);const{rangeSvc:i}=this.beans;this.doPasteOperation((e,n,o,r)=>{var s;(null===i||void 0===i?void 0:i.isMoreThanOneCell())&&!this.hasOnlyOneValueToPaste(t)?this.pasteIntoActiveRange(i,t,e,n,r):this.pasteStartingFromFocusedCell(t,e,n,o,r),null===(s=this.beans.editSvc)||void 0===s||s.stopEditing(void 0,{source:V8})})}doPasteOperation(e){const t="clipboard",{eventSvc:n,focusSvc:i,rowRenderer:o,gos:r}=this.beans;n.dispatchEvent({type:"pasteStart",source:t});const{clientSideRowModel:s}=this,a=null===s||void 0===s?void 0:s.rootNode,l=a&&new WU(r.get("aggregateOnlyChangedColumns"),a),u={},c=[];e(u,c,i.getFocusedCell(),l);const d=[...c];l&&(s.doAggregate(l),l.forEachChangedNodeDepthFirst(e=>{d.push(e)})),o.refreshCells({rowNodes:d}),this.dispatchFlashCells(u),this.fireRowChanged(c),this.refocusLastFocusedCell(),n.dispatchEvent({type:"pasteEnd",source:t})}pasteIntoActiveRange(e,t,n,i,o){const r=this.getRangeSize(e)%t.length!=0;let s=0,a=0;this.iterateActiveRanges(!1,(e,l,u,c)=>{const d=u.findIndex(UO);-1!==d&&u.splice(d,1);if(c-s>=t.length){if(r)return;s+=a,a=0}const h=t[c-s];i.push(l);const p=this.gos.getCallback("processCellFromClipboard");for(let t=0;t<u.length;t++){var g;const i=u[t];if(!i.isCellEditable(l)||i.isSuppressPaste(l))continue;let r=t;t>=h.length&&(r=t%h.length);const s=this.processCell(l,i,h[r],H8,p,!0);null===(g=this.beans.editSvc)||void 0===g||g.commitNextEdit(),l.setDataValue(i,s,V8),null===o||void 0===o||o.addParentNode(l.parent,[i]);const{rowIndex:a,rowPinned:c}=e,d=Fz({rowIndex:a,column:i,rowPinned:c});n[d]=!0}a++})}getDisplayedColumnsStartingAt(e){let t=e;const n=[],{visibleCols:i}=this.beans;for(;t&&qO(t);)t=i.getColAfter(t);for(;null!=t;)n.push(t),t=i.getColAfter(t);return n}pasteStartingFromFocusedCell(e,t,n,i,o){if(!i)return;const r={rowIndex:i.rowIndex,rowPinned:i.rowPinned},s=this.getDisplayedColumnsStartingAt(i.column);this.isPasteSingleValueIntoRange(e)?this.pasteSingleValueIntoRange(e,n,t,o):this.pasteMultipleValues(e,r,n,s,t,j8,o)}isPasteSingleValueIntoRange(e){const t=this.beans.rangeSvc;return this.hasOnlyOneValueToPaste(e)&&!!t&&!t.isEmpty()}pasteSingleValueIntoRange(e,t,n,i){const o=e[0][0];this.iterateActiveRanges(!1,(e,r,s)=>{t.push(r),s.forEach(e=>this.updateCellValue(r,e,o,n,j8,i))})}hasOnlyOneValueToPaste(e){return 1===e.length&&1===e[0].length}copyRangeDown(){const{rangeSvc:e,gos:t,valueSvc:n}=this.beans;if(!e||e.isEmpty())return;const i=[];this.doPasteOperation((e,o,r,s)=>{const a=t.getCallback("processCellForClipboard"),l=t.getCallback("processCellFromClipboard");this.iterateActiveRanges(!0,(t,r,u)=>{i.length?(o.push(r),u.forEach((n,o)=>{var a;if(!n.isCellEditable(r)||n.isSuppressPaste(r))return;const u=this.processCell(r,n,i[o],H8,l,!0);null===(a=this.beans.editSvc)||void 0===a||a.commitNextEdit(),r.setDataValue(n,u,V8),s&&s.addParentNode(r.parent,[n]);const{rowIndex:c,rowPinned:d}=t,h=Fz({rowIndex:c,column:n,rowPinned:d});e[h]=!0})):u.forEach(e=>{const t=this.processCell(r,e,n.getValue(e,r),H8,a,!1,!0);i.push(t)})})})}removeLastLineIfBlank(e){const t=_O(e);if(t&&1===t.length&&""===t[0]){if(1===e.length)return;LO(e,t)}}fireRowChanged(e){"fullRow"===this.gos.get("editType")&&e.forEach(e=>{this.eventSvc.dispatchEvent({type:"rowValueChanged",node:e,data:e.data,rowIndex:e.rowIndex,rowPinned:e.rowPinned})})}pasteMultipleValues(e,t,n,i,o,r,s){let a=t;const l=this.beans,{gos:u}=l,c=null!=this.clientSideRowModel&&!u.get("enableGroupEdit")&&!u.get("treeData");e.forEach(e=>{const t=(()=>{for(;;){if(!a)return null;const e=Tz(l,a);if(a=Iz(l,{rowPinned:a.rowPinned,rowIndex:a.rowIndex}),null==e)return null;if(!(e.detail||e.footer||c&&e.group))return e}})();t&&(e.forEach((e,n)=>this.updateCellValue(t,i[n],e,o,r,s)),n.push(t))})}updateCellValue(e,t,n,i,o,r){var s;if(!e||!t||!t.isCellEditable(e)||t.isSuppressPaste(e))return;const a=this.processCell(e,t,n,o,this.gos.getCallback("processCellFromClipboard"),!0);null===(s=this.beans.editSvc)||void 0===s||s.commitNextEdit(),e.setDataValue(t,a,V8);const{rowIndex:l,rowPinned:u}=e;i[Fz({rowIndex:l,column:t,rowPinned:u})]=!0,r&&r.addParentNode(e.parent,[t])}copyToClipboard(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.copyOrCutToClipboard(e)}cutToClipboard(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"api";this.gos.get("suppressCutToClipboard")||(this.eventSvc.dispatchEvent({type:"cutStart",source:t}),this.copyOrCutToClipboard(e,!0),this.eventSvc.dispatchEvent({type:"cutEnd",source:t}))}copyOrCutToClipboard(e,t){let{includeHeaders:n,includeGroupHeaders:i}=e;const{gos:o,focusSvc:r}=this.beans;null==n&&(n=o.get("copyHeadersToClipboard")),null==i&&(i=o.get("copyGroupHeadersToClipboard"));const s={includeHeaders:n,includeGroupHeaders:i},a=o.get("rowSelection"),l=o.get("cellSelection");let u=null;this.shouldCopyCells(l,a)?(this.copySelectedRangeToClipboard(s),u=0):this.shouldCopyRows(a)?(this.copySelectedRowsToClipboard(s),u=1):r.isAnyCellFocused()&&(this.copyFocusedCellToClipboard(s),u=2),t&&null!==u&&this.clearCellsAfterCopy(u)}shouldCopyCells(e,t){const{rangeSvc:n,selectionSvc:i,gos:o}=this.beans;if(!n||n.isEmpty())return!1;if(e){return!("object"===typeof t&&t.copySelectedRows&&!(null!==i&&void 0!==i&&i.isEmpty()))}{const e=o.get("suppressCopySingleCellRanges");return!(!n.isMoreThanOneCell()&&e)}}shouldCopyRows(e){var t;const{selectionSvc:n,gos:i}=this.beans;return null!==(t=null===n||void 0===n?void 0:n.isEmpty())&&void 0!==t&&!t&&(e&&"string"!==typeof e?null!==(o=e.copySelectedRows)&&void 0!==o&&o:!i.get("suppressCopyRowsToClipboard"));var o}clearCellsAfterCopy(e){const t=this.beans,{rangeSvc:n,focusSvc:i,eventSvc:o}=t;if(o.dispatchEvent({type:"keyShortcutChangedCellStart"}),0===e)n.clearCellRangeCellValues({cellEventSource:"clipboardSvc"});else if(1===e)this.clearSelectedRows();else{const e=i.getFocusedCell();if(null==e)return;const n=Tz(t,e);n&&this.clearCellValue(n,e.column)}o.dispatchEvent({type:"keyShortcutChangedCellEnd"})}clearSelectedRows(){var e;const{selectionSvc:t,visibleCols:n}=this.beans,i=null!==(e=null===t||void 0===t?void 0:t.getSelectedNodes())&&void 0!==e?e:[],o=n.allCols;for(const r of i)for(const e of o)this.clearCellValue(r,e)}clearCellValue(e,t){if(!t.isCellEditable(e))return;const n=this.beans.valueSvc.getDeleteValue(t,e);e.setDataValue(t,n,"clipboardSvc")}iterateActiveRanges(e,t,n){const i=this.beans.rangeSvc;if(!i||i.isEmpty())return;const o=i.getCellRanges();e?this.iterateActiveRange(o[0],t,n,!0):o.forEach((e,i)=>this.iterateActiveRange(e,t,n,i===o.length-1))}iterateActiveRange(e,t,n,i){const{beans:o}=this,{rangeSvc:r}=o;if(!r)return;let s=r.getRangeStartRow(e);const a=r.getRangeEndRow(e);n&&e.columns&&n(e.columns);let l=0,u=!1;for(;!u&&null!=s;){const n=Tz(o,s);u=Rz(s,a),t(s,n,e.columns,l++,u&&i),s=Iz(o,s)}}copySelectedRangeToClipboard(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=this.beans.rangeSvc;if(!t||t.isEmpty())return;const n=t.areAllRangesAbleToMerge(),{data:i,cellsToFlash:o}=n?this.buildDataFromMergedRanges(t,e):this.buildDataFromRanges(t,e);this.copyDataToClipboard(i),this.dispatchFlashCells(o)}buildDataFromMergedRanges(e,t){const n=new Set,i=e.getCellRanges(),o=new Map,r=[],s={};i.forEach(t=>{t.columns.forEach(e=>n.add(e));const{rowPositions:i,cellsToFlash:a}=this.getRangeRowPositionsAndCellsToFlash(e,t);i.forEach(e=>{const t="".concat(e.rowIndex,"-").concat(e.rowPinned||"null");o.get(t)||(o.set(t,!0),r.push(e))}),Object.assign(s,a)});const a=this.beans.visibleCols.allCols,l=Array.from(n);l.sort((e,t)=>a.indexOf(e)-a.indexOf(t));return{data:this.buildExportParams({columns:l,rowPositions:r,includeHeaders:t.includeHeaders,includeGroupHeaders:t.includeGroupHeaders}),cellsToFlash:s}}buildDataFromRanges(e,t){const n=e.getCellRanges(),i=[],o={};return n.forEach(n=>{const{rowPositions:r,cellsToFlash:s}=this.getRangeRowPositionsAndCellsToFlash(e,n);Object.assign(o,s),i.push(this.buildExportParams({columns:n.columns,rowPositions:r,includeHeaders:t.includeHeaders,includeGroupHeaders:t.includeGroupHeaders}))}),{data:i.join("\n"),cellsToFlash:o}}getRangeRowPositionsAndCellsToFlash(e,t){const n=[],i={},o=e.getRangeStartRow(t),r=e.getRangeEndRow(t);let s=o;for(;s&&(n.push(s),t.columns.forEach(e=>{const{rowIndex:t,rowPinned:n}=s,o=Fz({rowIndex:t,column:e,rowPinned:n});i[o]=!0}),!Rz(s,r));)s=Iz(this.beans,s);return{rowPositions:n,cellsToFlash:i}}getCellsToFlashFromRowNodes(e){const t=this.beans.visibleCols.allCols,n={};for(let i=0;i<e.length;i++){const{level:o,rowIndex:r,rowPinned:s,sibling:a}=e[i],l=-1===o?a.rowIndex:r;if(null!=l)for(let e=0;e<t.length;e++){n[Fz({rowIndex:l,column:t[e],rowPinned:s})]=!0}}return n}copyFocusedCellToClipboard(){var e,t;let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=this.beans.focusSvc.getFocusedCell();if(null==i)return;i=null!==(e=null===(t=this.beans.rowSpanSvc)||void 0===t?void 0:t.getCellStart(i))&&void 0!==e?e:i;const o=Fz(i),r={rowPinned:i.rowPinned,rowIndex:i.rowIndex},s=i.column,a=this.buildExportParams({columns:[s],rowPositions:[r],includeHeaders:n.includeHeaders,includeGroupHeaders:n.includeGroupHeaders});this.copyDataToClipboard(a),this.dispatchFlashCells({[o]:!0})}copySelectedRowsToClipboard(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{columnKeys:n,includeHeaders:i,includeGroupHeaders:o}=t,r=this.buildExportParams({columns:n,includeHeaders:i,includeGroupHeaders:o});this.copyDataToClipboard(r);const s=(null===(e=this.beans.selectionSvc)||void 0===e?void 0:e.getSelectedNodes())||[];this.dispatchFlashCells(this.getCellsToFlashFromRowNodes(s))}buildExportParams(e){const{columns:t,rowPositions:n,includeHeaders:i=!1,includeGroupHeaders:o=!1}=e,{gos:r,csvCreator:s}=this.beans,a={columnKeys:t,rowPositions:n,skipColumnHeaders:!i,skipColumnGroupHeaders:!o,suppressQuotes:!0,columnSeparator:this.getClipboardDelimiter(),onlySelected:!n,processCellCallback:r.getCallback("processCellForClipboard"),processRowGroupCallback:e=>{var t;let{node:n,column:i}=e;const{value:o,valueFormatted:s}=this.beans.valueSvc.getValueForDisplay(i,n,!0),a=null!==(t=null!==s&&void 0!==s?s:o)&&void 0!==t?t:"",l=r.getCallback("processCellForClipboard");return l?l({column:i,node:n,value:a,type:j8,formatValue:e=>{var t;return null!==(t=this.beans.valueSvc.formatValue(i,n,e))&&void 0!==t?t:e},parseValue:e=>{var t;return null!==(t=this.beans.valueSvc.parseValue(i,n,e,o))&&void 0!==t?t:e}}):a},processHeaderCallback:r.getCallback("processHeaderForClipboard"),processGroupHeaderCallback:r.getCallback("processGroupHeaderForClipboard")};return s.getDataAsCsv(a,!0)}dispatchFlashCells(e){window.setTimeout(()=>{this.eventSvc.dispatchEvent({type:"flashCells",cells:e})},0)}processCell(e,t,n,i,o,r,s){const a=this.beans.valueSvc;if(o){return o({column:t,node:e,value:n,type:i,formatValue:n=>{var i;return null!==(i=a.formatValue(t,null!==e&&void 0!==e?e:null,n))&&void 0!==i?i:n},parseValue:n=>a.parseValue(t,null!==e&&void 0!==e?e:null,n,a.getValue(t,e))})}return r&&!1!==t.getColDef().useValueParserForImport?a.parseValue(t,null!==e&&void 0!==e?e:null,n,a.getValue(t,e)):s&&!1!==t.getColDef().useValueFormatterForExport&&null!==(l=a.formatValue(t,null!==e&&void 0!==e?e:null,n))&&void 0!==l?l:n;var l}copyDataToClipboard(e){const t=this.gos.getCallback("sendToClipboard");if(t)return void t({data:e});!this.gos.get("suppressClipboardApi")&&navigator.clipboard?navigator.clipboard.writeText(e).catch(t=>{iB(40,{e:t,method:"writeText"}),this.copyDataToClipboardLegacy(e)}):this.copyDataToClipboardLegacy(e)}copyDataToClipboardLegacy(e){this.executeOnTempElement(t=>{const n=CB(this.beans),i=SB(this.beans);t.value=e||" ",t.select(),t.focus({preventScroll:!0});n.execCommand("copy")||iB(41),null!=i&&null!=i.focus&&i.focus({preventScroll:!0})})}executeOnTempElement(e,t){if(!this.gridCtrl)return;const n=CB(this.beans),i=n.createElement("textarea"),o=i.style;o.width="1px",o.height="1px";const r=n.documentElement;o.top=r.scrollTop+"px",o.left=r.scrollLeft+"px",o.position="absolute",o.opacity="0";const s=this.gridCtrl.getGui();s.appendChild(i);try{e(i)}catch(a){iB(42)}t?window.setTimeout(()=>{t(i),s.removeChild(i)},100):s.removeChild(i)}getRangeSize(e){const t=e.getCellRanges();let n=0,i=0;return t.length>0&&(n=e.getRangeStartRow(t[0]).rowIndex,i=e.getRangeEndRow(t[0]).rowIndex),n-i+1}}],apiFunctions:{copyToClipboard:function(e,t){var n;null===(n=e.clipboardSvc)||void 0===n||n.copyToClipboard(t)},cutToClipboard:function(e,t){var n;null===(n=e.clipboardSvc)||void 0===n||n.cutToClipboard(t)},copySelectedRowsToClipboard:function(e,t){var n;null===(n=e.clipboardSvc)||void 0===n||n.copySelectedRowsToClipboard(t)},copySelectedRangeToClipboard:function(e,t){var n;null===(n=e.clipboardSvc)||void 0===n||n.copySelectedRangeToClipboard(t)},copySelectedRangeDown:function(e){var t;null===(t=e.clipboardSvc)||void 0===t||t.copyRangeDown()},pasteFromClipboard:function(e){var t;null===(t=e.clipboardSvc)||void 0===t||t.pasteFromClipboard()}},dependsOn:[i5,$X,OY,iQ]},U8={tag:"div",cls:"ag-row-numbers-resizer"};function K8(e){const t=e.get("rowNumbers");return!(!t||"object"!==typeof t||!t.enableRowResizer)}var q8=class{constructor(e,t){this.beans=e,this.cellCtrl=t}refreshRowResizer(){K8(this.beans.gos)&&this.isRowResizeSupported(this.cellCtrl.rowNode)?this.addResizerToCellComp():this.removeRowResizerFromCellComp()}isRowResizeSupported(e){const{pinnedRowModel:t,rowModel:n,visibleCols:i}=this.beans,o=!!n.onRowHeightChanged;return i.autoHeightCols.length?(iB(276),!1):null!=e.rowPinned&&(null===t||void 0===t||!t.isManual())||o}addResizerToCellComp(){const{beans:e,cellCtrl:t}=this,{eGui:n}=t;let{rowResizer:i}=this;if(!i){if(i=e.registry.createDynamicBean("rowNumberRowResizer",!1,t),!i)return;this.rowResizer=e.context.createBean(i)}n.appendChild(i.getGui())}removeRowResizerFromCellComp(){if(!this.rowResizer)return;const{eGui:e}=this.cellCtrl;e.removeChild(this.rowResizer.getGui()),this.rowResizer=this.beans.context.destroyBean(this.rowResizer)}destroy(){this.removeRowResizerFromCellComp()}},Y8={moduleName:"RowNumbers",version:n5,beans:[class extends vO{constructor(){super(...arguments),this.beanName="rowNumbersSvc",this.isIntegratedWithSelection=!1,this.lastColumnResized=0}postConstruct(){const e=HN(this,this.refreshCells.bind(this),10);this.addManagedEventListeners({columnResized:()=>{this.lastColumnResized=Date.now()},modelUpdated:t=>{e(!1,!t.keepRenderedRows)},rangeSelectionChanged:()=>this.refreshCells(!0),pinnedRowsChanged:()=>e(!1,!0)}),this.addManagedPropertyListeners(["rowNumbers","cellSelection"],e=>{this.refreshSelectionIntegration(),this.updateColumns(e)}),this.refreshSelectionIntegration()}addColumns(e){null!=this.columns&&(e.list=this.columns.list.concat(e.list),e.tree=this.columns.tree.concat(e.tree),$O(e))}createColumns(e,t){var n,i,o,r,s,a;const l=()=>{var e;jO(this.beans,null===(e=this.columns)||void 0===e?void 0:e.tree),this.columns=null};if(!this.gos.get("rowNumbers"))return void l();const u=e.treeDepth,c=(null!==(n=null===(i=this.columns)||void 0===i?void 0:i.treeDepth)&&void 0!==n?n:-1)==u,d=this.generateRowNumberCols();if(ZO(d,null!==(o=null===(r=this.columns)||void 0===r?void 0:r.list)&&void 0!==o?o:[])&&c)return;l();const{colGroupSvc:h}=this.beans,p=null!==(s=null===h||void 0===h?void 0:h.findDepth(e.tree))&&void 0!==s?s:0,g=null!==(a=null===h||void 0===h?void 0:h.balanceTreeForAutoCols(d,p))&&void 0!==a?a:[];this.columns={list:d,tree:g,treeDepth:p,map:{}};t(e=>{if(!e)return null;const t=e.filter(e=>!KO(e));return[...d,...t]})}handleMouseDownOnCell(e,t){return!(!this.isIntegratedWithSelection||t.target.classList.contains("ag-row-numbers-resizer"))&&(t.shiftKey||xV(this.beans,t)||setTimeout(()=>{this.focusFirstRenderedCellAtRowPosition(e)}),!0)}updateColumns(e){var t;const n=XO(e.source);this.refreshSelectionIntegration(),null===(t=this.columns)||void 0===t||t.list.forEach(e=>{const t=this.createRowNumbersColDef();e.setColDef(t,null,n),mG(this.beans,{state:[d({colId:e.getColId()},t)]},n)})}getColumn(){var e,t;return null!==(e=null===(t=this.columns)||void 0===t?void 0:t.list.find(KO))&&void 0!==e?e:null}getColumns(){var e,t;return null!==(e=null===(t=this.columns)||void 0===t?void 0:t.list)&&void 0!==e?e:null}setupForHeader(e){const{column:t,eGridHeader:n}=e.params;KO(t)&&(mL(n,"Row Number"),this.addManagedElementListeners(n,{click:this.onHeaderClick.bind(this),keydown:this.onHeaderKeyDown.bind(this),focus:this.onHeaderFocus.bind(this)}))}createRowNumbersRowResizerFeature(e,t){if(K8(this.gos))return new q8(e,t)}refreshSelectionIntegration(){const{beans:e}=this,{gos:t,rangeSvc:n}=e,i=t.get("cellSelection");this.refreshRowNumberOverrides(),this.isIntegratedWithSelection=!!n&&!!i&&!this.isSuppressCellSelectionIntegration}refreshRowNumberOverrides(){const e=this.gos.get("rowNumbers");if(this.rowNumberOverrides={},!e||"object"!==typeof e)return;e.suppressCellSelectionIntegration&&(this.isSuppressCellSelectionIntegration=!0);const t=["contextMenuItems","context","onCellClicked","onCellContextMenu","onCellDoubleClicked","headerTooltip","headerStyle","headerComponent","headerComponentParams","suppressHeaderKeyboardEvent","tooltipField","tooltipValueGetter","tooltipComponent","tooltipComponentParams","valueGetter","valueFormatter","width","maxWidth","minWidth","resizable"];for(const n of t)null!=e[n]&&(this.rowNumberOverrides[n]=e[n])}onHeaderFocus(){var e;null===(e=this.beans.ariaAnnounce)||void 0===e||e.announceValue("Press Space to select all cells","ariaSelectAllCells")}onHeaderKeyDown(e){this.isIntegratedWithSelection&&e.key===sV.SPACE&&JH(this.beans)}onHeaderClick(e){var t;Date.now()-this.lastColumnResized<100||!this.isIntegratedWithSelection||null!==(t=this.getColumn())&&void 0!==t&&t.resizing||JH(this.beans)}refreshCells(e,t){const n=this.getColumn();if(n){if(t){var i;const e=null===(i=this.beans.autoWidthCalc)||void 0===i?void 0:i.getPreferredWidthForElements([this.createDummyElement(n)],2);var o;if(null!=e)null===(o=this.beans.colResize)||void 0===o||o.setColumnWidths([{key:n,newWidth:e}],!1,!0,"rowNumbersService")}this.beans.rowRenderer.refreshCells({columns:[n],force:e})}}createDummyElement(e){const t=MN({tag:"div",cls:"ag-cell-value ag-cell"});let n=String(this.beans.rowModel.getRowCount()+1);if("function"===typeof this.rowNumberOverrides.valueFormatter){const t=iO(this.beans.gos,{data:void 0,value:n,node:null,column:e,colDef:e.colDef});n=this.rowNumberOverrides.valueFormatter(t)}return t.textContent=n,t}createRowNumbersColDef(){const{gos:e,contextMenuSvc:t}=this.beans,n=e.get("enableRtl");return d(d({minWidth:60,width:60,resizable:!1,valueGetter:this.valueGetter,contextMenuItems:this.isIntegratedWithSelection||!t?void 0:()=>[]},this.rowNumberOverrides),{},{colId:zO,chartDataType:"excluded",suppressHeaderMenuButton:!0,sortable:!1,suppressMovable:!0,lockPinned:!0,pinned:n?"right":"left",lockPosition:n?"right":"left",editable:!1,suppressFillHandle:!0,suppressAutoSize:!0,suppressSizeToFit:!0,suppressHeaderContextMenu:!0,suppressNavigable:!0,headerClass:this.getHeaderClass(),cellClass:this.getCellClass.bind(this),cellAriaRole:"rowheader"})}valueGetter(e){const t=e.node;if(null!==t&&void 0!==t&&t.rowPinned&&t.pinnedSibling){const{rowIndex:e}=t.pinnedSibling;return"".concat(null==e?"-":e+1)}return String(((null===t||void 0===t?void 0:t.rowIndex)||0)+1)}getHeaderClass(){const e=["ag-row-number-header"];return this.isIntegratedWithSelection&&e.push("ag-row-number-selection-enabled"),e}getCellClass(e){const{beans:t}=this,{rangeSvc:n,gos:i}=t,{node:o}=e,r=["ag-row-number-cell"],s=i.get("cellSelection");if(!n||!s)return r;this.isIntegratedWithSelection&&r.push("ag-row-number-selection-enabled");const a=n.getCellRanges();if(!a.length)return r;const l=this.beans.visibleCols.allCols.length-1,u="object"===typeof s&&s.enableHeaderHighlight;for(const c of a)n.isRowInRange(o.rowIndex,o.rowPinned,c)&&(u&&r.push("ag-row-number-range-highlight"),c.columns.length===l&&r.push("ag-row-number-range-selected"));return r}generateRowNumberCols(){const{gos:e}=this;if(!e.get("rowNumbers"))return[];const t=this.createRowNumbersColDef(),n=t.colId;e.validateColDef(t,n,!0);const i=new EO(t,null,n,!1);return this.createBean(i),[i]}focusFirstRenderedCellAtRowPosition(e){const{beans:t,gos:n}=this,{visibleCols:i,colViewport:o}=t,r=n.get("enableRtl")?i.rightCols:i.leftCols;let s;if(1==r.length){const n=Tz(t,e);if(!n)return;s=o.getColsWithinViewport(n)}else s=r;const a=s.find(e=>!KO(e));if(!a)return;const{rowPinned:l,rowIndex:u}=e;t.focusSvc.setFocusedCell({rowIndex:u,rowPinned:l,column:a,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}destroy(){var e;jO(this.beans,null===(e=this.columns)||void 0===e?void 0:e.tree),this.rowNumberOverrides=null,super.destroy()}}],dynamicBeans:{rowNumberRowResizer:class extends AG{constructor(e){super(U8),this.cellCtrl=e,this.initialYPosition=-1,this.dragging=!1}postConstruct(){const{beans:e,cellCtrl:t}=this,{dragSvc:n,environment:i}=e;this.defaultRowHeight=i.getDefaultRowHeight(),n.addDragSource({dragStartPixels:0,eElement:this.getGui(),onDragStart:this.onDragStart.bind(this),onDragging:this.onDragging.bind(this),onDragStop:this.onDragStop.bind(this),onDragCancel:this.onDragCancel.bind(this),includeTouch:!0,stopPropagationForTouch:!0});const o=t.getRowPosition();this.node=Tz(this.beans,o)}onDragStart(e){if(!this.node)return;const{beans:{ctrlsSvc:t,eventSvc:n}}=this;t.get("gridCtrl").setResizeCursor(GH.Vertical),this.dragging=!0,this.initialHeight=this.node.rowHeight,n.dispatchEvent({type:"rowResizeStarted",node:this.node,event:e,rowHeight:this.initialHeight})}onDragging(e){let{clientY:t}=e;if("bottom"===this.cellCtrl.rowNode.rowPinned&&(t*=-1),-1===this.initialYPosition||!this.dragging)return void(this.initialYPosition=t);const{beans:n,initialHeight:i,initialYPosition:o,defaultRowHeight:r,node:s}=this;if(null==i)return;const a=null===s||void 0===s?void 0:s.rowHeight,l=Math.max(i-(o-t),r);if(a===l)return;null===s||void 0===s||s.setRowHeight(l);const{rowRenderer:u,rowModel:c,pinnedRowModel:d}=n,h=!(null===s||void 0===s||!s.rowPinned);h&&u.redraw({afterScroll:!0}),(!h||null!==d&&void 0!==d&&d.isManual())&&c.onRowHeightChanged({animate:!1})}onDragStop(e){var t;this.beans.eventSvc.dispatchEvent({type:"rowResizeEnded",node:this.node,event:e,rowHeight:null===(t=this.node)||void 0===t?void 0:t.rowHeight}),this.clearDragDetails(!0)}onDragCancel(){this.clearDragDetails(!0)}clearDragDetails(e){if(this.initialYPosition=-1,this.initialHeight=null,this.dragging=!1,e){this.beans.ctrlsSvc.get("gridCtrl").setResizeCursor(!1)}}destroy(){this.clearDragDetails(!1),this.node=void 0,super.destroy()}}},dependsOn:[i5,EQ,eK],css:['.ag-row-number-cell{background-color:var(--ag-header-background-color);border:none;color:var(--ag-header-text-color);font-family:var(--ag-header-font-family);font-size:var(--ag-header-font-size);font-weight:var(--ag-header-font-weight);overflow:hidden;-webkit-user-select:none;-moz-user-select:none;user-select:none;white-space:nowrap;width:100%}:where(.ag-ltr) .ag-row-number-cell{text-align:right}:where(.ag-rtl) .ag-row-number-cell{text-align:left}.ag-row-numbers-resizer{bottom:-2px;cursor:ns-resize;height:4px;position:absolute;width:100%}:where(.ag-ltr) .ag-row-numbers-resizer{left:0}:where(.ag-rtl) .ag-row-numbers-resizer{right:0}.ag-floating-bottom .ag-row-numbers-resizer{bottom:unset;top:-2px}:where(.ag-row-number-header.ag-row-number-selection-enabled){cursor:cell}.ag-row-number-range-highlight{background-color:var(--ag-range-header-highlight-color)}.ag-row-number-range-selected{background-color:var(--ag-row-numbers-selected-color)}:where(.ag-ltr){.ag-row-number-header,:where(.ag-cell.ag-row-number-cell):not(.ag-cell-last-left-pinned){border-right:var(--ag-pinned-column-border)}:where(.ag-cell.ag-row-number-cell.ag-row-number-selection-enabled){cursor:url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbDpzcGFjZT0icHJlc2VydmUiIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgc3R5bGU9ImZpbGwtcnVsZTpldmVub2RkO2NsaXAtcnVsZTpldmVub2RkO3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDoxLjUiPjxwYXRoIGQ9Ik0zLjQ0NSA4LjkxMVY3LjQwOUg5Ljc1VjYuMDE0bDIuNTM1IDIuMTQ2LTIuNTM1IDIuMTQ2VjguOTExeiIgc3R5bGU9InN0cm9rZTojZmZmO3N0cm9rZS13aWR0aDouNDFweCIgdHJhbnNmb3JtPSJtYXRyaXgoMS41Nzg0IDAgMCAxLjg2NDI5IC00LjQxMyAtNy4yMTIpIi8+PC9zdmc+"),auto}}:where(.ag-rtl){.ag-row-number-header,:where(.ag-cell.ag-row-number-cell):not(.ag-cell-first-right-pinned){border-left:var(--ag-pinned-column-border)}:where(.ag-cell.ag-row-number-cell.ag-row-number-selection-enabled){cursor:url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbDpzcGFjZT0icHJlc2VydmUiIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgc3R5bGU9ImZpbGwtcnVsZTpldmVub2RkO2NsaXAtcnVsZTpldmVub2RkO3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDoxLjUiPjxwYXRoIGQ9Ik01Ljk3OSA4LjkxMXYxLjM5NUwzLjQ0NSA4LjE2bDIuNTM0LTIuMTQ2djEuMzk1aDYuMzA2djEuNTAyeiIgc3R5bGU9InN0cm9rZTojZmZmO3N0cm9rZS13aWR0aDouNDFweCIgdHJhbnNmb3JtPSJtYXRyaXgoMS41Nzg0IDAgMCAxLjg2NDI5IC00LjQxMyAtNy4yMTIpIi8+PC9zdmc+"),auto}}']},Z8={tag:"div",cls:"ag-filter-toolpanel-search",role:"presentation",children:[{tag:"div",ref:"eExpand",cls:"ag-filter-toolpanel-expand"},{tag:"ag-input-text-field",ref:"eFilterTextField",cls:"ag-filter-toolpanel-search-input"}]},$8={selector:"AG-FILTERS-TOOL-PANEL-HEADER",component:class extends AG{constructor(){super(...arguments),this.eExpand=kG,this.eFilterTextField=kG}postConstruct(){this.setTemplate(Z8,[qW]);const e=this.getLocaleTextFunc();this.eFilterTextField.setAutoComplete(!1).setInputAriaLabel(e("ariaFilterColumnsInput","Filter Columns Input")).onValueChange(this.onSearchTextChanged.bind(this)),this.createExpandIcons(),this.setExpandState(0),this.addManagedElementListeners(this.eExpand,{click:this.onExpandClicked.bind(this)}),this.addManagedEventListeners({newColumnsLoaded:this.showOrHideOptions.bind(this)})}init(e){this.params=e,this.beans.colModel.ready&&this.showOrHideOptions()}createExpandIcons(){const{eExpand:e,beans:t}=this;e.appendChild(this.eExpandChecked=hW("accordionOpen",t)),e.appendChild(this.eExpandUnchecked=hW("accordionClosed",t)),e.appendChild(this.eExpandIndeterminate=hW("accordionIndeterminate",t))}showOrHideOptions(){const{params:e,eFilterTextField:t}=this,n=!e.suppressFilterSearch,i=!e.suppressExpandAll,o=this.getLocaleTextFunc();t.setInputPlaceholder(o("searchOoo","Search..."));const r=this.beans.colModel.getCols().some(e=>e.getOriginalParent()&&e.isFilterAllowed());XL(t.getGui(),n),XL(this.eExpand,i&&r)}onSearchTextChanged(){this.onSearchTextChangedDebounced||(this.onSearchTextChangedDebounced=HN(this,()=>this.dispatchLocalEvent({type:"searchChanged",searchText:this.eFilterTextField.getValue()}),300)),this.onSearchTextChangedDebounced()}onExpandClicked(){const e=0===this.currentExpandState?{type:"collapseAll"}:{type:"expandAll"};this.dispatchLocalEvent(e)}setExpandState(e){this.currentExpandState=e,XL(this.eExpandChecked,0===e),XL(this.eExpandUnchecked,1===e),XL(this.eExpandIndeterminate,2===e)}}},X8={tag:"div",cls:"ag-filter-toolpanel-instance",children:[{tag:"div",ref:"eFilterToolPanelHeader",cls:"ag-filter-toolpanel-header ag-filter-toolpanel-instance-header",role:"button",attrs:{"aria-expanded":"false"},children:[{tag:"div",ref:"eExpand",cls:"ag-filter-toolpanel-expand"},{tag:"span",ref:"eFilterName",cls:"ag-header-cell-text"},{tag:"span",ref:"eFilterIcon",cls:"ag-header-icon ag-filter-icon ag-filter-toolpanel-instance-header-icon",attrs:{"aria-hidden":"true"}}]},{tag:"div",ref:"agFilterToolPanelBody",cls:"ag-filter-toolpanel-instance-body ag-filter"}]},Q8=class extends AG{constructor(e,t){super(X8),this.hideHeader=e,this.expandedCallback=t,this.eFilterToolPanelHeader=kG,this.eFilterName=kG,this.agFilterToolPanelBody=kG,this.eFilterIcon=kG,this.eExpand=kG,this.expanded=!1}postConstruct(){const{beans:e,eExpand:t}=this,n=hW("accordionOpen",e);this.eExpandChecked=n;const i=hW("accordionClosed",e);this.eExpandUnchecked=i,t.appendChild(n),t.appendChild(i)}setColumn(e){this.column=e;const{beans:t,eFilterToolPanelHeader:n,eFilterIcon:i,eExpandChecked:o,hideHeader:r}=this;this.eFilterName.innerText=t.colNames.getDisplayNameForColumn(e,"filterToolPanel",!1)||"",this.addManagedListeners(n,{click:this.toggleExpanded.bind(this),keydown:this.onKeyDown.bind(this)}),this.addManagedEventListeners({filterOpened:this.onFilterOpened.bind(this)}),this.addInIcon("filterActive",i,e),XL(i,this.isFilterActive(),{skipAriaHidden:!0}),XL(o,!1),r?(XL(n,!1),n.removeAttribute("tabindex")):n.setAttribute("tabindex","0"),this.addManagedListeners(e,{filterChanged:this.onFilterChanged.bind(this)})}onKeyDown(e){const{key:t}=e,{ENTER:n,SPACE:i,LEFT:o,RIGHT:r}=sV;t!==n&&t!==i&&t!==o&&t!==r||(e.preventDefault(),t===n||t===i?this.toggleExpanded():t===sV.LEFT?this.collapse():this.expand())}getColumn(){return this.column}getColumnFilterName(){return this.beans.colNames.getDisplayNameForColumn(this.column,"filterToolPanel",!1)}addCssClassToTitleBar(e){this.eFilterToolPanelHeader.classList.add(e)}addInIcon(e,t,n){if(null==t)return;const i=hW(e,this.beans,n);t.appendChild(i)}isFilterActive(){var e;return!(null===(e=this.beans.colFilter)||void 0===e||!e.isFilterActive(this.column))}onFilterChanged(){XL(this.eFilterIcon,this.isFilterActive(),{skipAriaHidden:!0}),this.dispatchLocalEvent({type:"filterChanged"})}toggleExpanded(){this.expanded?this.collapse():this.expand()}expand(){this.expanded||(this.expanded=!0,DL(this.eFilterToolPanelHeader,!0),XL(this.eExpandChecked,!0),XL(this.eExpandUnchecked,!1),this.addFilterElement(),this.expandedCallback())}addFilterElement(e){var t;const n=MN({tag:"div",cls:"ag-filter-toolpanel-instance-filter"}),i=this.createManagedBean(new cH(this.column,"TOOLBAR"));this.filterComp=i,i.hasFilter()&&(null===(t=i.getFilter())||void 0===t||t.then(t=>{this.underlyingFilter=t,t&&(n.appendChild(i.getGui()),this.agFilterToolPanelBody.appendChild(n),i.afterGuiAttached({container:"toolPanel",suppressFocus:e}))}))}collapse(){if(!this.expanded)return;this.expanded=!1,DL(this.eFilterToolPanelHeader,!1),this.removeFilterElement(),XL(this.eExpandChecked,!1),XL(this.eExpandUnchecked,!0);const e=this.filterComp;null===e||void 0===e||e.afterGuiDetached(),this.destroyBean(e),this.expandedCallback()}removeFilterElement(){uN(this.agFilterToolPanelBody)}isExpanded(){return this.expanded}onPanelHidden(){var e;if(!this.expanded)return;const t=this.underlyingFilter;t&&(null===(e=t.afterGuiDetached)||void 0===e||e.call(t))}onFilterOpened(e){"COLUMN_MENU"===e.source&&e.column===this.column&&this.expanded&&this.collapse()}},J8=class extends AG{constructor(e,t,n,i,o){super(),this.columnGroup=e,this.childFilterComps=t,this.expandedCallback=n,this.depth=i,this.showingColumn=o,this.filterGroupComp=kG}postConstruct(){this.setTemplate({tag:"div",cls:"ag-filter-toolpanel-group-wrapper",children:[{tag:"ag-group-component",ref:"filterGroupComp"}]},[B6],{filterGroupComp:{cssIdentifier:"filter-toolpanel",direction:"vertical"}}),this.setGroupTitle();const{filterGroupComp:e,depth:t,childFilterComps:n,gos:i}=this;e.setAlignItems("stretch"),e.addCss("ag-filter-toolpanel-group-level-".concat(t)),e.getGui().style.setProperty("--ag-indentation-level",String(t)),e.addCssClassToTitleBar("ag-filter-toolpanel-group-level-".concat(t,"-header")),n.forEach(n=>{e.addItem(n),n.addCssClassToTitleBar("ag-filter-toolpanel-group-level-".concat(t+1,"-header")),n.getGui().style.setProperty("--ag-indentation-level",String(t+1))});const o=this.showingColumn?this.columnGroup:void 0;this.tooltipFeature=this.createOptionalManagedBean(this.beans.registry.createDynamicBean("tooltipFeature",!1,{getGui:()=>this.getGui(),getLocation:()=>"filterToolPanelColumnGroup",shouldDisplayTooltip:RZ(i,()=>e.getGui().querySelector(".ag-group-title")),getColDef:o?()=>o.getColDef():void 0,getColumn:o?()=>o:void 0})),this.refreshFilterClass(),this.addExpandCollapseListeners(),this.addFilterChangedListeners(),this.setupTooltip(),this.addInIcon("filterActive")}setupTooltip(){if(!this.showingColumn)return;const e=()=>{var e;null===(e=this.tooltipFeature)||void 0===e||e.setTooltipAndRefresh(this.columnGroup.getColDef().headerTooltip)};e(),this.addManagedEventListeners({newColumnsLoaded:e})}addCssClassToTitleBar(e){this.filterGroupComp.addCssClassToTitleBar(e)}onPanelHidden(){this.childFilterComps.forEach(e=>e.onPanelHidden())}isColumnGroup(){return FO(this.columnGroup)}isExpanded(){return this.filterGroupComp.isExpanded()}getChildren(){return this.childFilterComps}getFilterGroupName(){var e;return null!==(e=this.filterGroupName)&&void 0!==e?e:""}getFilterGroupId(){return this.columnGroup.getId()}hideGroupItem(e,t){this.filterGroupComp.hideItem(e,t)}hideGroup(e){this.setDisplayed(!e)}addInIcon(e){const t=hW(e,this.beans);t&&t.classList.add("ag-filter-toolpanel-group-instance-header-icon"),this.filterGroupComp.addTitleBarWidget(t)}forEachToolPanelFilterChild(e){this.childFilterComps.forEach(t=>{t instanceof Q8&&e(t)})}addExpandCollapseListeners(){const e=this.isColumnGroup()?()=>this.expandedCallback():()=>this.forEachToolPanelFilterChild(e=>e.expand()),t=this.isColumnGroup()?()=>this.expandedCallback():()=>this.forEachToolPanelFilterChild(e=>e.collapse());this.addManagedListeners(this.filterGroupComp,{expanded:e,collapsed:t})}getColumns(){return FO(this.columnGroup)?this.columnGroup.getLeafColumns():[this.columnGroup]}addFilterChangedListeners(){this.getColumns().forEach(e=>{this.addManagedListeners(e,{filterChanged:()=>this.refreshFilterClass()})}),FO(this.columnGroup)||this.addManagedEventListeners({filterOpened:this.onFilterOpened.bind(this)})}refreshFilterClass(){const e=this.getColumns();this.filterGroupComp.toggleCss("ag-has-filter",e.some(e=>e.isFilterActive()))}onFilterOpened(e){"COLUMN_MENU"===e.source&&e.column===this.columnGroup&&this.isExpanded()&&this.collapse()}expand(){this.filterGroupComp.toggleGroupExpand(!0)}collapse(){this.filterGroupComp.toggleGroupExpand(!1)}setGroupTitle(){const e=this.columnGroup,t=FO(e)?this.getColumnGroupName(e):this.getColumnName(e);this.filterGroupName=t,this.filterGroupComp.setTitle(t||"")}getColumnGroupName(e){return this.beans.colNames.getDisplayNameForProvidedColumnGroup(null,e,"filterToolPanel")}getColumnName(e){return this.beans.colNames.getDisplayNameForColumn(e,"filterToolPanel",!1)}destroyFilters(){this.childFilterComps=this.destroyBeans(this.childFilterComps),uN(this.getGui())}destroy(){this.destroyFilters(),super.destroy()}},e7={selector:"AG-FILTERS-TOOL-PANEL-LIST",component:class extends AG{constructor(){super({tag:"div",cls:"ag-filter-list-panel"}),this.initialised=!1,this.hasLoadedInitialState=!1,this.isInitialState=!1,this.filterGroupComps=[],this.suppressOnColumnsChanged=!1,this.onColumnsChangedPending=!1}wireBeans(e){this.colModel=e.colModel}init(e){this.initialised=!0;const t=iO(this.gos,{suppressExpandAll:!1,suppressFilterSearch:!1,suppressSyncLayoutWithGrid:!1});XI(t,e),this.params=t,t.suppressSyncLayoutWithGrid||this.addManagedEventListeners({columnMoved:()=>this.onColumnsChanged()}),this.addManagedEventListeners({newColumnsLoaded:()=>this.onColumnsChanged(),toolPanelVisibleChanged:e=>{"filters"!==e.key||e.visible||this.onPanelHidden()},dragStarted:()=>{this.suppressOnColumnsChanged=!0},dragStopped:()=>{this.suppressOnColumnsChanged=!1,this.onColumnsChangedPending&&(this.onColumnsChangedPending=!1,this.onColumnsChanged())}}),this.colModel.ready&&this.onColumnsChanged()}onColumnsChanged(){if(this.suppressOnColumnsChanged)return void(this.onColumnsChangedPending=!0);const e=this.colModel.isPivotMode();!this.params.suppressSyncLayoutWithGrid&&!e?this.syncFilterLayout():this.buildTreeFromProvidedColumnDefs(),this.refreshAriaLabel()}syncFilterLayout(){Y3(this.colModel,this.setFiltersLayout.bind(this)),this.refreshAriaLabel()}buildTreeFromProvidedColumnDefs(){const e=this.colModel.getColDefColTree();this.recreateFilters(e)}setFiltersLayout(e){const t=q3(this.colModel,e);this.recreateFilters(t)}recreateFilters(e){const t=SB(this.beans);this.hasLoadedInitialState||(this.hasLoadedInitialState=!0,this.isInitialState=!!this.params.initialState);const n=this.getExpansionState();this.destroyFilters();const i=this.recursivelyAddComps(e,0,n);this.filterGroupComps=i;const o=i.length;o&&(i.forEach(e=>this.appendChild(e)),this.setFirstAndLastVisible(0,o-1));const r=this.searchFilterText;UI(r)&&this.searchFilters(r),this.fireExpandedEvent(),this.getGui().contains(t)&&t.focus(),this.isInitialState=!1,this.refreshAriaLabel()}recursivelyAddComps(e,t,n){return e.map(e=>{var i,o;if(FO(e))return null!==(i=null===(o=this.recursivelyAddFilterGroupComps(e,t,n))||void 0===o?void 0:o.flatMap(e=>e))&&void 0!==i?i:[];const r=e;if(!this.shouldDisplayFilter(r))return[];const s=new Q8(0===t,()=>this.onFilterExpanded());if(this.createBean(s),s.setColumn(r),n.get(r.getId())&&s.expand(),t>0)return s;const a=this.createBean(new J8(r,[s],this.onGroupExpanded.bind(this),t,!0));return a.addCssClassToTitleBar("ag-filter-toolpanel-header"),n.get(a.getFilterGroupId())||a.collapse(),a}).flatMap(e=>e)}refreshAriaLabel(){const e=this.getLocaleTextFunc(),t=e("ariaFilterPanelList","Filter List"),n=e("filters","Filters"),i=this.getGui().querySelectorAll("".concat(".ag-filter-toolpanel-group-item",":not(").concat(".ag-filter-toolpanel-group-wrapper",", ").concat(".ag-hidden",")")).length;mL(this.getAriaElement(),"".concat(t," ").concat(i," ").concat(n))}recursivelyAddFilterGroupComps(e,t,n){if(!this.filtersExistInChildren(e.getChildren()))return;const i=e.getColGroupDef();if(i&&i.suppressFiltersToolPanel)return[];const o=e.isPadding()?t:t+1,r=this.recursivelyAddComps(e.getChildren(),o,n).flatMap(e=>e);if(e.isPadding())return r;const s=new J8(e,r,this.onGroupExpanded.bind(this),t,!1);this.createBean(s),s.addCssClassToTitleBar("ag-filter-toolpanel-header");const a=n.get(s.getFilterGroupId());return(this.isInitialState&&!a||!1===a)&&s.collapse(),[s]}filtersExistInChildren(e){return e.some(e=>FO(e)?this.filtersExistInChildren(e.getChildren()):this.shouldDisplayFilter(e))}shouldDisplayFilter(e){const t=e.getColDef()&&e.getColDef().suppressFiltersToolPanel;return e.isFilterAllowed()&&!t}getExpansionState(){const e=new Map;if(this.isInitialState){const{expandedColIds:t,expandedGroupIds:n}=this.params.initialState;return t.forEach(t=>e.set(t,!0)),n.forEach(t=>e.set(t,!0)),e}const t=n=>{e.set(n.getFilterGroupId(),n.isExpanded()),n.getChildren().forEach(n=>{n instanceof J8?t(n):e.set(n.getColumn().getId(),n.isExpanded())})};return this.filterGroupComps.forEach(t),e}refresh(){}setVisible(e){super.setDisplayed(e),e&&!this.initialised&&this.init(this.params)}expandFilterGroups(e,t){const n=[],i=o=>{const r=o.getFilterGroupId();(!t||t.includes(r))&&(e&&o.isColumnGroup()?o.expand():o.collapse(),n.push(r)),o.getChildren().forEach(e=>{e instanceof J8&&i(e)})};if(this.filterGroupComps.forEach(i),this.onGroupExpanded(),t){const e=t.filter(e=>n.indexOf(e)<0);e.length>0&&iB(166,{unrecognisedGroupIds:e})}}expandFilters(e,t){const n=[],i=o=>{if(o instanceof J8){let t=!1;return o.getChildren().forEach(n=>{i(n)&&(e?(o.expand(),t=!0):o.isColumnGroup()||o.collapse())}),t}const r=o.getColumn().getColId(),s=!t||t.includes(r);return s&&(e?o.expand():o.collapse(),n.push(r)),s};if(this.filterGroupComps.forEach(i),this.onGroupExpanded(),t){const e=t.filter(e=>n.indexOf(e)<0);e.length>0&&iB(167,{unrecognisedColIds:e})}}onGroupExpanded(){this.fireExpandedEvent()}onFilterExpanded(){this.dispatchLocalEvent({type:"filterExpanded"})}fireExpandedEvent(){let e=0,t=0;const n=i=>{i.isColumnGroup()&&(i.isExpanded()?e++:t++,i.getChildren().forEach(e=>{e instanceof J8&&n(e)}))};let i;this.filterGroupComps.forEach(n),i=e>0&&t>0?2:t>0?1:0,this.dispatchLocalEvent({type:"groupExpanded",state:i})}performFilterSearch(e){this.searchFilterText=UI(e)?e.toLowerCase():null,this.searchFilters(this.searchFilterText)}searchFilters(e){const t=t=>!UI(e)||-1!==t.toLowerCase().indexOf(e),n=(e,i)=>{if(!(e instanceof J8))return t(e.getColumnFilterName()||"");const o=e.getChildren(),r=t(e.getFilterGroupName()),s=i||r;if(s){e.hideGroup(!1);for(let t=0;t<o.length;t++)n(o[t],s),e.hideGroupItem(!1,t);return!0}let a=!1;return o.forEach((t,o)=>{const r=n(t,i);e.hideGroupItem(!r,o),r&&(a=!0)}),e.hideGroup(!a),a};let i,o;this.filterGroupComps.forEach((e,t)=>{var r;n(e,!1);const s=null===(r=e.getGui())||void 0===r?void 0:r.classList.contains("ag-hidden");void 0===i?s||(i=t,o=t):s||o===t||(o=t)}),this.setFirstAndLastVisible(i,o),this.refreshAriaLabel()}setFirstAndLastVisible(e,t){this.filterGroupComps.forEach((n,i)=>{n.removeCss("ag-first-group-visible"),n.removeCss("ag-last-group-visible"),i===e&&n.addCss("ag-first-group-visible"),i===t&&n.addCss("ag-last-group-visible")})}onPanelHidden(){this.filterGroupComps.forEach(e=>e.onPanelHidden())}getExpandedFiltersAndGroups(){const e=[],t=new Set,n=i=>{if(i instanceof J8){i.getChildren().forEach(e=>n(e));const o=i.getFilterGroupId();i.isExpanded()&&!t.has(o)&&e.push(o)}else i.isExpanded()&&t.add(i.getColumn().getColId())};return this.filterGroupComps.forEach(n),{expandedGroupIds:e,expandedColIds:Array.from(t)}}destroyFilters(){this.filterGroupComps=this.destroyBeans(this.filterGroupComps),uN(this.getGui())}destroy(){this.destroyFilters(),super.destroy()}}},t7={tag:"div",cls:"ag-filter-toolpanel",children:[{tag:"ag-filters-tool-panel-header",ref:"filtersToolPanelHeaderPanel"},{tag:"ag-filters-tool-panel-list",ref:"filtersToolPanelListPanel"}]};function n7(e,t){var n;return null!==(n=e.colNames.getDisplayNameForColumn(t,"filterToolPanel"))&&void 0!==n?n:t.getColId()}var i7={addFilterCard:"Add Filter",ariaLabelAddFilterField:"Add Filter Field",ariaLabelFilterCardDelete:"Delete Filter",ariaLabelFilterCardHasEdits:"Has Edits",agTextColumnFilterDisplayName:"Simple Filter",agNumberColumnFilterDisplayName:"Simple Filter",agDateColumnFilterDisplayName:"Simple Filter",agSetColumnFilterDisplayName:"Selection Filter",agMultiColumnFilterDisplayName:"Combo Filter",addFilterPlaceholder:"Search columns..."};function o7(e,t){return jI(e,i7,t)}var r7={tag:"div",cls:"ag-filter-card ag-filter-card-add"},s7=class extends AG{constructor(e){super(r7),this.options=new Map,this.setOptions(e)}postConstruct(){this.showButton()}refresh(e){this.setOptions(e);const{eSelect:t,options:n}=this;t&&t.setValueList({valueList:Array.from(n.keys()),refresh:!0})}showButton(){uN(this.getGui()),this.destroySelect();const e=MN({tag:"button",cls:"ag-button ag-standard-button ag-filter-add-button",children:[{tag:"span",children:[()=>hW("filterAdd",this.beans)]},{tag:"span",cls:"ag-filter-add-button-label",children:o7(this,"addFilterCard")}]});this.activateTabIndex([e]);const t=this.showSelect.bind(this);e.addEventListener("click",t),this.removeButton=()=>{e.removeEventListener("click",t)},this.appendChild(e),e.focus()}showSelect(){uN(this.getGui()),this.destroyButton();const e="ariaLabelAddFilterField",t={className:"ag-filter-add-select",pickerType:"virtual-list",pickerAriaLabelKey:e,pickerAriaLabelValue:o7(this,e),placeholder:o7(this,"addFilterPlaceholder"),value:"",valueList:Array.from(this.options.keys()),searchType:"matchAny",allowTyping:!0,filterList:!0,highlightMatch:!0,valueFormatter:e=>this.options.get(e)},n=this.createManagedBean(new Y5(t));this.eSelect=n,this.appendChild(n.getGui()),n.showPicker(),n.getFocusableElement().focus(),n.addManagedListeners(n,{fieldPickerValueSelected:e=>{let{value:t}=e;return this.dispatchLocalEvent({type:"filterSelected",id:t})},pickerHidden:()=>{this.showButton()}})}setOptions(e){const t=this.options;t.clear();for(const{id:n,name:i}of e)t.set(n,i)}destroySelect(){this.eSelect=this.destroyBean(this.eSelect)}destroyButton(){var e;this.removeButton=null===(e=this.removeButton)||void 0===e?void 0:e.call(this)}destroy(){this.destroySelect(),this.destroyButton(),super.destroy()}},a7={tag:"div",cls:"ag-filter-card-body",children:[{tag:"ag-select",cls:"ag-filter-type-select",ref:"eFilterType"}]},l7=class extends AG{constructor(){super(...arguments),this.eFilterType=kG}postConstruct(){const e={onValueChange:e=>this.dispatchLocalEvent({type:"filterTypeChanged",filterDef:e})};this.setTemplate(a7,[iU],{eFilterType:e}),this.eFilterType.setDisplayed(!1)}refresh(e){const t=this.state;this.state=e;const{activeFilterDef:n,filterDefs:i,detail:o,afterGuiAttached:r,afterGuiDetached:s}=e,{activeFilterDef:a,filterDefs:l,detail:u}=null!==t&&void 0!==t?t:{},c=this.eFilterType;if(i!==l){c.clearOptions();const e=null===i||void 0===i?void 0:i.map(e=>({value:e,text:e.name}));e&&c.clearOptions().addOptions(e).setValue(n,!0),c.setDisplayed(!!e)}else n!==a&&c.setValue(n,!0);o!==u&&(u&&(cN(u),s()),this.appendChild(o),r({container:"newFiltersToolPanel",suppressFocus:!0}))}},u7={tag:"div",cls:"ag-filter-card-summary",attrs:{"aria-hidden":"true"}},c7=class extends AG{constructor(){super(u7)}refresh(e){this.getGui().textContent=e.summary}},d7={tag:"div",cls:"ag-filter-card",children:[{tag:"div",cls:"ag-filter-card-header",role:"presentation",children:[{tag:"div",cls:"ag-filter-card-heading",role:"heading",attrs:{"aria-level":"2"},children:[{tag:"button",ref:"eExpand",cls:"ag-button ag-filter-card-expand",children:[{tag:"span",ref:"eTitle",cls:"ag-filter-card-title"},{tag:"span",ref:"eEditing",cls:"ag-filter-card-editing-icon"},{tag:"span",ref:"eExpandIcon",cls:"ag-filter-card-expand-icon"}]}]},{tag:"button",ref:"eDelete",cls:"ag-button ag-filter-card-delete",children:[{tag:"span",ref:"eDeleteIcon",cls:"ag-filter-card-delete-icon"}]}]}]},h7=class extends AG{constructor(e){super(d7),this.id=e,this.eTitle=kG,this.eExpand=kG,this.eDelete=kG,this.eExpandIcon=kG,this.eDeleteIcon=kG,this.eEditing=kG}postConstruct(){const{beans:e,eDelete:t,eExpand:n,eDeleteIcon:i,eEditing:o,id:r}=this,s=e.filterPanelSvc;mL(t,o7(this,"ariaLabelFilterCardDelete")),i.appendChild(dW("close",e,null)),this.activateTabIndex([n,t]),this.addManagedElementListeners(n,{click:()=>{var e;return s.expand(r,!(null!==(e=this.state)&&void 0!==e&&e.expanded))}}),this.addManagedElementListeners(t,{click:()=>s.remove(r)}),this.addManagedEventListeners({filterOpened:this.onFilterOpened.bind(this)}),o.appendChild(dW("filterCardEditing",e,null))}refresh(e){const{eExpand:t,eEditing:n,state:i,beans:o}=this;this.state=e;const{name:r,expanded:s,isEditing:a}=e;this.eTitle.textContent=r,XL(n,a),i&&s===i.expanded||this.toggleExpand(e);let l=s?null:"".concat(r," ").concat(e.summary);a&&(l="".concat(null!==l&&void 0!==l?l:r,". ").concat(o7(this,"ariaLabelFilterCardHasEdits"))),mL(t,l);const u=e=>{if(e)return cN(e.getGui()),this.destroyBean(e)},c=(t,n,i)=>(t||(t=this.createBean(new n),null===i||void 0===i||i(t),this.appendChild(t.getGui())),t.refresh(e),t);if(e.expanded){this.summaryComp=u(this.summaryComp);const e=c(this.detailComp,l7,e=>e.addManagedListeners(e,{filterTypeChanged:e=>{let{filterDef:t}=e;return o.filterPanelSvc.updateType(this.id,t)}}));this.detailComp=e;const n="ag-".concat(this.getCompId(),"-filter");e.getGui().id=n,BL(t,n)}else this.detailComp=u(this.detailComp),this.summaryComp=c(this.summaryComp,c7),BL(t,null)}toggleExpand(e){const t=!!e.expanded,{eExpandIcon:n,eExpand:i,beans:o}=this;uN(n),n.appendChild(dW(t?"filterCardCollapse":"filterCardExpand",o,null)),DL(i,t)}onFilterOpened(e){const{state:t,beans:n,id:i}=this;"COLUMN_MENU"===e.source&&e.column===(null===t||void 0===t?void 0:t.column)&&null!==t&&void 0!==t&&t.expanded&&n.filterPanelSvc.expand(i,!1)}destroy(){this.detailComp=this.destroyBean(this.detailComp),this.summaryComp=this.destroyBean(this.summaryComp),this.state=void 0,super.destroy()}};var p7={tag:"div",cls:"ag-filter-panel",children:[{tag:"div",cls:"ag-filter-panel-container",ref:"eContainer"}]},g7=class extends AG{constructor(){super(p7),this.eContainer=kG,this.filters=new Map}refresh(e){var t,n;if(function(e){return!(null===e||void 0===e||!e.action)}(e))return void this.refreshActions();if(function(e){return!(null===e||void 0===e||!e.id)}(e))return void(null===(n=this.filters.get(e.id))||void 0===n||n.refresh(e.state));const{eContainer:i,filters:o,beans:r}=this,s=r.filterPanelSvc,a=s.getIds(),l=new Map,u=!EB(r),c=u?SB(r):void 0,d=u&&i.contains(c),h=[],p=[];for(const y of a){var g;const e=null!==(g=o.get(y))&&void 0!==g?g:this.createBean(new h7(y));e.refresh(s.getState(y)),l.set(y,e),p.push(e.getGui())}this.filters=l;const m=[];o.forEach((e,t)=>{h.push(e.getGui()),l.has(t)||m.push(e)});let v=this.addFilterComp;v&&h.push(v.getGui());const f=s.getAvailable();f.length?(v||(v=this.createBean(new s7(f)),v.addManagedListeners(v,{filterSelected:e=>{let{id:t}=e;return s.add(t)}})),v.refresh(f),p.push(v.getGui())):v=this.destroyBean(v),this.addFilterComp=v,function(e,t,n){let i=0;for(let o=0;o<n.length;o++){const e=n[o];e===t[i]?i++:cN(e)}for(;i<t.length;)e.appendChild(t[i++])}(i,p,h),m.forEach(e=>this.destroyBean(e));const w=null===e||void 0===e?void 0:e.activeId,C=w&&(null===(t=l.get(w))||void 0===t?void 0:t.getGui());if(C)gV(C);else if(d&&EB(r)){var b;gV(null!==(b=p[p.length-1])&&void 0!==b?b:i)}this.refreshActions()}refreshActions(){var e;const t=this.beans.filterPanelSvc,{actions:n,canApply:i}=null!==(e=t.getActions())&&void 0!==e?e:{};let o=this.buttonComp;if(null!==n&&void 0!==n&&n.length){const e=n.map(e=>({type:e,label:rH(this,"".concat(e,"Filter"))}));if(!o){o=this.createBean(new nH({className:"ag-filter-panel-buttons"})),this.getGui().appendChild(o.getGui());const e={};["apply","clear","reset","cancel"].forEach(n=>{e[n]=()=>t.doAction(n)}),o.addManagedListeners(o,e)}o.updateButtons(e),o.updateValidity(!1!==i)}else o&&(cN(o.getGui()),o=this.destroyBean(o));this.buttonComp=o}destroy(){this.addFilterComp=this.destroyBean(this.addFilterComp),this.buttonComp=this.destroyBean(this.buttonComp);const e=this.filters;e.forEach(e=>this.destroyBean(e)),e.clear(),super.destroy()}},m7={moduleName:"FiltersToolPanel",version:n5,userComponents:{agFiltersToolPanel:class extends AG{constructor(){super(t7,[$8,e7]),this.filtersToolPanelHeaderPanel=kG,this.filtersToolPanelListPanel=kG,this.initialised=!1,this.listenerDestroyFuncs=[],this.registerCSS(".ag-filter-toolpanel{flex:1 1 0px;min-width:0}.ag-filter-toolpanel-header,.ag-filter-toolpanel-search{align-items:center;color:var(--ag-header-text-color);display:flex;font-weight:var(--ag-header-font-weight);padding:0 var(--ag-spacing);>*{align-items:center;display:flex}}.ag-filter-toolpanel-header{padding-bottom:var(--ag-spacing);padding-top:var(--ag-spacing);position:relative;&:focus-visible{border-radius:var(--ag-border-radius);box-shadow:inset var(--ag-focus-shadow)}}:where(.ag-ltr) .ag-filter-toolpanel-group-instance-header-icon,:where(.ag-ltr) .ag-filter-toolpanel-instance-header-icon{margin-left:var(--ag-spacing)}:where(.ag-rtl) .ag-filter-toolpanel-group-instance-header-icon,:where(.ag-rtl) .ag-filter-toolpanel-instance-header-icon{margin-right:var(--ag-spacing)}.ag-filter-toolpanel-search{min-height:var(--ag-header-height);padding-bottom:var(--ag-spacing);padding-top:var(--ag-widget-container-vertical-padding)}:where(.ag-filter-toolpanel-group:not(.ag-has-filter)>.ag-group-title-bar) .ag-filter-toolpanel-group-instance-header-icon{display:none}.ag-filter-toolpanel-search-input{flex-grow:1;height:calc(var(--ag-spacing)*4)}:where(.ag-ltr) .ag-filter-toolpanel-group-title-bar-icon{margin-right:var(--ag-spacing)}:where(.ag-rtl) .ag-filter-toolpanel-group-title-bar-icon{margin-left:var(--ag-spacing)}.ag-filter-toolpanel-expand{cursor:pointer}:where(.ag-ltr) .ag-filter-toolpanel-expand{margin-right:var(--ag-spacing)}:where(.ag-rtl) .ag-filter-toolpanel-expand{margin-left:var(--ag-spacing)}:where(.ag-ltr) .ag-filter-toolpanel-group-title-bar,:where(.ag-ltr) .ag-filter-toolpanel-instance-header{padding-left:calc(var(--ag-spacing) + var(--ag-filter-tool-panel-group-indent)*var(--ag-indentation-level))}:where(.ag-rtl) .ag-filter-toolpanel-group-title-bar,:where(.ag-rtl) .ag-filter-toolpanel-instance-header{padding-right:calc(var(--ag-spacing) + var(--ag-filter-tool-panel-group-indent)*var(--ag-indentation-level))}:where(.ag-ltr) .ag-filter-toolpanel-instance-body{margin-left:var(--ag-filter-tool-panel-group-indent)}:where(.ag-rtl) .ag-filter-toolpanel-instance-body{margin-right:var(--ag-filter-tool-panel-group-indent)}.ag-filter-toolpanel-instance-filter{background-color:var(--ag-chrome-background-color)}.ag-filter-toolpanel-group-level-0{border-top:none}")}init(e){this.initialised&&(this.listenerDestroyFuncs.forEach(e=>e()),this.listenerDestroyFuncs=[]),this.initialised=!0;const t=d(d({},{suppressExpandAll:!1,suppressFilterSearch:!1,suppressSyncLayoutWithGrid:!1}),e);this.params=t;const{filtersToolPanelHeaderPanel:n,filtersToolPanelListPanel:i}=this;n.init(t),i.init(t);const{suppressExpandAll:o,suppressFilterSearch:r}=t;o&&r&&n.setDisplayed(!1),this.listenerDestroyFuncs.push(...this.addManagedListeners(n,{expandAll:()=>i.expandFilterGroups(!0),collapseAll:()=>i.expandFilterGroups(!1),searchChanged:e=>i.performFilterSearch(e.searchText)}),...this.addManagedListeners(i,{filterExpanded:t.onStateUpdated,groupExpanded:e=>{n.setExpandState(e.state),t.onStateUpdated()}}))}setVisible(e){super.setDisplayed(e),e&&!this.initialised&&this.init(this.params)}setFilterLayout(e){this.filtersToolPanelListPanel.setFiltersLayout(e)}expandFilterGroups(e){this.filtersToolPanelListPanel.expandFilterGroups(!0,e)}collapseFilterGroups(e){this.filtersToolPanelListPanel.expandFilterGroups(!1,e)}expandFilters(e){this.filtersToolPanelListPanel.expandFilters(!0,e)}collapseFilters(e){this.filtersToolPanelListPanel.expandFilters(!1,e)}syncLayoutWithGrid(){this.filtersToolPanelListPanel.syncFilterLayout()}refresh(e){return this.init(e),!0}getState(){return this.filtersToolPanelListPanel.getExpandedFiltersAndGroups()}}},icons:{filtersToolPanel:"filter"},dependsOn:[B3,i5,N$]},v7={moduleName:"NewFiltersToolPanel",version:n5,userComponents:{agNewFiltersToolPanel:class extends AG{constructor(){super(),this.registerCSS(".ag-filter-panel{display:flex;flex-direction:column;width:100%;:where(.ag-standard-button){transition:background-color .25s ease-in-out,color .25s ease-in-out}}.ag-filter-panel .ag-simple-filter-body-wrapper{padding:var(--ag-widget-vertical-spacing) var(--ag-widget-container-horizontal-padding) 0}.ag-filter-panel .ag-mini-filter{margin-left:var(--ag-widget-container-horizontal-padding);margin-right:var(--ag-widget-container-horizontal-padding);margin-top:var(--ag-widget-vertical-spacing)}.ag-filter-panel-container{flex:1;overflow:auto;padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding) 0}.ag-filter-panel-container>:where(:not(:last-child)){margin-bottom:var(--ag-widget-container-vertical-padding)}.ag-filter-card{background-color:var(--ag-background-color);border:solid var(--ag-border-width) var(--ag-border-color);border-radius:var(--ag-border-radius)}.ag-filter-card-header{align-items:center;display:flex;flex-direction:row;padding-top:var(--ag-widget-vertical-spacing)}:where(.ag-ltr) .ag-filter-card-header{&>:where(:not(:last-child)){padding-right:var(--ag-spacing)}}:where(.ag-rtl) .ag-filter-card-header{&>:where(:not(:last-child)){padding-left:var(--ag-spacing)}}.ag-filter-card-heading{flex:1;overflow:hidden;padding-bottom:calc(var(--ag-widget-container-vertical-padding) - var(--ag-widget-vertical-spacing));padding-top:calc(var(--ag-widget-container-vertical-padding) - var(--ag-widget-vertical-spacing))}:where(.ag-ltr) .ag-filter-card-heading{padding-left:var(--ag-widget-horizontal-spacing)}:where(.ag-rtl) .ag-filter-card-heading{padding-right:var(--ag-widget-horizontal-spacing)}.ag-filter-card-expand{align-items:center;display:flex;flex-direction:row;width:100%}.ag-filter-card-title{font-weight:var(--ag-header-font-weight);overflow:hidden;text-overflow:ellipsis}.ag-filter-card-expand-icon{display:flex;flex:1;justify-content:end}.ag-filter-card-editing-icon{margin:0 var(--ag-spacing)}.ag-filter-card-delete-icon,.ag-filter-card-editing-icon,.ag-filter-card-expand-icon,.ag-filter-card-summary{color:var(--ag-filter-panel-card-subtle-color)}.ag-filter-card-delete-icon,.ag-filter-card-expand-icon{transition:color .25s ease-in-out}.ag-filter-card-delete-icon:hover,.ag-filter-card-expand-icon:hover,.ag-filter-card-heading:hover .ag-filter-card-expand-icon{color:var(--ag-filter-panel-card-subtle-hover-color)}.ag-filter-add-button,.ag-filter-card-delete,.ag-filter-card-expand{border-radius:var(--ag-button-border-radius)}.ag-filter-card-summary,.ag-filter-type-select{margin-left:var(--ag-widget-container-horizontal-padding);margin-right:var(--ag-widget-container-horizontal-padding)}:where(.ag-ltr) .ag-filter-card-delete{margin-right:var(--ag-widget-horizontal-spacing)}:where(.ag-rtl) .ag-filter-card-delete{margin-left:var(--ag-widget-horizontal-spacing)}.ag-filter-card-summary{margin-bottom:var(--ag-widget-container-vertical-padding)}.ag-filter-type-select{padding-top:var(--ag-widget-vertical-spacing)}.ag-filter-card-add{border:0;padding:0}.ag-filter-add-button{align-items:center;display:flex;flex-direction:row;line-height:1.5;width:100%}:where(.ag-ltr) .ag-filter-add-button-label{margin-left:var(--ag-spacing)}:where(.ag-rtl) .ag-filter-add-button-label{margin-right:var(--ag-spacing)}.ag-filter-add-select{border:0;.ag-rich-select-value{border:0;padding:calc(((1.5*var(--ag-font-size) + 2*var(--ag-button-vertical-padding)) - var(--ag-input-height))/2) var(--ag-spacing)}}:where(.ag-ltr) .ag-filter-add-select{.ag-text-field-input{padding-left:calc(var(--ag-spacing)*1.5 + 12px)!important}}:where(.ag-rtl) .ag-filter-add-select{.ag-text-field-input{padding-right:calc(var(--ag-spacing)*1.5 + 12px)!important}}.ag-filter-panel-buttons{display:flex;flex-wrap:wrap;gap:var(--ag-widget-vertical-spacing) var(--ag-widget-horizontal-spacing);justify-content:flex-end;overflow:hidden;padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding) 0}.ag-filter-panel-buttons-button{line-height:1.5}.ag-filter-panel .ag-filter-panel-buttons-apply-button{background-color:var(--ag-filter-panel-apply-button-background-color);color:var(--ag-filter-panel-apply-button-color)}.ag-filter-panel>:where(:last-child){padding-bottom:var(--ag-widget-container-vertical-padding)}.ag-filter-panel .ag-set-filter-body-wrapper,.ag-filter-panel .ag-simple-filter-body-wrapper>:last-child{margin-bottom:var(--ag-widget-container-vertical-padding)}")}init(e){if(!this.gos.get("enableFilterHandlers"))return void iB(282);const t=this.beans.filterPanelSvc;t.isActive=!0,this.addDestroyFunc(()=>{t.isActive=!1}),this.updateParams(e,e.initialState);const n=this.createManagedBean(new g7);this.filterPanel=n;const i=t=>{n.refresh(t),e.onStateUpdated()};i(),this.addManagedListeners(t,{filterPanelStatesChanged:i,filterPanelStateChanged:i})}getGui(){var e;return null===(e=this.filterPanel)||void 0===e?void 0:e.getGui()}refresh(e){return this.updateParams(e),!0}updateParams(e,t){var n;null===(n=this.beans.filterPanelSvc)||void 0===n||n.updateParams(e,t)}getState(){var e,t;return null!==(e=null===(t=this.beans.filterPanelSvc)||void 0===t?void 0:t.getGridState())&&void 0!==e?e:{}}}},beans:[class extends vO{constructor(){super(...arguments),this.beanName="filterPanelSvc",this.states=new Map,this.orderedStates=[],this.initialStateApplied=!1,this.isActive=!1}postConstruct(){if(!this.gos.get("enableFilterHandlers"))return;const e=this.updateFilterStates.bind(this),t=()=>this.dispatchStatesUpdates(void 0,!0);this.addManagedEventListeners({newColumnsLoaded:()=>{this.applyInitialState(),e()},filterChanged:e,filterDestroyed:this.onFilterDestroyed.bind(this),filterOpened:t,filterClosed:t}),this.addManagedListeners(this.beans.colFilter,{filterStateChanged:e=>{var n,i;let{column:o}=e;null===(n=this.states.get(o.getColId()))||void 0===n||null===(i=n.refresh)||void 0===i||i.call(n),t()}})}getIds(){return Array.from(this.states.keys())}getAvailable(){const e=this.beans,t=[];for(const n of e.colModel.getCols()){const i=n.getColId();!n.isFilterAllowed()||n.colDef.suppressFiltersToolPanel||this.states.get(i)||t.push({id:i,name:n7(e,n)})}return t}add(e){this.createFilter(e,!0),this.dispatchStatesUpdates(e)}remove(e){var t;const{states:n,orderedStates:i,beans:{colFilter:o,selectableFilter:r}}=this,s=n.get(e);if(!s)return;null===(t=s.destroy)||void 0===t||t.call(s);const a=s.state.column;n.delete(e),null===r||void 0===r||r.clearActive(e),null===o||void 0===o||o.destroyFilter(a),this.eventSvc.dispatchEvent({type:"filterSwitched",column:a});const l=i.indexOf(e);i.splice(l,1);const u=i[l];this.dispatchStatesUpdates(u)}getState(e){var t;return null===(t=this.states.get(e))||void 0===t?void 0:t.state}updateFilterState(e,t,n,i){const o=this.getState(e);o&&(o[t]=n,i||this.dispatchLocalEvent({type:"filterPanelStateChanged",id:e,state:o}))}expand(e,t){var n;const i=this.states.get(e);if(!i)return;null===(n=i.destroy)||void 0===n||n.call(i);const{handler:o,state:{column:r}}=i,s=this.createFilterState(r,o,t);this.states.set(e,s),this.dispatchLocalEvent({type:"filterPanelStateChanged",id:e,state:s.state})}updateType(e,t){const n=this.states.get(e);if(!n)return;const i=n.state;if(!1===i.expanded)return;const o=i.filterDefs;if(!o)return;const{colFilter:r,selectableFilter:s}=this.beans;null===s||void 0===s||s.setActive(e,o,t),r.filterParamsChanged(e,"columnFilter");const a=i.column;this.eventSvc.dispatchEvent({type:"filterSwitched",column:a});const l=this.states.get(e);if(!l)return;const u=l.state;this.dispatchLocalEvent({type:"filterPanelStateChanged",id:e,state:u})}getActions(){var e,t;const n=null===(e=this.params)||void 0===e?void 0:e.buttons;if(null===n||void 0===n||!n.length)return;return{actions:n,canApply:!(null===(t=this.beans.colFilter)||void 0===t||!t.canApplyAll())}}doAction(e){var t;null===(t=this.beans.colFilter)||void 0===t||t.updateAllModels(e)}updateParams(e,t){var n,i;this.params=e,t&&(this.initialState=t),this.dispatchStatesUpdates(),null===(n=this.beans.colFilter)||void 0===n||n.setGlobalButtons(!(null===(i=e.buttons)||void 0===i||!i.length))}getGridState(){const e=[];return this.states.forEach((t,n)=>{e.push({colId:n,expanded:t.state.expanded})}),{filters:e}}createFilter(e,t){const n=this.createFilterStateWrapper(e,t);n&&(this.states.set(e,n),this.orderedStates.push(e))}createFilterStateWrapper(e,t){const{colModel:n,colFilter:i}=this.beans,o=n.getColById(e);if(o&&!o.colDef.suppressFiltersToolPanel){const e=i.getHandler(o,!0);if(e)return this.createFilterState(o,e,t)}}updateFilterStates(){const e=this.beans.colFilter.getModel(),t=new Set;for(const i of Object.keys(e)){const e=this.states.get(i);var n;if(e)null===(n=e.refresh)||void 0===n||n.call(e);else this.createFilter(i);t.add(i)}this.states.forEach((e,n)=>{var i;t.has(n)||(null===(i=e.refresh)||void 0===i||i.call(e))}),this.dispatchStatesUpdates()}createFilterState(e,t,n){const i=this.beans,{colFilter:o,selectableFilter:r}=i,s=n7(i,e),a=e.getColId(),l=()=>{var e;return!(null===(e=this.params)||void 0===e||!e.buttons)&&o.hasUnappliedModel(a)},u=l();if(n){var c;const i=e.colDef,{filterDefs:o,activeFilterDef:d}=null!==(c=null===r||void 0===r?void 0:r.getDefs(e,i))&&void 0!==c?c:{},h=this.createBean(new cH(e,"TOOLBAR",!0));return{state:{column:e,name:s,isEditing:u,expanded:n,detail:h.getGui(),activeFilterDef:d,filterDefs:o,afterGuiAttached:h.afterGuiAttached.bind(h),afterGuiDetached:h.afterGuiDetached.bind(h)},handler:t,refresh:()=>{this.updateFilterState(a,"isEditing",l())},destroy:()=>this.destroyBean(h)}}{const n=e.getColId(),i=()=>{var e,i;return null!==(e=null===(i=t.getModelAsString)||void 0===i?void 0:i.call(t,o.getStateForColumn(n).model,"filterToolPanel"))&&void 0!==e?e:""};return{state:{column:e,name:s,isEditing:u,expanded:!1,summary:i()},handler:t,refresh:()=>{this.updateFilterState(n,"isEditing",l(),!0),this.updateFilterState(n,"summary",i())}}}}onFilterDestroyed(e){var t;let{column:n,source:i}=e;if(null===(t=this.beans.colFilter)||void 0===t||!t.isAlive())return;const o=this.states,r=n.getColId(),s=o.get(r);if(s){const e=this.createFilterStateWrapper(r,s.state.expanded);var a;if(e)null===(a=s.destroy)||void 0===a||a.call(s),o.set(r,e);else this.remove(r);"api"===i&&this.dispatchStatesUpdates()}}dispatchStatesUpdates(e,t){this.dispatchLocalEvent({type:"filterPanelStatesChanged",activeId:e,action:t})}applyInitialState(){var e;this.initialStateApplied||(this.initialStateApplied=!0,null===(e=this.initialState)||void 0===e||null===(e=e.filters)||void 0===e||e.forEach(e=>{let{colId:t,expanded:n}=e;return this.createFilter(t,n)}),this.initialState=void 0)}destroy(){const{states:e,orderedStates:t}=this;e.forEach(e=>{var t;return null===(t=e.destroy)||void 0===t?void 0:t.call(e)}),e.clear(),t.length=0,this.params=void 0,this.initialState=void 0,super.destroy()}},class extends vO{constructor(){super(...arguments),this.beanName="selectableFilter",this.selectedFilters=new Map,this.valueGetters=new Map}getFilterValueGetter(e){return this.valueGetters.get(e)}isSelectable(e){return"agSelectableColumnFilter"===e.filter}getFilterDef(e,t){return this.getDefs(e,t).activeFilterDef}getDefs(e,t){var n,i;if(!this.isSelectable(t))return;const o=this.beans,{gos:r,dataTypeSvc:s,colFilter:a}=o;let l=t.filterParams;const u=e.colDef;"function"===typeof l&&(l=l(iO(r,{column:e,colDef:u})));const c=null===s||void 0===s?void 0:s.getBaseDataType(e),h=null===s||void 0===s?void 0:s.getDataTypeDefinition(e),p=null===s||void 0===s?void 0:s.getFormatValue(c),{filters:g,defaultFilterParams:m,defaultFilterIndex:v}=null!==l&&void 0!==l?l:{},f=(null!==g&&void 0!==g?g:this.getDefaultFilters(e)).map(t=>{const{filter:n,filterParams:i,name:r,filterValueGetter:s=u.filterValueGetter}=t,l=m?d(d({},m),i):i;let g;var v;h&&p&&(g="agMultiColumnFilter"===n?null===(v=o.multiFilter)||void 0===v?void 0:v.getParamsForDataType(l,s,h,p):EH(n,l,s,h,p,o,this.getLocaleTextFunc()));let f;if(!r){let t=n;"boolean"===typeof n&&(t=null===a||void 0===a?void 0:a.getDefaultFilterFromDataType(()=>c)),"string"===typeof t?f=o7(this,"".concat(t,"DisplayName")):(iB(280,{colId:e.getColId()}),f="")}return m||g||f?d(d({},t),{},{filterParams:l,name:null!==f&&void 0!==f?f:r},g):t});let w=null!==(n=null!==(i=this.selectedFilters.get(e.getColId()))&&void 0!==i?i:v)&&void 0!==n?n:!g&&eO(r)?1:0;w>=f.length&&(w=0);return{filterDefs:f,activeFilterDef:f[w]}}setActive(e,t,n){const i=t.indexOf(n);if(i<0)return;const{selectedFilters:o,valueGetters:r}=this;o.set(e,i);const s=n.filterValueGetter;s?r.set(e,s):r.delete(e)}clearActive(e){const{selectedFilters:t,valueGetters:n}=this;t.delete(e),n.delete(e)}destroy(){const{selectedFilters:e,valueGetters:t}=this;e.clear(),t.clear(),super.destroy()}getDefaultFilters(e){const t=this.beans,{gos:n,dataTypeSvc:i}=t,o=n.isModuleRegistered("MultiFilter");return[{filter:AH(null===i||void 0===i?void 0:i.getBaseDataType(e),!1)},{filter:"agSetColumnFilter"},...o?[{filter:"agMultiColumnFilter"}]:[]]}}],icons:{filterAdd:"filter-add",filtersToolPanel:"filter",richSelectOpen:"small-down",richSelectRemove:"cancel",filterCardExpand:"chevron-down",filterCardCollapse:"chevron-up",filterCardEditing:"edit"},dependsOn:[B3,i5,N$]},f7=class extends vO{constructor(){super(...arguments),this.loadRowDataVersion=0}wireBeans(e){this.environment=e.environment}init(e,t){this.params=t,this.comp=e;null!=t.pinned||(this.setAutoHeightClasses(),this.setupRefreshStrategy(),this.createDetailGrid(),this.loadRowData(),this.addManagedEventListeners({fullWidthRowFocused:this.onFullWidthRowFocused.bind(this)}))}onFullWidthRowFocused(e){const t=this.params;Rz({rowIndex:t.node.rowIndex,rowPinned:t.node.rowPinned},{rowIndex:e.rowIndex,rowPinned:e.rowPinned})&&gV(this.comp.getGui(),e.fromBelow)}setAutoHeightClasses(){const e=this.gos.get("detailRowAutoHeight"),t=e?"ag-details-row-auto-height":"ag-details-row-fixed-height",n=e?"ag-details-grid-auto-height":"ag-details-grid-fixed-height",i=this.comp;i.toggleCss(t,!0),i.toggleDetailGridCss(n,!0)}setupRefreshStrategy(){const e=this.params.refreshStrategy;"everything"==e||"nothing"==e||"rows"==e?this.refreshStrategy=e:(null!=e&&iB(170,{providedStrategy:e}),this.refreshStrategy="rows")}createDetailGrid(){const{params:e,gos:t}=this;if(KI(e.detailGridOptions))return void iB(171);const n=t.get("theme"),i=e.detailGridOptions.theme;i&&i!==n&&iB(267);const o=d(d({themeStyleContainer:this.environment.eStyleContainer},e.detailGridOptions),{},{theme:n});t.get("detailRowAutoHeight")&&(o.domLayout="autoHeight"),this.comp.setDetailGrid(o)}registerDetailWithMaster(e){const{params:t,beans:{selectionSvc:n,findSvc:i}}=this,o=t.node.id,r=t.api,s={id:o,api:e},a=t.node;if(r.isDestroyed())return;r.addDetailGridInfo(o,s),a.detailGridInfo=s;const l=a.parent;function u(){l&&(null===n||void 0===n||n.refreshMasterNodeState(l))}function c(i){let{node:o,source:r}=i;o!==l||"masterDetail"===r||e.isDestroyed()||null===n||void 0===n||n.setDetailSelectionState(l,t.detailGridOptions,e)}null===i||void 0===i||i.registerDetailGrid(a,e),e.addEventListener("firstDataRendered",()=>{e.isDestroyed()||r.isDestroyed()||(null===n||void 0===n||n.setDetailSelectionState(l,t.detailGridOptions,e),e.addEventListener("selectionChanged",u),r.addEventListener("rowSelected",c))}),this.addDestroyFunc(()=>{a.detailGridInfo===s&&(r.isDestroyed()||r.removeDetailGridInfo(o),a.detailGridInfo=null)})}loadRowData(){var e;this.loadRowDataVersion++;const t=this.loadRowDataVersion,n=this.params;if("serverSide"===(null===(e=n.detailGridOptions)||void 0===e?void 0:e.rowModelType)){var i;return void(null===(i=n.node.detailGridInfo)||void 0===i||null===(i=i.api)||void 0===i||i.refreshServerSide({purge:!0}))}const o=n.getDetailRowData;if(!o)return void iB(172);o({node:n.node,data:n.node.data,successCallback:e=>{this.loadRowDataVersion===t&&this.comp.setRowData(e)},context:iO(this.gos,{}).context})}refresh(){const e=!0;switch(this.refreshStrategy){case"nothing":return e;case"everything":return false}return this.loadRowData(),e}},w7=class{constructor(e){this.parentWrapper=e}wrap(e,t,n,i){return this.parentWrapper.wrap(e,t,n,i)}},C7={tag:"div",cls:"ag-details-row"},b7={tag:"div",cls:"ag-details-row",role:"gridcell",children:[{tag:"div",ref:"eDetailGrid",cls:"ag-details-grid",role:"presentation"}]};function y7(e,t){var n;const i=null===(n=e.masterDetailSvc)||void 0===n?void 0:n.store;return i?t(i):void 0}var S7={moduleName:"SharedMasterDetail",version:n5,beans:[class extends vO{constructor(){super(...arguments),this.beanName="masterDetailSvc",this.store={}}isEnabled(){return!!this.gos.get("masterDetail")}postConstruct(){uB(this.gos)&&(this.enabled=this.isEnabled())}refreshModel(e){if(e.changedProps){const e=this.isEnabled();if(this.enabled!==e)return void this.setMasters(null)}e.rowDataUpdated&&this.setMasters(e.changedRowNodes)}setMasters(e){const t=this.isEnabled();this.enabled=t;const n=this.gos,i=n.get("isRowMaster"),o=n.get("treeData"),r=(e,n,r)=>{const s=e.master;let a=t;if(t)if(n||r){if(i){const t=e.data;a=!!t&&!!i(t)}}else a=s;if(!o)if(a&&n){var l,u;const t=null!==(l=null===(u=this.beans.rowGroupColsSvc)||void 0===u?void 0:u.columns.length)&&void 0!==l?l:0;e.expanded=C8(this.beans,e,t,!1)}else!a&&s&&(e.expanded=!1);a!==s&&(e.master=a,e.dispatchRowEvent("masterChanged"))};if(e){for(const t of e.updates)r(t,!1,!0);for(const t of e.adds)r(t,!0,!1)}else{var s;const e=null===(s=CZ(this.beans))||void 0===s||null===(s=s.rootNode)||void 0===s?void 0:s.allLeafChildren;if(e)for(let t=0,n=e.length;t<n;++t)r(e[t],!0,!1)}}getDetail(e){if(!e.master||!e.expanded)return null;let t=e.detailNode;return t||(t=new WV(this.beans),t.detail=!0,t.selectable=!1,t.parent=e,UI(e.id)&&(t.id="detail_"+e.id),t.data=e.data,t.level=e.level+1,e.detailNode=t,t)}setupDetailRowAutoHeight(e,t){const{gos:n,beans:i}=this;if(!n.get("detailRowAutoHeight"))return;const o=()=>{const i=t.clientHeight;if(null!=i&&i>0){const t=()=>{const{rowModel:t}=this.beans,{rowNode:o}=e;o.setRowHeight(i),(uB(n)||cB(n))&&t.onRowHeightChanged()};window.setTimeout(t,0)}},r=kN(i,t,o);e.addDestroyFunc(r),o()}destroy(){this.store={},super.destroy()}}],userComponents:{agDetailCellRenderer:class extends AG{constructor(){super(...arguments),this.eDetailGrid=kG}wireBeans(e){this.context=e.context}init(e){this.params=e,this.selectAndSetTemplate();const t={toggleCss:(e,t)=>this.toggleCss(e,t),toggleDetailGridCss:(e,t)=>this.eDetailGrid.classList.toggle(e,t),setDetailGrid:e=>this.setDetailGrid(e),setRowData:e=>this.setRowData(e),getGui:()=>this.eDetailGrid};this.ctrl=this.createManagedBean(new f7),this.ctrl.init(t,e)}refresh(){var e,t;return null!==(e=null===(t=this.ctrl)||void 0===t?void 0:t.refresh())&&void 0!==e&&e}selectAndSetTemplate(){const e=this.params;if(e.pinned)return void this.setTemplate(C7);const t=()=>{this.setTemplate(b7)};if(KI(e.template))t();else if("string"===typeof e.template)this.setTemplate(e.template,[]);else if("function"===typeof e.template){const t=(0,e.template)(e);this.setTemplate(t,[])}else iB(168),t();null==this.eDetailGrid&&iB(169)}setDetailGrid(e){var t,n;if(!this.eDetailGrid)return;const i=this.context.getBean("frameworkCompWrapper"),o=new w7(i),{frameworkOverrides:r}=this.beans,s=function(e,t,n){if(!t)return oB(11),{};let i;if(null===n||void 0===n||!n.setThemeOnGridDiv){const t=MN({tag:"div"});t.style.height="100%",e.appendChild(t),e=t,i=()=>e.remove()}return(new fZ).create(e,t,t=>{const n=new PU(e);t.createBean(n)},void 0,n,i)}(this.eDetailGrid,e,{frameworkOverrides:r,providedBeanInstances:{frameworkCompWrapper:o},modules:Cz(this.params.api.getGridId(),null!==(t=e.rowModelType)&&void 0!==t?t:"clientSide")});this.detailApi=s,null===(n=this.ctrl)||void 0===n||n.registerDetailWithMaster(s),this.addDestroyFunc(()=>{s.destroy()})}setRowData(e){var t;null===(t=this.detailApi)||void 0===t||t.setGridOption("rowData",e)}}},dynamicBeans:{detailCellRendererCtrl:f7},apiFunctions:{addDetailGridInfo:function(e,t,n){y7(e,e=>{e[t]=n})},removeDetailGridInfo:function(e,t){y7(e,e=>{delete e[t]})},getDetailGridInfo:function(e,t){return y7(e,e=>e[t])},forEachDetailGridInfo:function(e,t){y7(e,e=>{let n=0;Object.values(e).forEach(e=>{e&&t(e,n++)})})}},dependsOn:[i5,D8,k8],css:[".ag-details-row{width:100%}.ag-details-row-fixed-height{height:100%}.ag-details-grid{width:100%}.ag-details-grid-fixed-height{height:100%}"]},x7={moduleName:"MasterDetail",version:n5,dependsOn:[S7,F8,RQ]},D7=class extends AG{constructor(){super(...arguments),this.changedCalculatedValues=!1,this.dragging=!1,this.shouldDestroyOnEndDragging=!1}postConstruct(){const{dragSvc:e,rangeSvc:t}=this.beans;e.addDragSource({dragStartPixels:0,eElement:this.getGui(),onDragStart:this.onDragStart.bind(this),onDragging:e=>{this.dragging=!0,t.autoScrollService.check(e),this.changedCalculatedValues&&(this.onDrag(e),this.changedCalculatedValues=!1)},onDragStop:e=>{this.dragging=!1,this.onDragEnd(e),this.clearDragProperties(),this.shouldDestroyOnEndDragging&&this.destroy()},onDragCancel:()=>{this.dragging=!1,this.onDragCancel(),this.clearDragProperties()}}),this.addManagedElementListeners(this.getGui(),{mousedown:this.preventRangeExtension.bind(this)})}getLastCellHovered(){return this.lastCellHovered}preventRangeExtension(e){e.stopPropagation()}onDragStart(e){[this.cellHoverListener]=this.addManagedElementListeners(this.beans.ctrlsSvc.get("gridCtrl").getGui(),{mousemove:this.updateValuesOnMove.bind(this)}),document.body.classList.add(this.getDraggingCssClass())}getDraggingCssClass(){return"ag-dragging-".concat(0===this.type?"fill":"range","-handle")}updateValuesOnMove(e){const t=IV(this.gos,e);!t||this.shouldSkipCell(t)||this.lastCellHovered&&kz(t,this.lastCellHovered)||(this.lastCellHovered=t,this.changedCalculatedValues=!0)}clearDragProperties(){this.clearValues(),this.beans.rangeSvc.autoScrollService.ensureCleared(),document.body.classList.remove(this.getDraggingCssClass())}getType(){return this.type}refresh(e){const t=this.cellCtrl,n=this.getGui(),i=_O(this.beans.rangeSvc.getCellRanges()),o=i.startRow,r=i.endRow;if(o&&r){Az(r,o)?(this.rangeStartRow=r,this.rangeEndRow=o):(this.rangeStartRow=o,this.rangeEndRow=r)}if(t!==e||!hN(n)){this.cellCtrl=e;const t=e.comp.getParentOfValue();t&&t.appendChild(n)}this.cellRange=i}clearValues(){this.lastCellHovered=void 0,this.removeListeners()}removeListeners(){const e=this.cellHoverListener;e&&(e(),this.cellHoverListener=void 0)}destroy(){var e;if(!this.shouldDestroyOnEndDragging&&this.dragging)return XL(this.getGui(),!1),void(this.shouldDestroyOnEndDragging=!0);this.shouldDestroyOnEndDragging=!1,super.destroy(),this.removeListeners();const t=this.getGui();null===(e=t.parentElement)||void 0===e||e.removeChild(t)}};function E7(e){const t=e.length;let n=0;if(t<=1)return e;for(let d=0;d<e.length;d++){const t=e[d],i=t.toString().split("e-");i.length>1?n=Math.max(n,parseInt(i[1],10)):Math.floor(t)!==t&&(n=Math.max(n,t.toString().split(".")[1].length))}let i=0,o=0,r=0,s=0,a=0;for(let d=0;d<t;d++)a=e[d],i+=d,o+=a,s+=d*d,r+=d*a;const l=(t*r-i*o)/(t*s-i*i),u=o/t-l*i/t,c=[];for(let d=0;d<=t;d++)c.push(parseFloat((d*l+u).toFixed(n)));return c}var F7={tag:"div",cls:"ag-fill-handle"};function k7(e){var t;null===(t=e.rangeSvc)||void 0===t||t.removeAllCellRanges()}var A7="ag-cell-range-selected";function R7(e){var t;const n=e.get("cellSelection");return void 0!==n?"boolean"!==typeof n&&"fill"===(null===(t=n.handle)||void 0===t?void 0:t.mode):e.get("enableFillHandle")}var P7=class{constructor(e,t){this.beans=e,this.cellCtrl=t,this.rangeSvc=e.rangeSvc}setComp(e){this.cellComp=e,this.eGui=this.cellCtrl.eGui,this.onCellSelectionChanged()}onCellSelectionChanged(){const e=this.cellComp;if(!e)return;const{rangeSvc:t,cellCtrl:n,eGui:i}=this,o=t.getCellRangeCount(n.cellPosition);this.rangeCount=o;const r=this.getHasChartRange();this.hasChartRange=r,e.toggleCss(A7,0!==o),e.toggleCss("".concat(A7,"-1"),1===o),e.toggleCss("".concat(A7,"-2"),2===o),e.toggleCss("".concat(A7,"-3"),3===o),e.toggleCss("".concat(A7,"-4"),o>=4),e.toggleCss("ag-cell-range-chart",r),LL(i,o>0||void 0),e.toggleCss("ag-cell-range-single-cell",this.isSingleCell()),this.updateRangeBorders(),this.refreshHandle()}updateRangeBorders(){const e=this.getRangeBorders(),t=this.isSingleCell(),n=!t&&e.top,i=!t&&e.right,o=!t&&e.bottom,r=!t&&e.left,s=this.cellComp;s.toggleCss("ag-cell-range-top",n),s.toggleCss("ag-cell-range-right",i),s.toggleCss("ag-cell-range-bottom",o),s.toggleCss("ag-cell-range-left",r)}isSingleCell(){const{rangeSvc:e}=this;return 1===this.rangeCount&&!!e&&!e.isMoreThanOneCell()}getHasChartRange(){const{rangeSvc:e}=this;if(!this.rangeCount||!e)return!1;const t=e.getCellRanges();return t.length>0&&t.every(e=>[dU.DIMENSION,dU.VALUE].includes(e.type))}updateRangeBordersIfRangeCount(){this.rangeCount>0&&(this.updateRangeBorders(),this.refreshHandle())}getRangeBorders(){const e=this.beans.gos.get("enableRtl");let t=!1,n=!1,i=!1,o=!1;const{rangeSvc:r,beans:{visibleCols:s},cellCtrl:{cellPosition:a}}=this,l=a.column,u=r.getCellRanges().filter(e=>r.isCellInSpecificRange(a,e));if(!u.length)return{top:t,right:n,bottom:i,left:o};let c,d;e?(c=s.getColAfter(l),d=s.getColBefore(l)):(c=s.getColBefore(l),d=s.getColAfter(l)),c||(o=!0),d||(n=!0);for(let h=0;h<u.length&&!(t&&n&&i&&o);h++){const e=u[h],s=r.getRangeStartRow(e),l=r.getRangeEndRow(e);!t&&Rz(s,a)&&(t=!0),!i&&Rz(l,a)&&(i=!0),!o&&c&&e.columns.indexOf(c)<0&&(o=!0),!n&&d&&e.columns.indexOf(d)<0&&(n=!0)}return{top:t,right:n,bottom:i,left:o}}refreshHandle(){if(this.beans.context.isDestroyed())return;const e=this.shouldHaveSelectionHandle();this.selectionHandle&&!e&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),e&&this.addSelectionHandle(),this.cellComp.toggleCss("ag-cell-range-handle",!!this.selectionHandle)}shouldHaveSelectionHandle(){const{gos:e,editSvc:t}=this.beans,n=this.rangeSvc,i=n.getCellRanges(),o=i.length;if(this.rangeCount<1||o<1)return!1;const r=_O(i),{cellPosition:s,column:a}=this.cellCtrl,l=R7(e)&&!a.isSuppressFillHandle(),u=function(e){var t;const n=e.get("cellSelection");return void 0!==n?"boolean"!==typeof n&&"range"===(null===(t=n.handle)||void 0===t?void 0:t.mode):e.get("enableRangeHandle")}(e),c=null===t||void 0===t?void 0:t.isEditing(this.cellCtrl,{withOpenEditor:!0});let d=1===o&&!c&&(l||u);if(this.hasChartRange){const e=i[0].type===dU.DIMENSION&&n.isCellInSpecificRange(s,i[0]);this.cellComp.toggleCss("ag-cell-range-chart-category",e),d=r.type===dU.VALUE}return d&&null!=r.endRow&&n.isContiguousRange(r)&&n.isBottomRightCell(r,s)}addSelectionHandle(){var e;const{beans:t,rangeSvc:n}=this,i=_O(n.getCellRanges()).type,o=R7(t.gos)&&KI(i)?0:1;if(this.selectionHandle&&this.selectionHandle.getType()!==o&&(this.selectionHandle=t.context.destroyBean(this.selectionHandle)),!this.selectionHandle){const e=t.registry.createDynamicBean(0===o?"fillHandle":"rangeHandle",!1);e&&(this.selectionHandle=t.context.createBean(e))}null===(e=this.selectionHandle)||void 0===e||e.refresh(this.cellCtrl)}destroy(){this.beans.context.destroyBean(this.selectionHandle)}},T7=class extends vO{constructor(e){super(),this.eContainer=e}postConstruct(){const{beans:e,gos:t,eContainer:n}=this,i=e.rangeSvc,o={eElement:n,onDragStart:i.onDragStart.bind(i),onDragStop:i.onDragStop.bind(i),onDragging:i.onDragging.bind(i)},r=e.dragSvc,s=r.addDragSource.bind(r,o),a=r.removeDragSource.bind(r,o);this.addManagedPropertyListeners(["enableRangeSelection","cellSelection"],()=>{WB(t)?s():a()}),this.addDestroyFunc(a),WB(t)&&s()}},_7=class extends vO{constructor(e,t){super(),this.column=e,this.comp=t,this.columnMap=new Map,this.isActive=!1,this.resetColumnMap()}postConstruct(){this.addManagedPropertyListener("cellSelection",()=>{this.refreshActive()}),this.refreshActive(),this.setupRangeHeaderHighlight()}resetColumnMap(){let e;this.columnMap.clear(),e=this.column.isColumn?[this.column]:this.column.getDisplayedLeafColumns();for(const t of e)this.columnMap.set(t,!1)}refreshActive(){const{gos:e,rangeSvc:t}=this.beans,n=e.get("cellSelection");this.isActive=!!(n&&t&&"object"===typeof n&&n.enableHeaderHighlight)}setupRangeHeaderHighlight(){const e=this.onRangeSelectionChanged.bind(this);this.addManagedEventListeners({rangeSelectionChanged:e,columnPinned:e,columnMoved:e,columnGroupOpened:e}),e()}onRangeSelectionChanged(){if(!this.isActive)return;this.resetColumnMap();const e=this.beans.rangeSvc.getCellRanges();let t=!1,n=!0;for(const i of e){if(t)break;for(const e of i.columns)this.columnMap.has(e)&&(this.columnMap.set(e,!0),t||(t=!0))}for(const i of Array.from(this.columnMap.values()))if(!1===i){n=!1;break}this.comp.toggleCss("ag-header-range-highlight",t&&n)}destroy(){super.destroy(),this.comp=null,this.column=null}},M7={moduleName:"CellSelection",version:n5,beans:[class extends vO{constructor(){super(...arguments),this.beanName="rangeSvc",this.cellRanges=[],this.bodyScrollListener=this.onBodyScroll.bind(this),this.dragging=!1,this.intersectionRange=!1}wireBeans(e){this.rowModel=e.rowModel,this.dragSvc=e.dragSvc,this.colModel=e.colModel,this.visibleCols=e.visibleCols,this.cellNavigation=e.cellNavigation,this.ctrlsSvc=e.ctrlsSvc,this.valueSvc=e.valueSvc}postConstruct(){const e=this.onColumnsChanged.bind(this),t=()=>this.removeAllCellRanges(),n=this.refreshLastRangeStart.bind(this);this.addManagedEventListeners({newColumnsLoaded:e,columnVisible:e,columnValueChanged:e,columnPivotModeChanged:t,columnRowGroupChanged:t,columnPivotChanged:t,columnGroupOpened:n,columnMoved:n,columnPinned:n}),this.ctrlsSvc.whenReady(this,e=>{const t=e.gridBodyCtrl;this.autoScrollService=new hU({scrollContainer:t.eBodyViewport,scrollAxis:"xy",getVerticalPosition:()=>t.scrollFeature.getVScrollPosition().top,setVerticalPosition:e=>t.scrollFeature.setVerticalScrollPosition(e),getHorizontalPosition:()=>t.scrollFeature.getHScrollPosition().left,setHorizontalPosition:e=>t.scrollFeature.setHorizontalScrollPosition(e),shouldSkipVerticalScroll:()=>!dB(this.gos,"normal"),shouldSkipHorizontalScroll:()=>!t.scrollFeature.isHorizontalScrollShowing()})})}onDragStart(e){var t;if(!WB(this.gos))return;const{ctrlKey:n,metaKey:i,shiftKey:o}=e,r=n||i,s=!!!jB(this.gos)&&r,a=o&&!(null===(t=this.cellRanges)||void 0===t||!t.length);s||a&&!UI(_O(this.cellRanges).type)||this.removeAllCellRanges(!0);const l=this.dragSvc.startTarget;if(l&&this.updateValuesOnMove(l),this.lastCellHovered){if(this.dragging=!0,this.lastMouseEvent=e,this.intersectionRange=s&&this.getCellRangeCount(this.lastCellHovered)>1,a||this.setNewestRangeStartCell(this.lastCellHovered),this.cellRanges.length>0)this.draggingRange=_O(this.cellRanges);else{const e={rowIndex:this.lastCellHovered.rowIndex,rowPinned:this.lastCellHovered.rowPinned},t=this.getColumnsFromModel([this.lastCellHovered.column]);if(!t||!t.length)return;this.draggingRange={startRow:e,endRow:e,columns:t,startColumn:this.newestRangeStartCell.column},this.cellRanges.push(this.draggingRange)}this.ctrlsSvc.getGridBodyCtrl().eBodyViewport.addEventListener("scroll",this.bodyScrollListener,{passive:!0}),this.dispatchChangedEvent(!0,!1,this.draggingRange.id)}}onDragging(e){const{dragging:t,lastCellHovered:n,newestRangeStartCell:i,autoScrollService:o,cellHasChanged:r}=this;if(!t||!e)return;this.updateValuesOnMove(e.target),this.lastMouseEvent=e;const s=e=>n&&n.rowPinned===e&&i.rowPinned===e,a=s("top")||s("bottom");if(o.check(e,a),!r||!n)return;const l=null===i||void 0===i?void 0:i.column,u=null===n||void 0===n?void 0:n.column,c=this.calculateColumnsBetween(l,u);if(!c)return;const{rowIndex:d,rowPinned:h}=n;this.draggingRange.endRow={rowIndex:d,rowPinned:h},this.draggingRange.columns=c,this.dispatchChangedEvent(!1,!1,this.draggingRange.id)}onDragStop(){if(!this.dragging)return;const{id:e}=this.draggingRange;this.autoScrollService.ensureCleared(),this.ctrlsSvc.getGridBodyCtrl().eBodyViewport.removeEventListener("scroll",this.bodyScrollListener),this.lastMouseEvent=null,this.dragging=!1,this.draggingRange=void 0,this.lastCellHovered=void 0,this.intersectionRange&&(this.intersectionRange=!1,this.intersectLastRange()),this.dispatchChangedEvent(!1,!0,e)}onColumnsChanged(){this.refreshLastRangeStart();const e=this.visibleCols.allCols;this.cellRanges.forEach(t=>{const n=t.columns;t.columns=t.columns.filter(t=>t.isVisible()&&-1!==e.indexOf(t));!MO(n,t.columns)&&this.dispatchChangedEvent(!1,!0,t.id)});const t=this.cellRanges.length;this.cellRanges=this.cellRanges.filter(e=>e.columns.length>0),t>this.cellRanges.length&&this.dispatchChangedEvent(!1,!0)}refreshLastRangeStart(){const e=_O(this.cellRanges);e&&this.refreshRangeStart(e)}isContiguousRange(e){const t=e.columns;if(!t.length)return!1;const n=this.visibleCols.allCols,i=t.map(e=>n.indexOf(e)).sort((e,t)=>e-t);return _O(i)-i[0]+1===t.length}getRangeStartRow(e){var t,n;if(e.startRow&&e.endRow)return Az(e.startRow,e.endRow)?e.startRow:e.endRow;return{rowIndex:0,rowPinned:(null!==(t=null===(n=this.beans.pinnedRowModel)||void 0===n?void 0:n.getPinnedTopRowCount())&&void 0!==t?t:0)>0?"top":null}}getRangeEndRow(e){var t,n;if(e.startRow&&e.endRow)return Az(e.startRow,e.endRow)?e.endRow:e.startRow;const i=null!==(t=null===(n=this.beans.pinnedRowModel)||void 0===n?void 0:n.getPinnedBottomRowCount())&&void 0!==t?t:0;return i>0?{rowIndex:i-1,rowPinned:"bottom"}:{rowIndex:this.rowModel.getRowCount()-1,rowPinned:null}}setRangeToCell(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{gos:n}=this;if(!WB(n))return;const i=n.get("rowNumbers"),o=KO(e.column);i&&this.setSelectionMode(o);const r=this.calculateColumnsBetween(e.column,e.column);if(!r)return;(jB(this.gos)||!t||KI(this.cellRanges))&&this.removeAllCellRanges(!0);const s={rowIndex:e.rowIndex,rowPinned:e.rowPinned},a={startRow:s,endRow:s,columns:r,startColumn:e.column};this.cellRanges.push(a),this.setNewestRangeStartCell(e),this.onDragStop(),this.dispatchChangedEvent(!0,!0)}extendLatestRangeToCell(e){if(this.isEmpty()||!this.newestRangeStartCell)return;const t=_O(this.cellRanges);this.setSelectionMode(KO(e.column)),this.updateRangeEnd(t,e)}updateRangeEnd(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const i=t.column,o=this.calculateColumnsBetween(e.startColumn,i);o&&!this.isLastCellOfRange(e,t)&&(e.columns=o,e.endRow={rowIndex:t.rowIndex,rowPinned:t.rowPinned},n||this.dispatchChangedEvent(!0,!0,e.id))}getRangeEdgeColumns(e){const t=this.visibleCols.allCols,n=e.columns.map(e=>t.indexOf(e)).filter(e=>e>-1).sort((e,t)=>e-t);return{left:t[n[0]],right:t[_O(n)]}}extendLatestRangeInDirection(e){if(this.isEmpty()||!this.newestRangeStartCell)return;const t=e.key,n=e.ctrlKey||e.metaKey,i=_O(this.cellRanges),o=this.newestRangeStartCell,r=i.columns[0],s=_O(i.columns),a=i.endRow.rowIndex,l=i.endRow.rowPinned,u={column:o.column===r?s:r,rowIndex:a,rowPinned:l},c=this.cellNavigation.getNextCellToFocus(t,u,n);return c?(this.setCellRange({rowStartIndex:o.rowIndex,rowStartPinned:o.rowPinned,rowEndIndex:c.rowIndex,rowEndPinned:c.rowPinned,columnStart:o.column,columnEnd:c.column}),c):void 0}setCellRange(e){WB(this.gos)&&(this.removeAllCellRanges(!0),this.addCellRange(e))}setCellRanges(e){if(!MO(this.cellRanges,e)&&this.verifyCellRanges(this.gos)){this.removeAllCellRanges(!0);for(const t of e){if(t.columns&&t.startRow){const e=this.getColumnsFromModel(t.columns);if(!e||0===e.length)continue;t.columns=e;const{startRow:n}=t;this.setNewestRangeStartCell({rowIndex:n.rowIndex,rowPinned:n.rowPinned,column:t.columns[0]})}this.cellRanges.push(t)}this.dispatchChangedEvent(!1,!0)}}clearCellRangeCellValues(e){const{beans:t,valueSvc:n,eventSvc:i}=this,{cellEventSource:o="rangeSvc",dispatchWrapperEvents:r,wrapperEventSource:s="deleteKey"}=e;let{cellRanges:a}=e;r&&(i.dispatchEvent({type:"cellSelectionDeleteStart",source:s}),i.dispatchEvent({type:"rangeDeleteStart",source:s})),a||(a=this.cellRanges),a.forEach(e=>{this.forEachRowInRange(e,i=>{const r=Tz(t,i);if(r)for(let t=0;t<e.columns.length;t++){const i=this.getColumnFromModel(e.columns[t]);if(!i||!i.isCellEditable(r))continue;const s=n.getDeleteValue(i,r);r.setDataValue(i,s,o)}})}),r&&(i.dispatchEvent({type:"cellSelectionDeleteEnd",source:s}),i.dispatchEvent({type:"rangeDeleteEnd",source:s}))}createCellRangeFromCellRangeParams(e){return this.createPartialCellRangeFromRangeParams(e,!1)}createPartialCellRangeFromRangeParams(e,t){var n;const{columns:i,columnStart:o,columnEnd:r,rowStartIndex:s,rowStartPinned:a,rowEndIndex:l,rowEndPinned:u}=e,c=this.getColumnsFromParams(i,o,r);if(!c||!t&&0===c.columns.length)return;const{columns:d,startsOnTheRight:h}=c;return{startRow:this.createRowPosition(s,a),endRow:this.createRowPosition(l,u),columns:d,startColumn:null!==(n=this.getColumnFromModel(o))&&void 0!==n?n:h?_O(d):d[0]}}addCellRange(e){const t=this.gos;if(!WB(t)||!this.verifyCellRanges(t))return;this.setSelectionMode(!1);const n=this.createCellRangeFromCellRangeParams(e);n&&(n.startRow&&this.setNewestRangeStartCell({rowIndex:n.startRow.rowIndex,rowPinned:n.startRow.rowPinned,column:n.startColumn}),this.cellRanges.push(n),this.dispatchChangedEvent(!1,!0,n.id))}getCellRanges(){return this.cellRanges}isEmpty(){return 0===this.cellRanges.length}isMoreThanOneCell(){const e=this.cellRanges.length;if(0===e)return!1;if(e>1)return!0;const t=this.cellRanges[0],n=this.getRangeStartRow(t),i=this.getRangeEndRow(t);return n.rowPinned!==i.rowPinned||n.rowIndex!==i.rowIndex||1!==t.columns.length}areAllRangesAbleToMerge(){const e=new Map;if(this.cellRanges.length<=1)return!0;let t;this.cellRanges.forEach(t=>{this.forEachRowInRange(t,n=>{const i="".concat(n.rowPinned||"normal","_").concat(n.rowIndex),o=e.get(i),r=t.columns.map(e=>e.getId());if(o){const e=r.filter(e=>-1===o.indexOf(e));o.push(...e)}else e.set(i,r)})});for(const n of e.values()){const e=n.sort().join();if(void 0!==t){if(t!==e)return!1}else t=e}return!0}removeAllCellRanges(e){this.isEmpty()||(this.onDragStop(),this.cellRanges.length=0,e||this.dispatchChangedEvent(!1,!0))}isCellInAnyRange(e){return this.getCellRangeCount(e)>0}isCellInSpecificRange(e,t){const n=null!==t.columns&&t.columns.includes(e.column),i=this.isRowInRange(e.rowIndex,e.rowPinned,t);return n&&i}isBottomRightCell(e,t){const n=this.visibleCols.allCols,i=e.columns.map(e=>n.indexOf(e)).sort((e,t)=>e-t),{startRow:o,endRow:r}=e,s=Az(o,r)?r:o,a=n.indexOf(t.column)===_O(i),l=t.rowIndex===s.rowIndex&&WI(t.rowPinned)===WI(s.rowPinned);return a&&l}getCellRangeCount(e){return this.isEmpty()?0:this.cellRanges.filter(t=>this.isCellInSpecificRange(e,t)).length}isRowInRange(e,t,n){const i=this.getRangeStartRow(n),o=this.getRangeEndRow(n),r={rowIndex:e,rowPinned:t||null},s=r.rowIndex===i.rowIndex&&r.rowPinned==i.rowPinned,a=r.rowIndex===o.rowIndex&&r.rowPinned==o.rowPinned;if(s||a)return!0;const l=!Az(r,i),u=Az(r,o);return l&&u}intersectLastRange(e){if(e&&this.dragging)return;if(jB(this.gos))return;if(this.isEmpty())return;const t=_O(this.cellRanges),n=this.getRangeStartRow(t),i=this.getRangeEndRow(t),o=[];this.cellRanges.slice(0,-1).forEach(e=>{const r=this.getRangeStartRow(e),s=this.getRangeEndRow(e),a=e.columns,l=a.filter(e=>-1===t.columns.indexOf(e));if(l.length===a.length)return void o.push(e);if(Az(i,r)||Az(s,n))return void o.push(e);const u=o.length;if(Az(r,n)){const e={columns:[...a],startColumn:t.startColumn,startRow:d({},r),endRow:Mz(this.beans,n)};o.push(e)}if(l.length>0){const e={columns:l,startColumn:l.includes(t.startColumn)?t.startColumn:l[0],startRow:this.rowMax([d({},n),d({},r)]),endRow:this.rowMin([d({},i),d({},s)])};o.push(e)}Az(i,s)&&o.push({columns:[...a],startColumn:t.startColumn,startRow:Iz(this.beans,i),endRow:d({},s)}),o.length-u===1&&(o[o.length-1].id=e.id)}),this.cellRanges=o,e&&this.dispatchChangedEvent(!1,!0)}createRangeHighlightFeature(e,t,n){e.createManagedBean(new _7(t,n))}setSelectionMode(e){this.selectionMode=e?1:0}refreshRangeStart(e){const{startColumn:t,columns:n}=e,i=(t,n)=>{const i=e.columns.filter(e=>e!==t);t?(e.startColumn=t,e.columns=n?[t,...i]:[...i,t]):e.columns=i},{left:o,right:r}=this.getRangeEdgeColumns(e);if(t===n[0]&&t!==o)return void i(o,!0);t===_O(n)&&t===r&&i(r,!1)}setNewestRangeStartCell(e){this.newestRangeStartCell=e}getColumnsFromParams(e,t,n){const i=!e&&!t&&!n;let o,r=!1;return i||e?o=this.getColumnsFromModel(i?void 0:e):t&&n&&(o=this.calculateColumnsBetween(t,n),o&&o.length&&(r=o[0]!==this.getColumnFromModel(t))),o?{columns:o,startsOnTheRight:r}:void 0}createRowPosition(e,t){return null!=e?{rowIndex:e,rowPinned:t}:void 0}verifyCellRanges(e){const t=function(e){return void 0!==e.get("cellSelection")}(e)&&jB(e)&&this.cellRanges.length>1;return t&&iB(93),!t}forEachRowInRange(e,t){const n=this.getRangeStartRow(e),i=this.getRangeEndRow(e);let o=n;for(;o&&(t(o),!Rz(o,i));)o=Iz(this.beans,o)}onBodyScroll(){this.dragging&&this.lastMouseEvent&&this.onDragging(this.lastMouseEvent)}isLastCellOfRange(e,t){const{startRow:n,endRow:i}=e,o=Az(n,i)?i:n,r=t.rowIndex===o.rowIndex&&t.rowPinned===o.rowPinned,s=e.columns[0],a=_O(e.columns),l=e.startColumn===s?a:s;return t.column===l&&r}rowMax(e){let t;return e.forEach(e=>{(void 0===t||Az(t,e))&&(t=e)}),t}rowMin(e){let t;return e.forEach(e=>{(void 0===t||Az(e,t))&&(t=e)}),t}updateValuesOnMove(e){var t;const n=kV(this.gos,e),i=null===n||void 0===n?void 0:n.cellPosition;if(this.cellHasChanged=!1,!i||this.lastCellHovered&&kz(i,this.lastCellHovered))return;(null===(t=this.beans.editSvc)||void 0===t?void 0:t.isEditing(n,{withOpenEditor:!0}))?this.dragSvc.cancelDrag(e):(this.lastCellHovered&&(this.cellHasChanged=!0),this.lastCellHovered=i)}shouldSkipCurrentColumn(e){return KO(e)}dispatchChangedEvent(e,t,n){this.eventSvc.dispatchEvent({type:"cellSelectionChanged",started:e,finished:t,id:n}),this.eventSvc.dispatchEvent({type:"rangeSelectionChanged",started:e,finished:t,id:n})}getColumnFromModel(e){return"string"===typeof e?this.colModel.getCol(e):e}getColumnsFromModel(e){const{gos:t,visibleCols:n}=this,i=t.get("rowNumbers");e&&1!==this.selectionMode||(e=n.allCols);const o=[];for(const r of e){const e=this.getColumnFromModel(r);!e||i&&this.shouldSkipCurrentColumn(e)||o.push(e)}return o.length?o:void 0}calculateColumnsBetween(e,t){const n=this.visibleCols.allCols,i=this.getColumnFromModel(e),o=this.getColumnFromModel(t),r=i===o,s=n.indexOf(i);if(s<0)return void iB(178,{colId:i.getId()});const a=r?s:n.indexOf(o);if(a<0)return void iB(178,{colId:o.getId()});if(r||1===this.selectionMode)return this.getColumnsFromModel([i]);const l=Math.min(s,a),u=l===s?a:s,c=[];for(let d=l;d<=u;d++)c.push(n[d]);return this.getColumnsFromModel(c)}createDragListenerFeature(e){return new T7(e)}createCellRangeFeature(e,t){return new P7(e,t)}}],dynamicBeans:{fillHandle:class extends D7{constructor(){super(F7),this.markedCells=[],this.cellValues=[],this.isUp=!1,this.isLeft=!1,this.isReduce=!1,this.type=0}postConstruct(){super.postConstruct(),this.addManagedElementListeners(this.getGui(),{dblclick:this.onDblClick.bind(this)})}onDblClick(e){cO(e);const{cellRange:t,rangeStartRow:n,beans:i}=this,{rangeSvc:o}=i,r=Pz(i);if(!r)return;const s=null===o||void 0===o?void 0:o.createCellRangeFromCellRangeParams({rowStartIndex:n.rowIndex,rowStartPinned:n.rowPinned,columnStart:t.columns[0],rowEndIndex:r.rowIndex,rowEndPinned:r.rowPinned,columnEnd:_O(t.columns)});this.dragAxis="y",this.isUp=!1,this.isLeft=!1,s&&this.performFill({event:e,initialRange:t,finalRange:s}),this.dragAxis=void 0}updateValuesOnMove(e){super.updateValuesOnMove(e),this.initialXY||(this.initialXY=LV(this.beans,e));const{x:t,y:n}=this.initialXY,{x:i,y:o}=LV(this.beans,e),r=Math.abs(t-i),s=Math.abs(n-o),a=this.getFillHandleDirection();let l;l="xy"===a?r>s?"x":"y":a,l!==this.dragAxis&&(this.dragAxis=l,this.changedCalculatedValues=!0)}shouldSkipCell(e){return KO(e.column)}onDrag(e){if(!this.initialPosition){const e=this.cellCtrl;if(!e)return;this.initialPosition=e.cellPosition}const t=this.getLastCellHovered();t&&this.markPathFrom(this.initialPosition,t)}onDragEnd(e){if(this.initialXY=null,!this.markedCells.length)return;const t="x"===this.dragAxis,{cellRange:n,rangeStartRow:i,rangeEndRow:o,beans:{rangeSvc:r}}=this,s=n.columns.length;let a;if(this.isUp||this.isLeft){const e=t?i:this.lastCellMarked;a=r.createCellRangeFromCellRangeParams({rowStartIndex:e.rowIndex,rowStartPinned:e.rowPinned,columnStart:t?this.lastCellMarked.column:n.columns[0],rowEndIndex:o.rowIndex,rowEndPinned:o.rowPinned,columnEnd:n.columns[s-1]})}else a=r.createCellRangeFromCellRangeParams({rowStartIndex:i.rowIndex,rowStartPinned:i.rowPinned,columnStart:n.columns[0],rowEndIndex:t?o.rowIndex:this.lastCellMarked.rowIndex,rowEndPinned:t?o.rowPinned:this.lastCellMarked.rowPinned,columnEnd:t?this.lastCellMarked.column:n.columns[s-1]});a&&this.performFill({event:e,initialRange:n,finalRange:a,shouldUpdateRange:!0})}onDragCancel(){this.initialXY=null,this.markedCells.length&&this.clearMarkedPath()}performFill(e){let{event:t,initialRange:n,finalRange:i,shouldUpdateRange:o}=e;const{eventSvc:r,rangeSvc:s}=this.beans;r.dispatchEvent({type:"fillStart"}),this.handleValueChanged(n,i,t),o&&s.setCellRanges([i]),r.dispatchEvent({type:"fillEnd",initialRange:n,finalRange:i})}getFillHandleDirection(){var e;const t=null===(e=UB(this.gos))||void 0===e?void 0:e.direction;return t?"x"!==t&&"y"!==t&&"xy"!==t?(iB(177),"xy"):t:"xy"}handleValueChanged(e,t,n){var i,o;const{beans:r}=this,{rangeSvc:s,gos:a,valueSvc:l}=r,u=s.getRangeEndRow(e),c=s.getRangeStartRow(e),d=s.getRangeEndRow(t),h=s.getRangeStartRow(t),p="y"===this.dragAxis;if(this.isReduce&&(null===(i=UB(a))||void 0===i||!i.suppressClearOnFillReduction)){const n=p?e.columns:e.columns.filter(e=>t.columns.indexOf(e)<0),i=p?Iz(r,d):h;return void(i&&this.clearCellsInRange(i,u,n))}const g=[],m=[],v=[],f=[];let w=!0,C=0;const b=()=>{g.length=0,m.length=0,v.length=0,f.length=0,C=0},y=(t,n)=>{let i=this.isUp?u:c,o=!1;for(p&&(w=!0,b());!o&&i;){const s=Tz(r,i);if(!s)break;p&&t?S(g,t,s,()=>!Rz(i,this.isUp?c:u)):n&&(w=!0,b(),n.forEach(t=>S(g,t,s,()=>t!==(this.isLeft?e.columns[0]:_O(e.columns))))),o=Rz(i,this.isUp?h:d),i=this.isUp?Mz(this.beans,i):Iz(r,i)}},S=(e,t,i,o)=>{let r,s=!1;if(w)r=l.getValue(t,i),m.push(r),v.push(l.getValue(t,i,!0)),f.push(l.formatValue(t,i,r)),w=o();else{const{value:o,fromUserFunction:a,sourceCol:u,sourceRowNode:c}=this.processValues({event:n,values:e,initialValues:m,initialNonAggregatedValues:v,initialFormattedValues:f,col:t,rowNode:i,idx:C++});if(r=o,t.isCellEditable(i)){const e=l.getValue(t,i);if(!a){if(u){const e=u.getColDef();if(!1!==e.useValueFormatterForExport&&e.valueFormatter){const e=l.formatValue(u,c,r);null!=e&&(r=e)}}!1!==t.getColDef().useValueParserForImport&&(r=l.parseValue(t,i,u?r:qI(r),e))}a&&e===r?s=!0:i.setDataValue(t,r,"rangeSvc")}}s||e.push({value:r,column:t,rowNode:i})};if(p)e.columns.forEach(e=>{y(e)});else{const e=this.isLeft?[...t.columns].reverse():t.columns;y(void 0,e)}null===(o=this.beans.editSvc)||void 0===o||o.stopEditing(void 0,{source:"fillHandle"})}clearCellsInRange(e,t,n){const i={startRow:e,endRow:t,columns:n,startColumn:n[0]};this.beans.rangeSvc.clearCellRangeCellValues({cellRanges:[i]})}processValues(e){var t;const{event:n,values:i,initialValues:o,initialNonAggregatedValues:r,initialFormattedValues:s,col:a,rowNode:l,idx:u}=e,c=null===(t=UB(this.gos))||void 0===t?void 0:t.setFillValue;let d;if(d="y"===this.dragAxis?this.isUp?"up":"down":this.isLeft?"left":"right",c){const e=c(iO(this.gos,{event:n,values:i.map(e=>{let{value:t}=e;return t}),initialValues:o,initialNonAggregatedValues:r,initialFormattedValues:s,currentIndex:u,currentCellValue:this.beans.valueSvc.getValue(a,l),direction:d,column:a,rowNode:l}));if(!1!==e)return{value:e,fromUserFunction:!0}}const h=!i.some(e=>{let{value:t}=e;const n=parseFloat(t);return isNaN(n)||n.toString()!==t.toString()});if(n.altKey||!h){if(h&&1===o.length){const e=this.isUp||this.isLeft?-1:1;return{value:parseFloat(_O(i).value)+1*e,fromUserFunction:!1}}const{value:e,column:t,rowNode:n}=i[u%i.length];return{value:e,fromUserFunction:!1,sourceCol:t,sourceRowNode:n}}return{value:_O(E7(i.map(e=>{let{value:t}=e;return Number(t)}))),fromUserFunction:!1}}clearValues(){this.clearMarkedPath(),this.clearCellValues(),this.lastCellMarked=void 0,super.clearValues()}clearMarkedPath(){this.markedCells.forEach(e=>{if(!e.isAlive())return;const{comp:t}=e;t.toggleCss("ag-selection-fill-top",!1),t.toggleCss("ag-selection-fill-right",!1),t.toggleCss("ag-selection-fill-bottom",!1),t.toggleCss("ag-selection-fill-left",!1)}),this.markedCells.length=0,this.isUp=!1,this.isLeft=!1,this.isReduce=!1}clearCellValues(){this.cellValues.length=0}markPathFrom(e,t){if(this.clearMarkedPath(),this.clearCellValues(),"y"===this.dragAxis){if(Rz(t,e))return;const n=Az(t,e),{rangeStartRow:i,rangeEndRow:o}=this;n&&(t.rowPinned==i.rowPinned&&t.rowIndex>=i.rowIndex||i.rowPinned!=o.rowPinned&&t.rowPinned==o.rowPinned&&t.rowIndex<=o.rowIndex)?(this.reduceVertical(e,t),this.isReduce=!0):(this.extendVertical(e,t,n),this.isReduce=!1)}else{const n=e.column,i=t.column;if(n===i)return;const o=this.beans.visibleCols.allCols,r=o.indexOf(n),s=o.indexOf(i);s<=r&&s>=o.indexOf(this.cellRange.columns[0])?(this.reduceHorizontal(e,t),this.isReduce=!0):(this.extendHorizontal(e,t,s<r),this.isReduce=!1)}this.lastCellMarked=t}extendVertical(e,t,n){const i=this.beans,{rangeSvc:o}=i;let r=e;do{const s=this.cellRange,a=s.columns.length;for(let l=0;l<a;l++){const u=s.columns[l],c=d(d({},{rowIndex:r.rowIndex,rowPinned:r.rowPinned}),{},{column:u}),h=o.isCellInSpecificRange(c,s),p=Rz(r,e);if(n&&(this.isUp=!0),!p){const e=_z(i,c);if(e){this.markedCells.push(e);const i=e.comp;h||(i.toggleCss("ag-selection-fill-left",0===l),i.toggleCss("ag-selection-fill-right",l===a-1)),i.toggleCss(n?"ag-selection-fill-top":"ag-selection-fill-bottom",Rz(r,t))}}}if(Rz(r,t))break}while(r=n?Mz(this.beans,r):Iz(i,r))}reduceVertical(e,t){let n=e;const i=this.beans;do{const e=this.cellRange,o=e.columns.length,r=Rz(n,t);for(let s=0;s<o;s++){const o=_z(i,d(d({},{rowIndex:n.rowIndex,rowPinned:n.rowPinned}),{},{column:e.columns[s]}));o&&(this.markedCells.push(o),o.comp.toggleCss("ag-selection-fill-bottom",Rz(n,t)))}if(r)break}while(n=Mz(i,n))}extendHorizontal(e,t,n){const i=this.beans,{visibleCols:o}=i,r=o.allCols,s=r.indexOf(n?t.column:e.column),a=r.indexOf(n?this.cellRange.columns[0]:t.column),l=n?0:1,u=r.slice(s+l,a+l),{rangeStartRow:c,rangeEndRow:d}=this;u.forEach(e=>{let t=c,o=!1;do{o=Rz(t,d);const r=_z(i,{rowIndex:t.rowIndex,rowPinned:t.rowPinned,column:e});if(r){this.markedCells.push(r);const i=r.comp;i.toggleCss("ag-selection-fill-top",Rz(t,c)),i.toggleCss("ag-selection-fill-bottom",Rz(t,d)),n?(this.isLeft=!0,i.toggleCss("ag-selection-fill-left",e===u[0])):i.toggleCss("ag-selection-fill-right",e===_O(u))}t=Iz(i,t)}while(!o)})}reduceHorizontal(e,t){const n=this.beans,{visibleCols:i}=n,o=i.allCols,r=o.indexOf(t.column),s=o.indexOf(e.column),a=o.slice(r,s),{rangeStartRow:l,rangeEndRow:u}=this;a.forEach(e=>{let t=l,i=!1;do{i=Rz(t,u);const o=_z(this.beans,{rowIndex:t.rowIndex,rowPinned:t.rowPinned,column:e});o&&(this.markedCells.push(o),o.comp.toggleCss("ag-selection-fill-right",e===a[0])),t=Iz(n,t)}while(!i)})}refresh(e){const t=this.beans.rangeSvc.getCellRanges()[0];t.startRow&&t.endRow?super.refresh(e):this.destroy()}},rangeHandle:class extends D7{constructor(){super({tag:"div",cls:"ag-range-handle"}),this.type=1,this.rangeFixed=!1}onDrag(e){const t=this.getLastCellHovered();if(!t)return;const n=this.beans.rangeSvc,i=n.getCellRanges(),o=_O(i);if(this.rangeFixed||(this.fixRangeStartEnd(o),this.rangeFixed=!0),this.endPosition={rowIndex:t.rowIndex,rowPinned:t.rowPinned,column:t.column},2===i.length&&i[0].type===dU.DIMENSION&&o.type===dU.VALUE){!Rz(this.endPosition,n.getRangeEndRow(o))&&n.updateRangeEnd(i[0],d(d({},this.endPosition),{},{column:i[0].columns[0]}),!0)}n.extendLatestRangeToCell(this.endPosition)}shouldSkipCell(e){return!1}onDragEnd(e){const t=_O(this.beans.rangeSvc.getCellRanges());this.fixRangeStartEnd(t),this.rangeFixed=!1}onDragCancel(){this.rangeFixed=!1}fixRangeStartEnd(e){const t=this.beans.rangeSvc,n=t.getRangeStartRow(e),i=t.getRangeEndRow(e),o=e.columns[0];e.startRow=n,e.endRow=i,e.startColumn=o}}},apiFunctions:{getCellRanges:function(e){var t,n;return null!==(t=null===(n=e.rangeSvc)||void 0===n?void 0:n.getCellRanges())&&void 0!==t?t:null},addCellRange:function(e,t){var n;null===(n=e.rangeSvc)||void 0===n||n.addCellRange(t)},clearRangeSelection:k7,clearCellSelection:k7},dependsOn:[i5,OY,QU],css:[".ag-body-viewport:not(.ag-has-focus) .ag-cell-range-single-cell:not(.ag-cell-inline-editing),.ag-cell-range-selected.ag-cell-range-chart,.ag-cell-range-selected:not(.ag-cell-focus){background-color:var(--ag-range-selection-background-color);&.ag-cell-range-chart{background-color:var(--ag-range-selection-chart-background-color)!important;&.ag-cell-range-chart-category{background-color:var(--ag-range-selection-chart-category-background-color)!important}}}.ag-cell-range-selected-1.ag-cell-range-chart,.ag-cell-range-selected-1:not(.ag-cell-focus),.ag-root:not(.ag-context-menu-open) .ag-body-viewport:not(.ag-has-focus) .ag-cell-range-selected-1:not(.ag-cell-inline-editing){background-color:var(--ag-range-selection-background-color)}.ag-cell-range-selected-2.ag-cell-range-chart,.ag-cell-range-selected-2:not(.ag-cell-focus){background-image:linear-gradient(var(--ag-range-selection-background-color),var(--ag-range-selection-background-color))}.ag-cell-range-selected-3.ag-cell-range-chart,.ag-cell-range-selected-3:not(.ag-cell-focus){background-image:linear-gradient(var(--ag-range-selection-background-color),var(--ag-range-selection-background-color)),linear-gradient(var(--ag-range-selection-background-color),var(--ag-range-selection-background-color))}.ag-cell-range-selected-4.ag-cell-range-chart,.ag-cell-range-selected-4:not(.ag-cell-focus){background-image:linear-gradient(var(--ag-range-selection-background-color),var(--ag-range-selection-background-color)),linear-gradient(var(--ag-range-selection-background-color),var(--ag-range-selection-background-color)),linear-gradient(var(--ag-range-selection-background-color),var(--ag-range-selection-background-color))}.ag-cell.ag-cell-range-selected:not(.ag-cell-range-single-cell){&.ag-cell-range-top{border-top-color:var(--ag-range-selection-border-color);border-top-style:var(--ag-range-selection-border-style)}&.ag-cell-range-right{border-right-color:var(--ag-range-selection-border-color);border-right-style:var(--ag-range-selection-border-style)}&.ag-cell-range-bottom{border-bottom-color:var(--ag-range-selection-border-color);border-bottom-style:var(--ag-range-selection-border-style)}&.ag-cell-range-left{border-left-color:var(--ag-range-selection-border-color);border-left-style:var(--ag-range-selection-border-style)}}.ag-cell.ag-selection-fill-top,.ag-cell.ag-selection-fill-top.ag-cell-range-selected{border-top:1px dashed;border-top-color:var(--ag-range-selection-border-color)}:where(.ag-ltr) .ag-cell.ag-selection-fill-right,:where(.ag-ltr) .ag-cell.ag-selection-fill-right.ag-cell-range-selected{border-right:1px dashed var(--ag-range-selection-border-color)!important}:where(.ag-rtl) .ag-cell.ag-selection-fill-right,:where(.ag-rtl) .ag-cell.ag-selection-fill-right.ag-cell-range-selected{border-left:1px dashed var(--ag-range-selection-border-color)!important}.ag-cell.ag-selection-fill-bottom,.ag-cell.ag-selection-fill-bottom.ag-cell-range-selected{border-bottom:1px dashed;border-bottom-color:var(--ag-range-selection-border-color)}:where(.ag-ltr) .ag-cell.ag-selection-fill-left,:where(.ag-ltr) .ag-cell.ag-selection-fill-left.ag-cell-range-selected{border-left:1px dashed var(--ag-range-selection-border-color)!important}:where(.ag-rtl) .ag-cell.ag-selection-fill-left,:where(.ag-rtl) .ag-cell.ag-selection-fill-left.ag-cell-range-selected{border-right:1px dashed var(--ag-range-selection-border-color)!important}.ag-fill-handle,.ag-range-handle{background-color:var(--ag-range-selection-border-color);bottom:-1px;height:6px;position:absolute;width:6px}:where(.ag-ltr) .ag-fill-handle,:where(.ag-ltr) .ag-range-handle{right:-1px}:where(.ag-rtl) .ag-fill-handle,:where(.ag-rtl) .ag-range-handle{left:-1px}.ag-fill-handle{cursor:crosshair}:where(.ag-ltr) .ag-range-handle{cursor:nwse-resize}:where(.ag-rtl) .ag-range-handle{cursor:nesw-resize}"]},I7={tag:"div",cls:"ag-loading",children:[{tag:"span",ref:"eLoadingIcon",cls:"ag-loading-icon"},{tag:"span",ref:"eLoadingText",cls:"ag-loading-text"}]},L7={moduleName:"LoadingCellRenderer",version:n5,userComponents:{agLoadingCellRenderer:class extends AG{constructor(){super(I7),this.eLoadingIcon=kG,this.eLoadingText=kG}init(e){e.node.failedLoad?this.setupFailed():this.setupLoading()}setupFailed(){this.eLoadingText.textContent=this.getLocaleTextFunc()("loadingError","ERR")}setupLoading(){const e=hW("groupLoading",this.beans,null);e&&this.eLoadingIcon.appendChild(e),this.eLoadingText.textContent=this.getLocaleTextFunc()("loadingOoo","Loading")}refresh(e){return!1}}},icons:{groupLoading:"loading"},dependsOn:[i5]};var N7="PivotRowTotal_",B7=(e,t)=>{let{headerName:n}=e,{headerName:i}=t;return n&&!i?1:!n&&i?-1:n||i?n<i?-1:n>i?1:0:0},O7="Exceeded maximum allowed pivot column count.",G7=e=>{const t={};return e.forEach((e,n)=>t[n]=e instanceof Map?G7(e):e),t},z7={moduleName:"SharedPivot",version:n5,beans:[class extends vO{constructor(){super(...arguments),this.beanName="pivotResultCols"}wireBeans(e){this.colModel=e.colModel,this.visibleCols=e.visibleCols}destroy(){var e;jO(this.beans,null===(e=this.pivotResultCols)||void 0===e?void 0:e.tree),super.destroy()}isPivotResultColsPresent(){return null!=this.pivotResultCols}lookupPivotResultCol(e,t){if(null==this.pivotResultCols)return null;const n=this.colModel.getColDefCol(t);let i=null;return this.pivotResultCols.list.forEach(t=>{const o=t.getColDef().pivotKeys,r=t.getColDef().pivotValueColumn;MO(o,e)&&r===n&&(i=t)}),i}getPivotResultCols(){return this.pivotResultCols}getPivotResultCol(e){return this.pivotResultCols?this.colModel.getColFromCollection(e,this.pivotResultCols):null}setPivotResultCols(e,t){if(this.colModel.ready&&(null!=e||null!=this.pivotResultCols)){if(e){var n,i;this.processPivotResultColDef(e);const o=("api"===t?eG:JO)(this.beans,e,!1,(null===(n=this.pivotResultCols)||void 0===n?void 0:n.tree)||this.previousPivotResultCols||void 0,t);jO(this.beans,null===(i=this.pivotResultCols)||void 0===i?void 0:i.tree,o.columnTree);const r=o.columnTree,s=o.treeDepth,a=VO(r),l={};this.pivotResultCols={tree:r,treeDepth:s,list:a,map:l},this.pivotResultCols.list.forEach(e=>this.pivotResultCols.map[e.getId()]=e);const u=!!this.previousPivotResultCols;this.previousPivotResultCols=null,this.colModel.refreshCols(!u)}else this.previousPivotResultCols=this.pivotResultCols?this.pivotResultCols.tree:null,this.pivotResultCols=null,this.colModel.refreshCols(!1);this.visibleCols.refresh(t)}}processPivotResultColDef(e){const t=this.gos.get("processPivotResultColDef"),n=this.gos.get("processPivotResultColGroupDef");if(!t&&!n)return;const i=e=>{e.forEach(e=>{if(UI(e.children)){const t=e;n&&n(t),i(t.children)}else{t&&t(e)}})};e&&i(e)}},class extends vO{constructor(){super(...arguments),this.beanName="pivotColDefSvc"}wireBeans(e){this.colModel=e.colModel,this.pivotColsSvc=e.pivotColsSvc,this.valueColsSvc=e.valueColsSvc,this.colNames=e.colNames}postConstruct(){const e=()=>{var e;return null!==(e=this.gos.get("serverSidePivotResultFieldSeparator"))&&void 0!==e?e:"_"};this.fieldSeparator=e(),this.addManagedPropertyListener("serverSidePivotResultFieldSeparator",()=>{this.fieldSeparator=e()});const t=()=>this.gos.get("pivotDefaultExpanded");this.pivotDefaultExpanded=t(),this.addManagedPropertyListener("pivotDefaultExpanded",()=>{this.pivotDefaultExpanded=t()})}createPivotColumnDefs(e){const t=this.createPivotColumnsFromUniqueValues(e);const n=function e(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return t.forEach(t=>{void 0!==t.children?e(t.children,n):n.push(t)}),n}(t);return this.addRowGroupTotals(t,n),this.addExpandablePivotGroups(t,n),this.addPivotTotalsToGroups(t,n),t}createPivotColumnsFromUniqueValues(e){var t,n;const i=null!==(t=null===(n=this.pivotColsSvc)||void 0===n?void 0:n.columns)&&void 0!==t?t:[],o=i.length;return this.recursivelyBuildGroup(0,e,[],o,i)}recursivelyBuildGroup(e,t,n,i,o){var r;if(e>=i)return this.buildMeasureCols(n);const{pivotComparator:s}=o[e].getColDef(),a=s?(e=>(t,n)=>e(t.headerName,n.headerName))(s):B7,l=null===(r=this.valueColsSvc)||void 0===r?void 0:r.columns;if(1===(null===l||void 0===l?void 0:l.length)&&this.gos.get("removePivotHeaderRowWhenSingleValueColumn")&&e===i-1){const e=[];for(const i of t.keys()){const t=[...n,i],o=this.createColDef(l[0],i,t);o.columnGroupShow="open",e.push(o)}return e.sort(a),e}const u=[];for(const c of t.keys()){const r=-1===this.pivotDefaultExpanded||e<this.pivotDefaultExpanded,s=[...n,c];u.push({children:this.recursivelyBuildGroup(e+1,t.get(c),s,i,o),headerName:c,pivotKeys:s,columnGroupShow:"open",openByDefault:r,groupId:this.generateColumnGroupId(s)})}return u.sort(a),u}buildMeasureCols(e){var t,n;const i=null!==(t=null===(n=this.valueColsSvc)||void 0===n?void 0:n.columns)&&void 0!==t?t:[];return 0===i.length?[this.createColDef(null,"-",e)]:i.map(t=>{const n=this.colNames.getDisplayNameForColumn(t,"header"),i=this.createColDef(t,n,e);return i.columnGroupShow="open",i})}addExpandablePivotGroups(e,t){const n=this.gos.get("suppressExpandablePivotGroups");if(n||this.gos.get("pivotColumnGroupTotals"))return;const i=(e,t,o)=>{if("children"in e){const{valueColsSvc:r}=this,{columns:s=[]}=null!==r&&void 0!==r?r:{},a=new Map;e.children.forEach(e=>{i(e,t,a)});const l=!e.children.some(e=>e.children),u=l&&1===s.length&&this.gos.get("removePivotHeaderRowWhenSingleValueColumn");return s.forEach(i=>{const o=this.colNames.getDisplayNameForColumn(i,"header"),r=this.createColDef(i,o,e.pivotKeys);if(r.pivotTotalColumnIds=a.get(i.getColId()),r.columnGroupShow=n?"open":"closed",r.aggFunc=i.getAggFunc(),!l||u){e.children.push(r),t.push(r)}}),void this.merge(o,a)}if(!e.pivotValueColumn)return;const r=e.pivotValueColumn.getColId();if(o.has(r)){o.get(r).push(e.colId)}else o.set(r,[e.colId])};e.forEach(e=>{i(e,t,new Map)})}addPivotTotalsToGroups(e,t){var n;if(!this.gos.get("pivotColumnGroupTotals"))return;const i="after"===this.gos.get("pivotColumnGroupTotals"),o=null===(n=this.valueColsSvc)||void 0===n?void 0:n.columns,r=null===o||void 0===o?void 0:o.map(e=>e.getAggFunc());if(r&&!(r.length<1)&&this.sameAggFuncs(r)&&o){const n=o[0];e.forEach(e=>{this.recursivelyAddPivotTotal(e,t,n,i)})}}recursivelyAddPivotTotal(e,t,n,i){const o=e;if(!o.children){const t=e;return t.colId?[t.colId]:null}let r=[];if(o.children.forEach(e=>{const o=this.recursivelyAddPivotTotal(e,t,n,i);o&&(r=r.concat(o))}),o.children.length>1){const o=this.getLocaleTextFunc()("pivotColumnGroupTotals","Total"),s=this.createColDef(n,o,e.pivotKeys,!0);s.pivotTotalColumnIds=r,s.aggFunc=n.getAggFunc(),s.columnGroupShow=this.gos.get("suppressExpandablePivotGroups")?"open":void 0;const a=e.children;i?a.push(s):a.unshift(s),t.push(s)}return r}addRowGroupTotals(e,t){var n,i;if(!this.gos.get("pivotRowTotals"))return;const o="after"===this.gos.get("pivotRowTotals"),r=(null!==(n=null===(i=this.valueColsSvc)||void 0===i?void 0:i.columns)&&void 0!==n?n:[]).slice();o||r.reverse();const s=r.length>1||!this.gos.get("removePivotHeaderRowWhenSingleValueColumn");for(let a=0;a<r.length;a++){const n=r[a],i=this.colNames.getDisplayNameForColumn(n,"header"),l=this.createColDef(n,i,[]),u=[];for(let e=0;e<t.length;e++){const i=t[e];i.pivotValueColumn===n&&u.push(i.colId)}l.pivotTotalColumnIds=u,l.colId=N7+l.colId;const c=s?{children:[l],pivotKeys:[],groupId:"".concat(N7,"_pivotGroup_").concat(n.getColId())}:l;t.push(l),o?e.push(c):e.unshift(c)}}recreateColDef(e){var t;const{pivotValueColumn:n,headerName:i,pivotKeys:o,pivotTotalColumnIds:r,columnGroupShow:s,colId:a,valueGetter:l,aggFunc:u}=e;if(!n)return e;const c=this.createColDef(n,i,o,!!r);return c.columnGroupShow=s,c.colId=a,c.valueGetter=l,c.aggFunc=u,c.pivotTotalColumnIds=r,null===(t=this.gos.get("processPivotResultColDef"))||void 0===t||t(c),c}createColDef(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const o={};if(e){const t=e.getColDef();Object.assign(o,t),o.hide=!1}return o.headerName=t,o.colId=this.generateColumnId(n||[],e&&!i?e.getColId():""),o.field=o.colId,o.valueGetter=e=>{var t;return null===(t=e.data)||void 0===t?void 0:t[e.colDef.field]},o.pivotKeys=n,o.pivotValueColumn=e,!0===o.filter&&(o.filter="agNumberColumnFilter"),o}sameAggFuncs(e){if(1==e.length)return!0;for(let t=1;t<e.length;t++)if(e[t]!==e[0])return!1;return!0}merge(e,t){t.forEach((t,n)=>{const i=[...e.has(n)?e.get(n):[],...t];e.set(n,i)})}generateColumnGroupId(e){var t,n;const i=(null!==(t=null===(n=this.pivotColsSvc)||void 0===n?void 0:n.columns)&&void 0!==t?t:[]).map(e=>e.getColId());return"pivotGroup_".concat(i.join("-"),"_").concat(e.join("-"))}generateColumnId(e,t){var n,i;const o=(null!==(n=null===(i=this.pivotColsSvc)||void 0===i?void 0:i.columns)&&void 0!==n?n:[]).map(e=>e.getColId());return"pivot_".concat(o.join("-"),"_").concat(e.join("-"),"_").concat(t)}createColDefsFromFields(e){const t=new Map;for(let o=0;o<e.length;o++){const n=e[o].split(this.fieldSeparator);let i=t;for(let e=0;e<n.length;e++){const t=n[e];let o=i.get(t);o||(o=new Map,i.set(t,o)),i=o}}const n=(e,t,i,o)=>{const r=[];for(const[a,l]of i){const t=n("".concat(e).concat(this.fieldSeparator).concat(a),a,l,o+1);r.push(t)}if(0===r.length){const n=this.colModel.getColDefCol(t);if(n){var s;const i=null!==(s=this.colNames.getDisplayNameForColumn(n,"header"))&&void 0!==s?s:t,o=this.createColDef(n,i,void 0,!1);return o.colId=e,o.aggFunc=n.getAggFunc(),o.valueGetter=t=>{var n;return null===(n=t.data)||void 0===n?void 0:n[e]},o}return{colId:e,headerName:t,valueGetter:t=>{var n;return null===(n=t.data)||void 0===n?void 0:n[e]}}}if(this.gos.get("removePivotHeaderRowWhenSingleValueColumn")&&1===r.length&&"colId"in r[0])return r[0].headerName=t,r[0];return{openByDefault:-1===this.pivotDefaultExpanded||o<this.pivotDefaultExpanded,groupId:e,headerName:t,children:r}},i=[];for(const[o,r]of t){const e=n(o,o,r,0);i.push(e)}return i}},c8],apiFunctions:{isPivotMode:function(e){return e.colModel.isPivotMode()},getPivotResultColumn:function(e,t,n){var i,o;return null!==(i=null===(o=e.pivotResultCols)||void 0===o?void 0:o.lookupPivotResultCol(t,n))&&void 0!==i?i:null},setValueColumns:function(e,t){var n;null===(n=e.valueColsSvc)||void 0===n||n.setColumns(t,"api")},getValueColumns:function(e){var t,n;return null!==(t=null===(n=e.valueColsSvc)||void 0===n?void 0:n.columns)&&void 0!==t?t:[]},removeValueColumns:function(e,t){var n;null===(n=e.valueColsSvc)||void 0===n||n.removeColumns(t,"api")},addValueColumns:function(e,t){var n;null===(n=e.valueColsSvc)||void 0===n||n.addColumns(t,"api")},setPivotColumns:function(e,t){var n;null===(n=e.pivotColsSvc)||void 0===n||n.setColumns(t,"api")},removePivotColumns:function(e,t){var n;null===(n=e.pivotColsSvc)||void 0===n||n.removeColumns(t,"api")},addPivotColumns:function(e,t){var n;null===(n=e.pivotColsSvc)||void 0===n||n.addColumns(t,"api")},getPivotColumns:function(e){var t,n;return null!==(t=null===(n=e.pivotColsSvc)||void 0===n?void 0:n.columns)&&void 0!==t?t:[]},setPivotResultColumns:function(e,t){var n;null===(n=e.pivotResultCols)||void 0===n||n.setPivotResultCols(t,"api")},getPivotResultColumns:function(e){var t;const n=null===(t=e.pivotResultCols)||void 0===t?void 0:t.getPivotResultCols();return n?n.list:null}},dependsOn:[N8,bK]},V7={moduleName:"Pivot",version:n5,rowModels:["clientSide"],beans:[class extends vO{constructor(){super(...arguments),this.beanName="pivotStage",this.refreshProps=new Set(["removePivotHeaderRowWhenSingleValueColumn","pivotRowTotals","pivotColumnGroupTotals","suppressExpandablePivotGroups"]),this.step="pivot",this.uniqueValues=new Map,this.lastTimeFailed=!1,this.maxUniqueValues=-1,this.currentUniqueCount=0}wireBeans(e){this.valueSvc=e.valueSvc,this.colModel=e.colModel,this.pivotResultCols=e.pivotResultCols,this.rowGroupColsSvc=e.rowGroupColsSvc,this.valueColsSvc=e.valueColsSvc,this.pivotColsSvc=e.pivotColsSvc,this.pivotColDefSvc=e.pivotColDefSvc}execute(e){const t=e.changedPath;this.colModel.isPivotActive()?this.executePivotOn(t):this.executePivotOff(t)}executePivotOff(e){this.aggregationColumnsHashLastTime=null,this.uniqueValues=new Map,this.pivotResultCols.isPivotResultColsPresent()&&(this.pivotResultCols.setPivotResultCols(null,"rowModelUpdated"),e&&(e.active=!1))}executePivotOn(e){var t,n,i,o,r,s;const a=null!==(t=null===(n=this.valueColsSvc)||void 0===n?void 0:n.columns.length)&&void 0!==t?t:1,l=this.gos.get("pivotMaxGeneratedColumns");let u;this.maxUniqueValues=-1===l?-1:l/a;try{u=this.bucketUpRowNodes(e)}catch(nce){if(nce.message===O7)return this.pivotResultCols.setPivotResultCols([],"rowModelUpdated"),this.eventSvc.dispatchEvent({type:"pivotMaxColumnsExceeded",message:nce.message}),void(this.lastTimeFailed=!0);throw nce}const c=this.setUniqueValues(u),d=null!==(i=null===(o=this.valueColsSvc)||void 0===o?void 0:o.columns)&&void 0!==i?i:[],h=d.map(e=>"".concat(e.getId(),"-").concat(e.getColDef().headerName)).join("#"),p=d.map(e=>e.getAggFunc().toString()).join("#"),g=this.aggregationColumnsHashLastTime!==h,m=this.aggregationFuncsHashLastTime!==p;this.aggregationColumnsHashLastTime=h,this.aggregationFuncsHashLastTime=p;const v=(null!==(r=null===(s=this.rowGroupColsSvc)||void 0===s?void 0:s.columns)&&void 0!==r?r:[]).map(e=>e.getId()).join("#"),f=v!==this.groupColumnsHashLastTime;this.groupColumnsHashLastTime=v;const w=this.gos.get("pivotRowTotals"),C=this.gos.get("pivotColumnGroupTotals"),b=this.gos.get("suppressExpandablePivotGroups"),y=this.gos.get("removePivotHeaderRowWhenSingleValueColumn"),S=w!==this.pivotRowTotalsLastTime||C!==this.pivotColumnGroupTotalsLastTime||b!==this.suppressExpandablePivotGroupsLastTime||y!==this.removePivotHeaderRowWhenSingleValueColumnLastTime;if(this.pivotRowTotalsLastTime=w,this.pivotColumnGroupTotalsLastTime=C,this.suppressExpandablePivotGroupsLastTime=b,this.removePivotHeaderRowWhenSingleValueColumnLastTime=y,this.lastTimeFailed||c||g||f||m||S){const t=this.pivotColDefSvc.createPivotColumnDefs(this.uniqueValues);this.pivotResultCols.setPivotResultCols(t,"rowModelUpdated"),e&&(e.active=!1)}this.lastTimeFailed=!1}setUniqueValues(e){return!!(JSON.stringify(G7(this.uniqueValues))!==JSON.stringify(G7(e)))&&(this.uniqueValues=e,!0)}bucketUpRowNodes(e){this.currentUniqueCount=0;const t=new Map;e.forEachChangedNodeDepthFirst(e=>{e.leafGroup&&(e.childrenMapped=null)});const n=e=>{var i;e.leafGroup?this.bucketRowNode(e,t):null===(i=e.childrenAfterFilter)||void 0===i||i.forEach(n)};return e.executeFromRootNode(n),t}bucketRowNode(e,t){var n;const i=null===(n=this.pivotColsSvc)||void 0===n?void 0:n.columns;0===(null===i||void 0===i?void 0:i.length)?e.childrenMapped=null:e.childrenMapped=G7(this.bucketChildren(e.childrenAfterFilter,i,0,t)),e.sibling&&(e.sibling.childrenMapped=e.childrenMapped)}bucketChildren(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0;const o=new Map,r=t[n];if(e.forEach(e=>{let t=this.valueSvc.getKeyForNode(r,e);if(KI(t)&&(t=""),!i.get(t)){this.currentUniqueCount+=1,i.set(t,new Map);const e=-1!==this.maxUniqueValues,n=this.currentUniqueCount>this.maxUniqueValues;if(e&&n)throw Error(O7)}o.has(t)||o.set(t,[]),o.get(t).push(e)}),n===t.length-1)return o;const s=new Map;for(const a of o.keys())s.set(a,this.bucketChildren(o.get(a),t,n+1,i.get(a)));return s}}],dependsOn:[z7,B8,F8]},H7=e=>{const t=(e=>{if("string"!==typeof e||!e.length)return[];const t=e.split(".");return t.includes("__proto__")?[]:t})(e);let n=null;const i=t.length-1;return n=0===i?t=>null===t||void 0===t?void 0:t[e]:i>0?e=>{let n=e;for(let o=0;o<=i&&null!==n&&void 0!==n;++o)if(n=n[t[o]],o<i&&"object"!==typeof n&&void 0!==n)return null;return n}:()=>{},n.path=e,n},j7=2147483648,W7=1073741824,U7=536870912,K7=268435456,q7=268435455,Y7=String.fromCharCode(31,4096+61440*Math.random(),4096+61440*Math.random(),8291),Z7=(e,t)=>e.sourceRowIndex-t.sourceRowIndex,$7={moduleName:"SharedTreeData",version:n5,dependsOn:[i5,l8,E8,k8]},X7={moduleName:"TreeData",version:n5,beans:[class extends LW{constructor(){super(...arguments),this.beanName="csrmChildrenTreeNodeSvc",this.childrenGetter=null}destroy(){super.destroy(),this.childrenGetter=null}extractRowData(){var e;return null===(e=this.rootNode)||void 0===e||null===(e=e.childrenAfterGroup)||void 0===e?void 0:e.map(e=>{let{data:t}=e;return t})}activate(e){var t;const n=this.childrenGetter,i=null!==(t=this.gos.get("treeDataChildrenField"))&&void 0!==t?t:null;n&&n.path===i||(this.childrenGetter=H7(i)),super.activate(e)}deactivate(){this.childrenGetter=null,super.deactivate()}updateRowData(e,t){return iB(268),{changedRowNodes:t,rowNodeTransaction:{add:[],remove:[],update:[]},rowsInserted:!1}}loadNewRowData(e){const t=this.rootNode,n=this.childrenGetter,i=new Map,o=[];t.allLeafChildren=o;const r=(e,t)=>{let s=i.get(t);if(void 0!==s)return void oB(2,{nodeId:s.id});s=this.createRowNode(t,o.length),s.treeParent=e,i.set(t,s),o.push(s);const a=null===n||void 0===n?void 0:n(t);if(a)for(let n=0,i=a.length;n<i;++n)r(s,a[n])};for(let s=0,a=e.length;s<a;++s)r(t,e[s])}setImmutableRowData(e,t){this.dispatchRowDataUpdateStartedEvent(t);const n=this.gos,i=this.rootNode,o=this.childrenGetter,r=LB(n),s=!n.get("suppressMaintainUnsortedOrder"),a=new Map,l=new WU(!1,i);e.changedPath=l;const u=e.changedRowNodes,c=i.allLeafChildren,d=[],h=[];let p=!1,g=!1;const m=(e,t,n)=>{const i=null===t||void 0===t?void 0:t.length;let o=!0,r=-1;for(let a=0;a<i;++a){const i=v(e,t[a],n);s&&i>=0&&(i<r&&(o=!1),r=i)}o||(p=!0)},v=(e,t,n)=>{let i=a.get(t);if(void 0!==i)return iB(2,{nodeId:i.id}),-1;const l=r({data:t,level:n});if(i=this.getRowNode(l),i){let n=!1;i.data!==t&&(n=!0,i.updateData(t),!i.selectable&&i.isSelected()&&h.push(i)),i.treeParent!==e&&(i.treeParent=e,n=!0),n&&(g=!0,u.update(i))}else i=this.createRowNode(t,-1),i.treeParent=e,g=!0,u.add(i);let c;a.set(t,i),s?(c=i.sourceRowIndex,i.sourceRowIndex=d.push(i)-1):c=-1;const p=null===o||void 0===o?void 0:o(t);return p&&m(i,p,n+1),c};if(m(i,t,0),c){const e=this.beans.pinnedRowModel;for(let t=0,n=c.length;t<n;++t){const n=c[t];if(!a.has(n.data)){n.treeParent=null,n.treeNodeFlags=0;const t=n.pinnedSibling;t&&(null===e||void 0===e||e.pinRow(t,null)),n.clearRowTopAndRowIndex(),this.rowNodeDeleted(n),n.isSelected()&&h.push(n),u.remove(n)}}}if(!s){if(c){const e=u.removals;for(let t=0,n=c.length;t<n;++t){const n=c[t];e.has(n)||(n.sourceRowIndex=d.push(n)-1)}}for(const e of u.adds)e.sourceRowIndex=d.push(e)-1}i.allLeafChildren=d,h.length&&this.deselectNodes(h);const f=i.sibling;f&&(f.allLeafChildren=d),(g||p)&&(e.rowDataUpdated=!0,e.rowNodesOrderChanged||(e.rowNodesOrderChanged=p))}}],dynamicBeans:{treeGroupStrategy:class extends vO{constructor(){super(...arguments),this.groupColsIds="",this.groupColsChanged=!0,this.parentIdGetter=null,this.fillerNodesById=null,this.nodesToUnselect=null}destroy(){super.destroy(),this.groupColsIds="",this.parentIdGetter=null,this.fillerNodesById=null,this.nodesToUnselect=null}reset(){this.destroyFillerRows(),this.deselectHiddenNodes(!1),this.groupColsIds="",this.groupColsChanged=!0,this.parentIdGetter=null}getNode(e){var t;return null===(t=this.fillerNodesById)||void 0===t?void 0:t.get(e)}execute(e,t){const{changedRowNodes:n,changedPath:i,afterColumnsChanged:o}=e;this.checkGroupColsUpdated(o);const r=e.rowNode,s=null!==i&&void 0!==i&&i.active?i:void 0,a=!n&&!s,l=!!n&&this.flagUpdatedNodes(n);(a||l)&&("treeNested"===t?this.loadNested(e,a):"treeSelfRef"===t?this.loadSelfRef(e,a):this.loadDataPath(e,a));const u=this.initRowsParents(r);this.destroyFillerRows(),this.initRowsChildrenSize(r);let c=this.preprocessRows(r);const d=u||0!==(c&j7);c&=2147483647;const h=this.traverseRoot(r,s);return c>0&&c!==h&&(this.handleCycles(r),this.traverseRoot(r,s)),r.treeNodeFlags=0,this.deselectHiddenNodes(u||a),d}flagUpdatedNodes(e){const{adds:t,updates:n,removals:i}=e;let o=i.size>0;if(t.size>0){o=!0;for(const e of t)e.treeNodeFlags|=W7}if(n.size>0){o=!0;for(const e of n)e.treeNodeFlags|=W7}return o}initRowsParents(e){const t=e.allLeafChildren,n=t.length;let i=!1;for(let o=0;o<n;++o){let e=t[o];for(;;){const t=e.parent,n=e.treeParent;if(null===n){t&&(i=!0,this.hideRow(e));break}let o=n.treeNodeFlags+1;if(t!==n&&(i=!0,o|=W7,e.parent=n,t)){const e=t.treeNodeFlags;0===(e&K7)||0!==(o&K7)||null===n.treeParent||n.data||(n.expanded=t.expanded,o|=K7),t.treeNodeFlags=e|W7}if(n.data||0!==(n.treeNodeFlags&U7)||null===n.treeParent){n.treeNodeFlags=o;break}n.treeNodeFlags=o|U7|e.treeNodeFlags&W7,e=n}}return i}destroyFillerRows(){const e=this.fillerNodesById;if(e){for(const t of e.values())null!==t.treeParent&&0!==(t.treeNodeFlags&q7)||(e.delete(t.id),this.hideRow(t));0===e.size&&(this.fillerNodesById=null)}}initRowsChildrenSize(e){this.initRowChildrenSize(e);const t=e.allLeafChildren,n=t.length;for(let o=0;o<n;++o)this.initRowChildrenSize(t[o]);const i=this.fillerNodesById;if(null!==i)for(const o of i.values())this.initRowChildrenSize(o)}initRowChildrenSize(e){var t;let{childrenAfterGroup:n,allLeafChildren:i,treeNodeFlags:o}=e;const r=null===(t=n)||void 0===t?void 0:t.length,s=o&q7;if(e.treeNodeFlags=-268435456&o|((r||0)!==s?j7:0),0===s&&e.level>=0){if(n!==TO){e.childrenAfterGroup=TO;const t=e.sibling;t&&(t.childrenAfterGroup=TO)}}else if(r!==s||n===i)if(n&&n!==TO&&n!==i)n.length=s;else{e.childrenAfterGroup=n=new Array(s);const t=e.sibling;t&&(t.childrenAfterGroup=n)}}preprocessRows(e){const t=e.allLeafChildren,n=t.length,i=this.groupColsChanged;let o=0,r=!1;for(let s=0;s<n;++s){let e=t[s];for(;;){const t=e.treeParent;if(null===t)break;++o;let n=t.treeNodeFlags;const s=t.childrenAfterGroup,a=n&q7;if(n=-268435456&n|a+1,(n&j7||s[a]!==e)&&(n|=j7,s[a]=e,r=!0),t.treeNodeFlags=n,e.groupData&&!i||(e.treeNodeFlags|=W7,this.setGroupData(e,e.key)),t.data||0===(t.treeNodeFlags&U7)||null===t.treeParent)break;t.treeNodeFlags=-536870913&n|e.treeNodeFlags&W7,e=t}}return o|(r?j7:0)}traverseRoot(e,t){let n=0;const i=e.childrenAfterGroup;for(let o=0,r=i.length;o<r;++o)n+=this.traverse(i[o],0,!1,t);return 2147483647&n}traverse(e,t,n,i){const o=e.childrenAfterGroup,r=o.length;let s=e.treeNodeFlags;e.treeNodeFlags=s&K7,e.level=t,e.group!==!!r?(t4(e,this.beans,!!r),s|=W7):e.hasChildren()!==!!r&&(e.updateHasChildren(),s|=W7),0!==(-1073741824&s)&&(null===i||void 0===i||i.addParentNode(e));0!==r||e.master?0===(s&K7)&&(e.treeNodeFlags|=K7,e.expanded=C8(this.beans,e,t)):(e.expanded&&(e.expanded=!1),0!==(s&K7)&&(e.treeNodeFlags&=-268435457)),n&&null!==e.rowIndex&&e.clearRowTopAndRowIndex(),n||(n=!1===e.expanded),++t,s&=j7;let a=0;for(let u=0;u<r;++u){var l;const e=o[u],r=this.traverse(e,t,n,i);s=s+(2147483647&r)|r&j7,a+=((null===(l=e.allLeafChildren)||void 0===l?void 0:l.length)||0)+(e.data?1:0)}return this.updateAllLeafChildren(e,a,0!==(s&j7))?1+(s|j7):1+(2147483647&s)}updateAllLeafChildren(e,t,n){var i;let o=e.allLeafChildren,r=((null===(i=o)||void 0===i?void 0:i.length)||0)!==t;if(0===t){if(null!==o){e.allLeafChildren=null;const t=e.sibling;t&&(t.allLeafChildren=null)}}else if(r||n){if(o)r&&(o.length=t);else{e.allLeafChildren=o=new Array(t);const n=e.sibling;n&&(n.allLeafChildren=o)}const n=e.childrenAfterGroup;for(let e=0,t=0,i=n.length;e<i;++e){const i=n[e];i.data&&((r||(r=o[t]!==i))&&(o[t]=i),++t);const s=i.allLeafChildren;if(s)for(let e=0,n=s.length;e<n;++e,++t){const n=s[e];(r||(r=o[t]!==n))&&(o[t]=n)}}}return r}handleCycles(e){const t=new Set,n=e=>!t.has(e)&&(t.add(e),e.childrenAfterGroup.forEach(n),!0);n(e);const i=e.childrenAfterGroup;i.length=0;for(const r of e.allLeafChildren){const t=r.treeParent;var o;if(t&&n(r))t.treeNodeFlags|=-1073741824,r.parent=e,LO(t.childrenAfterGroup,r),i.push(r),iB(270,{id:r.id,parentId:null!==(o=null===t||void 0===t?void 0:t.id)&&void 0!==o?o:""});else t===e&&i.push(r)}}setGroupData(e,t){var n;const i={},o=null===(n=this.beans.showRowGroupCols)||void 0===n?void 0:n.getShowRowGroupCols();if(e.groupData=i,o)for(const r of o)i[r.getColId()]=t}loadNested(e,t){let{rowNode:n,changedRowNodes:i}=e;if(!t&&i){for(const e of i.adds)e.key=e.id;return}const o=n.allLeafChildren;for(let r=0,s=o.length;r<s;++r){const e=o[r],t=e.id;e.key!==t&&(e.key=t,e.groupData=null)}}loadSelfRef(e,t){var n;let{rowNode:i,changedRowNodes:o}=e;const r=i.allLeafChildren,s=this.gos;if(!s.get("getRowId")){for(let e=0,t=r.length;e<t;++e)r[e].treeParent=null;return}const a=this.beans.rowModel,l=null===o||void 0===o?void 0:o.removals;let u=this.parentIdGetter;const c=s.get("treeDataParentIdField")||null;(null===(n=u)||void 0===n?void 0:n.path)!==c&&(this.parentIdGetter=u=H7(c),t=!0);for(let h=0,p=r.length;h<p;++h){const e=r[h];if(t||e.treeNodeFlags&W7||null!==l&&void 0!==l&&l.has(e.treeParent)){let t;const n=u(e.data);null!==n&&void 0!==n&&(t=a.getRowNode(n),t||iB(271,{id:e.id,parentId:n})),e.treeParent=null!==t&&void 0!==t?t:i;const o=e.id;e.key!==o&&(e.key=o,e.groupData=null)}else{var d;null!==(d=e.treeParent)&&void 0!==d||(e.treeParent=i)}}}loadFlattened(e){const t=e.allLeafChildren;for(let n=0,i=t.length;n<i;++n){const i=t[n];i.treeParent=e;const o=i.id;i.key!==o&&(i.key=o,i.groupData=null)}}loadDataPath(e,t){let{rowNode:n}=e;const i=this.gos.get("getDataPath");if(!i)return void this.loadFlattened(n);const o=new Map,r=new Map;let s;t||(s=this.loadExistingDataPath(n,o,r));const a=n.allLeafChildren;for(let l=0,u=a.length;l<u;++l){const e=a[l];if(!t&&null!==e.treeParent&&0===(e.treeNodeFlags&W7))continue;const n=i(e.data),u=null===n||void 0===n?void 0:n.length;if(!u){iB(185,{data:e.data});continue}const c=n[u-1];e.key!==c&&(e.key=c,e.groupData=null);const d=n.join(Y7);r.set(e,d);const h=o.get(d);void 0===h?o.set(d,e):h!==e&&(s=this.duplicatedPath(o,s,h,e,d))}s&&this.processDuplicatePaths(s,r),this.buildFromPaths(n,o,r)}loadExistingDataPath(e,t,n){let i;const o=e.allLeafChildren;for(let r=0,s=o.length;r<s;++r){const s=o[r],a=s.treeParent;if(null===a||0!==(s.treeNodeFlags&W7))continue;let l=s.key,u=a;for(;u&&u!==e&&u!==s;){l=Y7+l;const e=n.get(u);if(void 0!==e){l=e+l;break}l=u.key+l,u=u.treeParent}if(u!==s){n.set(s,l);const e=t.get(l);void 0===e?t.set(l,s):e!==s&&(i=this.duplicatedPath(t,i,e,s,l))}}return i}duplicatedPath(e,t,n,i,o){i.sourceRowIndex<n.sourceRowIndex&&e.set(o,i);const r=(null!==t&&void 0!==t?t:t=new Map).get(o);return void 0===r?t.set(o,[n,i]):r.push(i),t}buildFromPaths(e,t,n){const i=Y7,o=Y7.length,r=new Array(32),s=e.allLeafChildren;for(let a=0,l=s.length;a<l;++a){const l=s[a],u=n.get(l);if(void 0===u)continue;let c=0,d=0;for(;d<u.length;){const e=u.indexOf(i,d);if(-1===e)break;r[c++]=e,d=e+o}let h=0,p=e;for(let e=c-1;e>=0;--e){const n=t.get(u.slice(0,r[e]));if(n){p=n,h=e+1;break}}for(let e=h;e<c;++e){const n=r[e],i=0===e?0:r[e-1]+o,s=u.slice(0,n);let a=t.get(s);void 0===a?(a=this.getOrCreateFiller(p,u.slice(i,n),e),t.set(s,a)):a.treeParent=p,p=a}l.treeParent=p}}processDuplicatePaths(e,t){for(const n of e.values()){n.sort(Z7);const e=n.length,i=new Array(e-1);for(let r=1;r<e;++r){const e=n[r];t.delete(e),e.treeParent=null,i[r-1]=e.data}const o=n[0];iB(186,{rowId:o.id,rowData:o.data,duplicateRowsData:i})}}getOrCreateFiller(e,t,n){var i;let o=n+"-"+t,r=e;for(;--n>=0;)o=n+"-"+r.key+"-"+o,r=r.treeParent;o=zV+o;const s=null!==(i=this.fillerNodesById)&&void 0!==i?i:this.fillerNodesById=new Map;let a=s.get(o);return void 0===a&&(a=new WV(this.beans),a.id=o,a.key=t,a.group=!0,a.leafGroup=!1,a.rowGroupIndex=null,a.treeParent=e,s.set(o,a)),a}deselectHiddenNodes(e){const t=this.beans.selectionSvc,n=this.nodesToUnselect,i="rowDataChanged";var o;(n&&(this.nodesToUnselect=null,null===t||void 0===t||t.setNodesSelected({newValue:!1,nodes:n,suppressFinishActions:!0,source:i})),n||e)&&(null===t||void 0===t||null===(o=t.updateGroupsFromChildrenSelections)||void 0===o||o.call(t,i));if(n){var r;const e=null!==(r=null===t||void 0===t?void 0:t.getSelectedNodes())&&void 0!==r?r:null;this.eventSvc.dispatchEvent({type:"selectionChanged",source:i,selectedNodes:e,serverSideState:null})}}hideRow(e){var t;e.isSelected()&&(null!==(t=this.nodesToUnselect)&&void 0!==t?t:this.nodesToUnselect=[]).push(e);e.parent=null,e.group=!1,e.groupData=null,e.treeParent=null,e.treeNodeFlags=0,e.allLeafChildren=null,e.childrenAfterGroup=TO;const n=e.sibling;n&&(n.allLeafChildren=null,n.childrenAfterGroup=TO),e.updateHasChildren(),null!==e.rowIndex&&e.clearRowTopAndRowIndex()}checkGroupColsUpdated(e){if(this.groupColsChanged=!1,e||!this.groupColsIds){var t,n;const e=null!==(t=null===(n=this.beans.showRowGroupCols)||void 0===n?void 0:n.getShowRowGroupCols())&&void 0!==t?t:TO;let i="";for(let t=0,n=e.length;t<n;++t)i+=e[t].getId()+Y7;this.groupColsIds!==i&&(this.groupColsIds=i,this.groupColsChanged=!0)}}}},rowModels:["clientSide"],dependsOn:[$7,u8,F8]};var Q7=class extends vO{constructor(e){super(),this.selectionCtx=e,this.selectedState={selectAll:!1,toggledNodes:new Set},this.selectAllUsed=!1,this.selectedNodes={}}getSelectedState(){return{selectAll:this.selectedState.selectAll,toggledNodes:[...this.selectedState.toggledNodes]}}setSelectedState(e){if("object"!==typeof e)return void oB(116);if(!("selectAll"in e))return void oB(116);if("boolean"!==typeof e.selectAll)return void oB(117);if(!("toggledNodes"in e)||!Array.isArray(e.toggledNodes))return iB(197);const t={selectAll:e.selectAll,toggledNodes:new Set};e.toggledNodes.forEach(e=>{"string"===typeof e?t.toggledNodes.add(e):iB(196,{key:e})});const n=t.selectAll||t.toggledNodes.size>1;HB(this.gos)&&!ZB(this.gos)&&n?iB(130):this.selectedState=t}deleteSelectionStateFromParent(e,t){if(0===this.selectedState.toggledNodes.size)return!1;let n=!1;return t.forEach(e=>{this.selectedState.toggledNodes.delete(e)&&(n=!0)}),n}setNodesSelected(e){var t=this;const{nodes:n,clearSelection:i,newValue:o,source:r}=e;if(0===n.length)return 0;const s=i&&o;if(!ZB(this.gos)||s){if(n.length>1)return oB(130),0;const e=n[0],t=e.footer?e.sibling:e;return o&&t.selectable?(this.selectedNodes={[t.id]:t},this.selectedState={selectAll:!1,toggledNodes:new Set([t.id])}):(this.selectedNodes={},this.selectedState={selectAll:!1,toggledNodes:new Set}),1}return n.forEach(e=>function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o;const i=e.footer?e.sibling:e;n&&i.selectable?t.selectedNodes[i.id]=i:delete t.selectedNodes[i.id],n!==t.selectedState.selectAll&&i.selectable?t.selectedState.toggledNodes.add(i.id):t.selectedState.toggledNodes.delete(i.id)}(e)),1===n.length&&"api"===r&&this.selectionCtx.setRoot(n[0].footer?n[0].sibling:n[0]),1}processNewRow(e){this.selectedNodes[e.id]&&(this.selectedNodes[e.id]=e)}isNodeSelected(e){const t=this.selectedState.toggledNodes.has(e.id);return this.selectedState.selectAll?!t:t}getSelectedNodes(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const{selectedState:{selectAll:n},selectedNodes:i,selectAllUsed:o}=this;return t&&o&&iB(199),e&&n?null:Object.values(i)}getSelectedRows(){var e;return(null!==(e=this.getSelectedNodes())&&void 0!==e?e:[]).map(e=>e.data)}getSelectionCount(){return this.selectedState.selectAll?-1:this.selectedState.toggledNodes.size}isEmpty(){var e;return!this.selectedState.selectAll&&!(null!==(e=this.selectedState.toggledNodes)&&void 0!==e&&e.size)}selectAllRowNodes(){this.reset(!0)}deselectAllRowNodes(){this.reset(!1)}reset(e){this.selectedState={selectAll:e,toggledNodes:new Set},this.selectedNodes={},this.selectAllUsed||(this.selectAllUsed=e)}getSelectAllState(){return this.selectedState.selectAll?!(this.selectedState.toggledNodes.size>0)||null:this.selectedState.toggledNodes.size>0&&null}},J7=class extends vO{constructor(e){super(),this.selectionCtx=e,this.selectedState={selectAllChildren:!1,toggledNodes:new Map}}wireBeans(e){this.rowModel=e.rowModel,this.rowGroupColsSvc=e.rowGroupColsSvc,this.filterManager=e.filterManager,this.selectionSvc=e.selectionSvc}postConstruct(){this.addManagedEventListeners({modelUpdated:()=>this.removeRedundantState(),columnRowGroupChanged:()=>this.selectionSvc.reset("rowGroupChanged")})}getSelectedState(){const{gos:e,rowGroupColsSvc:t,selectedState:n}=this,i=e.get("treeData"),o=(e,n,r)=>{const s={nodeId:r};if((i||t&&n<=t.columns.length)&&(s.selectAllChildren=e.selectAllChildren),e.toggledNodes.size){const t=[];e.toggledNodes.forEach((e,i)=>{const r=o(e,n+1,i);t.push(r)}),s.toggledNodes=t}return s};return o(n,0)}setSelectedState(e){if("selectAll"in e)return void oB(111);const t=(e,n)=>{var i,o;if("object"!==typeof e)throw oB(243),new Error;if("selectAllChildren"in e&&"boolean"!==typeof e.selectAllChildren)throw oB(244),new Error;if("toggledNodes"in e){if(!Array.isArray(e.toggledNodes))throw oB(245),new Error;if(!e.toggledNodes.every(e=>"object"===typeof e&&"nodeId"in e&&"string"===typeof e.nodeId))throw oB(246),new Error}const r=null!==(i=e.selectAllChildren)&&void 0!==i?i:!n,s=null===(o=e.toggledNodes)||void 0===o?void 0:o.map(e=>[e.nodeId,t(e,r)]);if(null===s||void 0===s?void 0:s.some(e=>{let[,t]=e;return r===t.selectAllChildren&&0===t.toggledNodes.size}))throw oB(247),new Error;return{selectAllChildren:r,toggledNodes:new Map(s)}};try{this.selectedState=t(e,!!e.selectAllChildren)}catch(nce){}}deleteSelectionStateFromParent(e,t){let n=this.selectedState;const i=[...e];for(;n&&i.length;)n=n.toggledNodes.get(i.pop());if(!n)return!1;let o=!1;return t.forEach(e=>{var t;null!==(t=n)&&void 0!==t&&t.toggledNodes.delete(e)&&(o=!0)}),o&&this.removeRedundantState(),o}setNodesSelected(e){let{nodes:t,newValue:n,clearSelection:i,source:o}=e;if(0===t.length)return 0;const r=i&&n;if(!ZB(this.gos)||r){if(t.length>1)return oB(130),0;this.deselectAllRowNodes()}return t.forEach(e=>{const t=e.footer?e.sibling:e,i=this.getRouteToNode(t);this.recursivelySelectNode(i,this.selectedState,n)}),this.removeRedundantState(),1===t.length&&"api"===o&&this.selectionCtx.setRoot(t[0].footer?t[0].sibling:t[0]),1}isNodeSelected(e){const t=this.getRouteToNode(e);return this.isNodePathSelected(t,this.selectedState)}isNodePathSelected(e,t){let[n,...i]=e;if(0===i.length){const e=t.toggledNodes.has(n.id);if(n.hasChildren()){const e=t.toggledNodes.get(n.id);if(e&&e.toggledNodes.size)return}return t.selectAllChildren?!e:e}if(t.toggledNodes.has(n.id)){const e=t.toggledNodes.get(n.id);if(e)return this.isNodePathSelected(i,e)}return t.selectAllChildren}getRouteToNode(e){const t=[];let n=e;for(;n.parent;)t.push(n),n=n.parent;return t.reverse()}removeRedundantState(){var e,t=this;if(null!==(e=this.filterManager)&&void 0!==e&&e.isAnyFilterPresent())return;const n=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.selectedState,i=arguments.length>1?arguments[1]:void 0,o=arguments.length>2?arguments[2]:void 0;if(e.toggledNodes.forEach((t,i)=>{n(t,i,e)}),i){const n=t.rowModel.getRowNode(i),o=null===n||void 0===n?void 0:n.childStore;if(null===o||void 0===o?void 0:o.isLastRowIndexKnown()){if(e.toggledNodes.size>=o.getRowCount()){for(const n of e.toggledNodes.entries()){const[e,i]=n;if(i.toggledNodes.size>0)return;if(!t.rowModel.getRowNode(e))return}e.selectAllChildren=!e.selectAllChildren,e.toggledNodes.clear()}}}const r=0===e.toggledNodes.size,s=(null===o||void 0===o?void 0:o.selectAllChildren)===e.selectAllChildren;r&&s&&(null===o||void 0===o||o.toggledNodes.delete(i))};n()}recursivelySelectNode(e,t,n){var i;let[o,...r]=e;if(!o)return;if(!r.length){const e=o.selectable;if(t.selectAllChildren===n||!e)return void t.toggledNodes.delete(o.id);const i={selectAllChildren:n,toggledNodes:new Map};return void t.toggledNodes.set(o.id,i)}const s=t.toggledNodes.has(o.id),a=null!==(i=t.toggledNodes.get(o.id))&&void 0!==i?i:{selectAllChildren:t.selectAllChildren,toggledNodes:new Map};s||t.toggledNodes.set(o.id,a),this.recursivelySelectNode(r,a,n),t.selectAllChildren===a.selectAllChildren&&0===a.toggledNodes.size&&t.toggledNodes.delete(o.id)}getSelectedNodes(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(iB(202),this.selectedState.selectAllChildren&&e)return null;const t=[];return this.rowModel.forEachNode(e=>{e.isSelected()&&t.push(e)}),t}processNewRow(){}getSelectedRows(){var e,t;return null!==(e=null===(t=this.getSelectedNodes())||void 0===t?void 0:t.map(e=>e.data))&&void 0!==e?e:[]}getSelectionCount(){return-1}isEmpty(){var e;return!this.selectedState.selectAllChildren&&!(null!==(e=this.selectedState.toggledNodes)&&void 0!==e&&e.size)}selectAllRowNodes(){this.reset(!0)}deselectAllRowNodes(){this.reset(!1)}reset(e){this.selectedState={selectAllChildren:e,toggledNodes:new Map}}getSelectAllState(){return this.selectedState.selectAllChildren?!(this.selectedState.toggledNodes.size>0)||null:this.selectedState.toggledNodes.size>0&&null}};function e9(e){let{selectAll:t}=e;"filtered"!==t&&"currentPage"!==t||iB(195,{justCurrentPage:"currentPage"===t})}var t9=class{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.indexes=t,this.maps=new Map(this.indexes.map(e=>[e,new Map]))}getSize(){return this.maps.get(this.indexes[0]).size}getBy(e,t){return this.maps.get(e).get(t)}set(e){this.indexes.forEach(t=>{this.maps.get(t).set(e[t],e)})}delete(e){this.indexes.forEach(t=>{this.maps.get(t).delete(e[t])})}clear(){this.maps.forEach(e=>e.clear())}getIterator(e){return this.maps.get(e).values()}forEach(e){const t=this.getIterator(this.indexes[0]);let n;for(;(n=t.next())&&!n.done;)e(n.value)}find(e){const t=this.getIterator(this.indexes[0]);let n;for(;(n=t.next())&&!n.done;)if(e(n.value))return n.value}filter(e){const t=this.getIterator(this.indexes[0]);let n;const i=[];for(;(n=t.next())&&!n.done;)e(n.value)&&i.push(n.value);return i}},n9=class extends vO{constructor(e,t,n,i){super(),this.live=!0,this.removedNodeCache=new Map,this.store=e,this.numberOfRows=t,this.isLastRowKnown=n,this.storeParams=i}wireBeans(e){this.rowRenderer=e.rowRenderer,this.blockUtils=e.ssrmBlockUtils,this.focusSvc=e.focusSvc,this.nodeManager=e.ssrmNodeManager,this.serverSideRowModel=e.rowModel,this.rowNodeSorter=e.rowNodeSorter,this.sortSvc=e.sortSvc,this.lazyBlockLoadingSvc=e.lazyBlockLoadingSvc,this.colModel=e.colModel}postConstruct(){this.lazyBlockLoadingSvc.subscribe(this),this.nodeMap=new t9("index","id","node"),this.nodeDisplayIndexMap=new Map,this.nodesToRefresh=new Set,this.defaultNodeIdPrefix=this.blockUtils.createNodeIdPrefix(this.store.getParentNode()),this.getRowIdFunc=LB(this.gos),this.isMasterDetail=this.gos.get("masterDetail")}destroy(){this.lazyBlockLoadingSvc.unsubscribe(this),this.numberOfRows=0,this.nodeMap.forEach(e=>this.blockUtils.destroyRowNode(e.node)),this.nodeMap.clear(),this.nodeDisplayIndexMap.clear(),this.nodesToRefresh.clear(),this.live=!1,super.destroy()}getRowByDisplayIndex(e){var t;if(!this.store.isDisplayIndexInStore(e))return;const n=this.nodeDisplayIndexMap.get(e);if(n)return(n.stub||n.__needsRefreshWhenVisible)&&this.lazyBlockLoadingSvc.queueLoadCheck(),n;if(this.gos.get("groupHideOpenParents")||this.gos.get("groupAllowUnbalanced")){const t=this.nodeMap.find(t=>{var n;return!(null===(n=t.node.childStore)||void 0===n||!n.isDisplayIndexInStore(e))});var i;if(t)return null===(i=t.node.childStore)||void 0===i?void 0:i.getRowUsingDisplayIndex(e)}if(e===this.store.getDisplayIndexStart())return this.createStubNode(0,e);const o=this.nodeDisplayIndexMap.get(e-1);if(o){var r,s;if(this.isMasterDetail&&o.master&&o.expanded)return o.detailNode;if(o.expanded&&null!==(r=o.childStore)&&void 0!==r&&r.isDisplayIndexInStore(e))return null===(s=o.childStore)||void 0===s?void 0:s.getRowUsingDisplayIndex(e);const t=this.nodeMap.getBy("node",o);return this.createStubNode(t.index+1,e)}const a=this.getSurroundingNodesByDisplayIndex(e);if(null==a){const t=this.store.getRowCount()-(this.store.getDisplayIndexEnd()-e);return this.createStubNode(t,e)}const{previousNode:l,nextNode:u}=a;var c;if(l&&l.node.expanded&&null!==(t=l.node.childStore)&&void 0!==t&&t.isDisplayIndexInStore(e))return null===(c=l.node.childStore)||void 0===c?void 0:c.getRowUsingDisplayIndex(e);if(u){const t=u.node.rowIndex-e,n=u.index-t;return this.createStubNode(n,e)}const d=this.store.getRowCount()-(this.store.getDisplayIndexEnd()-e);return this.createStubNode(d,e)}createStubNode(e,t){const n=this.store.getRowBounds(t),i=this.createRowAtIndex(e,null,e=>{e.setRowIndex(t),e.setRowTop(n.rowTop),this.nodeDisplayIndexMap.set(t,e)});if(0===e&&this.gos.get("groupHideOpenParents")){const e=this.store.getParentNode().groupData;if(e)for(const t of Object.keys(e))e4(i,this.colModel,t,e[t])}return this.lazyBlockLoadingSvc.queueLoadCheck(),i}getRowByStoreIndex(e){var t;return null===(t=this.nodeMap.getBy("index",e))||void 0===t?void 0:t.node}skipDisplayIndexes(e,t,n){if(0===e)return;const i=mB(this.beans);t.value+=e,n.value+=e*i}setDisplayIndexes(e,t,n){this.nodeDisplayIndexMap.clear();const i={};this.nodeMap.forEach(e=>{i[e.index]=e.node});let o=-1;for(const s of Object.keys(i)){const r=i[s],a=Number(s),l=a-1-o;this.skipDisplayIndexes(l,e,t);const u=0===a;if(r.setFirstChild(u),u&&this.gos.get("groupHideOpenParents")){const e=this.store.getParentNode().groupData;if(e)for(const t of Object.keys(e))e4(r,this.colModel,t,u?e[t]:void 0)}this.blockUtils.setDisplayIndex(r,e,t,n),null!=r.rowIndex&&this.nodeDisplayIndexMap.set(r.rowIndex,r),o=a}const r=this.numberOfRows-1-o;this.skipDisplayIndexes(r,e,t),this.purgeExcessRows()}getRowCount(){return this.numberOfRows}setRowCount(e,t){this.numberOfRows=e,null!=t&&(this.isLastRowKnown=t,!1===t&&(this.numberOfRows+=1)),this.fireStoreUpdatedEvent()}getNodes(){return this.nodeMap}getNodeCachedByDisplayIndex(e){var t;return null!==(t=this.nodeDisplayIndexMap.get(e))&&void 0!==t?t:null}getNodesToRefresh(){return this.nodesToRefresh}getSurroundingNodesByDisplayIndex(e){let t,n;return this.nodeMap.forEach(i=>{e>i.node.rowIndex?(null==n||n.node.rowIndex<i.node.rowIndex)&&(n=i):(null==t||t.node.rowIndex>i.node.rowIndex)&&(t=i)}),n||t?{previousNode:n,nextNode:t}:null}getDisplayIndexFromStoreIndex(e){var t,n;const i=this.nodeMap.getBy("index",e);if(i)return i.node.rowIndex;let o,r;if(this.nodeMap.forEach(t=>{e>t.index?(null==r||r.index<t.index)&&(r=t):(null==o||o.index>t.index)&&(o=t)}),!o)return this.store.getDisplayIndexEnd()-(this.numberOfRows-e);if(!r)return this.store.getDisplayIndexStart()+e;const s=e-r.index;return(null!==(t=null===(n=r.node.childStore)||void 0===n?void 0:n.getDisplayIndexEnd())&&void 0!==t?t:r.node.rowIndex)+s}createRowAtIndex(e,t,n){const i=this.nodeMap.getBy("index",e);if(i){const{node:n}=i;if(n.__needsRefreshWhenVisible=!1,this.doesNodeMatch(t,n))return this.blockUtils.updateDataIntoRowNode(n,t),this.nodesToRefresh.delete(n),n;if(null==this.getRowIdFunc&&n.hasChildren()&&n.expanded)return this.nodesToRefresh.delete(n),n;this.destroyRowAtIndex(e)}if(t&&null!=this.getRowIdFunc){var o;const n=this.getRowId(t),i=n&&(null===(o=this.removedNodeCache)||void 0===o?void 0:o.get(n));var r;if(i)return null===(r=this.removedNodeCache)||void 0===r||r.delete(n),this.blockUtils.updateDataIntoRowNode(i,t),this.nodeMap.set({id:i.id,node:i,index:e}),this.nodesToRefresh.delete(i),i.__needsRefreshWhenVisible=!1,i;const s=this.nodeMap.getBy("id",n);if(s){this.nodeMap.delete(s);const{node:n,index:i}=s;return this.blockUtils.updateDataIntoRowNode(n,t),this.nodeMap.set({id:n.id,node:n,index:e}),this.nodesToRefresh.delete(n),n.__needsRefreshWhenVisible=!1,this.getBlockStartIndex(i)===this.getBlockStartIndex(e)?n:(this.markBlockForVerify(i),n)}}const s=this.blockUtils.createRowNode(this.store.getRowDetails());if(null!=t){const e=this.getPrefixedId(this.store.getIdSequence().value++);this.blockUtils.setDataIntoRowNode(s,t,e,void 0),this.serverSideRowModel.setPaused(!0),this.blockUtils.checkOpenByDefault(s),this.serverSideRowModel.setPaused(!1),this.nodeManager.addRowNode(s)}return this.nodeMap.set({id:s.id,node:s,index:e}),n&&n(s),s}getBlockStates(){const e={},t={};this.nodeMap.forEach(n=>{let{node:i,index:o}=n;const r=this.getBlockStartIndex(o);var s;i.stub||i.failedLoad||(e[r]=(null!==(s=e[r])&&void 0!==s?s:0)+1);let a="loaded";i.failedLoad?a="failed":this.lazyBlockLoadingSvc.isRowLoading(this,r)?a="loading":(this.nodesToRefresh.has(i)||i.stub)&&(a="needsLoading"),t[r]||(t[r]=new Set),t[r].add(a)});const n={loading:4,failed:3,needsLoading:2,loaded:1},i=this.blockUtils.createNodeIdPrefix(this.store.getParentNode()),o={};for(const s of Object.keys(t)){var r;const a=[...t[s]].sort((e,t)=>{var i,o;return(null!==(i=n[e])&&void 0!==i?i:0)-(null!==(o=n[t])&&void 0!==o?o:0)})[0],l=Number(s)/this.getBlockSize();o[i?"".concat(i,"-").concat(l):String(l)]={blockNumber:l,startRow:Number(s),endRow:Number(s)+this.getBlockSize(),pageStatus:a,loadedRowCount:null!==(r=e[s])&&void 0!==r?r:0}}return o}destroyRowAtIndex(e){const t=this.nodeMap.getBy("index",e);t&&(this.nodeMap.delete(t),this.nodeDisplayIndexMap.delete(t.node.rowIndex),this.nodesToRefresh.size>0?this.removedNodeCache.set(t.node.id,t.node):this.blockUtils.destroyRowNode(t.node),this.nodesToRefresh.delete(t.node))}getSsrmParams(){return this.store.getSsrmParams()}getPrefixedId(e){return this.defaultNodeIdPrefix?this.defaultNodeIdPrefix+"-"+e:e.toString()}markBlockForVerify(e){const[t,n]=this.getBlockBounds(e);this.nodeMap.filter(e=>e.index>=t&&e.index<n).forEach(e=>{let{node:t}=e;t.__needsRefreshWhenVisible=!0})}doesNodeMatch(e,t){if(t.stub)return!1;const n=this.getRowId(e);return null===n?t.data===e:t.id===n}purgeStubsOutsideOfViewport(){const{firstRenderedRow:e,lastRenderedRow:t}=this.rowRenderer,n=this.getBlockStartIndex(e),[,i]=this.getBlockBounds(t);this.nodeMap.forEach(e=>{this.lazyBlockLoadingSvc.isRowLoading(this,e.index)||e.node.failedLoad||e.node.stub&&(e.index<n||e.index>i)&&this.destroyRowAtIndex(e.index)})}getBlocksDistanceFromRow(e,t){const n={};return e.forEach(e=>{let{node:i,index:o}=e;const[r,s]=this.getBlockBounds(o);if(r in n)return;const a=Math.abs(i.rowIndex-t);let l;const u=this.nodeMap.getBy("index",[s-1]);u&&(l=Math.abs(u.node.rowIndex-t));const c=null==l||a<l?a:l;n[r]=c}),Object.entries(n)}purgeExcessRows(){var e;if(this.purgeStubsOutsideOfViewport(),null==this.store.getDisplayIndexEnd()||null==this.storeParams.maxBlocksInCache)return;const{firstRenderedRow:t,lastRenderedRow:n}=this.rowRenderer,i=new Set,o=new Set;this.nodeMap.forEach(e=>{let{index:r,node:s}=e;const a=this.getBlockStartIndex(r);i.add(a);s.rowIndex>=t&&s.rowIndex<=n&&o.add(a)});const r=Math.max(o.size,null!==(e=this.storeParams.maxBlocksInCache)&&void 0!==e?e:0),s=i.size-r;if(s<=0)return;let a=Number.MAX_SAFE_INTEGER,l=Number.MIN_SAFE_INTEGER;o.forEach(e=>{a>e&&(a=e),l<e&&(l=e)});const u=this.nodeMap.filter(e=>{let{node:t,index:n}=e;const i=this.getBlockStartIndex(n);return!(i>=a&&i<=l)&&!this.isNodeCached(t)});if(0===u.length)return;const c=t+(n-t)/2,d=this.getBlocksDistanceFromRow(u,c),h=this.getBlockSize();d.sort((e,t)=>Math.sign(t[1]-e[1]));for(let p=0;p<Math.min(s,d.length);p++){const e=Number(d[p][0]);for(let t=e;t<e+h;t++){const e=this.nodeMap.getBy("index",t);e&&!this.isNodeCached(e.node)&&this.destroyRowAtIndex(t)}}}isNodeFocused(e){const t=this.focusSvc.getFocusCellToUseAfterRefresh();if(!t)return!1;if(null!=t.rowPinned)return!1;return t.rowIndex===e.rowIndex}isNodeCached(e){const t=this.gos.get("groupAllowUnbalanced")&&""===e.key;return e.isExpandable()&&e.expanded||this.isNodeFocused(e)||t}extractDuplicateIds(e){if(null==this.getRowIdFunc)return[];const t=new Set,n=new Set;return e.forEach(e=>{const i=this.getRowId(e);t.has(i)?n.add(i):t.add(i)}),[...n]}onLoadSuccess(e,t,n){if(!this.live)return;const i=n.groupLevelInfo;if(this.store.setStoreInfo(i),null!=this.getRowIdFunc){const i=this.extractDuplicateIds(n.rowData);if(i.length>0){return iB(205,{duplicateIdText:i.join(", ")}),void this.onLoadFailed(e,t)}}n.pivotResultFields&&this.serverSideRowModel.generateSecondaryColumns(n.pivotResultFields);const o=this.nodesToRefresh.size>0;if(n.rowData.forEach((t,n)=>{var i;const o=e+n,r=this.nodeMap.getBy("index",o);if(null===r||void 0===r||null===(i=r.node)||void 0===i||!i.stub)return r&&this.doesNodeMatch(t,r.node)?(this.blockUtils.updateDataIntoRowNode(r.node,t),this.nodesToRefresh.delete(r.node),void(r.node.__needsRefreshWhenVisible=!1)):void this.createRowAtIndex(o,t);this.createRowAtIndex(o,t)}),void 0!=n.rowCount&&-1!==n.rowCount)this.numberOfRows=n.rowCount,this.isLastRowKnown=!0;else if(t>n.rowData.length)this.numberOfRows=e+n.rowData.length,this.isLastRowKnown=!0;else if(!this.isLastRowKnown){const t=e+n.rowData.length+1;t>this.numberOfRows&&(this.numberOfRows=t)}if(this.isLastRowKnown){this.nodeMap.filter(e=>e.index>=this.numberOfRows).forEach(e=>this.destroyRowAtIndex(e.index))}this.fireStoreUpdatedEvent();const r=0===this.nodesToRefresh.size;o&&r&&this.fireRefreshFinishedEvent()}fireRefreshFinishedEvent(){0===this.nodesToRefresh.size&&(this.removedNodeCache.forEach(e=>{this.blockUtils.destroyRowNode(e)}),this.removedNodeCache=new Map,this.store.fireRefreshFinishedEvent())}isStoreFullyLoaded(){const e=this.isLastRowKnown,t=this.nodeMap.getSize()===this.numberOfRows;if(!e||!t)return;if(this.nodesToRefresh.size>0)return;let n=-1;return null==this.nodeMap.find(e=>(n+=1,e.index!==n||(!!e.node.__needsRefreshWhenVisible||!!e.node.stub)))}isLastRowIndexKnown(){return this.isLastRowKnown}onLoadFailed(e,t){if(!this.live)return;const n=this.nodesToRefresh.size>0;for(let r=e;r<e+t&&r<this.getRowCount();r++){var i;let{node:e}=null!==(i=this.nodeMap.getBy("index",r))&&void 0!==i?i:{};e&&this.nodesToRefresh.delete(e),e&&e.stub||(e&&!e.stub&&this.destroyRowAtIndex(r),e=this.createRowAtIndex(r)),e.__needsRefreshWhenVisible=!1,e.failedLoad=!0}const o=0===this.nodesToRefresh.size;n&&o&&this.fireRefreshFinishedEvent(),this.fireStoreUpdatedEvent()}markNodesForRefresh(){this.nodeMap.forEach(e=>{e.node.stub&&!e.node.failedLoad||this.nodesToRefresh.add(e.node)}),this.lazyBlockLoadingSvc.queueLoadCheck(),this.isLastRowKnown&&0===this.numberOfRows&&(this.numberOfRows=1,this.isLastRowKnown=!1,this.fireStoreUpdatedEvent())}isNodeInCache(e){return!!this.nodeMap.getBy("id",e)}fireStoreUpdatedEvent(){this.live&&this.store.fireStoreUpdatedEvent()}getRowId(e){var t;if(null==this.getRowIdFunc)return null;const{level:n}=this.store.getRowDetails(),i=null!==(t=this.store.getParentNode().getRoute())&&void 0!==t?t:[];return this.getRowIdFunc({data:e,parentKeys:i.length>0?i:void 0,level:n})}getOrderedNodeMap(){const e={};return this.nodeMap.forEach(t=>e[t.index]=t),e}clearDisplayIndexes(){this.nodeDisplayIndexMap.clear()}clientSideSortRows(){var e,t;const n=null!==(e=null===(t=this.sortSvc)||void 0===t?void 0:t.getSortOptions())&&void 0!==e?e:[];if(!n.some(e=>null!=e.sort)||!this.rowNodeSorter)return;const i=new Array(this.nodeMap.getSize());this.nodeMap.forEach(e=>i[e.index]=e.node),this.nodeMap.clear();this.rowNodeSorter.doFullSort(i,n).forEach((e,t)=>{this.nodeMap.set({id:e.id,node:e,index:t})})}updateRowNodes(e){const t=[];return e.forEach(e=>{const n=this.getRowId(e),i=this.nodeMap.getBy("id",n);i&&(this.blockUtils.updateDataIntoRowNode(i.node,e),t.push(i.node))}),t}insertRowNodes(e,t){const n=this.store.getRowCount()-(this.store.getParentNode().sibling?1:0),i=null==t&&this.isLastRowKnown?n:t;if(null==i||n<i)return[];const o={};e.forEach(e=>{const t=this.getRowId(e);t&&this.isNodeInCache(t)||(o[t]=e)});const r=Object.values(o),s=r.length;if(0===s)return[];const a=this.nodeMap.filter(e=>e.index>=i);return a.forEach(e=>this.nodeMap.delete(e)),a.forEach(e=>{this.nodeMap.set({node:e.node,index:e.index+s,id:e.id})}),this.numberOfRows+=s,r.map((e,t)=>this.createRowAtIndex(i+t,e))}removeRowNodes(e){const t=[],n=[];let i=0;const o=[...e],r=this.getOrderedNodeMap();let s=-1;for(const a of Object.keys(r)){s+=1;const e=r[a],l=o.findIndex(t=>t===e.id);if(-1!==l){o.splice(l,1),this.destroyRowAtIndex(Number(a)),t.push(e.node),i+=1;continue}if(0===i)continue;const u=Number(a);s!==u&&n.push(e.node),this.nodeMap.delete(e),this.nodeMap.set({id:e.id,node:e.node,index:u-i})}return this.numberOfRows-=this.isLastRowIndexKnown()?e.length:i,o.length>0&&n.length>0&&(n.forEach(e=>e.__needsRefreshWhenVisible=!0),this.lazyBlockLoadingSvc.queueLoadCheck()),t}getBlockSize(){return this.storeParams.cacheBlockSize||100}getBlockStartIndex(e){return e-e%this.getBlockSize()}getBlockBounds(e){const t=this.getBlockStartIndex(e);return[t,t+this.getBlockSize()]}},i9=class extends vO{constructor(e,t,n){super(),this.idSequence={value:0},this.ssrmParams=e,this.parentRowNode=n,this.storeParams=t,this.level=n.level+1,this.group=!!e.rowGroupCols&&this.level<e.rowGroupCols.length,this.leafGroup=!!e.rowGroupCols&&this.level===e.rowGroupCols.length-1,this.info={}}wireBeans(e){this.blockUtils=e.ssrmBlockUtils,this.storeUtils=e.ssrmStoreUtils,this.selectionSvc=e.selectionSvc,this.rowGroupColsSvc=e.rowGroupColsSvc}postConstruct(){let e=1;var t;0===this.level&&(e=null!==(t=this.storeUtils.getServerSideInitialRowCount())&&void 0!==t?t:1,this.eventSvc.dispatchEventOnce({type:"rowCountReady"}));this.cache=this.createManagedBean(new n9(this,e,!1,this.storeParams));if(!this.gos.get("treeData")&&this.group&&this.rowGroupColsSvc){const e=this.ssrmParams.rowGroupCols[this.level];this.groupField=e.field,this.rowGroupColumn=this.rowGroupColsSvc.columns[this.level]}}destroy(){this.displayIndexStart=void 0,this.displayIndexEnd=void 0,this.destroyBean(this.cache),super.destroy()}applyRowData(e,t,n){this.cache.onLoadSuccess(t,n,e)}applyTransaction(e){var t,n,i,o,r;const s=LB(this.gos);if(!s)return iB(206),{status:NW.Cancelled};const a=this.gos.getCallback("isApplyServerSideTransaction");if(a){if(!a({transaction:e,parentNode:this.parentRowNode,groupLevelInfo:this.info}))return{status:NW.Cancelled}}const l=this.cache.isStoreFullyLoaded();let u,c,d;if(null!==(t=e.update)&&void 0!==t&&t.length&&(u=this.cache.updateRowNodes(e.update)),null!==(n=e.add)&&void 0!==n&&n.length){let t=e.addIndex;null!=t&&t<0&&(t=void 0),c=this.cache.insertRowNodes(e.add,t)}if(null!==(i=e.remove)&&void 0!==i&&i.length){const t=e.remove.map(e=>{var t;return s({level:this.level,parentKeys:null!==(t=this.parentRowNode.getRoute())&&void 0!==t?t:[],data:e})}),n=[...new Set(t)];d=this.cache.removeRowNodes(n)}const h=this.gos.get("serverSideEnableClientSideSort"),p=(null===(o=u)||void 0===o?void 0:o.length)||(null===(r=c)||void 0===r?void 0:r.length);return l&&h&&p&&this.cache.clientSideSortRows(),this.updateSelectionAfterTransaction(u,d),{status:NW.Applied,update:u,add:c,remove:d}}updateSelectionAfterTransaction(e,t){if(!this.selectionSvc)return;const n=[];null===e||void 0===e||e.forEach(e=>{e.isSelected()&&!e.selectable&&n.push(e)}),null===t||void 0===t||t.forEach(e=>{e.isSelected()&&n.push(e)}),n.length&&this.selectionSvc.setNodesSelected({newValue:!1,clearSelection:!1,nodes:n,source:"rowDataChanged"})}clearDisplayIndexes(){this.displayIndexStart=void 0,this.displayIndexEnd=void 0,this.cache.getNodes().forEach(e=>this.blockUtils.clearDisplayIndex(e.node)),this.parentRowNode.sibling&&this.blockUtils.clearDisplayIndex(this.parentRowNode.sibling),this.cache.clearDisplayIndexes()}getDisplayIndexStart(){return this.displayIndexStart}getDisplayIndexEnd(){return this.displayIndexEnd}getRowCount(){return this.parentRowNode.sibling?this.cache.getRowCount()+1:this.cache.getRowCount()}setRowCount(e,t){this.cache.setRowCount(e,t)}isDisplayIndexInStore(e){return 0!==this.cache.getRowCount()&&(this.displayIndexStart<=e&&e<this.getDisplayIndexEnd())}setDisplayIndexes(e,t,n){this.displayIndexStart=e.value,this.topPx=t.value;const i=this.parentRowNode.level>-1&&TB(this.gos)({node:this.parentRowNode});i||s8(this.parentRowNode),"top"===i&&(r8(this.parentRowNode,this.beans),this.blockUtils.setDisplayIndex(this.parentRowNode.sibling,e,t,n)),this.cache.setDisplayIndexes(e,t,n),"bottom"===i&&(r8(this.parentRowNode,this.beans),this.blockUtils.setDisplayIndex(this.parentRowNode.sibling,e,t,n)),this.displayIndexEnd=e.value,this.heightPx=t.value-this.topPx}forEachStoreDeep(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{value:0};e(this,t.value++),this.cache.getNodes().forEach(n=>{const i=n.node.childStore;i&&i.forEachStoreDeep(e,t)})}forEachNodeDeep(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{value:0};this.cache.getNodes().forEach(n=>{e(n.node,t.value++);const i=n.node.childStore;i&&i.forEachNodeDeep(e,t)})}forEachNodeDeepAfterFilterAndSort(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{value:0},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const i=this.parentRowNode.level>-1&&TB(this.gos)({node:this.parentRowNode});"top"===i&&e(this.parentRowNode.sibling,t.value++);const o=this.cache.getOrderedNodeMap();for(const r of Object.values(o)){e(r.node,t.value++);const i=r.node.childStore;i&&i.forEachNodeDeepAfterFilterAndSort(e,t,n)}"bottom"===i&&e(this.parentRowNode.sibling,t.value++)}retryLoads(){this.cache.getNodes().forEach(e=>{let{node:t}=e;t.failedLoad&&(t.failedLoad=!1,t.__needsRefreshWhenVisible=!0,t.stub=!0)}),this.forEachChildStoreShallow(e=>e.retryLoads()),this.fireStoreUpdatedEvent()}getRowUsingDisplayIndex(e){return this.parentRowNode.sibling&&e===this.parentRowNode.sibling.rowIndex?this.parentRowNode.sibling:this.cache.getRowByDisplayIndex(e)}getRowBounds(e){var t;if(!this.isDisplayIndexInStore(e))return null;const n=this.cache.getNodeCachedByDisplayIndex(e);if(n){const t=this.blockUtils.extractRowBounds(n,e);if(t)return t}const{previousNode:i,nextNode:o}=null!==(t=this.cache.getSurroundingNodesByDisplayIndex(e))&&void 0!==t?t:{};if(i){const t=this.blockUtils.extractRowBounds(i.node,e);if(null!=t)return t}const r=mB(this.beans);if(o){const t=(o.node.rowIndex-e)*r;return{rowTop:o.node.rowTop-t,rowHeight:r}}return{rowTop:this.topPx+this.heightPx-(this.getDisplayIndexEnd()-e)*r,rowHeight:r}}isPixelInRange(e){return e>=this.topPx&&e<this.topPx+this.heightPx}getRowIndexAtPixel(e){if(e<this.topPx)return this.getDisplayIndexStart();if(e>=this.topPx+this.heightPx)return this.getDisplayIndexEnd()-1;if(this.parentRowNode.sibling&&e>this.parentRowNode.sibling.rowTop&&e<this.parentRowNode.sibling.rowTop+this.parentRowNode.sibling.rowHeight)return this.parentRowNode.sibling.rowIndex;let t=Number.MAX_SAFE_INTEGER,n=null,i=Number.MAX_SAFE_INTEGER,o=null;if(this.cache.getNodes().forEach(r=>{let{node:s}=r;const a=Math.abs(e-s.rowTop);s.rowTop<e?a<t&&(t=a,n=s):a<i&&(i=a,o=s)}),n){const t=this.blockUtils.getIndexAtPixel(n,e);if(null!=t)return t}const r=mB(this.beans);if(o){const t=o.rowTop,n=Math.ceil((t-e)/r);return o.rowIndex-n}const s=this.topPx+this.heightPx,a=Math.floor((s-e)/r);return this.getDisplayIndexEnd()-a}getChildStore(e){return this.storeUtils.getChildStore(e,this,e=>{const t=this.cache.getNodes().find(t=>t.node.key==e);return t?t.node:null})}forEachChildStoreShallow(e){this.cache.getNodes().forEach(t=>{let{node:n}=t;n.childStore&&e(n.childStore)})}refreshAfterSort(e){if(this.storeUtils.isServerSideSortAllLevels()||this.storeUtils.isServerRefreshNeeded(this.parentRowNode,this.ssrmParams.rowGroupCols,e)){const e=this.cache.isStoreFullyLoaded(),t=this.gos.get("serverSideEnableClientSideSort");if(!(e&&t)){const e=this.cache.getRowCount(),t=this.cache.isLastRowIndexKnown();return this.destroyBean(this.cache),void(this.cache=this.createManagedBean(new n9(this,e,t,this.storeParams)))}this.cache.clientSideSortRows()}this.forEachChildStoreShallow(t=>t.refreshAfterSort(e))}refreshAfterFilter(e){!this.storeUtils.isServerSideOnlyRefreshFilteredGroups()||this.storeUtils.isServerRefreshNeeded(this.parentRowNode,this.ssrmParams.rowGroupCols,e)?this.refreshStore(!0):this.forEachChildStoreShallow(t=>t.refreshAfterFilter(e))}refreshStore(e){if(e)return this.destroyBean(this.cache),this.cache=this.createManagedBean(new n9(this,1,!1,this.storeParams)),void this.fireStoreUpdatedEvent();this.cache.markNodesForRefresh()}getTopLevelRowDisplayedIndex(e){const t=this.cache.getDisplayIndexFromStoreIndex(e);return null!==t&&void 0!==t?t:e}isLastRowIndexKnown(){return this.cache.isLastRowIndexKnown()}getRowNodesInRange(e,t){return this.cache.getNodes().filter(n=>{let{node:i}=n;return i.rowIndex>=e.rowIndex&&i.rowIndex<=t.rowIndex}).map(e=>{let{node:t}=e;return t})}addStoreStates(e){var t;e.push({route:null!==(t=this.parentRowNode.getRoute())&&void 0!==t?t:[],rowCount:this.getRowCount(),lastRowIndexKnown:this.isLastRowIndexKnown(),info:this.info,maxBlocksInCache:this.storeParams.maxBlocksInCache,cacheBlockSize:this.storeParams.cacheBlockSize}),this.forEachChildStoreShallow(t=>t.addStoreStates(e))}getIdSequence(){return this.idSequence}getParentNode(){return this.parentRowNode}getRowDetails(){return{field:this.groupField,group:this.group,leafGroup:this.leafGroup,level:this.level,parent:this.parentRowNode,rowGroupColumn:this.rowGroupColumn}}getSsrmParams(){return this.ssrmParams}setStoreInfo(e){e&&Object.assign(this.info,e)}fireStoreUpdatedEvent(){this.eventSvc.dispatchEvent({type:"storeUpdated"})}fireRefreshFinishedEvent(){this.eventSvc.dispatchEvent({type:"storeRefreshed",route:this.parentRowNode.getRoute()})}getBlockStates(){return this.cache.getBlockStates()}getStoreBounds(){return{topPx:this.topPx,heightPx:this.heightPx}}getCache(){return this.cache}getFirstNode(){var e;const t=this.cache.getNodes().getBy("index",0);return null!==(e=null===t||void 0===t?void 0:t.node)&&void 0!==e?e:null}},o9={moduleName:"ServerSideRowModel",version:n5,rowModels:["serverSide"],beans:[class extends vO{constructor(){super(...arguments),this.beanName="rowModel",this.pauseStoreUpdateListening=!1,this.started=!1,this.managingPivotResultColumns=!1,this.onRowHeightChanged_debounced=HN(this,this.onRowHeightChanged.bind(this),100)}wireBeans(e){this.colModel=e.colModel,this.colNames=e.colNames,this.pivotResultCols=e.pivotResultCols,this.rowGroupColsSvc=e.rowGroupColsSvc,this.pivotColsSvc=e.pivotColsSvc,this.valueColsSvc=e.valueColsSvc,this.filterManager=e.filterManager,this.sortSvc=e.sortSvc,this.rowRenderer=e.rowRenderer,this.nodeManager=e.ssrmNodeManager,this.storeFactory=e.ssrmStoreFactory,this.pivotColDefSvc=e.pivotColDefSvc}ensureRowHeightsValid(){return!1}start(){this.started=!0,this.updateDatasource()}destroyDatasource(){this.datasource&&(this.datasource.destroy&&this.datasource.destroy(),this.rowRenderer.datasourceChanged(),this.datasource=void 0)}postConstruct(){const e=this.resetRootStore.bind(this);this.addManagedEventListeners({newColumnsLoaded:this.onColumnEverything.bind(this),storeUpdated:this.onStoreUpdated.bind(this),columnValueChanged:e,columnPivotChanged:e,columnRowGroupChanged:e,columnPivotModeChanged:e}),this.addManagedPropertyListeners(["masterDetail","treeData","removePivotHeaderRowWhenSingleValueColumn","cacheBlockSize"],e),this.addManagedPropertyListeners(["groupAllowUnbalanced","groupTotalRow"],()=>this.onStoreUpdated()),this.addManagedPropertyListener("rowHeight",()=>this.resetRowHeights()),this.verifyProps(),this.addManagedPropertyListener("serverSideDatasource",()=>this.updateDatasource())}updateDatasource(){const e=this.gos.get("serverSideDatasource");e&&this.setDatasource(e)}verifyProps(){hB(this.gos)&&!this.gos.exists("getRowId")&&iB(188)}setDatasource(e){this.started&&(this.destroyDatasource(),this.datasource=e,this.resetRootStore())}applyRowData(e,t,n){const i=this.getRootStore();if(!i)return;const o=i.getChildStore(n);o&&o.applyRowData(e,t,e.rowData.length)}isLastRowIndexKnown(){const e=this.getRootStore();return!!e&&e.isLastRowIndexKnown()}onColumnEverything(){var e,t,n,i,o;if(!this.storeParams)return void this.resetRootStore();const r=this.columnsToValueObjects(null===(e=this.rowGroupColsSvc)||void 0===e?void 0:e.columns),s=this.columnsToValueObjects(null===(t=this.valueColsSvc)||void 0===t?void 0:t.columns),a=this.columnsToValueObjects(null===(n=this.pivotColsSvc)||void 0===n?void 0:n.columns),l=e=>{const t={};e.oldCols.forEach(e=>t[e.id]=e);const n=e.newCols.every(e=>{const n=t[e.id];return n&&delete t[e.id],n&&n.field===e.field&&n.aggFunc===e.aggFunc}),i=!e.allowRemovedColumns&&!!Object.values(t).length;return n&&!i},u=!YI(this.storeParams.sortModel,null!==(i=null===(o=this.sortSvc)||void 0===o?void 0:o.getSortModel())&&void 0!==i?i:[]),c=!l({oldCols:this.storeParams.rowGroupCols,newCols:r}),d=!l({oldCols:this.storeParams.pivotCols,newCols:a}),h=!(null===r||void 0===r||!r.length)&&!l({oldCols:this.storeParams.valueCols,newCols:s,allowRemovedColumns:!0});if(u||c||d||h)this.resetRootStore();else{const e=this.createStoreParams();this.storeParams.rowGroupCols=e.rowGroupCols,this.storeParams.pivotCols=e.pivotCols,this.storeParams.valueCols=e.valueCols}}destroyRootStore(){this.rootNode&&this.rootNode.childStore&&(this.rootNode.childStore=this.destroyBean(this.rootNode.childStore),this.nodeManager.clear())}refreshAfterSort(e,t){this.storeParams&&(this.storeParams.sortModel=e);const n=this.getRootStore();n&&(n.refreshAfterSort(t),this.onStoreUpdated())}generateSecondaryColumns(e){var t;if(!this.pivotColDefSvc)return void this.gos.assertModuleRegistered("SharedPivot",2);const n=this.pivotColDefSvc.createColDefsFromFields(e);this.managingPivotResultColumns=!0,null===(t=this.pivotResultCols)||void 0===t||t.setPivotResultCols(n,"rowModelUpdated")}resetRowHeights(){const e=this.resetRowHeightsForAllRowNodes(),t=gB(this.beans,this.rootNode);if(this.rootNode.setRowHeight(t.height,t.estimated),this.rootNode.sibling){const e=gB(this.beans,this.rootNode.sibling);this.rootNode.sibling.setRowHeight(e.height,e.estimated)}e&&this.onRowHeightChanged()}resetRowHeightsForAllRowNodes(){let e=!1;return this.forEachNode(t=>{const n=gB(this.beans,t);t.setRowHeight(n.height,n.estimated);const i=t.detailNode;if(i){const e=gB(this.beans,i);i.setRowHeight(e.height,e.estimated)}if(t.sibling){const e=gB(this.beans,t.sibling);null===i||void 0===i||i.setRowHeight(e.height,e.estimated)}e=!0}),e}resetRootStore(){var e;(this.destroyRootStore(),this.rootNode=new WV(this.beans),this.rootNode.group=!0,this.rootNode.level=-1,this.datasource&&(this.storeParams=this.createStoreParams(),this.rootNode.childStore=this.createBean(this.storeFactory.createStore(this.storeParams,this.rootNode)),this.updateRowIndexesAndBounds()),this.managingPivotResultColumns)&&(null===(e=this.pivotResultCols)||void 0===e||e.setPivotResultCols(null,"api"),this.managingPivotResultColumns=!1);this.dispatchModelUpdated(!0)}columnsToValueObjects(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map(e=>({id:e.getId(),aggFunc:e.getAggFunc(),displayName:this.colNames.getDisplayNameForColumn(e,"model"),field:e.getColDef().field}))}createStoreParams(){var e,t,n,i,o,r,s,a,l;const u=this.columnsToValueObjects(null===(e=this.rowGroupColsSvc)||void 0===e?void 0:e.columns),c=this.columnsToValueObjects(null===(t=this.valueColsSvc)||void 0===t?void 0:t.columns),d=this.columnsToValueObjects(null===(n=this.pivotColsSvc)||void 0===n?void 0:n.columns),h=pB(this.gos);return{valueCols:c,rowGroupCols:u,pivotCols:d,pivotMode:this.colModel.isPivotMode(),filterModel:null!==(i=this.filterManager)&&void 0!==i&&i.isAdvFilterEnabled()?null===(o=this.filterManager)||void 0===o?void 0:o.getAdvFilterModel():null!==(r=null===(s=this.filterManager)||void 0===s?void 0:s.getFilterModel())&&void 0!==r?r:{},sortModel:null!==(a=null===(l=this.sortSvc)||void 0===l?void 0:l.getSortModel())&&void 0!==a?a:[],datasource:this.datasource,lastAccessedSequence:{value:0},dynamicRowHeight:h}}getParams(){return this.storeParams}dispatchModelUpdated(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.eventSvc.dispatchEvent({type:"modelUpdated",animate:!e,keepRenderedRows:!e,newPage:!1,newData:!1})}onStoreUpdated(){this.pauseStoreUpdateListening||(this.updateRowIndexesAndBounds(),this.dispatchModelUpdated())}onRowHeightChanged(){this.updateRowIndexesAndBounds(),this.dispatchModelUpdated()}updateRowIndexesAndBounds(){const e=this.getRootStore();e&&e.setDisplayIndexes({value:0},{value:0},0)}retryLoads(){const e=this.getRootStore();e&&(e.retryLoads(),this.onStoreUpdated())}getRow(e){const t=this.getRootStore();if(t)return t.getRowUsingDisplayIndex(e)}setPaused(e){this.pauseStoreUpdateListening=e}expandAll(e){this.pauseStoreUpdateListening=!0,this.forEachNode(t=>{t.stub||t.hasChildren()&&t.setExpanded(e)}),this.pauseStoreUpdateListening=!1,this.onStoreUpdated()}refreshAfterFilter(e,t){this.storeParams&&(this.storeParams.filterModel=e);const n=this.getRootStore();n&&(n.refreshAfterFilter(t),this.onStoreUpdated())}getRootStore(){var e;return null===(e=this.rootNode)||void 0===e?void 0:e.childStore}getRowCount(){const e=this.getRootStore();return e?e.getDisplayIndexEnd():0}getTopLevelRowCount(){const e=this.getRootStore();return e?e.getRowCount():1}getTopLevelRowDisplayedIndex(e){const t=this.getRootStore();return t?t.getTopLevelRowDisplayedIndex(e):e}getRowBounds(e){const t=this.getRootStore();if(!t){return{rowTop:0,rowHeight:mB(this.beans)}}return t.getRowBounds(e)}getBlockStates(){const e=this.getRootStore();if(!e)return;const t={};return e.forEachStoreDeep(e=>{const n=e.getBlockStates();for(const i of Object.keys(n))t[i]=n[i]}),t}getRowIndexAtPixel(e){const t=this.getRootStore();return e<=0||!t?0:t.getRowIndexAtPixel(e)}isEmpty(){return!1}isRowsToRender(){return null!=this.getRootStore()&&this.getRowCount()>0}getType(){return"serverSide"}forEachNode(e){const t=this.getRootStore();t&&t.forEachNodeDeep(e)}forEachDisplayedNode(e){this.forEachNode((t,n)=>{!t.stub&&t.displayed&&e(t,n)})}forEachNodeAfterFilterAndSort(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=this.getRootStore();n&&n.forEachNodeDeepAfterFilterAndSort(e,void 0,t)}executeOnStore(e,t){if(!this.started)return!1;const n=this.getRootStore();if(!n)return!0;const i=n.getChildStore(e);return i&&t(i),!0}refreshStore(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=e.route?e.route:[];this.executeOnStore(t,t=>t.refreshStore(1==e.purge))}getStoreState(){const e=[],t=this.getRootStore();return t&&t.addStoreStates(e),e}getNodesInRangeForSelection(e,t){const n=e.rowIndex,i=t.rowIndex;if(null===n&&null===i)return[];if(null===i)return e?[e]:[];if(null===n)return[t];const o=[],[r,s]=[n,i].sort((e,t)=>e-t);return this.forEachNode(e=>{const t=e.rowIndex;null==t||e.stub||t>=r&&t<=s&&o.push(e)}),o.length!==s-r+1?null:o}getRowNode(e){let t;return this.forEachNode(n=>{n.id===e&&(t=n),n.detailNode&&n.detailNode.id===e&&(t=n.detailNode)}),t}isRowPresent(e){return!!this.getRowNode(e.id)}setRowCount(e,t){const n=this.getRootStore();n&&n.setRowCount(e,t)}destroy(){this.destroyDatasource(),this.destroyRootStore(),super.destroy()}onRowHeightChangedDebounced(){this.onRowHeightChanged_debounced()}},class extends vO{constructor(){super(...arguments),this.beanName="ssrmExpandListener"}wireBeans(e){this.serverSideRowModel=e.rowModel,this.storeFactory=e.ssrmStoreFactory}postConstruct(){cB(this.gos)&&this.addManagedEventListeners({rowGroupOpened:this.onRowGroupOpened.bind(this)})}onRowGroupOpened(e){const t=e.node;if(t.expanded){if(t.master&&this.createDetailNode(t),KI(t.childStore)&&t.hasChildren()){const e=this.serverSideRowModel.getParams();t.childStore=this.createBean(this.storeFactory.createStore(e,t))}}else this.gos.get("purgeClosedRowNodes")&&UI(t.childStore)&&(t.childStore=this.destroyBean(t.childStore));this.eventSvc.dispatchEvent({type:"storeUpdated"})}createDetailNode(e){if(UI(e.detailNode))return e.detailNode;const t=new WV(this.beans);t.detail=!0,t.selectable=!1,t.parent=e,UI(e.id)&&(t.id="detail_"+e.id),t.data=e.data,t.level=e.level+1;const n=gB(this.beans,t).height;return t.rowHeight=n||200,e.detailNode=t,t}},class extends vO{constructor(){super(...arguments),this.beanName="ssrmStoreUtils"}wireBeans(e){this.colModel=e.colModel,this.serverSideRowModel=e.rowModel,this.storeFactory=e.ssrmStoreFactory}getChildStore(e,t,n){if(null===e||void 0===e||!e.length)return t;const i=n(e[0]);if(i){if(1===e.length&&!i.childStore){const e=this.serverSideRowModel.getParams();i.childStore=this.createBean(this.storeFactory.createStore(e,i))}const t=e.slice(1,e.length),n=i.childStore;return n?n.getChildStore(t):null}return null}isServerRefreshNeeded(e,t,n){if(n.valueColChanged||n.secondaryColChanged)return!0;const i=e.level+1;if(!(i<t.length))return!0;const o=t[i].id;if(n.changedColumns.indexOf(o)>-1)return!0;return this.colModel.getCols().filter(e=>e.getColDef().showRowGroup&&n.changedColumns.includes(e.getId())).map(e=>e.getColDef().showRowGroup).some(e=>!0===e||e===o)}getServerSideInitialRowCount(){return this.gos.get("serverSideInitialRowCount")}isServerSideSortAllLevels(){return this.gos.get("serverSideSortAllLevels")&&cB(this.gos)}isServerSideOnlyRefreshFilteredGroups(){return this.gos.get("serverSideOnlyRefreshFilteredGroups")&&cB(this.gos)}},class extends vO{constructor(){super(...arguments),this.beanName="ssrmBlockUtils"}wireBeans(e){this.valueSvc=e.valueSvc,this.showRowGroupCols=e.showRowGroupCols,this.nodeManager=e.ssrmNodeManager,this.expansionSvc=e.expansionSvc,this.serverSideRowModel=e.rowModel,this.storeFactory=e.ssrmStoreFactory}createRowNode(e){const t=new WV(this.beans),n=null!=e.rowHeight?e.rowHeight:mB(this.beans);return t.setRowHeight(n),t.group=e.group,t.leafGroup=e.leafGroup,t.level=e.level,t.uiLevel=e.level,t.parent=e.parent,t.stub=!0,t.__needsRefreshWhenVisible=!1,t.group&&(t.expanded=!1,t.field=e.field,t.rowGroupColumn=e.rowGroupColumn,t.rowGroupIndex=e.level),t}destroyRowNode(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.childStore&&!t&&(this.destroyBean(e.childStore),e.childStore=null),e.sibling&&!e.footer&&this.destroyRowNode(e.sibling,!1),e.clearRowTopAndRowIndex(),null!=e.id&&this.nodeManager.removeNode(e)}setTreeGroupInfo(e){e.updateHasChildren();const t=this.gos.get("getServerSideGroupKey"),n=e.hasChildren();n&&null!=t&&(e.key=t(e.data)),n||null==e.childStore||(this.destroyBean(e.childStore),e.childStore=null,e.master||(e.expanded=!1))}setRowGroupInfo(e){e.key=this.valueSvc.getValue(e.rowGroupColumn,e),null!==e.key&&void 0!==e.key||LN(()=>{var t;iB(190,{rowGroupId:null===(t=e.rowGroupColumn)||void 0===t?void 0:t.getId(),data:e.data})},"SSBlock-BadKey");if(this.gos.get("groupAllowUnbalanced")&&""===e.key){const t=this.serverSideRowModel.getParams();e.childStore=this.createBean(this.storeFactory.createStore(t,e))}TB(this.beans.gos)({node:e})&&(r8(e,this.beans),e.sibling&&(e.sibling.uiLevel=e.uiLevel+1))}setMasterDetailInfo(e){const t=this.gos.get("isRowMaster");e.master=null==t||t(e.data)}updateDataIntoRowNode(e,t){e.updateData(t),this.gos.get("treeData")?(this.setTreeGroupInfo(e),this.setChildCountIntoRowNode(e),this.updateRowFooter(e)):e.group?(this.setChildCountIntoRowNode(e),this.updateRowFooter(e)):this.gos.get("masterDetail")}updateRowFooter(e){if(!e.footer){if(e.group){if(TB(this.beans.gos)({node:e})&&!e.sibling)return void r8(e,this.beans)}e.sibling&&s8(e)}}setDataIntoRowNode(e,t,n,i){e.stub=!1;const o=this.gos.get("treeData");e.setDataAndId(t,n);const r=e.group;var s;(!o&&r||!this.gos.get("masterDetail")||this.setMasterDetailInfo(e),o?this.setTreeGroupInfo(e):r&&this.setRowGroupInfo(e),(o||r)&&(this.setGroupDataIntoRowNode(e),this.setChildCountIntoRowNode(e)),UI(t))&&(e.setRowHeight(gB(this.beans,e,!1,i).height),null===(s=e.sibling)||void 0===s||s.setRowHeight(gB(this.beans,e.sibling,!1,i).height))}setChildCountIntoRowNode(e){const t=this.gos.get("getChildCount");t&&e.setAllChildrenCount(t(e.data))}setGroupDataIntoRowNode(e){var t,n;e.groupValue=e.key;const i=null!==(t=null===(n=this.showRowGroupCols)||void 0===n?void 0:n.getShowRowGroupCols())&&void 0!==t?t:[],o=this.gos.get("treeData");i.forEach(t=>{if(null==e.groupData&&(e.groupData={}),o)e.groupData[t.getColId()]=e.key;else if(t.isRowGroupDisplayed(e.rowGroupColumn.getId())){const n=this.valueSvc.getValue(e.rowGroupColumn,e);e.groupData[t.getColId()]=n}})}clearDisplayIndex(e){e.clearRowTopAndRowIndex();var t;e.hasChildren()&&!!e.childStore&&(null===(t=e.childStore)||void 0===t||t.clearDisplayIndexes());var n;e.master&&e.detailNode&&(null===(n=e.detailNode)||void 0===n||n.clearRowTopAndRowIndex())}setDisplayIndex(e,t,n,i){const o=this.gos.get("groupAllowUnbalanced")&&e.group&&""===e.key;if(this.gos.get("groupHideOpenParents")&&e.group&&e.expanded||o?(e.setRowIndex(null),e.setRowTop(null)):(e.setRowIndex(t.value++),e.setRowTop(n.value),n.value+=e.rowHeight),e.setUiLevel(i),e.footer)return;e.master&&(e.expanded&&e.detailNode?(e.detailNode.setRowIndex(t.value++),e.detailNode.setRowTop(n.value),n.value+=e.detailNode.rowHeight):e.detailNode&&e.detailNode.clearRowTopAndRowIndex());if(e.hasChildren()&&!!e.childStore){const r=e.childStore;e.expanded||o?r.setDisplayIndexes(t,n,o?i:i+1):r.clearDisplayIndexes()}}extractRowBounds(e,t){const n=e=>({rowHeight:e.rowHeight,rowTop:e.rowTop});if(e.rowIndex===t)return n(e);if(e.hasChildren()&&e.expanded&&e.childStore){const n=e.childStore;if(n.isDisplayIndexInStore(t))return n.getRowBounds(t)}else if(e.master&&e.expanded&&e.detailNode&&e.detailNode.rowIndex===t)return n(e.detailNode)}isPixelInNodeRange(e,t){return!(!UI(e.rowTop)||!UI(e.rowHeight))&&(t>=e.rowTop&&t<e.rowTop+e.rowHeight)}getIndexAtPixel(e,t){if(this.isPixelInNodeRange(e,t))return e.rowIndex;const n=e.master&&e.expanded,i=e.detailNode;if(n&&i&&this.isPixelInNodeRange(i,t))return i.rowIndex;if(e.hasChildren()&&e.expanded&&e.childStore){const n=e.childStore;if(n.isPixelInRange(t))return n.getRowIndexAtPixel(t)}return null}createNodeIdPrefix(e){const t=[];let n=e;for(;n&&n.level>=0;)""===n.key?t.push("ag-Grid-MissingKey"):t.push(n.key),n=n.parent;if(t.length>0)return t.reverse().join("-")}checkOpenByDefault(e){var t;return null===(t=this.expansionSvc)||void 0===t?void 0:t.checkOpenByDefault(e)}},class extends vO{constructor(){super(...arguments),this.beanName="ssrmNodeManager",this.rowNodes=new Map}addRowNode(e){const t=e.id;this.rowNodes.has(t)&&iB(187,{rowId:t,firstData:this.rowNodes.get(t).data,secondData:e.data}),this.rowNodes.set(t,e)}removeNode(e){const t=e.id;this.rowNodes.delete(t)}destroy(){this.clear(),super.destroy()}clear(){this.rowNodes.clear(),super.destroy()}},class extends vO{constructor(){super(...arguments),this.beanName="ssrmTxnManager",this.asyncTransactions=[]}wireBeans(e){this.valueCache=e.valueCache,this.serverSideRowModel=e.rowModel,this.selectionSvc=e.selectionSvc}postConstruct(){cB(this.gos)}applyTransactionAsync(e,t){null==this.asyncTransactionsTimeout&&this.scheduleExecuteAsync(),this.asyncTransactions.push({transaction:e,callback:t})}scheduleExecuteAsync(){const e=this.gos.get("asyncTransactionWaitMillis");this.asyncTransactionsTimeout=window.setTimeout(()=>{this.executeAsyncTransactions()},e)}executeAsyncTransactions(){if(!this.asyncTransactions)return;const e=[],t=[],n=[];let i=!1;var o;(this.asyncTransactions.forEach(o=>{let r;const s=this.serverSideRowModel.executeOnStore(o.transaction.route,e=>{r=e.applyTransaction(o.transaction)});s?void 0==r&&(r={status:NW.StoreNotFound}):r={status:NW.StoreNotStarted},t.push(r);r.status==NW.StoreLoading?n.push(o):(o.callback&&e.push(()=>o.callback(r)),r.status===NW.Applied&&(i=!0))}),e.length>0&&window.setTimeout(()=>{e.forEach(e=>e())},0),this.asyncTransactionsTimeout=void 0,this.asyncTransactions=n,i)&&(null===(o=this.valueCache)||void 0===o||o.onDataChanged(),this.eventSvc.dispatchEvent({type:"storeUpdated"}));t.length>0&&this.eventSvc.dispatchEvent({type:"asyncTransactionsFlushed",results:t})}flushAsyncTransactions(){null!=this.asyncTransactionsTimeout&&clearTimeout(this.asyncTransactionsTimeout),this.executeAsyncTransactions()}applyTransaction(e){let t;if(this.serverSideRowModel.executeOnStore(e.route,n=>{t=n.applyTransaction(e)})){if(t){var n;if(null===(n=this.valueCache)||void 0===n||n.onDataChanged(),t.remove&&this.selectionSvc){const n=t.remove.map(e=>e.id);this.selectionSvc.deleteSelectionStateFromParent(e.route||[],n)}return this.eventSvc.dispatchEvent({type:"storeUpdated"}),t}return{status:NW.StoreNotFound}}return{status:NW.StoreNotStarted}}},class extends vO{constructor(){super(...arguments),this.beanName="ssrmFilterListener"}wireBeans(e){this.serverSideRowModel=e.rowModel,this.filterManager=e.filterManager,this.listenerUtils=e.ssrmListenerUtils}postConstruct(){cB(this.gos)&&this.addManagedEventListeners({advancedFilterEnabledChanged:()=>this.onFilterChanged(!0),filterChanged:()=>this.onFilterChanged()})}onFilterChanged(e){var t;const n=this.serverSideRowModel.getParams();if(!n)return;const i=n.filterModel;let o,r;if(null!==(t=this.filterManager)&&void 0!==t&&t.isAdvFilterEnabled()){o=this.filterManager.getAdvFilterModel();const t=e?Object.keys(null!==i&&void 0!==i?i:{}):this.getAdvancedFilterColumns(i),n=this.getAdvancedFilterColumns(o);t.forEach(e=>n.add(e)),r=Array.from(n)}else{var s,a;if(o=null!==(s=null===(a=this.filterManager)||void 0===a?void 0:a.getFilterModel())&&void 0!==s?s:{},e){const e=this.getAdvancedFilterColumns(i);Object.keys(o).forEach(t=>e.add(t)),r=Array.from(e)}else r=this.findChangedColumns(i,o)}const l={valueColChanged:this.listenerUtils.isSortingWithValueColumn(r),secondaryColChanged:this.listenerUtils.isSortingWithSecondaryColumn(r),changedColumns:r};this.serverSideRowModel.refreshAfterFilter(o,l)}findChangedColumns(e,t){const n={};Object.keys(e).forEach(e=>n[e]=!0),Object.keys(t).forEach(e=>n[e]=!0);const i=[];return Object.keys(n).forEach(n=>{JSON.stringify(e[n])!=JSON.stringify(t[n])&&i.push(n)}),i}getAdvancedFilterColumns(e){const t=new Set;if(!e)return t;const n=e=>{"join"===e.filterType?e.conditions.forEach(e=>n(e)):t.add(e.colId)};return n(e),t}},class extends vO{constructor(){super(...arguments),this.beanName="ssrmStoreFactory"}wireBeans(e){this.colModel=e.colModel,this.rowGroupColsSvc=e.rowGroupColsSvc,this.pivotColsSvc=e.pivotColsSvc,this.rowAutoHeight=e.rowAutoHeight}createStore(e,t){const n=this.getStoreParams(e,t);return new i9(e,n,t)}getStoreParams(e,t){const n=this.getLevelSpecificParams(t);return{cacheBlockSize:this.getBlockSize(n),maxBlocksInCache:this.getMaxBlocksInCache(e,n)}}getMaxBlocksInCache(e,t){var n;const i=t&&null!=t.maxBlocksInCache?t.maxBlocksInCache:this.gos.get("maxBlocksInCache");if(null!=i&&i>=0)if(e.dynamicRowHeight)iB(203);else{if(null===(n=this.rowAutoHeight)||void 0===n||!n.active)return i;iB(204)}}getBlockSize(e){const t=e&&null!=e.cacheBlockSize?e.cacheBlockSize:this.gos.get("cacheBlockSize");return null!=t&&t>0?t:100}getLevelSpecificParams(e){var t,n,i,o;const r=this.gos.getCallback("getServerSideGroupLevelParams");if(!r)return;return r({level:e.level+1,parentRowNode:e.level>=0?e:void 0,rowGroupColumns:null!==(t=null===(n=this.rowGroupColsSvc)||void 0===n?void 0:n.columns)&&void 0!==t?t:[],pivotColumns:null!==(i=null===(o=this.pivotColsSvc)||void 0===o?void 0:o.columns)&&void 0!==i?i:[],pivotMode:this.colModel.isPivotMode()})}},class extends vO{constructor(){super(...arguments),this.beanName="ssrmListenerUtils"}wireBeans(e){this.pivotResultCols=e.pivotResultCols,this.valueColsSvc=e.valueColsSvc}isSortingWithValueColumn(e){var t,n;const i=(null!==(t=null===(n=this.valueColsSvc)||void 0===n?void 0:n.columns)&&void 0!==t?t:[]).map(e=>e.getColId());for(let o=0;o<e.length;o++)if(i.indexOf(e[o])>-1)return!0;return!1}isSortingWithSecondaryColumn(e){var t;const n=null===(t=this.pivotResultCols)||void 0===t?void 0:t.getPivotResultCols();if(!n)return!1;const i=n.list.map(e=>e.getColId());for(let o=0;o<e.length;o++)if(i.indexOf(e[o])>-1)return!0;return!1}},class extends HW{constructor(){super(...arguments),this.beanName="selectionSvc"}postConstruct(){super.postConstruct(),this.addManagedPropertyListeners(["groupSelectsChildren","rowSelection"],()=>{const e=QB(this.gos),t=e&&this.selectionStrategy instanceof Q7?J7:!e&&this.selectionStrategy instanceof J7?Q7:void 0;t&&(this.destroyBean(this.selectionStrategy),this.selectionStrategy=this.createManagedBean(new t(this.selectionCtx)),this.shotgunResetNodeSelectionState(),this.dispatchSelectionChanged("api"))}),this.addManagedPropertyListeners(["rowSelection"],()=>{const e=YB(this.gos);e!==this.selectionMode&&(this.selectionMode=e,this.deselectAllRowNodes({source:"api"}))}),this.selectionMode=YB(this.gos);const e=QB(this.gos)?J7:Q7;this.selectionStrategy=this.createManagedBean(new e(this.selectionCtx))}handleSelectionEvent(e,t,n){if(this.isRowSelectionBlocked(t))return 0;let i=0;const o=this.inferNodeSelections(t,e.shiftKey,e.metaKey||e.ctrlKey,n);return null==o?0:(this.selectionCtx.selectAll=!1,"select"in o?(o.reset?this.selectionStrategy.deselectAllRowNodes({source:"api"}):this.selectionStrategy.setNodesSelected({nodes:o.deselect,newValue:!1,source:n}),i=this.selectionStrategy.setNodesSelected({nodes:o.select,newValue:!0,source:n})):i=this.selectionStrategy.setNodesSelected({nodes:[o.node],newValue:o.newValue,clearSelection:o.clearSelection,event:e,source:n}),this.shotgunResetNodeSelectionState(n),this.dispatchSelectionChanged(n),i)}getSelectionState(){return this.selectionStrategy.getSelectedState()}setSelectionState(e,t){hB(this.gos)?Array.isArray(e)||(e?(this.selectionStrategy.setSelectedState(e),this.shotgunResetNodeSelectionState(),this.dispatchSelectionChanged(t)):this.deselectAllRowNodes({source:t})):e&&iB(132)}setNodesSelected(e){if(!hB(this.gos)&&e.newValue)return iB(132),0;const{nodes:t}=e,n=s(e,ZJ);if(t.length>1&&"multiRow"!==this.selectionMode)return iB(130),0;const i=d({nodes:t.filter(e=>e.selectable)},n);if(!i.nodes.length)return 0;const o=this.selectionStrategy.setNodesSelected(i);return this.shotgunResetNodeSelectionState(i.source),this.dispatchSelectionChanged(i.source),o}deleteSelectionStateFromParent(e,t){this.selectionStrategy.deleteSelectionStateFromParent(e,t)&&(this.shotgunResetNodeSelectionState(),this.dispatchSelectionChanged("api"))}shotgunResetNodeSelectionState(e){this.beans.rowModel.forEachNode(t=>{if(t.stub)return;const n=this.selectionStrategy.isNodeSelected(t);n!==t.isSelected()&&this.selectRowNode(t,n,void 0,e)})}getSelectedNodes(){var e;return null!==(e=this.selectionStrategy.getSelectedNodes())&&void 0!==e?e:[]}getSelectedRows(){return this.selectionStrategy.getSelectedRows()}getSelectionCount(){return this.selectionStrategy.getSelectionCount()}syncInRowNode(e){this.selectionStrategy.processNewRow(e);const t=this.selectionStrategy.isNodeSelected(e);if(0!=t&&!e.selectable)return this.selectionStrategy.setNodesSelected({nodes:[e],newValue:!1,source:"api"}),this.shotgunResetNodeSelectionState(),void this.dispatchSelectionChanged("api");e.__selected=t}reset(){this.selectionStrategy.deselectAllRowNodes({source:"api"}),this.selectionCtx.reset()}isEmpty(){return this.selectionStrategy.isEmpty()}hasNodesToSelect(){return!0}selectAllRowNodes(e){if(hB(this.gos)){if(e9(e),HB(this.gos)&&!ZB(this.gos))return iB(130);this.selectionStrategy.selectAllRowNodes(e),this.selectionCtx.selectAll=!0,this.beans.rowModel.forEachNode(t=>{t.stub||this.selectRowNode(t,!0,void 0,e.source)}),this.dispatchSelectionChanged(e.source)}else iB(132)}deselectAllRowNodes(e){e9(e),this.selectionStrategy.deselectAllRowNodes(e),this.selectionCtx.selectAll=!1,this.beans.rowModel.forEachNode(t=>{t.stub||this.selectRowNode(t,!1,void 0,e.source)}),this.dispatchSelectionChanged(e.source)}getSelectAllState(e){return this.selectionStrategy.getSelectAllState(e)}getBestCostNodeSelection(){return iB(194,{method:"getBestCostNodeSelection"})}updateSelectable(){if(!hB(this.gos))return;const e=[];this.beans.rowModel.forEachNode(t=>{!this.updateRowSelectable(t,!0)&&t.isSelected()&&e.push(t)}),e.length&&this.setNodesSelected({nodes:e,newValue:!1,source:"selectableChanged"})}dispatchSelectionChanged(e){this.eventSvc.dispatchEvent({type:"selectionChanged",source:e,selectedNodes:this.selectionStrategy instanceof J7?null:this.selectionStrategy.getSelectedNodes(!0,!1),serverSideState:this.getSelectionState()})}updateSelectableAfterGrouping(){return oB(194,{method:"updateSelectableAfterGrouping"})}refreshMasterNodeState(){}setDetailSelectionState(){}},class extends vO{constructor(){super(...arguments),this.beanName="lazyBlockLoadingSvc",this.outboundRequests=0,this.cacheLoadingNodesMap=new Map,this.isCheckQueued=!1,this.nextBlockToLoad=void 0}wireBeans(e){this.rowRenderer=e.rowRenderer,this.rowModel=e.rowModel}postConstruct(){this.maxOutboundRequests=NB(this.gos)}subscribe(e){this.cacheLoadingNodesMap.set(e,new Set)}unsubscribe(e){this.cacheLoadingNodesMap.delete(e)}queueLoadCheck(){this.isCheckQueued||(this.isCheckQueued=!0,setTimeout(()=>{this.queueLoadAction(),this.isCheckQueued=!1}))}onLoadComplete(){this.outboundRequests-=1,this.queueLoadCheck()}hasAvailableLoadBandwidth(){return void 0===this.maxOutboundRequests||this.outboundRequests<this.maxOutboundRequests}queueLoadAction(){const e=this.getBlockToLoad();if(!e)return;const t=this.nextBlockToLoad&&this.nextBlockToLoad.cache===e.cache&&this.nextBlockToLoad.index===e.index;if(!t&&(!this.nextBlockToLoad||!t)){this.nextBlockToLoad=e,window.clearTimeout(this.loaderTimeout);const t=Number(this.nextBlockToLoad.index),n=this.nextBlockToLoad.cache,i=e.index+e.cache.getBlockSize();this.loaderTimeout=window.setTimeout(()=>{n.isAlive()&&(this.loaderTimeout=void 0,this.attemptLoad(n,t,i),this.nextBlockToLoad=void 0)},this.gos.get("blockLoadDebounceMillis"))}}attemptLoad(e,t,n){this.hasAvailableLoadBandwidth()&&(this.executeLoad(e,t,n),this.queueLoadCheck())}executeLoad(e,t,n){var i,o;const r=e.getSsrmParams(),s={startRow:t,endRow:n,rowGroupCols:r.rowGroupCols,valueCols:r.valueCols,pivotCols:r.pivotCols,pivotMode:r.pivotMode,groupKeys:null!==(i=e.store.getParentNode().getRoute())&&void 0!==i?i:[],filterModel:r.filterModel,sortModel:r.sortModel},a=this.cacheLoadingNodesMap.get(e),l=()=>{for(let e=0;e<n-t;e++)a.delete(t+e)},u=iO(this.gos,{request:s,success:i=>{this.onLoadComplete(),e.onLoadSuccess(t,n-t,i),l()},fail:()=>{this.onLoadComplete(),e.onLoadFailed(t,n-t),l()},parentNode:e.store.getParentNode()});(()=>{for(let e=0;e<n-t;e++)a.add(t+e)})(),this.outboundRequests+=1,null===(o=e.getSsrmParams().datasource)||void 0===o||o.getRows(u)}getBlockToLoad(){var e;const t=this.rowRenderer.firstRenderedRow,n=this.rowRenderer.lastRenderedRow;for(let u=t;u<=n;u++){var i;const e=this.rowModel.getRow(u);if(!e)continue;const t=null===(i=e.parent)||void 0===i?void 0:i.childStore;if(!t)continue;const n=t.getCache(),o=n.getNodes().getBy("node",e);if(!o)continue;const r=this.cacheLoadingNodesMap.get(n);if((null===r||void 0===r||!r.has(o.index))&&(e.__needsRefreshWhenVisible||e.stub&&!e.failedLoad))return{cache:n,index:n.getBlockStartIndex(o.index)}}let o=null,r=null,s=Number.MAX_SAFE_INTEGER;for(const u of this.cacheLoadingNodesMap.keys()){u.getNodesToRefresh().forEach(e=>{if(null==e.rowIndex)return r=e,void(o=u);const i=u.getNodes().getBy("node",e);if(!i)return;const a=this.cacheLoadingNodesMap.get(u);if(null!==a&&void 0!==a&&a.has(i.index))return;const l=Math.abs(t-e.rowIndex),c=Math.abs(e.rowIndex-n);l<s&&(r=e,s=l,o=u),c<s&&(r=e,s=c,o=u)})}if(!o)return;const a=o,l=null===(e=a.getNodes().getBy("node",r))||void 0===e?void 0:e.index;return null==l?void 0:{cache:a,index:a.getBlockStartIndex(l)}}isRowLoading(e,t){var n,i;return null!==(n=null===(i=this.cacheLoadingNodesMap.get(e))||void 0===i?void 0:i.has(t))&&void 0!==n&&n}},class extends vO{constructor(){super(...arguments),this.beanName="rowChildrenSvc"}getHasChildrenValue(e){const t=this.gos.get("treeData"),n=this.gos.get("isServerSideGroup");return!e.stub&&!e.footer&&(t?!!n&&n(e.data):!!e.group)}},class extends d8{constructor(){super(...arguments),this.beanName="expansionSvc",this.queuedRowIds=new Set}wireBeans(e){this.serverSideRowModel=e.rowModel}postConstruct(){this.addManagedEventListeners({columnRowGroupChanged:()=>{this.queuedRowIds.clear()}})}checkOpenByDefault(e){if(!e.isExpandable())return;if(this.queuedRowIds.has(e.id))return this.queuedRowIds.delete(e.id),void e.setExpanded(!0);const t=this.gos.getCallback("isServerSideGroupOpenByDefault");if(!t)return;t({data:e.data,rowNode:e})&&e.setExpanded(!0)}expandRows(e,t){const{serverSideRowModel:n,queuedRowIds:i}=this,o=(e,t)=>{for(const o of e){const e=n.getRowNode(o);e?e.setExpanded(t):t?i.add(o):i.delete(o)}};o(e,!0),t&&o(t,!1)}expandAll(e){this.serverSideRowModel.expandAll(e),this.beans.eventSvc.dispatchEvent({type:"expandOrCollapseAll",source:e?"expandAll":"collapseAll"})}onGroupExpandedOrCollapsed(){}dispatchExpandedEvent(e){this.eventSvc.dispatchEvent(e),this.beans.rowRenderer.refreshCells({rowNodes:[e.node]})}},class extends vO{constructor(){super(...arguments),this.beanName="ssrmSortSvc"}wireBeans(e){this.sortSvc=e.sortSvc,this.serverSideRowModel=e.rowModel,this.listenerUtils=e.ssrmListenerUtils}postConstruct(){cB(this.gos)&&this.addManagedEventListeners({sortChanged:this.onSortChanged.bind(this)})}onSortChanged(){const e=this.serverSideRowModel.getParams();if(!e)return;const t=this.sortSvc.getSortModel(),n=e.sortModel,i=this.findChangedColumnsInSort(t,n),o={valueColChanged:this.listenerUtils.isSortingWithValueColumn(i),secondaryColChanged:this.listenerUtils.isSortingWithSecondaryColumn(i),changedColumns:i};this.serverSideRowModel.refreshAfterSort(t,o)}findChangedColumnsInSort(e,t){let n=[];[e,t].forEach(e=>{if(e){const t=e.map(e=>e.colId);n=n.concat(t)}});return n.filter(n=>{const i=t.find(e=>e.colId===n),o=e.find(e=>e.colId===n);return((e,t)=>(e?e.sort:null)!==(t?t.sort:null))(i,o)||((n,i)=>(n?t.indexOf(n):-1)!==(i?e.indexOf(i):-1))(i,o)})}}],dependsOn:[i5,ZY,GX,z7,$7,L7]},r9={moduleName:"ServerSideRowModelApi",version:n5,apiFunctions:{getServerSideSelectionState:function(e){var t,n;return null!==(t=null===(n=e.selectionSvc)||void 0===n?void 0:n.getSelectionState())&&void 0!==t?t:null},setServerSideSelectionState:function(e,t){var n;null===(n=e.selectionSvc)||void 0===n||n.setSelectionState(t,"api")},applyServerSideTransaction:function(e,t){var n;return null===(n=e.ssrmTxnManager)||void 0===n?void 0:n.applyTransaction(t)},applyServerSideTransactionAsync:function(e,t,n){var i;return null===(i=e.ssrmTxnManager)||void 0===i?void 0:i.applyTransactionAsync(t,n)},applyServerSideRowData:function(e,t){var n,i,o;const r=null!==(n=t.startRow)&&void 0!==n?n:0,s=null!==(i=t.route)&&void 0!==i?i:[];r<0?iB(189,{startRow:r}):null===(o=yZ(e))||void 0===o||o.applyRowData(t.successParams,r,s)},retryServerSideLoads:function(e){var t;null===(t=yZ(e))||void 0===t||t.retryLoads()},flushServerSideAsyncTransactions:function(e){var t;return null===(t=e.ssrmTxnManager)||void 0===t?void 0:t.flushAsyncTransactions()},refreshServerSide:function(e,t){var n;null===(n=yZ(e))||void 0===n||n.refreshStore(t)},getServerSideGroupLevelState:function(e){var t,n;return null!==(t=null===(n=yZ(e))||void 0===n?void 0:n.getStoreState())&&void 0!==t?t:[]}},dependsOn:[i5,VX,HX]},s9=Symbol("WrappedFunctionMarker"),a9=(e,t)=>{if(e[s9])return e;const n=function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return t(e,...i)};return n[s9]=s9,n};function l9(e){return{content:"".concat(e.xValue," ").concat(e.yValue)}}function u9(e){return{content:"".concat(e.yValue)}}var c9=class extends AG{constructor(){super({tag:"div",cls:"ag-sparkline-wrapper",children:[{tag:"span",ref:"eSparkline"}]}),this.eSparkline=kG,this.cachedWidth=0,this.cachedHeight=0,this.dataRef=[],this.processedData=[]}postConstruct(){this.env=this.beans.environment,this.addManagedPropertyListeners(["chartThemeOverrides","chartThemes","styleNonce"],()=>this.refresh(this.params))}createListener(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return()=>{var t,n,i,o;return this.updateSize(null!==(t=null===(n=this.params)||void 0===n||null===(n=n.column)||void 0===n?void 0:n.getActualWidth())&&void 0!==t?t:0,(null!==(i=null===(o=this.params)||void 0===o?void 0:o.node.rowHeight)&&void 0!==i?i:0)-2,e)}}initGridObserver(){var e,t;const n=this.createListener(),i=this.createListener(!1),o=null===(e=this.params)||void 0===e?void 0:e.column,r=null===(t=this.params)||void 0===t?void 0:t.node;o.__addEventListener("columnStateUpdated",n),r.__addEventListener("heightChanged",n),this.addDestroyFunc(()=>{o.__removeEventListener("columnStateUpdated",n),r.__removeEventListener("heightChanged",n)}),i()}updateSize(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if((e-=this.env.getCellPadding())!==this.cachedWidth||t!==this.cachedHeight){this.cachedWidth=e,this.cachedHeight=t;const i=this.refresh.bind(this);n?VN(()=>this.isAlive()&&i()):i()}}init(e){this.params=e,this.initGridObserver()}refresh(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.params;var t;this.params=e;const n=this.cachedWidth,i=this.cachedHeight,o=this.gos.get("styleNonce");if(!this.sparklineInstance&&e&&n>0&&i>0){var r,s,a,l;if(this.sparklineOptions=d(d(d({container:this.eSparkline,width:n,height:i},e.sparklineOptions),o?{styleNonce:o}:{}),{},{data:this.processData(e.value)}),null!==(r=(t=this.sparklineOptions).type)&&void 0!==r||(t.type="line"),null!==(s=this.sparklineOptions.tooltip)&&void 0!==s&&s.renderer)this.wrapTooltipRenderer();else{const e=this.getDefaultTooltipRenderer();this.sparklineOptions.tooltip=d(d({},this.sparklineOptions.tooltip),{},{renderer:e})}const u=null===(a=this.sparklineOptions)||void 0===a?void 0:a.theme;return"bar"===this.sparklineOptions.type&&this.sparklineOptions.itemStyler?this.wrapItemStyler(this.sparklineOptions):null!==u&&void 0!==u&&null!==(l=u.overrides)&&void 0!==l&&null!==(l=l.bar)&&void 0!==l&&null!==(l=l.series)&&void 0!==l&&l.itemStyler&&this.wrapItemStyler(u.overrides.bar.series),this.sparklineInstance=e.createSparkline(this.sparklineOptions),!0}return!!this.sparklineInstance&&(this.sparklineInstance.update(d(d({},this.sparklineOptions),{},{data:this.processData(null===e||void 0===e?void 0:e.value),width:n,height:i},o?{styleNonce:o}:{})),!0)}processData(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return 0===e.length?e:(this.dataRef!==e&&(this.dataRef=e,this.processedData=Array.isArray(e[0])?e.filter(e=>null!=e):e),this.processedData)}createContext(){var e,t;return{data:null===(e=this.params)||void 0===e?void 0:e.data,cellData:null===(t=this.params)||void 0===t?void 0:t.value}}getDefaultTooltipRenderer(e){var t;const n=null===e||void 0===e?void 0:e.title,i=this.sparklineOptions.xKey,o=Array.isArray(null===(t=this.sparklineOptions.data)||void 0===t?void 0:t[0]);return!n&&(i||o)?l9:u9}wrapItemStyler(e){e.itemStyler=a9(e.itemStyler,(e,t)=>e(d(d({},t),{},{context:this.createContext()})))}wrapTooltipRenderer(){this.sparklineOptions.tooltip=d(d({},this.sparklineOptions.tooltip),{},{renderer:a9(this.sparklineOptions.tooltip.renderer,(e,t)=>{const n=e(d(d({},t),{},{context:this.createContext()}));return"string"===typeof n?n:d(d({},this.getDefaultTooltipRenderer(n)(t)),n)})})}destroy(){var e;super.destroy(),null===(e=this.sparklineInstance)||void 0===e||e.destroy()}},d9="Sparklines",h9=e=>(e.setup(),{moduleName:d9,version:n5,dependsOn:[i5],css:[".ag-sparkline-wrapper{height:100%;line-height:normal;position:absolute;top:0;width:100%}"],userComponents:{agSparklineCellRenderer:{classImp:c9,params:{createSparkline:e.createSparkline}}},validate:()=>({isValid:!0})});var p9={tag:"span",cls:"ag-find-cell"};function g9(e){return null===e||void 0===e?void 0:e.toLocaleLowerCase()}function m9(e,t,n){const i=t(CO(n));let o=0;if(null!==i&&void 0!==i&&i.length){let t=-1;for(;t=i.indexOf(e,t+1),-1!=t;)o++}return o}var v9={moduleName:"FindCore",version:n5,rowModels:["clientSide"],beans:[class extends vO{constructor(){super(...arguments),this.beanName="findSvc",this.active=!1,this.topMatches=new Map,this.topNodes=[],this.topNumMatches=0,this.centerMatches=new Map,this.centerNodes=[],this.centerNumMatches=0,this.bottomMatches=new Map,this.bottomNodes=[],this.caseFormat=g9,this.scrollOnRefresh=!1,this.totalMatches=0}postConstruct(){if(!uB(this.gos))return;const e=this.refresh.bind(this,!1),t=this.refresh.bind(this,!0),n=HN(this,()=>{this.isAlive()&&t()},0);this.refreshDebounced=n,this.addManagedPropertyListener("findSearchValue",e),this.addManagedPropertyListener("findOptions",t=>{let{currentValue:n,previousValue:i}=t;YI(n,i)||e()}),this.addManagedPropertyListeners(["groupSuppressBlankHeader","showOpenedGroup"],t),this.addManagedEventListeners({modelUpdated:t,displayedColumnsChanged:t,pinnedRowDataChanged:t,cellValueChanged:n,rowNodeDataChanged:n});const i=this.beans.rowSpanSvc;i&&this.addManagedListeners(i,{spannedCellsUpdated:n}),e()}next(){this.findAcrossContainers(!1,["top",null,"bottom"],1,1)}previous(){this.findAcrossContainers(!0,["bottom",null,"top"],this.totalMatches,-1)}goTo(e,t){var n;if(!t&&e===(null===(n=this.activeMatch)||void 0===n?void 0:n.numOverall))return;const{topMatches:i,topNumMatches:o,centerMatches:r,centerNumMatches:s,bottomMatches:a}=this;e<=o?this.goToInContainer(i,e,0):e<=s?this.goToInContainer(r,e,o):this.goToInContainer(a,e,o+s)}clearActive(){this.activeMatch&&this.setActive(void 0)}isMatch(e,t){var n;return this.active&&!(null===(n=this.getMatches(e.rowPinned).get(e))||void 0===n||!n.some(e=>{let[n]=e;return n===t}))}getNumMatches(e,t){var n,i;return null!==(n=null===(i=this.getMatches(e.rowPinned).get(e))||void 0===i||null===(i=i.find(e=>{let[n]=e;return n===t}))||void 0===i?void 0:i[1])&&void 0!==n?n:0}getParts(e){var t,n;const{value:i,node:o,column:r,precedingNumMatches:s}=e,a=this.findSearchValue,l=null!==(t=CO(i))&&void 0!==t?t:"";if(KI(a))return[{value:l}];const u=null!==(n=this.caseFormat(l))&&void 0!==n?n:"",c=this.getActiveMatchNum(o,r)-(null!==s&&void 0!==s?s:0);let d=0,h=0;const p=a.length,g=[];for(;;){const e=u.indexOf(a,d);if(-1==e)return d<l.length&&g.push({value:l.slice(d)}),g;{h++,e>d&&g.push({value:l.slice(d,e)});const t=e+p;g.push({value:l.slice(e,t),match:!0,activeMatch:h===c}),d=t}}}registerDetailGrid(e,t){const n=this.gos;if(!uB(n))return;const i=()=>{var e;return null===(e=n.get("findOptions"))||void 0===e?void 0:e.searchDetail},o=t=>{var n,i;const o=null===(n=this.centerMatches.get(e))||void 0===n?void 0:n[0];t!==(null!==(i=null===o||void 0===o?void 0:o[1])&&void 0!==i?i:0)&&this.refreshDebounced()};t.addEventListener("findChanged",e=>{!t.isDestroyed()&&this.isAlive()&&this.active&&i()&&o(e.totalMatches)}),t.addEventListener("gridPreDestroyed",()=>{var t,r,s;if(!this.isAlive()||!this.active||!i())return;const a=e.parent,l=this.findSearchValue;if(!a||!l)return;const u=null!==(t=null===(r=n.get("detailCellRendererParams"))||void 0===r||null===(s=r.getFindMatches)||void 0===s?void 0:s.call(r,{node:a,data:a.data,findSearchValue:n.get("findSearchValue"),updateMatches:this.refreshDebounced,getMatchesForValue:e=>m9(l,this.caseFormat,e)}))&&void 0!==t?t:0;o(u)}),i()&&t.setGridOption("findSearchValue",n.get("findSearchValue"))}refresh(e){const t=new Set([...this.topNodes,...this.centerNodes,...this.bottomNodes]);this.topNodes=[],this.centerNodes=[],this.bottomNodes=[];const{topNodes:n,topMatches:i,centerMatches:o,centerNodes:r,bottomNodes:s,bottomMatches:a,beans:{gos:l,visibleCols:u,rowModel:c,valueSvc:d,pinnedRowModel:h,pagination:p,rowSpanSvc:g,masterDetailSvc:m,colModel:v},findSearchValue:f}=this,w=l.get("findOptions"),C=null!==w&&void 0!==w&&w.caseSensitive?e=>null!==e&&void 0!==e?e:void 0:g9;this.caseFormat=C;const b=l.get("findSearchValue"),y=C(null===b||void 0===b?void 0:b.trim());this.findSearchValue=y,i.clear(),o.clear(),a.clear();const S=e?this.activeMatch:void 0;this.activeMatch=void 0;const x=l.get("masterDetail")&&(null===w||void 0===w?void 0:w.searchDetail)&&m;if(KI(y)){if(this.active=!1,this.topNumMatches=0,this.centerNumMatches=0,this.totalMatches=0,this.refreshRows(t),x){const e=m.store;for(const t of Object.keys(e)){var D;null===(D=e[t])||void 0===D||null===(D=D.api)||void 0===D||D.findClearActive()}}return void(KI(f)||this.dispatchFindChanged())}const E=u.allCols,F=l.getCallback("isFullWidthRow"),k=l.get("detailCellRendererParams"),A=l.get("fullWidthCellRendererParams"),R=l.get("groupRowRendererParams"),P=h8(l),T=v.isPivotMode();let _,M,I=0,L=!1;const N=(e,n,i,o)=>{if(!i)return;let r=_.get(e);r||(r=[],_.set(e,r),M.push(e),o||t.add(e)),r.push([n,i]),I+=i},B=e=>{var t,n;if(L){let t=e.rowIndex,n=e.parent;for(;null==t&&n;)t=n.rowIndex,n=n.parent;if(null==t||!p.isRowInPage(t))return}const i=e.hasChildren();if(!m8(P,e,i,T,p8(P,e,i),g8(P,e,i)))return;const o=e.data;if(null!==F&&void 0!==F&&F({rowNode:e})){if(A){var r,s;const t=null!==(r=null===(s=A.getFindMatches)||void 0===s?void 0:s.call(A,{node:e,data:o,findSearchValue:b,updateMatches:this.refreshDebounced,getMatchesForValue:e=>m9(y,C,e)}))&&void 0!==r?r:0;N(e,null,t)}return}if(IB(l,e,T)){let t;const n=null===R||void 0===R?void 0:R.getFindText;if(n){const i=d.getValueForDisplay(void 0,e).value;t=n(iO(l,{value:i,node:e,data:o,column:null,colDef:null,getValueFormatted:()=>{const{valueFormatted:t}=d.getValueForDisplay(void 0,e,!0);return t}}))}else{const{value:n,valueFormatted:i}=d.getValueForDisplay(void 0,e,!0);t=null!==i&&void 0!==i?i:n}const i=m9(y,C,t);return void N(e,null,i)}const a=e.level>0&&l.get("groupHideOpenParents")&&(null===(t=e.parent)||void 0===t?void 0:t.getFirstChild())===e&&!(null!==(n=e.parent)&&void 0!==n&&n.expanded);for(const p of E){if(qO(p))continue;const t=null===g||void 0===g?void 0:g.getCellSpan(p,e);if(t&&t.firstNode!==e)continue;if(p.colDef.showRowGroup&&a)continue;let n;const i=p.colDef,r=i.getFindText;if(r){const t=d.getValueForDisplay(p,e).value;n=r(iO(l,{value:t,node:e,data:o,column:p,colDef:i,getValueFormatted:()=>{const{valueFormatted:t}=d.getValueForDisplay(p,e,!0);return t}}))}else{const{value:t,valueFormatted:i}=d.getValueForDisplay(p,e,!0);n=null!==i&&void 0!==i?i:t}const s=m9(y,C,n);N(e,p,s)}if(e.master&&x){const t=e.detailNode;if(t){var u;const e=null===(u=t.detailGridInfo)||void 0===u?void 0:u.api;if(e){e.setGridOption("findSearchValue",b);const n=e.findGetTotalMatches();return void N(t,null,n)}}if(k){var c,h;const n=null!==(c=null===(h=k.getFindMatches)||void 0===h?void 0:h.call(k,{node:e,data:o,findSearchValue:b,updateMatches:this.refreshDebounced,getMatchesForValue:e=>m9(y,C,e)}))&&void 0!==c?c:0;N(null!==t&&void 0!==t?t:{parent:e,dummy:!0},null,n,!t)}}};_=i,M=n,null===h||void 0===h||h.forEachPinnedRow("top",B),this.topNumMatches=I;let O=I;_=o,M=r,I=0,L=!!p&&!(null===w||void 0===w||!w.currentPageOnly),c.forEachNodeAfterFilterAndSort(B,!0),this.centerNumMatches=I,O+=I,_=a,M=s,I=0,L=!1,null===h||void 0===h||h.forEachPinnedRow("bottom",B),O+=I,this.totalMatches=O,this.active=!0,this.refreshRows(t),S&&this.resetActiveMatch(S),this.dispatchFindChanged()}resetActiveMatch(e){var t,n;const{column:i,numInMatch:o}=e;let r=e.node;if(r.dummy){var s;const e=null===(s=r.parent)||void 0===s?void 0:s.detailNode;if(!e)return;r=e}const a=null!==(t=r.rowPinned)&&void 0!==t?t:null;if(!(null===(n=this.getMatches(a))||void 0===n||null===(n=n.get(r))||void 0===n?void 0:n.some(e=>{let[t,n]=e;return t===i&&n>=o})))return;let l=0;null==a?l=this.topNumMatches:"bottom"===a&&(l=this.topNumMatches+this.centerNumMatches);(()=>{const e=this.getMatches(a);for(const t of e.keys()){const n=t===r,s=e.get(t);for(const[e,t]of s){if(n&&e===i)return void(l+=o);l+=t}}})();const u=d(d({},e),{},{node:r,numOverall:l});this.activeMatch=u,this.refreshRows(new Set([r]),null==i?void 0:new Set([i])),this.scrollOnRefresh&&(this.scrollOnRefresh=!1,this.scrollToActive(u)),this.setDetailActive(u)}refreshRows(e,t){e.size&&this.beans.rowRenderer.refreshCells({rowNodes:[...e],columns:t?[...t]:void 0,force:!0,suppressFlash:!0})}findAcrossContainers(e,t,n,i){if(!this.totalMatches)return void this.setActive();const o=this.activeMatch;let r=t;if(o){var s;const{column:n,node:a,numInMatch:l,numOverall:u}=o,c=null!==(s=a.rowPinned)&&void 0!==s?s:null,d=u+i;if(this.findInContainer(c,e,d,a,n,l))return;const h=t.indexOf(c),p=t.length;if(t.slice(h+1,p).some(t=>this.findInContainer(t,e,d)))return;r=t.slice(0,h+1)}r.some(t=>this.findInContainer(t,e,n))}findInContainer(e,t,n,i,o,r){const s=this.getMatches(e),a=this.getRowNodes(e),l=t?-1:1;if(null!=i){const e=s.get(i),a=null===e||void 0===e?void 0:e.findIndex(e=>{let[t]=e;return t===o});if(null!=a&&-1!=a){const[o,s]=e[a];if(t?r>1:r<s)return this.setActive({column:o,node:i,numInMatch:r+l,numOverall:n}),!0}const u=null!=a&&-1!=a?null===e||void 0===e?void 0:e[a+l]:void 0;if(u){const[e,o]=u;return this.setActive({column:e,node:i,numInMatch:t?o:1,numOverall:n}),!0}}let u;if(null==i)u=a[t?a.length-1:0];else{const e=a.findIndex(e=>e===i);u=a[e+l]}if(null==u)return!1;const c=s.get(u),d=null===c||void 0===c?void 0:c[t?c.length-1:0];if(d){const[e,i]=d;return this.setActive({column:e,node:u,numInMatch:t?i:1,numOverall:n}),!0}return!1}dispatchFindChanged(){const{eventSvc:e,activeMatch:t,totalMatches:n,findSearchValue:i}=this;e.dispatchEvent({type:"findChanged",activeMatch:t,totalMatches:n,findSearchValue:i})}setActive(e){if(e&&null==e.node.rowIndex){var t;const n=e.node;let i=n.footer?n.sibling:n.parent;for(;i&&-1!==i.level;)i.expanded=!0,i=i.parent;return this.activeMatch=e,this.scrollOnRefresh=!0,void(null===(t=this.beans.expansionSvc)||void 0===t||t.onGroupExpandedOrCollapsed())}const n=this.activeMatch;this.activeMatch=e,this.refreshAndScrollToActive(e,n),e&&this.setDetailActive(e),this.dispatchFindChanged()}setDetailActive(e){let{node:t,numInMatch:n}=e;var i;t.detail&&(null===(i=t.detailGridInfo)||void 0===i||null===(i=i.api)||void 0===i||i.findGoTo(n))}refreshAndScrollToActive(e,t){if(e||t){const n=new Set,i=new Set;let o=!1;const r=e=>{if(!e)return;const{node:t,column:r}=e;n.add(t),null==r?o=!0:i.add(r)};r(e),r(t),this.refreshRows(n,o?void 0:i)}e&&this.scrollToActive(e)}scrollToActive(e){let{node:{rowPinned:t,rowIndex:n},column:i}=e;const{ctrlsSvc:o,pagination:r,gos:s}=this.beans,a=o.getScrollFeature();var l;null==t&&null!=n&&(!r||null!==(l=s.get("findOptions"))&&void 0!==l&&l.currentPageOnly||r.isRowInPage(n)||r.goToPageWithIndex(n),a.ensureIndexVisible(n));a.ensureColumnVisible(i)}goToInContainer(e,t,n){let i=n;for(const o of e.keys()){const n=e.get(o);for(const[e,r]of n){if(t<=i+r)return void this.setActive({column:e,node:o,numInMatch:t-i,numOverall:t});i+=r}}}getMatches(e){return"top"===e?this.topMatches:"bottom"===e?this.bottomMatches:this.centerMatches}getRowNodes(e){return"top"===e?this.topNodes:"bottom"===e?this.bottomNodes:this.centerNodes}getActiveMatchNum(e,t){const n=this.activeMatch;return null!=n&&n.node===e&&n.column===t?n.numInMatch:0}destroy(){this.topMatches.clear(),this.topNodes.length=0,this.centerMatches.clear(),this.centerNodes.length=0,this.bottomMatches.clear(),this.bottomNodes.length=0,this.activeMatch=void 0,super.destroy()}}],userComponents:{agFindCellRenderer:class extends AG{constructor(){super(p9)}init(e){this.refresh(e)}refresh(e){var t;const{node:n,column:i}=e,{findSvc:o,valueSvc:r}=this.beans,{value:s,valueFormatted:a}=r.getValueForDisplay(i,n,!0),l=null!==(t=null!==a&&void 0!==a?a:s)&&void 0!==t?t:"",u=this.getGui();uN(u);const c=null===o||void 0===o?void 0:o.getParts({value:l,node:n,column:null!==i&&void 0!==i?i:null});var d;if(!c)return u.textContent=null!==(d=CO(l))&&void 0!==d?d:"",u.classList.remove("ag-find-cell-active-match"),!0;let h=!1;for(const{value:g,match:m,activeMatch:v}of c){var p;const e=null!==(p=CO(g))&&void 0!==p?p:"";if(m){const t=MN({tag:"mark",cls:"ag-find-match"});t.textContent=e,v&&(t.classList.add("ag-find-active-match"),h=!0),u.appendChild(t)}else u.appendChild(document.createTextNode(e))}return u.classList.toggle("ag-find-cell-active-match",h),!0}}},css:[".ag-find-cell{display:block;overflow:hidden;text-overflow:ellipsis}.ag-find-match{background-color:var(--ag-find-match-background-color);color:var(--ag-find-match-color)}.ag-find-active-match{background-color:var(--ag-find-active-match-background-color);color:var(--ag-find-active-match-color)}"]},f9={moduleName:"Find",version:n5,apiFunctions:{findGetTotalMatches:function(e){var t,n;return null!==(t=null===(n=e.findSvc)||void 0===n?void 0:n.totalMatches)&&void 0!==t?t:0},findGoTo:function(e,t,n){var i;null===(i=e.findSvc)||void 0===i||i.goTo(t,n)},findNext:function(e){var t;null===(t=e.findSvc)||void 0===t||t.next()},findPrevious:function(e){var t;null===(t=e.findSvc)||void 0===t||t.previous()},findGetActiveMatch:function(e){var t;return null===(t=e.findSvc)||void 0===t?void 0:t.activeMatch},findGetNumMatches:function(e,t){var n,i;const{node:o,column:r}=t;return null!==(n=null===(i=e.findSvc)||void 0===i?void 0:i.getNumMatches(o,r))&&void 0!==n?n:0},findGetParts:function(e,t){var n,i;return null!==(n=null===(i=e.findSvc)||void 0===i?void 0:i.getParts(t))&&void 0!==n?n:[]},findClearActive:function(e){var t;null===(t=e.findSvc)||void 0===t||t.clearActive()},findRefresh:function(e){var t;return null===(t=e.findSvc)||void 0===t?void 0:t.refresh(!0)}},dependsOn:[v9]};var w9={moduleName:"BatchEdit",version:n5,beans:[],apiFunctions:{isBatchEditing:function(e){var t,n;return null!==(t=null===(n=e.editSvc)||void 0===n?void 0:n.isBatchEditing())&&void 0!==t&&t},startBatchEdit:function(e){let{editSvc:t,gos:n,rowModel:i}=e;if(null===t||void 0===t||!t.isBatchEditing()){if(!uB(n))return void iB(289,{rowModelType:n.get("rowModelType")});null===t||void 0===t||t.setBatchEditing(!0)}},cancelBatchEdit:function(e){let{editSvc:t}=e;null!==t&&void 0!==t&&t.isBatchEditing()&&(null===t||void 0===t||t.stopEditing(void 0,{cancel:!0,source:"api"}),null===t||void 0===t||t.setBatchEditing(!1))},commitBatchEdit:function(e){let{editSvc:t}=e;null!==t&&void 0!==t&&t.isBatchEditing()&&(null===t||void 0===t||t.stopEditing(void 0,{source:"api"}),null===t||void 0===t||t.setBatchEditing(!1))}},dependsOn:[AX,i5],css:[]},C9=class extends vO{constructor(e){super(),this.beanName="agChartsExports",this.isEnterprise=!1,this.create=e.create,this._Theme=e._Theme,this._Scene=e._Scene,this.isEnterprise=e.isEnterprise,this._Util=e._Util}};function b9(e){return null!=e.chart?e.chart:e}var y9=new Set(["__proto__","constructor","prototype"]);function S9(e,t,n){if(null==e)return n;const i=t.split(".");let o=e;for(;i.length>1;)if(o=o[i.shift()],null==o)return n;const r=o[i[0]];return null!=r?r:n}var x9={column:"bar",groupedColumn:"bar",stackedColumn:"bar",normalizedColumn:"bar",bar:"bar",groupedBar:"bar",stackedBar:"bar",normalizedBar:"bar",line:"line",stackedLine:"line",normalizedLine:"line",scatter:"scatter",bubble:"bubble",pie:"pie",donut:"donut",doughnut:"donut",area:"area",stackedArea:"area",normalizedArea:"area",histogram:"histogram",radarLine:"radar-line",radarArea:"radar-area",nightingale:"nightingale",radialColumn:"radial-column",radialBar:"radial-bar",sunburst:"sunburst",rangeBar:"range-bar",rangeArea:"range-area",boxPlot:"box-plot",treemap:"treemap",heatmap:"heatmap",waterfall:"waterfall",funnel:"funnel",coneFunnel:"cone-funnel",pyramid:"pyramid"},D9=new Set(["columnLineCombo","areaColumnCombo","customCombo"]),E9=["grouped","stacked","normalized"],F9={area:{isCartesian:!0,canInvert:!0},bar:{isCartesian:!0,canInvert:!0},histogram:{isCartesian:!0},line:{isCartesian:!0,canInvert:!0},pie:{isPie:!0},donut:{isPie:!0,canInvert:!0},scatter:{isCartesian:!0},bubble:{isCartesian:!0},"radial-column":{isPolar:!0,isEnterprise:!0,isRadial:!0,canInvert:!0},"radial-bar":{isPolar:!0,isEnterprise:!0,isRadial:!0,canInvert:!0},"radar-line":{isPolar:!0,isEnterprise:!0,canInvert:!0},"radar-area":{isPolar:!0,isEnterprise:!0,canInvert:!0},nightingale:{isPolar:!0,isEnterprise:!0,canInvert:!0},"range-bar":{isCartesian:!0,isEnterprise:!0,canSwitchDirection:!0},"range-area":{isCartesian:!0,isEnterprise:!0},"box-plot":{isCartesian:!0,isEnterprise:!0,canSwitchDirection:!0},treemap:{isEnterprise:!0,isHierarchical:!0},sunburst:{isEnterprise:!0,isHierarchical:!0},heatmap:{isCartesian:!0,isEnterprise:!0},waterfall:{isCartesian:!0,isEnterprise:!0,canSwitchDirection:!0},funnel:{isCartesian:!0,isEnterprise:!0,canSwitchDirection:!0},"cone-funnel":{isCartesian:!0,isEnterprise:!0,canSwitchDirection:!0},pyramid:{isCartesian:!0,isEnterprise:!0,canSwitchDirection:!0}};function k9(e){return D9.has(e)}function A9(e,t){var n;return!(null===(n=F9[e])||void 0===n||!n[t])}var R9=new Set(["stackedColumn","normalizedColumn","stackedBar","normalizedBar"]);function P9(e){return A9(e,"isCartesian")}function T9(e){return"funnel"===e||"cone-funnel"===e||"pyramid"===e}function _9(e){return A9(e,"isPolar")}function M9(e){return A9(e,"isHierarchical")}function I9(e){return"doughnut"===e?"donut":e}function L9(e){return x9[e]}function N9(e){var t;return null!==(t=L9(e))&&void 0!==t?t:"line"}function B9(e){return A9(e,"isPie")}function O9(e){return M9(N9(e))?void 0:1}function G9(e){return M9(N9(e))?2:function(e){return"pie"===e||"waterfall"===e||"histogram"===e||"funnel"===e||"coneFunnel"===e||"pyramid"===e}(e)?1:void 0}function z9(e){return!k9(e)&&A9(N9(e),"canInvert")}function V9(e){switch(e){case"groupedColumn":case"stackedColumn":case"normalizedColumn":case"groupedBar":case"stackedBar":case"normalizedBar":case"stackedLine":case"normalizedLine":case"stackedArea":case"normalizedArea":return"".concat(e,"Full");case"doughnut":return"donut";case"areaColumnCombo":return"AreaColumnCombo";default:return e}}var H9=["number","category","grouped-category","log","time"];function j9(e,t,n,i,o){var r;const{chartOptionsToRestore:s,chartPaletteToRestore:a,chartThemeToRestore:l,agChartsExports:u}=e,c=function(e){let t=e.getChartThemeName();const n=e.getChartThemes();n.includes(t)||(t=n[0]);return t}(e),h=W9(c,u._Theme),p=h?{baseTheme:c}:null!==(r=q9(e,c))&&void 0!==r?r:{},g=e.getGridOptionsChartThemeOverrides(),m=e.apiChartThemeOverrides,v=N9(e.chartType),f=e.crossFiltering?function(e,t,n){const i={listeners:{legendItemClick:t=>{const n=e.getChart(),i=[t.seriesId,"".concat(t.seriesId,"-filtered-out")];n.series.filter(e=>i.includes(e.id)).forEach(e=>e.toggleSeriesItem(void 0,"category",t.itemId,void 0))}}},o={tooltip:{delay:500},legend:i,listeners:{click:e=>t.crossFilterCallback(e,!0)}};if("pie"===n||"donut"===n)return{[n]:d({series:{fills:{$if:[{$eq:[{$value:"$index"},0]},{$map:[{$mix:[{$value:"$1"},{$ref:"backgroundColor"},.7]},{$palette:"fills"}]},{$palette:"fills"}]},strokes:{$if:[{$eq:[{$value:"$index"},0]},{$map:[{$mix:[{$value:"$1"},{$ref:"backgroundColor"},.7]},{$palette:"strokes"}]},{$palette:"strokes"}]}}},o)};const r={};"line"!==n&&(r.fill={$if:[{$isEven:[{$value:"$index"}]},{$palette:"fill"},{$mix:[{$path:["../$prevIndex/fill",{$palette:"fill"}]},{$ref:"backgroundColor"},.7]}]});return{[n]:d({series:d({stroke:{$if:[{$isEven:[{$value:"$index"}]},{$palette:"stroke"},{$mix:[{$path:["../$prevIndex/fill",{$palette:"stroke"}]},{$ref:"backgroundColor"},.7]}]}},r)},o)}}(t,e,v):void 0,w=[h?K9(e,n,(()=>{const e=e=>!!e&&Object.keys(e).some(t=>S9(e[t],"title.enabled",!1));return e(g)||e(m)})()):void 0,{pie:{series:{title:{_enabledFromTheme:!0},calloutLabel:{_enabledFromTheme:!0},sectorLabel:{enabled:!1,_enabledFromTheme:!0}}},donut:{series:{title:{_enabledFromTheme:!0},calloutLabel:{_enabledFromTheme:!0},sectorLabel:{enabled:!1,_enabledFromTheme:!0}}}},i,f,g,m,d({},null!==s&&void 0!==s?s:{}),o].filter(e=>!!e).reduce((e,t)=>({baseTheme:e,overrides:t}),p);if(a&&c===l){(function(e,t){const n=(e,t)=>{var n;return e===t||(null===e||void 0===e?void 0:e.length)===(null===t||void 0===t?void 0:t.length)&&(null!==(n=null===e||void 0===e?void 0:e.every((e,n)=>e===(null===t||void 0===t?void 0:t[n])))&&void 0!==n&&n)};return n(e.fills,t.fills)&&n(e.strokes,t.strokes)})(a,e.agChartsExports._Theme.getChartTheme(p).palette)||(w.palette=a)}return w}function W9(e,t){return Object.keys(t.themes).includes(e)}var U9=H9.reduce((e,t)=>d(d({},e),{},{[t]:{title:{_enabledFromTheme:!0}}}),{});function K9(e,t,n){const i=e.getExtraPaddingDirections();return{common:d(d({},t?{animation:{duration:500}}:void 0),{},{axes:U9,padding:{top:!n&&i.includes("top")?40:20,right:i.includes("right")?30:20,bottom:i.includes("bottom")?40:20,left:i.includes("left")?30:20}})}}function q9(e,t){const{customChartThemes:n}=e,i=n&&n[t];return i||iB(140,{name:t}),i}var Y9=class{constructor(e){this.chartProxyParams=e,this.clearThemeOverrides=!1,this.agChartsExports=e.agChartsExports,this.chart=e.chartInstance,this.chartType=e.chartType,this.crossFiltering=e.crossFiltering,this.crossFilterCallback=e.crossFilterCallback,this.standaloneChartType=N9(this.chartType),null==this.chart?this.chart=e.agChartsExports.create(this.getCommonChartOptions()):this.clearThemeOverrides=!0}crossFilteringReset(){}update(e){this.getChartRef().update(this.getUpdateOptions(e,this.getCommonChartOptions(e.updatedOverrides)))}updateThemeOverrides(e){this.getChartRef().updateDelta({theme:{overrides:e}})}getChart(){return b9(this.chart)}getChartRef(){return this.chart}downloadChart(e,t,n){const{chart:i}=this,o=b9(i),r=t||o.title.node.getPlainText(),{width:s,height:a}=e||{};i.download({width:s,height:a,fileName:r,fileFormat:n})}getChartImageDataURL(e){return this.getChart().getCanvasDataURL(e)}getChartOptions(){return this.chart.getOptions()}getChartThemeOverrides(){var e;return null!==(e=this.getChartOptions().theme.overrides)&&void 0!==e?e:{}}getChartPalette(){return this.agChartsExports._Theme.getChartTheme(this.getChartOptions().theme).palette}setPaired(e){const t=N9(this.chartProxyParams.chartType);this.chart.updateDelta({theme:{overrides:{[t]:{paired:e}}}})}isPaired(){const e=N9(this.chartProxyParams.chartType);return S9(this.getChartThemeOverrides(),"".concat(e,".paired"),!0)}lookupCustomChartTheme(e){return q9(this.chartProxyParams,e)}getSeriesGroupType(){}transformCategoryData(e,t){return e.map((e,n)=>{const i=e[t],o=i&&i.toString?i.toString():"",r=d({},e);return r[t]={id:n,value:i,toString:()=>o},r})}getCommonChartOptions(e){var t,n;const i=this.clearThemeOverrides?{}:null!==(t=null===(n=this.chart)||void 0===n?void 0:n.getOptions())&&void 0!==t?t:{},o=null!=this.chart?this.getActiveFormattingPanelOverrides():void 0;this.clearThemeOverrides=!1;const r=this.chartProxyParams.styleNonce,s=j9(this.chartProxyParams,this,this.agChartsExports.isEnterprise,this.getChartThemeDefaults(),null!==e&&void 0!==e?e:o),a=d(d({},i),{},{mode:"integrated"},r?{styleNonce:r}:{});return void 0!==this.chartProxyParams.suppressFieldDotNotation&&(a.suppressFieldDotNotation=this.chartProxyParams.suppressFieldDotNotation),a.theme=s,a.container=this.chartProxyParams.parentElement,a}getChartThemeDefaults(){const e=this.getSeriesChartThemeDefaults(),t=e?{[this.standaloneChartType]:e}:{},n={enabled:!0,snap:!0,label:{enabled:!1}},i=this.agChartsExports.isEnterprise?{zoom:{enabled:!0},animation:{enabled:!0,duration:500},axes:{number:{crosshair:n},category:{crosshair:n},log:{crosshair:n},time:{crosshair:n}}}:{};return i.minHeight=0,i.minWidth=0,i.navigator={enabled:!1,height:18},i.context=this.chartProxyParams.context,d({common:i},t)}getSeriesChartThemeDefaults(){}getActiveFormattingPanelOverrides(){var e,t;if(this.clearThemeOverrides)return{};const n=null===(e=this.chart)||void 0===e?void 0:e.getOptions().theme;return null!==(t=null===n||void 0===n?void 0:n.overrides)&&void 0!==t?t:{}}destroy(){let{keepChartInstance:e=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e)return this.chart.resetAnimations(),this.chart;this.destroyChart()}destroyChart(){this.chart&&(this.chart.destroy(),this.chart=void 0)}},Z9=class extends Y9{constructor(){super(...arguments),this.crossFilteringAllPoints=new Set,this.crossFilteringSelectedPoints=[]}getUpdateOptions(e,t){const n=this.getAxes(e,t);return d(d({},t),{},{data:this.getData(e,n),axes:n,series:this.getSeries(e)})}getData(e,t){const n=["area","line"].includes(this.standaloneChartType);return this.crossFiltering&&n?this.getCrossFilterData(e):this.getDataTransformedData(e,t)}getDataTransformedData(e,t){const n=t[0].type,{categories:i,data:o}=e,[r]=i;switch(n){case"category":return this.transformCategoryData(o,r.id);case"time":return this.transformTimeData(o,r.id);default:return o}}getXAxisType(e){return e.grouping?"grouped-category":this.isXAxisOfType(e,"time",e=>e instanceof Date)?"time":this.isXAxisOfType(e,"number")?"number":"category"}isXAxisOfType(e,t,n){const[i]=e.categories;if(null!==i&&void 0!==i&&i.chartDataType)return i.chartDataType===t;if(!n)return!1;const o=e.data[0];return!!o&&n(o[i.id])}transformTimeData(e,t){var n;return(null===(n=e[0])||void 0===n?void 0:n[t])instanceof Date?e:e.map(e=>{const n=e[t];return"string"===typeof n?d(d({},e),{},{[t]:new Date(n)}):e})}crossFilteringReset(){this.crossFilteringSelectedPoints=[],this.crossFilteringAllPoints.clear()}crossFilteringPointSelected(e){return 0==this.crossFilteringSelectedPoints.length||this.crossFilteringSelectedPoints.includes(e)}crossFilteringDeselectedPoints(){return this.crossFilteringSelectedPoints.length>0&&this.crossFilteringAllPoints.size!==this.crossFilteringSelectedPoints.length}extractLineAreaCrossFilterSeries(e,t){const[n]=t.categories,i=e=>{if("area"===this.standaloneChartType){return t.getCrossFilteringContext().lastSelectedChartId===t.chartId?e+"-total":e}return e+"-total"};return e.map(e=>(e.yKey=i(e.yKey),e.listeners={seriesNodeClick:t=>{const n=t.datum[e.xKey],i=t.event.metaKey||t.event.ctrlKey;this.crossFilteringAddSelectedPoint(i,n),this.crossFilterCallback(t)}},e.marker={itemStyler:e=>{const t=e.datum[n.id];return{fill:e.highlighted?"yellow":e.fill,size:e.highlighted?14:this.crossFilteringPointSelected(t)?8:0}}},"area"===this.standaloneChartType&&(e.fillOpacity=this.crossFilteringDeselectedPoints()?.3:1),"line"===this.standaloneChartType&&(e.strokeOpacity=this.crossFilteringDeselectedPoints()?.3:1),e))}getCrossFilterData(e){this.crossFilteringAllPoints.clear();const[t]=e.categories,n=e.fields[0].colId,i="".concat(n,"-filtered-out"),o=e.getCrossFilteringContext().lastSelectedChartId;return e.data.map(r=>{const s=r[t.id];this.crossFilteringAllPoints.add(s);const a=this.crossFilteringPointSelected(s);return"area"===this.standaloneChartType&&o===e.chartId&&(r["".concat(n,"-total")]=a?r[n]:r[n]+r[i]),"line"===this.standaloneChartType&&(r["".concat(n,"-total")]=a?r[n]:r[n]+r[i]),r})}crossFilteringAddSelectedPoint(e,t){e?this.crossFilteringSelectedPoints.push(t):this.crossFilteringSelectedPoints=[t]}isHorizontal(e){const t=this.standaloneChartType;if("waterfall"!==t&&"box-plot"!==t&&"range-bar"!==t)return!1;const n=e.theme,i=e=>{var n;const o=null===e||void 0===e||null===(n=e.overrides)||void 0===n||null===(n=n[t])||void 0===n||null===(n=n.series)||void 0===n?void 0:n.direction;return null!=o?"horizontal"===o:"object"===typeof(null===e||void 0===e?void 0:e.baseTheme)&&i(e.baseTheme)};return i(n)}},$9=class extends Z9{getSeries(e){const t=e.fields[0];return[{type:this.standaloneChartType,xKey:t.colId,xName:t.displayName,yName:this.chartProxyParams.translate("histogramFrequency"),areaPlot:!1}]}getAxes(e){return[{type:"number",position:"bottom"},{type:"number",position:"left"}]}},X9=class extends Z9{getAxes(e,t){return[{type:this.getXAxisType(e),position:this.isHorizontal(t)?"left":"bottom"},{type:"number",position:this.isHorizontal(t)?"bottom":"left"}]}getSeries(e){var t;const[n]=e.categories,[i]=e.fields;return[{type:this.standaloneChartType,xKey:n.id,xName:n.name,yKey:i.colId,yName:null!==(t=i.displayName)&&void 0!==t?t:void 0}]}},Q9=class extends Y9{getUpdateOptions(e,t){return d(d({},t),{},{data:this.transformFunnelCategories(e),series:this.getSeries(e)})}transformFunnelCategories(e){const{data:t}=e,[{id:n}]=e.categories;return t.map((e,t)=>d(d({},e),{},{[n]:{name:e[n],id:t,toString:()=>e[n]}}))}getSeriesChartThemeDefaults(){const e={crosshair:{enabled:!1}};return d({zoom:{enabled:!1}},"pyramid"!==this.chartType&&{axes:{category:e,number:e}})}getSeries(e){const[{id:t}]=e.categories,[{colId:n}]=e.fields;return[{type:this.standaloneChartType,stageKey:t,valueKey:n}]}},J9="AG-GRID-DEFAULT-LABEL-KEY";function eee(e,t){const n=nee(e,function(e){return t.length},function(e,n){const i=t[n],o=e[i];return r=o,null==r?null:String(r);var r});return tee(n)}function tee(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2?arguments[2]:void 0;const{depth:i,rootValues:o,value:r,children:s}=e;if(o)return o.map(e=>d({[J9]:t},e));if(0===i)return[d({[J9]:t},r)];const a=[];for(const[l,u]of s.entries())a.push(...tee(u,l,!0));return n?[d({[J9]:t,children:a},null!==r&&void 0!==r?r:{})]:a}function nee(e,t,n){const i={depth:0,children:new Map};return e.forEach(e=>{o(e,t(e),n,0,i)}),i;function o(e,t,n,i,r){if(i===t)return 0===i?(r.rootValues||(r.rootValues=[]),r.rootValues.push(e)):r.value=e,r;{const s=n(e,i),a=o(e,t,n,i+1,r.children.get(s)||{depth:0,children:new Map});return r.children.set(s,a),r.depth=Math.max(1+a.depth,r.depth),r}}}var iee=class extends Y9{getUpdateOptions(e,t){const{fields:n}=e,[i,o]=n;return d(d({},t),{},{series:this.getSeries(i,o),data:this.getData(e,i,o)})}getSeriesChartThemeDefaults(){return{gradientLegend:{gradient:{preferredLength:200},position:"right"}}}getSeries(e,t){var n,i;return[{type:this.standaloneChartType,labelKey:J9,sizeKey:null===e||void 0===e?void 0:e.colId,sizeName:null!==(n=null===e||void 0===e?void 0:e.displayName)&&void 0!==n?n:void 0,colorKey:null===t||void 0===t?void 0:t.colId,colorName:null!==(i=null===t||void 0===t?void 0:t.displayName)&&void 0!==i?i:void 0}]}getData(e,t,n){const{categories:i,data:o,groupData:r,grouping:s}=e;if(s){var a;return function(e,t){const n=nee(e,function(e){var n,i;return null!==(n=null===(i=t(e))||void 0===i?void 0:i.length)&&void 0!==n?n:0},function(e,n){const i=t(e);if(!i)return null;return i[i.length-1-n]});return tee(n)}(n?o.concat(null!==(a=null===r||void 0===r?void 0:r.map(e=>{const n=d({},e);return delete n[t.colId],n}))&&void 0!==a?a:[]):o,e=>{var t,n;return null!==(t=null===(n=e[OO])||void 0===n?void 0:n.labels)&&void 0!==t?t:null})}return eee(o,i.map(e=>{let{id:t}=e;return t}))}},oee=class extends Y9{getAxes(e){const t="radial-bar"===this.standaloneChartType;return[{type:t?"angle-number":"angle-category"},{type:t?"radius-category":"radius-number"}]}getSeries(e){const{fields:t,categories:n,seriesGroupType:i}=e,[o]=n,r="radial-bar"===this.standaloneChartType,s=this.getSeriesGroupTypeOptions(i);return t.map(e=>{var t,n;return d({type:this.standaloneChartType,angleKey:r?e.colId:o.id,angleName:r?null!==(t=e.displayName)&&void 0!==t?t:void 0:o.name,radiusKey:r?o.id:e.colId,radiusName:r?o.name:null!==(n=e.displayName)&&void 0!==n?n:void 0},s)})}getSeriesGroupType(){var e;const t=this.standaloneChartType;if(!["nightingale","radial-bar","radial-column"].includes(t))return;const n=null===(e=this.getChart().series)||void 0===e||null===(e=e[0])||void 0===e?void 0:e.properties.toJson(),i=()=>n.normalizedTo?"normalized":"stacked";return"nightingale"===t?n.grouped?"grouped":i():n.stacked?i():"grouped"}getUpdateOptions(e,t){const n=this.getAxes(e);return d(d({},t),{},{data:this.getData(e,n),axes:n,series:this.getSeries(e)})}getData(e,t){if(t.some(e=>"angle-category"===e.type||"radius-category"===e.type)){const[t]=e.categories;return this.transformCategoryData(e.data,t.id)}return e.data}getSeriesGroupTypeOptions(e){return e?{grouped:"grouped"===e||void 0,stacked:"grouped"!==e||void 0,normalizedTo:"normalized"===e?100:void 0}:{}}};var ree=class extends Y9{getUpdateOptions(e,t){const n="AG-GRID-DEFAULT-HEATMAP-SERIES-KEY",i="AG-GRID-DEFAULT-HEATMAP-VALUE-KEY",o="AG-GRID-DEFAULT-HEATMAP-CATEGORY-KEY";return d(d({},t),{},{series:this.getSeries(e,n,i,o),data:this.getData(e,n,i,o)})}getSeries(e,t,n,i){const[o]=e.categories;return[{type:this.standaloneChartType,yKey:i,xKey:t,colorKey:n,yName:o.name,xName:void 0,colorName:void 0}]}getData(e,t,n,i){const[o]=e.categories;return r=e.data,s=(r,s)=>{const a=r[o.id],l=null==a?"":String(a),u={id:s,value:a,toString:()=>l};return e.fields.map(e=>{let{colId:o,displayName:s}=e;return d(d({},r),{},{[t]:s,[n]:r[o],[i]:u})})},r.reduce((e,t,n,i)=>e.concat(s(t,n,i)),new Array);var r,s}getSeriesChartThemeDefaults(){return{gradientLegend:{gradient:{preferredLength:200},position:"right"},series:{tooltip:{renderer:see}}}}};function see(e){const{xKey:t,yKey:n,colorKey:i,yName:o,datum:r}=e;return{title:"",data:[{label:o,value:r[n]},{label:r[t],value:i&&r[i]}].map(e=>{let{label:t,value:n}=e;return{label:String(t),value:String(n)}})}}var aee=class extends vO{wireBeans(e){this.sortSvc=e.sortSvc,this.gridRowModel=e.rowModel,this.colModel=e.colModel,this.valueSvc=e.valueSvc,this.pivotResultCols=e.pivotResultCols,this.rowNodeSorter=e.rowNodeSorter}getData(e){if(e.crossFiltering){if(e.grouping)return iB(141),{chartData:[],colNames:{}};if(!uB(this.gos))return iB(142),{chartData:[],colNames:{}}}cB(this.gos)&&e.pivoting&&this.updatePivotKeysForSSRM();const t=this.extractRowsFromGridRowModel(e);return t.chartData=this.aggregateRowsByDimension(e,t.chartData),t}extractRowsFromGridRowModel(e){const{crossFiltering:t,startRow:n,endRow:i,valueCols:o,dimensionCols:r,grouping:s}=e;let a=[];const l={},u={},c={};let d,h={},p=[];if(t)h=this.getFilteredRowNodes(),p=this.getAllRowNodes(),d=p.length;else{const e=this.gridRowModel.getRowCount()-1;if(n===i&&0===n&&0===r.length&&0===o.length)d=0;else{d=(i>=0?Math.min(i,e):e)-n+1}}d>0&&o.forEach(e=>{let t=[];const n=e.getColDef().pivotKeys;n&&(t=n.slice());const i=e.getColDef().headerName;i&&t.push(i),t.length>0&&(l[e.getId()]=t)});let g=0,m=0;const v={};for(let w=0;w<d;w++){const i=t?p[w]:this.gridRowModel.getRow(w+n);if(i.footer||i.detail){g++;continue}const l={node:i};r.forEach(e=>{const t=e.colId,n=this.colModel.getCol(t);if(n){const e=this.valueSvc.getValue(n,i);if(s){const n=null!==e&&void 0!==e&&e.toString?String(e.toString()):" ",o=this.getGroupLabels(i,n),r=o.slice().reverse(),s={value:r,id:m++,toString:()=>r.filter(Boolean).join(" - ")},a=s.toString(),d=v[a];l[t]=d||(v[a]=s),i.group&&(u[o.toString()]=w-g);const h=o.slice(1,o.length).toString();h&&(c[h]=u[h])}else l[t]=e}else l[dee]=w+1}),o.forEach(n=>{const o=n.getColId();if(t){const t=o+"-filtered-out",r=this.valueSvc.getValue(n,i);let s=r;null!=r&&("function"===typeof r.toNumber?s=r.toNumber():"number"===typeof r.value&&(s=r.value)),h[i.id]?(l[o]=s,l[t]=e.aggFunc||e.isScatter?void 0:0):(l[o]=e.aggFunc||e.isScatter?void 0:0,l[t]=s)}else{let e=this.valueSvc.getValue(n,i);e&&"number"===typeof e.value&&(e=e.value),e&&Object.prototype.hasOwnProperty.call(e,"toString")&&(e=parseFloat(e.toString())),l[o]=null!=e&&"function"===typeof e.toNumber?e.toNumber():e}}),a.push(l)}let f;if(s){const e=Object.values(c),t=a;a=[],f=[];for(let n=0;n<t.length;n++)(e.includes(n)?f:a).push(t[n])}return{chartData:a,colNames:l,groupChartData:f}}aggregateRowsByDimension(e,t){const n=e.dimensionCols;if(!e.aggFunc||0===n.length)return t;const i=_O(n),o=i&&i.colId,r={},s=[];return t.forEach(e=>{let t=r;n.forEach(i=>{const r=i.colId,a=e[r];if(r===o){let i=t[a];i||(i={__children:[]},n.forEach(t=>{const n=t.colId;i[n]=e[n]}),t[a]=i,s.push(i)),i.__children.push(e)}else t[a]||(t[a]={}),t=t[a]})}),this.gos.assertModuleRegistered("SharedAggregation",1)&&s.forEach(t=>e.valueCols.forEach(n=>{const i=n.getColId();if(e.crossFiltering){const o=t.__children.filter(e=>"undefined"!==typeof e[i]).map(e=>e[i]),r=o8(this.beans,o,e.aggFunc,n);t[i]=r&&"undefined"!==typeof r.value?r.value:r;const s="".concat(i,"-filtered-out"),a=t.__children.filter(e=>"undefined"!==typeof e[s]).map(e=>e[s]),l=o8(this.beans,a,e.aggFunc,n);t[s]=l&&"undefined"!==typeof l.value?l.value:l}else{const o=t.__children.map(e=>e[i]),r=o8(this.beans,o,e.aggFunc,n);t[i]=r&&"undefined"!==typeof r.value?r.value:r}})),s}updatePivotKeysForSSRM(){var e;const t=null===(e=this.pivotResultCols)||void 0===e||null===(e=e.getPivotResultCols())||void 0===e?void 0:e.list;if(!t)return;const n=this.extractPivotKeySeparator(t);t.forEach(e=>{if(""===n)e.getColDef().pivotKeys=[];else{const t=e.getColId().split(n);e.getColDef().pivotKeys=t.slice(0,t.length-1)}})}extractPivotKeySeparator(e){if(0===e.length)return"";const t=(e,n)=>{const i=e.getGroupId();return e.getParent()?t(e.getParent(),i):n.split(i)[1][0]},n=e[0];return null==n.getParent()?"":t(n.getParent(),n.getColId())}getGroupLabels(e,t){const n=[t];for(;e&&0!==e.level;)if(e=e.parent)if(e.group){const t=this.colModel.getCol(OO);if(t){const i=this.valueSvc.getValue(t,e),o=null!==i&&void 0!==i&&i.toString?String(i.toString()):" ";n.push(o)}}else n.push(e.key);return n}getFilteredRowNodes(){const e={};return this.gridRowModel.forEachNodeAfterFilterAndSort(t=>{e[t.id]=t}),e}getAllRowNodes(){const e=[];return this.gridRowModel.forEachNode(t=>{e.push(t)}),this.sortRowNodes(e)}sortRowNodes(e){var t;const n=null===(t=this.sortSvc)||void 0===t?void 0:t.getSortOptions();return n&&0!=n.length&&this.rowNodeSorter?this.rowNodeSorter.doFullSort(e,n):e}},lee=class extends vO{constructor(){super(...arguments),this.beanName="chartColSvc",this.valueColsWithoutSeriesType=new Set}wireBeans(e){this.colModel=e.colModel,this.colNames=e.colNames,this.valueSvc=e.valueSvc}postConstruct(){const e=()=>this.valueColsWithoutSeriesType.clear();this.addManagedEventListeners({newColumnsLoaded:e,rowDataUpdated:e})}getColumn(e){return this.colModel.getColDefCol(e)}getAllDisplayedColumns(){return this.beans.visibleCols.allCols}getColDisplayName(e,t){const n="chart",i=this.colNames.getDisplayNameForColumn(e,n);if(t){const t=[i],o=e=>{if(!e)return;const i=this.colNames.getDisplayNameForColumnGroup(e,n);null!==i&&void 0!==i&&i.length&&(t.unshift(i),o(e.getParent()))};return o(e.getParent()),t.join(" - ")}return i}getRowGroupColumns(){var e,t;return null!==(e=null===(t=this.beans.rowGroupColsSvc)||void 0===t?void 0:t.columns)&&void 0!==e?e:[]}getGroupDisplayColumns(){var e,t;return null!==(e=null===(t=this.beans.showRowGroupCols)||void 0===t?void 0:t.getShowRowGroupCols())&&void 0!==e?e:[]}isPivotMode(){return this.colModel.isPivotMode()}isPivotActive(){return this.colModel.isPivotActive()}getChartColumns(){const e=this.colModel.getCols(),t=new Set,n=new Set;return e.forEach(e=>{const i=e.getColDef(),o=i.chartDataType;if(o)switch(o){case"category":case"time":return void t.add(e);case"series":return void n.add(e);case"excluded":return;default:iB(153,{chartDataType:o})}"ag-Grid-AutoColumn"!==i.colId?e.isPrimary()?(this.isInferredValueCol(e)?n:t).add(e):n.add(e):t.add(e)}),{dimensionCols:t,valueCols:n}}isInferredValueCol(e){const t=e.getColId();if("ag-Grid-AutoColumn"===t)return!1;const n=Tz(this.beans,{rowIndex:0,rowPinned:null});if(!n)return this.valueColsWithoutSeriesType.has(t);let i=this.valueSvc.getValue(e,n);null==i&&(i=this.extractLeafData(n,e)),null!=i&&("function"===typeof i.toNumber?i=i.toNumber():"number"===typeof i.value&&(i=i.value));const o="number"===typeof i||"number"===e.colDef.cellDataType||["series","time"].includes(e.colDef.chartDataType);return o?this.valueColsWithoutSeriesType.add(t):null==i&&"number"!==e.colDef.cellDataType&&iB(265,{colId:t}),o}extractLeafData(e,t){if(!e.allLeafChildren)return null;for(let n=0;n<e.allLeafChildren.length;n++){const i=e.allLeafChildren[n],o=this.valueSvc.getValue(t,i);if(null!=o)return o}return null}destroy(){this.valueColsWithoutSeriesType.clear(),super.destroy()}},uee=new Set(["line","groupedColumn","stackedColumn","area","stackedArea"]),cee=class extends vO{constructor(e){var t;super(),this.suppressComboChartWarnings=!1,this.chartDataModel=e,this.seriesChartTypes=null!==(t=e.params.seriesChartTypes)&&void 0!==t?t:[]}postConstruct(){this.initComboCharts()}update(e){this.seriesChartTypes=null!==e&&void 0!==e?e:this.seriesChartTypes,this.initComboCharts(),this.updateSeriesChartTypes()}initComboCharts(){const e=this.seriesChartTypes&&this.seriesChartTypes.length>0;("customCombo"===this.chartDataModel.chartType||e)&&(this.chartDataModel.chartType="customCombo",this.savedCustomSeriesChartTypes=this.seriesChartTypes||[])}updateSeriesChartTypes(){this.chartDataModel.isComboChart()&&(this.seriesChartTypes=this.seriesChartTypes.map(e=>{const t=["groupedColumn","stackedColumn","stackedArea"].includes(e.chartType);return e.secondaryAxis=!t&&e.secondaryAxis,e}),"customCombo"!==this.chartDataModel.chartType?this.updateChartSeriesTypesForBuiltInCombos():this.updateSeriesChartTypesForCustomCombo())}updateSeriesChartTypesForCustomCombo(){this.seriesChartTypes&&this.seriesChartTypes.length>0||this.suppressComboChartWarnings||iB(150),this.seriesChartTypes=this.seriesChartTypes.map(e=>(uee.has(e.chartType)||(iB(151,{chartType:e.chartType}),e.chartType="line"),e));const e=this.chartDataModel.valueColState.map(e=>{this.savedCustomSeriesChartTypes&&0!==this.savedCustomSeriesChartTypes.length||(this.savedCustomSeriesChartTypes=this.seriesChartTypes);const t=this.savedCustomSeriesChartTypes.find(t=>t.colId===e.colId);return t||(e.selected&&!this.suppressComboChartWarnings&&iB(152,{colId:e.colId}),{colId:e.colId,chartType:"line",secondaryAxis:!1})});this.seriesChartTypes=e,this.savedCustomSeriesChartTypes=e,this.suppressComboChartWarnings=!0}updateChartSeriesTypesForBuiltInCombos(){const{chartType:e,valueColState:t}=this.chartDataModel,n="columnLineCombo"===e?"groupedColumn":"stackedArea",i="columnLineCombo"===e?"line":"groupedColumn",o=t.filter(e=>e.selected),r=Math.ceil(o.length/2);this.seriesChartTypes=o.map((e,t)=>{const o=t>=r?i:n;return{colId:e.colId,chartType:o,secondaryAxis:!1}})}},dee="AG-GRID-DEFAULT-CATEGORY",hee=class extends vO{constructor(e){super(),this.unlinked=!1,this.chartData=[],this.valueColState=[],this.dimensionColState=[],this.colNames={},this.crossFiltering=!1,this.grouping=!1,this.params=e,this.chartId=e.chartId,this.setParams(e)}wireBeans(e){this.rangeSvc=e.rangeSvc,this.chartTranslation=e.chartTranslation}setParams(e){const{chartType:t,pivotChart:n,chartThemeName:i,switchCategorySeries:o,aggFunc:r,cellRange:s,suppressChartRanges:a,unlinkChart:l,crossFiltering:u,seriesGroupType:c}=e;this.chartType=t,this.pivotChart=null!==n&&void 0!==n&&n,this.chartThemeName=i,this.switchCategorySeries=!!o,this.aggFunc=r,this.referenceCellRange=s,this.suppliedCellRange=s,this.suppressChartRanges=null!==a&&void 0!==a&&a,this.unlinked=!!l,this.crossFiltering=!!u,this.seriesGroupType=c}postConstruct(){this.datasource=this.createManagedBean(new aee),this.chartColSvc=this.createManagedBean(new lee),this.comboChartModel=this.createManagedBean(new cee(this)),this.updateCellRanges({setColsFromRange:!0}),this.updateData()}updateModel(e){const{cellRange:t,seriesChartTypes:n}=e;t!==this.suppliedCellRange&&(this.dimensionCellRange=void 0,this.valueCellRange=void 0),this.setParams(e),this.updateSelectedDimensions(null===t||void 0===t?void 0:t.columns),this.updateCellRanges({setColsFromRange:!0});(this.isComboChart()||n)&&this.comboChartModel.update(n),this.unlinked||this.updateData()}updateCellRanges(e){const{updatedColState:t,resetOrder:n,maintainColState:i,setColsFromRange:o}=null!==e&&void 0!==e?e:{};this.valueCellRange&&(this.referenceCellRange=this.valueCellRange);const{dimensionCols:r,valueCols:s}=this.chartColSvc.getChartColumns(),a=this.getAllColumnsFromRanges();t&&this.updateColumnState(t,n),this.setDimensionCellRange(r,a,t),this.setValueCellRange(s,a,o),t||i||(this.resetColumnState(),this.syncDimensionCellRange()),this.comboChartModel.updateSeriesChartTypes()}updateData(){const{startRow:e,endRow:t}=this.getRowIndexes();this.pivotChart&&this.resetColumnState(),this.grouping=this.isGrouping();const n={aggFunc:this.aggFunc,dimensionCols:this.getSelectedDimensions(),grouping:this.grouping,pivoting:this.isPivotActive(),crossFiltering:this.crossFiltering,valueCols:this.getSelectedValueCols(),startRow:e,endRow:t,isScatter:["scatter","bubble"].includes(this.chartType)},{chartData:i,colNames:o,groupChartData:r}=this.datasource.getData(n);this.chartData=i,this.groupChartData=r,this.colNames=o,this.categoryAxisType=void 0}isGrouping(){const e=this.gos.get("treeData"),t=e?null:this.chartColSvc.getRowGroupColumns(),n=e||t&&t.length>0,i=this.getSelectedDimensions().map(e=>{let{colId:t}=e;return t}),o=this.chartColSvc.getGroupDisplayColumns().map(e=>e.getColId()).some(e=>i.includes(e));return!!n&&o}getSelectedValueCols(){return this.valueColState.filter(e=>e.selected).map(e=>e.column)}getSelectedDimensions(){return this.dimensionColState.filter(e=>e.selected)}getColDisplayName(e,t){return this.chartColSvc.getColDisplayName(e,t)}isPivotMode(){return this.chartColSvc.isPivotMode()}getChartDataType(e){const t=this.chartColSvc.getColumn(e);return t?t.getColDef().chartDataType:void 0}isPivotActive(){return this.chartColSvc.isPivotActive()}createCellRange(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return{id:this.chartId,startRow:this.referenceCellRange.startRow,endRow:this.referenceCellRange.endRow,columns:n,startColumn:e===dU.DIMENSION||null==this.referenceCellRange.startColumn?n[0]:this.referenceCellRange.startColumn,type:e}}getAllColumnsFromRanges(){if(this.pivotChart)return new Set(this.chartColSvc.getAllDisplayedColumns());const e=this.dimensionCellRange||this.valueCellRange?[]:this.referenceCellRange.columns;return this.dimensionCellRange&&e.push(...this.dimensionCellRange.columns),this.valueCellRange&&e.push(...this.valueCellRange.columns),new Set(e)}getRowIndexes(){let e=0,t=0;const{rangeSvc:n,valueCellRange:i,dimensionCellRange:o}=this,r=i||o;if(n&&r){e=n.getRangeStartRow(r).rowIndex;const i=n.getRangeEndRow(r);t="bottom"===i.rowPinned?-1:i.rowIndex}return{startRow:e,endRow:t}}resetColumnState(){const{dimensionCols:e,valueCols:t}=this.chartColSvc.getChartColumns(),n=this.getAllColumnsFromRanges(),i=this.valueColState.length<1;this.dimensionColState=[],this.valueColState=[];const o=M9(N9(this.chartType));let r=!1,s=1;const a=this.suppliedCellRange.columns[0];e.forEach(e=>{const t="ag-Grid-AutoColumn"===e.getColId();let i=!1;this.crossFiltering&&this.aggFunc?a.getColId()===e.getColId()&&(i=!0):i=!!t||(!r||o)&&n.has(e),this.dimensionColState.push({column:e,colId:e.getColId(),displayName:this.getColDisplayName(e),selected:i,order:s++}),i&&(r=!0)});const l={colId:dee,displayName:this.chartTranslation.translate("defaultCategory"),selected:!r,order:0};this.dimensionColState.unshift(l);const u=this.referenceCellRange.columns.filter(e=>t.has(e));t.forEach(e=>{i&&this.referenceCellRange.columns.includes(e)&&(e=u.shift()),this.valueColState.push({column:e,colId:e.getColId(),displayName:this.getColDisplayName(e),selected:n.has(e),order:s++})})}updateColumnState(e,t){const n=t=>t.colId===e.colId,{dimensionColState:i,valueColState:o}=this,r=i.find(n),s=o.find(n);if(r){if(M9(N9(this.chartType)))r.selected=e.selected;else{const t=e.selected?r:i.filter(e=>e!==r).find(e=>{let{selected:t}=e;return t});i.forEach(e=>e.selected=e===t)}}else s&&(s.selected=e.selected);const a=[...i,...o],l=[];t||(a.forEach((t,n)=>{n===e.order&&l.push(e.colId),t.colId!==e.colId&&l.push(t.colId)}),a.forEach(e=>{const t=l.indexOf(e.colId);e.order=t>=0?l.indexOf(e.colId):a.length-1})),this.reorderColState()}reorderColState(){const e=(e,t)=>e.order-t.order;this.dimensionColState.sort(e),this.valueColState.sort(e)}setDimensionCellRange(e,t,n){this.dimensionCellRange=void 0;const i=M9(N9(this.chartType));if(!n&&!this.dimensionColState.length){const n=new Array;return e.forEach(e=>{n.length>0&&!i||!t.has(e)||n.push(e)}),void(n.length>0&&(this.dimensionCellRange=this.createCellRange(dU.DIMENSION,...n)))}let o=n?[n]:[];if(this.crossFiltering&&this.aggFunc){const e=this.suppliedCellRange.columns[0];o=this.dimensionColState.filter(t=>t.colId===e.getColId())}else(i||0===o.length||o.some(t=>{let{column:n}=t;return!n||!e.has(n)}))&&(o=this.dimensionColState.filter(e=>e.selected));const r=1===o.length&&o[0].colId===dee,s=o.map(e=>{let{column:t}=e;return t}).filter(e=>null!=e);s.length>0&&!r&&(this.dimensionCellRange=this.createCellRange(dU.DIMENSION,...s))}setValueCellRange(e,t,n){this.valueCellRange=void 0;const i=[],o=G9(this.chartType);let r=0;if(e.forEach(e=>{n?(null==o||r<o)&&t.has(e)&&(i.push(e),r++):this.valueColState.some(t=>t.selected&&t.colId===e.getColId())&&i.push(e)}),i.length>0){let e=[];this.valueColState.length>0?e=this.valueColState.map(e=>e.colId):t.forEach(t=>e.push(t.getColId())),i.sort((t,n)=>e.indexOf(t.getColId())-e.indexOf(n.getColId())),this.valueCellRange=this.createCellRange(dU.VALUE,...i)}}resetCellRanges(e,t){if(!e&&!t)return;const{dimensionCols:n,valueCols:i}=this.chartColSvc.getChartColumns(),o=this.getAllColumnsFromRanges();e&&this.setDimensionCellRange(n,o),t&&this.setValueCellRange(i,o)}updateSelectedDimensions(e){const t=new Set(e.map(e=>e.getColId()));if(M9(N9(this.chartType))){const e=this.dimensionColState.filter(e=>t.has(e.colId)),n=new Set(e.map(e=>e.colId));this.dimensionColState=this.dimensionColState.map(e=>d(d({},e),{},{selected:n.has(e.colId)}))}else{const e=(this.dimensionColState.find(e=>t.has(e.colId))||this.dimensionColState[0]).colId;this.dimensionColState=this.dimensionColState.map(t=>d(d({},t),{},{selected:t.colId===e}))}}syncDimensionCellRange(){const e=this.getSelectedDimensions();if(0===e.length)return;const t=e.map(e=>{let{column:t}=e;return t}).filter(e=>null!=e);t.length>0&&(this.dimensionCellRange=this.createCellRange(dU.DIMENSION,...t))}isComboChart(e){return k9(null!==e&&void 0!==e?e:this.chartType)}},pee=class extends Z9{getAxes(e,t){return[{type:this.getXAxisType(e),position:this.isHorizontal(t)?"left":"bottom"},{type:"number",position:this.isHorizontal(t)?"bottom":"left"}]}computeSeriesStatistics(e,t){const{data:n,fields:i}=e,[o]=e.categories,r=o.id||dee,s=this.groupDataByCategory(r,n);return Array.from(s).map(e=>{let[n,r]=e;const s={[o.id]:n};return i.forEach((e,n)=>{const i=r.map(t=>t[e.colId]).filter(e=>"number"===typeof e&&!isNaN(e)),o=t(i);for(const t of Object.keys(o)){const e="".concat(t,":").concat(n);s[e]=i.length>0?o[t]:null}}),s})}groupDataByCategory(e,t){return t.reduce((t,n)=>{const i=(t=>{if(e===dee)return 1;const n=t[e];return null===n||void 0===n?"":n instanceof Date?n.getTime():n})(n),o=t.get(i);return o?o.push(n):t.set(i,[n]),t},new Map)}},gee=class extends pee{getSeries(e){const[t]=e.categories;return e.fields.map((e,n)=>{var i;return{type:this.standaloneChartType,xKey:t.id,xName:t.name,yName:null!==(i=e.displayName)&&void 0!==i?i:void 0,minName:"Min",q1Name:"Q1",medianName:"Median",q3Name:"Q3",maxName:"Max",minKey:"min:".concat(n),q1Key:"q1:".concat(n),medianKey:"median:".concat(n),q3Key:"q3:".concat(n),maxKey:"max:".concat(n)}})}getData(e){return this.computeSeriesStatistics(e,e=>{const t=e.sort((e,t)=>e-t);return{min:t[0],q1:this.quantile(t,.25),median:this.quantile(t,.5),q3:this.quantile(t,.75),max:t[t.length-1]}})}quantile(e,t){const n=(e.length-1)*t,i=Math.floor(n),o=n-i;return void 0!==e[i+1]?e[i]+o*(e[i+1]-e[i]):e[i]}},mee=class extends pee{getSeries(e){const[t]=e.categories;return e.fields.map((e,n)=>{var i;return{type:this.standaloneChartType,xKey:t.id,xName:t.name,yName:null!==(i=e.displayName)&&void 0!==i?i:void 0,yLowName:"Min",yHighName:"Max",yLowKey:"min:".concat(n),yHighKey:"max:".concat(n)}})}getData(e){return this.computeSeriesStatistics(e,e=>({min:Math.min(...e),max:Math.max(...e)}))}},vee=class extends vO{constructor(){super(...arguments),this.beanName="enterpriseChartProxyFactory"}createChartProxy(e){switch(e.chartType){case"histogram":return new $9(e);case"radarLine":case"radarArea":case"nightingale":case"radialColumn":case"radialBar":return new oee(e);case"rangeBar":case"rangeArea":return new mee(e);case"boxPlot":return new gee(e);case"treemap":case"sunburst":return new iee(e);case"heatmap":return new ree(e);case"waterfall":return new X9(e);case"funnel":case"coneFunnel":case"pyramid":return new Q9(e)}}},fee=class extends vO{constructor(e,t,n,i){super(),this.chartController=e,this.eGui=t,this.cssClass=n,this.createPanels=i,this.panels=[]}postConstruct(){this.addManagedListeners(this.chartController,{chartUpdated:()=>this.refreshPanels(!0),chartApiUpdate:()=>this.refreshPanels(!1)})}addComponent(e){this.createBean(e),this.panels.push(e),e.addCss(this.cssClass),this.eGui.appendChild(e.getGui())}refreshPanels(e){const t=this.chartController.getChartType(),n=this.chartController.isGrouping(),i=N9(t);e&&t===this.chartType&&n===this.isGrouping||(this.destroyPanels(),this.createPanels(t,i),this.chartType=t,this.isGrouping=n)}destroyPanels(){this.panels.forEach(e=>{cN(e.getGui()),this.destroyBean(e)}),this.panels=[]}destroy(){this.destroyPanels(),super.destroy()}},wee=class extends AG{constructor(e){super(),this.chartMenuParamsFactory=e}wireBeans(e){this.chartTranslation=e.chartTranslation}postConstruct(){const e=this.chartMenuParamsFactory.addEnableParams("animation.enabled",{cssIdentifier:"charts-advanced-settings-top-level",direction:"vertical",suppressOpenCloseIcons:!0,title:this.chartTranslation.translate("animation"),suppressEnabledCheckbox:!0,useToggle:!0}),t=this.chartMenuParamsFactory.getDefaultNumberInputParams("animation.duration","durationMillis",{min:0});this.setTemplate('<div>\n            <ag-group-component data-ref="animationGroup">\n                <ag-input-number-field data-ref="animationHeightInput"></ag-input>\n            </ag-group-component>\n        </div>',[B6,$W],{animationGroup:e,animationHeightInput:t})}},Cee={tag:"div",cls:"ag-color-input",role:"presentation",children:[{tag:"div",ref:"eLabel",cls:"ag-input-field-label"},{tag:"div",ref:"eWrapper",cls:"ag-wrapper ag-input-wrapper",role:"presentation",children:[{tag:"input",ref:"eInput",cls:"ag-input-field-input"},{tag:"div",ref:"eColor",cls:"ag-color-input-color"}]}]},bee={selector:"AG-COLOR-INPUT",component:class extends KW{constructor(){super({template:Cee}),this.eColor=kG}wireBeans(e){this.chartTranslation=e.chartTranslation,this.color=e.agChartsExports._Util.Color}setColor(e){const t=e.toRgbaString();this.setValue(this.color.fromString(t).toHexString().toUpperCase(),!0),this.eColor.style.backgroundColor=t}setValue(e,t){const n=this.color.validColorString(null!==e&&void 0!==e?e:"");return this.eInput.setCustomValidity(n?"":this.chartTranslation.translate("invalidColor")),super.setValue(e,t),n&&!t&&this.dispatchLocalEvent({type:"colorChanged"}),this}onColorChanged(e){this.addManagedListeners(this,{colorChanged:()=>e(this.color.fromString(this.value))})}}},yee=[],See=class extends AG{constructor(e){super('<div class="ag-color-panel" tabindex="-1">\n            <div data-ref="spectrumColor" class="ag-spectrum-color">\n                <div class="ag-spectrum-sat ag-spectrum-fill">\n                    <div data-ref="spectrumVal" class="ag-spectrum-val ag-spectrum-fill">\n                        <div data-ref="spectrumDragger" class="ag-spectrum-dragger"></div>\n                    </div>\n                </div>\n            </div>\n            <div class="ag-spectrum-tools">\n                <div data-ref="spectrumHue" class="ag-spectrum-hue ag-spectrum-tool">\n                    <div class="ag-spectrum-hue-background"></div>\n                    <div data-ref="spectrumHueSlider" class="ag-spectrum-slider"></div>\n                </div>\n                <div data-ref="spectrumAlpha" class="ag-spectrum-alpha ag-spectrum-tool">\n                    <div class="ag-spectrum-alpha-background"></div>\n                    <div data-ref="spectrumAlphaSlider" class="ag-spectrum-slider"></div>\n                </div>\n                <ag-color-input data-ref="colorInput"></ag-color-input>\n                <div data-ref="recentColors" class="ag-recent-colors"></div>\n            </div>\n        </div>',[bee]),this.H=1,this.S=1,this.B=1,this.A=1,this.isSpectrumDragging=!1,this.isSpectrumHueDragging=!1,this.isSpectrumAlphaDragging=!1,this.colorChanged=!1,this.spectrumColor=kG,this.spectrumVal=kG,this.spectrumDragger=kG,this.spectrumHue=kG,this.spectrumHueSlider=kG,this.spectrumAlpha=kG,this.spectrumAlphaSlider=kG,this.colorInput=kG,this.recentColors=kG,this.picker=e.picker}wireBeans(e){this._Color=e.agChartsExports._Util.Color}postConstruct(){this.initTabIndex(),this.initRecentColors(),this.addGuiEventListener("focus",()=>this.spectrumColor.focus()),this.addGuiEventListener("keydown",e=>{e.key!==sV.ENTER||e.defaultPrevented||this.destroy()}),this.addManagedListeners(this.spectrumColor,{keydown:e=>this.moveDragger(e)}),this.addManagedListeners(this.spectrumAlphaSlider,{keydown:e=>this.moveAlphaSlider(e)}),this.addManagedListeners(this.spectrumHueSlider,{keydown:e=>this.moveHueSlider(e)}),this.addManagedListeners(this.spectrumVal,{mousedown:this.onSpectrumDraggerDown.bind(this)}),this.addManagedListeners(this.spectrumHue,{mousedown:this.onSpectrumHueDown.bind(this)}),this.addManagedListeners(this.spectrumAlpha,{mousedown:this.onSpectrumAlphaDown.bind(this)}),this.addGuiEventListener("mousemove",e=>{this.onSpectrumDraggerMove(e),this.onSpectrumHueMove(e),this.onSpectrumAlphaMove(e)}),this.addManagedListeners(document,{mouseup:this.onMouseUp.bind(this)}),this.colorInput.onColorChanged(this.setColor.bind(this)),this.addManagedListeners(this.recentColors,{click:this.onRecentColorClick.bind(this),keydown:e=>{e.key!==sV.ENTER&&e.key!==sV.SPACE||(e.preventDefault(),this.onRecentColorClick(e))}})}initTabIndex(){const e=this.tabIndex=this.gos.get("tabIndex").toString();this.spectrumColor.setAttribute("tabindex",e),this.spectrumHueSlider.setAttribute("tabindex",e),this.spectrumAlphaSlider.setAttribute("tabindex",e)}refreshSpectrumRect(){return this.spectrumValRect=this.spectrumVal.getBoundingClientRect()}refreshHueRect(){return this.spectrumHueRect=this.spectrumHue.getBoundingClientRect()}refreshAlphaRect(){return this.spectrumAlphaRect=this.spectrumAlpha.getBoundingClientRect()}onSpectrumDraggerDown(e){e.preventDefault(),this.refreshSpectrumRect(),this.isSpectrumDragging=!0,this.moveDragger(e)}onSpectrumDraggerMove(e){this.isSpectrumDragging&&this.moveDragger(e)}onSpectrumHueDown(e){this.refreshHueRect(),this.isSpectrumHueDragging=!0,this.moveHueSlider(e)}onSpectrumHueMove(e){this.isSpectrumHueDragging&&this.moveHueSlider(e)}onSpectrumAlphaDown(e){this.refreshAlphaRect(),this.isSpectrumAlphaDragging=!0,this.moveAlphaSlider(e)}onSpectrumAlphaMove(e){this.isSpectrumAlphaDragging&&this.moveAlphaSlider(e)}onMouseUp(){this.isSpectrumDragging=!1,this.isSpectrumHueDragging=!1,this.isSpectrumAlphaDragging=!1}moveDragger(e){const t=this.spectrumValRect;if(!t)return;let n,i;if(e instanceof MouseEvent)n=e.clientX-t.left,i=e.clientY-t.top;else{const t=e.key===sV.LEFT,o=e.key===sV.RIGHT,r=e.key===sV.UP,s=e.key===sV.DOWN,a=r||s,l=t||o;if(!a&&!l)return;e.preventDefault();const{x:u,y:c}=this.getSpectrumValue();n=u+(l?t?-5:5:0),i=c+(a?r?-5:5:0)}n=Math.max(n,0),n=Math.min(n,t.width),i=Math.max(i,0),i=Math.min(i,t.height),this.setSpectrumValue(n/t.width,1-i/t.height)}moveHueSlider(e){const t=this.spectrumHueRect;if(!t)return;const n=this.moveSlider(this.spectrumHueSlider,e);null!=n&&(this.H=1-n/t.width,this.update())}moveAlphaSlider(e){const t=this.spectrumAlphaRect;if(!t)return;const n=this.moveSlider(this.spectrumAlphaSlider,e);null!=n&&(this.A=n/t.width,this.update())}moveSlider(e,t){var n;const i=e.getBoundingClientRect(),o=null===(n=e.parentElement)||void 0===n?void 0:n.getBoundingClientRect();if(!e||!o)return null;const r=i.width/2;let s;if(t instanceof MouseEvent)s=Math.floor(t.clientX-o.left);else{const n=t.key===sV.LEFT,i=t.key===sV.RIGHT;if(!n&&!i)return null;t.preventDefault();const o=n?-5:5;s=parseFloat(e.style.left)+r+o}return s=Math.max(s,0),s=Math.min(s,o.width),e.style.left=s-r+"px",s}update(e){const{A:t,S:n,B:i,H:o,_Color:r}=this,s=360*o,a=r.fromHSB(s,n,i,t),l=a.toRgbaString(),u=r.fromHSB(s,n,i).toRgbaString(),c=r.fromHSB(s,1,1).toRgbaString(),d=this.picker;r.fromString(d.getValue()).toRgbaString()!==l&&(this.colorChanged=!0),d.setValue(l),this.spectrumColor.style.backgroundColor=c,this.spectrumDragger.style.backgroundColor=u,this.spectrumHueSlider.style.backgroundColor=c,this.spectrumAlpha.style.setProperty("--ag-internal-spectrum-alpha-color-from",r.fromHSB(s,n,i,0).toRgbaString()),this.spectrumAlpha.style.setProperty("--ag-internal-spectrum-alpha-color-to",u),this.spectrumAlpha.style.setProperty("--ag-internal-spectrum-alpha-color",l),e||this.colorInput.setColor(a)}setSpectrumValue(e,t,n){const i=this.spectrumValRect||this.refreshSpectrumRect();if(null==i)return;const o=this.spectrumDragger,r=o.getBoundingClientRect();e=Math.max(0,e),e=Math.min(1,e),t=Math.max(0,t),t=Math.min(1,t),this.S=e,this.B=t,o.style.left=e*i.width-r.width/2+"px",o.style.top=(1-t)*i.height-r.height/2+"px",this.update(n)}getSpectrumValue(){const e=this.spectrumDragger,t=e.getBoundingClientRect();return{x:parseFloat(e.style.left)+t.width/2,y:parseFloat(e.style.top)+t.height/2}}initRecentColors(){const e=yee,t=e.map((e,t)=>'<div class="ag-recent-color" id='.concat(t,' style="background-color: ').concat(e,'; width: 15px; height: 15px;" recent-color="').concat(e,'" tabIndex="').concat(this.tabIndex,'"></div>'));this.recentColors.innerHTML=t.join(""),XL(this.recentColors,!!e.length)}setValue(e){const t=this._Color.fromString(e);this.setColor(t,!0)}setColor(e,t){const[n,i,o]=e.toHSB();this.H=(isNaN(n)?0:n)/360,this.A=e.a;const r=this.spectrumHueRect||this.refreshHueRect(),s=this.spectrumAlphaRect||this.refreshAlphaRect();this.spectrumHueSlider.style.left="".concat((this.H-1)*-r.width-this.spectrumHueSlider.getBoundingClientRect().width/2,"px"),this.spectrumAlphaSlider.style.left="".concat(this.A*s.width-this.spectrumAlphaSlider.getBoundingClientRect().width/2,"px"),this.setSpectrumValue(i,o,!t)}onRecentColorClick(e){const t=e.target;if(!UI(t.id))return;const n=parseInt(t.id,10);this.setValue(yee[n]),this.destroy()}addRecentColor(){const e=this._Color.fromHSB(360*this.H,this.S,this.B,this.A).toRgbaString();let t=yee;this.colorChanged&&t[0]!==e&&(t=t.filter(t=>t!=e),t=[e].concat(t),t.length>8&&(t=t.slice(0,8)),yee=t)}destroy(){this.addRecentColor(),super.destroy()}},xee=class extends tU{constructor(e){super(d({pickerAriaLabelKey:"ariaLabelColorPicker",pickerAriaLabelValue:"Color Picker",pickerType:"ag-list",className:"ag-color-picker",pickerIcon:"chartsColorPicker"},e))}postConstruct(){this.eDisplayFieldColor=MN({tag:"span",cls:"ag-color-picker-color"}),this.eDisplayFieldText=MN({tag:"span",cls:"ag-color-picker-value"}),this.eDisplayField.append(this.eDisplayFieldColor,this.eDisplayFieldText),super.postConstruct(),this.value&&this.setValue(this.value)}createPickerComponent(){var e;const t=this.eWrapper.getBoundingClientRect(),n=this.beans.popupSvc.getParentRect();return this.createBean(new y5({closable:!1,modal:!0,hideTitleBar:!0,minWidth:190,width:190,height:250,x:t.right-n.left-190,y:t.top-n.top-250-(null!==(e=this.config.pickerGap)&&void 0!==e?e:0),postProcessPopupParams:{type:"colorPicker",eventSource:this.eWrapper}}))}renderAndPositionPicker(){const e=this.pickerComponent,t=this.createBean(new See({picker:this}));return e.addCss("ag-color-dialog"),t.addDestroyFunc(()=>{e.isAlive()&&this.destroyBean(e)}),e.setParentComponent(this),e.setBodyComponent(t),t.setValue(this.getValue()),t.getGui().focus(),e.addDestroyFunc(()=>{this.isDestroyingPicker?this.isDestroyingPicker=!1:(this.beforeHidePicker(),this.isDestroyingPicker=!0,t.isAlive()&&this.destroyBean(t),this.isAlive()&&this.getFocusableElement().focus())}),()=>{var e;return null===(e=this.pickerComponent)||void 0===e?void 0:e.close()}}setValue(e){return this.value===e?this:(this.eDisplayFieldColor.style.backgroundColor=e,this.eDisplayFieldText.textContent=this.beans.agChartsExports._Util.Color.fromString(e).toHexString().toUpperCase(),super.setValue(e))}getValue(){return this.value}},Dee={selector:"AG-COLOR-PICKER",component:xee},Eee=class extends AG{constructor(e){super(),this.chartMenuParamsFactory=e}wireBeans(e){this.chartTranslation=e.chartTranslation}postConstruct(){const e=this.chartMenuParamsFactory.addEnableParams("crosshair.enabled",{cssIdentifier:"charts-advanced-settings-top-level",direction:"vertical",suppressOpenCloseIcons:!0,title:this.chartTranslation.translate("crosshair"),suppressEnabledCheckbox:!0,useToggle:!0}),t=this.chartMenuParamsFactory.getDefaultCheckboxParams("crosshair.label.enabled","crosshairLabel"),n=this.chartMenuParamsFactory.getDefaultCheckboxParams("crosshair.snap","crosshairSnap"),i=this.chartMenuParamsFactory.getDefaultColorPickerParams("crosshair.stroke","color");this.setTemplate('<div>\n            <ag-group-component data-ref="crosshairGroup">\n                <ag-checkbox data-ref="crosshairLabelCheckbox"></ag-checkbox>\n                <ag-checkbox data-ref="crosshairSnapCheckbox"></ag-checkbox>\n                <ag-color-picker data-ref="crosshairStrokeColorPicker"></ag-color-picker>\n            </ag-group-component>\n        </div>',[B6,wW,Dee],{crosshairGroup:e,crosshairLabelCheckbox:t,crosshairSnapCheckbox:n,crosshairStrokeColorPicker:i})}},Fee={selector:"AG-INPUT-RANGE",component:class extends vW{constructor(e){super(e,"ag-range-field","range")}postConstruct(){super.postConstruct();const{min:e,max:t,step:n}=this.config;null!=e&&this.setMinValue(e),null!=t&&this.setMaxValue(t),this.setStep(n||1)}addInputListeners(){this.addManagedElementListeners(this.eInput,{input:e=>{const t=e.target.value;this.setValue(t)}})}setMinValue(e){return this.min=e,this.eInput.setAttribute("min",e.toString()),this}setMaxValue(e){return this.max=e,this.eInput.setAttribute("max",e.toString()),this}setStep(e){return this.eInput.setAttribute("step",e.toString()),this}setValue(e,t){null!=this.min&&(e=Math.max(parseFloat(e),this.min).toString()),null!=this.max&&(e=Math.min(parseFloat(e),this.max).toString());const n=super.setValue(e,t);return this.eInput.value=e,n}}},kee=class extends gW{constructor(e){super(e,'<div class="ag-slider">\n            <label data-ref="eLabel"></label>\n            <div class="ag-wrapper ag-slider-wrapper">\n                <ag-input-range data-ref="eSlider"></ag-input-range>\n                <ag-input-number-field data-ref="eText"></ag-input-number-field>\n            </div>\n        </div>',[Fee,$W]),this.eLabel=kG,this.eSlider=kG,this.eText=kG,this.labelAlignment="top"}postConstruct(){super.postConstruct(),this.eSlider.addCss("ag-slider-field");const{minValue:e,maxValue:t,textFieldWidth:n,step:i,value:o,onValueChange:r}=this.config;null!=e&&this.setMinValue(e),null!=t&&this.setMaxValue(t),null!=n&&this.setTextFieldWidth(n),null!=i&&this.setStep(i),null!=o&&this.setValue(o),null!=r&&this.onValueChange(r)}onValueChange(e){return this.addManagedListeners(this.eText,{fieldValueChanged:()=>{const t=parseFloat(this.eText.getValue());this.eSlider.setValue(t.toString(),!0),e(t||0)}}),this.addManagedListeners(this.eSlider,{fieldValueChanged:()=>{const t=this.eSlider.getValue();this.eText.setValue(t,!0),e(parseFloat(t))}}),this}setSliderWidth(e){return this.eSlider.setWidth(e),this}setTextFieldWidth(e){return this.eText.setWidth(e),this}setMinValue(e){return this.eSlider.setMinValue(e),this.eText.setMin(e),this}setMaxValue(e){return this.eSlider.setMaxValue(e),this.eText.setMax(e),this}getValue(){return this.eText.getValue()}setValue(e,t){return this.getValue()===e||(this.eText.setValue(e,!0),this.eSlider.setValue(e,!0),t||this.dispatchLocalEvent({type:"fieldValueChanged"})),this}setStep(e){return this.eSlider.setStep(e),this.eText.setStep(e),this}},Aee={selector:"AG-SLIDER",component:kee},Ree=class extends AG{constructor(e){super(),this.chartMenuParamsFactory=e}wireBeans(e){this.chartTranslation=e.chartTranslation}postConstruct(){const e=this.chartMenuParamsFactory.addEnableParams("navigator.enabled",{cssIdentifier:"charts-advanced-settings-top-level",direction:"vertical",suppressOpenCloseIcons:!0,title:this.chartTranslation.translate("navigator"),suppressEnabledCheckbox:!0,useToggle:!0}),t=this.chartMenuParamsFactory.getDefaultSliderParams("navigator.height","height",60);t.minValue=10;const n=this.chartMenuParamsFactory.getDefaultCheckboxParams("navigator.miniChart.enabled","miniChart");this.setTemplate('<div>\n            <ag-group-component data-ref="navigatorGroup">\n                <ag-slider data-ref="navigatorHeightSlider"></ag-slider>\n                <ag-checkbox data-ref="navigatorMiniChartCheckbox"></ag-checkbox>\n            </ag-group-component>\n        </div>',[B6,Aee,wW],{navigatorGroup:e,navigatorHeightSlider:t,navigatorMiniChartCheckbox:n})}},Pee=class extends AG{constructor(e){super(),this.chartMenuParamsFactory=e,this.zoomScrollingStepInput=kG}wireBeans(e){this.chartTranslation=e.chartTranslation}postConstruct(){const e=this.chartMenuParamsFactory.addEnableParams("zoom.enabled",{cssIdentifier:"charts-advanced-settings-top-level",direction:"vertical",suppressOpenCloseIcons:!0,title:this.chartTranslation.translate("zoom"),suppressEnabledCheckbox:!0,useToggle:!0}),t=this.chartMenuParamsFactory.getDefaultCheckboxParams("zoom.enableScrolling","scrollingZoom"),n=this.chartMenuParamsFactory.getDefaultSliderParams("zoom.scrollingStep","scrollingStep",1);n.step=.01,n.minValue=n.step;const i=this.chartMenuParamsFactory.getDefaultCheckboxParams("zoom.enableSelecting","selectingZoom");t.onValueChange=(e=>t=>{e&&(e(t),this.zoomScrollingStepInput.setDisabled(!t))})(t.onValueChange),this.setTemplate('<div>\n            <ag-group-component data-ref="zoomGroup">\n                <ag-checkbox data-ref="zoomSelectingCheckbox"></ag-checkbox>\n                <ag-checkbox data-ref="zoomScrollingCheckbox"></ag-checkbox>\n                <ag-slider data-ref="zoomScrollingStepInput"></ag-slider>\n            </ag-group-component>\n        </div>',[B6,wW,Aee],{zoomGroup:e,zoomScrollingCheckbox:t,zoomScrollingStepInput:n,zoomSelectingCheckbox:i}),this.zoomScrollingStepInput.setDisabled(!t.value)}},Tee=["navigator","zoom","animation","crosshair"],_ee=class extends AG{constructor(e){super('<div class="ag-chart-advanced-settings-wrapper"></div>'),this.chartMenuContext=e}postConstruct(){this.chartPanelFeature=this.createManagedBean(new fee(this.chartMenuContext.chartController,this.getGui(),"ag-chart-advanced-settings-section",(e,t)=>this.createPanels(e,t))),this.chartPanelFeature.refreshPanels()}createPanels(e,t){Tee.forEach(e=>{if(!this.isGroupPanelShownForSeries(e,t))return;const n=this.createPanel(e);this.chartPanelFeature.addComponent(n)})}isGroupPanelShownForSeries(e,t){return"animation"===e||P9(t)&&!T9(t)}createPanel(e){const{chartMenuParamsFactory:t,chartAxisMenuParamsFactory:n}=this.chartMenuContext;switch(e){case"navigator":return new Ree(t);case"zoom":return new Pee(t);case"animation":return new wee(t);case"crosshair":return new Eee(n)}}},Mee=class extends vO{constructor(){super(...arguments),this.beanName="advSettingsMenuFactory"}showMenu(e,t){this.hideMenu();const n=this.createBean(new Iee(e));this.activeDialog=this.createBean(new y5({title:this.beans.chartTranslation.translate("advancedSettings"),component:n,width:300,height:400,resizable:!0,movable:!0,centered:!0,closable:!0,afterGuiAttached:()=>{var e;null===(e=pV(n.getGui())[0])||void 0===e||e.focus()},closedCallback:()=>{this.activeMenu=this.destroyBean(this.activeMenu),this.activeDialog=void 0,null===t||void 0===t||t.focus({preventScroll:!0})}})),this.activeMenu=n}hideMenu(){this.activeDialog&&this.destroyBean(this.activeDialog)}destroy(){this.activeMenu=this.destroyBean(this.activeMenu),this.activeDialog=this.destroyBean(this.activeDialog),super.destroy()}},Iee=class extends uU{constructor(e){super('<div class="ag-chart-advanced-settings"></div>'),this.chartMenuContext=e}postConstruct(){this.advancedSettingsPanel=this.createManagedBean(new _ee(this.chartMenuContext)),this.getGui().appendChild(this.advancedSettingsPanel.getGui()),this.initialiseTabGuard({onTabKeyDown:this.onTabKeyDown.bind(this),focusTrapActive:!0})}onTabKeyDown(e){if(e.defaultPrevented)return;e.preventDefault();const t=e.shiftKey,n=this.advancedSettingsPanel.getGui(),i=mV(this.beans,n,!1,t);if(i)i.focus();else{const e=pV(n);e.length&&e[t?e.length-1:0].focus()}}},Lee=class extends vO{constructor(){super(...arguments),this.beanName="chartMenuListFactory"}wireBeans(e){this.popupSvc=e.popupSvc,this.chartMenuSvc=e.chartMenuSvc,this.chartTranslation=e.chartTranslation}showMenuList(e){const{eventSource:t,showMenu:n,chartMenuContext:i}=e,o=this.chartMenuSvc.doChartToolPanelsExist(i.chartController),r=this.mapWithStockItems(this.getMenuItems(i.chartController,o),i,n,t,o);if(!r.length)return;const s=this.createBean(new Nee(r));this.activeChartMenuList=s;let a=-1,l="left";this.gos.get("enableRtl")&&(a=1,l="right");const u=s.getGui();this.popupSvc.addPopup({modal:!0,eChild:u,closeOnEsc:!0,closedCallback:()=>{this.destroyBean(s),this.activeChartMenuList=void 0,EB(this.beans)&&t.focus({preventScroll:!0})},afterGuiAttached:e=>s.afterGuiAttached(e),positionCallback:()=>{this.popupSvc.positionPopupByComponent({type:"chartMenu",eventSource:t,ePopup:u,alignSide:l,nudgeX:4*a,nudgeY:4,position:"under",keepWithinBounds:!0})},ariaLabel:"Chart Menu"})}getMenuItems(e,t){const n=[...t?["chartEdit"]:[],...e.isEnterprise()?["chartAdvancedSettings"]:[],e.isChartLinked()?"chartUnlink":"chartLink","chartDownload"],i=this.gos.get("chartMenuItems");return i?Array.isArray(i)?i:i(iO(this.gos,{defaultItems:n,chartId:e.getChartId()})):n}mapWithStockItems(e,t,n,i,o){if(!e)return[];const r=[];return e.forEach(e=>{let s;if(s="string"===typeof e?this.getStockMenuItem(e,t,n,i,o):d({},e),!s)return;const{subMenu:a}=s;Array.isArray(a)&&(s.subMenu=this.mapWithStockItems(a,t,n,i,o)),r.push(s)}),r}getStockMenuItem(e,t,n,i,o){switch(e){case"chartEdit":return o?this.createMenuItem(this.chartTranslation.translate("chartEdit"),"chartsMenuEdit",n):null;case"chartAdvancedSettings":return this.createMenuItem(this.chartTranslation.translate("chartAdvancedSettings"),"chartsMenuAdvancedSettings",()=>this.chartMenuSvc.openAdvancedSettings(t,i));case"chartUnlink":return t.chartController.isChartLinked()?this.createMenuItem(this.chartTranslation.translate("chartUnlink"),"unlinked",()=>this.chartMenuSvc.toggleLinked(t)):null;case"chartLink":return t.chartController.isChartLinked()?null:this.createMenuItem(this.chartTranslation.translate("chartLink"),"linked",()=>this.chartMenuSvc.toggleLinked(t));case"chartDownload":return this.createMenuItem(this.chartTranslation.translate("chartDownload"),"chartsDownload",()=>this.chartMenuSvc.downloadChart(t))}return null}createMenuItem(e,t,n){return{name:e,icon:hW(t,this.beans,null),action:n}}destroy(){this.destroyBean(this.activeChartMenuList),super.destroy()}},Nee=class extends AG{constructor(e){super('\n            <div data-ref="eChartsMenu" role="presentation" class="ag-menu ag-chart-menu-popup"></div>\n        '),this.menuItems=e,this.eChartsMenu=kG}postConstruct(){this.mainMenuList=this.createManagedBean(new a4(0)),this.mainMenuList.addMenuItems(this.menuItems),this.mainMenuList.addEventListener("closeMenu",this.onHidePopup.bind(this)),this.eChartsMenu.appendChild(this.mainMenuList.getGui())}onHidePopup(){var e;null===(e=this.hidePopupFunc)||void 0===e||e.call(this)}afterGuiAttached(e){let{hidePopup:t}=e;t&&(this.hidePopupFunc=t,this.addDestroyFunc(t)),gV(this.mainMenuList.getGui())}},Bee=class extends vO{constructor(){super(...arguments),this.beanName="chartCrossFilterSvc"}wireBeans(e){this.colModel=e.colModel,this.valueSvc=e.valueSvc,this.filterManager=e.filterManager,uB(this.gos,e.rowModel)&&(this.clientSideRowModel=e.rowModel)}filter(e){var t,n;let i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const o=null!==(t=null===(n=this.filterManager)||void 0===n?void 0:n.getFilterModel())&&void 0!==t?t:{};if(i)return void this.resetFilters(o);const r=this.extractFilterColId(e);this.isValidColumnFilter(r)?this.updateFilters(o,e,r):iB(154,{colId:r})}resetFilters(e){var t,n;Object.keys(e).length>0&&(null===(t=this.filterManager)||void 0===t||t.setFilterModel(null),null===(n=this.filterManager)||void 0===n||n.onFilterChanged({source:"api"}))}updateFilters(e,t,n){var i;const o=this.extractFilterColId(t),r=t.datum[o];if(void 0===r)return;const s=r.toString();if(t.event.metaKey||t.event.ctrlKey){const t=this.getCurrentGridValuesForCategory(n);let i;t.includes(s)?i=t.filter(e=>e!==s):(i=t,i.push(s)),e[n]=this.getUpdatedFilterModel(n,i)}else{const t=[s];e={[n]:this.getUpdatedFilterModel(n,t)}}null===(i=this.filterManager)||void 0===i||i.setFilterModel(e)}getUpdatedFilterModel(e,t){return"agMultiColumnFilter"===this.getColumnFilterType(e)?{filterType:"multi",filterModels:[null,{filterType:"set",values:t}]}:{filterType:"set",values:t}}getCurrentGridValuesForCategory(e){var t;const n=[],i=this.getColumnById(e);return null===(t=this.clientSideRowModel)||void 0===t||t.forEachNodeAfterFilter(e=>{if(i&&!e.group){const t=this.valueSvc.getValue(i,e)+"";n.includes(t)||n.push(t)}}),n}extractFilterColId(e){return e.xKey||e.calloutLabelKey}isValidColumnFilter(e){e.indexOf("-filtered-out")&&(e=e.replace("-filtered-out",""));const t=this.getColumnFilterType(e);return"boolean"===typeof t?t:["agSetColumnFilter","agMultiColumnFilter"].includes(t)}getColumnFilterType(e){const t=this.getColumnById(e);if(t){return t.getColDef().filter}}getColumnById(e){return this.colModel.getCol(e)}},Oee=["chartUnlink","chartLink","chartDownload","chartMenu"],Gee={settings:"chartSettings",data:"chartData",format:"chartFormat"},zee=class extends vO{constructor(){super(...arguments),this.beanName="chartMenuSvc"}wireBeans(e){this.advSettingsMenuFactory=e.advSettingsMenuFactory}downloadChart(e,t,n,i){e.chartController.getChartProxy().downloadChart(t,n,i)}toggleLinked(e){e.chartController.detachChartRange()}openAdvancedSettings(e,t){var n;null===(n=this.advSettingsMenuFactory)||void 0===n||n.showMenu(e,t)}hideAdvancedSettings(){var e;null===(e=this.advSettingsMenuFactory)||void 0===e||e.hideMenu()}getChartToolbarOptions(){const e=["chartMenu"],t=this.gos.getCallback("getChartToolbarItems");return t?t({defaultItems:e}).filter(e=>!!Oee.includes(e)||(iB(155,{option:e}),!1)):e}getChartToolPanels(e){var t;const n=this.gos.get("chartToolPanelsDef"),i=null===n||void 0===n||null===(t=n.panels)||void 0===t?void 0:t.map(e=>{const t=Gee[e];return t||iB(156,{panel:e}),t}).filter(e=>Boolean(e));let o=null!==i&&void 0!==i?i:Object.values(Gee);e.isPivotChart()&&(o=o.filter(e=>"chartData"!==e));const r=null===n||void 0===n?void 0:n.defaultToolPanel;return{panels:o,defaultPanel:r&&Gee[r]||o[0]}}doesChartToolbarExist(){return this.getChartToolbarOptions().length>0}doChartToolPanelsExist(e){const{panels:t}=this.getChartToolPanels(e);return t.length>0}},Vee={pivotChartTitle:"Pivot Chart",rangeChartTitle:"Range Chart",settings:"Chart",data:"Set Up",format:"Customize",categories:"Categories",defaultCategory:"(None)",series:"Series",switchCategorySeries:"Switch Category / Series",categoryValues:"Category Values",seriesLabels:"Series Labels",aggregate:"Aggregate",xyValues:"X Y Values",paired:"Paired Mode",axis:"Axis",xAxis:"Horizontal Axis",yAxis:"Vertical Axis",polarAxis:"Polar Axis",radiusAxis:"Radius Axis",navigator:"Navigator",zoom:"Zoom",animation:"Animation",crosshair:"Crosshair",color:"Color",thickness:"Thickness",preferredLength:"Preferred Length",xType:"X Type",axisType:"Axis Type",automatic:"Automatic",category:"Category",number:"Number",time:"Time",timeFormat:"Time Format",autoRotate:"Auto Rotate",labelRotation:"Rotation",circle:"Circle",polygon:"Polygon",square:"Square",cross:"Cross",diamond:"Diamond",plus:"Plus",triangle:"Triangle",heart:"Heart",orientation:"Orientation",fixed:"Fixed",parallel:"Parallel",perpendicular:"Perpendicular",radiusAxisPosition:"Position",ticks:"Ticks",gridLines:"Grid Lines",width:"Width",height:"Height",length:"Length",padding:"Padding",spacing:"Spacing",chartStyle:"Chart Style",title:"Title",chartTitles:"Titles",chartTitle:"Chart Title",chartSubtitle:"Subtitle",horizontalAxisTitle:"Horizontal Axis Title",verticalAxisTitle:"Vertical Axis Title",polarAxisTitle:"Polar Axis Title",titlePlaceholder:"Chart Title",background:"Background",font:"Font",weight:"Weight",top:"Top",right:"Right",bottom:"Bottom",left:"Left",labels:"Labels",calloutLabels:"Callout Labels",sectorLabels:"Sector Labels",positionRatio:"Position Ratio",size:"Size",shape:"Shape",minSize:"Minimum Size",maxSize:"Maximum Size",legend:"Legend",position:"Position",markerSize:"Marker Size",markerStroke:"Marker Stroke",markerPadding:"Marker Padding",itemSpacing:"Item Spacing",itemPaddingX:"Item Padding X",itemPaddingY:"Item Padding Y",layoutHorizontalSpacing:"Horizontal Spacing",layoutVerticalSpacing:"Vertical Spacing",strokeWidth:"Stroke Width",offset:"Offset",offsets:"Offsets",tooltips:"Tooltips",callout:"Callout",markers:"Markers",shadow:"Shadow",blur:"Blur",xOffset:"X Offset",yOffset:"Y Offset",lineWidth:"Line Width",lineDash:"Line Dash",lineDashOffset:"Dash Offset",scrollingZoom:"Scrolling",scrollingStep:"Scrolling Step",selectingZoom:"Selecting",durationMillis:"Duration (ms)",crosshairLabel:"Label",crosshairSnap:"Snap to Node",normal:"Normal",bold:"Bold",italic:"Italic",boldItalic:"Bold Italic",predefined:"Predefined",fillOpacity:"Fill Opacity",strokeColor:"Line Color",strokeOpacity:"Line Opacity",miniChart:"Mini-Chart",histogramBinCount:"Bin count",connectorLine:"Connector Line",seriesItems:"Series Items",seriesItemType:"Item Type",seriesItemPositive:"Positive",seriesItemNegative:"Negative",seriesItemLabels:"Item Labels",columnGroup:"Column",barGroup:"Bar",pieGroup:"Pie",lineGroup:"Line",scatterGroup:"X Y (Scatter)",areaGroup:"Area",polarGroup:"Polar",statisticalGroup:"Statistical",hierarchicalGroup:"Hierarchical",specializedGroup:"Specialized",combinationGroup:"Combination",groupedColumnTooltip:"Grouped",stackedColumnTooltip:"Stacked",normalizedColumnTooltip:"100% Stacked",groupedBarTooltip:"Grouped",stackedBarTooltip:"Stacked",normalizedBarTooltip:"100% Stacked",pieTooltip:"Pie",donutTooltip:"Donut",lineTooltip:"Line",stackedLineTooltip:"Stacked",normalizedLineTooltip:"100% Stacked",groupedAreaTooltip:"Area",stackedAreaTooltip:"Stacked",normalizedAreaTooltip:"100% Stacked",scatterTooltip:"Scatter",bubbleTooltip:"Bubble",histogramTooltip:"Histogram",radialColumnTooltip:"Radial Column",radialBarTooltip:"Radial Bar",radarLineTooltip:"Radar Line",radarAreaTooltip:"Radar Area",nightingaleTooltip:"Nightingale",rangeBarTooltip:"Range Bar",rangeAreaTooltip:"Range Area",boxPlotTooltip:"Box Plot",treemapTooltip:"Treemap",sunburstTooltip:"Sunburst",waterfallTooltip:"Waterfall",heatmapTooltip:"Heatmap",columnLineComboTooltip:"Column & Line",areaColumnComboTooltip:"Area & Column",customComboTooltip:"Custom Combination",innerRadius:"Inner Radius",startAngle:"Start Angle",endAngle:"End Angle",reverseDirection:"Reverse Direction",groupPadding:"Group Padding",seriesPadding:"Series Padding",tile:"Tile",whisker:"Whisker",cap:"Cap",capLengthRatio:"Length Ratio",labelPlacement:"Placement",inside:"Inside",outside:"Outside",noDataToChart:"No data available to be charted.",pivotChartRequiresPivotMode:"Pivot Chart requires Pivot Mode enabled.",chartSettingsToolbarTooltip:"Menu",chartLinkToolbarTooltip:"Linked to Grid",chartUnlinkToolbarTooltip:"Unlinked from Grid",chartDownloadToolbarTooltip:"Download Chart",chartMenuToolbarTooltip:"Menu",chartEdit:"Edit Chart",chartAdvancedSettings:"Advanced Settings",chartLink:"Link to Grid",chartUnlink:"Unlink from Grid",chartDownload:"Download Chart",histogramFrequency:"Frequency",seriesChartType:"Series Chart Type",seriesType:"Series Type",secondaryAxis:"Secondary Axis",seriesAdd:"Add a series",categoryAdd:"Add a category",bar:"Bar",column:"Column",histogram:"Histogram",advancedSettings:"Advanced Settings",direction:"Direction",horizontal:"Horizontal",vertical:"Vertical",seriesGroupType:"Group Type",groupedSeriesGroupType:"Grouped",stackedSeriesGroupType:"Stacked",normalizedSeriesGroupType:"100% Stacked",legendEnabled:"Enabled",invalidColor:"Color value is invalid",groupedColumnFull:"Grouped Column",stackedColumnFull:"Stacked Column",normalizedColumnFull:"100% Stacked Column",groupedBarFull:"Grouped Bar",stackedBarFull:"Stacked Bar",normalizedBarFull:"100% Stacked Bar",stackedAreaFull:"Stacked Area",normalizedAreaFull:"100% Stacked Area",stackedLineFull:"Stacked Line",normalizedLineFull:"100% Stacked Line",customCombo:"Custom Combination",funnel:"Funnel",coneFunnel:"Cone Funnel",pyramid:"Pyramid",funnelGroup:"Funnel",funnelTooltip:"Funnel",coneFunnelTooltip:"Cone Funnel",pyramidTooltip:"Pyramid",dropOff:"Drop-Off",stageLabels:"Stage Labels",reverse:"Reverse",tooltipMode:"Tooltip Mode",tooltipModeSingle:"Single",tooltipModeShared:"Multiple",tooltipModeCompact:"Compact",groupedColumn:"Grouped",stackedColumn:"Stacked",pie:"Pie",donut:"Donut",line:"Line",scatter:"Scatter",bubble:"Bubble",area:"Area",stackedArea:"Stacked",radarLine:"Radar Line",radarArea:"Radar Area",nightingale:"Nightingale",radialColumn:"Radial Column",radialBar:"Radial Bar",boxPlot:"Box Plot",rangeBar:"Range Bar",rangeArea:"Range Area",treemap:"Treemap",sunburst:"Sunburst",waterfall:"Waterfall",heatmap:"Heatmap",columnLineCombo:"Column & Line",AreaColumnCombo:"Area & Column",ariaChartMenuClose:"Close Chart Edit Menu",ariaChartSelected:"Selected",group:"Group",timeFormatSlashesDDMMYYYY:"DD/MM/YYYY",timeFormatSlashesMMDDYYYY:"MM/DD/YYYY",timeFormatSlashesDDMMYY:"DD/MM/YY",timeFormatSlashesMMDDYY:"MM/DD/YY",timeFormatDotsDDMYY:"DD.M.YY",timeFormatDotsMDDYY:"M.DD.YY",timeFormatDashesYYYYMMDD:"YYYY-MM-DD",timeFormatSpacesDDMMMMYYYY:"DD MMMM YYYY",timeFormatHHMMSS:"HH:MM:SS",timeFormatHHMMSSAmPm:"HH:MM:SS AM/PM",sum:"Sum",first:"First",last:"Last",min:"Min",max:"Max",count:"Count",avg:"Average"},Hee=class extends vO{constructor(){super(...arguments),this.beanName="chartTranslation"}translate(e){return this.getLocaleTextFunc()(e,Vee[e])}},jee=e=>t=>void 0==t||e(t),Wee=e=>"string"===typeof e,Uee=e=>"boolean"===typeof e,Kee=e=>"object"===typeof e,qee=(e,t)=>n=>"AG Grid - unable to update chart as invalid params supplied:  `".concat(e,": ").concat(n,"`, expected ").concat(t,"."),Yee=e=>"".concat(e," is not supported in AG Charts Community ('ag-charts-enterprise' hasn't been loaded). See ").concat("https://www.ag-grid.com/javascript-data-grid/integrated-charts-installation/"," for more details."),Zee=["doughnut"],$ee=["type","chartId","chartType","chartThemeName","chartThemeOverrides","unlinkChart"];var Xee=jee(e=>{if(L9(t=e)||k9(t))return!0;var t;if(function(e){return Zee.includes(e)}(e)){const t=I9(e);return BN("The chart type '".concat(e,"' has been deprecated. Please use '").concat(t,"' instead.")),t}return!1}),Qee=jee(e=>"object"===typeof e),Jee=jee(e=>"object"===typeof e),ete=jee(e=>"string"===typeof e||"function"===typeof e),tte=e=>({property:"chartType",validationFn:jee(t=>e||!t||!function(e){return A9(N9(e),"isEnterprise")}(t)),warnMessage:e=>Yee("The '".concat(e,"' chart type"))}),nte=e=>({property:"switchCategorySeries",validationFn:jee(t=>{if(!t||e)return!0}),warnMessage:()=>Yee("'switchCategorySeries' has been ignored as it"),warnIfFixed:!0}),ite=()=>[{property:"chartId",validationFn:Wee,warnMessage:qee("chartId","string")},{property:"chartType",validationFn:Xee,warnMessage:qee("chartType","ChartType")},{property:"chartThemeName",validationFn:Wee,warnMessage:qee("chartThemeName","string")},{property:"chartThemeOverrides",validationFn:Qee,warnMessage:qee("chartThemeOverrides","AgChartThemeOverrides")},{property:"unlinkChart",validationFn:Uee,warnMessage:qee("unlinkChart","boolean")}],ote=e=>[{property:"cellRange",validationFn:Jee,warnMessage:qee("cellRange","ChartParamsCellRange")},{property:"suppressChartRanges",validationFn:Uee,warnMessage:qee("suppressChartRanges","boolean")},{property:"aggFunc",validationFn:ete,warnMessage:qee("aggFunc","string or IAggFunc")},nte(e)];function rte(e,t){switch(e.type){case"rangeChartUpdate":return function(e,t){const n=[...ite(),tte(t),...ote(t),{property:"seriesChartTypes",validationFn:e=>void 0===e||Array.isArray(e)&&e.every(Kee),warnMessage:qee("seriesChartTypes","Array of SeriesChartType")}];return ste(e,n,[...$ee,"cellRange","suppressChartRanges","switchCategorySeries","aggFunc","seriesChartTypes","seriesGroupType"],"UpdateRangeChartParams")}(e,t);case"pivotChartUpdate":return function(e){const t=[...ite()];return ste(e,t,[...$ee],"UpdatePivotChartParams")}(e);case"crossFilterChartUpdate":return function(e,t){const n=[...ite(),...ote(t)];return ste(e,n,[...$ee,"cellRange","suppressChartRanges","aggFunc"],"UpdateCrossFilterChartParams")}(e,t);default:return BN("Invalid value supplied for 'type': ".concat(e.type,". It must be either 'rangeChartUpdate', 'pivotChartUpdate', or 'crossFilterChartUpdate'.")),!1}}function ste(e,t,n,i){let o;for(const r of t){const{property:t,validationFn:n,warnMessage:i,warnIfFixed:s}=r;if(t in e){const r=e[t],a=n(r);if(!0===a)continue;if(!1===a)return BN(i(r)),!1;o=o||d({},e),o[t]=a,s&&BN(i(r))}}if(n)for(const r of Object.keys(e))if(!n.includes(r))return BN("Unexpected property supplied. ".concat(i," does not contain: `").concat(r,"`.")),!1;return o||!0}var ate=["ag-default","ag-material","ag-sheets","ag-polychroma","ag-vivid"],lte=class extends vO{constructor(e){super(),this.model=e,this.isEnterprise=()=>this.agChartsExports.isEnterprise}wireBeans(e){this.rangeSvc=e.rangeSvc,this.agChartsExports=e.agChartsExports}postConstruct(){this.setChartRange(),this.model.unlinked&&this.rangeSvc&&this.rangeSvc.setCellRanges([]);const e=this.updateForGridChange.bind(this,{});this.addManagedEventListeners({cellSelectionChanged:e=>{e.id&&e.id===this.model.chartId&&this.updateForRangeChange()},columnMoved:e,columnPinned:e,columnVisible:e,columnRowGroupChanged:e,modelUpdated:e,cellValueChanged:this.updateForDataChange.bind(this),cellEditValuesChanged:this.updateForDataChange.bind(this)})}update(e){if(!this.validUpdateType(e))return!1;const t=rte(e,this.agChartsExports.isEnterprise);if(!t)return!1;const n=!0===t?e:t;return this.applyValidatedChartParams(n),!0}applyValidatedChartParams(e){var t,n,i,o,r,s,a,l,u;const{chartId:c,chartType:h,chartThemeName:p,unlinkChart:g}=e,m=d({},{chartId:c,pivotChart:this.model.pivotChart,chartType:null!==h&&void 0!==h?h:this.model.chartType,chartThemeName:null!==p&&void 0!==p?p:this.model.chartThemeName,unlinkChart:null!==g&&void 0!==g?g:this.model.unlinked,cellRange:this.model.suppliedCellRange,switchCategorySeries:this.model.switchCategorySeries,aggFunc:this.model.aggFunc,seriesChartTypes:void 0,suppressChartRanges:!1,crossFiltering:!1});switch(e.type){case"rangeChartUpdate":m.cellRange=null!==(t=this.createCellRange(e))&&void 0!==t?t:this.model.suppliedCellRange,m.switchCategorySeries=null!==(n=e.switchCategorySeries)&&void 0!==n?n:this.model.switchCategorySeries,m.aggFunc=null!==(i=e.aggFunc)&&void 0!==i?i:this.model.aggFunc,m.seriesChartTypes=e.seriesChartTypes,m.suppressChartRanges=null!==(o=e.suppressChartRanges)&&void 0!==o?o:this.model.suppressChartRanges,m.seriesGroupType=null!==(r=e.seriesGroupType)&&void 0!==r?r:this.model.seriesGroupType;break;case"crossFilterChartUpdate":m.cellRange=null!==(s=this.createCellRange(e))&&void 0!==s?s:this.model.suppliedCellRange,m.switchCategorySeries=!1,m.aggFunc=null!==(a=e.aggFunc)&&void 0!==a?a:this.model.aggFunc,m.crossFiltering=!0,m.suppressChartRanges=null!==(l=e.suppressChartRanges)&&void 0!==l?l:this.model.suppressChartRanges;break;case"pivotChartUpdate":m.switchCategorySeries=!1}this.model.updateModel(m);m.unlinkChart||m.suppressChartRanges?null===(u=this.rangeSvc)||void 0===u||u.setCellRanges([]):this.setChartRange()}updateForGridChange(e){if(this.model.unlinked)return;const{maintainColState:t,setColsFromRange:n}=null!==e&&void 0!==e?e:{};this.model.updateCellRanges({maintainColState:t,setColsFromRange:n}),this.model.updateData(),this.setChartRange()}updateForDataChange(){this.model.unlinked||(this.model.updateData(),this.raiseChartModelUpdateEvent())}updateForRangeChange(){this.updateForGridChange({setColsFromRange:!0}),this.raiseChartRangeSelectionChangedEvent()}updateForPanelChange(e){this.model.updateCellRanges(e),this.model.updateData(),e.skipAnimation&&this.getChartProxy().getChartRef().skipAnimations(),this.setChartRange(),this.raiseChartRangeSelectionChangedEvent()}updateThemeOverrides(e){this.chartProxy.updateThemeOverrides(e)}getChartUpdateParams(e){const t=this.getSelectedValueColState().map(e=>({colId:e.colId,displayName:e.displayName})),n=this.getChartData(),i=this.getSelectedDimensions(),o={data:n,groupData:this.model.groupChartData,grouping:this.isGrouping(),categories:i.map(e=>{var t;return{id:e.colId,name:e.displayName,chartDataType:null!==(t=this.model.categoryAxisType)&&void 0!==t?t:this.model.getChartDataType(e.colId)}}),fields:t,chartId:this.getChartId(),getCrossFilteringContext:()=>({lastSelectedChartId:"xxx"}),seriesChartTypes:this.getSeriesChartTypes(),updatedOverrides:e,seriesGroupType:this.model.seriesGroupType};return this.isCategorySeriesSwitched()?this.invertCategorySeriesParams(o):o}invertCategorySeriesParams(e){const[t]=e.categories,n=[{id:dee,name:""}],i=e.data.map((e,n)=>{const i="".concat(t.id,":").concat(n),o=e[t.id];return{colId:i,displayName:null==o?"":String(o)}}),o=e.fields.map(n=>{const i={[dee]:n.displayName};for(const[o,r]of e.data.entries()){const e="".concat(t.id,":").concat(o),s=r[n.colId];i[e]=s}return i});return d(d({},e),{},{categories:n,fields:i,data:o})}getChartModel(){var e,t;const n=this.model.pivotChart?"pivot":"range",i=this.isComboChart()?this.model.comboChartModel.seriesChartTypes:void 0;return{modelType:n,chartId:this.model.chartId,chartType:this.model.chartType,chartThemeName:this.getChartThemeName(),chartOptions:null===(e=this.chartProxy)||void 0===e?void 0:e.getChartThemeOverrides(),chartPalette:null===(t=this.chartProxy)||void 0===t?void 0:t.getChartPalette(),cellRange:this.getCellRangeParams(),switchCategorySeries:this.model.switchCategorySeries,suppressChartRanges:this.model.suppressChartRanges,aggFunc:this.model.aggFunc,unlinkChart:this.model.unlinked,seriesChartTypes:i,seriesGroupType:this.model.seriesGroupType}}getChartId(){return this.model.chartId}getChartData(){return this.model.chartData}getChartType(){return this.model.chartType}setChartType(e){this.updateMultiSeriesAndCategory(this.model.chartType,e),this.model.chartType=e,this.model.comboChartModel.updateSeriesChartTypes(),this.model.switchCategorySeries=!1,this.model.categoryAxisType=void 0,this.model.seriesGroupType=void 0,this.raiseChartModelUpdateEvent()}isCategorySeriesSwitched(){return this.model.switchCategorySeries&&!this.model.isGrouping()}switchCategorySeries(e){z9(this.getChartType())&&(this.model.switchCategorySeries=e,this.raiseChartModelUpdateEvent())}getAggFunc(){return this.model.aggFunc}setAggFunc(e,t){this.model.aggFunc!==e&&(this.model.aggFunc=e,t||(this.model.updateData(),this.raiseChartModelUpdateEvent()))}updateMultiSeriesAndCategory(e,t){var n,i;const o=(e,t)=>{let n=0;for(const i of e)i.selected&&(n>=t?i.selected=!1:n++);0===n&&(e[0].selected=!0)},r=O9(t),s=G9(t),a=null!=r&&(null!==(n=O9(e))&&void 0!==n?n:100)>(null!==r&&void 0!==r?r:100),l=null!=s&&(null!==(i=G9(e))&&void 0!==i?i:100)>(null!==s&&void 0!==s?s:100);a&&o(this.model.dimensionColState,r),l&&o(this.model.valueColState,s),(a||l)&&(this.model.resetCellRanges(a,l),this.setChartRange(!0))}setChartThemeName(e,t){this.model.chartThemeName=e,t||this.raiseChartModelUpdateEvent()}getChartThemeName(){return this.model.chartThemeName}isPivotChart(){return this.model.pivotChart}isPivotMode(){return this.model.isPivotMode()}isGrouping(){return this.model.isGrouping()}isCrossFilterChart(){return this.model.crossFiltering}getThemeNames(){return this.gos.get("chartThemes")||ate}getThemes(){return this.getThemeNames().map(e=>{const t=W9(e,this.agChartsExports._Theme)?e:this.chartProxy.lookupCustomChartTheme(e);return this.agChartsExports._Theme.getChartTheme(t)})}getPalettes(){return this.getThemes().map(e=>e.palette)}getValueColState(){return this.model.valueColState.map(this.displayNameMapper.bind(this))}getSelectedValueColState(){return this.getValueColState().filter(e=>e.selected)}getSelectedDimensions(){return this.model.getSelectedDimensions()}displayNameMapper(e){const{column:t}=e;if(t)e.displayName=this.model.getColDisplayName(t,this.model.isPivotMode());else{const n=this.model.colNames[e.colId];e.displayName=n?n.join(" - "):this.model.getColDisplayName(t)}return e}getColStateForMenu(){return{dimensionCols:this.model.dimensionColState,valueCols:this.getValueColState()}}setChartRange(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];!this.rangeSvc||this.model.suppressChartRanges||this.model.unlinked||this.rangeSvc.setCellRanges(this.getCellRanges()),e||this.raiseChartModelUpdateEvent()}detachChartRange(){this.model.unlinked=!this.model.unlinked,this.model.unlinked?this.rangeSvc&&this.rangeSvc.setCellRanges([]):this.updateForGridChange(),this.dispatchLocalEvent({type:"chartLinkedChanged"})}setChartProxy(e){this.chartProxy=e}getChartProxy(){return this.chartProxy}isActiveXYChart(){return["scatter","bubble"].includes(this.getChartType())}isChartLinked(){return!this.model.unlinked}customComboExists(){const e=this.model.comboChartModel.savedCustomSeriesChartTypes;return e&&e.length>0}getSeriesChartTypes(){return this.model.comboChartModel.seriesChartTypes}isComboChart(e){return this.model.isComboChart(e)}updateSeriesChartType(e,t,n){const i=this.model.comboChartModel.seriesChartTypes.find(t=>t.colId===e);if(i){const e="customCombo"!==this.model.chartType;e&&(this.model.chartType="customCombo");const o=i.chartType;null!=t&&(i.chartType=t),null!=n&&(i.secondaryAxis=n),this.model.comboChartModel.savedCustomSeriesChartTypes=this.model.comboChartModel.seriesChartTypes,this.model.comboChartModel.updateSeriesChartTypes(),this.updateForDataChange(),e&&this.dispatchLocalEvent({type:"chartTypeChanged"}),o!==t&&this.dispatchLocalEvent({type:"chartSeriesChartTypeChanged"}),this.raiseChartOptionsChangedEvent()}}getActiveSeriesChartTypes(){const e=this.getSelectedValueColState().map(e=>e.colId);return this.getSeriesChartTypes().filter(t=>e.includes(t.colId))}getChartSeriesTypes(e){const t=null!==e&&void 0!==e?e:this.getChartType();return this.isComboChart(t)?["line","bar","area"]:[N9(t)]}getChartSeriesType(){const e=this.getSeriesChartTypes();if(0===e.length)return"bar";const t=e[0].chartType;return"columnLineCombo"===t?"bar":"areaColumnCombo"===t?"area":N9(t)}getCellRanges(){return[this.model.dimensionCellRange,this.model.valueCellRange].filter(e=>e)}createCellRange(e){var t;return e.cellRange&&(null===(t=this.rangeSvc)||void 0===t?void 0:t.createPartialCellRangeFromRangeParams(e.cellRange,!0))}validUpdateType(e){var t;if(!e.type)return iB(136),!1;const n={"Range Chart":()=>!this.isPivotChart()&&!this.isCrossFilterChart(),"Pivot Chart":()=>this.isPivotChart(),"Cross Filter Chart":()=>this.isCrossFilterChart()},i=null!==(t=Object.keys(n).find(e=>n[e]()))&&void 0!==t?t:"Range Chart",o=e.type==="".concat(i[0].toLowerCase()).concat(i.slice(1).replace(/ /g,""),"Update");return o||iB(137,{currentChartType:i,type:e.type}),o}getCellRangeParams(){const e=this.getCellRanges(),t=e[0],n=t&&t.startRow||null,i=t&&t.endRow||null;return{rowStartIndex:n&&n.rowIndex,rowStartPinned:n&&n.rowPinned,rowEndIndex:i&&i.rowIndex,rowEndPinned:i&&i.rowPinned,columns:e.reduce((e,t)=>e.concat(t.columns.map(e=>e.getId())),[])}}setCategoryAxisType(e){this.model.categoryAxisType=e,this.raiseChartModelUpdateEvent()}getSeriesGroupType(){var e;return null!==(e=this.model.seriesGroupType)&&void 0!==e?e:this.chartProxy.getSeriesGroupType()}setSeriesGroupType(e){this.model.seriesGroupType=e,this.raiseChartModelUpdateEvent()}raiseChartModelUpdateEvent(){this.dispatchLocalEvent({type:"chartModelUpdate"}),this.raiseChartOptionsChangedEvent()}raiseChartUpdatedEvent(){this.dispatchLocalEvent({type:"chartUpdated"})}raiseChartApiUpdateEvent(){this.dispatchLocalEvent({type:"chartApiUpdate"})}raiseChartOptionsChangedEvent(){var e;const{chartId:t,chartType:n}=this.getChartModel();this.eventSvc.dispatchEvent({type:"chartOptionsChanged",chartId:t,chartType:n,chartThemeName:this.getChartThemeName(),chartOptions:null===(e=this.chartProxy)||void 0===e?void 0:e.getChartThemeOverrides()})}raiseChartRangeSelectionChangedEvent(){this.eventSvc.dispatchEvent({type:"chartRangeSelectionChanged",id:this.model.chartId,chartId:this.model.chartId,cellRange:this.getCellRangeParams()})}destroy(){super.destroy(),this.rangeSvc&&this.rangeSvc.setCellRanges([])}},ute=class extends Z9{getAxes(e){const t=[{type:this.getXAxisType(e),position:"bottom"},{type:"number",position:"left"}];if(this.isNormalised()){const e=t[1];e.label=d(d({},e.label),{},{formatter:e=>Math.round(e.value)+"%"})}return t}getSeries(e){const[t]=e.categories,n=e.fields.map(e=>({type:this.standaloneChartType,xKey:t.id,xName:t.name,yKey:e.colId,yName:e.displayName,normalizedTo:"normalizedArea"===this.chartType?100:void 0,stacked:["normalizedArea","stackedArea"].includes(this.chartType)}));return this.crossFiltering?this.extractLineAreaCrossFilterSeries(n,e):n}isNormalised(){return!this.crossFiltering&&"normalizedArea"===this.chartType}},cte=new Set(["bar","groupedBar","stackedBar","normalizedBar"]),dte=class extends Z9{getAxes(e){const t=[{type:this.getXAxisType(e),position:this.isHorizontal()?"left":"bottom"},{type:"number",position:this.isHorizontal()?"bottom":"left"}];if(this.isNormalised()){const e=t[1];e.label=d(d({},e.label),{},{formatter:e=>Math.round(e.value)+"%"})}return t}getSeries(e){const[t]=e.categories,n=e.fields.map(e=>{return{type:this.standaloneChartType,direction:this.isHorizontal()?"horizontal":"vertical",stacked:this.crossFiltering||(n=this.chartType,R9.has(n)),normalizedTo:this.isNormalised()?100:void 0,xKey:t.id,xName:t.name,yKey:e.colId,yName:e.displayName};var n});return this.crossFiltering?this.extractCrossFilterSeries(n):n}extractCrossFilterSeries(e){const t=[];for(let n=0;n<e.length;n++){const i=d(d({},e[n]),{},{listeners:{seriesNodeClick:this.crossFilterCallback}}),o=d(d({},i),{},{yKey:"".concat(i.yKey,"-filtered-out"),showInLegend:!1});t.push(i),t.push(o)}return t}isNormalised(){return!this.crossFiltering&&["normalizedColumn","normalizedBar"].includes(this.chartType)}isHorizontal(){return cte.has(this.chartType)}},hte=class extends Z9{getAxes(e){const t=[{type:this.getXAxisType(e),position:"bottom"},{type:"number",position:"left"}];if(this.isNormalised()){const e=t[1];e.label=d(d({},e.label),{},{formatter:e=>Math.round(e.value)+"%"})}return t}getSeries(e){const[t]=e.categories,n=["normalizedLine","stackedLine"].includes(this.chartType),i=e.fields.map(e=>({type:this.standaloneChartType,xKey:t.id,xName:t.name,yKey:e.colId,yName:e.displayName,normalizedTo:n&&this.isNormalised()?100:void 0,stacked:n}));return this.crossFiltering?this.extractLineAreaCrossFilterSeries(i,e):i}isNormalised(){return!this.crossFiltering&&["normalizedLine"].includes(this.chartType)}},pte=class extends Z9{getAxes(e){return[{type:"number",position:"bottom"},{type:"number",position:"left"}]}getSeries(e){const[t]=e.categories,n=this.isPaired(),i=this.getSeriesDefinitions(e.fields,n),o=t.id===dee?void 0:t,r=i.map(e=>{var t,n;if(null!==e&&void 0!==e&&e.sizeField){var i,r,s;return{type:"bubble",xKey:e.xField.colId,xName:null!==(i=e.xField.displayName)&&void 0!==i?i:void 0,yKey:e.yField.colId,yName:null!==(r=e.yField.displayName)&&void 0!==r?r:void 0,title:"".concat(e.yField.displayName," vs ").concat(e.xField.displayName),sizeKey:e.sizeField.colId,sizeName:null!==(s=e.sizeField.displayName)&&void 0!==s?s:"",labelKey:o?o.id:e.yField.colId,labelName:o?o.name:void 0}}return{type:"scatter",xKey:e.xField.colId,xName:null!==(t=e.xField.displayName)&&void 0!==t?t:void 0,yKey:e.yField.colId,yName:null!==(n=e.yField.displayName)&&void 0!==n?n:void 0,title:"".concat(e.yField.displayName," vs ").concat(e.xField.displayName),labelKey:o?o.id:e.yField.colId,labelName:o?o.name:void 0}});return this.crossFiltering?this.extractCrossFilterSeries(r,e):r}extractCrossFilterSeries(e,t){const{data:n}=t,i=e=>"".concat(e,"-filtered-out"),o=e.map(e=>{let t;if("bubble"===e.type){const{sizeKey:o}=e;t=((e,t)=>{const n=[1/0,-1/0];if(null!=t)for(const r of e){var o;const e=null!==(o=r[t])&&void 0!==o?o:r[i(t)];e<n[0]&&(n[0]=e),e>n[1]&&(n[1]=e)}if(n[0]<=n[1])return n})(n,o)}return d(d({},e),{},{domain:t,highlight:{highlightedItem:{fill:"yellow"}},listeners:d(d({},e.listeners),{},{seriesNodeClick:this.crossFilterCallback})})});return[...o,...o.map(e=>{const{yKey:t,xKey:n}=e;let o={};return"bubble"===e.type&&(o={sizeKey:i(e.sizeKey)}),d(d(d({},e),o),{},{yKey:i(t),xKey:i(n),showInLegend:!1,listeners:d(d({},e.listeners),{},{seriesNodeClick:e=>{const t=e.datum[i(n)],o=d(d({},e),{},{xKey:n,datum:d(d({},e.datum),{},{[n]:t})});this.crossFilterCallback(o)}})})})]}getSeriesDefinitions(e,t){if(e.length<2)return[];const n="bubble"===this.chartType;if(t)return n?e.map((t,n)=>n%3===0?{xField:t,yField:e[n+1],sizeField:e[n+2]}:null).filter(e=>e&&e.yField&&e.sizeField):e.map((t,n)=>n%2===0?{xField:t,yField:e[n+1]}:null).filter(e=>e&&e.yField);const i=e[0];return n?e.map((t,n)=>n%2===1?{xField:i,yField:t,sizeField:e[n+1]}:null).filter(e=>e&&e.sizeField):e.filter((e,t)=>t>0).map(e=>({xField:i,yField:e}))}},gte=class extends Z9{getAxes(e){const t=e?e.fields:[],n=new Map(t.map(e=>[e.colId,e])),{primaryYKeys:i,secondaryYKeys:o}=this.getYKeys(t,e.seriesChartTypes),r=[{type:this.getXAxisType(e),position:"bottom"}];return i.length>0&&r.push({type:"number",keys:i,position:"left"}),o.length>0&&o.forEach(e=>{const t=n.get(e);if(!(t&&t.colId===e))return;const i={type:"number",keys:[e],position:"right"};r.push(i)}),r}getSeries(e){const{fields:t,seriesChartTypes:n}=e,[i]=e.categories;return t.map(e=>{const t=n.find(t=>t.colId===e.colId);if(t){const n=t.chartType,o=["groupedColumn","groupedBar"].includes(n)?{grouped:!0}:{};return d({type:N9(n),xKey:i.id,yKey:e.colId,yName:e.displayName,stacked:["stackedArea","stackedColumn"].includes(n)},o)}})}getYKeys(e,t){const n=[],i=[];return e.forEach(e=>{const o=e.colId,r=t.find(e=>e.colId===o);r&&(r.secondaryAxis?i.push(o):n.push(o))}),{primaryYKeys:n,secondaryYKeys:i}}};var mte=class extends Y9{getUpdateOptions(e,t){return d(d({},t),{},{data:this.crossFiltering?this.getCrossFilterData(e):e.data,series:this.getSeries(e)})}getSeries(e){const[t]=e.categories,n=e.fields.length,i={currentOffset:0,offsetAmount:n>1?20:40},o=this.getFields(e).map(e=>{const o={type:this.standaloneChartType,angleKey:e.colId,angleName:e.displayName,sectorLabelKey:e.colId,calloutLabelName:t.name,calloutLabelKey:t.id};if("donut"===this.chartType||"doughnut"===this.chartType){const{outerRadiusOffset:t,innerRadiusOffset:r}=function(e){const t=e.currentOffset;e.currentOffset-=e.offsetAmount;const n=e.currentOffset;return e.currentOffset-=e.offsetAmount,{outerRadiusOffset:t,innerRadiusOffset:n}}(i),s=e.displayName?{title:{text:e.displayName,showInLegend:n>1}}:void 0;return d(d({},o),{},{type:"donut",outerRadiusOffset:t,innerRadiusOffset:r},s)}return o});return this.crossFiltering?this.extractCrossFilterSeries(o):o}getCrossFilterData(e){const t=e.fields[0].colId,n="".concat(t,"-filtered-out");return e.data.map(e=>{const i=e[t]+e[n];return e["".concat(t,"-total")]=i,e[n]=1,e[t]=e[t]/i,e})}extractCrossFilterSeries(e){const t=e[0],n=t.angleKey,i=d(d({},t),{},{radiusMin:0,radiusMax:1,listeners:{seriesNodeClick:this.crossFilterCallback},legendItemKey:t.calloutLabelKey,angleKey:"".concat(n,"-total")}),o=d(d({},i),{},{radiusKey:n,sectorLabelKey:"".concat(n,"-total")});return[d(d({},i),{},{radiusKey:"".concat(n,"-filtered-out"),showInLegend:!1}),o]}getFields(e){return"pie"===this.chartType?e.fields.slice(0,1):e.fields}},vte=class extends AG{constructor(){super('<div class="ag-chart-menu" data-ref="eMenu"></div>'),this.eMenu=kG,this.buttonListenersDestroyFuncs=[]}wireBeans(e){this.chartTranslation=e.chartTranslation}updateParams(e){const{buttons:t}=e;this.createButtons(t)}createButtons(e){this.buttonListenersDestroyFuncs.forEach(e=>null===e||void 0===e?void 0:e()),this.buttonListenersDestroyFuncs=[];const t=this.eMenu;uN(t),e.forEach(e=>{const{buttonName:n,iconName:i,callback:o}=e,r=this.createButton(i),s=this.chartTranslation.translate(n+"ToolbarTooltip");s&&r instanceof HTMLElement&&(r.title=s),this.buttonListenersDestroyFuncs.push(...this.addManagedElementListeners(r,{click:e=>o(e.currentTarget)})),t.appendChild(r)})}createButton(e){const t=hW(e,this.beans);t.classList.add("ag-chart-menu-icon");const n=MN({tag:"button",attrs:{type:"button"},cls:"ag-chart-menu-toolbar-button"});return n.appendChild(t),n}destroy(){this.buttonListenersDestroyFuncs=[],super.destroy()}},fte=class extends AG{constructor(e){super('<div class="ag-pill-select" role="presentation"></div>'),this.config=null!==e&&void 0!==e?e:{};const{selectedValueList:t,valueFormatter:n,valueList:i}=this.config;this.selectedValues=null!==t&&void 0!==t?t:[],this.valueList=null!==i&&void 0!==i?i:[],this.valueFormatter=null!==n&&void 0!==n?n:e=>bO(e),this.registerCSS(".ag-pill-select{display:flex;flex-direction:column}:where(.ag-pill-select){.ag-column-drop-list{padding:0}.ag-select{padding-top:var(--ag-spacing)}.ag-picker-field-wrapper{background-color:transparent;border:0}.ag-picker-field-display{cursor:pointer;font-weight:500}.ag-picker-field-display,.ag-picker-field-icon{color:var(--ag-chart-menu-label-color)}}")}postConstruct(){const{ariaLabel:e,onValuesChange:t,dragSourceId:n}=this.config;this.dropZonePanel=this.createManagedBean(new Cte({getValues:()=>this.selectedValues,setValues:e=>this.updateValues(e),isDraggable:()=>this.selectedValues.length>1},e=>this.valueFormatter(e),e,n));this.getGui().appendChild(this.dropZonePanel.getGui()),this.initSelect(),null!=t&&(this.onValuesChange=t)}setValues(e,t){const{added:n,removed:i,updated:o}=this.getChanges(this.valueList,e);let r=!1;return(n.length||i.length||o.length)&&(r=!0),this.valueList=e,this.updateValues(t,r,!0),this}setValueFormatter(e){return this.valueFormatter=e,this}initSelect(){const e=this.createSelectOptions();if(!e.length)return!1;const{selectPlaceholder:t}=this.config;return this.eSelect=this.createBean(new nU({options:e,placeholder:t,onValueChange:e=>this.addValue(e),pickerIcon:"chartsMenuAdd"})),this.getGui().appendChild(this.eSelect.getGui()),!0}createSelectOptions(){const e=[],{maxSelection:t}=this.config;return t&&this.selectedValues.length>=t||this.valueList.forEach(t=>{this.selectedValues.includes(t)||e.push({value:t,text:this.valueFormatter(t)})}),e}addValue(e){this.dropZonePanel.addItem(e)}updateValues(e,t,n){var i,o;const r=this.selectedValues;this.selectedValues=e;const s=this.getChanges(r,e),a=t||s.added.length||s.removed.length,l=SB(this.beans),u=null===(i=this.eSelect)||void 0===i?void 0:i.getGui().contains(l),c=null===(o=this.dropZonePanel)||void 0===o?void 0:o.getGui().contains(l);var d;n||(null===(d=this.onValuesChange)||void 0===d||d.call(this,s));const h=!!a&&!this.refreshSelect();var p,g;(this.dropZonePanel.refreshGui(),a&&u)&&(h?this.dropZonePanel.focusList(!0):null===(p=this.eSelect)||void 0===p||p.getFocusableElement().focus());c&&!e.length&&(null===(g=this.eSelect)||void 0===g||g.getFocusableElement().focus())}getChanges(e,t){const n=t.filter(t=>!e.includes(t)),i=e.filter(e=>!t.includes(e)),o=t.filter((t,n)=>e[n]!==t);return{added:n,removed:i,updated:o,selected:t}}refreshSelect(){if(!this.eSelect)return this.initSelect();const e=this.createSelectOptions();return e.length?(this.eSelect.clearOptions().addOptions(e).setValue(void 0,!0),!0):(cN(this.eSelect.getGui()),this.eSelect=this.destroyBean(this.eSelect),!1)}destroy(){this.destroyBean(this.eSelect),super.destroy()}},wte=class extends E4{constructor(e,t,n,i,o,r){super(t,n,!1),this.value=e,this.valueFormatter=i,this.draggable=o,this.sourceId=r}getItem(){return this.value}getDisplayName(){return this.valueFormatter(this.value)}getAriaDisplayName(){return this.getDisplayName()}getTooltip(){}createGetDragItem(){return()=>({value:this.value})}getDragSourceType(){return NV.ChartPanel}getDragSourceId(){return this.sourceId}isMovable(){return this.isDraggable()}isDraggable(){return this.draggable}},Cte=class extends x4{constructor(e,t,n,i){super(!1),this.model=e,this.valueFormatter=t,this.ariaLabel=n,this.sourceId=i}postConstruct(){super.init()}isItemDroppable(e,t){return this.isSourceEventFromTarget(t)||null!=this.sourceId&&this.sourceId===t.dragSource.sourceId}updateItems(e){this.model.setValues(e)}getExistingItems(){return this.model.getValues()}getIconName(){return this.isPotentialDndItems()?"move":"notAllowed"}getAriaLabel(){return this.ariaLabel}createPillComponent(e,t,n){return new wte(e,t,n,this.valueFormatter,this.model.isDraggable(),this.sourceId)}getItems(e){return[e.value]}isInterestedIn(e){return e===NV.ChartPanel}},bte=class extends AG{constructor(e,t,n,i){super(i),this.chartController=e,this.allowMultipleSelection=t,this.maxSelection=n}wireBeans(e){this.chartTranslation=e.chartTranslation}addItem(e){this.groupComp.addItem(e)}createGroup(e,t,n,i,o){if(this.allowMultipleSelection){const o=e.filter(e=>e.selected);this.valuePillSelect=this.groupComp.createManagedBean(new fte({valueList:e,selectedValueList:o,valueFormatter:t,selectPlaceholder:this.chartTranslation.translate(n),dragSourceId:i,onValuesChange:e=>this.onValueChange(e),maxSelection:this.maxSelection})),this.groupComp.addItem(this.valuePillSelect)}else{const t=this.createValueSelectParams(e);t.onValueChange=t=>{e.forEach(e=>{e.selected=!1}),t.selected=!0,t.colId===dee&&this.chartController.setAggFunc(void 0,!0),this.chartController.updateForPanelChange({updatedColState:t,skipAnimation:null===o||void 0===o?void 0:o()})},this.valueSelect=this.groupComp.createManagedBean(new nU(t)),this.groupComp.addItem(this.valueSelect)}}refreshValueSelect(e){if(!this.valueSelect)return;const{options:t,value:n}=this.createValueSelectParams(e);this.valueSelect.clearOptions().addOptions(t).setValue(n,!0)}createValueSelectParams(e){let t;return{options:e.map(e=>{var n;const i=null!==(n=e.displayName)&&void 0!==n?n:"";return e.selected&&(t=e),{value:e,text:i}}),value:t}}onValueChange(e){let t,n,{added:i,updated:o,removed:r,selected:s}=e;const a=()=>{s.forEach((e,t)=>{e.order=t}),n=!0};i.length?(t=i[0],t.selected=!0,a()):r.length?(t=r[0],t.selected=!1):o.length&&(a(),t=o[0]),t&&this.chartController.updateForPanelChange({updatedColState:t,resetOrder:n})}destroy(){this.valuePillSelect=void 0,this.valueSelect=void 0,super.destroy()}},yte=class extends bte{constructor(e,t,n,i,o){super(e,n,void 0,'<div id="categoriesGroup"></div>'),this.title=t,this.dimensionCols=i,this.isOpen=o}postConstruct(){this.groupComp=this.createBean(new I6({title:this.title,enabled:!0,suppressEnabledCheckbox:!0,suppressOpenCloseIcons:!1,cssIdentifier:"charts-data",expanded:this.isOpen})),this.createGroup(this.dimensionCols,e=>{var t;return null!==(t=e.displayName)&&void 0!==t?t:""},"categoryAdd","categorySelect",()=>!this.chartController.getAggFunc()),this.createAggFuncControls(this.dimensionCols),this.getGui().appendChild(this.groupComp.getGui())}refresh(e){var t;null===(t=this.valuePillSelect)||void 0===t||t.setValues(e,e.filter(e=>e.selected)),this.refreshValueSelect(e),this.refreshAggFuncControls(e,this.chartController.getAggFunc())}createAggFuncControls(e){const t=this.chartController.getAggFunc();this.groupComp.addItem(this.aggFuncToggle=this.createBean(new WW({label:this.chartTranslation.translate("aggregate"),labelAlignment:"left",labelWidth:"flex",inputWidth:"flex",value:void 0!=t,onValueChange:e=>{var t,n;const i=e?"sum":void 0;this.chartController.setAggFunc(i),null===(t=this.aggFuncSelect)||void 0===t||t.setValue(i,!0),null===(n=this.aggFuncSelect)||void 0===n||n.setDisplayed(void 0!=i)}}))),this.groupComp.addItem(this.aggFuncSelect=this.createBean(new nU({options:[{value:"sum",text:this.chartTranslation.translate("sum")},{value:"first",text:this.chartTranslation.translate("first")},{value:"last",text:this.chartTranslation.translate("last")},{value:"min",text:this.chartTranslation.translate("min")},{value:"max",text:this.chartTranslation.translate("max")},{value:"count",text:this.chartTranslation.translate("count")},{value:"avg",text:this.chartTranslation.translate("avg")}],value:"string"===typeof t?t:void 0,onValueChange:e=>{this.chartController.setAggFunc(e)}}))),this.refreshAggFuncControls(e,t)}refreshAggFuncControls(e,t){var n,i,o,r;const s=e.filter(e=>e.selected).some(e=>e.colId!==dee);null===(n=this.aggFuncToggle)||void 0===n||n.setValue(void 0!=t),null===(i=this.aggFuncSelect)||void 0===i||i.setValue("string"===typeof t?t:void 0,!0),null===(o=this.aggFuncToggle)||void 0===o||o.setDisplayed(s),null===(r=this.aggFuncSelect)||void 0===r||r.setDisplayed(s&&void 0!=t)}clearAggFuncControls(){this.aggFuncToggle=this.destroyBean(this.aggFuncToggle),this.aggFuncSelect=this.destroyBean(this.aggFuncSelect)}destroy(){this.clearAggFuncControls(),this.groupComp=this.destroyBean(this.groupComp),super.destroy()}},Ste=class extends vO{constructor(e){super(),this.chartOptionsProxy=e}wireBeans(e){this.chartTranslation=e.chartTranslation}getDefaultColorPickerParams(e,t,n){return this.addValueParams(e,{label:this.chartTranslation.translate(null!==t&&void 0!==t?t:"color"),labelWidth:"flex",inputWidth:"flex",labelAlignment:"top",pickerGap:6},n)}getDefaultNumberInputParams(e,t,n){return this.addValueParams(e,{label:this.chartTranslation.translate(t),labelAlignment:"top",labelWidth:"flex",inputWidth:"flex",precision:null===n||void 0===n?void 0:n.precision,step:null===n||void 0===n?void 0:n.step,min:null===n||void 0===n?void 0:n.min,max:null===n||void 0===n?void 0:n.max},{parseInputValue:e=>{const t=Number(e);return isNaN(t)?void 0:t},formatInputValue:e=>null==e?"":"".concat(e)})}getDefaultSliderParams(e,t,n,i){var o;let r=null!==(o=this.chartOptionsProxy.getValue(e))&&void 0!==o?o:0;i&&Array.isArray(r)&&(r=r[0]);const s=this.getDefaultSliderParamsWithoutValueParams(r,t,n);return s.onValueChange=t=>this.chartOptionsProxy.setValue(e,i?[t]:t),s}getDefaultSliderParamsWithoutValueParams(e,t,n){return{label:this.chartTranslation.translate(t),minValue:0,maxValue:Math.max(e,n),textFieldWidth:45,value:"".concat(e)}}getDefaultCheckboxParams(e,t,n){const i=this.chartOptionsProxy.getValue(e),o={label:this.chartTranslation.translate(t),value:i,readOnly:null===n||void 0===n?void 0:n.readOnly,passive:null===n||void 0===n?void 0:n.passive};return o.onValueChange=t=>{this.chartOptionsProxy.setValue(e,"boolean"===typeof t?t:void 0)},o}getDefaultToggleParams(e,t,n){const i=this.chartOptionsProxy.getValue(e),o={label:this.chartTranslation.translate(t),labelAlignment:"left",labelWidth:"flex",inputWidth:"flex",value:i,readOnly:null===n||void 0===n?void 0:n.readOnly,passive:null===n||void 0===n?void 0:n.passive};return o.onValueChange=t=>{this.chartOptionsProxy.setValue(e,"boolean"===typeof t?t:void 0)},o}getDefaultSelectParams(e,t,n){return this.getDefaultSelectParamsWithoutValueParams(t,n,this.chartOptionsProxy.getValue(e),t=>{this.chartOptionsProxy.setValue(e,t)})}getDefaultSelectParamsWithoutValueParams(e,t,n,i){return{label:this.chartTranslation.translate(e),labelAlignment:"top",options:t,pickerGap:6,value:n,onValueChange:i}}getDefaultFontPanelParams(e,t){const n=t=>"".concat(e,".").concat(t);return this.addEnableParams(n("enabled"),{name:this.chartTranslation.translate(t),suppressEnabledCheckbox:!1,chartMenuParamsFactory:this,keyMapper:n})}addValueParams(e,t,n){const i=this.chartOptionsProxy.getValue(e);return t.value=null!==n&&void 0!==n&&n.formatInputValue?n.formatInputValue(i):i,t.onValueChange=t=>{const i=null!==n&&void 0!==n&&n.parseInputValue?n.parseInputValue(t):t;this.chartOptionsProxy.setValue(e,i)},t}addEnableParams(e,t){var n;return t.enabled=null!==(n=this.chartOptionsProxy.getValue(e))&&void 0!==n&&n,t.onEnableChange=t=>this.chartOptionsProxy.setValue(e,t),t}getChartOptions(){return this.chartOptionsProxy}},xte=class extends AG{constructor(e,t){super(),this.chartMenuContext=e,this.isOpen=t,this.chartSpecificGroup=kG,this.hasContent=!1}wireBeans(e){this.chartTranslation=e.chartTranslation,this.chartSvc=e.chartSvc}postConstruct(){const e={title:this.getTitle(),enabled:!0,suppressEnabledCheckbox:!0,suppressOpenCloseIcons:!1,cssIdentifier:"charts-data",expanded:this.isOpen,items:[...this.createDirectionSelect(),this.createReverseSelect(),this.createGroupTypeSelect()]};this.setTemplate('\n            <div id="chartSpecificGroup">\n                <ag-group-component data-ref="chartSpecificGroup"></ag-group-component>\n            </div>',[B6],{chartSpecificGroup:e}),this.setDisplayed(this.hasContent)}refresh(){this.hasContent=!1,this.chartSpecificGroup.setTitle(this.getTitle()),this.updateDirectionSelect(),this.updateReverseSelect(),this.updateGroupTypeSelect(),this.setDisplayed(this.hasContent)}getTitle(){const e=this.chartMenuContext.chartController.getChartType();return this.chartTranslation.translate(V9(e))}createDirectionSelect(){if(!this.chartSvc.isEnterprise())return[];const{chartOptionsService:e,chartController:t}=this.chartMenuContext,n=e.getSeriesOptionsProxy(()=>N9(t.getChartType())),i=this.createManagedBean(new Ste(n)),o=["horizontal","vertical"].map(e=>({value:e,text:this.chartTranslation.translate(e)})),r=i.getDefaultSelectParams("direction","direction",o),s=r.onValueChange;return r.onValueChange=e=>{s(e),t.raiseChartModelUpdateEvent()},this.directionSelect=this.createManagedBean(new nU(r)),this.updateDirectionSelect(),[this.directionSelect]}createReverseSelect(){const{chartMenuParamsFactory:e}=this.chartMenuContext,t=e.getDefaultToggleParams("series.reverse","reverse");return this.reverseToggle=this.createManagedBean(new WW(t)),this.updateReverseSelect(),this.reverseToggle}updateReverseSelect(){const e="pyramid"===this.chartMenuContext.chartController.getChartType();this.updateDisplayed(this.reverseToggle,e)}updateDirectionSelect(){const e=A9(N9(this.chartMenuContext.chartController.getChartType()),"canSwitchDirection");this.updateDisplayed(this.directionSelect,e)}createGroupTypeSelect(){const{chartController:e,chartMenuParamsFactory:t}=this.chartMenuContext;return this.groupTypeSelect=this.createManagedBean(new nU(t.getDefaultSelectParamsWithoutValueParams("seriesGroupType",E9.map(e=>({value:e,text:this.chartTranslation.translate("".concat(e,"SeriesGroupType"))})),e.getSeriesGroupType(),t=>e.setSeriesGroupType(t)))),this.updateGroupTypeSelect(),this.groupTypeSelect}updateGroupTypeSelect(){const e=["radialColumn","radialBar","nightingale"].includes(this.chartMenuContext.chartController.getChartType());this.updateDisplayed(this.groupTypeSelect,e)}updateDisplayed(e,t){null===e||void 0===e||e.setDisplayed(t),e&&(this.hasContent=this.hasContent||t)}},Dte=class extends AG{constructor(e,t,n){super('<div id="seriesChartTypeGroup"></div>'),this.chartController=e,this.columns=t,this.isOpen=n,this.selectedColIds=[],this.chartTypeComps=new Map,this.secondaryAxisComps=new Map}wireBeans(e){this.chartTranslation=e.chartTranslation}postConstruct(){this.createSeriesChartTypeGroup(this.columns)}refresh(e){MO(this.getValidColIds(e),this.selectedColIds)?this.refreshComps():this.recreate(e)}recreate(e){this.isOpen=this.seriesChartTypeGroupComp.isExpanded(),uN(this.getGui()),this.destroyBean(this.seriesChartTypeGroupComp),this.columns=e,this.selectedColIds=[],this.clearComps(),this.postConstruct()}getValidColIds(e){const t=this.chartController.getSeriesChartTypes();return e.filter(e=>e.selected&&!!t.filter(t=>t.colId===e.colId)[0]).map(e=>{let{colId:t}=e;return t})}createSeriesChartTypeGroup(e){this.seriesChartTypeGroupComp=this.createBean(new I6({title:this.chartTranslation.translate("seriesChartType"),enabled:!0,suppressEnabledCheckbox:!0,suppressOpenCloseIcons:!1,cssIdentifier:"charts-data",expanded:this.isOpen}));const t=this.chartController.getSeriesChartTypes();e.forEach(e=>{if(!e.selected)return;const n=t.filter(t=>t.colId===e.colId)[0];if(!n)return;this.selectedColIds.push(e.colId);const i=this.seriesChartTypeGroupComp.createManagedBean(new I6({title:e.displayName,enabled:!0,suppressEnabledCheckbox:!0,suppressOpenCloseIcons:!0,cssIdentifier:"charts-format-sub-level"})),o=this.seriesChartTypeGroupComp.createManagedBean(new fW({label:this.chartTranslation.translate("secondaryAxis"),labelWidth:"flex",disabled:(r=n.chartType,["groupedColumn","stackedColumn","stackedArea"].includes(r)),value:!!n.secondaryAxis,onValueChange:t=>this.chartController.updateSeriesChartType(e.colId,void 0,t)}));var r;i.addItem(o);const s=["line","area","stackedArea","groupedColumn","stackedColumn"].map(e=>({value:e,text:this.chartTranslation.translate(V9(e))})),a=i.createManagedBean(new nU({options:s,value:n.chartType,onValueChange:t=>this.chartController.updateSeriesChartType(e.colId,t)}));i.addItem(a),this.seriesChartTypeGroupComp.addItem(i),this.chartTypeComps.set(e.colId,a),this.secondaryAxisComps.set(e.colId,o)}),this.getGui().appendChild(this.seriesChartTypeGroupComp.getGui())}refreshComps(){const e=this.chartController.getSeriesChartTypes();this.selectedColIds.forEach(t=>{const n=e.find(e=>e.colId===t);if(!n)return;const i=this.chartTypeComps.get(t),o=this.secondaryAxisComps.get(t);null===i||void 0===i||i.setValue(n.chartType),null===o||void 0===o||o.setValue(!!n.secondaryAxis),null===o||void 0===o||o.setDisabled(this.isSecondaryAxisDisabled(n.chartType))})}clearComps(){this.chartTypeComps.clear(),this.secondaryAxisComps.clear()}isSecondaryAxisDisabled(e){return["groupedColumn","stackedColumn","stackedArea"].includes(e)}destroy(){this.clearComps(),this.seriesChartTypeGroupComp=this.destroyBean(this.seriesChartTypeGroupComp),super.destroy()}},Ete=class extends bte{constructor(e,t,n,i,o,r,s){super(e,i,o,'<div id="seriesGroup"></div>'),this.chartOptionsService=t,this.title=n,this.valueCols=r,this.isOpen=s}postConstruct(){if(this.groupComp=this.createBean(new I6({title:this.title,enabled:!0,suppressEnabledCheckbox:!0,suppressOpenCloseIcons:!1,cssIdentifier:"charts-data",expanded:this.isOpen})),this.chartController.isActiveXYChart()){const e=this.groupComp.createManagedBean(new WW({label:this.chartTranslation.translate("paired"),labelAlignment:"left",labelWidth:"flex",inputWidth:"flex",value:this.chartOptionsService.getPairedMode(),onValueChange:e=>{this.chartOptionsService.setPairedMode(!!e),this.chartController.updateForGridChange({maintainColState:!0})}}));this.groupComp.addItem(e)}this.createGroup(this.valueCols,this.generateGetSeriesLabel(this.valueCols),"seriesAdd","seriesSelect"),this.getGui().appendChild(this.groupComp.getGui())}refresh(e){var t,n;null===(t=this.valuePillSelect)||void 0===t||t.setValueFormatter(this.generateGetSeriesLabel(e)),null===(n=this.valuePillSelect)||void 0===n||n.setValues(e,e.filter(e=>e.selected)),this.refreshValueSelect(e)}generateGetSeriesLabel(e){if(!this.chartController.isActiveXYChart())return e=>{var t;return null!==(t=e.displayName)&&void 0!==t?t:""};const t=e.filter(e=>e.selected),n="bubble"===this.chartController.getChartType(),i=this.chartOptionsService.getPairedMode(),o=new Map;return o.set(0,"X"),o.set(1,"Y"),o.set(2,"size"),e=>{var r;const s=null!==(r=e.displayName)&&void 0!==r?r:"";if(!e.selected)return s;const a=t.indexOf(e);if(-1===a)return s;let l;return l=i?o.get(a%(n?3:2)):0===a?"X":n&&a%2===0?"size":"Y","".concat(s," (").concat(l,")")}}destroy(){this.groupComp=this.destroyBean(this.groupComp),super.destroy()}},Fte={groups:[{type:"categories",isOpen:!0},{type:"series",isOpen:!0},{type:"seriesChartType",isOpen:!0},{type:"chartSpecific",isOpen:!0}]},kte=class extends AG{constructor(e){super('<div class="ag-chart-data-wrapper ag-scrollable-container"></div>'),this.chartMenuContext=e,this.isSwitchCategorySeriesToggled=!1,this.restoreSwitchCategorySeriesToggleFocus=!1,this.panels=[],this.chartController=e.chartController}wireBeans(e){this.chartTranslation=e.chartTranslation,this.chartSvc=e.chartSvc}postConstruct(){this.createSwitchCategorySeriesToggle(),this.isSwitchCategorySeriesToggled=this.chartController.isCategorySeriesSwitched(),this.updatePanels();const e=this.updatePanels.bind(this);this.addManagedListeners(this.chartController,{chartModelUpdate:e,chartApiUpdate:e})}destroy(){this.clearPanelComponents(),super.destroy()}updatePanels(){const e=this.chartType,t=this.isSwitchCategorySeriesToggled,{dimensionCols:n,valueCols:i}=this.chartController.getColStateForMenu();this.chartType=this.chartController.getChartType(),this.isSwitchCategorySeriesToggled=this.chartController.isCategorySeriesSwitched();const o=this.isSwitchCategorySeriesToggled!==t;var r,s,a,l;this.canRefresh(e,this.chartType)&&!o?(null===(r=this.categoriesDataPanel)||void 0===r||r.refresh(n),null===(s=this.seriesDataPanel)||void 0===s||s.refresh(i),null===(a=this.seriesChartTypePanel)||void 0===a||a.refresh(i),null===(l=this.chartSpecificPanel)||void 0===l||l.refresh()):this.recreatePanels(n,i);const u=z9(this.chartType)&&this.chartSvc.isEnterprise()&&!this.chartController.isGrouping();var c;(XL(this.switchCategorySeriesToggle.getGui(),u),o)&&(null===(c=this.switchCategorySeriesToggle)||void 0===c||c.setValue(this.chartController.isCategorySeriesSwitched()));this.restoreSwitchCategorySeriesToggleFocus&&(this.restoreSwitchCategorySeriesToggleFocus=!1,u&&this.switchCategorySeriesToggle.getFocusableElement().focus())}canRefresh(e,t){if(void 0===e)return!1;if(e===t)return!0;const n=e=>["columnLineCombo","areaColumnCombo","customCombo"].includes(e);return!(!n(e)||!n(t))}recreatePanels(e,t){var n,i;this.clearPanelComponents();const{chartType:o}=this;if(!o)return;const r=this.chartController.isCategorySeriesSwitched();null===(n=this.getDataPanelDef().groups)||void 0===n||n.forEach(n=>{let{type:i,isOpen:s}=n;i===(r?"series":"categories")?(this.categoriesDataPanel=this.createBean(new yte(this.chartController,this.getCategoryGroupTitle(r),this.getCategoryGroupMultipleSelect(o,r),e,s)),this.panels.push(this.categoriesDataPanel)):i===(r?"categories":"series")?(this.seriesDataPanel=this.createBean(new Ete(this.chartController,this.chartMenuContext.chartOptionsService,this.getSeriesGroupTitle(r),this.getSeriesGroupMultipleSelect(o,r),this.getSeriesGroupMaxSelection(o,r),t,s)),this.panels.push(this.seriesDataPanel)):"seriesChartType"===i?this.chartController.isComboChart()&&(this.seriesChartTypePanel=this.createBean(new Dte(this.chartController,t,s)),this.panels.push(this.seriesChartTypePanel)):"chartSpecific"===i?(this.chartSpecificPanel=this.createBean(new xte(this.chartMenuContext,s)),this.panels.push(this.chartSpecificPanel)):iB(144,{type:i})}),null===(i=r?this.categoriesDataPanel:this.seriesDataPanel)||void 0===i||i.addItem(this.switchCategorySeriesToggle.getGui()),this.addPanelComponents()}addPanelComponents(){if(!this.panels.length)return;const e=CB(this.beans).createDocumentFragment();for(const t of this.panels)t.addCss("ag-chart-data-section"),e.appendChild(t.getGui());this.getGui().appendChild(e)}clearPanelComponents(){const e=this.getGui();this.panels.forEach(t=>{e.removeChild(t.getGui()),this.destroyBean(t)}),this.panels=[]}getDataPanelDef(){var e,t;return null!==(e=null===(t=this.gos.get("chartToolPanelsDef"))||void 0===t?void 0:t.dataPanel)&&void 0!==e?e:Fte}getCategoryGroupTitle(e){return e?this.chartTranslation.translate("seriesLabels"):this.chartTranslation.translate(this.chartController.isActiveXYChart()?"labels":"categories")}getCategoryGroupMultipleSelect(e,t){return!t&&1!==O9(e)}getSeriesGroupTitle(e){return e?this.chartTranslation.translate("categoryValues"):this.chartTranslation.translate(this.chartController.isActiveXYChart()?"xyValues":"series")}getSeriesGroupMultipleSelect(e,t){return 1!==this.getSeriesGroupMaxSelection(e,t)}getSeriesGroupMaxSelection(e,t){if(!t)return G9(e)}createSwitchCategorySeriesToggle(){this.switchCategorySeriesToggle=this.createManagedBean(new WW({label:this.chartTranslation.translate("switchCategorySeries"),labelAlignment:"left",labelWidth:"flex",inputWidth:"flex",value:this.chartController.isCategorySeriesSwitched(),onValueChange:e=>{this.restoreSwitchCategorySeriesToggleFocus=!0,this.chartController.switchCategorySeries(e)}}))}},Ate=class extends gW{constructor(e){super(e,'<div class="ag-angle-select">\n            <div data-ref="eLabel"></div>\n            <div class="ag-wrapper ag-angle-select-wrapper">\n                <div class="ag-angle-select-field">\n                    <div data-ref="eParentCircle" class="ag-angle-select-parent-circle">\n                        <div data-ref="eChildCircle" class="ag-angle-select-child-circle"></div>\n                    </div>\n                </div>\n                <ag-input-number-field data-ref="eAngleValue"></ag-input-number-field>\n            </div>\n        </div>',[$W]),this.eLabel=kG,this.eParentCircle=kG,this.eChildCircle=kG,this.eAngleValue=kG,this.radius=0,this.offsetX=0,this.offsetY=0}wireBeans(e){this.dragSvc=e.dragSvc}postConstruct(){var e;super.postConstruct();const{value:t,onValueChange:n}=this.config;null!=t&&this.setValue(t,void 0,!0),null!=n&&this.onValueChange(n),this.dragListener={eElement:this.eParentCircle,dragStartPixels:0,onDragStart:()=>{this.parentCircleRect=this.eParentCircle.getBoundingClientRect()},onDragging:e=>this.calculateAngleDrag(e),onDragStop:()=>{}},null===(e=this.dragSvc)||void 0===e||e.addDragSource(this.dragListener),this.eAngleValue.setLabel("").setLabelWidth(5).setInputWidth(45).setMin(0).setMax(360).setValue("".concat(this.degrees)).onValueChange(e=>{null!=e&&""!==e||(e="0"),e=this.eAngleValue.normalizeValue(e);let t=parseFloat(e);t>180&&(t-=360),this.setValue(t)}),this.updateNumberInput(),UI(this.getValue())&&this.eAngleValue.setValue(this.normalizeNegativeValue(this.getValue()).toString()),this.addManagedListeners(this,{fieldValueChanged:()=>{this.eAngleValue.getInputElement().contains(SB(this.beans))||this.updateNumberInput()}})}updateNumberInput(){const e=this.normalizeNegativeValue(this.getValue());this.eAngleValue.setValue(e.toString())}positionChildCircle(e){const t=this.parentCircleRect||{width:24,height:24},n=this.eChildCircle,i=t.width/2,o=t.height/2;n.style.left="".concat(i+8*Math.cos(e),"px"),n.style.top="".concat(o+8*Math.sin(e),"px")}calculatePolar(){const e=this.offsetX,t=this.offsetY,n=Math.atan2(t,e);this.degrees=this.toDegrees(n),this.radius=Math.sqrt(e*e+t*t),this.positionChildCircle(n)}calculateCartesian(){const e=this.toRadians(this.getValue()),t=this.getRadius();this.setOffsetX(Math.cos(e)*t).setOffsetY(Math.sin(e)*t)}setOffsetX(e){return this.offsetX!==e&&(this.offsetX=e,this.calculatePolar()),this}setOffsetY(e){return this.offsetY!==e&&(this.offsetY=e,this.calculatePolar()),this}calculateAngleDrag(e){const t=this.parentCircleRect,n=t.width/2,i=t.height/2,o=e.clientX-t.left-n,r=e.clientY-t.top-i,s=Math.atan2(r,o);this.setValue(s,!0)}toDegrees(e){return e/Math.PI*180}toRadians(e){return e/180*Math.PI}normalizeNegativeValue(e){return e<0?360+e:e}normalizeAngle180(e){return(e%=2*Math.PI)<-Math.PI?e+=2*Math.PI:e>=Math.PI&&(e-=2*Math.PI),e}getRadius(){return this.radius}setRadius(e){return this.radius===e||(this.radius=e,this.calculateCartesian()),this}onValueChange(e){return this.addManagedListeners(this,{fieldValueChanged:()=>{e(this.degrees)}}),this}getValue(e){return e?this.toRadians(this.degrees):this.degrees}setValue(e,t,n){let i;return i=t?e:this.normalizeAngle180(this.toRadians(e)),e=this.toDegrees(i),this.degrees!==e&&(this.degrees=Math.floor(e),this.calculateCartesian(),this.positionChildCircle(i),n||this.dispatchLocalEvent({type:"fieldValueChanged"})),this}setWidth(e){return SN(this.getGui(),e),this}setDisabled(e){return super.setDisabled(e),this.eAngleValue.setDisabled(e),this}destroy(){var e;null===(e=this.dragSvc)||void 0===e||e.removeDragSource(this.dragListener),super.destroy()}};var Rte=class extends AG{constructor(e){super(),this.params=e,this.fontGroup=kG,this.activeComps=[],this.chartOptions=e.chartMenuParamsFactory.getChartOptions()}wireBeans(e){this.chartTranslation=e.chartTranslation}postConstruct(){const{cssIdentifier:e="charts-format-sub-level",name:t,enabled:n,onEnableChange:i,suppressEnabledCheckbox:o,chartMenuParamsFactory:r,keyMapper:s}=this.params,a={cssIdentifier:e,direction:"vertical",suppressOpenCloseIcons:!0,title:t,enabled:n,suppressEnabledCheckbox:!0,onEnableChange:e=>{i&&i(e)},useToggle:!o};this.setTemplate('<div class="ag-font-panel">\n        <ag-group-component data-ref="fontGroup">\n            <ag-select data-ref="familySelect"></ag-select>\n            <ag-select data-ref="weightStyleSelect"></ag-select>\n            <div class="ag-charts-font-size-color">\n                <ag-select data-ref="sizeSelect"></ag-select>\n                <ag-color-picker data-ref="colorPicker"></ag-color-picker>\n            </div>\n        </ag-group-component>\n    </div>',[B6,iU,Dee],{fontGroup:a,familySelect:this.getFamilySelectParams(),weightStyleSelect:this.getWeightStyleSelectParams(),sizeSelect:this.getSizeSelectParams(),colorPicker:r.getDefaultColorPickerParams(s("color"))}),this.toggleCss("ag-font-panel-no-header",!t)}addItem(e,t){t?this.fontGroup.prependItem(e):this.fontGroup.addItem(e),this.activeComps.push(e)}setEnabled(e){this.fontGroup.setEnabled(e)}getFamilySelectParams(){const e=["Arial, sans-serif","Aria Black, sans-serif","Book Antiqua,  serif","Charcoal, sans-serif","Comic Sans MS, cursive","Courier, monospace","Courier New, monospace","Gadget, sans-serif","Geneva, sans-serif","Helvetica, sans-serif","Impact, sans-serif","Lucida Console, monospace","Lucida Grande, sans-serif","Lucida Sans Unicode,  sans-serif","Monaco, monospace","Palatino Linotype, serif","Palatino, serif","Times New Roman, serif","Times, serif","Verdana, sans-serif"],t=this.getInitialFontValue("fontFamily");let n=e[0];if(t){const o=e.map(e=>e.toLowerCase()).indexOf(t.toLowerCase());if(o>=0)n=e[o];else{const o=(i=t)[0].toUpperCase()+i.substring(1).toLowerCase();e.push(o),n=o}}var i;const o=e.sort().map(e=>({value:e,text:e}));return this.params.chartMenuParamsFactory.getDefaultSelectParamsWithoutValueParams("font",o,"".concat(n),e=>this.setFont({fontFamily:e}))}getSizeSelectParams(){const e=[8,10,12,14,16,18,20,22,24,26,28,30,32,34,36],t=this.getInitialFontValue("fontSize");e.includes(t)||e.push(t);const n=e.sort((e,t)=>e-t).map(e=>({value:"".concat(e),text:"".concat(e)}));return this.params.chartMenuParamsFactory.getDefaultSelectParamsWithoutValueParams("size",n,"".concat(t),e=>this.setFont({fontSize:parseInt(e,10)}))}getWeightStyleSelectParams(){var e,t;const n=null!==(e=this.getInitialFontValue("fontWeight"))&&void 0!==e?e:"normal",i=null!==(t=this.getInitialFontValue("fontStyle"))&&void 0!==t?t:"normal",o=[{name:"normal",weight:"normal",style:"normal"},{name:"bold",weight:"bold",style:"normal"},{name:"italic",weight:"normal",style:"italic"},{name:"boldItalic",weight:"bold",style:"italic"}];let r=o.find(e=>e.weight===n&&e.style===i);r||(r={name:"predefined",weight:n,style:i},o.unshift(r));const s=o.map(e=>({value:e.name,text:this.chartTranslation.translate(e.name)}));return this.params.chartMenuParamsFactory.getDefaultSelectParamsWithoutValueParams("weight",s,r.name,e=>{const t=o.find(t=>t.name===e);this.setFont({fontWeight:t.weight,fontStyle:t.style})})}destroyActiveComps(){this.activeComps.forEach(e=>{cN(e.getGui()),this.destroyBean(e)})}destroy(){this.destroyActiveComps(),super.destroy()}setFont(e){const{keyMapper:t}=this.params;for(const n of Object.keys(e)){const i=e[n];i&&this.chartOptions.setValue(t(n),i)}}getInitialFontValue(e){const{keyMapper:t}=this.params;return this.chartOptions.getValue(t(e))}},Pte=class extends AG{constructor(e){super(),this.chartMenuUtils=e,this.axisTicksSizeSlider=kG}wireBeans(e){this.chartTranslation=e.chartTranslation}postConstruct(){const{chartMenuUtils:e}=this,t=e.addEnableParams("tick.enabled",{cssIdentifier:"charts-format-sub-level",direction:"vertical",suppressOpenCloseIcons:!0,title:this.chartTranslation.translate("ticks"),suppressEnabledCheckbox:!0,useToggle:!0}),n=e.getDefaultColorPickerParams("tick.stroke"),i=e.getDefaultSliderParams("tick.width","width",10),o=e.getDefaultSliderParams("tick.size","length",30);this.setTemplate('<div>\n            <ag-group-component data-ref="axisTicksGroup">\n                <ag-color-picker data-ref="axisTicksColorPicker"></ag-color-picker>\n                <ag-slider data-ref="axisTicksWidthSlider"></ag-slider>\n                <ag-slider data-ref="axisTicksSizeSlider"></ag-slider>\n            </ag-group-component>\n        </div>',[B6,Dee,Aee],{axisTicksGroup:t,axisTicksColorPicker:n,axisTicksWidthSlider:i,axisTicksSizeSlider:o})}setTickSizeSliderDisplayed(e){this.axisTicksSizeSlider.setDisplayed(e)}},Tte=class extends AG{constructor(e){super(),this.chartMenuUtils=e,this.chartOptions=e.getChartOptions()}wireBeans(e){this.chartTranslation=e.chartTranslation}postConstruct(){const e=this.chartMenuUtils.addEnableParams("gridLine.enabled",{cssIdentifier:"charts-format-sub-level",direction:"vertical",suppressOpenCloseIcons:!0,title:this.chartTranslation.translate("gridLines"),suppressEnabledCheckbox:!0,useToggle:!0}),t=this.getGridLineColorPickerParams("color"),n=this.getGridLineWidthSliderParams("thickness"),i=this.getGridLineDashSliderParams("lineDash");this.setTemplate('<div>\n            <ag-group-component data-ref="gridLineGroup">\n                <ag-color-picker data-ref="gridLineColorPicker"></ag-color-picker>\n                <ag-slider data-ref="gridLineWidthSlider"></ag-slider>\n                <ag-slider data-ref="gridLineLineDashSlider"></ag-slider>\n            </ag-group-component>\n        </div>',[B6,Dee,Aee],{gridLineGroup:e,gridLineColorPicker:t,gridLineWidthSlider:n,gridLineLineDashSlider:i})}getGridLineColorPickerParams(e){return this.chartMenuUtils.getDefaultColorPickerParams("gridLine.style",e,{formatInputValue:e=>{var t;return null===e||void 0===e||null===(t=e[0])||void 0===t?void 0:t.stroke},parseInputValue:e=>{var t;const n=null!==(t=this.chartOptions.getValue("gridLine.style"))&&void 0!==t?t:[];return 0===n.length?[{stroke:e,lineDash:[]}]:[d(d({},n[0]),{},{stroke:e})]}})}getGridLineWidthSliderParams(e){return this.chartMenuUtils.getDefaultSliderParams("gridLine.width",e,10)}getGridLineDashSliderParams(e){var t;const n=this.chartOptions.getValue("gridLine.style"),i=null===n||void 0===n||null===(t=n[0])||void 0===t||null===(t=t.lineDash)||void 0===t?void 0:t[0],o=this.chartMenuUtils.getDefaultSliderParamsWithoutValueParams(null!==i&&void 0!==i?i:0,e,30);return o.onValueChange=e=>{const t=this.chartOptions.getValue("gridLine.style.0.stroke");this.chartOptions.setValue("gridLine.style",[{lineDash:[e],stroke:t}])},o}},_te=class extends AG{constructor(e,t){super(),this.axisType=e,this.options=t,this.axisGroup=kG,this.axisTypeSelect=kG,this.axisPositionSelect=kG,this.axisTimeFormatSelect=kG,this.activePanels=[],this.updateFuncs=[];const{chartOptionsService:n,seriesType:i,chartController:o}=t;this.chartOptionsService=n,this.chartController=o,this.chartOptionsSeriesProxy=n.getSeriesOptionsProxy(()=>i)}wireBeans(e){this.chartTranslation=e.chartTranslation}postConstruct(){var e;const{isExpandedOnInit:t,chartOptionsService:n,registerGroupComponent:i}=this.options,o=this.axisType,r={cssIdentifier:"charts-format-top-level",direction:"vertical",title:this.translate(o),expanded:t,suppressEnabledCheckbox:!0},s=n.getCartesianAxisOptionsProxy(this.axisType),a=this.createManagedBean(new Ste(s)),l=this.createManagedBean(new Ste(n.getCartesianAxisThemeOverridesProxy(this.axisType))),u=this.getAxisTypeSelectParams(a,n.getCartesianAxisAppliedThemeOverridesProxy(this.axisType)),c=this.getAxisPositionSelectParams(a),d=this.getAxisTimeFormatSelectParams(a),h=this.getAxisColorInputParams(l),p=this.getAxisLineWidthSliderParams(l);this.setTemplate('<div>\n            <ag-group-component data-ref="axisGroup">\n                <ag-select data-ref="axisTypeSelect"></ag-select>\n                <ag-select data-ref="axisTimeFormatSelect"></ag-select>\n                <ag-select data-ref="axisPositionSelect"></ag-select>\n                <ag-color-picker data-ref="axisColorInput"></ag-color-picker>\n                <ag-slider data-ref="axisLineWidthSlider"></ag-slider>\n            </ag-group-component>\n        </div>',[B6,iU,Dee,Aee],{axisGroup:r,axisTypeSelect:null!==u&&void 0!==u?u:void 0,axisPositionSelect:null!==c&&void 0!==c?c:void 0,axisTimeFormatSelect:null!==d&&void 0!==d?d:void 0,axisColorInput:h,axisLineWidthSlider:p}),i(this.axisGroup),this.axisTypeSelect.setDisplayed(!(null===(e=u.options)||void 0===e||!e.length)),c||this.removeTemplateComponent(this.axisPositionSelect);const g=()=>{const e="time"===s.getValue("type");XL(this.axisTimeFormatSelect.getGui(),e)};d?(g(),this.addManagedEventListeners({chartOptionsChanged:()=>{g()}})):this.removeTemplateComponent(this.axisTimeFormatSelect),this.initGridLines(l),this.initAxisTicks(l),this.initAxisLabels(l);this.addManagedListeners(this.chartController,{chartUpdated:()=>this.updateFuncs.forEach(e=>e()),chartModelUpdate:()=>setTimeout(()=>{this.isAlive()&&(this.refreshAxisTypeSelect(a),g())})})}getAxisTypeSelectParams(e,t){const n=e.getChartOptions(),i=this.getAxisTypeSelectOptions(),o=e.getDefaultSelectParams("type","axisType",i);return o.onValueChange=e=>{const i=n.getValue("type");if(e===i)return;const o=t.getValue("*"),r="time"===e,s="time"===i!==r?r?"%d %B %Y":void 0:null;if(this.chartOptionsService.setCartesianCategoryAxisType(this.axisType,e),null!==s){var a;const e=null!==(a=n.getValue("label"))&&void 0!==a?a:{};n.setValue("label",d(d({},e),{},{format:s}))}t.setValue("*",o)},o}refreshAxisTypeSelect(e){const t=this.getAxisTypeSelectOptions(),n=!!t.length;this.axisTypeSelect.setDisplayed(n),n&&this.axisTypeSelect.clearOptions().addOptions(t).setValue(e.getChartOptions().getValue("type"))}getAxisTypeSelectOptions(){const e=this.chartController,t=e.getChartType();return["heatmap","histogram","boxPlot","rangeBar","scatter","bubble"].includes(t)||e.isGrouping()||!this.isCategoryAxis()||e.isCategorySeriesSwitched()||!(()=>{const t=e.getChartData()[0];return!!t&&e.getSelectedDimensions().every(e=>!isNaN(parseFloat(t[e.colId])))})()?[]:["category","number","time"].map(e=>({value:e,text:this.translate(e)}))}isCategoryAxis(){const e="horizontal"===this.chartOptionsSeriesProxy.getValue("direction");return e&&"yAxis"===this.axisType||!e&&"xAxis"===this.axisType}getAxisPositionSelectParams(e){const t=((e,t)=>{if("heatmap"===e)return null;switch(t){case"xAxis":return[{value:"top",text:this.translate("top")},{value:"bottom",text:this.translate("bottom")}];case"yAxis":return[{value:"left",text:this.translate("left")},{value:"right",text:this.translate("right")}]}})(this.chartController.getChartType(),this.axisType);return t?e.getDefaultSelectParams("position","position",t):null}getAxisTimeFormatSelectParams(e){if(!this.isCategoryAxis())return null;const t=[{value:"%d/%m/%Y",text:this.translate("timeFormatSlashesDDMMYYYY")},{value:"%m/%d/%Y",text:this.translate("timeFormatSlashesMMDDYYYY")},{value:"%d/%m/%y",text:this.translate("timeFormatSlashesDDMMYY")},{value:"%m/%d/%y",text:this.translate("timeFormatSlashesMMDDYY")},{value:"%d.%e.%y",text:this.translate("timeFormatDotsDDMYY")},{value:"%e.%d.%y",text:this.translate("timeFormatDotsMDDYY")},{value:"%Y-%m-%d",text:this.translate("timeFormatDashesYYYYMMDD")},{value:"%d %B %Y",text:this.translate("timeFormatSpacesDDMMMMYYYY")},{value:"%H:%M:%S",text:this.translate("timeFormatHHMMSS")},{value:"%I:%M:%S %p",text:this.translate("timeFormatHHMMSSAmPm")}];return e.getDefaultSelectParams("label.format","timeFormat",t)}getAxisColorInputParams(e){return e.getDefaultColorPickerParams("line.stroke")}getAxisLineWidthSliderParams(e){var t;const n=e.getChartOptions(),i=e.getDefaultSliderParamsWithoutValueParams(null!==(t=n.getValue("line.enabled")?n.getValue("line.width"):null)&&void 0!==t?t:0,"thickness",10);return i.onValueChange=e=>{var t;t=0===e?null:e,n.setValues([{expression:"line.enabled",value:null!=t},{expression:"line.width",value:null!==t&&void 0!==t?t:0}])},i}initGridLines(e){if("heatmap"===this.chartController.getChartType())return;const t=this.createBean(new Tte(e));this.axisGroup.addItem(t),this.activePanels.push(t)}initAxisTicks(e){if(!this.hasConfigurableAxisTicks())return;const t=this.createBean(new Pte(e));this.axisGroup.addItem(t),this.activePanels.push(t);const n=()=>t.setTickSizeSliderDisplayed(this.isGroupedCategoryAxis());this.updateFuncs.push(n),n()}hasConfigurableAxisTicks(){switch(this.chartController.getChartType()){case"radarLine":case"radarArea":case"rangeBar":case"boxPlot":case"waterfall":return!1;default:return!0}}initAxisLabels(e){const t={name:this.translate("labels"),enabled:!0,suppressEnabledCheckbox:!0,chartMenuParamsFactory:e,keyMapper:e=>"label.".concat(e)},n=this.createBean(new Rte(t));this.axisGroup.addItem(n),this.activePanels.push(n),this.addAdditionalLabelComps(n,e)}addAdditionalLabelComps(e,t){this.addLabelPadding(e,t);const n=this.createRotationWidget("labelRotation",t),i=this.initLabelRotation(n,t);e.addItem(i),e.addItem(n)}initLabelRotation(e,t){const n=t.getChartOptions(),i=()=>n.getValue("label.rotation"),o="number"!==typeof i()&&n.getValue("label.autoRotate"),r=this.createBean(new fW({label:this.translate("autoRotate"),value:o,onValueChange:t=>{t&&(this.prevRotation=i()),n.setValues([{expression:"label.autoRotate",value:t},{expression:"label.rotation",value:t?void 0:this.prevRotation}]),e.setDisplayed(!t)}}));e.setDisplayed(!o);const s=()=>r.setDisplayed(this.isGroupedCategoryAxis());return this.updateFuncs.push(s),s(),r}createRotationWidget(e,t){var n;const i=t.getChartOptions(),o=()=>i.getValue("label.rotation"),r=String.fromCharCode(176),s="".concat(this.chartTranslation.translate(e)," ").concat(r),a=new Ate({label:s,labelWidth:"flex",value:null!==(n=o())&&void 0!==n?n:0,onValueChange:e=>i.setValue("label.rotation",e)});return this.updateFuncs.push(()=>{var e;a.setValue(null!==(e=o())&&void 0!==e?e:0)}),this.createBean(a)}isGroupedCategoryAxis(){return"grouped-category"!==this.chartOptionsService.getCartesianAxisOptionsProxy(this.axisType).getValue("type")||!this.isCategoryAxis()}addLabelPadding(e,t){const n=this.createBean(new kee(t.getDefaultSliderParams("label.spacing","padding",30)));e.addItem(n)}translate(e){return this.chartTranslation.translate(e)}removeTemplateComponent(e){cN(e.getGui()),this.destroyBean(e)}destroyActivePanels(){this.activePanels.forEach(e=>{cN(e.getGui()),this.destroyBean(e)})}destroy(){this.destroyActivePanels(),super.destroy()}},Mte=class extends AG{constructor(e){super(),this.options=e,this.axisGroup=kG}wireBeans(e){this.chartTranslation=e.chartTranslation}postConstruct(){const{isExpandedOnInit:e,chartAxisMenuParamsFactory:t,registerGroupComponent:n}=this.options,i={cssIdentifier:"charts-format-top-level",direction:"vertical",title:this.translate("polarAxis"),expanded:e,suppressEnabledCheckbox:!0},o=t.getDefaultColorPickerParams("line.stroke"),r=t.getDefaultSliderParams("line.width","thickness",10);this.setTemplate('<div>\n            <ag-group-component data-ref="axisGroup">\n                <ag-color-picker data-ref="axisColorInput"></ag-color-picker>\n                <ag-slider data-ref="axisLineWidthSlider"></ag-slider>\n            </ag-group-component>\n        </div>',[B6,Dee,Aee],{axisGroup:i,axisColorInput:o,axisLineWidthSlider:r}),n(this.axisGroup),this.initAxis(),this.initAxisLabels(),this.initRadiusAxis()}initAxis(){const e=this.options.chartController.getChartType();if(["radarLine","radarArea"].includes(e)){const e=[{value:"circle",text:this.translate("circle")},{value:"polygon",text:this.translate("polygon")}];this.axisGroup.addItem(this.createSelect({labelKey:"shape",options:e,property:"shape"}))}"pie"!==e&&this.axisGroup.addItem(this.createSlider({labelKey:"innerRadius",defaultMaxValue:1,property:"innerRadiusRatio"}))}initAxisLabels(){const e={name:this.translate("labels"),enabled:!0,suppressEnabledCheckbox:!0,chartMenuParamsFactory:this.options.chartAxisMenuParamsFactory,keyMapper:e=>"label.".concat(e)},t=this.createManagedBean(new Rte(e)),n=this.createOrientationWidget();t.addItem(n),this.axisGroup.addItem(t)}createOrientationWidget(){const e=[{value:"fixed",text:this.translate("fixed")},{value:"parallel",text:this.translate("parallel")},{value:"perpendicular",text:this.translate("perpendicular")}];return this.createSelect({labelKey:"orientation",options:e,property:"label.orientation"})}initRadiusAxis(){const e=N9(this.options.chartController.getChartType());if(!A9(e,"isRadial"))return;const t=[this.createSlider({labelKey:"groupPadding",defaultMaxValue:1,property:"paddingInner"}),this.createSlider({labelKey:"seriesPadding",defaultMaxValue:1,property:"groupPaddingInner"})],n=this.createManagedBean(new I6({cssIdentifier:"charts-format-sub-level",direction:"vertical",suppressOpenCloseIcons:!0,enabled:!0,suppressEnabledCheckbox:!0,title:this.translate("padding"),items:t})).hideEnabledCheckbox(!0).hideOpenCloseIcons(!0);this.axisGroup.addItem(n)}createSlider(e){const{labelKey:t,defaultMaxValue:n,step:i=.05,property:o}=e,r=this.options.chartAxisMenuParamsFactory.getDefaultSliderParams(o,t,n);return r.step=i,this.createManagedBean(new kee(r))}createSelect(e){const{labelKey:t,options:n,property:i}=e;return this.createManagedBean(new nU(this.options.chartAxisMenuParamsFactory.getDefaultSelectParams(i,t,n)))}translate(e){return this.chartTranslation.translate(e)}},Ite=class extends AG{constructor(e){super(),this.chartMenuUtils=e}wireBeans(e){this.chartTranslation=e.chartTranslation}postConstruct(){const e=this.chartMenuUtils.addEnableParams("background.visible",{cssIdentifier:"charts-format-sub-level",direction:"vertical",suppressOpenCloseIcons:!0,title:this.chartTranslation.translate("background"),suppressEnabledCheckbox:!0,useToggle:!0}),t=this.chartMenuUtils.getDefaultColorPickerParams("background.fill");this.setTemplate('<div>\n            <ag-group-component data-ref="chartBackgroundGroup">\n                <ag-color-picker data-ref="colorPicker"></ag-color-picker>\n            </ag-group-component>\n        <div>',[B6,Dee],{chartBackgroundGroup:e,colorPicker:t})}},Lte=class extends AG{constructor(e,t){super(),this.chartMenuUtils=e,this.chartController=t,this.paddingTopSlider=kG}wireBeans(e){this.chartTranslation=e.chartTranslation}postConstruct(){const e={cssIdentifier:"charts-format-sub-level",direction:"vertical",suppressOpenCloseIcons:!0,title:this.chartTranslation.translate("padding"),suppressEnabledCheckbox:!0},t=e=>this.chartMenuUtils.getDefaultSliderParams("padding."+e,e,200);this.setTemplate('<div>\n            <ag-group-component data-ref="chartPaddingGroup">\n                <ag-slider data-ref="paddingTopSlider"></ag-slider>\n                <ag-slider data-ref="paddingRightSlider"></ag-slider>\n                <ag-slider data-ref="paddingBottomSlider"></ag-slider>\n                <ag-slider data-ref="paddingLeftSlider"></ag-slider>\n            </ag-group-component>\n        <div>',[B6,Aee],{chartPaddingGroup:e,paddingTopSlider:t("top"),paddingRightSlider:t("right"),paddingBottomSlider:t("bottom"),paddingLeftSlider:t("left")}),this.addManagedEventListeners({chartOptionsChanged:e=>{this.updateTopPadding(e.chartOptions)}})}updateTopPadding(e){const t=[...this.chartController.getChartSeriesTypes(),"common"].map(t=>{var n;return null===e||void 0===e||null===(n=e[t])||void 0===n||null===(n=n.padding)||void 0===n?void 0:n.top}).find(e=>null!=e);null!=t&&this.paddingTopSlider.setValue("".concat(t))}},Nte=class extends AG{constructor(e){super(),this.options=e,this.chartGroup=kG}wireBeans(e){this.chartTranslation=e.chartTranslation}postConstruct(){const{chartController:e,chartMenuParamsFactory:t,isExpandedOnInit:n,registerGroupComponent:i}=this.options,o={cssIdentifier:"charts-format-top-level",direction:"vertical",title:this.chartTranslation.translate("chartStyle"),expanded:n,suppressEnabledCheckbox:!0,items:[this.createManagedBean(new Lte(t,e)),this.createManagedBean(new Ite(t))]};this.setTemplate('<div>\n            <ag-group-component data-ref="chartGroup"></ag-group-component>\n        </div>',[B6],{chartGroup:o}),i(this.chartGroup)}},Bte=class extends vO{constructor(e){super(),this.groupContainer=e,this.id=0,this.groupComponents=new Map}addGroupComponent(e){const t=this.id++;this.groupComponents.set(t,e),e.isExpanded()&&(this.expandedGroupComponent=t),e.onExpandedChange(n=>{if(n){const n=this.expandedGroupComponent;if(this.expandedGroupComponent=t,null!=n){var i;const t=e.getGui(),o=t.offsetTop-this.groupContainer.parentElement.scrollTop;null===(i=this.groupComponents.get(n))||void 0===i||i.toggleGroupExpand(!1,!0);let r=t.offsetTop-o;r<0&&(r=0),r!==this.groupContainer.parentElement.scrollTop&&(this.groupContainer.parentElement.scrollTop=r)}}else this.expandedGroupComponent=void 0})}destroy(){this.groupComponents.clear(),super.destroy()}},Ote=class extends AG{constructor(e,t){super(),this.options=e,this.chartMenuContext=t,this.legendGroup=kG,this.enabledGroup=kG,this.isGradient=["treemap","sunburst","heatmap"].includes(e.seriesType),this.key=this.isGradient?"gradientLegend":"legend",this.chartController=t.chartController}wireBeans(e){this.chartTranslation=e.chartTranslation}postConstruct(){const{chartMenuParamsFactory:e,isExpandedOnInit:t,registerGroupComponent:n}=this.options,i=this.createManagedBean(new nU(e.getDefaultSelectParams("".concat(this.key,".position"),"position",["top","right","bottom","left"].map(e=>({value:e,text:this.chartTranslation.translate(e)})))));this.enabledGroup=this.createManagedBean(new I6(e.addEnableParams("".concat(this.key,".enabled"),{cssIdentifier:"charts-format-sub-level",direction:"vertical",suppressOpenCloseIcons:!0,title:this.chartTranslation.translate("legendEnabled"),suppressEnabledCheckbox:!0,useToggle:!0,items:[this.createLabelPanel(e),i,...this.getItems(e)]})));const o={cssIdentifier:"charts-format-top-level",direction:"vertical",title:this.chartTranslation.translate("legend"),suppressEnabledCheckbox:!0,expanded:t,items:[this.enabledGroup]};this.setTemplate('<div>\n            <ag-group-component data-ref="legendGroup">\n            </ag-group-component>\n        </div>',[B6],{legendGroup:o}),n(this.legendGroup);const r=this.updateLegendEnabledState.bind(this);this.addManagedListeners(this.chartController,{chartModelUpdate:r,chartApiUpdate:r})}updateLegendEnabledState(){const{valueCols:e}=this.chartController.getColStateForMenu();this.enabledGroup.setEnabled(e.filter(e=>e.selected).length>1)}getItems(e){const t=(t,n,i)=>this.createManagedBean(new kee(e.getDefaultSliderParams("".concat(this.key,".").concat(t),n,i)));return this.isGradient?[this.createManagedBean(new fW(e.addValueParams("gradientLegend.reverseOrder",{label:this.chartTranslation.translate("reverseDirection"),labelWidth:"flex"}))),t("gradient.thickness","thickness",40),t("gradient.preferredLength","preferredLength",300),t("spacing","spacing",200)]:[t("spacing","spacing",200),t("item.marker.size","markerSize",40),t("item.marker.strokeWidth","markerStroke",10),t("item.marker.padding","itemSpacing",20),t("item.paddingX","layoutHorizontalSpacing",50),t("item.paddingY","layoutVerticalSpacing",50)]}createLabelPanel(e){const t=this.isGradient?"gradientLegend.scale.label":"legend.item.label",n={enabled:!0,suppressEnabledCheckbox:!0,chartMenuParamsFactory:e,keyMapper:e=>"".concat(t,".").concat(e),cssIdentifier:"charts-format-sub-level-no-header"};return this.createManagedBean(new Rte(n))}},Gte=class extends AG{constructor(e){super(),this.params=e,this.toggleableGroup=kG,this.activeComps=[],this.chartOptions=e.chartMenuParamsFactory.getChartOptions()}postConstruct(){const{tag:e,cssIdentifier:t="charts-format-sub-level",title:n,suppressEnabledCheckbox:i}=this.params,o=this.params.chartMenuParamsFactory.addEnableParams("".concat(e,".enabled"),{cssIdentifier:t,direction:"vertical",suppressOpenCloseIcons:!0,title:n,suppressEnabledCheckbox:!0,useToggle:!i});this.setTemplate('<div class="ag-toggleable-group-panel">\n                <ag-group-component data-ref="toggleableGroup">\n                </ag-group-component>\n            </div>',[B6],{toggleableGroup:o}),this.toggleCss("ag-toggleable-group-panel-no-header",!n)}addItem(e,t){t?this.toggleableGroup.prependItem(e):this.toggleableGroup.addItem(e),this.activeComps.push(e)}setEnabled(e){this.toggleableGroup.setEnabled(e)}destroyActiveComps(){this.activeComps.forEach(e=>{cN(e.getGui()),this.destroyBean(e)})}destroy(){this.destroyActiveComps(),super.destroy()}},zte=class extends AG{constructor(e){super(),this.chartMenuUtils=e}wireBeans(e){this.chartTranslation=e.chartTranslation}postConstruct(){const e={cssIdentifier:"charts-format-sub-level",direction:"vertical",title:this.chartTranslation.translate("callout"),enabled:!0,suppressOpenCloseIcons:!0,suppressEnabledCheckbox:!0};this.setTemplate('<div>\n            <ag-group-component data-ref="calloutGroup">\n                <ag-slider data-ref="calloutLengthSlider"></ag-slider>\n                <ag-slider data-ref="calloutStrokeWidthSlider"></ag-slider>\n                <ag-slider data-ref="labelOffsetSlider"></ag-slider>\n            </ag-group-component>\n        </div>',[B6,Aee],{calloutGroup:e,calloutLengthSlider:this.chartMenuUtils.getDefaultSliderParams("calloutLine.length","length",40),calloutStrokeWidthSlider:this.chartMenuUtils.getDefaultSliderParams("calloutLine.strokeWidth","strokeWidth",10),labelOffsetSlider:this.chartMenuUtils.getDefaultSliderParams("calloutLabel.offset","offset",30)})}},Vte=class extends AG{constructor(e){super(),this.chartMenuUtils=e}wireBeans(e){this.chartTranslation=e.chartTranslation}postConstruct(){const e={cssIdentifier:"charts-format-sub-level",direction:"vertical",title:this.chartTranslation.translate("cap"),enabled:!0,suppressOpenCloseIcons:!0,suppressEnabledCheckbox:!0},t=this.chartMenuUtils.getDefaultSliderParams("cap.lengthRatio","capLengthRatio",1);t.step=.05,this.setTemplate('<div>\n            <ag-group-component data-ref="capsGroup">\n                <ag-slider data-ref="capLengthRatioSlider"></ag-slider>\n            </ag-group-component>\n        </div>',[B6,Aee],{capsGroup:e,capLengthRatioSlider:t})}},Hte=class extends AG{constructor(e){super(),this.chartMenuUtils=e}wireBeans(e){this.chartTranslation=e.chartTranslation}postConstruct(){const e={cssIdentifier:"charts-format-sub-level",direction:"vertical",title:this.chartTranslation.translate("connectorLine"),enabled:!0,suppressOpenCloseIcons:!0,suppressEnabledCheckbox:!0};this.setTemplate('<div>\n            <ag-group-component data-ref="lineGroup">\n                <ag-color-picker data-ref="lineColorPicker"></ag-color-picker>\n                <ag-slider data-ref="lineStrokeWidthSlider"></ag-slider>\n                <ag-slider data-ref="lineOpacitySlider"></ag-slider>\n                <ag-slider data-ref="lineDashSlider"></ag-slider>                \n            </ag-group-component>\n        </div>',[B6,Dee,Aee],{lineGroup:e,lineColorPicker:this.chartMenuUtils.getDefaultColorPickerParams("line.stroke"),lineStrokeWidthSlider:this.getSliderParams("strokeWidth",10,"line.strokeWidth"),lineDashSlider:this.getSliderParams("lineDash",30,"line.lineDash",1,!0),lineOpacitySlider:this.getSliderParams("strokeOpacity",1,"line.strokeOpacity",.05)})}getSliderParams(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const r=this.chartMenuUtils.getDefaultSliderParams(n,e,t,o);return r.step=i,r}};function jte(e){return["square","circle","cross","diamond","plus","triangle","heart"].map(t=>({value:t,text:e.translate(t)}))}var Wte=class extends AG{constructor(e){super(),this.chartMenuUtils=e}wireBeans(e){this.chartTranslation=e.chartTranslation}postConstruct(){const e=this.chartMenuUtils.addEnableParams("marker.enabled",{cssIdentifier:"charts-format-sub-level",direction:"vertical",title:this.chartTranslation.translate("markers"),suppressEnabledCheckbox:!0,useToggle:!0,suppressOpenCloseIcons:!0});this.setTemplate('<div>\n            <ag-group-component data-ref="seriesMarkersGroup">\n                <ag-select data-ref="seriesMarkerShapeSelect"></ag-select>\n                <ag-slider data-ref="seriesMarkerSizeSlider"></ag-slider>\n                <ag-slider data-ref="seriesMarkerStrokeWidthSlider"></ag-slider>\n            </ag-group-component>\n        </div>',[B6,iU,Aee],{seriesMarkersGroup:e,seriesMarkerShapeSelect:this.chartMenuUtils.getDefaultSelectParams("marker.shape","shape",jte(this.chartTranslation)),seriesMarkerSizeSlider:this.chartMenuUtils.getDefaultSliderParams("marker.size","size",60),seriesMarkerStrokeWidthSlider:this.chartMenuUtils.getDefaultSliderParams("marker.strokeWidth","strokeWidth",10)})}},Ute=class extends AG{constructor(e){super(),this.chartMenuUtils=e,this.seriesItemsGroup=kG,this.activePanels=[]}wireBeans(e){this.chartTranslation=e.chartTranslation}postConstruct(){const e={cssIdentifier:"charts-format-sub-level",direction:"vertical",title:this.chartTranslation.translate("seriesItems"),enabled:!0,suppressOpenCloseIcons:!0,suppressEnabledCheckbox:!0};this.setTemplate('<div>\n            <ag-group-component data-ref="seriesItemsGroup">\n                <ag-select data-ref="seriesItemSelect"></ag-select>\n            </ag-group-component>\n        </div>',[B6,iU],{seriesItemsGroup:e,seriesItemSelect:this.getSeriesItemsParams()}),this.initSeriesControls()}getSeriesItemsParams(){const e=[{value:"positive",text:this.chartTranslation.translate("seriesItemPositive")},{value:"negative",text:this.chartTranslation.translate("seriesItemNegative")}];return this.chartMenuUtils.getDefaultSelectParamsWithoutValueParams("seriesItemType",e,"positive",e=>{this.destroyActivePanels(),this.initSeriesControls(e)})}initSeriesControls(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"positive";this.initSlider("strokeWidth",10,"item.".concat(e,".strokeWidth")),this.initSlider("lineDash",30,"item.".concat(e,".lineDash"),1,!0),this.initSlider("strokeOpacity",1,"item.".concat(e,".strokeOpacity"),.05,!1),this.initSlider("fillOpacity",1,"item.".concat(e,".fillOpacity"),.05,!1),this.initItemLabels(e)}initSlider(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const r=this.chartMenuUtils.getDefaultSliderParams(n,e,t,o);r.step=i;const s=this.seriesItemsGroup.createManagedBean(new kee(r));this.seriesItemsGroup.addItem(s),this.activePanels.push(s)}initItemLabels(e){const t=this.chartMenuUtils.getDefaultFontPanelParams("item.".concat(e,".label"),"seriesItemLabels"),n=this.createBean(new Rte(t));this.seriesItemsGroup.addItem(n),this.activePanels.push(n)}destroyActivePanels(){this.activePanels.forEach(e=>{cN(e.getGui()),this.destroyBean(e)})}destroy(){this.destroyActivePanels(),super.destroy()}},Kte=class extends AG{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"shadow";super(),this.chartMenuUtils=e,this.propertyKey=t}wireBeans(e){this.chartTranslation=e.chartTranslation}postConstruct(){const e=this.propertyKey,t=this.chartMenuUtils.addEnableParams("".concat(e,".enabled"),{cssIdentifier:"charts-format-sub-level",direction:"vertical",suppressOpenCloseIcons:!0,title:this.chartTranslation.translate("shadow"),suppressEnabledCheckbox:!0,useToggle:!0}),n=this.chartMenuUtils.getDefaultColorPickerParams("".concat(e,".color"));this.setTemplate('<div>\n            <ag-group-component data-ref="shadowGroup">\n                <ag-color-picker data-ref="shadowColorPicker"></ag-color-picker>\n                <ag-slider data-ref="shadowBlurSlider"></ag-slider>\n                <ag-slider data-ref="shadowXOffsetSlider"></ag-slider>\n                <ag-slider data-ref="shadowYOffsetSlider"></ag-slider>\n            </ag-group-component>\n        </div>',[B6,Dee,Aee],{shadowGroup:t,shadowColorPicker:n,shadowBlurSlider:this.getSliderParams("blur",0,20),shadowXOffsetSlider:this.getSliderParams("xOffset",-10,10),shadowYOffsetSlider:this.getSliderParams("yOffset",-10,10)})}getSliderParams(e,t,n){const i="".concat(this.propertyKey,".").concat(e),o=this.chartMenuUtils.getDefaultSliderParams(i,e,n);return o.minValue=t,o}},qte=class extends AG{constructor(e){super(),this.chartMenuUtils=e}wireBeans(e){this.chartTranslation=e.chartTranslation}postConstruct(){const e={cssIdentifier:"charts-format-sub-level",direction:"vertical",enabled:!0,suppressOpenCloseIcons:!0,suppressEnabledCheckbox:!0};this.setTemplate('<div>\n            <ag-group-component data-ref="groupSpacing">\n                <ag-slider data-ref="groupPaddingSlider"></ag-slider>\n                <ag-slider data-ref="groupSpacingSlider"></ag-slider>\n            </ag-group-component>\n            <ag-group-component data-ref="tileSpacing">\n                <ag-slider data-ref="tilePaddingSlider"></ag-slider>\n                <ag-slider data-ref="tileSpacingSlider"></ag-slider>\n            </ag-group-component>\n        </div>',[B6,Aee],{groupSpacing:d(d({},e),{},{title:this.chartTranslation.translate("group")}),tileSpacing:d(d({},e),{},{title:this.chartTranslation.translate("tile")}),groupPaddingSlider:this.getSliderParams("padding","group.padding"),groupSpacingSlider:this.getSliderParams("spacing","group.gap"),tilePaddingSlider:this.getSliderParams("padding","tile.padding"),tileSpacingSlider:this.getSliderParams("spacing","tile.gap")})}getSliderParams(e,t){return this.chartMenuUtils.getDefaultSliderParams(t,e,10)}};var Yte=class extends AG{constructor(e){super(),this.chartMenuUtils=e,this.tooltipMode=kG}postConstruct(){const{chartMenuUtils:e,beans:t}=this,n="tooltip",i=t.chartTranslation,o=e.addEnableParams("".concat(n,".enabled"),{cssIdentifier:"charts-format-sub-level",direction:"vertical",suppressOpenCloseIcons:!0,title:i.translate("tooltips"),suppressEnabledCheckbox:!0,useToggle:!0}),r="tooltipMode",s=["single","shared","compact"].map(e=>{return{value:e,text:i.translate("".concat(r).concat((t=e,t[0].toUpperCase()+t.substring(1))))};var t}),a="".concat(n,".mode"),l=e.getDefaultSelectParams(a,r,s);this.setTemplate('<div>\n            <ag-group-component data-ref="tooltipGroup">\n                <ag-select data-ref="tooltipMode"></ag-select>\n            </ag-group-component>\n        </div>',[B6,iU],{tooltipGroup:o,tooltipMode:l}),this.addManagedEventListeners({chartOptionsChanged:()=>{const t=e.getChartOptions().getValue(a);this.tooltipMode.setValue(t,!0)}})}},Zte=class extends AG{constructor(e){super(),this.chartMenuUtils=e}wireBeans(e){this.chartTranslation=e.chartTranslation}postConstruct(){const e={cssIdentifier:"charts-format-sub-level",direction:"vertical",title:this.chartTranslation.translate("whisker"),enabled:!0,suppressOpenCloseIcons:!0,suppressEnabledCheckbox:!0};this.setTemplate('<div>\n            <ag-group-component data-ref="whiskersGroup">\n                <ag-color-picker data-ref="whiskerColorPicker"></ag-color-picker>\n                <ag-slider data-ref="whiskerThicknessSlider"></ag-slider>\n                <ag-slider data-ref="whiskerOpacitySlider"></ag-slider>\n                <ag-slider data-ref="whiskerLineDashSlider"></ag-slider>\n                <ag-slider data-ref="whiskerLineDashOffsetSlider"></ag-slider>\n            </ag-group-component>\n        </div>',[B6,Dee,Aee],{whiskersGroup:e,whiskerColorPicker:this.chartMenuUtils.getDefaultColorPickerParams("whisker.stroke"),whiskerThicknessSlider:this.chartMenuUtils.getDefaultSliderParams("whisker.strokeWidth","strokeWidth",10),whiskerOpacitySlider:this.chartMenuUtils.getDefaultSliderParams("whisker.strokeOpacity","strokeOpacity",1),whiskerLineDashSlider:this.chartMenuUtils.getDefaultSliderParams("whisker.lineDash","lineDash",30,!0),whiskerLineDashOffsetSlider:this.chartMenuUtils.getDefaultSliderParams("whisker.lineDashOffset","lineDashOffset",30)})}},$te="tooltips",Xte="strokeWidth",Qte="lineWidth",Jte="lineDash",ene="lineOpacity",tne="fillOpacity",nne="labels",ine="shadow",one="stageLabels",rne="markers",sne=class extends AG{constructor(e){super(),this.options=e,this.seriesGroup=kG,this.activePanels=[],this.widgetFuncs={lineWidth:()=>this.initStrokeWidth(Qte),[Xte]:()=>this.initStrokeWidth("strokeWidth"),lineColor:()=>this.initLineColor(),[Jte]:()=>this.initLineDash(),[ene]:()=>this.initOpacity("strokeOpacity"),[tne]:()=>this.initOpacity("fillOpacity"),markers:()=>new Wte(this.chartMenuUtils),[nne]:()=>this.initLabels(),sectorLabels:()=>this.initSectorLabels(),[ine]:()=>new Kte(this.chartMenuUtils),[$te]:()=>new Yte(this.options.chartMenuParamsFactory),bins:()=>this.initBins(),whiskers:()=>new Zte(this.chartMenuUtils),caps:()=>new Vte(this.chartMenuUtils),connectorLine:()=>new Hte(this.chartMenuUtils),seriesItems:()=>new Ute(this.chartMenuUtils),tileSpacing:()=>new qte(this.chartMenuUtils),shape:()=>this.initShape(),size:()=>this.initSize("size","size"),minSize:()=>this.initSize("size","minSize"),maxSize:()=>this.initSize("maxSize","maxSize"),dropoff:()=>this.initDropOff(),stageLabels:()=>this.initStageLabels()},this.seriesWidgetMappings={bar:[$te,Xte,Jte,ene,tne,nne,ine],pie:[$te,Xte,ene,tne,nne,"sectorLabels",ine],donut:[$te,Xte,ene,tne,nne,"sectorLabels",ine],line:[$te,Qte,Jte,ene,rne,nne],scatter:[$te,"shape","size",Xte,nne],bubble:[$te,"shape","minSize","maxSize",Xte,nne],area:[$te,Qte,Jte,ene,tne,rne,nne,ine],histogram:[$te,"bins",Xte,Jte,ene,tne,nne,ine],"radial-column":[$te,Xte,Jte,ene,tne,nne],"radial-bar":[$te,Xte,Jte,ene,tne,nne],"radar-line":[$te,Xte,Jte,ene,rne,nne],"radar-area":[$te,Xte,Jte,ene,tne,rne,nne],nightingale:[$te,Xte,Jte,ene,tne,nne],"box-plot":[$te,Xte,Jte,ene,tne,"whiskers","caps"],"range-bar":[$te,Xte,Jte,ene,tne,nne],"range-area":[$te,Qte,Jte,ene,tne,rne,nne,ine],treemap:[$te,"tileSpacing"],sunburst:[$te],heatmap:[$te,nne,"lineColor",Qte,ene],waterfall:[$te,"connectorLine","seriesItems"],funnel:[$te,Xte,Jte,ene,tne,nne,"dropoff",one,ine],"cone-funnel":[$te,Xte,Jte,ene,tne,nne,one],pyramid:[$te,Xte,Jte,ene,tne,nne,one,ine]},this.seriesType=e.seriesType}wireBeans(e){this.chartTranslation=e.chartTranslation}postConstruct(){const{isExpandedOnInit:e,chartOptionsService:t,chartController:n,registerGroupComponent:i}=this.options,o={cssIdentifier:"charts-format-top-level",direction:"vertical",title:this.translate("series"),expanded:e,suppressEnabledCheckbox:!0};this.setTemplate('<div>\n            <ag-group-component data-ref="seriesGroup">\n            </ag-group-component>\n        </div>',[B6],{seriesGroup:o}),i(this.seriesGroup),this.chartMenuUtils=this.createManagedBean(new Ste(t.getSeriesOptionsProxy(()=>this.seriesType))),this.addManagedListeners(n,{chartSeriesChartTypeChanged:this.refreshWidgets.bind(this)}),this.refreshWidgets()}refreshWidgets(){const{chartController:e}=this.options;this.destroyActivePanels();e.getChartProxy().getChart().waitForUpdate().then(()=>{var t;!this.isAlive()||(e.isComboChart()&&(this.updateSeriesType(),this.initSeriesSelect()),(null!==(t=this.seriesWidgetMappings[this.seriesType])&&void 0!==t?t:[]).forEach(e=>{const t=this.widgetFuncs[e]();let n;if(Array.isArray(t)){const e=this.createBean(t[0]);n=e,t[1](e)}else n=this.createBean(t);this.seriesGroup.addItem(n),this.activePanels.push(n)}))}).catch(e=>oB(105,{e:e}))}initSeriesSelect(){const e=this.createBean(new nU(this.chartMenuUtils.getDefaultSelectParamsWithoutValueParams("seriesType",this.getSeriesSelectOptions(),"".concat(this.seriesType),e=>{this.seriesType=e,this.refreshWidgets()})));this.seriesGroup.addItem(e),this.activePanels.push(e)}initLineColor(){return new xee(this.chartMenuUtils.getDefaultColorPickerParams("stroke","strokeColor"))}initStrokeWidth(e,t){return new kee(this.chartMenuUtils.getDefaultSliderParams(t?"".concat(t,".").concat(e):"strokeWidth",e,10))}initLineDash(e){return new kee(this.chartMenuUtils.getDefaultSliderParams(e?"".concat(e,".lineDash"):"lineDash","lineDash",30,!0))}initOpacity(e,t){const n=this.chartMenuUtils.getDefaultSliderParams(t?"".concat(t,".").concat(e):e,e,1);return n.step=.05,new kee(n)}initDropOff(){return[new Gte({tag:"dropOff",cssIdentifier:"charts-format-sub-level",title:this.translate("dropOff"),suppressEnabledCheckbox:!1,chartMenuParamsFactory:this.chartMenuUtils}),e=>{[this.initStrokeWidth("strokeWidth","dropOff"),this.initLineDash("dropOff"),this.initOpacity("strokeOpacity","dropOff"),this.initOpacity("fillOpacity","dropOff")].forEach(t=>{const n=e.createManagedBean(t);e.addItem(n),this.activePanels.push(n)})}]}initLabels(){const e=B9(this.seriesType),t=e?"calloutLabel":"label",n=e?"calloutLabels":"labels",i=this.chartMenuUtils.getDefaultFontPanelParams(t,n);return[new Rte(i),t=>{if(e){const e=t.createManagedBean(new zte(this.chartMenuUtils));t.addItem(e),this.activePanels.push(e)}if("range-bar"===this.seriesType){const e=[{value:"inside",text:this.translate("inside")},{value:"outside",text:this.translate("outside")}],n=t.createManagedBean(new nU(this.chartMenuUtils.getDefaultSelectParams("label.placement","labelPlacement",e)));t.addItem(n),this.activePanels.push(n);const i=t.createManagedBean(new kee(this.chartMenuUtils.getDefaultSliderParams("label.padding","padding",200)));t.addItem(i),this.activePanels.push(i)}}]}initSectorLabels(){const e=this.chartMenuUtils.getDefaultFontPanelParams("sectorLabel","sectorLabels");return[new Rte(e),e=>{const t=this.chartMenuUtils.getDefaultSliderParams("sectorLabel.positionRatio","positionRatio",1);t.step=.05;const n=e.createManagedBean(new kee(t));e.addItem(n)}]}initStageLabels(){return new Rte(this.chartMenuUtils.getDefaultFontPanelParams("stageLabel",one))}initBins(){var e;const t=this.chartMenuUtils.getDefaultSliderParams("binCount","histogramBinCount",20),n=this.chartMenuUtils.getChartOptions(),i=(null!==(e=n.getValue("bins"))&&void 0!==e?e:n.getValue("calculatedBins",!0)).length;return t.value="".concat(i),t.maxValue=Math.max(i,20),new kee(t)}initShape(){return new nU(this.chartMenuUtils.getDefaultSelectParams("shape","shape",jte(this.chartTranslation)))}initSize(e,t){return new kee(this.chartMenuUtils.getDefaultSliderParams(e,t,60))}getSeriesSelectOptions(){const e=this.getActiveSeriesTypes();return["area","bar","line"].filter(t=>e.includes(t)).map(e=>({value:e,text:this.translate(e)}))}updateSeriesType(){const e=this.getActiveSeriesTypes();!e.includes(this.seriesType)&&e.length>0&&(this.seriesType=e[0])}getActiveSeriesTypes(){return this.options.chartController.getActiveSeriesChartTypes().map(e=>N9(e.chartType))}translate(e){return this.chartTranslation.translate(e)}destroyActivePanels(){this.activePanels.forEach(e=>{cN(e.getGui()),this.destroyBean(e)})}destroy(){this.destroyActivePanels(),super.destroy()}},ane=class extends AG{constructor(e,t,n){super("<div></div>"),this.chartMenuUtils=e,this.name=t,this.key=n,this.chartOptions=e.getChartOptions()}wireBeans(e){this.chartTranslation=e.chartTranslation}postConstruct(){this.initFontPanel()}hasTitle(){const e=this.chartOptions.getValue(this.key);return e&&e.enabled&&e.text&&e.text.length>0}initFontPanel(){const e=this.hasTitle(),t={name:this.chartTranslation.translate(this.name),enabled:e,suppressEnabledCheckbox:!1,chartMenuParamsFactory:this.chartMenuUtils,keyMapper:e=>"".concat(this.key,".").concat(e),onEnableChange:e=>this.onEnableChange(e)};this.fontPanel=this.createManagedBean(new Rte(t)),this.fontPanel.addItem(this.createBean(new KW(this.getTextInputParams())),!0),this.fontPanel.addItem(this.createBean(new kee(this.getSpacingSliderParams()))),this.getGui().appendChild(this.fontPanel.getGui())}getTextInputParams(){return this.chartMenuUtils.addValueParams("".concat(this.key,".text"),{label:this.chartTranslation.translate("title"),labelAlignment:"top"})}getSpacingSliderParams(){return this.chartMenuUtils.getDefaultSliderParams("".concat(this.key,".spacing"),"spacing",100)}onEnableChange(e){this.chartOptions.setValue("".concat(this.key,".enabled"),e)}},lne=class extends ane{wireBeans(e){super.wireBeans(e),this.chartMenuSvc=e.chartMenuSvc}postConstruct(){this.titlePlaceholder=this.chartTranslation.translate("titlePlaceholder"),super.postConstruct(),this.addManagedEventListeners({chartTitleEdit:()=>{this.fontPanel.setEnabled(this.hasTitle())}})}getTextInputParams(){const e=super.getTextInputParams();return this.shouldOverrideTextWithPlaceholder(e.value)&&(e.value=this.titlePlaceholder),e}getSpacingSliderParams(){const e=super.getSpacingSliderParams();return e.value="10",e}onEnableChange(e){if(this.chartMenuSvc.doesChartToolbarExist()){const t=this.chartOptions.getValue("padding.top");this.chartOptions.setValue("padding.top",e?t-20:t+20)}this.chartOptions.setValue("".concat(this.key,".enabled"),e);const t=this.chartOptions.getValue("".concat(this.key,".text"));e&&this.shouldOverrideTextWithPlaceholder(t)&&this.chartOptions.setValue("".concat(this.key,".text"),this.titlePlaceholder)}shouldOverrideTextWithPlaceholder(e){return"Title"===e||0===(null===e||void 0===e?void 0:e.trim().length)}},une=class extends AG{constructor(e){super(),this.options=e,this.titleGroup=kG}wireBeans(e){this.chartTranslation=e.chartTranslation}postConstruct(){const{chartMenuParamsFactory:e,chartAxisMenuParamsFactory:t,chartOptionsService:n,seriesType:i,isExpandedOnInit:o=!1,registerGroupComponent:r}=this.options,s=[];if(P9(i)&&"pyramid"!==i){const e=e=>this.createManagedBean(new Ste(n.getCartesianAxisThemeOverridesProxy(e)));s.push(this.createManagedBean(new ane(e("xAxis"),"horizontalAxisTitle","title"))),s.push(this.createManagedBean(new ane(e("yAxis"),"verticalAxisTitle","title")))}else _9(i)&&s.push(this.createManagedBean(new ane(t,"polarAxisTitle","title")));const a={cssIdentifier:"charts-format-top-level",direction:"vertical",title:this.chartTranslation.translate("chartTitles"),expanded:o,suppressEnabledCheckbox:!0,items:[this.createManagedBean(new lne(e,"chartTitle","title")),this.createManagedBean(new ane(e,"chartSubtitle","subtitle")),...s]};this.setTemplate('<div>\n            <ag-group-component data-ref="titleGroup"></ag-group-component>\n        </div>',[B6],{titleGroup:a}),r(this.titleGroup)}},cne={groups:[{type:"chart"},{type:"titles"},{type:"legend"},{type:"series"},{type:"axis"}]},dne=["axis","horizontalAxis","verticalAxis"],hne=class extends AG{constructor(e){super('<div class="ag-chart-format-wrapper"></div>'),this.chartMenuContext=e}postConstruct(){this.groupExpansionFeature=this.createManagedBean(new Bte(this.getGui())),this.chartPanelFeature=this.createManagedBean(new fee(this.chartMenuContext.chartController,this.getGui(),"ag-chart-format-section",(e,t)=>this.createPanels(t))),this.chartPanelFeature.refreshPanels()}createPanels(e){var t;let n=!1;null===(t=this.getFormatPanelDef().groups)||void 0===t||t.forEach(t=>{let{type:i,isOpen:o=!1}=t;if(!this.isGroupPanelShownInSeries(i,e))return;o&&(n&&iB(145,{group:i}),n=!0);const r=d(d({},this.chartMenuContext),{},{isExpandedOnInit:o,seriesType:e,registerGroupComponent:e=>this.groupExpansionFeature.addGroupComponent(e)});switch(i){case"chart":this.chartPanelFeature.addComponent(new Nte(r));break;case"titles":this.chartPanelFeature.addComponent(new une(r));break;case"legend":this.chartPanelFeature.addComponent(new Ote(r,this.chartMenuContext));break;case"axis":_9(e)?this.chartPanelFeature.addComponent(new Mte(r)):P9(e)&&(this.chartPanelFeature.addComponent(new _te("xAxis",r)),this.chartPanelFeature.addComponent(new _te("yAxis",r)));break;case"horizontalAxis":this.chartPanelFeature.addComponent(new _te("xAxis",r));break;case"verticalAxis":this.chartPanelFeature.addComponent(new _te("yAxis",r));break;case"series":this.chartPanelFeature.addComponent(new sne(r));break;default:iB(147,{group:i})}})}getFormatPanelDef(){var e;const t=null===(e=this.gos.get("chartToolPanelsDef"))||void 0===e?void 0:e.formatPanel;return t||cne}isGroupPanelShownInSeries(e,t){const n=["chart","titles","legend","series"].includes(e)||P9(t)&&dne.includes(e)||_9(t)&&"axis"===e,i=T9(t)&&"legend"===e||T9(t)&&dne.includes(e);return n&&!i}},pne=class extends AG{constructor(e,t,n){super(),this.agChartsExports=t,this.tooltipName=n,this.size=58,this.padding=5;const{_Scene:i}=t;this.root=new i.Group;const o=new i.Scene({width:this.size,height:this.size});o.canvas.element.classList.add("ag-chart-mini-thumbnail-canvas"),o.setRoot(this.root),o.setContainer(e),this.scene=o}wireBeans(e){this.chartTranslation=e.chartTranslation}postConstruct(){this.scene.canvas.element.title=this.chartTranslation.translate(this.tooltipName);try{this.scene.render()}catch(nce){oB(108,{e:nce})}}};function gne(e){const{stacked:t,size:n,padding:i,xScalePadding:o,xScaleDomain:r,yScaleDomain:s,agChartsExports:{_Scene:a}}=e,l=new a.CategoryScale;l.domain=r,l.range=[i,n-i],l.paddingInner=o,l.paddingOuter=o;const u=new a.LinearScale;u.domain=s,u.range=[n-i,i];const c=(e,t,n)=>e.map((e,i)=>{const o=n.convert(e),r=new a.Rect;return r.x=t.convert(i),r.y=o,r.width=t.bandwidth,r.height=n.convert(0)-o,r.strokeWidth=0,r.crisp=!0,r});return t?e.data.map(e=>c(e,l,u)):c(e.data,l,u)}function mne(e,t,n,i){const o=[0,t[0].length-1],r=t.reduce((e,t)=>(t.forEach(t=>{t<e[0]&&(e[0]=t),t>e[1]&&(e[1]=t)}),e),[1/0,-1/0]);r[0]--,r[r.length-1]++;const s=new e.LinearScale;s.domain=o,s.range=[i,n-i];const a=new e.LinearScale;return a.domain=r,a.range=[n-i,i],{xScale:s,yScale:a}}function vne(e,t,n){return e.map(e=>e.map((e,i)=>[i>0?"lineTo":"moveTo",t.convert(i),n.convert(e)]))}function fne(e,t){const n=new e.Path;return t.forEach(e=>{let[t,i,o]=e;return n.path[t](i,o)}),n}function wne(e,t,n){return e.map((e,i,o)=>{const r=n?function(e,t,n){if(0===t)return Cne(e[t],n);return[...e[t-1]]}(o,i,t):Cne(e,t),s=[...r].reverse().map(e=>{let[t,n,i]=e;return["lineTo",n,i]}),a=e[0],l=_O(s);return a[1]===l[1]&&a[2]===l[2]||s.push(["lineTo",a[1],a[2]]),[...e,...s]})}function Cne(e,t){return e.map(e=>{let[n,i]=e;return[n,i,t.convert(0)]})}function bne(e,t){const n=fne(e,t);return n.fill=void 0,n.lineCap="round",n.strokeWidth=3,n}function yne(e,t,n,i,o){let{_Scene:r}=e;const{xScale:s,yScale:a}=function(e,t,n,i){const o=[],r=[];t.forEach(e=>{e.forEach(e=>{let[t,n]=e;o.push(t),r.push(n)})});const s=new e.LinearScale;s.domain=[Math.min(...o),Math.max(...o)],s.range=[i,n-i];const a=new e.LinearScale;return a.domain=[Math.min(...r),Math.max(...r)],a.range=[n-i,i],{xScale:s,yScale:a}}(r,n,i,o),l=n.map(e=>function(e,t,n){return e.map((e,i)=>{let[o,r]=e;return[i>0?"lineTo":"moveTo",t.convert(o),n.convert(r)]})}(e,s,a)),u=l.map(e=>function(e){const t=e[0],n=e[1],i=_O(e);return n[1]===i[1]&&n[2]===i[2]||e.push([t[0],n[1],n[2]]),e}(e)),c=u.map(e=>bne(r,e)).reduce((e,t)=>e.concat(t),[]),d=new r.Group;return d.setClipRect(new r.BBox(o,o,i-2*o,i-2*o)),d.append(c),t.append(d),c}function Sne(e,t,n,i,o){let{_Scene:r}=e;const{xScale:s,yScale:a}=mne(r,n,i,o),l=vne(n,s,a).map(e=>bne(r,e)),u=new r.Group;return u.setClipRect(new r.BBox(o,o,i-2*o,i-2*o)),u.append(l),t.append(u),l}function xne(e){return e.map((e,t,n)=>e.map((e,i)=>n.slice(0,t+1).reduce((e,t)=>e+t[i],0)))}function Dne(e){const t=e.map((t,n)=>e.reduce((e,t)=>Math.max(e,t[n]),0));return e.map(e=>e.map((e,n)=>e/t[n]*19))}function Ene(e,t,n,i,o,r){let s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0;const{_Scene:a}=e,l=new a.LinearScale;l.domain=[0,7],l.range=[-Math.PI,Math.PI].map(e=>e+Math.PI/2);const u=new a.LinearScale;u.domain=[0,10],u.range=[o,r];const c=[],d=i/2,h=n.map(e=>{const t=new a.Path;return t.strokeWidth=1,t.strokeOpacity=.5,t.lineCap="round",t.fill=void 0,t.fillOpacity=.8,e.forEach((e,n)=>{const i=l.convert(n),h=o+r-u.convert(e),p=h*Math.cos(i)+d,g=h*Math.sin(i)+d;if(t.path[n>0?"lineTo":"moveTo"](p,g),s>0){const e=new a.Marker({shape:"circle"});e.x=p,e.y=g,e.size=s,c.push(e)}}),t.path.closePath(),t}),p=new a.Group;return p.append([...h,...c]),t.append(p),{paths:h,markers:c}}function Fne(e){let[t,n]=[1/0,-1/0];const i=e.reduce((e,i,o)=>{var r;const s=o>0?e[o-1]:void 0;null!==(r=e[o])&&void 0!==r||(e[o]=[]);const a=e[o];return i.forEach((e,i)=>{s&&(e+=s[i]),a[i]=e,a[i]<t&&(t=a[i]),a[i]>n&&(n=a[i])}),e},[]);return{processedData:i,min:t,max:n}}var kne=[[[13,16],[13,12],[3,12],[3,16]],[[12,11],[12,7],[4,7],[4,11]],[[10.125,6],[10.125,1.5],[5.875,1.5],[5.875,6]]],Ane=class extends pne{constructor(e,t,n,i,o){let r=arguments.length>6&&void 0!==arguments[6]?arguments[6]:kne;super(e,t,arguments.length>5&&void 0!==arguments[5]?arguments[5]:"funnelTooltip"),this.shapes=yne(t,this.root,r,this.size,this.padding),this.updateColors(n,i)}updateColors(e,t){this.shapes.forEach(n=>{n.fill=e[0],n.stroke=t[0],n.strokeWidth=0})}},Rne={chartType:"funnel",miniChart:Ane},Pne=[[[13,16],[10.75,11.5],[5.25,11.5],[3,16]],[[10.75,11.5],[8.875,6],[7.125,6],[5.25,11.5]],[[8.875,6],[8.875,1.5],[7.125,1.5],[7.125,6]]],Tne={chartType:"coneFunnel",miniChart:class extends Ane{constructor(e,t,n,i,o){super(e,t,n,i,o,arguments.length>5&&void 0!==arguments[5]?arguments[5]:"coneFunnelTooltip",Pne)}updateColors(e,t){this.shapes.forEach((n,i)=>{n.fill=e[0],n.fillOpacity=1-.2*i,n.stroke=t[0],n.strokeWidth=0})}}},_ne=[[[8,16],[10,12],[6,12]],[[10.5,11],[12.5,7],[3.5,7],[5.5,11]],[[13,6],[15.5,1.5],[.5,1.5],[3,6]]],Mne={chartType:"pyramid",miniChart:class extends Ane{constructor(e,t,n,i,o){super(e,t,n,i,o,arguments.length>5&&void 0!==arguments[5]?arguments[5]:"pyramidTooltip",_ne)}updateColors(e,t){this.shapes.forEach((n,i)=>{n.fill=e[i],n.stroke=t[i],n.strokeWidth=0})}}},Ine=class extends pne{constructor(e,t,n){super(e,t,n),this.stroke="gray",this.axisOvershoot=3}postConstruct(){const{_Scene:e}=this.agChartsExports,t=this.size,n=this.padding,i=new e.Line;i.x1=n,i.y1=n,i.x2=n,i.y2=t-n+this.axisOvershoot,i.stroke=this.stroke;const o=new e.Line;o.x1=n-this.axisOvershoot+1,o.y1=t-n,o.x2=t-n+1,o.y2=t-n,o.stroke=this.stroke;const r=this.root;r.append(i),r.append(o),super.postConstruct()}},Lne={chartType:"groupedColumn",miniChart:class extends Ine{constructor(e,t,n,i){super(e,t,"groupedColumnTooltip"),this.columnData=[2,3,4];const{root:o,columnData:r,size:s,padding:a}=this;this.columns=gne({stacked:!1,root:o,data:r,size:s,padding:a,xScaleDomain:[0,1,2],yScaleDomain:[0,4],xScalePadding:.3,agChartsExports:t}),o.append(this.columns),this.updateColors(n,i)}updateColors(e,t){this.columns.forEach((n,i)=>{n.fill=e[i],n.stroke=t[i]})}}},Nne=[[8,12,16],[6,9,12],[2,3,4]],Bne=class extends Ine{constructor(e,t,n,i,o){let r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Nne,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:[0,16];super(e,t,arguments.length>7&&void 0!==arguments[7]?arguments[7]:"stackedColumnTooltip");const{root:a,size:l,padding:u}=this;this.stackedColumns=gne({stacked:!0,root:a,data:r,size:l,padding:u,xScaleDomain:[0,1,2],yScaleDomain:s,xScalePadding:.3,agChartsExports:t}),a.append(BO(this.stackedColumns)),this.updateColors(n,i)}updateColors(e,t){this.stackedColumns.forEach((n,i)=>n.forEach(n=>{n.fill=e[i],n.stroke=t[i]}))}},One={chartType:"stackedColumn",miniChart:Bne},Gne=[[10,10,10],[6,7,8],[2,4,6]],zne={chartType:"normalizedColumn",miniChart:class extends Bne{constructor(e,t,n,i,o){super(e,t,n,i,o,Gne,[0,10],"normalizedColumnTooltip")}}},Vne={chartType:"groupedBar",miniChart:class extends Ine{constructor(e,t,n,i){super(e,t,"groupedBarTooltip");const{_Scene:o}=t,r=this.padding,s=this.size,a=new o.CategoryScale;a.domain=[0,1,2],a.range=[r,s-r],a.paddingInner=.3,a.paddingOuter=.3;const l=new o.LinearScale;l.domain=[0,4],l.range=[s-r,r];const u=l.convert(0),c=a.bandwidth;this.bars=[2,3,4].map((e,t)=>{const n=new o.Rect;return n.x=r,n.y=a.convert(t),n.width=u-l.convert(e),n.height=c,n.strokeWidth=0,n.crisp=!0,n}),this.updateColors(n,i),this.root.append(this.bars)}updateColors(e,t){this.bars.forEach((n,i)=>{n.fill=e[i],n.stroke=t[i]})}}},Hne=[[8,12,16],[6,9,12],[2,3,4]],jne=class extends Ine{constructor(e,t,n,i,o){let r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Hne,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:[0,16];super(e,t,arguments.length>7&&void 0!==arguments[7]?arguments[7]:"stackedBarTooltip");const{_Scene:a}=t,l=this.size,u=this.padding,c=new a.CategoryScale;c.domain=[0,1,2],c.range=[u,l-u],c.paddingInner=.3,c.paddingOuter=.3;const d=new a.LinearScale;d.domain=s,d.range=[l-u,u];const h=d.convert(0),p=c.bandwidth;this.bars=r.map(e=>e.map((e,t)=>{const n=new a.Rect;return n.x=u,n.y=c.convert(t),n.width=h-d.convert(e),n.height=p,n.strokeWidth=0,n.crisp=!0,n})),this.updateColors(n,i),this.root.append(BO(this.bars))}updateColors(e,t){this.bars.forEach((n,i)=>n.forEach(n=>{n.fill=e[i],n.stroke=t[i]}))}},Wne={chartType:"stackedBar",miniChart:jne},Une=[[10,10,10],[6,7,8],[2,4,6]],Kne={chartType:"normalizedBar",miniChart:class extends jne{constructor(e,t,n,i,o){super(e,t,n,i,o,Une,[0,10],"normalizedBarTooltip")}}},qne=class extends pne{constructor(e,t,n,i,o){let r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:.6;super(e,t,arguments.length>6&&void 0!==arguments[6]?arguments[6]:"donutTooltip");const{size:s,padding:a,agChartsExports:{_Scene:l}}=this,u=(s-2*a)/2,c=u+a,d=l.toRadians,h=[[d(-90),d(30)],[d(30),d(120)],[d(120),d(180)],[d(180),d(210)],[d(210),d(240)],[d(240),d(270)]];this.sectors=h.map(e=>{let[t,n]=e;const i=new l.Sector;return i.centerX=c,i.centerY=c,i.innerRadius=u*r,i.outerRadius=u,i.startAngle=t,i.endAngle=n,i.stroke=void 0,i.strokeWidth=0,i.inset=.75,i}),this.updateColors(n,i),this.root.append(this.sectors)}updateColors(e,t){this.sectors.forEach((n,i)=>{n.fill=e[i%e.length],n.stroke=t[i%t.length]})}},Yne={chartType:"donut",miniChart:qne},Zne={chartType:"pie",miniChart:class extends qne{constructor(e,t,n,i,o){super(e,t,n,i,o,0,"pieTooltip")}}},$ne=[[1,3,5],[2,6,4],[5,3,1]],Xne=class extends Ine{constructor(e,t,n,i,o){let r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:$ne;super(e,t,arguments.length>6&&void 0!==arguments[6]?arguments[6]:"lineTooltip");const{size:s,padding:a,root:l}=this;this.lines=Sne(t,l,r,s,a),this.updateColors(n,i)}updateColors(e,t){this.lines.forEach((t,n)=>{t.stroke=e[n]})}},Qne={chartType:"line",miniChart:Xne},Jne=xne($ne),eie={chartType:"stackedLine",miniChart:class extends Xne{constructor(e,t,n,i,o){super(e,t,n,i,o,arguments.length>5&&void 0!==arguments[5]?arguments[5]:Jne,arguments.length>6&&void 0!==arguments[6]?arguments[6]:"stackedLineTooltip")}}},tie=Dne(Jne),nie={chartType:"normalizedLine",miniChart:class extends Xne{constructor(e,t,n,i,o){super(e,t,n,i,o,arguments.length>5&&void 0!==arguments[5]?arguments[5]:tie,arguments.length>6&&void 0!==arguments[6]?arguments[6]:"normalizedLineTooltip")}}},iie={chartType:"scatter",miniChart:class extends Ine{constructor(e,t,n,i){super(e,t,"scatterTooltip");const{size:o,padding:r,agChartsExports:{_Scene:s}}=this,a=new s.LinearScale;a.domain=[-.5,4],a.range=[2*r,o-r];const l=new s.LinearScale;l.domain=[-.5,3.5],l.range=[o-r,r];const u=[];[[[.3,3],[1.1,.9],[2,.4],[3.4,2.4]],[[0,.3],[1,2],[2.4,1.4],[3,0]]].forEach(e=>{e.forEach(e=>{let[t,n]=e;const i=new s.Arc;i.strokeWidth=0,i.centerX=a.convert(t),i.centerY=l.convert(n),i.radius=2.5,u.push(i)})}),this.points=u,this.updateColors(n,i);const c=new s.Group;c.setClipRect(new s.BBox(r,r,o-2*r,o-2*r)),c.append(this.points),this.root.append(c)}updateColors(e,t){this.points.forEach((n,i)=>{n.stroke=t[i%t.length],n.fill=e[i%e.length]})}}},oie={chartType:"bubble",miniChart:class extends Ine{constructor(e,t,n,i){super(e,t,"bubbleTooltip");const{size:o,padding:r,agChartsExports:{_Scene:s}}=this,a=new s.LinearScale;a.domain=[0,1],a.range=[2*r,o-r];const l=new s.LinearScale;l.domain=[0,1],l.range=[o-r,r];const u=[];[[[.1,.3,5],[.5,.4,7],[.2,.8,7]],[[.8,.7,5],[.7,.3,9]]].forEach(e=>{e.forEach(e=>{let[t,n,i]=e;const o=new s.Arc;o.strokeWidth=0,o.centerX=a.convert(t),o.centerY=l.convert(n),o.radius=i,o.fillOpacity=.7,u.push(o)})}),this.points=u,this.updateColors(n,i);const c=new s.Group;c.setClipRect(new s.BBox(r,r,o-2*r,o-2*r)),c.append(this.points),this.root.append(c)}updateColors(e,t){this.points.forEach((n,i)=>{n.stroke=t[i%t.length],n.fill=e[i%e.length]})}}},rie=$ne,sie=class extends Ine{constructor(e,t,n,i,o){let r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:rie,s=arguments.length>7&&void 0!==arguments[7]&&arguments[7];super(e,t,arguments.length>6&&void 0!==arguments[6]?arguments[6]:"groupedAreaTooltip"),this.areas=function(e,t,n,i,o){let r=arguments.length>5&&void 0!==arguments[5]&&arguments[5];const{xScale:s,yScale:a}=mne(e,n,i,o),l=wne(vne(n,s,a),a,r),u=new e.Group;u.setClipRect(new e.BBox(o,o,i-2*o,i-2*o));const c=l.map(t=>fne(e,t));return u.append(c),t.append(u),c}(t._Scene,this.root,r,this.size,this.padding,s),this.updateColors(n,i)}updateColors(e,t){this.areas.forEach((n,i)=>{n.fill=e[i],n.stroke=t[i],n.strokeWidth=1,n.strokeOpacity=.75,n.fillOpacity=.7})}},aie={chartType:"area",miniChart:sie},lie=xne(rie),uie=class extends sie{constructor(e,t,n,i,o){super(e,t,n,i,o,arguments.length>5&&void 0!==arguments[5]?arguments[5]:lie,arguments.length>6&&void 0!==arguments[6]?arguments[6]:"stackedAreaTooltip",!0)}updateColors(e,t){this.areas.forEach((n,i)=>{n.fill=e[i],n.stroke=t[i]})}},cie={chartType:"stackedArea",miniChart:uie},die=Dne(lie),hie={chartType:"normalizedArea",miniChart:class extends uie{constructor(e,t,n,i,o){super(e,t,n,i,o,arguments.length>5&&void 0!==arguments[5]?arguments[5]:die,arguments.length>6&&void 0!==arguments[6]?arguments[6]:"normalizedAreaTooltip")}}},pie={chartType:"histogram",miniChart:class extends Ine{constructor(e,t,n,i){super(e,t,"histogramTooltip");const{padding:o,size:r,agChartsExports:{_Scene:s}}=this,a=[2,5,11,13,10,6,1],l=new s.LinearScale;l.domain=[0,a.length],l.range=[o,r-o];const u=new s.LinearScale;u.domain=[0,a.reduce((e,t)=>Math.max(e,t),0)],u.range=[r-o,o];const c=u.convert(0);this.bars=a.map((e,t)=>{const n=u.convert(e),i=l.convert(t),o=l.convert(t+1),r=new s.Rect;return r.x=i,r.y=n,r.width=o-i,r.height=c-n,r.strokeWidth=1,r.strokeOpacity=.75,r.crisp=!0,r}),this.updateColors(n,i),this.root.append(this.bars)}updateColors(e,t){let[n]=e,[i]=t;this.bars.forEach(e=>{e.fill=n,e.stroke=i})}}},gie=class extends pne{constructor(e,t,n){super(e,t,n),this.stroke="gray",this.showRadiusAxisLine=!0,this.showAngleAxisLines=!0}postConstruct(){const{_Scene:e}=this.agChartsExports,t=this.size,n=this.padding,i=(t-2*n)/2,o=this.showAngleAxisLines?[i,.8*i,.6*i,.4*i]:[],r=new e.Line;r.x1=t/2,r.y1=n,r.x2=t/2,r.y2=t-n-i-o[o.length-1],r.stroke=this.stroke,r.strokeOpacity=.5,r.fill=void 0,r.visible=this.showRadiusAxisLine;const s=n+i;this.gridLines=o.map((t,n)=>{const i=new e.Path;return i.path.arc(s,s,t,0,2*Math.PI),i.strokeWidth=1,i.stroke=this.stroke,i.strokeOpacity=0===n?.5:.2,i.fill=void 0,i});const a=this.root;a.append(r),this.gridLines.length>0&&a.append(this.gridLines),super.postConstruct()}},mie={chartType:"radialColumn",miniChart:class extends gie{constructor(e,t,n,i){super(e,t,"radialColumnTooltip"),this.data=[[6,8,10,2,6,5],[4,4,3,6,4,4],[5,4,2,9,8,9]],this.showRadiusAxisLine=!1;const{padding:o,size:r,data:s,agChartsExports:{_Scene:a}}=this,l=(r-2*o)/2,u=.4*l,c=new a.CategoryScale;c.domain=s[0].map((e,t)=>t),c.range=[0,2*Math.PI],c.paddingInner=0,c.paddingOuter=0;const d=.7*c.bandwidth,{processedData:h,max:p}=Fne(s),g=new a.LinearScale;g.domain=[0,p],g.range=[u,l];const m=this.size/2;this.series=h.map((e,t)=>{const n=0===t?void 0:h[t-1],i=new a.TranslatableGroup({zIndex:1e6}),o=e.map((e,t)=>{const i=null===n||void 0===n?void 0:n[t],o=g.convert(e),r=g.convert(null!==i&&void 0!==i?i:0),s=c.convert(t),h=s+d,p=a.getRadialColumnWidth(s,h,l,.5,.5),m=new a.RadialColumnShape;return m.columnWidth=p,m.innerRadius=r,m.outerRadius=o,m.startAngle=s,m.endAngle=h,m.isBeveled=!0,m.axisInnerRadius=u,m.axisOuterRadius=l,m.stroke=void 0,m.strokeWidth=0,m});return i.append(o),i.translationX=m,i.translationY=m,i}),this.root.append(this.series),this.updateColors(n,i)}updateColors(e,t){this.series.forEach((n,i)=>{for(const o of n.children())o.fill=e[i%e.length],o.stroke=t[i%t.length]})}}},vie={chartType:"radialBar",miniChart:class extends gie{constructor(e,t,n,i){super(e,t,"radialBarTooltip"),this.data=[[6,8,10],[4,4,3],[5,4,2]],this.showRadiusAxisLine=!1;const{size:o,padding:r,data:s,agChartsExports:{_Scene:a}}=this,l=(o-r)/2,u=.4*l,c=new a.CategoryScale;c.domain=s[0].map((e,t)=>t),c.range=[u,l],c.paddingInner=.5,c.paddingOuter=0;const d=c.bandwidth,{processedData:h,max:p}=Fne(s),g=new a.LinearScale;g.domain=[0,Math.ceil(1.5*p)];const m=1.5*Math.PI,v=m+2*Math.PI;g.range=[m,v];const f=o/2;this.series=h.map((e,t)=>{const n=t<0?void 0:h[t-1],i=new a.Group({zIndex:1e6}),o=e.map((e,t)=>{var i;const o=null!==(i=null===n||void 0===n?void 0:n[t])&&void 0!==i?i:0,r=c.convert(t),s=r-d,l=g.convert(o),u=g.convert(e),h=new a.Sector;return h.centerX=f,h.centerY=f,h.innerRadius=s,h.outerRadius=r,h.startAngle=l,h.endAngle=u,h.stroke=void 0,h.strokeWidth=0,h});return i.append(o),i}),this.root.append(this.series),this.updateColors(n,i)}updateColors(e,t){this.series.forEach((n,i)=>{for(const o of n.children())o.fill=e[i%e.length],o.stroke=t[i%t.length]})}}},fie={chartType:"radarLine",miniChart:class extends gie{constructor(e,t,n,i){super(e,t,"radarLineTooltip"),this.markerSize=4,this.data=[[8,7,8,7,8,8,7,8],[6,8,5,10,6,7,4,6],[0,3,3,5,4,4,2,0]],this.showRadiusAxisLine=!1;const{size:o,padding:r,root:s,data:a}=this,l=(o-2*r)/2,{paths:u,markers:c}=Ene(t,s,a,o,l,0,this.markerSize);this.lines=u,this.markers=c,this.updateColors(n,i)}updateColors(e,t){this.lines.forEach((n,i)=>{const o=this.data[i].length;n.stroke=e[i];const r=i*o,s=r+o;this.markers.slice(r,s).forEach(n=>{n.stroke=t[i],n.fill=e[i]})})}}},wie={chartType:"radarArea",miniChart:class extends gie{constructor(e,t,n,i){super(e,t,"radarAreaTooltip"),this.data=[[8,10,5,7,4,1,5,8],[1,1,2,7,7,8,10,1],[4,5,9,9,4,2,3,4]];const{size:o,padding:r,root:s,data:a}=this;this.showRadiusAxisLine=!1;const l=(o-2*r)/2,u=l-.3*o;this.areas=Ene(t,s,a,o,l,u).paths,this.updateColors(n,i)}updateColors(e,t){this.areas.forEach((n,i)=>{n.fill=e[i],n.stroke=t[i]})}}},Cie={chartType:"nightingale",miniChart:class extends gie{constructor(e,t,n,i){super(e,t,"nightingaleTooltip"),this.data=[[6,10,9,8,7,8],[4,6,5,4,5,5],[3,5,4,3,4,7]],this.showRadiusAxisLine=!1;const{size:o,padding:r,data:s,agChartsExports:{_Scene:a}}=this,l=(o-2*r)/2,u=new a.CategoryScale;u.domain=s[0].map((e,t)=>t),u.range=[-Math.PI,Math.PI],u.paddingInner=0,u.paddingOuter=0;const c=.7*u.bandwidth,{processedData:d,max:h}=Fne(s),p=new a.LinearScale;p.domain=[0,h],p.range=[0,l];const g=o/2;this.series=d.map((e,t)=>{const n=t<0?void 0:d[t-1],i=new a.Group({zIndex:1e6}),o=e.map((e,t)=>{const i=null===n||void 0===n?void 0:n[t],o=p.convert(e),r=p.convert(null!==i&&void 0!==i?i:0),s=u.convert(t),l=s+c,d=new a.Sector;return d.centerX=g,d.centerY=g,d.innerRadius=r,d.outerRadius=o,d.startAngle=s,d.endAngle=l,d.stroke=void 0,d.strokeWidth=0,d});return i.append(o),i}),this.root.append(this.series),this.updateColors(n,i)}updateColors(e,t){this.series.forEach((n,i)=>{for(const o of n.children())o.fill=e[i%e.length],o.stroke=t[i%t.length]})}}},bie={chartType:"rangeBar",miniChart:class extends Ine{constructor(e,t,n,i){super(e,t,"rangeBarTooltip");this.bars=this.createRangeBar(this.root,[3,3.5,3],this.size,this.padding,"vertical"),this.updateColors(n,i)}updateColors(e,t){this.bars.forEach((n,i)=>{n.fill=e[i],n.stroke=t[i]})}createRangeBar(e,t,n,i,o){const r="horizontal"===o,s=2*i,{_Scene:a}=this.agChartsExports,l=new a.CategoryScale;l.domain=t.map((e,t)=>t),l.range=[i,n-i],l.paddingInner=.3,l.paddingOuter=.3;const u=new a.LinearScale;u.domain=[.7*t.reduce((e,t)=>Math.min(e,t),1/0),1.3*t.reduce((e,t)=>Math.max(e,t),0)],u.range=[s,n-s];const c=l.bandwidth,d=t.map((e,t)=>{const[n,i]=[.7*e,1.3*e],o=l.convert(t),s=u.convert(n),d=u.convert(i)-s,h=new a.Rect;return h.x=r?s:o,h.y=r?o:s,h.width=r?d:c,h.height=r?c:d,h.strokeWidth=0,h.crisp=!0,h});return e.append(d),d}}};function yie(e){const{offset:t,length:n,pattern:i}=e,o=function(e,t,n){const{period:i}=n,o=e/i,r=[0,.5].map(e=>e-o).map(Sie).sort((e,t)=>e-t);return Array.from({length:Math.floor(r.length*(i/t))},(e,t)=>r[t%r.length]+Math.floor(t/r.length)).map(e=>e*i).map(t=>s(t,e,n))}(t,n,i),r=n;return 0!==o.length&&0===o[0][0]||o.unshift(s(0,t,i)),o[o.length-1][0]!==r&&o.push(s(r,t,i)),o;function s(e,t,n){return[e,a(t+e,n)]}function a(e,t){const{low:n,high:i,period:o}=t,r=Sie(e/o);return n+(i-n)*(r>.5?1-2*(r-.5):2*r)}}function Sie(e){const t=e%1;return t<0?t+1:t}function xie(e,t,n){const i=[...e],o=i[t];return i[t]=i[n],i[n]=o,i}var Die={chartType:"rangeArea",miniChart:class extends Ine{constructor(e,t,n,i){super(e,t,"rangeAreaTooltip");const o=[yie({offset:1.5,length:4,pattern:{low:3,high:5,period:4}}),yie({offset:1.5,length:4,pattern:{low:2.25,high:4.25,period:4}}),yie({offset:3,length:4,pattern:{low:2.5,high:4.5,period:4}})],r=o.map(e=>e.map(e=>{let[t,n]=e;return{x:t,low:n-.875,high:n+.875}})),{lines:s,areas:a}=this.createRangeArea(this.root,r,this.size,this.padding);this.lines=s,this.areas=a,this.updateColors(n,i)}updateColors(e,t){e=xie(e,1,2),t=xie(t,1,2),this.lines.forEach((e,n)=>{let[i,o]=e;i.fill=void 0,i.stroke=t[n],o.fill=void 0,o.stroke=t[n]}),this.areas.forEach((t,n)=>{t.fill=e[n]})}createRangeArea(e,t,n,i){const o=t.reduce((e,t)=>t.reduce((e,t)=>{let{x:n}=t;return Math.min(e,n)},e),1/0),r=t.reduce((e,t)=>t.reduce((e,t)=>{let{x:n}=t;return Math.max(e,n)},e),-1/0),s=t.reduce((e,t)=>t.reduce((e,t)=>{let{low:n}=t;return Math.min(e,n)},e),1/0),a=t.reduce((e,t)=>t.reduce((e,t)=>{let{high:n}=t;return Math.max(e,n)},e),-1/0),{_Scene:l}=this.agChartsExports,u=new l.LinearScale;u.domain=[o,r],u.range=[i,n-i];const c=2*i,d=new l.LinearScale;d.domain=[s,a],d.range=[n-c,c];const h=[],p=[];return t.map(e=>{const t=new l.Path,n=new l.Path,i=new l.Path;return h.push([t,n]),p.push(i),t.strokeWidth=0,n.strokeWidth=0,i.strokeWidth=0,i.fillOpacity=.8,t.path.clear(),n.path.clear(),i.path.clear(),e.map((e,o)=>{const{x:r,low:s,high:a}=e,l=u.convert(r),c=d.convert(s),h=d.convert(a),p=o>0?"lineTo":"moveTo";return t.path[p](l,h),n.path[p](l,c),i.path[p](l,h),[l,c]})}).forEach((e,t)=>{const n=e.length-1,i=p[t];for(let o=n;o>=0;o--){const[t,n]=e[o];i.path.lineTo(t,n)}}),e.append(p.concat(...h)),{lines:h,areas:p}}}},Eie={chartType:"boxPlot",miniChart:class extends Ine{constructor(e,t,n,i,o){super(e,t,"boxPlotTooltip");const{size:r,padding:s,agChartsExports:{_Scene:a}}=this,l=[11,11.5,10.5],u=new a.LinearScale;u.domain=[.8*l.reduce((e,t)=>Math.min(e,t),1/0),1.2*l.reduce((e,t)=>Math.max(e,t),0)],u.range=[r-1.5*s,s];const c=new a.CategoryScale;c.domain=l.map((e,t)=>t),c.range=[s,r-s],c.paddingInner=.4,c.paddingOuter=.2;const d=Math.round(c.bandwidth),h=Math.round(c.bandwidth/2);this.boxPlotGroups=l.map((e,t)=>{const[n,i,o,r]=[.8*e,.9*e,1.1*e,1.2*e],s=Math.round(u.convert(o)),l=Math.round(c.convert(t)),p=Math.round(l+d),g=Math.round(u.convert(i)),m=Math.round(u.convert(n)),v=Math.round(u.convert(e)),f=Math.round(u.convert(r)),w=l+h,C=new a.Group,b=new a.Rect,y=new a.Line,S=new a.Line,x=new a.Line,D=new a.Line,E=new a.Line;return b.x=l,b.y=s,b.width=d,b.height=g-s,b.strokeWidth=1,b.strokeOpacity=.75,b.crisp=!0,this.setLineProperties(y,l,p,v,v),this.setLineProperties(S,w,w,f,s),this.setLineProperties(x,w,w,m,g),this.setLineProperties(D,l,p,f,f),this.setLineProperties(E,l,p,m,m),C.append([b,y,S,x,D,E]),C}),this.updateColors(n,i,o),this.root.append(this.boxPlotGroups)}updateColors(e,t,n){const{_Theme:i}=this.agChartsExports;this.boxPlotGroups.forEach((o,r)=>{for(const s of o.children()){const o=e[r%e.length];s.fill=n?o:i.resolveOperation({$mix:[o,{$ref:"backgroundColor"},.7]}),s.stroke=t[r%t.length]}})}setLineProperties(e,t,n,i,o){e.x1=t,e.x2=n,e.y1=i,e.y2=o,e.strokeOpacity=.75}}},Fie={chartType:"treemap",miniChart:class extends pne{constructor(e,t,n,i,o){super(e,t,"treemapTooltip");const{size:r,padding:s,agChartsExports:{_Scene:a}}=this,l=[[1,1],[3,2,1]],u=l.length%2===0?.3:.2,c=[s,r-s],d=l.length,h=d*(d+1)/2,p=u/(d-1),g=c[1]-c[0],m=g-u;let v=c[0];this.rects=l.reduce((e,t,n)=>{null!==e&&void 0!==e||(e=[]);const i=m*((d-n)/h),o=t.length,r=t.reduce((e,t)=>e+t,0),s=u/(o-1||1),l=o>1?g-u:g;let f=c[0];const w=t.map(e=>{const t=new a.Rect,n=l*e/r;return t.x=v,t.y=f,t.width=i,t.height=n,t.strokeWidth=.75,t.crisp=!0,f+=n+s,t});return v+=i+p,e.push(...w),e},[]),this.updateColors(n,i,o);const f=new a.Group;f.setClipRect(new a.BBox(s,s,r-s,r-s)),f.append(this.rects),this.root.append(f)}updateColors(e,t,n){const{_Theme:i}=this.agChartsExports;this.rects.forEach((o,r)=>{o.fill=e[r%t.length],o.stroke=n?t[r%t.length]:i.resolveOperation({$ref:"backgroundColor"})})}}},kie={chartType:"sunburst",miniChart:class extends gie{constructor(e,t,n,i){super(e,t,"sunburstTooltip"),this.data=[[[],[]],[[],[]],[[],[]]],this.angleOffset=-Math.PI/2,this.innerRadiusRatio=0,this.showRadiusAxisLine=!1,this.showAngleAxisLines=!1;const{data:o,size:r,padding:s,angleOffset:a,innerRadiusRatio:l,agChartsExports:{_Scene:u}}=this,c=(r-2*s)/2,d=[a+0,a+2*Math.PI],h=Math.abs(d[1]-d[0]),p=[c*l,c],g=Math.abs(p[1]-p[0]);let m=0;const v=(e,t)=>{e.forEach(e=>{const n=t+1;m=Math.max(m,n),v(e,n)})};v(o,0);const f=g/m,w=this.size/2,C=d[0];this.series=[];const b=(e,t,n,i,o)=>{if(!Array.isArray(e))return;const r=t+1;let s=n;e.forEach((e,n,a)=>{let l=o;l||(l=new u.Group,this.series.push(l));const c=p[0]+t*f,d=p[0]+r*f,h=1/a.length,g=s,m=g+i*h,v=new u.Sector;v.centerX=w,v.centerY=w,v.innerRadius=c,v.outerRadius=d,v.startAngle=g,v.endAngle=m,v.stroke=void 0,v.strokeWidth=0,v.inset=.75,s=m,l.append(v),b(e,r,g,Math.abs(m-g),l)})};b(o,0,C,h),this.root.append(this.series),this.updateColors(n,i)}updateColors(e,t){this.series.forEach((n,i)=>{for(const o of n.children())o.fill=e[i%e.length],o.stroke=t[i%t.length]})}}},Aie={chartType:"heatmap",miniChart:class extends pne{constructor(e,t,n,i,o){var r,s;super(e,t,"heatmapTooltip");const{size:a,padding:l,agChartsExports:{_Scene:u}}=this,c=Array.from({length:3},(e,t)=>Array.from({length:3},(e,t)=>t)),d=c.map((e,t)=>t),h=new u.CategoryScale;h.domain=d,h.range=[l,a-l],h.paddingInner=.01,h.paddingOuter=.1;const p=new u.CategoryScale;p.domain=d,p.range=[l,a-l],p.paddingInner=.01,p.paddingOuter=.1;const g=null!==(r=h.bandwidth)&&void 0!==r?r:0,m=null!==(s=p.bandwidth)&&void 0!==s?s:0;this.rects=c.reduce((e,t,n)=>{null!==e&&void 0!==e||(e=[]);const i=t.map((e,t)=>{const i=new u.Rect;return i.x=h.convert(n),i.y=p.convert(t),i.width=g,i.height=m,i.strokeWidth=0,i.crisp=!0,i});return e.push(...i),e},[]),this.updateColors(n,i,o);const v=new u.Group;v.setClipRect(new u.BBox(l,l,a-l,a-l)),v.append(this.rects),this.root.append(v)}updateColors(e,t,n){const{_Theme:i,_Util:o}=this.agChartsExports,r=n?[e[0],e[1]]:i.resolveOperation({$palette:"divergingColors"}),s=n?t[0]:i.resolveOperation({$ref:"backgroundColor"}),a=o.interpolateColor(r[0],r[1]);this.rects.forEach((e,t)=>{e.fill=a(.2*t),e.stroke=s})}}},Rie={chartType:"waterfall",miniChart:class extends Ine{constructor(e,t,n,i,o){super(e,t,"waterfallTooltip"),this.data=[4,3,-3,6,-3],this.bars=this.createWaterfall(this.root,this.data,this.size,this.padding,"vertical").bars,this.updateColors(n,i,o)}updateColors(e,t,n){const{data:i,agChartsExports:{_Theme:o}}=this,r={fill:n?e[0]:o.resolveOperation({$palette:"altUp.fill"}),stroke:n?t[0]:o.resolveOperation({$palette:"altUp.stroke"})},s={fill:n?e[1]:o.resolveOperation({$palette:"altDown.fill"}),stroke:n?t[1]:o.resolveOperation({$palette:"altDown.stroke"})};this.bars.forEach((e,t)=>{const n=i[t]>=0;e.fill=n?r.fill:s.fill,e.stroke=n?r.stroke:s.stroke})}createWaterfall(e,t,n,i,o){const r=2*i,{processedData:s,min:a,max:l}=Fne(t.map(e=>[e])),u=s.reduce((e,t)=>e.concat(t),[]),{_Scene:c}=this.agChartsExports,d=new c.LinearScale;d.domain=[Math.min(a,0),l],d.range=[n-r,r];const h=new c.CategoryScale;h.domain=t.map((e,t)=>t),h.range=[i,n-i],h.paddingInner=.2,h.paddingOuter=.3;const p=h.bandwidth,g=new c.Path;g.stroke="#575757",g.strokeWidth=0;const m=Math.floor(g.strokeWidth)%2/2,v=g.path;v.clear();const f="horizontal"===o,w=u.map((e,n)=>{const i=n>0?u[n-1]:0,o=t[n]>0,r=Math.round(d.convert(e)),s=Math.round(d.convert(i)),a=(o?r:s)-m,l=(o?s:r)+m,g=Math.abs(l-a),w=h.convert(n),C=new c.Rect;C.x=f?a:w,C.y=f?w:a,C.width=f?g:p,C.height=f?p:g,C.strokeWidth=0,C.crisp=!0;const b=r+m,y=s+m;if(n>0){const e=f?y:C.x,t=f?C.y:y;v.lineTo(e,t)}const S=f?b:C.x,x=f?C.y:b;return v.moveTo(S,x),C});return e.append([g,...w]),{bars:w}}}},Pie={chartType:"columnLineCombo",miniChart:class extends Ine{constructor(e,t,n,i){super(e,t,"columnLineComboTooltip"),this.columnData=[3,4],this.lineData=[[5,4,6,5,4]];const{root:o,columnData:r,lineData:s,size:a,padding:l}=this;this.columns=gne({stacked:!1,root:o,data:r,size:a,padding:l,xScaleDomain:[0,1],yScaleDomain:[0,4],xScalePadding:.5,agChartsExports:t}),o.append(this.columns),this.lines=Sne(t,o,s,a,l),this.updateColors(n,i)}updateColors(e,t){this.columns.forEach((n,i)=>{n.fill=e[i],n.stroke=t[i]}),this.lines.forEach((t,n)=>{t.stroke=e[n+2]})}}},Tie={chartType:"areaColumnCombo",miniChart:class extends Ine{constructor(e,t,n,i){super(e,t,"areaColumnComboTooltip"),this.columnData=[3,4.5],this.areaData=[[5,4,6,5,4]];const{root:o,columnData:r,areaData:s,size:a,padding:l,agChartsExports:{_Scene:u}}=this;this.columns=gne({stacked:!1,root:o,data:r,size:a,padding:l,xScaleDomain:[0,1],yScaleDomain:[0,6],xScalePadding:.5,agChartsExports:t});const c=new u.CategoryScale;c.range=[l,a-l],c.domain=[0,1,2,3,4],c.paddingInner=1,c.paddingOuter=0;const d=new u.LinearScale;d.range=[a-l,l],d.domain=[0,6];const h=[],p=d.convert(0),g=c.convert(0);s.forEach((e,t)=>{const n=h[t]||(h[t]=[]);e.forEach((e,t)=>{const i=e,o=t,r=c.convert(o),s=d.convert(i);n[t]={x:r,y:s}});const i=c.convert(e.length-1);h[t].push({x:i,y:p},{x:g,y:p})}),this.areas=h.map(e=>{const t=new u.Path;t.strokeWidth=0,t.fillOpacity=.8;const n=t.path;return e.forEach((e,t)=>n[t>0?"lineTo":"moveTo"](e.x,e.y)),t});const m=new u.Group;m.setClipRect(new u.BBox(l,l,a-2*l,a-2*l));const v=new u.Group;v.setClipRect(new u.BBox(l,l,a-2*l,a-2*l)),m.append(this.areas),v.append(this.columns),o.append(m),o.append(v),this.updateColors(n,i)}updateColors(e,t){this.areas.forEach((n,i)=>{n.fill=e[i],n.stroke=t[i]}),this.columns.forEach((n,i)=>{n.fill=e[i+1],n.stroke=t[i+1]})}}},_ie={chartType:"customCombo",miniChart:class extends pne{constructor(e,t,n,i){super(e,t,"customComboTooltip"),this.columnData=[3,4],this.lineData=[[5,4,6,5,4]];const{root:o,columnData:r,lineData:s,size:a,padding:l,agChartsExports:{_Scene:u}}=this;this.columns=gne({stacked:!1,root:o,data:r,size:a,padding:l,xScaleDomain:[0,1],yScaleDomain:[0,4],xScalePadding:.5,agChartsExports:t}),o.append(this.columns),this.lines=Sne(this.agChartsExports,o,s,a,l);const c="grey",d=new u.Line;d.x1=l,d.y1=l,d.x2=l,d.y2=a-l+3,d.stroke=c;const h=new u.Line;h.x1=l-3+1,h.y1=a-l,h.x2=a-l+1,h.y2=a-l,h.stroke=c;const p=new u.Path;this.buildPenIconPath(p),p.fill="whitesmoke",p.stroke="darkslategrey",p.strokeWidth=1,o.append([h,d,p]),this.updateColors(n,i)}updateColors(e,t){this.columns.forEach((n,i)=>{n.fill=e[i],n.stroke=t[i]}),this.lines.forEach((t,n)=>{t.stroke=e[n+2]})}buildPenIconPath(e){const{path:t}=e;t.moveTo(25.76,43.46),t.lineTo(31.27,48.53),t.moveTo(49.86,22),t.lineTo(49.86,22),t.cubicCurveTo(49.01994659053345,21.317514933510974,47.89593834348529,21.09645997825817,46.86,21.41),t.lineTo(46.86,21.41),t.cubicCurveTo(45.55460035985361,21.77260167850787,44.38777081121966,22.517979360321792,43.51,23.55),t.lineTo(25.51,43.8),t.lineTo(25.43,43.89),t.lineTo(23.01,51.89),t.lineTo(22.83,52.46),t.lineTo(31.02,48.86),t.lineTo(49.02,28.52),t.lineTo(49.02,28.52),t.cubicCurveTo(49.940716461596224,27.521914221246085,50.54302631059587,26.2720342455763,50.75,24.93),t.lineTo(50.75,24.93),t.cubicCurveTo(50.95363374988308,23.866379846512814,50.62080640232334,22.77066734274871,49.86,22),t.closePath(),t.moveTo(41.76,25.5),t.lineTo(47.34,30.5),t.moveTo(40.74,26.65),t.lineTo(46.25,31.71)}}},Mie={columnGroup:{column:{range:!0,pivot:!0,enterprise:!1,icon:Lne},stackedColumn:{range:!0,pivot:!0,enterprise:!1,icon:One},normalizedColumn:{range:!0,pivot:!0,enterprise:!1,icon:zne}},barGroup:{bar:{range:!0,pivot:!0,enterprise:!1,icon:Vne},stackedBar:{range:!0,pivot:!0,enterprise:!1,icon:Wne},normalizedBar:{range:!0,pivot:!0,enterprise:!1,icon:Kne}},pieGroup:{pie:{range:!0,pivot:!0,enterprise:!1,icon:Zne},donut:{range:!0,pivot:!0,enterprise:!1,icon:Yne},doughnut:{range:!0,pivot:!0,enterprise:!1,icon:Yne}},lineGroup:{line:{range:!0,pivot:!0,enterprise:!1,icon:Qne},stackedLine:{range:!0,pivot:!0,enterprise:!1,icon:eie},normalizedLine:{range:!0,pivot:!0,enterprise:!1,icon:nie}},scatterGroup:{scatter:{range:!0,pivot:!0,enterprise:!1,icon:iie},bubble:{range:!0,pivot:!0,enterprise:!1,icon:oie}},areaGroup:{area:{range:!0,pivot:!0,enterprise:!1,icon:aie},stackedArea:{range:!0,pivot:!0,enterprise:!1,icon:cie},normalizedArea:{range:!0,pivot:!0,enterprise:!1,icon:hie}},polarGroup:{radarLine:{range:!0,pivot:!1,enterprise:!0,icon:fie},radarArea:{range:!0,pivot:!1,enterprise:!0,icon:wie},nightingale:{range:!0,pivot:!1,enterprise:!0,icon:Cie},radialColumn:{range:!0,pivot:!1,enterprise:!0,icon:mie},radialBar:{range:!0,pivot:!1,enterprise:!0,icon:vie}},statisticalGroup:{boxPlot:{range:!0,pivot:!1,enterprise:!0,icon:Eie},histogram:{range:!0,pivot:!1,enterprise:!1,icon:pie},rangeBar:{range:!0,pivot:!1,enterprise:!0,icon:bie},rangeArea:{range:!0,pivot:!1,enterprise:!0,icon:Die}},hierarchicalGroup:{treemap:{range:!0,pivot:!0,enterprise:!0,icon:Fie},sunburst:{range:!0,pivot:!0,enterprise:!0,icon:kie}},specializedGroup:{heatmap:{range:!0,pivot:!1,enterprise:!0,icon:Aie},waterfall:{range:!0,pivot:!1,enterprise:!0,icon:Rie}},combinationGroup:{columnLineCombo:{range:!0,pivot:!0,enterprise:!1,icon:Pie},areaColumnCombo:{range:!0,pivot:!0,enterprise:!1,icon:Tie},customCombo:{range:!0,pivot:!0,enterprise:!1,icon:_ie}},funnelGroup:{funnel:{range:!0,pivot:!1,enterprise:!0,icon:Rne},coneFunnel:{range:!0,pivot:!1,enterprise:!0,icon:Tne},pyramid:{range:!0,pivot:!1,enterprise:!0,icon:Mne}}},Iie={columnGroup:["column","stackedColumn","normalizedColumn"],barGroup:["bar","stackedBar","normalizedBar"],pieGroup:["pie","donut"],lineGroup:["line","stackedLine","normalizedLine"],areaGroup:["area","stackedArea","normalizedArea"],scatterGroup:["scatter","bubble"],polarGroup:["radarLine","radarArea","nightingale","radialColumn","radialBar"],statisticalGroup:["boxPlot","histogram","rangeBar","rangeArea"],hierarchicalGroup:["treemap","sunburst"],specializedGroup:["heatmap","waterfall"],funnelGroup:["funnel","coneFunnel","pyramid"],combinationGroup:["columnLineCombo","areaColumnCombo","customCombo"]},Lie=class extends AG{constructor(e,t,n,i){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Iie;super('<div class="ag-chart-settings-mini-wrapper"></div>'),this.wrappers=new Map,this.chartController=e,this.fills=t,this.strokes=n,this.isCustomTheme=i,this.chartGroups=d({},o)}wireBeans(e){this.chartTranslation=e.chartTranslation}postConstruct(){!this.chartController.customComboExists()&&this.chartGroups.combinationGroup&&(this.chartGroups.combinationGroup=this.chartGroups.combinationGroup.filter(e=>"customCombo"!==e));const e=this.getGui(),t=this.chartController.isEnterprise(),n=this.chartController.isPivotChart(),i=!n,o=Object.keys(this.chartGroups).map(e=>{var o;const r=e in Mie?Mie[e]:void 0;if(!r)return iB(148,{group:e}),null;const s=(null!==(o=this.chartGroups[e])&&void 0!==o?o:[]).map(o=>{const s=o in r?r[o]:void 0;return s?!t&&s.enterprise?null:i&&s.range||n&&s.pivot?s:null:(iB(149,{group:e,chartType:o}),null)}).filter(e=>null!=e);return 0===s.length?null:{label:this.chartTranslation.translate(e),items:s}}).filter(e=>null!=e);for(const{label:r,items:s}of o){const t=this.createBean(new I6({title:r,suppressEnabledCheckbox:!0,enabled:!0,suppressOpenCloseIcons:!0,cssIdentifier:"charts-settings",direction:"horizontal",suppressKeyboardNavigation:!0}));for(const e of s){const{miniChart:n,chartType:i}=e.icon,o=document.createElement("div");o.classList.add("ag-chart-mini-thumbnail"),o.setAttribute("tabindex","0"),o.setAttribute("role","button");const r=i,s=()=>{this.chartController.setChartType(r),this.updateSelectedMiniChart()};this.addManagedListeners(o,{click:s,keydown:e=>{e.key!=sV.ENTER&&e.key!==sV.SPACE||(e.preventDefault(),s())}}),this.wrappers.set(r,o),this.createBean(new n(o,this.beans.agChartsExports,this.fills,this.strokes,this.isCustomTheme)),t.addItem(o)}e.appendChild(t.getGui())}this.updateSelectedMiniChart()}updateSelectedMiniChart(){const e=this.chartController.getChartType();this.wrappers.forEach((t,n)=>{const i=n===e;t.classList.toggle("ag-selected",i);const o=this.chartTranslation.translate(V9(n));mL(t,i?"".concat(o,". ").concat(this.chartTranslation.translate("ariaChartSelected")):o)})}destroy(){this.wrappers.clear(),super.destroy()}},Nie=class extends AG{constructor(e){super('<div class="ag-chart-settings-wrapper">\n            <div data-ref="eMiniChartsContainer" class="ag-chart-settings-mini-charts-container ag-scrollable-container"></div>\n            <div data-ref="eNavBar" class="ag-chart-settings-nav-bar">\n                <div data-ref="ePrevBtn" class="ag-chart-settings-prev">\n                    <button type="button" class="ag-button ag-chart-settings-prev-button"></button>\n                </div>\n                <div data-ref="eCardSelector" class="ag-chart-settings-card-selector"></div>\n                <div data-ref="eNextBtn" class="ag-chart-settings-next">\n                    <button type="button" class="ag-button ag-chart-settings-next-button"></button>\n                </div>\n            </div>\n        </div>'),this.chartController=e,this.eMiniChartsContainer=kG,this.eNavBar=kG,this.eCardSelector=kG,this.ePrevBtn=kG,this.eNextBtn=kG,this.miniChartsContainers=[],this.cardItems=[],this.activePaletteIndex=0,this.palettes=[],this.themes=[]}postConstruct(){this.resetPalettes(),this.ePrevBtn.insertAdjacentElement("afterbegin",hW("chartsThemePrevious",this.beans)),this.eNextBtn.insertAdjacentElement("afterbegin",hW("chartsThemeNext",this.beans)),this.addManagedElementListeners(this.ePrevBtn,{click:()=>this.setActivePalette(this.getPrev(),"left")}),this.addManagedElementListeners(this.eNextBtn,{click:()=>this.setActivePalette(this.getNext(),"right")});const e=()=>this.resetPalettes(!0);this.addManagedListeners(this.chartController,{chartTypeChanged:e,chartApiUpdate:e}),this.scrollSelectedIntoView()}scrollSelectedIntoView(){setTimeout(()=>{const e=this.miniChartsContainers.find(e=>!e.getGui().classList.contains("ag-hidden")).getGui().querySelector(".ag-selected");if(e){const t=e.offsetParent;t&&this.eMiniChartsContainer.scrollTo(0,t.offsetTop)}},250)}resetPalettes(e){var t;const n=this.chartController.getPalettes(),i=null===(t=this.gos.get("chartToolPanelsDef"))||void 0===t||null===(t=t.settingsPanel)||void 0===t?void 0:t.chartGroupsDef;if(MO(n,this.palettes)&&!e||this.isAnimating)return;this.palettes=n,this.themes=this.chartController.getThemeNames(),this.activePaletteIndex=this.themes.findIndex(e=>e===this.chartController.getChartThemeName()),this.cardItems=[],uN(this.eCardSelector),this.destroyMiniCharts();const{themes:o}=this;this.palettes.forEach((e,t)=>{const n=this.activePaletteIndex===t,{fills:r=[],strokes:s=[]}=e,a=!W9(o[t],this.beans.agChartsExports._Theme),l=this.createBean(new Lie(this.chartController,r,s,a,i));this.miniChartsContainers.push(l),this.eMiniChartsContainer.appendChild(l.getGui()),this.addCardLink(t),n?l.updateSelectedMiniChart():l.setDisplayed(!1)}),XL(this.eNavBar,this.palettes.length>1),YL(this.cardItems[this.activePaletteIndex],"ag-selected","ag-not-selected")}addCardLink(e){const t=document.createElement("div");t.classList.add("ag-chart-settings-card-item"),this.addManagedElementListeners(t,{click:()=>{this.setActivePalette(e,e<this.activePaletteIndex?"left":"right")}}),this.eCardSelector.appendChild(t),this.cardItems.push(t)}getPrev(){let e=this.activePaletteIndex-1;return e<0&&(e=this.palettes.length-1),e}getNext(){let e=this.activePaletteIndex+1;return e>=this.palettes.length&&(e=0),e}setActivePalette(e,t){if(this.isAnimating||this.activePaletteIndex===e)return;YL(this.cardItems[e],"ag-selected","ag-not-selected");const n=this.miniChartsContainers[this.activePaletteIndex],i=n.getGui(),o=this.miniChartsContainers[e],r=o.getGui();n.updateSelectedMiniChart(),o.updateSelectedMiniChart();const s="left"===t?-1:1,a=r.style.left="".concat(rN(this.getGui())*s,"px");this.activePaletteIndex=e,this.isAnimating=!0;const l="ag-animating";o.setDisplayed(!0),n.addCss(l),o.addCss(l),this.chartController.setChartThemeName(this.themes[e]),window.setTimeout(()=>{i.style.left="".concat(-parseFloat(a),"px"),r.style.left="0px"},0),window.setTimeout(()=>{this.isAnimating=!1,n.removeCss(l),o.removeCss(l),n.setDisplayed(!1)},300)}destroyMiniCharts(){uN(this.eMiniChartsContainer),this.miniChartsContainers=this.destroyBeans(this.miniChartsContainers)}destroy(){this.destroyMiniCharts(),super.destroy()}},Bie=class extends AG{constructor(e,t){super(),this.panels=e,this.chartMenuContext=t,this.tabs=[]}wireBeans(e){this.chartTranslation=e.chartTranslation}postConstruct(){this.panels.forEach(e=>{const t=e.replace("chart","").toLowerCase(),n=this.createPanel(t),i=this.createTab(e,t,n);this.tabs.push(i),this.addDestroyFunc(()=>this.destroyBean(n))}),this.tabbedLayout=new j4({items:this.tabs,cssClass:"ag-chart-tabbed-menu",keepScrollPosition:!0,suppressFocusBodyOnOpen:!0,suppressTrapFocus:!0,enableCloseButton:!0,closeButtonAriaLabel:this.chartTranslation.translate("ariaChartMenuClose"),onCloseClicked:()=>{var e;null===(e=this.eventSource)||void 0===e||e.focus({preventScroll:!0}),this.dispatchLocalEvent({type:"closed"})}}),this.createBean(this.tabbedLayout)}createTab(e,t,n){const i=MN({tag:"div",cls:"ag-chart-tab ag-chart-".concat(t)});this.createBean(n),i.appendChild(n.getGui());const o=this.chartTranslation.translate(t);return{title:MN({tag:"div",children:o}),titleLabel:o,bodyPromise:PG.resolve(i),getScrollableContainer:()=>i.querySelector(".ag-scrollable-container")||i,name:e}}showTab(e){const t=this.tabs[e];this.tabbedLayout.showItem(t)}getGui(){return this.tabbedLayout&&this.tabbedLayout.getGui()}showMenu(e,t){var n;(this.eventSource=e,t)||(null===(n=this.tabbedLayout)||void 0===n||n.focusHeader(!0))}destroy(){this.parentComponent&&this.parentComponent.isAlive()&&this.destroyBean(this.parentComponent),super.destroy()}createPanel(e){switch(e){case"data":return new kte(this.chartMenuContext);case"format":return new hne(this.chartMenuContext);default:return new Nie(this.chartMenuContext.chartController)}}},Oie=class extends AG{constructor(e,t,n){super('<div class="ag-chart-menu-wrapper"></div>'),this.eChartContainer=e,this.eMenuPanelContainer=t,this.chartMenuContext=n,this.buttons={chartLink:{iconName:"linked",callback:()=>this.chartMenuSvc.toggleLinked(this.chartMenuContext)},chartUnlink:{iconName:"unlinked",callback:()=>this.chartMenuSvc.toggleLinked(this.chartMenuContext)},chartDownload:{iconName:"chartsDownload",callback:()=>this.chartMenuSvc.downloadChart(this.chartMenuContext)},chartMenu:{iconName:"chartsMenu",callback:e=>this.showMenuList(e)}},this.panels=[],this.menuVisible=!1,this.chartController=n.chartController}wireBeans(e){this.chartMenuSvc=e.chartMenuSvc,this.chartMenuListFactory=e.chartMenuListFactory,this.environment=e.environment}postConstruct(){this.chartToolbar=this.createManagedBean(new vte),this.getGui().appendChild(this.chartToolbar.getGui()),this.refreshToolbarAndPanels(),this.addManagedEventListeners({chartCreated:e=>{if(e.chartId===this.chartController.getChartId()){var t;Boolean(null===(t=this.gos.get("chartToolPanelsDef"))||void 0===t?void 0:t.defaultToolPanel)&&this.showMenu({panel:this.defaultPanel,suppressFocus:!0})}}}),this.addManagedListeners(this.chartController,{chartLinkedChanged:this.refreshToolbarAndPanels.bind(this)}),this.refreshMenuClasses(),this.addManagedListeners(this.chartController,{chartApiUpdate:this.refreshToolbarAndPanels.bind(this)})}isVisible(){return this.menuVisible}getExtraPaddingDirections(){return["chartMenu","chartLink","chartUnlink","chartDownload"].some(e=>this.chartToolbarOptions.includes(e))?["top"]:[]}refreshToolbarAndPanels(){this.initToolbarOptionsAndPanels(),this.updateToolbar()}initToolbarOptionsAndPanels(){const{panels:e,defaultPanel:t}=this.chartMenuSvc.getChartToolPanels(this.chartController);this.panels=e,this.defaultPanel=t,this.chartToolbarOptions=this.chartMenuSvc.getChartToolbarOptions()}updateToolbar(){const e=this.chartToolbarOptions.map(e=>{const{iconName:t,callback:n}=this.buttons[e];return{buttonName:e,iconName:t,callback:n}});this.chartToolbar.updateParams({buttons:e})}createMenuPanel(e){const t=this.menuPanel=this.createBean(new b5({height:"100%",closable:!0,hideTitleBar:!0,cssIdentifier:"chart-menu"}));return t.setParentComponent(this),this.eMenuPanelContainer.appendChild(t.getGui()),this.tabbedMenu=this.createBean(new Bie(this.panels,this.chartMenuContext)),this.addManagedListeners(this.tabbedMenu,{closed:()=>{this.hideMenu()}}),this.addManagedListeners(t,{destroyed:()=>this.destroyBean(this.tabbedMenu)}),new PG(n=>{window.setTimeout(()=>{t.setBodyComponent(this.tabbedMenu),this.tabbedMenu.showTab(e),n(t)},100)})}showContainer(e,t){this.menuPanel&&(this.menuVisible=!0,this.refreshMenuClasses(),this.tabbedMenu.showMenu(e,t))}showMenu(e){const{panel:t,eventSource:n,suppressFocus:i}=null!==e&&void 0!==e?e:{};if(this.menuPanel&&!t)this.showContainer(n,i);else{const e=t||this.defaultPanel;let o=this.panels.indexOf(e);o<0&&(iB(143,{panel:t}),o=this.panels.indexOf(this.defaultPanel)),this.menuPanel?(this.tabbedMenu.showTab(o),this.showContainer(n,i)):this.createMenuPanel(o).then(()=>this.showContainer(n,i))}}hideMenu(){this.menuVisible=!1,this.refreshMenuClasses()}refreshMenuClasses(){this.eChartContainer.classList.toggle("ag-chart-menu-visible",this.menuVisible),this.eChartContainer.classList.toggle("ag-chart-menu-hidden",!this.menuVisible)}showMenuList(e){this.chartMenuListFactory.showMenuList({eventSource:e,showMenu:()=>this.showMenu({eventSource:e}),chartMenuContext:this.chartMenuContext})}destroy(){super.destroy(),this.menuPanel&&this.menuPanel.isAlive()&&this.destroyBean(this.menuPanel),this.tabbedMenu&&this.tabbedMenu.isAlive()&&this.destroyBean(this.tabbedMenu)}},Gie=["number","category","time","grouped-category"],zie=[...Gie,"angle-category","angle-number","radius-category","radius-number"],Vie=class extends vO{constructor(e){super(),this.chartController=e}getChartThemeOverridesProxy(){return{getValue:e=>this.getChartOption(e),setValue:(e,t)=>this.setChartThemeOverrides([{expression:e,value:t}]),setValues:e=>this.setChartThemeOverrides(e)}}getAxisThemeOverridesProxy(){return{getValue:e=>this.getAxisProperty(e),setValue:(e,t)=>this.setAxisThemeOverrides([{expression:e,value:t}]),setValues:e=>this.setAxisThemeOverrides(e)}}getCartesianAxisOptionsProxy(e){return{getValue:t=>this.getCartesianAxisProperty(e,t),setValue:(t,n)=>this.setCartesianAxisOptions(e,[{expression:t,value:n}]),setValues:t=>this.setCartesianAxisOptions(e,t)}}getCartesianAxisThemeOverridesProxy(e){return{getValue:t=>this.getCartesianAxisProperty(e,t),setValue:(t,n)=>this.setCartesianAxisThemeOverrides(e,[{expression:t,value:n}]),setValues:t=>this.setCartesianAxisThemeOverrides(e,t)}}getCartesianAxisAppliedThemeOverridesProxy(e){return{getValue:t=>this.getCartesianAxisThemeOverride(e,"*"===t?null:t),setValue:(t,n)=>this.setCartesianAxisThemeOverrides(e,[{expression:"*"===t?null:t,value:n}]),setValues:t=>this.setCartesianAxisThemeOverrides(e,t)}}getSeriesOptionsProxy(e){return{getValue:(t,n)=>this.getSeriesOption(e(),t,n),setValue:(t,n)=>this.setSeriesOptions(e(),[{expression:t,value:n}]),setValues:t=>this.setSeriesOptions(e(),t)}}getPersistedChartThemeOverrides(e,t,n,i){const o=this.getRetainedChartThemeOverrideKeys(n,i),r=this.getRetainedChartAxisThemeOverrideKeys(null,n,i),s=this.createChartOptions();for(const a of o){const t=this.retrieveChartOptionsThemeOverride(e,n,a);void 0!==t&&this.assignChartOptionsThemeOverride(s,i,a,t)}return t&&this.assignPersistedAxisOverrides({existingAxes:t,retainedChartAxisThemeOverrideKeys:r,existingChartOptions:e,targetChartOptions:s,existingChartType:n,targetChartType:i}),s.theme.overrides}assignPersistedAxisOverrides(e){const{existingAxes:t,retainedChartAxisThemeOverrideKeys:n,existingChartOptions:i,targetChartOptions:o,existingChartType:r,targetChartType:s}=e;for(const{expression:a,targetAxisTypes:l}of n)for(const e of t.map(e=>e.type)){const t=this.retrieveChartOptionsThemeOverride(i,r,["axes",e,a].join("."));if(void 0!==t)for(const e of l)this.assignChartOptionsThemeOverride(o,s,["axes",e,a].join("."),t)}}getRetainedChartThemeOverrideKeys(e,t){const n=["zoom","navigator"];return["animation",...((e,t)=>{const i=new Array;return P9(N9(e))&&P9(N9(t))&&i.push(...n),i})(e,t)]}getRetainedChartAxisThemeOverrideKeys(e,t,n){if(P9(N9(t))&&P9(N9(n))){return this.getRetainedCartesianAxisThemeOverrideKeys(e).map(e=>({expression:e,targetAxisTypes:Gie}))}return[]}getRetainedCartesianAxisThemeOverrideKeys(e){const t="xAxis"===e?["",".top",".bottom"]:"yAxis"===e?["",".left",".right"]:["",".left",".right",".top",".bottom"],n=["crosshair"],i=new Array;for(const o of n)for(const e of t)i.push("".concat(o).concat(e));return i}getChartOption(e){return S9(this.getChart(),e,void 0)}setChartThemeOverrides(e){const t=this.getChartType(),n=this.createChartOptions();for(const{expression:i,value:o}of e)this.assignChartOptionsThemeOverride(n,t,i,o);this.applyChartOptions(n)}applyChartOptions(e,t){if(0===Object.keys(e).length)return;this.updateChart(e);!(null!==t&&void 0!==t&&t.silent)&&this.raiseChartOptionsChangedEvent()}awaitChartOptionUpdate(e){this.chartController.getChartProxy().getChart().waitForUpdate().then(()=>e()).catch(e=>oB(108,{e:e}))}getAxisProperty(e){var t;return S9(null===(t=this.getChart().axes)||void 0===t?void 0:t[0],e,void 0)}setAxisThemeOverrides(e){const t=this.getChart(),n=this.getChartType(),i=this.createChartOptions();for(const{expression:r,value:s}of e){var o;const e=null===(o=t.axes)||void 0===o?void 0:o.filter(e=>{const t=r.split(".");let n=e;for(const i of t){if(!(i in n))return!1;n=n[i]}return!0});if(e)for(const t of e)this.isValidAxisType(t)&&this.assignChartAxisThemeOverride(i,n,t.type,null,r,s)}this.applyChartOptions(i)}getCartesianAxisProperty(e,t){const n=this.getChartAxes();return S9(this.getCartesianAxis(n,e),t,void 0)}getCartesianAxisThemeOverride(e,t){const n=this.getChartAxes(),i=this.getCartesianAxis(n,e);if(!i||!this.isValidAxisType(i))return;const o=this.getChartType(),r=this.getChart().getOptions();return this.retrieveChartAxisThemeOverride(r,o,i.type,"yAxis"===e?["left","right"]:["bottom","top"],t)}setCartesianAxisThemeOverrides(e,t){const n=this.getChartAxes(),i=this.getCartesianAxis(n,e);if(!i||!this.isValidAxisType(i))return;const o=this.getChartType(),r=this.createChartOptions();for(const{expression:s,value:a}of t)this.assignChartAxisThemeOverride(r,o,i.type,"yAxis"===e?["left","right"]:["bottom","top"],s,a);this.applyChartOptions(r)}setCartesianAxisOptions(e,t){this.updateCartesianAxisOptions(e,(e,n,i)=>{const o=n.indexOf(i);for(const{expression:r,value:s}of t)this.assignChartOption(e,"axes.".concat(o,".").concat(r),s)})}updateCartesianAxisOptions(e,t){const n=this.getChart().getOptions(),i="axes"in n?n.axes:void 0;if(!n||!i)return;const o=this.getChartAxes(),r=this.getCartesianAxis(o,e);if(!r)return;const s=this.createChartOptions();s.axes=i,t(s,o,r,n),this.applyChartOptions(s)}setCartesianCategoryAxisType(e,t){this.updateCartesianAxisOptions(e,(n,i,o,r)=>{const s=this.getChartType();this.assignPersistedAxisOverrides({existingAxes:[o],retainedChartAxisThemeOverrideKeys:this.getRetainedChartAxisThemeOverrideKeys(e,s,s),existingChartOptions:r,targetChartOptions:n,existingChartType:s,targetChartType:s}),this.assignChartOption(n,"axes.0.type",t),this.chartController.setCategoryAxisType(t)})}getCartesianAxis(e,t){if(!(e.length<2))switch(t){case"xAxis":return"x"===e[0].direction?e[0]:e[1];case"yAxis":return"y"===e[1].direction?e[1]:e[0]}}getSeriesOption(e,t,n){const i=this.getChart().series.find(t=>function(e,t){return function(e){return!!F9[e]}(e)&&t.type===e}(e,t));return S9(n?i:null===i||void 0===i?void 0:i.properties.toJson(),t,void 0)}setSeriesOptions(e,t){const n=this.createChartOptions();for(const{expression:i,value:o}of t)this.assignChartOptionsSeriesThemeOverride(n,e,"series.".concat(i),o);this.applyChartOptions(n)}getPairedMode(){return this.chartController.getChartProxy().isPaired()}setPairedMode(e){this.chartController.getChartProxy().setPaired(e)}getChartAxes(){var e;return null!==(e=this.getChart().axes)&&void 0!==e?e:[]}retrieveChartAxisThemeOverride(e,t,n,i,o){if(!i)return this.retrieveChartOptionsThemeOverride(e,t,["axes",n,...o?[o]:[]].join("."));for(const r of i){const i=this.retrieveChartOptionsThemeOverride(e,t,["axes",n,r,...o?[o]:[]].join("."));if(void 0!==i)return i}}assignChartAxisThemeOverride(e,t,n,i,o,r){if(i)for(const s of i)this.assignChartOptionsThemeOverride(e,t,["axes",n,s,...o?[o]:[]].join("."),r);else this.assignChartOptionsThemeOverride(e,t,["axes",n,...o?[o]:[]].join("."),r)}isValidAxisType(e){return zie.includes(e.type)}getChartType(){return this.chartController.getChartType()}getChart(){return this.chartController.getChartProxy().getChart()}updateChart(e){const t=this.chartController.getChartProxy().getChartRef();t.skipAnimations(),t.updateDelta(e)}createChartOptions(){return{theme:{overrides:{}}}}retrieveChartOptionsThemeOverride(e,t,n){const i=this.getChartThemeOverridesSeriesTypeKeys(t);for(const o of i){const t=this.retrieveChartOptionsSeriesThemeOverride(e,o,n);if(void 0!==t)return t}}assignChartOptionsThemeOverride(e,t,n,i){const o=this.getChartThemeOverridesSeriesTypeKeys(t);for(const r of o)this.assignChartOptionsSeriesThemeOverride(e,r,n,i)}retrieveChartOptionsSeriesThemeOverride(e,t,n){return this.retrieveChartOption(e,["theme","overrides",t,...n?[n]:[]].join("."))}assignChartOptionsSeriesThemeOverride(e,t,n,i){this.assignChartOption(e,["theme","overrides",t,...n?[n]:[]].join("."),i)}getChartThemeOverridesSeriesTypeKeys(e){const t=this.chartController.getChartSeriesTypes(e);return this.chartController.isComboChart()&&t.push("common"),t}retrieveChartOption(e,t){return S9(e,t,void 0)}assignChartOption(e,t,n){!function(e,t,n){if(null==e)return;const i=t.split(".");let o=e;i.filter(e=>!y9.has(e)).forEach((e,t)=>{o[e]||(o[e]={}),t<i.length-1&&(o=o[e])}),o[i[i.length-1]]=n}(e,t,n)}raiseChartOptionsChangedEvent(){const e=this.chartController.getChartModel();this.eventSvc.dispatchEvent({type:"chartOptionsChanged",chartId:e.chartId,chartType:e.chartType,chartThemeName:this.chartController.getChartThemeName(),chartOptions:e.chartOptions})}};var Hie=class extends AG{constructor(e){super('\n            <div style="height: 100%; width: 100%;">\n                <div class="ag-chart" data-ref="eWrapper">\n                    <div data-ref="eChartContainer" class="ag-chart-components-wrapper ag-chart-menu-hidden">\n                        <div data-ref="eChart" class="ag-chart-canvas-wrapper"></div>\n                        <div data-ref="eEmpty" class="ag-chart-empty-text ag-unselectable"></div>\n                    </div>\n                    <div data-ref="eMenuContainer" class="ag-chart-docked-container"></div>\n                </div>\n            </div>\n            '),this.eChart=kG,this.eWrapper=kG,this.eChartContainer=kG,this.eMenuContainer=kG,this.eEmpty=kG,this.params=e}wireBeans(e){this.crossFilterService=e.chartCrossFilterSvc,this.chartTranslation=e.chartTranslation,this.chartMenuSvc=e.chartMenuSvc,this.focusSvc=e.focusSvc,this.popupSvc=e.popupSvc,this.enterpriseChartProxyFactory=e.enterpriseChartProxyFactory,this.environment=e.environment}postConstruct(){const e=d(d({},this.params),{},{chartType:I9(this.params.chartType),chartThemeName:this.getThemeName()}),t=this.gos.get("enableRtl");this.eWrapper.classList.add(t?"ag-rtl":"ag-ltr");const n=this.createBean(new hee(e));this.chartController=this.createManagedBean(new lte(n)),this.chartOptionsService=this.createManagedBean(new Vie(this.chartController)),this.validateCustomThemes(),this.createChart(),this.params.insideDialog?this.addDialog():(this.addManagedEventListeners({gridStylesChanged:this.updateTheme.bind(this)}),this.updateTheme()),this.addMenu(),this.addManagedElementListeners(this.getGui(),{focusin:this.setActiveChartCellRange.bind(this)}),this.addManagedListeners(this.chartController,{chartModelUpdate:this.update.bind(this)}),this.addManagedPropertyListeners(["chartThemeOverrides","chartThemes"],this.reactivePropertyUpdate.bind(this)),this.update(),this.raiseChartCreatedEvent()}updateTheme(){this.environment.applyThemeClasses(this.getGui())}createChart(){var e;let t;this.chartProxy&&(t=this.chartProxy.destroy({keepChartInstance:!0}));const n=this.chartController.getChartType(),i={agChartsExports:this.beans.agChartsExports,chartType:n,chartInstance:t,getChartThemeName:this.getChartThemeName.bind(this),getChartThemes:this.getChartThemes.bind(this),customChartThemes:this.gos.get("customChartThemes"),styleNonce:this.gos.get("styleNonce"),getGridOptionsChartThemeOverrides:()=>this.getGridOptionsChartThemeOverrides(),getExtraPaddingDirections:()=>{var e,t;return null!==(e=null===(t=this.chartMenu)||void 0===t?void 0:t.getExtraPaddingDirections())&&void 0!==e?e:[]},apiChartThemeOverrides:this.params.chartThemeOverrides,crossFiltering:null!==(e=this.params.crossFiltering)&&void 0!==e&&e,crossFilterCallback:(e,t)=>{this.params.crossFilteringContext.lastSelectedChartId=t?"":this.chartController.getChartId(),t&&this.params.crossFilteringResetCallback(),this.crossFilterService.filter(e,t)},parentElement:this.eChart,grouping:this.chartController.isGrouping(),chartThemeToRestore:this.params.chartThemeName,chartOptionsToRestore:this.params.chartOptionsToRestore,chartPaletteToRestore:this.params.chartPaletteToRestore,seriesChartTypes:this.chartController.getSeriesChartTypes(),suppressFieldDotNotation:this.gos.get("suppressFieldDotNotation"),translate:e=>this.chartTranslation.translate(e),context:iO(this.gos,{})};this.params.chartOptionsToRestore=void 0,this.chartType=n,this.chartProxy=this.createChartProxy(i),this.chartProxy?(this.chartController.setChartProxy(this.chartProxy),this.createMenuContext()):iB(138,{chartType:i.chartType})}createMenuContext(){if(this.chartMenuContext)return;const e=this.createManagedBean(new Ste(this.chartOptionsService.getChartThemeOverridesProxy())),t=this.createManagedBean(new Ste(this.chartOptionsService.getAxisThemeOverridesProxy()));this.chartMenuContext={chartController:this.chartController,chartOptionsService:this.chartOptionsService,chartMenuParamsFactory:e,chartAxisMenuParamsFactory:t}}getChartThemeName(){return this.chartController.getChartThemeName()}getChartThemes(){return this.chartController.getThemeNames()}getGridOptionsChartThemeOverrides(){return this.gos.get("chartThemeOverrides")}createChartProxy(e){var t;const{chartType:n}=e;switch(n){case"column":case"bar":case"groupedColumn":case"stackedColumn":case"normalizedColumn":case"groupedBar":case"stackedBar":case"normalizedBar":return new dte(e);case"pie":case"donut":case"doughnut":return new mte(e);case"area":case"stackedArea":case"normalizedArea":return new ute(e);case"line":case"stackedLine":case"normalizedLine":return new hte(e);case"scatter":case"bubble":return new pte(e);case"columnLineCombo":case"areaColumnCombo":case"customCombo":return new gte(e)}const i=null===(t=this.enterpriseChartProxyFactory)||void 0===t?void 0:t.createChartProxy(e);if(!i)throw aB(251,{chartType:n});return i}addDialog(){const e=this.chartTranslation.translate(this.params.pivotChart?"pivotChartTitle":"rangeChartTitle"),{width:t,height:n}=this.getBestDialogSize(),i=this.params.focusDialogOnOpen?()=>setTimeout(()=>gV(this.getGui())):void 0;this.chartDialog=new y5({resizable:!0,movable:!0,maximizable:!0,title:e,width:t,height:n,component:this,centered:!0,closable:!0,afterGuiAttached:i,postProcessPopupParams:{type:"chart"}}),this.createBean(this.chartDialog),this.chartDialog.addEventListener("destroyed",()=>{this.destroy(),this.chartMenuSvc.hideAdvancedSettings();const e=this.focusSvc.getFocusedCell();setTimeout(()=>{this.focusSvc.isAlive()&&(e?this.focusSvc.setFocusedCell(d(d({},e),{},{forceBrowserFocus:!0})):fV(this.beans))})})}getBestDialogSize(){const e=this.popupSvc.getPopupParent(),t=.75*rN(e),n=.75*oN(e),i=this.chartProxy.getChart();let o=this.params.insideDialog?850:i.width,r=this.params.insideDialog?470:i.height;return(o>t||r>n)&&(o=Math.min(o,t),r=Math.round(.553*o),r>n&&(r=n,o=Math.min(o,Math.round(r/.553)))),{width:o,height:r}}addMenu(){this.params.crossFiltering||(this.chartMenu=this.createBean(new Oie(this.eChartContainer,this.eMenuContainer,this.chartMenuContext)),this.eChartContainer.appendChild(this.chartMenu.getGui()))}update(e){if(null!==e&&void 0!==e&&e.chartId){if(!this.chartController.update(e))return}const t=this.chartTypeChanged(e),n=t||this.chartEmpty?(e=>{const t=this.chartType,n=e,i=this.chartProxy.getChart(),o=null===i||void 0===i?void 0:i.getOptions(),r=null===i||void 0===i?void 0:i.axes;return this.chartOptionsService.getPersistedChartThemeOverrides(o,r,t,null!==n&&void 0!==n?n:t)})(t):void 0;t&&this.createChart(),n&&null!==e&&void 0!==e&&e.chartThemeOverrides&&XI(n,e.chartThemeOverrides);const i=null!==n&&void 0!==n?n:null===e||void 0===e?void 0:e.chartThemeOverrides;this.updateChart(i),null!==e&&void 0!==e&&e.chartId&&this.chartProxy.getChart().waitForUpdate().then(()=>{this.chartController.raiseChartApiUpdateEvent()})}updateChart(e){const{chartProxy:t}=this,n=this.chartController.getSelectedValueColState(),i=this.chartController.getChartData(),o=this.handleEmptyChart(i,n.length);if(this.chartEmpty=o,o)return void(e&&this.chartController.updateThemeOverrides(e));const r=this.chartController.getChartUpdateParams(e);t.update(r),this.chartProxy.getChart().waitForUpdate().then(()=>{this.chartController.raiseChartUpdatedEvent()})}chartTypeChanged(e){const[t,n]=[this.chartController.getChartType(),null===e||void 0===e?void 0:e.chartType],i=n?I9(n):void 0;return this.chartType!==t?null!==i&&void 0!==i?i:t:i&&t!==i?i:null}getChartModel(){return this.chartController.getChartModel()}getChartImageDataURL(e){return this.chartProxy.getChartImageDataURL(e)}handleEmptyChart(e,t){const n=this.chartController.isPivotChart()&&!this.chartController.isPivotMode(),i=this.chartController.getChartType();let o=1;this.chartController.isActiveXYChart()?o="bubble"===i?3:2:M9(N9(i))&&(o=0);const r=t<o||0===e.length;if(this.eChart){const e=n||r;XL(this.eChart,!e),XL(this.eEmpty,e)}return n?(this.eEmpty.textContent=this.chartTranslation.translate("pivotChartRequiresPivotMode"),!0):!!r&&(this.eEmpty.textContent=this.chartTranslation.translate("noDataToChart"),!0)}downloadChart(e,t,n){this.chartProxy.downloadChart(e,t,n)}openChartToolPanel(e){const t=e?Gee[e]:e;this.chartMenu.showMenu({panel:t})}closeChartToolPanel(){this.chartMenu.hideMenu()}getChartId(){return this.chartController.getChartId()}getUnderlyingChart(){return this.chartProxy.getChartRef()}crossFilteringReset(){this.chartProxy.crossFilteringReset()}setMaximized(e){var t;null===(t=this.chartDialog)||void 0===t||t.setMaximized(e)}setActiveChartCellRange(e){this.getGui().contains(e.relatedTarget)||this.chartController.setChartRange(!0)}getThemeName(){const e=this.gos.get("chartThemes")||ate;if(0===e.length)throw new Error(aB(254));const{chartThemeName:t}=this.params;return e.includes(t)?t:e[0]}getAllKeysInObjects(e){const t={};return e.filter(e=>null!=e).forEach(e=>{Object.keys(e).forEach(e=>t[e]=null)}),Object.keys(t)}validateCustomThemes(){const e=this.getChartThemes(),t=this.gos.get("customChartThemes");t&&this.getAllKeysInObjects([t]).forEach(t=>{e.includes(t)||iB(139,{customThemeName:t})})}reactivePropertyUpdate(){this.chartController.setChartThemeName(this.getThemeName(),!0);const e=this.getChartId(),t=this.chartController.isCrossFilterChart()?"crossFilter":this.getChartModel().modelType,n=this.gos.get("chartThemeOverrides")||{};this.update({type:"".concat(t,"ChartUpdate"),chartId:e,chartThemeOverrides:n})}raiseChartCreatedEvent(){this.chartProxy.getChart().waitForUpdate().then(()=>{this.eventSvc.dispatchEvent({type:"chartCreated",chartId:this.chartController.getChartId()})})}raiseChartDestroyedEvent(){this.eventSvc.dispatchEvent({type:"chartDestroyed",chartId:this.chartController.getChartId()})}destroy(){var e;super.destroy(),this.chartProxy&&this.chartProxy.destroy(),this.destroyBean(this.chartMenu),this.chartDialog&&this.chartDialog.isAlive()&&this.destroyBean(this.chartDialog),null===(e=this.onDestroyColorSchemeChangeListener)||void 0===e||e.call(this);const t=this.getGui();uN(t),cN(t),this.raiseChartDestroyedEvent()}},jie=!1;function Wie(e){e.version;return null==e.version&&(e.version=function(e){var t;const n=e;if(null!=e.version)return e.version;const i=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return Object.keys(e||{}).some(e=>n.includes(e))},o=n.chartOptions,r=i(o,"seriesDefaults")?null===o||void 0===o?void 0:o.seriesDefaults:null===o||void 0===o?void 0:o[Object.keys(o)[0]],s={"27.0.0":i(n,"seriesChartTypes"),"26.2.0":!i(o,"seriesDefaults"),"26.1.0":i(null===r||void 0===r?void 0:r.highlightStyle,"item"),"26.0.0":i(null===r||void 0===r?void 0:r.highlightStyle,"series"),"25.1.0":i(null===r||void 0===r?void 0:r.label,"minAngle"),"25.0.0":i(n,"modelType","aggFunc","unlinkChart","suppressChartRanges")||i(r,"lineDash","lineDashOffset"),"24.0.0":i(n,"chartThemeName","chart")||i(o,"series"),"23.2.0":i(o,"navigator"),"23.0.0":i(null===o||void 0===o||null===(t=o.legend)||void 0===t||null===(t=t.item)||void 0===t?void 0:t.marker,"shape"),"22.1.0":i(n,"chartPalette","chartType")},a="27.1.0",l=Object.entries(s).filter(e=>{let[t,n]=e;return n});jie;const[u=a]=l[0];jie;return u}(e)),e=aoe("23.0.0",e,Uie),e=aoe("24.0.0",e,Kie),e=aoe("25.1.0",e,qie),e=aoe("26.0.0",e,Yie),e=aoe("26.1.0",e,Zie),e=aoe("26.2.0",e,$ie),e=aoe("28.0.0",e,Xie),e=aoe("28.2.0",e,Qie),e=aoe("29.0.0",e,Jie),e=aoe("29.1.0",e,eoe),e=aoe("29.2.0",e,toe),e=aoe("30.0.0",e,noe),e=aoe("31.0.0",e,ioe),e=aoe("32.0.0",e,ooe),e=aoe("33.0.0",e,roe),e=function(e){return e=moe("chartOptions.*.width",e),e=moe("chartOptions.*.height",e),e=coe("chartOptions.*.axes.category.label.autoRotate",!0,e),e}(e=aoe("34.0.0",e,soe)),e=aoe(n5,e,e=>e)}function Uie(e){return e=goe("chartOptions.legend.item.marker.type","shape",e),e=goe("chartOptions.seriesDefaults.marker.type","shape",e),e=goe("chartOptions.legend.padding","spacing",e)}function Kie(e){var t;e=moe("chartOptions.seriesDefaults.marker.minSize",e);const{chartType:n,chartPalette:i,chartOptions:{xAxis:o,yAxis:r}}=e,a=s(e.chartOptions,$J),l=s(e,XJ),u=function(e){switch(e){case"bar":case"stackedBar":case"normalizedBar":return["number","category"];case"groupedBar":return["number","grouped-category"];case"column":case"stackedColumn":case"normalizedColumn":case"line":case"stackedLine":case"normalizedLine":case"area":case"stackedArea":case"normalizedArea":case"histogram":return["category","number"];case"groupedColumn":return["grouped-category","number"];case"scatter":case"bubble":return["number","number"];default:return}}(n),c=null===u||void 0===u?void 0:u.map((e,t)=>d({type:e},0===t?o:r));return d({chartType:n,chartThemeName:null!==(t={borneo:"ag-default",material:"ag-material",bright:"ag-vivid"}[i])&&void 0!==t?t:"ag-default",chartOptions:d(d({},a),{},{axes:c,xAxis:o,yAxis:r})},l)}function qie(e){return e=goe("chartOptions.seriesDefaults.label.minRequiredAngle","minAngle",e)}function Yie(e){return e=moe("chart",e=foe("chartOptions.seriesDefaults.highlightStyle",e,e=>{let{dimOpacity:t}=e;return d(d({},s(e,QJ)),null!=t?{series:{dimOpacity:t}}:{})})),e=moe("chartOptions.seriesDefaults.tooltipClass",e),e=uoe("chartOptions.axes[].label.rotation",0,e=moe("chartOptions.seriesDefaults.tooltipTracking",e)),e=uoe("chartOptions.axes[].label.rotation",335,e)}function Zie(e){const t=e=>{let{item:t,series:n}=e;return d({item:d(d({},s(e,JJ)),t)},n?{series:n}:{})};return e=foe("chartOptions.seriesDefaults.highlightStyle",e,t),e=foe("chartOptions.series[].highlightStyle",e,t)}function $ie(e){e=hoe("chartOptions.seriesDefaults.fill.opacity","chartOptions.seriesDefaults.fillOpacity",e),e=hoe("chartOptions.seriesDefaults.stroke.opacity","chartOptions.seriesDefaults.strokeOpacity",e),e=moe("chartOptions.seriesDefaults.fill",e=hoe("chartOptions.seriesDefaults.stroke.width","chartOptions.seriesDefaults.strokeWidth",e)),e=moe("chartOptions.seriesDefaults.stroke",e),e=moe("chartOptions.seriesDefaults.callout.colors",e),e=moe("chartOptions.xAxis",e),e=moe("chartOptions.yAxis",e);const{chartType:t,chartOptions:{axes:n,series:i,seriesDefaults:o}}=e,r=s(e.chartOptions,e0),a=s(e,t0),l=I9(t),u=N9(l),c=[u],h={};if(!B9(u)){const e={top:{},bottom:{},left:{},right:{}},t=n.map(t=>{let{type:n}=t,i=s(t,n0);return{[n]:d(d({},e),i)}}).reduce(Coe,{});H9.filter(e=>null==t[e]).forEach(n=>{t[n]=d({},e)}),h.axes=t}const p=c.map(e=>({[e]:d(d({},h),{},{series:o},r)})).reduce(Coe,{});return e=d(d({},a),{},{chartType:l,chartOptions:p})}function Xie(e){return e=moe("chartOptions.*.title.padding",e),e=moe("chartOptions.*.subtitle.padding",e),e=coe("chartOptions.*.axes.*.title.enabled",!1,e=moe("chartOptions.*.axes.*.title.padding",e))}function Qie(e){return e=goe("chartOptions.pie.series.callout","calloutLine",e),e=goe("chartOptions.pie.series.label","calloutLabel",e),e=goe("chartOptions.pie.series.labelKey","sectorLabelKey",e),e=goe("chartOptions.pie.series.labelName","sectorLabelName",e),e=goe("chartOptions.donut.series.callout","calloutLine",e),e=goe("chartOptions.donut.series.label","calloutLabel",e),e=goe("chartOptions.donut.series.labelKey","sectorLabelKey",e),e=goe("chartOptions.donut.series.labelName","sectorLabelName",e)}function Jie(e){return e=poe("chartOptions.scatter.series.fill","chartOptions.scatter.series.marker.fill",e),e=poe("chartOptions.scatter.series.fillOpacity","chartOptions.scatter.series.marker.fillOpacity",e),e=poe("chartOptions.scatter.series.stroke","chartOptions.scatter.series.marker.stroke",e),e=poe("chartOptions.scatter.series.strokeOpacity","chartOptions.scatter.series.marker.strokeOpacity",e),e=hoe("chartOptions.scatter.series.paired","chartOptions.scatter.paired",e=poe("chartOptions.scatter.series.strokeWidth","chartOptions.scatter.series.marker.strokeWidth",e))}function eoe(e){return e=moe("chartOptions.axes[].tick.count",e)}function toe(e){return e=foe("chartOptions.*.tooltip",e,e=>{let{tracking:t}=e;const n=d({},s(e,i0));var i,o;if(!1===t)null!==(i=n.position)&&void 0!==i||(n.position={type:"pointer"}),null!==(o=n.range)&&void 0!==o||(n.range="nearest");else if(!0===t){var r,a;null!==(r=n.position)&&void 0!==r||(n.position={type:"node"}),null!==(a=n.range)&&void 0!==a||(n.range="nearest")}return n})}function noe(e){return e=goe("chartOptions.pie.series.labelKey","sectorLabelKey",e),e=coe("chartOptions.common.legend.position","right",e=doe("chartOptions.common.legend.enabled",!0,e=moe("chartOptions.*.series.flipXY",e=toe(e=eoe(e=goe("chartOptions.pie.series.labelName","sectorLabelName",e))))))}function ioe(e){const t=goe("chartOptions.column","bar",e),n={"ag-pastel":"ag-sheets","ag-solar":"ag-polychroma"}[t.chartThemeName]||t.chartThemeName;return d(d({},t),{},{chartThemeName:n})}function ooe(e){return e=voe("chartOptions.*.autoSize",!0,e,(e,t)=>{!0===e[t]||!1===e[t]&&(e.minHeight=600,e.minWidth=300),delete e[t]})}function roe(e){return e=moe("chartOptions.*.axes.category.label.format",e),e=moe("chartOptions.*.axes.category.crosshair.label.format",e),e=moe("chartOptions.*.axes.angle-category.label.format",e),e=goe("chartOptions.*.axes.*.label.padding","spacing",e=moe("chartOptions.*.axes.radius-category.label.format",e)),e=moe("chartOptions.*.axes.*.crossLines.label.className",e=goe("chartOptions.*.navigator.miniChart.label.padding","spacing",e)),e=woe("chartOptions.bar.series.label.placement",e=moe("chartOptions.bullet",e=voe("chartOptions.*.axes.*.crossLines.label.position",!0,e,(e,t)=>{"string"===typeof e[t]&&(e[t]=e[t].replace(/([A-Z])/,"-$1").toLowerCase())})),{inside:"inside-center",outside:"inside-end"}),e=moe("chartOptions.*.navigator.min",e=woe("chartOptions.waterfall.series.item.*.label.placement",e,{inside:"inside-center",start:"outside-start",end:"outside-end"})),e=moe("chartOptions.*.navigator.max",e),e=moe("chartOptions.*.zoom.ratioX",e),e=moe("chartOptions.*.zoom.ratioY",e),e=moe("chartOptions.*.zoom.rangeX",e),e=moe("chartOptions.*.zoom.rangeY",e)}function soe(e){return voe("chartOptions.series[].highlightStyle",!0,e,(e,t)=>{const n=e[t];if(null==n)return;const i={};if(n.item&&(i.highlightedItem=n.item),n.series){const e=n.series,{dimOpacity:t}=e,o=s(e,o0);null!=t&&(i.unhighlightedSeries={opacity:t}),Object.keys(o).length>0&&(i.highlightedSeries=o)}delete e[t],e.highlight=i}),e}function aoe(e,t,n){if(loe(e)>loe(t.version)){jie;const i=n(t);return i.version=e,i}return t}function loe(e){const{major:t,minor:n,patch:i}=function(e){const t=e.includes("-beta")?e.replace(/-beta.*/,""):e,n="string"===typeof t?t.split(".").map(e=>Number(e)):[];if(3!==n.length||n.some(e=>isNaN(e)))throw new Error(aB(253,{version:t}));return{major:n[0],minor:n[1],patch:n[2]}}(e);return 1e4*t+100*n+i}function uoe(e,t,n){return voe(e,!0,n,(e,n)=>{e[n]===t&&delete e[n]})}function coe(e,t,n){return voe(e,!1,n,(e,n)=>{null==e[n]&&(e[n]=t)})}function doe(e,t,n){"string"===typeof e&&(e=e.split("."));const i=e[0];var o;e.length>1&&(n[i]=doe(e.slice(1),t,null!==(o=n[i])&&void 0!==o?o:{}));return Object.keys(n).includes(i)||(n[i]=t),n}function hoe(e,t,n){let i,o=!1;return n=voe(e,!0,n,(e,t)=>{o=!0,i=e[t],delete e[t]}),o?voe(t,!1,n,(e,t)=>{e[t]=i}):n}function poe(e,t,n){let i,o=!1;return n=voe(e,!0,n,(e,t)=>{o=!0,i=e[t],delete e[t]}),o?voe(t,!1,n,(e,t)=>{void 0===e[t]&&(e[t]=i)}):n}function goe(e,t,n){return voe(e,!0,n,(e,n)=>{e[t]=e[n],delete e[n]})}function moe(e,t){return voe(e,!0,t,(e,t)=>delete e[t])}function voe(e,t,n,i){const o=e instanceof Array?e:e.split("."),r=o.slice(0,o.length-1),s=o[o.length-1];return foe(r,n,e=>{const n=Object.keys(e).includes(s);if(t&&!n)return e;const o=d({},e);return i(o,s),o})}function foe(e,t,n){const i=e instanceof Array?e:e.split(".");if(t=d({},t),0===i.length)return n(t);if(i[0].startsWith("{")){const e=i[0].substring(1,i[0].lastIndexOf("}")).split(",");for(const o of e)null!=t[o]&&(t[o]=foe(i.slice(1),t[o],n))}else if(i[0].endsWith("[]")){const o=i[0].substring(0,e[0].indexOf("["));t[o]instanceof Array&&(t[o]=t[o].map(e=>foe(i.slice(1),e,n)))}else if("*"===i[0])for(const o of Object.keys(t))t[o]=foe(i.slice(1),t[o],n);else null!=t[i[0]]&&(t[i[0]]=foe(i.slice(1),t[i[0]],n));return t}function woe(e,t,n){return voe(e,!0,t,(e,t)=>{var i;"string"===typeof e[t]&&(e[t]=null!==(i=n[t])&&void 0!==i?i:t)})}var Coe=(e,t)=>d(d({},e),t),boe=class extends vO{constructor(){super(...arguments),this.beanName="chartSvc",this.activeCharts=new Set,this.activeChartComps=new Set,this.crossFilteringContext={lastSelectedChartId:""},this.isEnterprise=()=>this.agChartsExports.isEnterprise}wireBeans(e){this.visibleCols=e.visibleCols,this.rangeSvc=e.rangeSvc,this.agChartsExports=e.agChartsExports}updateChart(e){if(0===this.activeChartComps.size)return void iB(124);const t=[...this.activeChartComps].find(t=>t.getChartId()===e.chartId);t?t.update(e):iB(125,{chartId:e.chartId})}getChartModels(){const e=[];return this.activeChartComps.forEach(t=>e.push((e=>d(d({},e),{},{version:n5}))(t.getChartModel()))),e}getChartRef(e){let t;return this.activeCharts.forEach(n=>{n.chartId===e&&(t=n)}),t}getChartComp(e){let t;return this.activeChartComps.forEach(n=>{n.getChartId()===e&&(t=n)}),t}getChartImageDataURL(e){let t;return this.activeChartComps.forEach(n=>{n.getChartId()===e.chartId&&(t=n.getChartImageDataURL(e.fileFormat))}),t}downloadChart(e){const t=Array.from(this.activeChartComps).find(t=>t.getChartId()===e.chartId);null===t||void 0===t||t.downloadChart(e.dimensions,e.fileName,e.fileFormat)}openChartToolPanel(e){const t=Array.from(this.activeChartComps).find(t=>t.getChartId()===e.chartId);null===t||void 0===t||t.openChartToolPanel(e.panel)}closeChartToolPanel(e){const t=Array.from(this.activeChartComps).find(t=>t.getChartId()===e);null===t||void 0===t||t.closeChartToolPanel()}createChartFromCurrentRange(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"groupedColumn",t=arguments.length>1?arguments[1]:void 0;const n=this.getSelectedRange();return this.createChart({cellRange:n,chartType:e,focusDialogOnOpen:!t})}restoreChart(e,t){if(!e)return void iB(126);let n,i,o,r;return e.version!==n5&&(e=Wie(e)),"pivot"===e.modelType?(this.gos.updateGridOptions({options:{pivotMode:!0},source:"pivotChart"}),n=this.createCellRange(void 0,!0),i=!0,o=!0):(n=this.createCellRange(e.cellRange),r=e.chartPalette,o=e.suppressChartRanges),n?this.createChart(d(d({},e),{},{cellRange:n,pivotChart:i,suppressChartRanges:o,chartContainer:t,chartOptionsToRestore:e.chartOptions,chartPaletteToRestore:r})):void 0}createRangeChart(e,t){const n=this.createCellRange(e.cellRange);if(n)return this.createChart(d(d({},e),{},{cellRange:n,focusDialogOnOpen:!t}))}createPivotChart(e,t){this.gos.updateGridOptions({options:{pivotMode:!0},source:"pivotChart"});const n=this.createCellRange(void 0,!0);if(n)return this.createChart(d(d({},e),{},{cellRange:n,pivotChart:!0,suppressChartRanges:!0,focusDialogOnOpen:!t}))}createCrossFilterChart(e,t){const n=this.createCellRange(e.cellRange);if(!n)return;const i=!("undefined"!==typeof e.suppressChartRanges&&null!==e.suppressChartRanges)||e.suppressChartRanges;return this.createChart(d(d({},e),{},{cellRange:n,suppressChartRanges:i,crossFiltering:!0,focusDialogOnOpen:!t}))}createChart(e){const t=function(e,t){return ste(e,[tte(t),nte(t)])}(e,this.agChartsExports.isEnterprise);if(!t)return;e=!0===t?e:t;const{chartType:n,chartContainer:i}=e,o=this.gos.getCallback("createChartContainer"),r=d(d({},e),{},{chartId:this.generateId(),chartType:I9(n),insideDialog:!(i||o),crossFilteringContext:this.crossFilteringContext,crossFilteringResetCallback:()=>this.activeChartComps.forEach(e=>e.crossFilteringReset())}),s=new Hie(r);this.createBean(s);const a=this.createChartRef(s);return i?i.appendChild(a.chartElement):o?o(a):s.addEventListener("destroyed",()=>{this.activeChartComps.delete(s),this.activeCharts.delete(a)}),a}createChartRef(e){const t={destroyChart:()=>{this.activeCharts.has(t)&&(this.destroyBean(e),this.activeChartComps.delete(e),this.activeCharts.delete(t))},focusChart:()=>{gV(e.getGui())},chartElement:e.getGui(),chart:e.getUnderlyingChart(),chartId:e.getChartModel().chartId,setMaximized:e.setMaximized.bind(e)};return this.activeCharts.add(t),this.activeChartComps.add(e),t}getSelectedRange(){var e;const t=null===(e=this.rangeSvc)||void 0===e?void 0:e.getCellRanges();if(!t||0===t.length)return{columns:[]};const n=new Set;let i=Number.MAX_VALUE,o=-Number.MAX_VALUE;if(t.forEach(e=>{let{startRow:t,endRow:r,columns:s}=e;if(!t||!r)return;s.forEach(e=>n.add(e));let{rowIndex:a,rowPinned:l}=t,{rowIndex:u,rowPinned:c}=r;if("top"===l){if("top"===c)return;a=0}if("bottom"===c){if("bottom"===l)return;u=this.beans.pageBounds.getLastRow()}void 0!==a&&(i=Math.min(i,a)),void 0!==u&&(o=Math.max(o,u))}),i===Number.MAX_VALUE||o===-Number.MAX_VALUE)return{columns:[]};const r=Array.from(n);return{columns:r,startColumn:r[0],startRow:{rowIndex:i,rowPinned:void 0},endRow:{rowIndex:o,rowPinned:void 0}}}generateId(){return"id-".concat(Math.random().toString(36).substring(2,18))}createCellRange(e,t){var n;const i=t?{rowStartIndex:null,rowStartPinned:void 0,rowEndIndex:null,rowEndPinned:void 0,columns:this.visibleCols.allCols.map(e=>e.getColId())}:e,o=i&&(null===(n=this.rangeSvc)||void 0===n?void 0:n.createPartialCellRangeFromRangeParams(i,!0));return o||iB(127,{allRange:t}),o}destroy(){this.activeCharts.forEach(e=>e.destroyChart()),super.destroy()}};function yoe(e){return e&&e.match(/\d+\.\d+\.\d+/)}function Soe(e){let{type:t,gridVersion:n,chartsVersion:i}=e;const o="AG Grid: AG Grid version is incompatible. Please see https://www.ag-grid.com/javascript-data-grid/modules/ for more information.";if(!n)return o;const r=function(e){if(!e||!yoe(e))return;const[t,n]=e.split(".")||[],i="".concat(t,".").concat(n,".x"),o=parseInt(t,10)-28+6;if(o<0)return;const r=n;return{gridMajorMinor:i,chartsMajorMinor:"".concat(o,".").concat(r,".x")}}(n);if(!r)return o;const{gridMajorMinor:s,chartsMajorMinor:a}=r;return"incompatible"===t?"AG Grid version ".concat(n," and AG Charts version ").concat(i," is not supported. AG Grid version ").concat(s," should be used with AG Chart ").concat(a,". Please see https://www.ag-grid.com/javascript-data-grid/modules/ for more information."):"invalidCharts"===t?"AG Grid version ".concat(s," should be used with AG Chart ").concat(a," not ").concat(i,". Please see https://www.ag-grid.com/javascript-data-grid/modules/ for more information."):o}function xoe(e){let{gridVersion:t,chartsVersion:n}=e;if(!yoe(n))return{isValid:!1,message:Soe({type:"invalidCharts",gridVersion:t,chartsVersion:n})};if(!yoe(t))return{isValid:!1,message:Soe({type:"invalidGrid",gridVersion:t,chartsVersion:n})};const[i,o]=t.split(".")||[],[r,s,a]=n.split(".")||[],l=function(e){let{gridMajorVersion:t,chartsMajorVersion:n}=e;const i=parseInt(t,10)-28;return i===parseInt(n,10)-6&&i>=0}({gridMajorVersion:i,chartsMajorVersion:r});return l&&o===s||a.includes("beta")?{isValid:!0}:l&&o===s?{isValid:!1,message:Soe({type:"invalid",gridVersion:t,chartsVersion:n})}:{isValid:!1,message:Soe({type:"incompatible",gridVersion:t,chartsVersion:n})}}var Doe={linked:"linked",unlinked:"unlinked",chartsMenu:"menu-alt",chartsDownload:"save",chartsMenuEdit:"chart",chartsMenuAdvancedSettings:"settings",chartsMenuAdd:"plus",chartsColorPicker:"small-down",chartsThemePrevious:"previous",chartsThemeNext:"next"},Eoe={getChartModels:function(e){return e.frameworkOverrides.wrapIncoming(()=>{var t;return null===(t=e.chartSvc)||void 0===t?void 0:t.getChartModels()})},getChartRef:function(e,t){return e.frameworkOverrides.wrapIncoming(()=>{var n;return null===(n=e.chartSvc)||void 0===n?void 0:n.getChartRef(t)})},getChartImageDataURL:function(e,t){return e.frameworkOverrides.wrapIncoming(()=>{var n;return null===(n=e.chartSvc)||void 0===n?void 0:n.getChartImageDataURL(t)})},downloadChart:function(e,t){return e.frameworkOverrides.wrapIncoming(()=>{var n;return null===(n=e.chartSvc)||void 0===n?void 0:n.downloadChart(t)})},openChartToolPanel:function(e,t){return e.frameworkOverrides.wrapIncoming(()=>{var n;return null===(n=e.chartSvc)||void 0===n?void 0:n.openChartToolPanel(t)})},closeChartToolPanel:function(e,t){return e.frameworkOverrides.wrapIncoming(()=>{var n;return null===(n=e.chartSvc)||void 0===n?void 0:n.closeChartToolPanel(t.chartId)})},createRangeChart:function(e,t){return e.frameworkOverrides.wrapIncoming(()=>{var n;return null===(n=e.chartSvc)||void 0===n?void 0:n.createRangeChart(t,!0)})},createPivotChart:function(e,t){return e.frameworkOverrides.wrapIncoming(()=>{var n;return null===(n=e.chartSvc)||void 0===n?void 0:n.createPivotChart(t,!0)})},createCrossFilterChart:function(e,t){return e.frameworkOverrides.wrapIncoming(()=>{var n;return null===(n=e.chartSvc)||void 0===n?void 0:n.createCrossFilterChart(t,!0)})},updateChart:function(e,t){return e.frameworkOverrides.wrapIncoming(()=>{var n;return null===(n=e.chartSvc)||void 0===n?void 0:n.updateChart(t)})},restoreChart:function(e,t,n){return e.frameworkOverrides.wrapIncoming(()=>{var i;return null===(i=e.chartSvc)||void 0===i?void 0:i.restoreChart(t,n)})}},Foe=[M7,i5,eK,ZZ,z3],koe="IntegratedCharts",Aoe=e=>{var t;if(e.setup(),null===(t=e.setGridContext)||void 0===t||t.call(e,!0),e.isEnterprise&&e.setLicenseKey){const t={setLicenseKey:e.setLicenseKey};u0.setChartsLicenseManager(t)}return{moduleName:koe,version:n5,icons:Doe,apiFunctions:Eoe,dependsOn:Foe,css:['.ag-chart{display:flex;height:100%;position:relative;width:100%}.ag-chart-components-wrapper{display:flex}.ag-chart-canvas-wrapper,.ag-chart-components-wrapper{flex:1 1 auto;position:relative}.ag-chart-menu{background:var(--ag-background-color);background-color:color-mix(in srgb,transparent,var(--ag-background-color) 30%);border-radius:var(--ag-border-radius);display:flex;flex-direction:row;gap:20px;padding:4px 2px;position:absolute;top:8px;width:auto;--ag-icon-size:20px}:where(.ag-ltr) .ag-chart-menu{justify-content:right;right:calc(var(--ag-cell-horizontal-padding) + var(--ag-spacing) - 4px)}:where(.ag-rtl) .ag-chart-menu{justify-content:left;left:calc(var(--ag-cell-horizontal-padding) + var(--ag-spacing) - 4px)}.ag-chart-docked-container{min-width:var(--ag-chart-menu-panel-width);position:relative}:where(.ag-chart-menu-hidden)~.ag-chart-docked-container{display:none}.ag-chart-tabbed-menu{display:flex;flex-direction:column;height:100%;overflow:hidden;width:100%}.ag-chart-tabbed-menu-header{cursor:default;flex:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.ag-chart-tabbed-menu-body{align-items:stretch;display:flex;flex:1 1 auto;overflow:hidden;position:relative;&:after{background:linear-gradient(var(--ag-background-color),transparent);content:"";display:block;height:16px;left:0;position:absolute;right:0;top:0}}.ag-chart-tab{overflow:hidden;overflow-y:auto;width:100%}.ag-chart-settings{overflow-x:hidden}.ag-chart-settings-wrapper{display:flex;flex-direction:column;height:100%;overflow:hidden;position:relative;width:100%}.ag-chart-settings-nav-bar{align-items:center;border-top:solid var(--ag-border-width) var(--ag-border-color);display:flex;height:30px;padding:0 10px;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:100%}.ag-chart-settings-card-selector{align-items:center;display:flex;flex:1 1 auto;height:100%;justify-content:space-around;padding:0 10px}.ag-chart-settings-card-item{background-color:var(--ag-foreground-color);border-radius:4px;cursor:pointer;height:8px;position:relative;width:8px;&.ag-not-selected{opacity:.2}&:before{background-color:transparent;content:" ";display:block;height:20px;left:50%;margin-left:-10px;margin-top:-10px;position:absolute;top:50%;width:20px}&.ag-selected{background-color:var(--ag-accent-color)}}.ag-chart-settings-next,.ag-chart-settings-prev{flex:none;position:relative;&:focus-within{border-radius:1px;box-shadow:var(--ag-focus-shadow)}}.ag-chart-settings-next-button,.ag-chart-settings-prev-button{cursor:pointer;height:100%;left:0;opacity:0;position:absolute;top:0;width:100%}.ag-chart-settings-mini-charts-container{flex:1 1 auto;overflow:hidden auto;position:relative}.ag-chart-settings-mini-wrapper{display:flex;flex-direction:column;left:0;min-height:100%;overflow:hidden;padding-bottom:var(--ag-widget-container-vertical-padding);position:absolute;top:0;width:100%;&.ag-animating{transition:left .3s;transition-timing-function:ease-in-out}}.ag-chart-mini-thumbnail{border:solid var(--ag-border-width) var(--ag-border-color);border-radius:5px;cursor:pointer;padding:1px;&.ag-selected{border-color:var(--ag-accent-color);border-width:calc(var(--ag-border-width) + 1px);padding:unset}&:focus-visible{border-color:var(--ag-accent-color);box-shadow:var(--ag-focus-shadow)}}.ag-chart-mini-thumbnail-canvas{display:block}.ag-chart-advanced-settings-wrapper,.ag-chart-data-wrapper,.ag-chart-format-wrapper{display:flex;flex-direction:column;padding-bottom:16px;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none}.ag-chart-advanced-settings-wrapper,.ag-chart-data-wrapper{height:100%;overflow-y:auto}.ag-chart-advanced-settings{background-color:var(--ag-chrome-background-color)}.ag-chart-advanced-settings,.ag-chart-advanced-settings-wrapper{width:100%}.ag-chart-advanced-settings-wrapper{padding-bottom:0}.ag-chart-advanced-settings-section{border-bottom:solid var(--ag-border-width) var(--ag-border-color);display:flex;margin:0;padding-bottom:var(--ag-widget-container-vertical-padding);padding-top:var(--ag-widget-container-vertical-padding)}.ag-chart-empty-text{align-items:center;background-color:var(--ag-background-color);display:flex;height:100%;justify-content:center;top:0;width:100%}.ag-charts-font-size-color{align-self:stretch;display:flex;justify-content:space-between}.ag-charts-data-group-item{padding-bottom:var(--ag-widget-container-vertical-padding);position:relative}.ag-charts-data-group-item:where(:not(:last-child)){margin-bottom:var(--ag-spacing)}.ag-chart-menu-icon{border-radius:var(--ag-border-radius);cursor:pointer;margin:2px 0;opacity:.8;&:hover{opacity:1}}.ag-chart-menu-toolbar-button{background-color:unset;border:0;border-radius:1px;padding:0 2px}.ag-chart-data-column-drag-handle{margin-left:var(--ag-spacing)}.ag-charts-advanced-settings-top-level-group-title-bar{background-color:unset;position:relative}.ag-charts-data-group-container{padding:calc(var(--ag-widget-container-vertical-padding)*.5) var(--ag-widget-container-horizontal-padding)}.ag-charts-data-group-item:where(:not(.ag-charts-format-sub-level-group,.ag-pill-select,.ag-select)){height:var(--ag-list-item-height)}.ag-charts-data-group-item:where(.ag-picker-field){margin-top:var(--ag-spacing)}.ag-charts-advanced-settings-top-level-group-container,.ag-charts-format-top-level-group-container{margin-left:calc(var(--ag-spacing)*2);padding:var(--ag-spacing)}.ag-charts-advanced-settings-top-level-group-item,.ag-charts-format-top-level-group-item{margin:var(--ag-spacing) 0}.ag-charts-format-sub-level-group-container{display:flex;flex-direction:column;padding:var(--ag-widget-vertical-spacing) 0}.ag-charts-settings-group-container{display:grid;grid-template-columns:60px 1fr 60px 1fr 60px;padding:var(--ag-spacing);row-gap:8px;:where(.ag-chart-mini-thumbnail:nth-child(3n+1)){grid-column:1}:where(.ag-chart-mini-thumbnail:nth-child(3n+2)){grid-column:3}:where(.ag-chart-mini-thumbnail:nth-child(3n+3)){grid-column:5}}.ag-chart-data-section,.ag-chart-format-section{display:flex;margin:0;:where(.ag-label:not(.ag-group-title-bar)){color:var(--ag-chart-menu-label-color)}:where(.ag-label-align-top .ag-label){margin-bottom:var(--ag-widget-vertical-spacing);margin-top:calc(var(--ag-widget-vertical-spacing)*.5)}:where(.ag-slider.ag-label-align-top .ag-label){margin-bottom:0}:where(label){display:inline-block}}.ag-chart-menu-panel{--ag-panel-background-color:var(--ag-chrome-background-color)}:where(.ag-ltr) .ag-chart-menu-panel{border-left:solid var(--ag-border-width) var(--ag-border-color)}:where(.ag-rtl) .ag-chart-menu-panel{border-right:solid var(--ag-border-width) var(--ag-border-color)}.ag-charts-data-group-title-bar,.ag-charts-format-top-level-group-title-bar,.ag-charts-settings-group-container,.ag-charts-settings-group-title-bar{border-top:none;font-weight:500;padding:0 calc(var(--ag-spacing)*1.5)}.ag-charts-format-sub-level-group-title-bar{background:none;font-weight:500;padding:var(--ag-widget-vertical-spacing) 0}.ag-chart-data-wrapper,.ag-chart-format-wrapper,.ag-charts-data-group-container,.ag-charts-data-group-title-bar,.ag-charts-format-sub-level-group,.ag-charts-format-sub-level-group-container>*,.ag-charts-format-sub-level-group-item:last-child,.ag-charts-format-top-level-group,.ag-charts-format-top-level-group-item,.ag-charts-format-top-level-group-title-bar,.ag-charts-settings-group-container,.ag-charts-settings-group-title-bar,:where(.ag-charts-format-top-level-group) .ag-charts-format-top-level-group-container{margin:0;padding:0}.ag-charts-data-group-title-bar,.ag-charts-format-top-level-group-title-bar,.ag-charts-settings-group-title-bar{padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding);position:relative}.ag-charts-data-group,.ag-charts-format-top-level-group{border-top:solid var(--ag-border-width) var(--ag-border-color)}:where(.ag-charts-data-group) .ag-charts-data-group-container,:where(.ag-charts-format-top-level-group) .ag-charts-format-top-level-group-container,:where(.ag-charts-settings-group) .ag-charts-settings-group-container{padding:0 var(--ag-widget-container-horizontal-padding)}.ag-charts-format-sub-level-group-container>*,.ag-charts-format-sub-level-no-header-group-container>*,.ag-charts-format-top-level-group-container>*{margin-bottom:var(--ag-widget-vertical-spacing)}.ag-charts-advanced-settings-top-level-group-container{margin:0}:where(.ag-charts-advanced-settings-top-level-group){.ag-charts-advanced-settings-top-level-group-container,.ag-charts-advanced-settings-top-level-group-title-bar{padding:0 var(--ag-widget-container-horizontal-padding)}}.ag-charts-advanced-settings-top-level-group-item{margin-bottom:0;margin-top:calc(var(--ag-widget-vertical-spacing)*2)}.ag-chart-settings-card-item.ag-not-selected:hover{opacity:.35}.ag-angle-select{align-items:center;display:flex}.ag-angle-select-wrapper{display:flex}.ag-angle-select-parent-circle{background-color:var(--ag-background-color);border:solid var(--ag-border-width) var(--ag-border-color);border-radius:12px;display:block;height:24px;position:relative;width:24px}.ag-angle-select-child-circle{background-color:var(--ag-foreground-color);border-radius:3px;height:6px;left:12px;margin-left:-3px;margin-top:-4px;position:absolute;top:4px;width:6px}.ag-slider-wrapper{display:flex;:where(.ag-input-field){flex:1 1 auto}}.ag-color-panel{display:flex;flex-direction:column;padding:var(--ag-spacing);text-align:center;width:100%}.ag-spectrum-color{cursor:default;flex:1 1 auto;overflow:visible;position:relative}.ag-spectrum-color,.ag-spectrum-fill{border-radius:var(--ag-border-radius)}.ag-spectrum-fill{inset:0;position:absolute}.ag-spectrum-val{background-image:linear-gradient(0deg,#000,hsla(20,42%,65%,0));cursor:pointer}.ag-spectrum-dragger{background:#000;border:var(--ag-color-picker-thumb-border-width) solid #fff;border-radius:var(--ag-color-picker-thumb-size);box-shadow:0 0 2px 0 rgba(0,0,0,.24);cursor:pointer;height:var(--ag-color-picker-thumb-size);pointer-events:none;position:absolute;width:var(--ag-color-picker-thumb-size)}.ag-spectrum-alpha,.ag-spectrum-hue{cursor:default}.ag-spectrum-hue-background{background:linear-gradient(270deg,red 3%,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red);height:100%;width:100%}.ag-spectrum-alpha-background{background:linear-gradient(to right,var(--ag-internal-spectrum-alpha-color-from),var(--ag-internal-spectrum-alpha-color-to)),url(\'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="4" height="4"><rect x="0" y="0" width="4" height="4" fill="%23fff"/><path d="M0 0H2V4H4V2H0Z" fill="%23b2b2b2"/></svg>\') 0 0 /4px 4px;height:100%;width:100%}.ag-spectrum-tool{cursor:pointer;height:var(--ag-color-picker-track-size);margin-bottom:10px;position:relative}.ag-spectrum-slider,.ag-spectrum-tool{border-radius:var(--ag-color-picker-thumb-size)}.ag-spectrum-slider{border:var(--ag-color-picker-thumb-border-width) solid #fff;box-shadow:0 1px 4px 0 rgba(0,0,0,.37);height:var(--ag-color-picker-thumb-size);margin-top:calc(var(--ag-color-picker-track-size)/2*-1 + var(--ag-color-picker-thumb-size)/2*-1);pointer-events:none;position:absolute;width:var(--ag-color-picker-thumb-size)}:where(.ag-spectrum-alpha) .ag-spectrum-slider{background:linear-gradient(to bottom,var(--ag-internal-spectrum-alpha-color),var(--ag-internal-spectrum-alpha-color)) var(--ag-background-color)}.ag-recent-colors{display:flex;gap:6px;margin:10px var(--ag-spacing) 2px}.ag-recent-color{border:solid var(--ag-border-width) var(--ag-border-color);cursor:pointer}.ag-angle-select[disabled]{opacity:.5;pointer-events:none}:where(.ag-ltr) .ag-angle-select-field,:where(.ag-ltr) .ag-slider-field{margin-right:calc(var(--ag-spacing)*2)}:where(.ag-rtl) .ag-angle-select-field,:where(.ag-rtl) .ag-slider-field{margin-left:calc(var(--ag-spacing)*2)}.ag-color-dialog{border-radius:5px}:where(.ag-color-picker){.ag-picker-field-wrapper{padding-left:var(--ag-spacing);padding-right:var(--ag-spacing)}.ag-picker-field-display{align-items:center;display:flex;flex-direction:row;min-height:var(--ag-list-item-height)}}:where(.ag-ltr) .ag-color-picker-color,:where(.ag-ltr) .ag-color-picker-value{margin-right:var(--ag-spacing)}:where(.ag-rtl) .ag-color-picker-color,:where(.ag-rtl) .ag-color-picker-value{margin-left:var(--ag-spacing)}.ag-spectrum-tools{padding:10px 0 0}.ag-spectrum-alpha-background,.ag-spectrum-hue-background{border-radius:var(--ag-color-picker-track-border-radius)}.ag-color-input-color,.ag-color-picker-color,.ag-recent-color{border-radius:var(--ag-color-picker-color-border-radius)}.ag-spectrum-sat{background-image:linear-gradient(90deg,#fff,hsla(20,42%,65%,0))}.ag-recent-color,.ag-spectrum-color,.ag-spectrum-slider{&:where(:not(:disabled,[readonly])):focus-visible{box-shadow:var(--ag-focus-shadow)}}.ag-color-input-color,.ag-color-picker-color{border:solid var(--ag-border-width) var(--ag-border-color);height:var(--ag-icon-size);width:var(--ag-icon-size)}:where(.ag-ltr) .ag-color-input .ag-input-field-input{padding-left:calc(var(--ag-icon-size) + var(--ag-spacing)*2)}:where(.ag-rtl) .ag-color-input .ag-input-field-input{padding-right:calc(var(--ag-icon-size) + var(--ag-spacing)*2)}:where(.ag-color-input) .ag-color-input-color{position:absolute}:where(.ag-ltr) :where(.ag-color-input) .ag-color-input-color{margin-left:var(--ag-spacing)}:where(.ag-rtl) :where(.ag-color-input) .ag-color-input-color{margin-right:var(--ag-spacing)}.ag-range-field{align-items:center;display:flex;:where(.ag-input-wrapper){height:100%}}.ag-range-field-input{-webkit-appearance:none;-moz-appearance:none;appearance:none;background:none;height:100%;overflow:visible;padding:0;width:100%;&:disabled{opacity:.5}}.ag-range-field-input{&::-webkit-slider-runnable-track{background-color:var(--ag-border-color);border-radius:1.5px;height:3px;margin:0;padding:0;width:100%}&::-webkit-slider-thumb{-webkit-appearance:none;appearance:none;background-color:var(--ag-background-color);border:solid var(--ag-border-width) var(--ag-border-color);border-radius:100%;height:var(--ag-icon-size);margin:0;padding:0;transform:translateY(calc(var(--ag-icon-size)*-.5 + 1.5px));width:var(--ag-icon-size)}&:focus::-webkit-slider-thumb{border-color:var(--ag-accent-color);box-shadow:var(--ag-focus-shadow)}&:active::-webkit-slider-runnable-track{background-color:var(--ag-accent-color)}}.ag-range-field-input{&::-moz-range-track{background-color:var(--ag-border-color);border-radius:1.5px;height:3px;margin:0;padding:0;width:100%}&::-moz-ag-range-thumb{-moz-appearance:none;appearance:none;background-color:var(--ag-background-color);border:solid var(--ag-border-width) var(--ag-border-color);border-radius:100%;height:var(--ag-icon-size);margin:0;padding:0;transform:translateY(calc(var(--ag-icon-size)*-.5 + 1.5px));width:var(--ag-icon-size)}&:focus::-moz-ag-range-thumb{border-color:var(--ag-accent-color);box-shadow:var(--ag-focus-shadow)}&:active::-moz-ag-range-track{background-color:var(--ag-accent-color)}}'],validate:()=>xoe({gridVersion:n5,chartsVersion:e.VERSION}),beans:[C9.bind(null,e),boe,Hee,Bee,Lee,zee,vee,Mee]}},Roe=[_Q,W8,I4,M6,m7,v7,x7,X4,Q4,M7,e6,Y8,B8,O8,G8,o9,r9,y6,q6,C3,B3,T6,z8,V7,X7,f9,w9],Poe="AllEnterprise",Toe={with:e=>({moduleName:Poe,version:n5,dependsOn:[...Roe,Aoe(e),h9(e)]}),moduleName:Poe,version:n5,dependsOn:Roe};const _oe=Kq.withParams({accentColor:"#138296",backgroundColor:"#ffffff",browserColorScheme:"light",columnBorder:!1,fontFamily:"Amazon Ember",foregroundColor:"#232F3E",headerBackgroundColor:"#F9FAFB",headerFontFamily:["Amazon Ember","BlinkMacSystemFont","Segoe UI","Roboto","Oxygen-Sans","Ubuntu","Cantarell","Helvetica Neue","sans-serif"],headerFontSize:14,headerFontWeight:600,headerTextColor:"#232F3E",oddRowBackgroundColor:"#F7F7F8",rowBorder:!1,sidePanelBorder:!1,spacing:8,wrapperBorder:!1,wrapperBorderRadius:4});function Moe(){}function Ioe(){}const Loe=/^(?:[\$A-Z_a-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CD\uA7D0\uA7D1\uA7D3\uA7D5-\uA7DC\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDD4A-\uDD65\uDD6F-\uDD85\uDE80-\uDEA9\uDEB0\uDEB1\uDEC2-\uDEC4\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7\uDFD1\uDFD3]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD1D]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDDD0-\uDDED\uDDF0\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])(?:[\$0-9A-Z_a-z\xAA\xB5\xB7\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05EF-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u07FD\u0800-\u082D\u0840-\u085B\u0860-\u086A\u0870-\u0887\u0889-\u088E\u0897-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u09FC\u09FE\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9-\u0AFF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B55-\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3C-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C5D\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDD\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1-\u0CF3\u0D00-\u0D0C\u0D0E-\u0D10\u0D12-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D81-\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECE\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1369-\u1371\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1715\u171F-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u180F-\u1819\u1820-\u1878\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1ABF-\u1ACE\u1B00-\u1B4C\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CD0-\u1CD2\u1CD4-\u1CFA\u1D00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099-\u309F\u30A1-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CD\uA7D0\uA7D1\uA7D3\uA7D5-\uA7DC\uA7F2-\uA827\uA82C\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF65-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD27\uDD30-\uDD39\uDD40-\uDD65\uDD69-\uDD6D\uDD6F-\uDD85\uDE80-\uDEA9\uDEAB\uDEAC\uDEB0\uDEB1\uDEC2-\uDEC4\uDEFC-\uDF1C\uDF27\uDF30-\uDF50\uDF70-\uDF85\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC00-\uDC46\uDC66-\uDC75\uDC7F-\uDCBA\uDCC2\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD44-\uDD47\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDC9-\uDDCC\uDDCE-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE3E-\uDE41\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3B-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7-\uDFC0\uDFC2\uDFC5\uDFC7-\uDFCA\uDFCC-\uDFD3\uDFE1\uDFE2]|\uD805[\uDC00-\uDC4A\uDC50-\uDC59\uDC5E-\uDC61\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB8\uDEC0-\uDEC9\uDED0-\uDEE3\uDF00-\uDF1A\uDF1D-\uDF2B\uDF30-\uDF39\uDF40-\uDF46]|\uD806[\uDC00-\uDC3A\uDCA0-\uDCE9\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD35\uDD37\uDD38\uDD3B-\uDD43\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD7\uDDDA-\uDDE1\uDDE3\uDDE4\uDE00-\uDE3E\uDE47\uDE50-\uDE99\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0\uDFF0-\uDFF9]|\uD807[\uDC00-\uDC08\uDC0A-\uDC36\uDC38-\uDC40\uDC50-\uDC59\uDC72-\uDC8F\uDC92-\uDCA7\uDCA9-\uDCB6\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD47\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD8E\uDD90\uDD91\uDD93-\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF6\uDF00-\uDF10\uDF12-\uDF3A\uDF3E-\uDF42\uDF50-\uDF5A\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC40-\uDC55\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD39]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDE70-\uDEBE\uDEC0-\uDEC9\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDD70-\uDD79\uDE40-\uDE7F\uDF00-\uDF4A\uDF4F-\uDF87\uDF8F-\uDF9F\uDFE0\uDFE1\uDFE3\uDFE4\uDFF0\uDFF1]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD833[\uDCF0-\uDCF9\uDF00-\uDF2D\uDF30-\uDF46]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDC30-\uDC6D\uDC8F\uDD00-\uDD2C\uDD30-\uDD3D\uDD40-\uDD49\uDD4E\uDE90-\uDEAE\uDEC0-\uDEF9]|\uD839[\uDCD0-\uDCF9\uDDD0-\uDDFA\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6\uDD00-\uDD4B\uDD50-\uDD59]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF]|\uDB40[\uDD00-\uDDEF])*$/,Noe=/^(?:[\$A-Z_a-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CD\uA7D0\uA7D1\uA7D3\uA7D5-\uA7DC\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDD4A-\uDD65\uDD6F-\uDD85\uDE80-\uDEA9\uDEB0\uDEB1\uDEC2-\uDEC4\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7\uDFD1\uDFD3]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD1D]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDDD0-\uDDED\uDDF0\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])(?:[\$\x2D0-9A-Z_a-z\xAA\xB5\xB7\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05EF-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u07FD\u0800-\u082D\u0840-\u085B\u0860-\u086A\u0870-\u0887\u0889-\u088E\u0897-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u09FC\u09FE\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9-\u0AFF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B55-\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3C-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C5D\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDD\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1-\u0CF3\u0D00-\u0D0C\u0D0E-\u0D10\u0D12-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D81-\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECE\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1369-\u1371\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1715\u171F-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u180F-\u1819\u1820-\u1878\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1ABF-\u1ACE\u1B00-\u1B4C\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CD0-\u1CD2\u1CD4-\u1CFA\u1D00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099-\u309F\u30A1-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CD\uA7D0\uA7D1\uA7D3\uA7D5-\uA7DC\uA7F2-\uA827\uA82C\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF65-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD27\uDD30-\uDD39\uDD40-\uDD65\uDD69-\uDD6D\uDD6F-\uDD85\uDE80-\uDEA9\uDEAB\uDEAC\uDEB0\uDEB1\uDEC2-\uDEC4\uDEFC-\uDF1C\uDF27\uDF30-\uDF50\uDF70-\uDF85\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC00-\uDC46\uDC66-\uDC75\uDC7F-\uDCBA\uDCC2\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD44-\uDD47\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDC9-\uDDCC\uDDCE-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE3E-\uDE41\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3B-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7-\uDFC0\uDFC2\uDFC5\uDFC7-\uDFCA\uDFCC-\uDFD3\uDFE1\uDFE2]|\uD805[\uDC00-\uDC4A\uDC50-\uDC59\uDC5E-\uDC61\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB8\uDEC0-\uDEC9\uDED0-\uDEE3\uDF00-\uDF1A\uDF1D-\uDF2B\uDF30-\uDF39\uDF40-\uDF46]|\uD806[\uDC00-\uDC3A\uDCA0-\uDCE9\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD35\uDD37\uDD38\uDD3B-\uDD43\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD7\uDDDA-\uDDE1\uDDE3\uDDE4\uDE00-\uDE3E\uDE47\uDE50-\uDE99\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0\uDFF0-\uDFF9]|\uD807[\uDC00-\uDC08\uDC0A-\uDC36\uDC38-\uDC40\uDC50-\uDC59\uDC72-\uDC8F\uDC92-\uDCA7\uDCA9-\uDCB6\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD47\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD8E\uDD90\uDD91\uDD93-\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF6\uDF00-\uDF10\uDF12-\uDF3A\uDF3E-\uDF42\uDF50-\uDF5A\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC40-\uDC55\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD39]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDE70-\uDEBE\uDEC0-\uDEC9\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDD70-\uDD79\uDE40-\uDE7F\uDF00-\uDF4A\uDF4F-\uDF87\uDF8F-\uDF9F\uDFE0\uDFE1\uDFE3\uDFE4\uDFF0\uDFF1]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD833[\uDCF0-\uDCF9\uDF00-\uDF2D\uDF30-\uDF46]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDC30-\uDC6D\uDC8F\uDD00-\uDD2C\uDD30-\uDD3D\uDD40-\uDD49\uDD4E\uDE90-\uDEAE\uDEC0-\uDEF9]|\uD839[\uDCD0-\uDCF9\uDDD0-\uDDFA\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6\uDD00-\uDD4B\uDD50-\uDD59]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF]|\uDB40[\uDD00-\uDDEF])*$/,Boe={};function Ooe(e,t){return((t||Boe).jsx?Noe:Loe).test(e)}const Goe=/[ \t\n\f\r]/g;function zoe(e){return""===e.replace(Goe,"")}class Voe{constructor(e,t,n){this.normal=t,this.property=e,n&&(this.space=n)}}function Hoe(e,t){const n={},i={};for(const o of e)Object.assign(n,o.property),Object.assign(i,o.normal);return new Voe(n,i,t)}function joe(e){return e.toLowerCase()}Voe.prototype.normal={},Voe.prototype.property={},Voe.prototype.space=void 0;class Woe{constructor(e,t){this.attribute=t,this.property=e}}Woe.prototype.attribute="",Woe.prototype.booleanish=!1,Woe.prototype.boolean=!1,Woe.prototype.commaOrSpaceSeparated=!1,Woe.prototype.commaSeparated=!1,Woe.prototype.defined=!1,Woe.prototype.mustUseProperty=!1,Woe.prototype.number=!1,Woe.prototype.overloadedBoolean=!1,Woe.prototype.property="",Woe.prototype.spaceSeparated=!1,Woe.prototype.space=void 0;let Uoe=0;const Koe=Joe(),qoe=Joe(),Yoe=Joe(),Zoe=Joe(),$oe=Joe(),Xoe=Joe(),Qoe=Joe();function Joe(){return 2**++Uoe}const ere=Object.keys(e);class tre extends Woe{constructor(t,n,i,o){let r=-1;if(super(t,n),nre(this,"space",o),"number"===typeof i)for(;++r<ere.length;){const t=ere[r];nre(this,ere[r],(i&e[t])===e[t])}}}function nre(e,t,n){n&&(e[t]=n)}function ire(e){const t={},n={};for(const[i,o]of Object.entries(e.properties)){const r=new tre(i,e.transform(e.attributes||{},i),o,e.space);e.mustUseProperty&&e.mustUseProperty.includes(i)&&(r.mustUseProperty=!0),t[i]=r,n[joe(i)]=i,n[joe(r.attribute)]=i}return new Voe(t,n,e.space)}tre.prototype.defined=!0;const ore=ire({properties:{ariaActiveDescendant:null,ariaAtomic:qoe,ariaAutoComplete:null,ariaBusy:qoe,ariaChecked:qoe,ariaColCount:Zoe,ariaColIndex:Zoe,ariaColSpan:Zoe,ariaControls:$oe,ariaCurrent:null,ariaDescribedBy:$oe,ariaDetails:null,ariaDisabled:qoe,ariaDropEffect:$oe,ariaErrorMessage:null,ariaExpanded:qoe,ariaFlowTo:$oe,ariaGrabbed:qoe,ariaHasPopup:null,ariaHidden:qoe,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:$oe,ariaLevel:Zoe,ariaLive:null,ariaModal:qoe,ariaMultiLine:qoe,ariaMultiSelectable:qoe,ariaOrientation:null,ariaOwns:$oe,ariaPlaceholder:null,ariaPosInSet:Zoe,ariaPressed:qoe,ariaReadOnly:qoe,ariaRelevant:null,ariaRequired:qoe,ariaRoleDescription:$oe,ariaRowCount:Zoe,ariaRowIndex:Zoe,ariaRowSpan:Zoe,ariaSelected:qoe,ariaSetSize:Zoe,ariaSort:null,ariaValueMax:Zoe,ariaValueMin:Zoe,ariaValueNow:Zoe,ariaValueText:null,role:null},transform:(e,t)=>"role"===t?t:"aria-"+t.slice(4).toLowerCase()});function rre(e,t){return t in e?e[t]:t}function sre(e,t){return rre(e,t.toLowerCase())}const are=ire({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Xoe,acceptCharset:$oe,accessKey:$oe,action:null,allow:null,allowFullScreen:Koe,allowPaymentRequest:Koe,allowUserMedia:Koe,alt:null,as:null,async:Koe,autoCapitalize:null,autoComplete:$oe,autoFocus:Koe,autoPlay:Koe,blocking:$oe,capture:null,charSet:null,checked:Koe,cite:null,className:$oe,cols:Zoe,colSpan:null,content:null,contentEditable:qoe,controls:Koe,controlsList:$oe,coords:Zoe|Xoe,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Koe,defer:Koe,dir:null,dirName:null,disabled:Koe,download:Yoe,draggable:qoe,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Koe,formTarget:null,headers:$oe,height:Zoe,hidden:Yoe,high:Zoe,href:null,hrefLang:null,htmlFor:$oe,httpEquiv:$oe,id:null,imageSizes:null,imageSrcSet:null,inert:Koe,inputMode:null,integrity:null,is:null,isMap:Koe,itemId:null,itemProp:$oe,itemRef:$oe,itemScope:Koe,itemType:$oe,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Koe,low:Zoe,manifest:null,max:null,maxLength:Zoe,media:null,method:null,min:null,minLength:Zoe,multiple:Koe,muted:Koe,name:null,nonce:null,noModule:Koe,noValidate:Koe,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Koe,optimum:Zoe,pattern:null,ping:$oe,placeholder:null,playsInline:Koe,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Koe,referrerPolicy:null,rel:$oe,required:Koe,reversed:Koe,rows:Zoe,rowSpan:Zoe,sandbox:$oe,scope:null,scoped:Koe,seamless:Koe,selected:Koe,shadowRootClonable:Koe,shadowRootDelegatesFocus:Koe,shadowRootMode:null,shape:null,size:Zoe,sizes:null,slot:null,span:Zoe,spellCheck:qoe,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Zoe,step:null,style:null,tabIndex:Zoe,target:null,title:null,translate:null,type:null,typeMustMatch:Koe,useMap:null,value:qoe,width:Zoe,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:$oe,axis:null,background:null,bgColor:null,border:Zoe,borderColor:null,bottomMargin:Zoe,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Koe,declare:Koe,event:null,face:null,frame:null,frameBorder:null,hSpace:Zoe,leftMargin:Zoe,link:null,longDesc:null,lowSrc:null,marginHeight:Zoe,marginWidth:Zoe,noResize:Koe,noHref:Koe,noShade:Koe,noWrap:Koe,object:null,profile:null,prompt:null,rev:null,rightMargin:Zoe,rules:null,scheme:null,scrolling:qoe,standby:null,summary:null,text:null,topMargin:Zoe,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Zoe,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Koe,disableRemotePlayback:Koe,prefix:null,property:null,results:Zoe,security:null,unselectable:null},space:"html",transform:sre}),lre=ire({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Qoe,accentHeight:Zoe,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Zoe,amplitude:Zoe,arabicForm:null,ascent:Zoe,attributeName:null,attributeType:null,azimuth:Zoe,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Zoe,by:null,calcMode:null,capHeight:Zoe,className:$oe,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Zoe,diffuseConstant:Zoe,direction:null,display:null,dur:null,divisor:Zoe,dominantBaseline:null,download:Koe,dx:null,dy:null,edgeMode:null,editable:null,elevation:Zoe,enableBackground:null,end:null,event:null,exponent:Zoe,externalResourcesRequired:null,fill:null,fillOpacity:Zoe,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Xoe,g2:Xoe,glyphName:Xoe,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Zoe,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Zoe,horizOriginX:Zoe,horizOriginY:Zoe,id:null,ideographic:Zoe,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Zoe,k:Zoe,k1:Zoe,k2:Zoe,k3:Zoe,k4:Zoe,kernelMatrix:Qoe,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Zoe,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Zoe,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Zoe,overlineThickness:Zoe,paintOrder:null,panose1:null,path:null,pathLength:Zoe,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:$oe,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Zoe,pointsAtY:Zoe,pointsAtZ:Zoe,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Qoe,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Qoe,rev:Qoe,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Qoe,requiredFeatures:Qoe,requiredFonts:Qoe,requiredFormats:Qoe,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Zoe,specularExponent:Zoe,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Zoe,strikethroughThickness:Zoe,string:null,stroke:null,strokeDashArray:Qoe,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Zoe,strokeOpacity:Zoe,strokeWidth:null,style:null,surfaceScale:Zoe,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Qoe,tabIndex:Zoe,tableValues:null,target:null,targetX:Zoe,targetY:Zoe,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Qoe,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Zoe,underlineThickness:Zoe,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Zoe,values:null,vAlphabetic:Zoe,vMathematical:Zoe,vectorEffect:null,vHanging:Zoe,vIdeographic:Zoe,version:null,vertAdvY:Zoe,vertOriginX:Zoe,vertOriginY:Zoe,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Zoe,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:rre}),ure=ire({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform:(e,t)=>"xlink:"+t.slice(5).toLowerCase()}),cre=ire({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:sre}),dre=ire({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform:(e,t)=>"xml:"+t.slice(3).toLowerCase()}),hre=Hoe([ore,are,ure,cre,dre],"html"),pre=Hoe([ore,lre,ure,cre,dre],"svg"),gre=/[A-Z]/g,mre=/-[a-z]/g,vre=/^data[-\w.:]+$/i;function fre(e){return"-"+e.toLowerCase()}function wre(e){return e.charAt(1).toUpperCase()}const Cre={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"};var bre=n(294);const yre=xre("end"),Sre=xre("start");function xre(e){return function(t){const n=t&&t.position&&t.position[e]||{};if("number"===typeof n.line&&n.line>0&&"number"===typeof n.column&&n.column>0)return{line:n.line,column:n.column,offset:"number"===typeof n.offset&&n.offset>-1?n.offset:void 0}}}function Dre(e){return e&&"object"===typeof e?"position"in e||"type"in e?Fre(e.position):"start"in e||"end"in e?Fre(e):"line"in e||"column"in e?Ere(e):"":""}function Ere(e){return kre(e&&e.line)+":"+kre(e&&e.column)}function Fre(e){return Ere(e&&e.start)+"-"+Ere(e&&e.end)}function kre(e){return e&&"number"===typeof e?e:1}class Are extends Error{constructor(e,t,n){super(),"string"===typeof t&&(n=t,t=void 0);let i="",o={},r=!1;if(t&&(o="line"in t&&"column"in t||"start"in t&&"end"in t?{place:t}:"type"in t?{ancestors:[t],place:t.position}:d({},t)),"string"===typeof e?i=e:!o.cause&&e&&(r=!0,i=e.message,o.cause=e),!o.ruleId&&!o.source&&"string"===typeof n){const e=n.indexOf(":");-1===e?o.ruleId=n:(o.source=n.slice(0,e),o.ruleId=n.slice(e+1))}if(!o.place&&o.ancestors&&o.ancestors){const e=o.ancestors[o.ancestors.length-1];e&&(o.place=e.position)}const s=o.place&&"start"in o.place?o.place.start:o.place;this.ancestors=o.ancestors||void 0,this.cause=o.cause||void 0,this.column=s?s.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=s?s.line:void 0,this.name=Dre(o.place)||"1:1",this.place=o.place||void 0,this.reason=this.message,this.ruleId=o.ruleId||void 0,this.source=o.source||void 0,this.stack=r&&o.cause&&"string"===typeof o.cause.stack?o.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Are.prototype.file="",Are.prototype.name="",Are.prototype.reason="",Are.prototype.message="",Are.prototype.stack="",Are.prototype.column=void 0,Are.prototype.line=void 0,Are.prototype.ancestors=void 0,Are.prototype.cause=void 0,Are.prototype.fatal=void 0,Are.prototype.place=void 0,Are.prototype.ruleId=void 0,Are.prototype.source=void 0;const Rre={}.hasOwnProperty,Pre=new Map,Tre=/[A-Z]/g,_re=new Set(["table","tbody","thead","tfoot","tr"]),Mre=new Set(["td","th"]),Ire="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function Lre(e,t){if(!t||void 0===t.Fragment)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let i;if(t.development){if("function"!==typeof t.jsxDEV)throw new TypeError("Expected `jsxDEV` in options when `development: true`");i=function(e,t){return n;function n(n,i,o,r){const s=Array.isArray(o.children),a=Sre(n);return t(i,o,r,s,{columnNumber:a?a.column-1:void 0,fileName:e,lineNumber:a?a.line:void 0},void 0)}}(n,t.jsxDEV)}else{if("function"!==typeof t.jsx)throw new TypeError("Expected `jsx` in production options");if("function"!==typeof t.jsxs)throw new TypeError("Expected `jsxs` in production options");i=function(e,t,n){return i;function i(e,i,o,r){const s=Array.isArray(o.children)?n:t;return r?s(i,o,r):s(i,o)}}(0,t.jsx,t.jsxs)}const o={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:i,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:!1!==t.passKeys,passNode:t.passNode||!1,schema:"svg"===t.space?pre:hre,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:!1!==t.tableCellAlignToStyle},r=Nre(o,e,void 0);return r&&"string"!==typeof r?r:o.create(e,o.Fragment,{children:r||void 0},void 0)}function Nre(e,t,n){return"element"===t.type?function(e,t,n){const i=e.schema;let o=i;"svg"===t.tagName.toLowerCase()&&"html"===i.space&&(o=pre,e.schema=o);e.ancestors.push(t);const r=Vre(e,t.tagName,!1),s=function(e,t){const n={};let i,o;for(o in t.properties)if("children"!==o&&Rre.call(t.properties,o)){const r=zre(e,o,t.properties[o]);if(r){const[o,s]=r;e.tableCellAlignToStyle&&"align"===o&&"string"===typeof s&&Mre.has(t.tagName)?i=s:n[o]=s}}if(i){(n.style||(n.style={}))["css"===e.stylePropertyNameCase?"text-align":"textAlign"]=i}return n}(e,t);let a=Gre(e,t);_re.has(t.tagName)&&(a=a.filter(function(e){return"string"!==typeof e||!("object"===typeof(t=e)?"text"===t.type&&zoe(t.value):zoe(t));var t}));return Bre(e,s,r,t),Ore(s,a),e.ancestors.pop(),e.schema=i,e.create(t,r,s,n)}(e,t,n):"mdxFlowExpression"===t.type||"mdxTextExpression"===t.type?function(e,t){if(t.data&&t.data.estree&&e.evaluater){const n=t.data.estree.body[0];return n.type,e.evaluater.evaluateExpression(n.expression)}Hre(e,t.position)}(e,t):"mdxJsxFlowElement"===t.type||"mdxJsxTextElement"===t.type?function(e,t,n){const i=e.schema;let o=i;"svg"===t.name&&"html"===i.space&&(o=pre,e.schema=o);e.ancestors.push(t);const r=null===t.name?e.Fragment:Vre(e,t.name,!0),s=function(e,t){const n={};for(const i of t.attributes)if("mdxJsxExpressionAttribute"===i.type)if(i.data&&i.data.estree&&e.evaluater){const t=i.data.estree.body[0];Moe(t.type);const o=t.expression;Moe(o.type);const r=o.properties[0];Moe(r.type),Object.assign(n,e.evaluater.evaluateExpression(r.argument))}else Hre(e,t.position);else{const o=i.name;let r;if(i.value&&"object"===typeof i.value)if(i.value.data&&i.value.data.estree&&e.evaluater){const t=i.value.data.estree.body[0];Moe(t.type),r=e.evaluater.evaluateExpression(t.expression)}else Hre(e,t.position);else r=null===i.value||i.value;n[o]=r}return n}(e,t),a=Gre(e,t);return Bre(e,s,r,t),Ore(s,a),e.ancestors.pop(),e.schema=i,e.create(t,r,s,n)}(e,t,n):"mdxjsEsm"===t.type?function(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);Hre(e,t.position)}(e,t):"root"===t.type?function(e,t,n){const i={};return Ore(i,Gre(e,t)),e.create(t,e.Fragment,i,n)}(e,t,n):"text"===t.type?function(e,t){return t.value}(0,t):void 0}function Bre(e,t,n,i){"string"!==typeof n&&n!==e.Fragment&&e.passNode&&(t.node=i)}function Ore(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function Gre(e,t){const n=[];let i=-1;const o=e.passKeys?new Map:Pre;for(;++i<t.children.length;){const r=t.children[i];let s;if(e.passKeys){const e="element"===r.type?r.tagName:"mdxJsxFlowElement"===r.type||"mdxJsxTextElement"===r.type?r.name:void 0;if(e){const t=o.get(e)||0;s=e+"-"+t,o.set(e,t+1)}}const a=Nre(e,r,s);void 0!==a&&n.push(a)}return n}function zre(e,t,n){const i=function(e,t){const n=joe(t);let i=t,o=Woe;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&"data"===n.slice(0,4)&&vre.test(t)){if("-"===t.charAt(4)){const e=t.slice(5).replace(mre,wre);i="data"+e.charAt(0).toUpperCase()+e.slice(1)}else{const e=t.slice(4);if(!mre.test(e)){let n=e.replace(gre,fre);"-"!==n.charAt(0)&&(n="-"+n),t="data"+n}}o=tre}return new o(i,t)}(e.schema,t);if(!(null===n||void 0===n||"number"===typeof n&&Number.isNaN(n))){if(Array.isArray(n)&&(n=i.commaSeparated?function(e,t){const n=t||{};return(""===e[e.length-1]?[...e,""]:e).join((n.padRight?" ":"")+","+(!1===n.padLeft?"":" ")).trim()}(n):n.join(" ").trim()),"style"===i.property){let t="object"===typeof n?n:function(e,t){try{return bre(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const t=n,i=new Are("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:t,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=e.filePath||void 0,i.url=Ire+"#cannot-parse-style-attribute",i}}(e,String(n));return"css"===e.stylePropertyNameCase&&(t=function(e){const t={};let n;for(n in e)Rre.call(e,n)&&(t[jre(n)]=e[n]);return t}(t)),["style",t]}return["react"===e.elementAttributeNameCase&&i.space?Cre[i.property]||i.property:i.attribute,n]}}function Vre(e,t,n){let i;if(n)if(t.includes(".")){const e=t.split(".");let n,o=-1;for(;++o<e.length;){const t=Ooe(e[o])?{type:"Identifier",name:e[o]}:{type:"Literal",value:e[o]};n=n?{type:"MemberExpression",object:n,property:t,computed:Boolean(o&&"Literal"===t.type),optional:!1}:t}i=n}else i=Ooe(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};else i={type:"Literal",value:t};if("Literal"===i.type){const t=i.value;return Rre.call(e.components,t)?e.components[t]:t}if(e.evaluater)return e.evaluater.evaluateExpression(i);Hre(e)}function Hre(e,t){const n=new Are("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=Ire+"#cannot-handle-mdx-estrees-without-createevaluater",n}function jre(e){let t=e.replace(Tre,Wre);return"ms-"===t.slice(0,3)&&(t="-"+t),t}function Wre(e){return"-"+e.toLowerCase()}const Ure={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]};var Kre=n(579);const qre={};function Yre(e,t,n){if(function(e){return Boolean(e&&"object"===typeof e)}(e)){if("value"in e)return"html"!==e.type||n?e.value:"";if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return Zre(e.children,t,n)}return Array.isArray(e)?Zre(e,t,n):""}function Zre(e,t,n){const i=[];let o=-1;for(;++o<e.length;)i[o]=Yre(e[o],t,n);return i.join("")}function $re(e,t,n,i){const o=e.length;let r,s=0;if(t=t<0?-t>o?0:o+t:t>o?o:t,n=n>0?n:0,i.length<1e4)r=Array.from(i),r.unshift(t,n),e.splice(...r);else for(n&&e.splice(t,n);s<i.length;)r=i.slice(s,s+1e4),r.unshift(t,0),e.splice(...r),s+=1e4,t+=1e4}function Xre(e,t){return e.length>0?($re(e,e.length,0,t),e):t}class Qre{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,t){const n=null===t||void 0===t?Number.POSITIVE_INFINITY:t;return n<this.left.length?this.left.slice(e,n):e>this.left.length?this.right.slice(this.right.length-n+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-n+this.left.length).reverse())}splice(e,t,n){const i=t||0;this.setCursor(Math.trunc(e));const o=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return n&&Jre(this.left,n),o.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),Jre(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),Jre(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&0===this.right.length||e<0&&0===this.left.length))if(e<this.left.length){const t=this.left.splice(e,Number.POSITIVE_INFINITY);Jre(this.right,t.reverse())}else{const t=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);Jre(this.left,t.reverse())}}}function Jre(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function ese(e){const t={};let n,i,o,r,s,a,l,u=-1;const c=new Qre(e);for(;++u<c.length;){for(;u in t;)u=t[u];if(n=c.get(u),u&&"chunkFlow"===n[1].type&&"listItemPrefix"===c.get(u-1)[1].type&&(a=n[1]._tokenizer.events,o=0,o<a.length&&"lineEndingBlank"===a[o][1].type&&(o+=2),o<a.length&&"content"===a[o][1].type))for(;++o<a.length&&"content"!==a[o][1].type;)"chunkText"===a[o][1].type&&(a[o][1]._isInFirstContentOfListItem=!0,o++);if("enter"===n[0])n[1].contentType&&(Object.assign(t,tse(c,u)),u=t[u],l=!0);else if(n[1]._container){for(o=u,i=void 0;o--;)if(r=c.get(o),"lineEnding"===r[1].type||"lineEndingBlank"===r[1].type)"enter"===r[0]&&(i&&(c.get(i)[1].type="lineEndingBlank"),r[1].type="lineEnding",i=o);else if("linePrefix"!==r[1].type&&"listItemIndent"!==r[1].type)break;i&&(n[1].end=d({},c.get(i)[1].start),s=c.slice(i,u),s.unshift(n),c.splice(i,u-i+1,s))}}return $re(e,0,Number.POSITIVE_INFINITY,c.slice(0)),!l}function tse(e,t){const n=e.get(t)[1],i=e.get(t)[2];let o=t-1;const r=[];let s=n._tokenizer;s||(s=i.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(s._contentTypeTextTrailing=!0));const a=s.events,l=[],u={};let c,d,h=-1,p=n,g=0,m=0;const v=[m];for(;p;){for(;e.get(++o)[1]!==p;);r.push(o),p._tokenizer||(c=i.sliceStream(p),p.next||c.push(null),d&&s.defineSkip(p.start),p._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=!0),s.write(c),p._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=void 0)),d=p,p=p.next}for(p=n;++h<a.length;)"exit"===a[h][0]&&"enter"===a[h-1][0]&&a[h][1].type===a[h-1][1].type&&a[h][1].start.line!==a[h][1].end.line&&(m=h+1,v.push(m),p._tokenizer=void 0,p.previous=void 0,p=p.next);for(s.events=[],p?(p._tokenizer=void 0,p.previous=void 0):v.pop(),h=v.length;h--;){const t=a.slice(v[h],v[h+1]),n=r.pop();l.push([n,n+t.length-1]),e.splice(n,2,t)}for(l.reverse(),h=-1;++h<l.length;)u[g+l[h][0]]=g+l[h][1],g+=l[h][1]-l[h][0]-1;return u}const nse={}.hasOwnProperty;function ise(e,t){let n;for(n in t){const i=(nse.call(e,n)?e[n]:void 0)||(e[n]={}),o=t[n];let r;if(o)for(r in o){nse.call(i,r)||(i[r]=[]);const e=o[r];ose(i[r],Array.isArray(e)?e:e?[e]:[])}}}function ose(e,t){let n=-1;const i=[];for(;++n<t.length;)("after"===t[n].add?e:i).push(t[n]);$re(e,0,0,i)}const rse=fse(/[A-Za-z]/),sse=fse(/[\dA-Za-z]/),ase=fse(/[#-'*+\--9=?A-Z^-~]/);function lse(e){return null!==e&&(e<32||127===e)}const use=fse(/\d/),cse=fse(/[\dA-Fa-f]/),dse=fse(/[!-/:-@[-`{-~]/);function hse(e){return null!==e&&e<-2}function pse(e){return null!==e&&(e<0||32===e)}function gse(e){return-2===e||-1===e||32===e}const mse=fse(/(?:[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B4E\u1B4F\u1B5A-\u1B60\u1B7D-\u1B7F\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDD6E\uDEAD\uDF55-\uDF59\uDF86-\uDF89]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9\uDFD4\uDFD5\uDFD7\uDFD8]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDEB9\uDF3C-\uDF3E]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2\uDF00-\uDF09\uDFE1]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDF43-\uDF4F\uDFFF]|\uD809[\uDC70-\uDC74]|\uD80B[\uDFF1\uDFF2]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDD6D-\uDD6F\uDE97-\uDE9A\uDFE2]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD839\uDDFF|\uD83A[\uDD5E\uDD5F])|(?:[\$\+<->\^`\|~\xA2-\xA6\xA8\xA9\xAC\xAE-\xB1\xB4\xB8\xD7\xF7\u02C2-\u02C5\u02D2-\u02DF\u02E5-\u02EB\u02ED\u02EF-\u02FF\u0375\u0384\u0385\u03F6\u0482\u058D-\u058F\u0606-\u0608\u060B\u060E\u060F\u06DE\u06E9\u06FD\u06FE\u07F6\u07FE\u07FF\u0888\u09F2\u09F3\u09FA\u09FB\u0AF1\u0B70\u0BF3-\u0BFA\u0C7F\u0D4F\u0D79\u0E3F\u0F01-\u0F03\u0F13\u0F15-\u0F17\u0F1A-\u0F1F\u0F34\u0F36\u0F38\u0FBE-\u0FC5\u0FC7-\u0FCC\u0FCE\u0FCF\u0FD5-\u0FD8\u109E\u109F\u1390-\u1399\u166D\u17DB\u1940\u19DE-\u19FF\u1B61-\u1B6A\u1B74-\u1B7C\u1FBD\u1FBF-\u1FC1\u1FCD-\u1FCF\u1FDD-\u1FDF\u1FED-\u1FEF\u1FFD\u1FFE\u2044\u2052\u207A-\u207C\u208A-\u208C\u20A0-\u20C0\u2100\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u214F\u218A\u218B\u2190-\u2307\u230C-\u2328\u232B-\u2429\u2440-\u244A\u249C-\u24E9\u2500-\u2767\u2794-\u27C4\u27C7-\u27E5\u27F0-\u2982\u2999-\u29D7\u29DC-\u29FB\u29FE-\u2B73\u2B76-\u2B95\u2B97-\u2BFF\u2CE5-\u2CEA\u2E50\u2E51\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFF\u3004\u3012\u3013\u3020\u3036\u3037\u303E\u303F\u309B\u309C\u3190\u3191\u3196-\u319F\u31C0-\u31E5\u31EF\u3200-\u321E\u322A-\u3247\u3250\u3260-\u327F\u328A-\u32B0\u32C0-\u33FF\u4DC0-\u4DFF\uA490-\uA4C6\uA700-\uA716\uA720\uA721\uA789\uA78A\uA828-\uA82B\uA836-\uA839\uAA77-\uAA79\uAB5B\uAB6A\uAB6B\uFB29\uFBB2-\uFBC2\uFD40-\uFD4F\uFDCF\uFDFC-\uFDFF\uFE62\uFE64-\uFE66\uFE69\uFF04\uFF0B\uFF1C-\uFF1E\uFF3E\uFF40\uFF5C\uFF5E\uFFE0-\uFFE6\uFFE8-\uFFEE\uFFFC\uFFFD]|\uD800[\uDD37-\uDD3F\uDD79-\uDD89\uDD8C-\uDD8E\uDD90-\uDD9C\uDDA0\uDDD0-\uDDFC]|\uD802[\uDC77\uDC78\uDEC8]|\uD803[\uDD8E\uDD8F]|\uD805\uDF3F|\uD807[\uDFD5-\uDFF1]|\uD81A[\uDF3C-\uDF3F\uDF45]|\uD82F\uDC9C|\uD833[\uDC00-\uDCEF\uDD00-\uDEB3\uDF50-\uDFC3]|\uD834[\uDC00-\uDCF5\uDD00-\uDD26\uDD29-\uDD64\uDD6A-\uDD6C\uDD83\uDD84\uDD8C-\uDDA9\uDDAE-\uDDEA\uDE00-\uDE41\uDE45\uDF00-\uDF56]|\uD835[\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3]|\uD836[\uDC00-\uDDFF\uDE37-\uDE3A\uDE6D-\uDE74\uDE76-\uDE83\uDE85\uDE86]|\uD838[\uDD4F\uDEFF]|\uD83B[\uDCAC\uDCB0\uDD2E\uDEF0\uDEF1]|\uD83C[\uDC00-\uDC2B\uDC30-\uDC93\uDCA0-\uDCAE\uDCB1-\uDCBF\uDCC1-\uDCCF\uDCD1-\uDCF5\uDD0D-\uDDAD\uDDE6-\uDE02\uDE10-\uDE3B\uDE40-\uDE48\uDE50\uDE51\uDE60-\uDE65\uDF00-\uDFFF]|\uD83D[\uDC00-\uDED7\uDEDC-\uDEEC\uDEF0-\uDEFC\uDF00-\uDF76\uDF7B-\uDFD9\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDC00-\uDC0B\uDC10-\uDC47\uDC50-\uDC59\uDC60-\uDC87\uDC90-\uDCAD\uDCB0-\uDCBB\uDCC0\uDCC1\uDD00-\uDE53\uDE60-\uDE6D\uDE70-\uDE7C\uDE80-\uDE89\uDE8F-\uDEC6\uDECE-\uDEDC\uDEDF-\uDEE9\uDEF0-\uDEF8\uDF00-\uDF92\uDF94-\uDFEF])/),vse=fse(/\s/);function fse(e){return function(t){return null!==t&&t>-1&&e.test(String.fromCharCode(t))}}function wse(e,t,n,i){const o=i?i-1:Number.POSITIVE_INFINITY;let r=0;return function(i){if(gse(i))return e.enter(n),s(i);return t(i)};function s(i){return gse(i)&&r++<o?(e.consume(i),s):(e.exit(n),t(i))}}const Cse={tokenize:function(e){const t=e.attempt(this.parser.constructs.contentInitial,function(n){if(null===n)return void e.consume(n);return e.enter("lineEnding"),e.consume(n),e.exit("lineEnding"),wse(e,t,"linePrefix")},function(t){return e.enter("paragraph"),i(t)});let n;return t;function i(t){const i=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=i),n=i,o(t)}function o(t){return null===t?(e.exit("chunkText"),e.exit("paragraph"),void e.consume(t)):hse(t)?(e.consume(t),e.exit("chunkText"),i):(e.consume(t),o)}}};const bse={tokenize:function(e){const t=this,n=[];let i,o,r,s=0;return a;function a(i){if(s<n.length){const o=n[s];return t.containerState=o[1],e.attempt(o[0].continuation,l,u)(i)}return u(i)}function l(e){if(s++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&C();const n=t.events.length;let o,r=n;for(;r--;)if("exit"===t.events[r][0]&&"chunkFlow"===t.events[r][1].type){o=t.events[r][1].end;break}w(s);let a=n;for(;a<t.events.length;)t.events[a][1].end=d({},o),a++;return $re(t.events,r+1,0,t.events.slice(n)),t.events.length=a,u(e)}return a(e)}function u(o){if(s===n.length){if(!i)return p(o);if(i.currentConstruct&&i.currentConstruct.concrete)return m(o);t.interrupt=Boolean(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(yse,c,h)(o)}function c(e){return i&&C(),w(s),p(e)}function h(e){return t.parser.lazy[t.now().line]=s!==n.length,r=t.now().offset,m(e)}function p(n){return t.containerState={},e.attempt(yse,g,m)(n)}function g(e){return s++,n.push([t.currentConstruct,t.containerState]),p(e)}function m(n){return null===n?(i&&C(),w(0),void e.consume(n)):(i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:o}),v(n))}function v(n){return null===n?(f(e.exit("chunkFlow"),!0),w(0),void e.consume(n)):hse(n)?(e.consume(n),f(e.exit("chunkFlow")),s=0,t.interrupt=void 0,a):(e.consume(n),v)}function f(e,n){const a=t.sliceStream(e);if(n&&a.push(null),e.previous=o,o&&(o.next=e),o=e,i.defineSkip(e.start),i.write(a),t.parser.lazy[e.start.line]){let e=i.events.length;for(;e--;)if(i.events[e][1].start.offset<r&&(!i.events[e][1].end||i.events[e][1].end.offset>r))return;const n=t.events.length;let o,a,l=n;for(;l--;)if("exit"===t.events[l][0]&&"chunkFlow"===t.events[l][1].type){if(o){a=t.events[l][1].end;break}o=!0}for(w(s),e=n;e<t.events.length;)t.events[e][1].end=d({},a),e++;$re(t.events,l+1,0,t.events.slice(n)),t.events.length=e}}function w(i){let o=n.length;for(;o-- >i;){const i=n[o];t.containerState=i[1],i[0].exit.call(t,e)}n.length=i}function C(){i.write([null]),o=void 0,i=void 0,t.containerState._closeFlow=void 0}}},yse={tokenize:function(e,t,n){return wse(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}};const Sse={partial:!0,tokenize:function(e,t,n){return function(t){return gse(t)?wse(e,i,"linePrefix")(t):i(t)};function i(e){return null===e||hse(e)?t(e):n(e)}}};const xse={resolve:function(e){return ese(e),e},tokenize:function(e,t){let n;return function(t){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(t)};function i(t){return null===t?o(t):hse(t)?e.check(Dse,r,o)(t):(e.consume(t),i)}function o(n){return e.exit("chunkContent"),e.exit("content"),t(n)}function r(t){return e.consume(t),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}},Dse={partial:!0,tokenize:function(e,t,n){const i=this;return function(t){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),wse(e,o,"linePrefix")};function o(o){if(null===o||hse(o))return n(o);const r=i.events[i.events.length-1];return!i.parser.constructs.disable.null.includes("codeIndented")&&r&&"linePrefix"===r[1].type&&r[2].sliceSerialize(r[1],!0).length>=4?t(o):e.interrupt(i.parser.constructs.flow,n,t)(o)}}};const Ese={tokenize:function(e){const t=this,n=e.attempt(Sse,function(i){if(null===i)return void e.consume(i);return e.enter("lineEndingBlank"),e.consume(i),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n},e.attempt(this.parser.constructs.flowInitial,i,wse(e,e.attempt(this.parser.constructs.flow,i,e.attempt(xse,i)),"linePrefix")));return n;function i(i){if(null!==i)return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),t.currentConstruct=void 0,n;e.consume(i)}}};const Fse={resolveAll:Pse()},kse=Rse("string"),Ase=Rse("text");function Rse(e){return{resolveAll:Pse("text"===e?Tse:void 0),tokenize:function(t){const n=this,i=this.parser.constructs[e],o=t.attempt(i,r,s);return r;function r(e){return l(e)?o(e):s(e)}function s(e){if(null!==e)return t.enter("data"),t.consume(e),a;t.consume(e)}function a(e){return l(e)?(t.exit("data"),o(e)):(t.consume(e),a)}function l(e){if(null===e)return!0;const t=i[e];let o=-1;if(t)for(;++o<t.length;){const e=t[o];if(!e.previous||e.previous.call(n,n.previous))return!0}return!1}}}}function Pse(e){return function(t,n){let i,o=-1;for(;++o<=t.length;)void 0===i?t[o]&&"data"===t[o][1].type&&(i=o,o++):t[o]&&"data"===t[o][1].type||(o!==i+2&&(t[i][1].end=t[o-1][1].end,t.splice(i+2,o-i-2),o=i+2),i=void 0);return e?e(t,n):t}}function Tse(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||"lineEnding"===e[n][1].type)&&"data"===e[n-1][1].type){const i=e[n-1][1],o=t.sliceStream(i);let r,s=o.length,a=-1,l=0;for(;s--;){const e=o[s];if("string"===typeof e){for(a=e.length;32===e.charCodeAt(a-1);)l++,a--;if(a)break;a=-1}else if(-2===e)r=!0,l++;else if(-1!==e){s++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(l=0),l){const o={type:n===e.length||r||l<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?a:i.start._bufferIndex+a,_index:i.start._index+s,line:i.end.line,column:i.end.column-l,offset:i.end.offset-l},end:d({},i.end)};i.end=d({},o.start),i.start.offset===i.end.offset?Object.assign(i,o):(e.splice(n,0,["enter",o,t],["exit",o,t]),n+=2)}n++}return e}const _se={name:"thematicBreak",tokenize:function(e,t,n){let i,o=0;return function(t){return e.enter("thematicBreak"),function(e){return i=e,r(e)}(t)};function r(r){return r===i?(e.enter("thematicBreakSequence"),s(r)):o>=3&&(null===r||hse(r))?(e.exit("thematicBreak"),t(r)):n(r)}function s(t){return t===i?(e.consume(t),o++,s):(e.exit("thematicBreakSequence"),gse(t)?wse(e,r,"whitespace")(t):r(t))}}};const Mse={continuation:{tokenize:function(e,t,n){const i=this;return i.containerState._closeFlow=void 0,e.check(Sse,o,r);function o(n){return i.containerState.furtherBlankLines=i.containerState.furtherBlankLines||i.containerState.initialBlankLine,wse(e,t,"listItemIndent",i.containerState.size+1)(n)}function r(n){return i.containerState.furtherBlankLines||!gse(n)?(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,s(n)):(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,e.attempt(Lse,t,s)(n))}function s(o){return i.containerState._closeFlow=!0,i.interrupt=void 0,wse(e,e.attempt(Mse,t,n),"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o)}}},exit:function(e){e.exit(this.containerState.type)},name:"list",tokenize:function(e,t,n){const i=this,o=i.events[i.events.length-1];let r=o&&"linePrefix"===o[1].type?o[2].sliceSerialize(o[1],!0).length:0,s=0;return function(t){const o=i.containerState.type||(42===t||43===t||45===t?"listUnordered":"listOrdered");if("listUnordered"===o?!i.containerState.marker||t===i.containerState.marker:use(t)){if(i.containerState.type||(i.containerState.type=o,e.enter(o,{_container:!0})),"listUnordered"===o)return e.enter("listItemPrefix"),42===t||45===t?e.check(_se,n,l)(t):l(t);if(!i.interrupt||49===t)return e.enter("listItemPrefix"),e.enter("listItemValue"),a(t)}return n(t)};function a(t){return use(t)&&++s<10?(e.consume(t),a):(!i.interrupt||s<2)&&(i.containerState.marker?t===i.containerState.marker:41===t||46===t)?(e.exit("listItemValue"),l(t)):n(t)}function l(t){return e.enter("listItemMarker"),e.consume(t),e.exit("listItemMarker"),i.containerState.marker=i.containerState.marker||t,e.check(Sse,i.interrupt?n:u,e.attempt(Ise,d,c))}function u(e){return i.containerState.initialBlankLine=!0,r++,d(e)}function c(t){return gse(t)?(e.enter("listItemPrefixWhitespace"),e.consume(t),e.exit("listItemPrefixWhitespace"),d):n(t)}function d(n){return i.containerState.size=r+i.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(n)}}},Ise={partial:!0,tokenize:function(e,t,n){const i=this;return wse(e,function(e){const o=i.events[i.events.length-1];return!gse(e)&&o&&"listItemPrefixWhitespace"===o[1].type?t(e):n(e)},"listItemPrefixWhitespace",i.parser.constructs.disable.null.includes("codeIndented")?void 0:5)}},Lse={partial:!0,tokenize:function(e,t,n){const i=this;return wse(e,function(e){const o=i.events[i.events.length-1];return o&&"listItemIndent"===o[1].type&&o[2].sliceSerialize(o[1],!0).length===i.containerState.size?t(e):n(e)},"listItemIndent",i.containerState.size+1)}};const Nse={continuation:{tokenize:function(e,t,n){const i=this;return function(t){if(gse(t))return wse(e,o,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(t);return o(t)};function o(i){return e.attempt(Nse,t,n)(i)}}},exit:function(e){e.exit("blockQuote")},name:"blockQuote",tokenize:function(e,t,n){const i=this;return function(t){if(62===t){const n=i.containerState;return n.open||(e.enter("blockQuote",{_container:!0}),n.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(t),e.exit("blockQuoteMarker"),o}return n(t)};function o(n){return gse(n)?(e.enter("blockQuotePrefixWhitespace"),e.consume(n),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(n))}}};function Bse(e,t,n,i,o,r,s,a,l){const u=l||Number.POSITIVE_INFINITY;let c=0;return function(t){if(60===t)return e.enter(i),e.enter(o),e.enter(r),e.consume(t),e.exit(r),d;if(null===t||32===t||41===t||lse(t))return n(t);return e.enter(i),e.enter(s),e.enter(a),e.enter("chunkString",{contentType:"string"}),g(t)};function d(n){return 62===n?(e.enter(r),e.consume(n),e.exit(r),e.exit(o),e.exit(i),t):(e.enter(a),e.enter("chunkString",{contentType:"string"}),h(n))}function h(t){return 62===t?(e.exit("chunkString"),e.exit(a),d(t)):null===t||60===t||hse(t)?n(t):(e.consume(t),92===t?p:h)}function p(t){return 60===t||62===t||92===t?(e.consume(t),h):h(t)}function g(o){return c||null!==o&&41!==o&&!pse(o)?c<u&&40===o?(e.consume(o),c++,g):41===o?(e.consume(o),c--,g):null===o||32===o||40===o||lse(o)?n(o):(e.consume(o),92===o?m:g):(e.exit("chunkString"),e.exit(a),e.exit(s),e.exit(i),t(o))}function m(t){return 40===t||41===t||92===t?(e.consume(t),g):g(t)}}function Ose(e,t,n,i,o,r){const s=this;let a,l=0;return function(t){return e.enter(i),e.enter(o),e.consume(t),e.exit(o),e.enter(r),u};function u(d){return l>999||null===d||91===d||93===d&&!a||94===d&&!l&&"_hiddenFootnoteSupport"in s.parser.constructs?n(d):93===d?(e.exit(r),e.enter(o),e.consume(d),e.exit(o),e.exit(i),t):hse(d)?(e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),u):(e.enter("chunkString",{contentType:"string"}),c(d))}function c(t){return null===t||91===t||93===t||hse(t)||l++>999?(e.exit("chunkString"),u(t)):(e.consume(t),a||(a=!gse(t)),92===t?d:c)}function d(t){return 91===t||92===t||93===t?(e.consume(t),l++,c):c(t)}}function Gse(e,t,n,i,o,r){let s;return function(t){if(34===t||39===t||40===t)return e.enter(i),e.enter(o),e.consume(t),e.exit(o),s=40===t?41:t,a;return n(t)};function a(n){return n===s?(e.enter(o),e.consume(n),e.exit(o),e.exit(i),t):(e.enter(r),l(n))}function l(t){return t===s?(e.exit(r),a(s)):null===t?n(t):hse(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),wse(e,l,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),u(t))}function u(t){return t===s||null===t||hse(t)?(e.exit("chunkString"),l(t)):(e.consume(t),92===t?c:u)}function c(t){return t===s||92===t?(e.consume(t),u):u(t)}}function zse(e,t){let n;return function i(o){if(hse(o))return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),n=!0,i;if(gse(o))return wse(e,i,n?"linePrefix":"lineSuffix")(o);return t(o)}}function Vse(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Hse={name:"definition",tokenize:function(e,t,n){const i=this;let o;return function(t){return e.enter("definition"),function(t){return Ose.call(i,e,r,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(t)}(t)};function r(t){return o=Vse(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)),58===t?(e.enter("definitionMarker"),e.consume(t),e.exit("definitionMarker"),s):n(t)}function s(t){return pse(t)?zse(e,a)(t):a(t)}function a(t){return Bse(e,l,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(t)}function l(t){return e.attempt(jse,u,u)(t)}function u(t){return gse(t)?wse(e,c,"whitespace")(t):c(t)}function c(r){return null===r||hse(r)?(e.exit("definition"),i.parser.defined.push(o),t(r)):n(r)}}},jse={partial:!0,tokenize:function(e,t,n){return function(t){return pse(t)?zse(e,i)(t):n(t)};function i(t){return Gse(e,o,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(t)}function o(t){return gse(t)?wse(e,r,"whitespace")(t):r(t)}function r(e){return null===e||hse(e)?t(e):n(e)}}};const Wse={name:"codeIndented",tokenize:function(e,t,n){const i=this;return function(t){return e.enter("codeIndented"),wse(e,o,"linePrefix",5)(t)};function o(e){const t=i.events[i.events.length-1];return t&&"linePrefix"===t[1].type&&t[2].sliceSerialize(t[1],!0).length>=4?r(e):n(e)}function r(t){return null===t?a(t):hse(t)?e.attempt(Use,r,a)(t):(e.enter("codeFlowValue"),s(t))}function s(t){return null===t||hse(t)?(e.exit("codeFlowValue"),r(t)):(e.consume(t),s)}function a(n){return e.exit("codeIndented"),t(n)}}},Use={partial:!0,tokenize:function(e,t,n){const i=this;return o;function o(t){return i.parser.lazy[i.now().line]?n(t):hse(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),o):wse(e,r,"linePrefix",5)(t)}function r(e){const r=i.events[i.events.length-1];return r&&"linePrefix"===r[1].type&&r[2].sliceSerialize(r[1],!0).length>=4?t(e):hse(e)?o(e):n(e)}}};const Kse={name:"headingAtx",resolve:function(e,t){let n,i,o=e.length-2,r=3;"whitespace"===e[r][1].type&&(r+=2);o-2>r&&"whitespace"===e[o][1].type&&(o-=2);"atxHeadingSequence"===e[o][1].type&&(r===o-1||o-4>r&&"whitespace"===e[o-2][1].type)&&(o-=r+1===o?2:4);o>r&&(n={type:"atxHeadingText",start:e[r][1].start,end:e[o][1].end},i={type:"chunkText",start:e[r][1].start,end:e[o][1].end,contentType:"text"},$re(e,r,o-r+1,[["enter",n,t],["enter",i,t],["exit",i,t],["exit",n,t]]));return e},tokenize:function(e,t,n){let i=0;return function(t){return e.enter("atxHeading"),function(t){return e.enter("atxHeadingSequence"),o(t)}(t)};function o(t){return 35===t&&i++<6?(e.consume(t),o):null===t||pse(t)?(e.exit("atxHeadingSequence"),r(t)):n(t)}function r(n){return 35===n?(e.enter("atxHeadingSequence"),s(n)):null===n||hse(n)?(e.exit("atxHeading"),t(n)):gse(n)?wse(e,r,"whitespace")(n):(e.enter("atxHeadingText"),a(n))}function s(t){return 35===t?(e.consume(t),s):(e.exit("atxHeadingSequence"),r(t))}function a(t){return null===t||35===t||pse(t)?(e.exit("atxHeadingText"),r(t)):(e.consume(t),a)}}};const qse={name:"setextUnderline",resolveTo:function(e,t){let n,i,o,r=e.length;for(;r--;)if("enter"===e[r][0]){if("content"===e[r][1].type){n=r;break}"paragraph"===e[r][1].type&&(i=r)}else"content"===e[r][1].type&&e.splice(r,1),o||"definition"!==e[r][1].type||(o=r);const s={type:"setextHeading",start:d({},e[n][1].start),end:d({},e[e.length-1][1].end)};e[i][1].type="setextHeadingText",o?(e.splice(i,0,["enter",s,t]),e.splice(o+1,0,["exit",e[n][1],t]),e[n][1].end=d({},e[o][1].end)):e[n][1]=s;return e.push(["exit",s,t]),e},tokenize:function(e,t,n){const i=this;let o;return function(t){let s,a=i.events.length;for(;a--;)if("lineEnding"!==i.events[a][1].type&&"linePrefix"!==i.events[a][1].type&&"content"!==i.events[a][1].type){s="paragraph"===i.events[a][1].type;break}if(!i.parser.lazy[i.now().line]&&(i.interrupt||s))return e.enter("setextHeadingLine"),o=t,function(t){return e.enter("setextHeadingLineSequence"),r(t)}(t);return n(t)};function r(t){return t===o?(e.consume(t),r):(e.exit("setextHeadingLineSequence"),gse(t)?wse(e,s,"lineSuffix")(t):s(t))}function s(i){return null===i||hse(i)?(e.exit("setextHeadingLine"),t(i)):n(i)}}};const Yse=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Zse=["pre","script","style","textarea"],$se={concrete:!0,name:"htmlFlow",resolveTo:function(e){let t=e.length;for(;t--&&("enter"!==e[t][0]||"htmlFlow"!==e[t][1].type););t>1&&"linePrefix"===e[t-2][1].type&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2));return e},tokenize:function(e,t,n){const i=this;let o,r,s,a,l;return function(t){return function(t){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(t),u}(t)};function u(a){return 33===a?(e.consume(a),c):47===a?(e.consume(a),r=!0,p):63===a?(e.consume(a),o=3,i.interrupt?t:I):rse(a)?(e.consume(a),s=String.fromCharCode(a),g):n(a)}function c(r){return 45===r?(e.consume(r),o=2,d):91===r?(e.consume(r),o=5,a=0,h):rse(r)?(e.consume(r),o=4,i.interrupt?t:I):n(r)}function d(o){return 45===o?(e.consume(o),i.interrupt?t:I):n(o)}function h(o){const r="CDATA[";return o===r.charCodeAt(a++)?(e.consume(o),6===a?i.interrupt?t:F:h):n(o)}function p(t){return rse(t)?(e.consume(t),s=String.fromCharCode(t),g):n(t)}function g(a){if(null===a||47===a||62===a||pse(a)){const l=47===a,u=s.toLowerCase();return l||r||!Zse.includes(u)?Yse.includes(s.toLowerCase())?(o=6,l?(e.consume(a),m):i.interrupt?t(a):F(a)):(o=7,i.interrupt&&!i.parser.lazy[i.now().line]?n(a):r?v(a):f(a)):(o=1,i.interrupt?t(a):F(a))}return 45===a||sse(a)?(e.consume(a),s+=String.fromCharCode(a),g):n(a)}function m(o){return 62===o?(e.consume(o),i.interrupt?t:F):n(o)}function v(t){return gse(t)?(e.consume(t),v):D(t)}function f(t){return 47===t?(e.consume(t),D):58===t||95===t||rse(t)?(e.consume(t),w):gse(t)?(e.consume(t),f):D(t)}function w(t){return 45===t||46===t||58===t||95===t||sse(t)?(e.consume(t),w):C(t)}function C(t){return 61===t?(e.consume(t),b):gse(t)?(e.consume(t),C):f(t)}function b(t){return null===t||60===t||61===t||62===t||96===t?n(t):34===t||39===t?(e.consume(t),l=t,y):gse(t)?(e.consume(t),b):S(t)}function y(t){return t===l?(e.consume(t),l=null,x):null===t||hse(t)?n(t):(e.consume(t),y)}function S(t){return null===t||34===t||39===t||47===t||60===t||61===t||62===t||96===t||pse(t)?C(t):(e.consume(t),S)}function x(e){return 47===e||62===e||gse(e)?f(e):n(e)}function D(t){return 62===t?(e.consume(t),E):n(t)}function E(t){return null===t||hse(t)?F(t):gse(t)?(e.consume(t),E):n(t)}function F(t){return 45===t&&2===o?(e.consume(t),P):60===t&&1===o?(e.consume(t),T):62===t&&4===o?(e.consume(t),L):63===t&&3===o?(e.consume(t),I):93===t&&5===o?(e.consume(t),M):!hse(t)||6!==o&&7!==o?null===t||hse(t)?(e.exit("htmlFlowData"),k(t)):(e.consume(t),F):(e.exit("htmlFlowData"),e.check(Xse,N,k)(t))}function k(t){return e.check(Qse,A,N)(t)}function A(t){return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),R}function R(t){return null===t||hse(t)?k(t):(e.enter("htmlFlowData"),F(t))}function P(t){return 45===t?(e.consume(t),I):F(t)}function T(t){return 47===t?(e.consume(t),s="",_):F(t)}function _(t){if(62===t){const n=s.toLowerCase();return Zse.includes(n)?(e.consume(t),L):F(t)}return rse(t)&&s.length<8?(e.consume(t),s+=String.fromCharCode(t),_):F(t)}function M(t){return 93===t?(e.consume(t),I):F(t)}function I(t){return 62===t?(e.consume(t),L):45===t&&2===o?(e.consume(t),I):F(t)}function L(t){return null===t||hse(t)?(e.exit("htmlFlowData"),N(t)):(e.consume(t),L)}function N(n){return e.exit("htmlFlow"),t(n)}}},Xse={partial:!0,tokenize:function(e,t,n){return function(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(Sse,t,n)}}},Qse={partial:!0,tokenize:function(e,t,n){const i=this;return function(t){if(hse(t))return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),o;return n(t)};function o(e){return i.parser.lazy[i.now().line]?n(e):t(e)}}};const Jse={partial:!0,tokenize:function(e,t,n){const i=this;return function(t){if(null===t)return n(t);return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),o};function o(e){return i.parser.lazy[i.now().line]?n(e):t(e)}}},eae={concrete:!0,name:"codeFenced",tokenize:function(e,t,n){const i=this,o={partial:!0,tokenize:function(e,t,n){let o=0;return s;function s(t){return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),l}function l(t){return e.enter("codeFencedFence"),gse(t)?wse(e,u,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(t):u(t)}function u(t){return t===r?(e.enter("codeFencedFenceSequence"),c(t)):n(t)}function c(t){return t===r?(o++,e.consume(t),c):o>=a?(e.exit("codeFencedFenceSequence"),gse(t)?wse(e,d,"whitespace")(t):d(t)):n(t)}function d(i){return null===i||hse(i)?(e.exit("codeFencedFence"),t(i)):n(i)}}};let r,s=0,a=0;return function(t){return function(t){const n=i.events[i.events.length-1];return s=n&&"linePrefix"===n[1].type?n[2].sliceSerialize(n[1],!0).length:0,r=t,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),l(t)}(t)};function l(t){return t===r?(a++,e.consume(t),l):a<3?n(t):(e.exit("codeFencedFenceSequence"),gse(t)?wse(e,u,"whitespace")(t):u(t))}function u(n){return null===n||hse(n)?(e.exit("codeFencedFence"),i.interrupt?t(n):e.check(Jse,p,w)(n)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),c(n))}function c(t){return null===t||hse(t)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),u(t)):gse(t)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),wse(e,d,"whitespace")(t)):96===t&&t===r?n(t):(e.consume(t),c)}function d(t){return null===t||hse(t)?u(t):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),h(t))}function h(t){return null===t||hse(t)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),u(t)):96===t&&t===r?n(t):(e.consume(t),h)}function p(t){return e.attempt(o,w,g)(t)}function g(t){return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),m}function m(t){return s>0&&gse(t)?wse(e,v,"linePrefix",s+1)(t):v(t)}function v(t){return null===t||hse(t)?e.check(Jse,p,w)(t):(e.enter("codeFlowValue"),f(t))}function f(t){return null===t||hse(t)?(e.exit("codeFlowValue"),v(t)):(e.consume(t),f)}function w(n){return e.exit("codeFenced"),t(n)}}};const tae=document.createElement("i");function nae(e){const t="&"+e+";";tae.innerHTML=t;const n=tae.textContent;return(59!==n.charCodeAt(n.length-1)||"semi"===e)&&(n!==t&&n)}const iae={name:"characterReference",tokenize:function(e,t,n){const i=this;let o,r,s=0;return function(t){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(t),e.exit("characterReferenceMarker"),a};function a(t){return 35===t?(e.enter("characterReferenceMarkerNumeric"),e.consume(t),e.exit("characterReferenceMarkerNumeric"),l):(e.enter("characterReferenceValue"),o=31,r=sse,u(t))}function l(t){return 88===t||120===t?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(t),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),o=6,r=cse,u):(e.enter("characterReferenceValue"),o=7,r=use,u(t))}function u(a){if(59===a&&s){const o=e.exit("characterReferenceValue");return r!==sse||nae(i.sliceSerialize(o))?(e.enter("characterReferenceMarker"),e.consume(a),e.exit("characterReferenceMarker"),e.exit("characterReference"),t):n(a)}return r(a)&&s++<o?(e.consume(a),u):n(a)}}};const oae={name:"characterEscape",tokenize:function(e,t,n){return function(t){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(t),e.exit("escapeMarker"),i};function i(i){return dse(i)?(e.enter("characterEscapeValue"),e.consume(i),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(i)}}};const rae={name:"lineEnding",tokenize:function(e,t){return function(n){return e.enter("lineEnding"),e.consume(n),e.exit("lineEnding"),wse(e,t,"linePrefix")}}};function sae(e,t,n){const i=[];let o=-1;for(;++o<e.length;){const r=e[o].resolveAll;r&&!i.includes(r)&&(t=r(t,n),i.push(r))}return t}const aae={name:"labelEnd",resolveAll:function(e){let t=-1;const n=[];for(;++t<e.length;){const i=e[t][1];if(n.push(e[t]),"labelImage"===i.type||"labelLink"===i.type||"labelEnd"===i.type){const e="labelImage"===i.type?4:2;i.type="data",t+=e}}e.length!==n.length&&$re(e,0,e.length,n);return e},resolveTo:function(e,t){let n,i,o,r,s=e.length,a=0;for(;s--;)if(n=e[s][1],i){if("link"===n.type||"labelLink"===n.type&&n._inactive)break;"enter"===e[s][0]&&"labelLink"===n.type&&(n._inactive=!0)}else if(o){if("enter"===e[s][0]&&("labelImage"===n.type||"labelLink"===n.type)&&!n._balanced&&(i=s,"labelLink"!==n.type)){a=2;break}}else"labelEnd"===n.type&&(o=s);const l={type:"labelLink"===e[i][1].type?"link":"image",start:d({},e[i][1].start),end:d({},e[e.length-1][1].end)},u={type:"label",start:d({},e[i][1].start),end:d({},e[o][1].end)},c={type:"labelText",start:d({},e[i+a+2][1].end),end:d({},e[o-2][1].start)};return r=[["enter",l,t],["enter",u,t]],r=Xre(r,e.slice(i+1,i+a+3)),r=Xre(r,[["enter",c,t]]),r=Xre(r,sae(t.parser.constructs.insideSpan.null,e.slice(i+a+4,o-3),t)),r=Xre(r,[["exit",c,t],e[o-2],e[o-1],["exit",u,t]]),r=Xre(r,e.slice(o+1)),r=Xre(r,[["exit",l,t]]),$re(e,i,e.length,r),e},tokenize:function(e,t,n){const i=this;let o,r,s=i.events.length;for(;s--;)if(("labelImage"===i.events[s][1].type||"labelLink"===i.events[s][1].type)&&!i.events[s][1]._balanced){o=i.events[s][1];break}return function(t){if(!o)return n(t);if(o._inactive)return c(t);return r=i.parser.defined.includes(Vse(i.sliceSerialize({start:o.end,end:i.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(t),e.exit("labelMarker"),e.exit("labelEnd"),a};function a(t){return 40===t?e.attempt(lae,u,r?u:c)(t):91===t?e.attempt(uae,u,r?l:c)(t):r?u(t):c(t)}function l(t){return e.attempt(cae,u,c)(t)}function u(e){return t(e)}function c(e){return o._balanced=!0,n(e)}}},lae={tokenize:function(e,t,n){return function(t){return e.enter("resource"),e.enter("resourceMarker"),e.consume(t),e.exit("resourceMarker"),i};function i(t){return pse(t)?zse(e,o)(t):o(t)}function o(t){return 41===t?u(t):Bse(e,r,s,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(t)}function r(t){return pse(t)?zse(e,a)(t):u(t)}function s(e){return n(e)}function a(t){return 34===t||39===t||40===t?Gse(e,l,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(t):u(t)}function l(t){return pse(t)?zse(e,u)(t):u(t)}function u(i){return 41===i?(e.enter("resourceMarker"),e.consume(i),e.exit("resourceMarker"),e.exit("resource"),t):n(i)}}},uae={tokenize:function(e,t,n){const i=this;return function(t){return Ose.call(i,e,o,r,"reference","referenceMarker","referenceString")(t)};function o(e){return i.parser.defined.includes(Vse(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)))?t(e):n(e)}function r(e){return n(e)}}},cae={tokenize:function(e,t,n){return function(t){return e.enter("reference"),e.enter("referenceMarker"),e.consume(t),e.exit("referenceMarker"),i};function i(i){return 93===i?(e.enter("referenceMarker"),e.consume(i),e.exit("referenceMarker"),e.exit("reference"),t):n(i)}}};const dae={name:"labelStartImage",resolveAll:aae.resolveAll,tokenize:function(e,t,n){const i=this;return function(t){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(t),e.exit("labelImageMarker"),o};function o(t){return 91===t?(e.enter("labelMarker"),e.consume(t),e.exit("labelMarker"),e.exit("labelImage"),r):n(t)}function r(e){return 94===e&&"_hiddenFootnoteSupport"in i.parser.constructs?n(e):t(e)}}};function hae(e){return null===e||pse(e)||vse(e)?1:mse(e)?2:void 0}const pae={name:"attention",resolveAll:function(e,t){let n,i,o,r,s,a,l,u,c=-1;for(;++c<e.length;)if("enter"===e[c][0]&&"attentionSequence"===e[c][1].type&&e[c][1]._close)for(n=c;n--;)if("exit"===e[n][0]&&"attentionSequence"===e[n][1].type&&e[n][1]._open&&t.sliceSerialize(e[n][1]).charCodeAt(0)===t.sliceSerialize(e[c][1]).charCodeAt(0)){if((e[n][1]._close||e[c][1]._open)&&(e[c][1].end.offset-e[c][1].start.offset)%3&&!((e[n][1].end.offset-e[n][1].start.offset+e[c][1].end.offset-e[c][1].start.offset)%3))continue;a=e[n][1].end.offset-e[n][1].start.offset>1&&e[c][1].end.offset-e[c][1].start.offset>1?2:1;const h=d({},e[n][1].end),p=d({},e[c][1].start);gae(h,-a),gae(p,a),r={type:a>1?"strongSequence":"emphasisSequence",start:h,end:d({},e[n][1].end)},s={type:a>1?"strongSequence":"emphasisSequence",start:d({},e[c][1].start),end:p},o={type:a>1?"strongText":"emphasisText",start:d({},e[n][1].end),end:d({},e[c][1].start)},i={type:a>1?"strong":"emphasis",start:d({},r.start),end:d({},s.end)},e[n][1].end=d({},r.start),e[c][1].start=d({},s.end),l=[],e[n][1].end.offset-e[n][1].start.offset&&(l=Xre(l,[["enter",e[n][1],t],["exit",e[n][1],t]])),l=Xre(l,[["enter",i,t],["enter",r,t],["exit",r,t],["enter",o,t]]),l=Xre(l,sae(t.parser.constructs.insideSpan.null,e.slice(n+1,c),t)),l=Xre(l,[["exit",o,t],["enter",s,t],["exit",s,t],["exit",i,t]]),e[c][1].end.offset-e[c][1].start.offset?(u=2,l=Xre(l,[["enter",e[c][1],t],["exit",e[c][1],t]])):u=0,$re(e,n-1,c-n+3,l),c=n+l.length-u-2;break}c=-1;for(;++c<e.length;)"attentionSequence"===e[c][1].type&&(e[c][1].type="data");return e},tokenize:function(e,t){const n=this.parser.constructs.attentionMarkers.null,i=this.previous,o=hae(i);let r;return function(t){return r=t,e.enter("attentionSequence"),s(t)};function s(a){if(a===r)return e.consume(a),s;const l=e.exit("attentionSequence"),u=hae(a),c=!u||2===u&&o||n.includes(a),d=!o||2===o&&u||n.includes(i);return l._open=Boolean(42===r?c:c&&(o||!d)),l._close=Boolean(42===r?d:d&&(u||!c)),t(a)}}};function gae(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const mae={name:"autolink",tokenize:function(e,t,n){let i=0;return function(t){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(t),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),o};function o(t){return rse(t)?(e.consume(t),r):64===t?n(t):l(t)}function r(e){return 43===e||45===e||46===e||sse(e)?(i=1,s(e)):l(e)}function s(t){return 58===t?(e.consume(t),i=0,a):(43===t||45===t||46===t||sse(t))&&i++<32?(e.consume(t),s):(i=0,l(t))}function a(i){return 62===i?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(i),e.exit("autolinkMarker"),e.exit("autolink"),t):null===i||32===i||60===i||lse(i)?n(i):(e.consume(i),a)}function l(t){return 64===t?(e.consume(t),u):ase(t)?(e.consume(t),l):n(t)}function u(e){return sse(e)?c(e):n(e)}function c(n){return 46===n?(e.consume(n),i=0,u):62===n?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(n),e.exit("autolinkMarker"),e.exit("autolink"),t):d(n)}function d(t){if((45===t||sse(t))&&i++<63){const n=45===t?d:c;return e.consume(t),n}return n(t)}}};const vae={name:"htmlText",tokenize:function(e,t,n){const i=this;let o,r,s;return function(t){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(t),a};function a(t){return 33===t?(e.consume(t),l):47===t?(e.consume(t),b):63===t?(e.consume(t),w):rse(t)?(e.consume(t),x):n(t)}function l(t){return 45===t?(e.consume(t),u):91===t?(e.consume(t),r=0,p):rse(t)?(e.consume(t),f):n(t)}function u(t){return 45===t?(e.consume(t),h):n(t)}function c(t){return null===t?n(t):45===t?(e.consume(t),d):hse(t)?(s=c,_(t)):(e.consume(t),c)}function d(t){return 45===t?(e.consume(t),h):c(t)}function h(e){return 62===e?T(e):45===e?d(e):c(e)}function p(t){const i="CDATA[";return t===i.charCodeAt(r++)?(e.consume(t),6===r?g:p):n(t)}function g(t){return null===t?n(t):93===t?(e.consume(t),m):hse(t)?(s=g,_(t)):(e.consume(t),g)}function m(t){return 93===t?(e.consume(t),v):g(t)}function v(t){return 62===t?T(t):93===t?(e.consume(t),v):g(t)}function f(t){return null===t||62===t?T(t):hse(t)?(s=f,_(t)):(e.consume(t),f)}function w(t){return null===t?n(t):63===t?(e.consume(t),C):hse(t)?(s=w,_(t)):(e.consume(t),w)}function C(e){return 62===e?T(e):w(e)}function b(t){return rse(t)?(e.consume(t),y):n(t)}function y(t){return 45===t||sse(t)?(e.consume(t),y):S(t)}function S(t){return hse(t)?(s=S,_(t)):gse(t)?(e.consume(t),S):T(t)}function x(t){return 45===t||sse(t)?(e.consume(t),x):47===t||62===t||pse(t)?D(t):n(t)}function D(t){return 47===t?(e.consume(t),T):58===t||95===t||rse(t)?(e.consume(t),E):hse(t)?(s=D,_(t)):gse(t)?(e.consume(t),D):T(t)}function E(t){return 45===t||46===t||58===t||95===t||sse(t)?(e.consume(t),E):F(t)}function F(t){return 61===t?(e.consume(t),k):hse(t)?(s=F,_(t)):gse(t)?(e.consume(t),F):D(t)}function k(t){return null===t||60===t||61===t||62===t||96===t?n(t):34===t||39===t?(e.consume(t),o=t,A):hse(t)?(s=k,_(t)):gse(t)?(e.consume(t),k):(e.consume(t),R)}function A(t){return t===o?(e.consume(t),o=void 0,P):null===t?n(t):hse(t)?(s=A,_(t)):(e.consume(t),A)}function R(t){return null===t||34===t||39===t||60===t||61===t||96===t?n(t):47===t||62===t||pse(t)?D(t):(e.consume(t),R)}function P(e){return 47===e||62===e||pse(e)?D(e):n(e)}function T(i){return 62===i?(e.consume(i),e.exit("htmlTextData"),e.exit("htmlText"),t):n(i)}function _(t){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),M}function M(t){return gse(t)?wse(e,I,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(t):I(t)}function I(t){return e.enter("htmlTextData"),s(t)}}};const fae={name:"labelStartLink",resolveAll:aae.resolveAll,tokenize:function(e,t,n){const i=this;return function(t){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(t),e.exit("labelMarker"),e.exit("labelLink"),o};function o(e){return 94===e&&"_hiddenFootnoteSupport"in i.parser.constructs?n(e):t(e)}}};const wae={name:"hardBreakEscape",tokenize:function(e,t,n){return function(t){return e.enter("hardBreakEscape"),e.consume(t),i};function i(i){return hse(i)?(e.exit("hardBreakEscape"),t(i)):n(i)}}};const Cae={name:"codeText",previous:function(e){return 96!==e||"characterEscape"===this.events[this.events.length-1][1].type},resolve:function(e){let t,n,i=e.length-4,o=3;if(("lineEnding"===e[o][1].type||"space"===e[o][1].type)&&("lineEnding"===e[i][1].type||"space"===e[i][1].type))for(t=o;++t<i;)if("codeTextData"===e[t][1].type){e[o][1].type="codeTextPadding",e[i][1].type="codeTextPadding",o+=2,i-=2;break}t=o-1,i++;for(;++t<=i;)void 0===n?t!==i&&"lineEnding"!==e[t][1].type&&(n=t):t!==i&&"lineEnding"!==e[t][1].type||(e[n][1].type="codeTextData",t!==n+2&&(e[n][1].end=e[t-1][1].end,e.splice(n+2,t-n-2),i-=t-n-2,t=n+2),n=void 0);return e},tokenize:function(e,t,n){let i,o,r=0;return function(t){return e.enter("codeText"),e.enter("codeTextSequence"),s(t)};function s(t){return 96===t?(e.consume(t),r++,s):(e.exit("codeTextSequence"),a(t))}function a(t){return null===t?n(t):32===t?(e.enter("space"),e.consume(t),e.exit("space"),a):96===t?(o=e.enter("codeTextSequence"),i=0,u(t)):hse(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),a):(e.enter("codeTextData"),l(t))}function l(t){return null===t||32===t||96===t||hse(t)?(e.exit("codeTextData"),a(t)):(e.consume(t),l)}function u(n){return 96===n?(e.consume(n),i++,u):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(n)):(o.type="codeTextData",l(n))}}};const bae={42:Mse,43:Mse,45:Mse,48:Mse,49:Mse,50:Mse,51:Mse,52:Mse,53:Mse,54:Mse,55:Mse,56:Mse,57:Mse,62:Nse},yae={91:Hse},Sae={[-2]:Wse,[-1]:Wse,32:Wse},xae={35:Kse,42:_se,45:[qse,_se],60:$se,61:qse,95:_se,96:eae,126:eae},Dae={38:iae,92:oae},Eae={[-5]:rae,[-4]:rae,[-3]:rae,33:dae,38:iae,42:pae,60:[mae,vae],91:fae,92:[wae,oae],93:aae,95:pae,96:Cae},Fae={null:[pae,Fse]},kae={null:[42,95]},Aae={null:[]};function Rae(e,t,n){let i={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const o={},r=[];let s=[],a=[],l=!0;const u={attempt:w(function(e,t){C(e,t.from)}),check:w(f),consume:function(e){hse(e)?(i.line++,i.column=1,i.offset+=-3===e?2:1,b()):-1!==e&&(i.column++,i.offset++);i._bufferIndex<0?i._index++:(i._bufferIndex++,i._bufferIndex===s[i._index].length&&(i._bufferIndex=-1,i._index++));c.previous=e,l=!0},enter:function(e,t){const n=t||{};return n.type=e,n.start=g(),c.events.push(["enter",n,c]),a.push(n),n},exit:function(e){const t=a.pop();return t.end=g(),c.events.push(["exit",t,c]),t},interrupt:w(f,{interrupt:!0})},c={code:null,containerState:{},defineSkip:function(e){o[e.line]=e.column,b()},events:[],now:g,parser:e,previous:null,sliceSerialize:function(e,t){return function(e,t){let n=-1;const i=[];let o;for(;++n<e.length;){const r=e[n];let s;if("string"===typeof r)s=r;else switch(r){case-5:s="\r";break;case-4:s="\n";break;case-3:s="\r\n";break;case-2:s=t?" ":"\t";break;case-1:if(!t&&o)continue;s=" ";break;default:s=String.fromCharCode(r)}o=-2===r,i.push(s)}return i.join("")}(p(e),t)},sliceStream:p,write:function(e){if(s=Xre(s,e),m(),null!==s[s.length-1])return[];return C(t,0),c.events=sae(r,c.events,c),c.events}};let d,h=t.tokenize.call(c,u);return t.resolveAll&&r.push(t),c;function p(e){return function(e,t){const n=t.start._index,i=t.start._bufferIndex,o=t.end._index,r=t.end._bufferIndex;let s;if(n===o)s=[e[n].slice(i,r)];else{if(s=e.slice(n,o),i>-1){const e=s[0];"string"===typeof e?s[0]=e.slice(i):s.shift()}r>0&&s.push(e[o].slice(0,r))}return s}(s,e)}function g(){const{_bufferIndex:e,_index:t,line:n,column:o,offset:r}=i;return{_bufferIndex:e,_index:t,line:n,column:o,offset:r}}function m(){let e;for(;i._index<s.length;){const t=s[i._index];if("string"===typeof t)for(e=i._index,i._bufferIndex<0&&(i._bufferIndex=0);i._index===e&&i._bufferIndex<t.length;)v(t.charCodeAt(i._bufferIndex));else v(t)}}function v(e){l=void 0,d=e,h=h(e)}function f(e,t){t.restore()}function w(e,t){return function(n,o,r){let s,d,h,p;return Array.isArray(n)?m(n):"tokenize"in n?m([n]):function(e){return t;function t(t){const n=null!==t&&e[t],i=null!==t&&e.null;return m([...Array.isArray(n)?n:n?[n]:[],...Array.isArray(i)?i:i?[i]:[]])(t)}}(n);function m(e){return s=e,d=0,0===e.length?r:v(e[d])}function v(e){return function(n){p=function(){const e=g(),t=c.previous,n=c.currentConstruct,o=c.events.length,r=Array.from(a);return{from:o,restore:s};function s(){i=e,c.previous=t,c.currentConstruct=n,c.events.length=o,a=r,b()}}(),h=e,e.partial||(c.currentConstruct=e);if(e.name&&c.parser.constructs.disable.null.includes(e.name))return w(n);return e.tokenize.call(t?Object.assign(Object.create(c),t):c,u,f,w)(n)}}function f(t){return l=!0,e(h,p),o}function w(e){return l=!0,p.restore(),++d<s.length?v(s[d]):r}}}function C(e,t){e.resolveAll&&!r.includes(e)&&r.push(e),e.resolve&&$re(c.events,t,c.events.length-t,e.resolve(c.events.slice(t),c)),e.resolveTo&&(c.events=e.resolveTo(c.events,c))}function b(){i.line in o&&i.column<2&&(i.column=o[i.line],i.offset+=o[i.line]-1)}}function Pae(e){const n=function(e){const t={};let n=-1;for(;++n<e.length;)ise(t,e[n]);return t}([t,...(e||{}).extensions||[]]),i={constructs:n,content:o(Cse),defined:[],document:o(bse),flow:o(Ese),lazy:{},string:o(kse),text:o(Ase)};return i;function o(e){return function(t){return Rae(i,e,t)}}}const Tae=/[\0\t\n\r]/g;function _ae(e,t){const n=Number.parseInt(e,t);return n<9||11===n||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||65535===(65535&n)||65534===(65535&n)||n>1114111?"\ufffd":String.fromCodePoint(n)}const Mae=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function Iae(e,t,n){if(t)return t;if(35===n.charCodeAt(0)){const e=n.charCodeAt(1),t=120===e||88===e;return _ae(n.slice(t?2:1),t?16:10)}return nae(n)||e}const Lae={}.hasOwnProperty;function Nae(e,t,n){return"string"!==typeof t&&(n=t,t=void 0),function(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:r(te),autolinkProtocol:E,autolinkEmail:E,atxHeading:r(X),blockQuote:r(K),characterEscape:E,characterReference:E,codeFenced:r(q),codeFencedFenceInfo:s,codeFencedFenceMeta:s,codeIndented:r(q,s),codeText:r(Y,s),codeTextData:E,data:E,codeFlowValue:E,definition:r(Z),definitionDestinationString:s,definitionLabelString:s,definitionTitleString:s,emphasis:r($),hardBreakEscape:r(Q),hardBreakTrailing:r(Q),htmlFlow:r(J,s),htmlFlowData:E,htmlText:r(J,s),htmlTextData:E,image:r(ee),label:s,link:r(te),listItem:r(ie),listItemValue:h,listOrdered:r(ne,d),listUnordered:r(ne),paragraph:r(oe),reference:G,referenceString:s,resourceDestinationString:s,resourceTitleString:s,setextHeading:r(X),strong:r(re),thematicBreak:r(ae)},exit:{atxHeading:l(),atxHeadingSequence:y,autolink:l(),autolinkEmail:U,autolinkProtocol:W,blockQuote:l(),characterEscapeValue:F,characterReferenceMarkerHexadecimal:V,characterReferenceMarkerNumeric:V,characterReferenceValue:H,characterReference:j,codeFenced:l(v),codeFencedFence:m,codeFencedFenceInfo:p,codeFencedFenceMeta:g,codeFlowValue:F,codeIndented:l(f),codeText:l(T),codeTextData:F,data:F,definition:l(),definitionDestinationString:b,definitionLabelString:w,definitionTitleString:C,emphasis:l(),hardBreakEscape:l(A),hardBreakTrailing:l(A),htmlFlow:l(R),htmlFlowData:F,htmlText:l(P),htmlTextData:F,image:l(M),label:L,labelText:I,lineEnding:k,link:l(_),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:z,resourceDestinationString:N,resourceTitleString:B,resource:O,setextHeading:l(D),setextHeadingLineSequence:x,setextHeadingText:S,strong:l(),thematicBreak:l()}};Oae(t,(e||{}).mdastExtensions||[]);const n={};return i;function i(e){let i={type:"root",children:[]};const r={stack:[i],tokenStack:[],config:t,enter:a,exit:u,buffer:s,resume:c,data:n},l=[];let d=-1;for(;++d<e.length;)if("listOrdered"===e[d][1].type||"listUnordered"===e[d][1].type)if("enter"===e[d][0])l.push(d);else{d=o(e,l.pop(),d)}for(d=-1;++d<e.length;){const n=t[e[d][0]];Lae.call(n,e[d][1].type)&&n[e[d][1].type].call(Object.assign({sliceSerialize:e[d][2].sliceSerialize},r),e[d][1])}if(r.tokenStack.length>0){const e=r.tokenStack[r.tokenStack.length-1];(e[1]||zae).call(r,void 0,e[0])}for(i.position={start:Bae(e.length>0?e[0][1].start:{line:1,column:1,offset:0}),end:Bae(e.length>0?e[e.length-2][1].end:{line:1,column:1,offset:0})},d=-1;++d<t.transforms.length;)i=t.transforms[d](i)||i;return i}function o(e,t,n){let i,o,r,s,a=t-1,l=-1,u=!1;for(;++a<=n;){const t=e[a];switch(t[1].type){case"listUnordered":case"listOrdered":case"blockQuote":"enter"===t[0]?l++:l--,s=void 0;break;case"lineEndingBlank":"enter"===t[0]&&(!i||s||l||r||(r=a),s=void 0);break;case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:s=void 0}if(!l&&"enter"===t[0]&&"listItemPrefix"===t[1].type||-1===l&&"exit"===t[0]&&("listUnordered"===t[1].type||"listOrdered"===t[1].type)){if(i){let s=a;for(o=void 0;s--;){const t=e[s];if("lineEnding"===t[1].type||"lineEndingBlank"===t[1].type){if("exit"===t[0])continue;o&&(e[o][1].type="lineEndingBlank",u=!0),t[1].type="lineEnding",o=s}else if("linePrefix"!==t[1].type&&"blockQuotePrefix"!==t[1].type&&"blockQuotePrefixWhitespace"!==t[1].type&&"blockQuoteMarker"!==t[1].type&&"listItemIndent"!==t[1].type)break}r&&(!o||r<o)&&(i._spread=!0),i.end=Object.assign({},o?e[o][1].start:t[1].end),e.splice(o||a,0,["exit",i,t[2]]),a++,n++}if("listItemPrefix"===t[1].type){const o={type:"listItem",_spread:!1,start:Object.assign({},t[1].start),end:void 0};i=o,e.splice(a,0,["enter",o,t[2]]),a++,n++,r=void 0,s=!0}}}return e[t][1]._spread=u,n}function r(e,t){return n;function n(n){a.call(this,e(n),n),t&&t.call(this,n)}}function s(){this.stack.push({type:"fragment",children:[]})}function a(e,t,n){this.stack[this.stack.length-1].children.push(e),this.stack.push(e),this.tokenStack.push([t,n||void 0]),e.position={start:Bae(t.start),end:void 0}}function l(e){return t;function t(t){e&&e.call(this,t),u.call(this,t)}}function u(e,t){const n=this.stack.pop(),i=this.tokenStack.pop();if(!i)throw new Error("Cannot close `"+e.type+"` ("+Dre({start:e.start,end:e.end})+"): it\u2019s not open");if(i[0].type!==e.type)if(t)t.call(this,e,i[0]);else{(i[1]||zae).call(this,e,i[0])}n.position.end=Bae(e.end)}function c(){return function(e,t){const n=t||qre;return Yre(e,"boolean"!==typeof n.includeImageAlt||n.includeImageAlt,"boolean"!==typeof n.includeHtml||n.includeHtml)}(this.stack.pop())}function d(){this.data.expectingFirstListItemValue=!0}function h(e){if(this.data.expectingFirstListItemValue){this.stack[this.stack.length-2].start=Number.parseInt(this.sliceSerialize(e),10),this.data.expectingFirstListItemValue=void 0}}function p(){const e=this.resume();this.stack[this.stack.length-1].lang=e}function g(){const e=this.resume();this.stack[this.stack.length-1].meta=e}function m(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function v(){const e=this.resume();this.stack[this.stack.length-1].value=e.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function f(){const e=this.resume();this.stack[this.stack.length-1].value=e.replace(/(\r?\n|\r)$/g,"")}function w(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.label=t,n.identifier=Vse(this.sliceSerialize(e)).toLowerCase()}function C(){const e=this.resume();this.stack[this.stack.length-1].title=e}function b(){const e=this.resume();this.stack[this.stack.length-1].url=e}function y(e){const t=this.stack[this.stack.length-1];if(!t.depth){const n=this.sliceSerialize(e).length;t.depth=n}}function S(){this.data.setextHeadingSlurpLineEnding=!0}function x(e){this.stack[this.stack.length-1].depth=61===this.sliceSerialize(e).codePointAt(0)?1:2}function D(){this.data.setextHeadingSlurpLineEnding=void 0}function E(e){const t=this.stack[this.stack.length-1].children;let n=t[t.length-1];n&&"text"===n.type||(n=se(),n.position={start:Bae(e.start),end:void 0},t.push(n)),this.stack.push(n)}function F(e){const t=this.stack.pop();t.value+=this.sliceSerialize(e),t.position.end=Bae(e.end)}function k(e){const n=this.stack[this.stack.length-1];if(this.data.atHardBreak){return n.children[n.children.length-1].position.end=Bae(e.end),void(this.data.atHardBreak=void 0)}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(n.type)&&(E.call(this,e),F.call(this,e))}function A(){this.data.atHardBreak=!0}function R(){const e=this.resume();this.stack[this.stack.length-1].value=e}function P(){const e=this.resume();this.stack[this.stack.length-1].value=e}function T(){const e=this.resume();this.stack[this.stack.length-1].value=e}function _(){const e=this.stack[this.stack.length-1];if(this.data.inReference){const t=this.data.referenceType||"shortcut";e.type+="Reference",e.referenceType=t,delete e.url,delete e.title}else delete e.identifier,delete e.label;this.data.referenceType=void 0}function M(){const e=this.stack[this.stack.length-1];if(this.data.inReference){const t=this.data.referenceType||"shortcut";e.type+="Reference",e.referenceType=t,delete e.url,delete e.title}else delete e.identifier,delete e.label;this.data.referenceType=void 0}function I(e){const t=this.sliceSerialize(e),n=this.stack[this.stack.length-2];n.label=function(e){return e.replace(Mae,Iae)}(t),n.identifier=Vse(t).toLowerCase()}function L(){const e=this.stack[this.stack.length-1],t=this.resume(),n=this.stack[this.stack.length-1];if(this.data.inReference=!0,"link"===n.type){const t=e.children;n.children=t}else n.alt=t}function N(){const e=this.resume();this.stack[this.stack.length-1].url=e}function B(){const e=this.resume();this.stack[this.stack.length-1].title=e}function O(){this.data.inReference=void 0}function G(){this.data.referenceType="collapsed"}function z(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.label=t,n.identifier=Vse(this.sliceSerialize(e)).toLowerCase(),this.data.referenceType="full"}function V(e){this.data.characterReferenceType=e.type}function H(e){const t=this.sliceSerialize(e),n=this.data.characterReferenceType;let i;if(n)i=_ae(t,"characterReferenceMarkerNumeric"===n?10:16),this.data.characterReferenceType=void 0;else{i=nae(t)}this.stack[this.stack.length-1].value+=i}function j(e){this.stack.pop().position.end=Bae(e.end)}function W(e){F.call(this,e);this.stack[this.stack.length-1].url=this.sliceSerialize(e)}function U(e){F.call(this,e);this.stack[this.stack.length-1].url="mailto:"+this.sliceSerialize(e)}function K(){return{type:"blockquote",children:[]}}function q(){return{type:"code",lang:null,meta:null,value:""}}function Y(){return{type:"inlineCode",value:""}}function Z(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function $(){return{type:"emphasis",children:[]}}function X(){return{type:"heading",depth:0,children:[]}}function Q(){return{type:"break"}}function J(){return{type:"html",value:""}}function ee(){return{type:"image",title:null,url:"",alt:null}}function te(){return{type:"link",title:null,url:"",children:[]}}function ne(e){return{type:"list",ordered:"listOrdered"===e.type,start:null,spread:e._spread,children:[]}}function ie(e){return{type:"listItem",spread:e._spread,checked:null,children:[]}}function oe(){return{type:"paragraph",children:[]}}function re(){return{type:"strong",children:[]}}function se(){return{type:"text",value:""}}function ae(){return{type:"thematicBreak"}}}(n)(function(e){for(;!ese(e););return e}(Pae(n).document().write(function(){let e,t=1,n="",i=!0;return function(o,r,s){const a=[];let l,u,c,d,h;for(o=n+("string"===typeof o?o.toString():new TextDecoder(r||void 0).decode(o)),c=0,n="",i&&(65279===o.charCodeAt(0)&&c++,i=void 0);c<o.length;){if(Tae.lastIndex=c,l=Tae.exec(o),d=l&&void 0!==l.index?l.index:o.length,h=o.charCodeAt(d),!l){n=o.slice(c);break}if(10===h&&c===d&&e)a.push(-3),e=void 0;else switch(e&&(a.push(-5),e=void 0),c<d&&(a.push(o.slice(c,d)),t+=d-c),h){case 0:a.push(65533),t++;break;case 9:for(u=4*Math.ceil(t/4),a.push(-2);t++<u;)a.push(-1);break;case 10:a.push(-4),t=1;break;default:e=!0,t=1}c=d+1}return s&&(e&&a.push(-5),n&&a.push(n),a.push(null)),a}}()(e,t,!0))))}function Bae(e){return{line:e.line,column:e.column,offset:e.offset}}function Oae(e,t){let n=-1;for(;++n<t.length;){const i=t[n];Array.isArray(i)?Oae(e,i):Gae(e,i)}}function Gae(e,t){let n;for(n in t)if(Lae.call(t,n))switch(n){case"canContainEols":{const i=t[n];i&&e[n].push(...i);break}case"transforms":{const i=t[n];i&&e[n].push(...i);break}case"enter":case"exit":{const i=t[n];i&&Object.assign(e[n],i);break}}}function zae(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Dre({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Dre({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Dre({start:t.start,end:t.end})+") is still open")}function Vae(e){const t=this;t.parser=function(n){return Nae(n,d(d(d({},t.data("settings")),e),{},{extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]}))}}const Hae="object"===typeof self?self:globalThis,jae=e=>((e,t)=>{const n=(t,n)=>(e.set(n,t),t),i=o=>{if(e.has(o))return e.get(o);const[r,s]=t[o];switch(r){case 0:case-1:return n(s,o);case 1:{const e=n([],o);for(const t of s)e.push(i(t));return e}case 2:{const e=n({},o);for(const[t,n]of s)e[i(t)]=i(n);return e}case 3:return n(new Date(s),o);case 4:{const{source:e,flags:t}=s;return n(new RegExp(e,t),o)}case 5:{const e=n(new Map,o);for(const[t,n]of s)e.set(i(t),i(n));return e}case 6:{const e=n(new Set,o);for(const t of s)e.add(i(t));return e}case 7:{const{name:e,message:t}=s;return n(new Hae[e](t),o)}case 8:return n(BigInt(s),o);case"BigInt":return n(Object(BigInt(s)),o);case"ArrayBuffer":return n(new Uint8Array(s).buffer,s);case"DataView":{const{buffer:e}=new Uint8Array(s);return n(new DataView(e),s)}}return n(new Hae[r](s),o)};return i})(new Map,e)(0),Wae="",{toString:Uae}={},{keys:Kae}=Object,qae=e=>{const t=typeof e;if("object"!==t||!e)return[0,t];const n=Uae.call(e).slice(8,-1);switch(n){case"Array":return[1,Wae];case"Object":return[2,Wae];case"Date":return[3,Wae];case"RegExp":return[4,Wae];case"Map":return[5,Wae];case"Set":return[6,Wae];case"DataView":return[1,n]}return n.includes("Array")?[1,n]:n.includes("Error")?[7,n]:[2,n]},Yae=e=>{let[t,n]=e;return 0===t&&("function"===n||"symbol"===n)},Zae=function(e){let{json:t,lossy:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=[];return((e,t,n,i)=>{const o=(e,t)=>{const o=i.push(e)-1;return n.set(t,o),o},r=i=>{if(n.has(i))return n.get(i);let[s,a]=qae(i);switch(s){case 0:{let t=i;switch(a){case"bigint":s=8,t=i.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+a);t=null;break;case"undefined":return o([-1],i)}return o([s,t],i)}case 1:{if(a){let e=i;return"DataView"===a?e=new Uint8Array(i.buffer):"ArrayBuffer"===a&&(e=new Uint8Array(i)),o([a,[...e]],i)}const e=[],t=o([s,e],i);for(const n of i)e.push(r(n));return t}case 2:{if(a)switch(a){case"BigInt":return o([a,i.toString()],i);case"Boolean":case"Number":case"String":return o([a,i.valueOf()],i)}if(t&&"toJSON"in i)return r(i.toJSON());const n=[],l=o([s,n],i);for(const t of Kae(i))!e&&Yae(qae(i[t]))||n.push([r(t),r(i[t])]);return l}case 3:return o([s,i.toISOString()],i);case 4:{const{source:e,flags:t}=i;return o([s,{source:e,flags:t}],i)}case 5:{const t=[],n=o([s,t],i);for(const[o,s]of i)(e||!Yae(qae(o))&&!Yae(qae(s)))&&t.push([r(o),r(s)]);return n}case 6:{const t=[],n=o([s,t],i);for(const o of i)!e&&Yae(qae(o))||t.push(r(o));return n}}const{message:l}=i;return o([s,{name:a,message:l}],i)};return r})(!(t||n),!!t,new Map,i)(e),i},$ae="function"===typeof structuredClone?(e,t)=>t&&("json"in t||"lossy"in t)?jae(Zae(e,t)):structuredClone(e):(e,t)=>jae(Zae(e,t));function Xae(e){const t=[];let n=-1,i=0,o=0;for(;++n<e.length;){const r=e.charCodeAt(n);let s="";if(37===r&&sse(e.charCodeAt(n+1))&&sse(e.charCodeAt(n+2)))o=2;else if(r<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(r))||(s=String.fromCharCode(r));else if(r>55295&&r<57344){const t=e.charCodeAt(n+1);r<56320&&t>56319&&t<57344?(s=String.fromCharCode(r,t),o=1):s="\ufffd"}else s=String.fromCharCode(r);s&&(t.push(e.slice(i,n),encodeURIComponent(s)),i=n+o+1,s=""),o&&(n+=o,o=0)}return t.join("")+e.slice(i)}function Qae(e,t){const n=[{type:"text",value:"\u21a9"}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function Jae(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}const ele=function(e){if(null===e||void 0===e)return nle;if("function"===typeof e)return tle(e);if("object"===typeof e)return Array.isArray(e)?function(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=ele(e[n]);return tle(i);function i(){let e=-1;for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];for(;++e<t.length;)if(t[e].apply(this,i))return!0;return!1}}(e):function(e){const t=e;return tle(n);function n(n){const i=n;let o;for(o in e)if(i[o]!==t[o])return!1;return!0}}(e);if("string"===typeof e)return function(e){return tle(t);function t(t){return t&&t.type===e}}(e);throw new Error("Expected function, string, or object as test")};function tle(e){return function(t,n,i){return Boolean(ile(t)&&e.call(this,t,"number"===typeof n?n:void 0,i||void 0))}}function nle(){return!0}function ile(e){return null!==e&&"object"===typeof e&&"type"in e}const ole=[],rle=!0,sle=!1;function ale(e,t,n,i){let o;"function"===typeof t&&"function"!==typeof n?(i=n,n=t):o=t;const r=ele(o),s=i?-1:1;!function e(o,a,l){const u=o&&"object"===typeof o?o:{};if("string"===typeof u.type){const e="string"===typeof u.tagName?u.tagName:"string"===typeof u.name?u.name:void 0;Object.defineProperty(c,"name",{value:"node ("+o.type+(e?"<"+e+">":"")+")"})}return c;function c(){let u,c,d,h=ole;if((!t||r(o,a,l[l.length-1]||void 0))&&(h=function(e){if(Array.isArray(e))return e;if("number"===typeof e)return[rle,e];return null===e||void 0===e?ole:[e]}(n(o,l)),h[0]===sle))return h;if("children"in o&&o.children){const t=o;if(t.children&&"skip"!==h[0])for(c=(i?t.children.length:-1)+s,d=l.concat(t);c>-1&&c<t.children.length;){const n=t.children[c];if(u=e(n,c,d)(),u[0]===sle)return u;c="number"===typeof u[1]?u[1]:c+s}}return h}}(e,void 0,[])()}function lle(e,t,n,i){let o,r,s;"function"===typeof t&&"function"!==typeof n?(r=void 0,s=t,o=n):(r=t,s=n,o=i),ale(e,r,function(e,t){const n=t[t.length-1],i=n?n.children.indexOf(e):void 0;return s(e,i,n)},o)}function ule(e,t){const n=t.referenceType;let i="]";if("collapsed"===n?i+="[]":"full"===n&&(i+="["+(t.label||t.identifier)+"]"),"imageReference"===t.type)return[{type:"text",value:"!["+t.alt+i}];const o=e.all(t),r=o[0];r&&"text"===r.type?r.value="["+r.value:o.unshift({type:"text",value:"["});const s=o[o.length-1];return s&&"text"===s.type?s.value+=i:o.push({type:"text",value:i}),o}function cle(e){const t=e.spread;return null===t||void 0===t?e.children.length>1:t}function dle(e){const t=String(e),n=/\r?\n|\r/g;let i=n.exec(t),o=0;const r=[];for(;i;)r.push(hle(t.slice(o,i.index),o>0,!0),i[0]),o=i.index+i[0].length,i=n.exec(t);return r.push(hle(t.slice(o),o>0,!1)),r.join("")}function hle(e,t,n){let i=0,o=e.length;if(t){let t=e.codePointAt(i);for(;9===t||32===t;)i++,t=e.codePointAt(i)}if(n){let t=e.codePointAt(o-1);for(;9===t||32===t;)o--,t=e.codePointAt(o-1)}return o>i?e.slice(i,o):""}const ple={blockquote:function(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)},break:function(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:"\n"}]},code:function(e,t){const n=t.value?t.value+"\n":"",i={};t.lang&&(i.className=["language-"+t.lang]);let o={type:"element",tagName:"code",properties:i,children:[{type:"text",value:n}]};return t.meta&&(o.data={meta:t.meta}),e.patch(t,o),o=e.applyData(t,o),o={type:"element",tagName:"pre",properties:{},children:[o]},e.patch(t,o),o},delete:function(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},emphasis:function(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},footnoteReference:function(e,t){const n="string"===typeof e.options.clobberPrefix?e.options.clobberPrefix:"user-content-",i=String(t.identifier).toUpperCase(),o=Xae(i.toLowerCase()),r=e.footnoteOrder.indexOf(i);let s,a=e.footnoteCounts.get(i);void 0===a?(a=0,e.footnoteOrder.push(i),s=e.footnoteOrder.length):s=r+1,a+=1,e.footnoteCounts.set(i,a);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+o,id:n+"fnref-"+o+(a>1?"-"+a:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(s)}]};e.patch(t,l);const u={type:"element",tagName:"sup",properties:{},children:[l]};return e.patch(t,u),e.applyData(t,u)},heading:function(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},html:function(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}},imageReference:function(e,t){const n=String(t.identifier).toUpperCase(),i=e.definitionById.get(n);if(!i)return ule(e,t);const o={src:Xae(i.url||""),alt:t.alt};null!==i.title&&void 0!==i.title&&(o.title=i.title);const r={type:"element",tagName:"img",properties:o,children:[]};return e.patch(t,r),e.applyData(t,r)},image:function(e,t){const n={src:Xae(t.url)};null!==t.alt&&void 0!==t.alt&&(n.alt=t.alt),null!==t.title&&void 0!==t.title&&(n.title=t.title);const i={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,i),e.applyData(t,i)},inlineCode:function(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const i={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,i),e.applyData(t,i)},linkReference:function(e,t){const n=String(t.identifier).toUpperCase(),i=e.definitionById.get(n);if(!i)return ule(e,t);const o={href:Xae(i.url||"")};null!==i.title&&void 0!==i.title&&(o.title=i.title);const r={type:"element",tagName:"a",properties:o,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)},link:function(e,t){const n={href:Xae(t.url)};null!==t.title&&void 0!==t.title&&(n.title=t.title);const i={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,i),e.applyData(t,i)},listItem:function(e,t,n){const i=e.all(t),o=n?function(e){let t=!1;if("list"===e.type){t=e.spread||!1;const n=e.children;let i=-1;for(;!t&&++i<n.length;)t=cle(n[i])}return t}(n):cle(t),r={},s=[];if("boolean"===typeof t.checked){const e=i[0];let n;e&&"element"===e.type&&"p"===e.tagName?n=e:(n={type:"element",tagName:"p",properties:{},children:[]},i.unshift(n)),n.children.length>0&&n.children.unshift({type:"text",value:" "}),n.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),r.className=["task-list-item"]}let a=-1;for(;++a<i.length;){const e=i[a];(o||0!==a||"element"!==e.type||"p"!==e.tagName)&&s.push({type:"text",value:"\n"}),"element"!==e.type||"p"!==e.tagName||o?s.push(e):s.push(...e.children)}const l=i[i.length-1];l&&(o||"element"!==l.type||"p"!==l.tagName)&&s.push({type:"text",value:"\n"});const u={type:"element",tagName:"li",properties:r,children:s};return e.patch(t,u),e.applyData(t,u)},list:function(e,t){const n={},i=e.all(t);let o=-1;for("number"===typeof t.start&&1!==t.start&&(n.start=t.start);++o<i.length;){const e=i[o];if("element"===e.type&&"li"===e.tagName&&e.properties&&Array.isArray(e.properties.className)&&e.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const r={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(i,!0)};return e.patch(t,r),e.applyData(t,r)},paragraph:function(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},root:function(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)},strong:function(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},table:function(e,t){const n=e.all(t),i=n.shift(),o=[];if(i){const n={type:"element",tagName:"thead",properties:{},children:e.wrap([i],!0)};e.patch(t.children[0],n),o.push(n)}if(n.length>0){const i={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},r=Sre(t.children[1]),s=yre(t.children[t.children.length-1]);r&&s&&(i.position={start:r,end:s}),o.push(i)}const r={type:"element",tagName:"table",properties:{},children:e.wrap(o,!0)};return e.patch(t,r),e.applyData(t,r)},tableCell:function(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},tableRow:function(e,t,n){const i=n?n.children:void 0,o=0===(i?i.indexOf(t):1)?"th":"td",r=n&&"table"===n.type?n.align:void 0,s=r?r.length:t.children.length;let a=-1;const l=[];for(;++a<s;){const n=t.children[a],i={},s=r?r[a]:void 0;s&&(i.align=s);let u={type:"element",tagName:o,properties:i,children:[]};n&&(u.children=e.all(n),e.patch(n,u),u=e.applyData(n,u)),l.push(u)}const u={type:"element",tagName:"tr",properties:{},children:e.wrap(l,!0)};return e.patch(t,u),e.applyData(t,u)},text:function(e,t){const n={type:"text",value:dle(String(t.value))};return e.patch(t,n),e.applyData(t,n)},thematicBreak:function(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)},toml:gle,yaml:gle,definition:gle,footnoteDefinition:gle};function gle(){}const mle=["children"],vle={}.hasOwnProperty,fle={};function wle(e,t){e.position&&(t.position=function(e){const t=Sre(e),n=yre(e);if(t&&n)return{start:t,end:n}}(e))}function Cle(e,t){let n=t;if(e&&e.data){const t=e.data.hName,i=e.data.hChildren,o=e.data.hProperties;if("string"===typeof t)if("element"===n.type)n.tagName=t;else{n={type:"element",tagName:t,properties:{},children:"children"in n?n.children:[n]}}"element"===n.type&&o&&Object.assign(n.properties,$ae(o)),"children"in n&&n.children&&null!==i&&void 0!==i&&(n.children=i)}return n}function ble(e,t){const n=t.data||{},i=!("value"in t)||vle.call(n,"hProperties")||vle.call(n,"hChildren")?{type:"element",tagName:"div",properties:{},children:e.all(t)}:{type:"text",value:t.value};return e.patch(t,i),e.applyData(t,i)}function yle(e,t){const n=[];let i=-1;for(t&&n.push({type:"text",value:"\n"});++i<e.length;)i&&n.push({type:"text",value:"\n"}),n.push(e[i]);return t&&e.length>0&&n.push({type:"text",value:"\n"}),n}function Sle(e){let t=0,n=e.charCodeAt(t);for(;9===n||32===n;)t++,n=e.charCodeAt(t);return e.slice(t)}function xle(e,t){const n=function(e,t){const n=t||fle,i=new Map,o=new Map,r=new Map,a=d(d({},ple),n.handlers),l={all:function(e){const t=[];if("children"in e){const n=e.children;let i=-1;for(;++i<n.length;){const o=l.one(n[i],e);if(o){if(i&&"break"===n[i-1].type&&(Array.isArray(o)||"text"!==o.type||(o.value=Sle(o.value)),!Array.isArray(o)&&"element"===o.type)){const e=o.children[0];e&&"text"===e.type&&(e.value=Sle(e.value))}Array.isArray(o)?t.push(...o):t.push(o)}}}return t},applyData:Cle,definitionById:i,footnoteById:o,footnoteCounts:r,footnoteOrder:[],handlers:a,one:function(e,t){const n=e.type,i=l.handlers[n];if(vle.call(l.handlers,n)&&i)return i(l,e,t);if(l.options.passThrough&&l.options.passThrough.includes(n)){if("children"in e){const{children:t}=e,n=s(e,mle),i=$ae(n);return i.children=l.all(e),i}return $ae(e)}return(l.options.unknownHandler||ble)(l,e,t)},options:n,patch:wle,wrap:yle};return lle(e,function(e){if("definition"===e.type||"footnoteDefinition"===e.type){const t="definition"===e.type?i:o,n=String(e.identifier).toUpperCase();t.has(n)||t.set(n,e)}}),l}(e,t),i=n.one(e,void 0),o=function(e){const t="string"===typeof e.options.clobberPrefix?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||Qae,i=e.options.footnoteBackLabel||Jae,o=e.options.footnoteLabel||"Footnotes",r=e.options.footnoteLabelTagName||"h2",s=e.options.footnoteLabelProperties||{className:["sr-only"]},a=[];let l=-1;for(;++l<e.footnoteOrder.length;){const o=e.footnoteById.get(e.footnoteOrder[l]);if(!o)continue;const r=e.all(o),s=String(o.identifier).toUpperCase(),u=Xae(s.toLowerCase());let c=0;const d=[],h=e.footnoteCounts.get(s);for(;void 0!==h&&++c<=h;){d.length>0&&d.push({type:"text",value:" "});let e="string"===typeof n?n:n(l,c);"string"===typeof e&&(e={type:"text",value:e}),d.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+u+(c>1?"-"+c:""),dataFootnoteBackref:"",ariaLabel:"string"===typeof i?i:i(l,c),className:["data-footnote-backref"]},children:Array.isArray(e)?e:[e]})}const p=r[r.length-1];if(p&&"element"===p.type&&"p"===p.tagName){const e=p.children[p.children.length-1];e&&"text"===e.type?e.value+=" ":p.children.push({type:"text",value:" "}),p.children.push(...d)}else r.push(...d);const g={type:"element",tagName:"li",properties:{id:t+"fn-"+u},children:e.wrap(r,!0)};e.patch(o,g),a.push(g)}if(0!==a.length)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:r,properties:d(d({},$ae(s)),{},{id:"footnote-label"}),children:[{type:"text",value:o}]},{type:"text",value:"\n"},{type:"element",tagName:"ol",properties:{},children:e.wrap(a,!0)},{type:"text",value:"\n"}]}}(n),r=Array.isArray(i)?{type:"root",children:i}:i||{type:"root",children:[]};return o&&r.children.push({type:"text",value:"\n"},o),r}function Dle(e,t){return e&&"run"in e?async function(n,i){const o=xle(n,d({file:i},t));await e.run(o,i)}:function(n,i){return xle(n,d({file:i},e||t))}}function Ele(e){if(e)throw e}var Fle=n(240);function kle(e){if("object"!==typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function Ale(){const e=[],t={run:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];let o=-1;const r=n.pop();if("function"!==typeof r)throw new TypeError("Expected function as last argument, not "+r);!function t(i){const s=e[++o];let a=-1;if(i)r(i);else{for(var l=arguments.length,u=new Array(l>1?l-1:0),c=1;c<l;c++)u[c-1]=arguments[c];for(;++a<n.length;)null!==u[a]&&void 0!==u[a]||(u[a]=n[a]);n=u,s?function(e,t){let n;return o;function o(){for(var t=arguments.length,o=new Array(t),a=0;a<t;a++)o[a]=arguments[a];const l=e.length>o.length;let u;l&&o.push(r);try{u=e.apply(this,o)}catch(i){if(l&&n)throw i;return r(i)}l||(u&&u.then&&"function"===typeof u.then?u.then(s,r):u instanceof Error?r(u):s(u))}function r(e){if(!n){n=!0;for(var i=arguments.length,o=new Array(i>1?i-1:0),r=1;r<i;r++)o[r-1]=arguments[r];t(e,...o)}}function s(e){r(null,e)}}(s,t)(...u):r(null,...u)}}(null,...n)},use:function(n){if("function"!==typeof n)throw new TypeError("Expected `middelware` to be a function, not "+n);return e.push(n),t}};return t}const Rle={basename:function(e,t){if(void 0!==t&&"string"!==typeof t)throw new TypeError('"ext" argument must be a string');Ple(e);let n,i=0,o=-1,r=e.length;if(void 0===t||0===t.length||t.length>e.length){for(;r--;)if(47===e.codePointAt(r)){if(n){i=r+1;break}}else o<0&&(n=!0,o=r+1);return o<0?"":e.slice(i,o)}if(t===e)return"";let s=-1,a=t.length-1;for(;r--;)if(47===e.codePointAt(r)){if(n){i=r+1;break}}else s<0&&(n=!0,s=r+1),a>-1&&(e.codePointAt(r)===t.codePointAt(a--)?a<0&&(o=r):(a=-1,o=s));i===o?o=s:o<0&&(o=e.length);return e.slice(i,o)},dirname:function(e){if(Ple(e),0===e.length)return".";let t,n=-1,i=e.length;for(;--i;)if(47===e.codePointAt(i)){if(t){n=i;break}}else t||(t=!0);return n<0?47===e.codePointAt(0)?"/":".":1===n&&47===e.codePointAt(0)?"//":e.slice(0,n)},extname:function(e){Ple(e);let t,n=e.length,i=-1,o=0,r=-1,s=0;for(;n--;){const a=e.codePointAt(n);if(47!==a)i<0&&(t=!0,i=n+1),46===a?r<0?r=n:1!==s&&(s=1):r>-1&&(s=-1);else if(t){o=n+1;break}}if(r<0||i<0||0===s||1===s&&r===i-1&&r===o+1)return"";return e.slice(r,i)},join:function(){let e,t=-1;for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];for(;++t<i.length;)Ple(i[t]),i[t]&&(e=void 0===e?i[t]:e+"/"+i[t]);return void 0===e?".":function(e){Ple(e);const t=47===e.codePointAt(0);let n=function(e,t){let n,i,o="",r=0,s=-1,a=0,l=-1;for(;++l<=e.length;){if(l<e.length)n=e.codePointAt(l);else{if(47===n)break;n=47}if(47===n){if(s===l-1||1===a);else if(s!==l-1&&2===a){if(o.length<2||2!==r||46!==o.codePointAt(o.length-1)||46!==o.codePointAt(o.length-2))if(o.length>2){if(i=o.lastIndexOf("/"),i!==o.length-1){i<0?(o="",r=0):(o=o.slice(0,i),r=o.length-1-o.lastIndexOf("/")),s=l,a=0;continue}}else if(o.length>0){o="",r=0,s=l,a=0;continue}t&&(o=o.length>0?o+"/..":"..",r=2)}else o.length>0?o+="/"+e.slice(s+1,l):o=e.slice(s+1,l),r=l-s-1;s=l,a=0}else 46===n&&a>-1?a++:a=-1}return o}(e,!t);0!==n.length||t||(n=".");n.length>0&&47===e.codePointAt(e.length-1)&&(n+="/");return t?"/"+n:n}(e)},sep:"/"};function Ple(e){if("string"!==typeof e)throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const Tle={cwd:function(){return"/"}};function _le(e){return Boolean(null!==e&&"object"===typeof e&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&void 0===e.auth)}function Mle(e){if("string"===typeof e)e=new URL(e);else if(!_le(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if("file:"!==e.protocol){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return function(e){if(""!==e.hostname){const e=new TypeError('File URL host must be "localhost" or empty on darwin');throw e.code="ERR_INVALID_FILE_URL_HOST",e}const t=e.pathname;let n=-1;for(;++n<t.length;)if(37===t.codePointAt(n)&&50===t.codePointAt(n+1)){const e=t.codePointAt(n+2);if(70===e||102===e){const e=new TypeError("File URL path must not include encoded / characters");throw e.code="ERR_INVALID_FILE_URL_PATH",e}}return decodeURIComponent(t)}(e)}const Ile=["history","path","basename","stem","extname","dirname"];class Lle{constructor(e){let t;t=e?_le(e)?{path:e}:"string"===typeof e||function(e){return Boolean(e&&"object"===typeof e&&"byteLength"in e&&"byteOffset"in e)}(e)?{value:e}:e:{},this.cwd="cwd"in t?"":Tle.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let n,i=-1;for(;++i<Ile.length;){const e=Ile[i];e in t&&void 0!==t[e]&&null!==t[e]&&(this[e]="history"===e?[...t[e]]:t[e])}for(n in t)Ile.includes(n)||(this[n]=t[n])}get basename(){return"string"===typeof this.path?Rle.basename(this.path):void 0}set basename(e){Ble(e,"basename"),Nle(e,"basename"),this.path=Rle.join(this.dirname||"",e)}get dirname(){return"string"===typeof this.path?Rle.dirname(this.path):void 0}set dirname(e){Ole(this.basename,"dirname"),this.path=Rle.join(e||"",this.basename)}get extname(){return"string"===typeof this.path?Rle.extname(this.path):void 0}set extname(e){if(Nle(e,"extname"),Ole(this.dirname,"extname"),e){if(46!==e.codePointAt(0))throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Rle.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){_le(e)&&(e=Mle(e)),Ble(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return"string"===typeof this.path?Rle.basename(this.path,this.extname):void 0}set stem(e){Ble(e,"stem"),Nle(e,"stem"),this.path=Rle.join(this.dirname||"",e+(this.extname||""))}fail(e,t,n){const i=this.message(e,t,n);throw i.fatal=!0,i}info(e,t,n){const i=this.message(e,t,n);return i.fatal=void 0,i}message(e,t,n){const i=new Are(e,t,n);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(e){if(void 0===this.value)return"";if("string"===typeof this.value)return this.value;return new TextDecoder(e||void 0).decode(this.value)}}function Nle(e,t){if(e&&e.includes(Rle.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Rle.sep+"`")}function Ble(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function Ole(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}const Gle=function(e){const t=this.constructor.prototype,n=t[e],i=function(){return n.apply(i,arguments)};return Object.setPrototypeOf(i,t),i},zle={}.hasOwnProperty;class Vle extends Gle{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=Ale()}copy(){const e=new Vle;let t=-1;for(;++t<this.attachers.length;){const n=this.attachers[t];e.use(...n)}return e.data(Fle(!0,{},this.namespace)),e}data(e,t){return"string"===typeof e?2===arguments.length?(Ule("data",this.frozen),this.namespace[e]=t,this):zle.call(this.namespace,e)&&this.namespace[e]||void 0:e?(Ule("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[t,...n]=this.attachers[this.freezeIndex];if(!1===n[0])continue;!0===n[0]&&(n[0]=void 0);const i=t.call(e,...n);"function"===typeof i&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const t=Yle(e),n=this.parser||this.Parser;return jle("parse",n),n(String(t),t)}process(e,t){const n=this;return this.freeze(),jle("process",this.parser||this.Parser),Wle("process",this.compiler||this.Compiler),t?i(void 0,t):new Promise(i);function i(i,o){const r=Yle(e),s=n.parse(r);function a(e,n){e||!n?o(e):i?i(n):t(void 0,n)}n.run(s,r,function(e,t,i){if(e||!t||!i)return a(e);const o=t,r=n.stringify(o,i);var s;"string"===typeof(s=r)||function(e){return Boolean(e&&"object"===typeof e&&"byteLength"in e&&"byteOffset"in e)}(s)?i.value=r:i.result=r,a(e,i)})}}processSync(e){let t,n=!1;return this.freeze(),jle("processSync",this.parser||this.Parser),Wle("processSync",this.compiler||this.Compiler),this.process(e,function(e,i){n=!0,Ele(e),t=i}),qle("processSync","process",n),t}run(e,t,n){Kle(e),this.freeze();const i=this.transformers;return n||"function"!==typeof t||(n=t,t=void 0),n?o(void 0,n):new Promise(o);function o(o,r){const s=Yle(t);i.run(e,s,function(t,i,s){const a=i||e;t?r(t):o?o(a):n(void 0,a,s)})}}runSync(e,t){let n,i=!1;return this.run(e,t,function(e,t){Ele(e),n=t,i=!0}),qle("runSync","run",i),n}stringify(e,t){this.freeze();const n=Yle(t),i=this.compiler||this.Compiler;return Wle("stringify",i),Kle(e),i(e,n)}use(e){const t=this.attachers,n=this.namespace;if(Ule("use",this.frozen),null===e||void 0===e);else if("function"===typeof e){for(var i=arguments.length,o=new Array(i>1?i-1:0),r=1;r<i;r++)o[r-1]=arguments[r];u(e,o)}else{if("object"!==typeof e)throw new TypeError("Expected usable value, not `"+e+"`");Array.isArray(e)?l(e):a(e)}return this;function s(e){if("function"===typeof e)u(e,[]);else{if("object"!==typeof e)throw new TypeError("Expected usable value, not `"+e+"`");if(Array.isArray(e)){const[t,...n]=e;u(t,n)}else a(e)}}function a(e){if(!("plugins"in e)&&!("settings"in e))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");l(e.plugins),e.settings&&(n.settings=Fle(!0,n.settings,e.settings))}function l(e){let t=-1;if(null===e||void 0===e);else{if(!Array.isArray(e))throw new TypeError("Expected a list of plugins, not `"+e+"`");for(;++t<e.length;){s(e[t])}}}function u(e,n){let i=-1,o=-1;for(;++i<t.length;)if(t[i][0]===e){o=i;break}if(-1===o)t.push([e,...n]);else if(n.length>0){let[i,...r]=n;const s=t[o][1];kle(s)&&kle(i)&&(i=Fle(!0,s,i)),t[o]=[e,i,...r]}}}}const Hle=(new Vle).freeze();function jle(e,t){if("function"!==typeof t)throw new TypeError("Cannot `"+e+"` without `parser`")}function Wle(e,t){if("function"!==typeof t)throw new TypeError("Cannot `"+e+"` without `compiler`")}function Ule(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function Kle(e){if(!kle(e)||"string"!==typeof e.type)throw new TypeError("Expected node, got `"+e+"`")}function qle(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Yle(e){return function(e){return Boolean(e&&"object"===typeof e&&"message"in e&&"messages"in e)}(e)?e:new Lle(e)}const Zle=[],$le={allowDangerousHtml:!0},Xle=/^(https?|ircs?|mailto|xmpp)$/i,Qle=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function Jle(e){const t=eue(e),n=tue(e);return nue(t.runSync(t.parse(n),n),e)}function eue(e){const t=e.rehypePlugins||Zle,n=e.remarkPlugins||Zle,i=e.remarkRehypeOptions?d(d({},e.remarkRehypeOptions),$le):$le;return Hle().use(Vae).use(n).use(Dle,i).use(t)}function tue(e){const t=e.children||"",n=new Lle;return"string"===typeof t&&(n.value=t),n}function nue(e,t){const n=t.allowedElements,i=t.allowElement,o=t.components,r=t.disallowedElements,s=t.skipHtml,a=t.unwrapDisallowed,l=t.urlTransform||iue;for(const u of Qle)Object.hasOwn(t,u.from)&&Ioe((u.from,u.to&&u.to,u.id));return lle(e,function(e,t,o){if("raw"===e.type&&o&&"number"===typeof t)return s?o.children.splice(t,1):o.children[t]={type:"text",value:e.value},t;if("element"===e.type){let t;for(t in Ure)if(Object.hasOwn(Ure,t)&&Object.hasOwn(e.properties,t)){const n=e.properties[t],i=Ure[t];(null===i||i.includes(e.tagName))&&(e.properties[t]=l(String(n||""),t,e))}}if("element"===e.type){let s=n?!n.includes(e.tagName):!!r&&r.includes(e.tagName);if(!s&&i&&"number"===typeof t&&(s=!i(e,t,o)),s&&o&&"number"===typeof t)return a&&e.children?o.children.splice(t,1,...e.children):o.children.splice(t,1),t}}),Lre(e,{Fragment:Kre.Fragment,components:o,ignoreInvalidStyle:!0,jsx:Kre.jsx,jsxs:Kre.jsxs,passKeys:!0,passNode:!0})}function iue(e){const t=e.indexOf(":"),n=e.indexOf("?"),i=e.indexOf("#"),o=e.indexOf("/");return-1===t||-1!==o&&t>o||-1!==n&&t>n||-1!==i&&t>i||Xle.test(e.slice(0,t))?e:""}function oue(e){let t={};return null===e||void 0===e||e.root,t}const rue={badge:"awsui_badge_1yjyg_12ixj_145","badge-color-grey":"awsui_badge-color-grey_1yjyg_12ixj_191","badge-color-green":"awsui_badge-color-green_1yjyg_12ixj_194","badge-color-blue":"awsui_badge-color-blue_1yjyg_12ixj_197","badge-color-red":"awsui_badge-color-red_1yjyg_12ixj_200","badge-color-severity-critical":"awsui_badge-color-severity-critical_1yjyg_12ixj_203","badge-color-severity-high":"awsui_badge-color-severity-high_1yjyg_12ixj_207","badge-color-severity-medium":"awsui_badge-color-severity-medium_1yjyg_12ixj_211","badge-color-severity-low":"awsui_badge-color-severity-low_1yjyg_12ixj_215","badge-color-severity-neutral":"awsui_badge-color-severity-neutral_1yjyg_12ixj_219"};function sue(e){var{color:t="grey",children:n,style:o}=e,r=Et(e,["color","children","style"]);const{__internalRootRef:s}=Dn("Badge",{props:{color:t}}),a=zt(r),l=Gn(a.className,rue.badge,rue["badge-color-".concat(t)]);return i.createElement("span",Object.assign({},a,{className:l},{ref:s,style:oue(o)}),n)}Ln(sue,"Badge");const aue=e=>i.createElement(sue,e);Ln(aue,"Badge");const lue=aue,uue=i.forwardRef((e,t)=>{var n=Et(e,[]);const o=Dn("Checkbox",{props:{readOnly:n.readOnly}});return i.createElement(EM,Object.assign({},n,o,{ref:t,__injectAnalyticsComponentMetadata:!0}))});Ln(uue,"Checkbox");const cue=uue,due=i.forwardRef((e,t)=>i.createElement(cue,d({ref:t},e)));Ln(due,"Checkbox");const hue=due;function pue(e){var{variant:t="default"}=e,n=Et(e,["variant"]);const o=Vt(n),r=Dn("ExpandableSection",{props:{disableContentPaddings:n.disableContentPaddings,headingTagOverride:n.headingTagOverride,variant:t},metadata:{hasInstanceIdentifier:Boolean(null===o||void 0===o?void 0:o.instanceIdentifier),hasHeaderActions:Boolean(n.headerActions)}},o);return i.createElement(SE,Object.assign({variant:t},n,r,{__injectAnalyticsComponentMetadata:!0}))}Ln(pue,"ExpandableSection");const gue={dialog:"awsui_dialog_1d2i7_1e7ip_169","modal-slide-up":"awsui_modal-slide-up_1d2i7_1e7ip_1","awsui-motion-fade-in-0":"awsui_awsui-motion-fade-in-0_1d2i7_1e7ip_1",refresh:"awsui_refresh_1d2i7_1e7ip_192","awsui-motion-scale-popup":"awsui_awsui-motion-scale-popup_1d2i7_1e7ip_1",root:"awsui_root_1d2i7_1e7ip_225","awsui-motion-fade-in":"awsui_awsui-motion-fade-in_1d2i7_1e7ip_1",hidden:"awsui_hidden_1d2i7_1e7ip_302","focus-lock":"awsui_focus-lock_1d2i7_1e7ip_306",small:"awsui_small_1d2i7_1e7ip_326",medium:"awsui_medium_1d2i7_1e7ip_329",large:"awsui_large_1d2i7_1e7ip_332",max:"awsui_max_1d2i7_1e7ip_335","breakpoint-xs":"awsui_breakpoint-xs_1d2i7_1e7ip_335",container:"awsui_container_1d2i7_1e7ip_341",content:"awsui_content_1d2i7_1e7ip_382","no-paddings":"awsui_no-paddings_1d2i7_1e7ip_387",header:"awsui_header_1d2i7_1e7ip_392","header--text":"awsui_header--text_1d2i7_1e7ip_404",footer:"awsui_footer_1d2i7_1e7ip_408","footer--stuck":"awsui_footer--stuck_1d2i7_1e7ip_417","dismiss-control":"awsui_dismiss-control_1d2i7_1e7ip_429","modal-open":"awsui_modal-open_1d2i7_1e7ip_433"};let mue;function vue(){!function(){if(document.body.clientWidth<window.innerWidth){mue=document.body.style.paddingRight;const e=parseInt(window.getComputedStyle(document.body).paddingRight,10)+fc().width;document.body.style.paddingRight=e+"px"}}(),document.body.classList.add(gue["modal-open"])}function fue(){document.body.classList.remove(gue["modal-open"]),function(){mue?document.body.style.setProperty("padding-right",mue):document.body.style.removeProperty("padding-right");mue=void 0}()}const wue="awsui_header_15dxs_1ns0c_5";function Cue(e){const{funnelProps:t,funnelSubmit:n,funnelNextOrSubmitAttempt:o}=Uo(),{funnelStepProps:r}=Wo(),{subStepRef:s,funnelSubStepProps:a}=jo();return i.createElement(bue,Object.assign({__funnelProps:t,__funnelStepProps:r,__subStepRef:s,__subStepFunnelProps:a,onButtonClick:e=>{let{variant:t}=e;"primary"===t&&(o(),n())}},e))}function bue(e){var{modalRoot:t,getModalRoot:n,removeModalRoot:o}=e,r=Et(e,["modalRoot","getModalRoot","removeModalRoot"]);return i.createElement(Ko,{container:t,getContainer:n,removeContainer:o},i.createElement(yue,Object.assign({},r)))}function yue(e){var t,{size:n,visible:o,header:r,children:s,footer:a,disableContentPaddings:l,onButtonClick:u=()=>{},onDismiss:c,__internalRootRef:d,__injectAnalyticsComponentMetadata:h,__funnelProps:p,__funnelStepProps:g,__subStepRef:m,__subStepFunnelProps:v,referrerId:f}=e,w=Et(e,["size","visible","header","children","footer","disableContentPaddings","onButtonClick","onDismiss","__internalRootRef","__injectAnalyticsComponentMetadata","__funnelProps","__funnelStepProps","__subStepRef","__subStepFunnelProps","referrerId"]);const C=Yi(),b="".concat(w.id||C,"-header"),y=(0,i.useRef)(null),[S,x]=Ip(["xs"]),D=Mt("modal")("closeAriaLabel",w.closeAriaLabel),E=(0,i.useRef)(null),F=Tt(x,E,d),k=Cn(),A=zt(w),R={name:"awsui.Modal",label:".".concat(wue," h2")},P=h?Qi({component:R}):{},T=(0,i.useRef)(0),_=(0,i.useRef)(0),M=(0,i.useRef)(0),I=(0,i.useRef)(!1);(0,i.useEffect)(()=>()=>{fue()},[]);const L=e=>{var t;if(0===M.current&&T.current&&0!==T.current&&!I.current){const n=e-T.current;so.modalPerformanceData({timeToContentReadyInModal:n,instanceIdentifier:C,componentIdentifier:(null===(t=V.current)||void 0===t?void 0:t.textContent)||""}),I.current=!0}};(0,i.useEffect)(()=>{o?(vue(),T.current=performance.now(),_.current=0,I.current=!1,setTimeout(()=>{L(T.current)},100)):fue()},[o]),(0,i.useEffect)(()=>{o&&E.current&&(E.current.scrollTop=0)},[o]);const N=e=>_i(c,{reason:e}),{ref:B,isIntersecting:O}=Oh(),[G,z]=Ri(e=>e.borderBoxHeight),V=(0,i.useRef)(null),{subStepRef:H}=jo();return i.createElement(Ho.Provider,{value:".".concat(gue["header--text"])},i.createElement(pk,null,i.createElement(Kr.Provider,{value:{isInModal:!0,componentLoadingCount:M,emitTimeToContentReadyInModal:L}},i.createElement("div",Object.assign({},A,p,g,{className:Gn(gue.root,{[gue.hidden]:!o},A.className,k&&gue.refresh),role:"dialog","aria-labelledby":b,onMouseDown:e=>{y.current=e.target},onClick:e=>{const t=E.current,n=y.current;e.target===t&&n===t&&N("overlay")},ref:F,style:G?{scrollPaddingBottom:G}:void 0,"data-awsui-referrer-id":(null===(t=H.current)||void 0===t?void 0:t.id)||f}),i.createElement(nr,{disabled:!o,autoFocus:!0,restoreFocus:!0,className:gue["focus-lock"]},i.createElement("div",Object.assign({className:Gn(gue.dialog,gue[n],gue["breakpoint-".concat(S)],k&&gue.refresh),onKeyDown:e=>{e.keyCode===ir.escape&&N("keyboard")}},P),i.createElement("div",{className:gue.container},i.createElement("div",{className:Gn(gue.header,wue)},i.createElement(Rf,{variant:"h2",__disableActionsWrapping:!0,actions:i.createElement("div",Object.assign({},Qi({action:"dismiss"})),i.createElement(Ds,{ariaLabel:D,className:gue["dismiss-control"],variant:"modal-dismiss",iconName:"close",formAction:"none",onClick:()=>N("closeButton")}))},i.createElement("span",{ref:V,id:b,className:gue["header--text"]},r))),i.createElement("div",Object.assign({ref:m},v,{className:Gn(gue.content,{[gue["no-paddings"]]:l})}),s,i.createElement("div",{ref:B})),a&&i.createElement(Gr.Provider,{value:{onClick:u}},i.createElement("div",{ref:z,className:Gn(gue.footer,O&&gue["footer--stuck"])},a)))))))))}function Sue(e){var{analyticsMetadata:t,baseComponentProps:n,size:o="medium"}=e,r=Et(e,["analyticsMetadata","baseComponentProps","size"]);const s=Yi(),a={[Fo]:s};return i.createElement(Uw,{mounted:r.visible,funnelIdentifier:null===t||void 0===t?void 0:t.instanceIdentifier,funnelFlowType:null===t||void 0===t?void 0:t.flowType,funnelErrorContext:null===t||void 0===t?void 0:t.errorContext,funnelResourceType:null===t||void 0===t?void 0:t.resourceType,funnelType:"modal",optionalStepNumbers:[],totalFunnelSteps:1,funnelNameSelectors:()=>{var e;return["[".concat(Fo,'="').concat(null===(e=null===window||void 0===window?void 0:window.CSS)||void 0===e?void 0:e.escape(s),'"] .').concat(gue["header--text"])]}},i.createElement(Yw,{mounted:r.visible,stepIdentifier:null===t||void 0===t?void 0:t.instanceIdentifier,stepErrorContext:null===t||void 0===t?void 0:t.errorContext,stepNumber:1},i.createElement(Xw,{subStepIdentifier:null===t||void 0===t?void 0:t.instanceIdentifier,subStepErrorContext:null===t||void 0===t?void 0:t.errorContext},i.createElement(Cue,Object.assign({size:o},r,n,a,{__injectAnalyticsComponentMetadata:!0})))))}function xue(e){var{size:t="medium"}=e,n=Et(e,["size"]);const{isInFunnel:o}=Uo(),r=Vt(n),s=Dn("Modal",{props:{size:t,disableContentPaddings:n.disableContentPaddings,flowType:r.flowType},metadata:{hasResourceType:Boolean(null===r||void 0===r?void 0:r.resourceType),hasInstanceIdentifier:Boolean(null===r||void 0===r?void 0:r.instanceIdentifier)}},r);return o?i.createElement(bue,Object.assign({size:t},n,s,{__injectAnalyticsComponentMetadata:!0})):i.createElement(Sue,Object.assign({analyticsMetadata:r,baseComponentProps:s,size:t},n))}function Due(e){var{stretch:t=!1}=e,n=Et(e,["stretch"]);const o=Vt(n),r=Dn("FormField",{props:{stretch:t},metadata:{hasInstanceIdentifier:Boolean(null===o||void 0===o?void 0:o.instanceIdentifier),hasErrorContext:Boolean(null===o||void 0===o?void 0:o.errorContext)}},o);return i.createElement(mg,Object.assign({stretch:t},n,{__hideLabel:!1,__analyticsMetadata:o},r,Qi({component:{name:"awsui.FormField",label:".".concat(Wp)}})))}Ln(xue,"Modal"),Ln(Due,"FormField");const Eue=i.forwardRef((e,t)=>{const n=Dn("RadioGroup",{props:{readOnly:e.readOnly}});return i.createElement(TT,Object.assign({ref:t},e,n,Qi({component:{name:"awsui.RadioGroup",label:{root:"self"},properties:{value:"".concat(e.value)}}})))});Ln(Eue,"RadioGroup");const Fue=Eue,kue=i.forwardRef((e,t)=>i.createElement(Fue,d({ref:t},e)));Ln(kue,"RadioGroup");const Aue=kue,Rue="awsui_root_qk1j1_15a0y_145",Pue="awsui_textarea_qk1j1_15a0y_149",Tue="awsui_textarea-readonly_qk1j1_15a0y_199",_ue="awsui_textarea-invalid_qk1j1_15a0y_241",Mue="awsui_textarea-warning_qk1j1_15a0y_250",Iue=i.forwardRef((e,t)=>{var{value:n,autoComplete:o=!0,disabled:r,readOnly:s,disableBrowserAutocorrect:a,disableBrowserSpellcheck:l,spellcheck:u,onKeyDown:c,onKeyUp:d,onChange:h,onBlur:p,onFocus:g,ariaRequired:m,name:v,rows:f,placeholder:w,autoFocus:C,ariaLabel:b}=e,y=Et(e,["value","autoComplete","disabled","readOnly","disableBrowserAutocorrect","disableBrowserSpellcheck","spellcheck","onKeyDown","onKeyUp","onChange","onBlur","onFocus","ariaRequired","name","rows","placeholder","autoFocus","ariaLabel"]);const{__internalRootRef:S}=Dn("Textarea",{props:{autoComplete:o,autoFocus:C,disableBrowserAutocorrect:a,disableBrowserSpellcheck:l,readOnly:s,spellcheck:u}}),{ariaLabelledby:x,ariaDescribedby:D,controlId:E,invalid:F,warning:k}=zp(y),A=zt(y),R=(0,i.useRef)(null);Wr(t,R);const P={"aria-label":b,"aria-labelledby":x,"aria-describedby":D,"aria-required":m?"true":void 0,"aria-invalid":F?"true":void 0,name:v,placeholder:w,autoFocus:C,className:Gn(Pue,{[Tue]:s,[_ue]:F,[Mue]:k&&!F}),autoComplete:Kg(o),spellCheck:u,disabled:r,readOnly:!!s||void 0,rows:f||3,onKeyDown:c&&(e=>Ii(c,e)),onKeyUp:d&&(e=>Ii(d,e)),value:n||"",onChange:h&&(e=>_i(h,{value:e.target.value})),onBlur:p&&(()=>_i(p)),onFocus:g&&(()=>_i(g))};a&&(P.autoCorrect="off",P.autoCapitalize="off"),l&&(P.spellCheck="false");const T={name:"awsui.Textarea",label:"textarea",properties:{value:n||""}};return i.createElement("span",Object.assign({},A,{className:Gn(Rue,A.className),ref:S},Qi({component:T})),i.createElement("textarea",Object.assign({ref:R,id:E},P)))});Ln(Iue,"Textarea");const Lue=Iue,Nue=e=>{let{onClose:t,externalMessages:n=[]}=e;const o=[{value:"shipment_id",label:"Shipment ID",description:"Unique identifier for each shipment"},{value:"warehouse_location",label:"Warehouse Location",description:"Origin warehouse for the shipment"},{value:"destination_fc",label:"Destination FC",description:"Target fulfillment center"},{value:"pickup_date",label:"Pickup Date",description:"Date when shipment was picked up"},{value:"delivery_date",label:"Delivery Date",description:"Date when shipment was delivered"},{value:"asn_submission_time",label:"ASN Submission Time",description:"When the ASN was submitted"},{value:"asn_status",label:"ASN Status",description:"Current status of the ASN"},{value:"compliance_score",label:"Compliance Score",description:"Individual shipment compliance rating"},{value:"transit_time",label:"Transit Time",description:"Time from pickup to delivery"},{value:"route_distance",label:"Route Distance",description:"Distance between origin and destination"},{value:"carrier_name",label:"Carrier Name",description:"Transportation carrier used"},{value:"defect_type",label:"Defect Type",description:"Type of compliance defect if any"},{value:"external_id_match",label:"External ID Match",description:"Whether external IDs match correctly"},{value:"batch_transmission",label:"Batch Transmission",description:"EDI transmission batch information"},{value:"late_reason",label:"Late Reason",description:"Reason for late ASN submission"},{value:"cost_impact",label:"Cost Impact",description:"Financial impact of delays"}],[r,s]=(0,i.useState)([{id:"1",type:"incoming",content:"Hello! I can help you analyze and visualize your ASN compliance data, explain performance metrics, and clarify recommendations for improvement. How can I assist you today?",timestamp:new Date,sources:[],feedback:null}]);(0,i.useEffect)(()=>{if(n.length>0){const e=n.map(e=>d(d({},e),{},{type:"agent"===e.type?"incoming":"outgoing",sources:e.sources||[],feedback:e.feedback||null}));s(t=>{t.map(e=>e.id);const n=[...t];return e.forEach(e=>{const t=n.findIndex(t=>t.id===e.id);t>=0?n[t]=d(d({},n[t]),e):n.push(e)}),n})}},[n]);const[a,l]=(0,i.useState)(""),[u,c]=(0,i.useState)(!1),[h,p]=(0,i.useState)(!1),[g,m]=(0,i.useState)(null),[v,f]=(0,i.useState)({reason:"",notes:""}),w=(0,i.useRef)(null);(0,i.useEffect)(()=>{(()=>{if(w.current){const e=w.current.closest('[role="region"][aria-label="Chat"]');e&&(e.scrollTop=e.scrollHeight)}})()},[r]);const C=async e=>{if(!e.trim())return;const t={id:Date.now().toString(),type:"outgoing",content:e,timestamp:new Date};s(e=>[...e,t]),l(""),c(!0),setTimeout(()=>{const t=b(e),n={id:(Date.now()+1).toString(),type:"incoming",content:t.content,timestamp:new Date,sources:t.sources,feedback:null};s(e=>[...e,n]),c(!1)},2e3)},b=e=>{const t=e.toLowerCase();return t.includes("compliance rate")||t.includes("93.1")?{content:"Your ASN On Time Compliance Rate of 93.1% means that 93.1% of your Advanced Shipping Notices (ASNs) are submitted on time. This places you in the Competitive Tier (middle 50% of vendors). While this is a solid performance, there's room for improvement to reach the Strong Tier threshold of 97.8%.\n\nKey factors affecting your rate:\n\u2022 35% of late ASNs originate from Auburn, WA warehouse\n\u2022 Batch processing delays (60-minute intervals)\n\u2022 Average 15-minute delay between delivery and ASN submission\n\n**Would you like me to create a visualization showing your compliance rate breakdown by warehouse or defect type?**",sources:[{title:"ASN Compliance Guidelines",url:"#",description:"Official Amazon vendor guidelines for ASN submission"},{title:"Performance Benchmarks",url:"#",description:"Vendor performance tier definitions and thresholds"}]}:t.includes("late asn")||t.includes("reasons")?{content:"Based on your data analysis, the main reasons for late ASNs are:\n\n1. **Geographic concentration (60%)**: Auburn, WA warehouse accounts for 35 of 60% of late ASNs\n2. **Process timing (30%)**: Batch EDI 856 transmissions every 60 minutes cause delays\n3. **External ID mismatches (24%)**: Driven by 2 specific items\n4. **Missing ASNs (7%)**: Originating from Harrisburg, PA warehouse\n\nThe Auburn-BFI4 route shows a critical timing mismatch with 24-minute typical drive time but 45-minute average pickup-to-receive time.\n\n**I can create a detailed breakdown table showing defect reasons by warehouse or route. Would you like me to generate that visualization?**",sources:[{title:"Defect Analysis Report",url:"#",description:"Detailed breakdown of ASN compliance issues"}]}:t.includes("improve")||t.includes("98%")||t.includes("target")?{content:"To reach your 98% performance target and close the 4.9% gap, I recommend:\n\n**Immediate Actions:**\n\u2022 Switch from batch to real-time ASN transmission (25% of similar vendors have implemented this)\n\u2022 Focus on Auburn, WA warehouse process optimization\n\u2022 Address the 2 items causing external ID mismatches\n\n**Process Changes:**\n\u2022 Implement real-time EDI 856 transmissions\n\u2022 Reduce pickup-to-ASN submission time from 58 minutes to <30 minutes\n\u2022 Set up automated alerts for ASN submission delays\n\n**Monitoring:**\n\u2022 Track next 10 shipments for timing improvements\n\u2022 Monitor ASN Not Found Rate improvements\n\u2022 Weekly review of Auburn warehouse performance\n\n**Would you like me to create a performance comparison table showing your current metrics vs. target benchmarks?**",sources:[{title:"Best Practices Guide",url:"#",description:"Vendor optimization strategies for ASN compliance"},{title:"Real-time Integration Guide",url:"#",description:"Technical documentation for real-time ASN submission"}]}:t.includes("auburn")||t.includes("warehouse")?{content:"The Auburn, WA warehouse analysis reveals significant timing issues:\n\n**Route Characteristics:**\n\u2022 Distance to BFI4: 8.7 miles\n\u2022 Typical drive time: 24 minutes\n\u2022 Actual pickup-to-receive: 35-90 minutes (avg: 45 minutes)\n\n**Current Process Issues:**\n\u2022 EDI 856 transmissions in 60-minute batches\n\u2022 80% of late ASNs submitted 15-60 minutes after pickup\n\u2022 ASNs arrive 5-25 minutes after delivery (avg: 15 minutes)\n\n**Impact:** This warehouse alone accounts for 35 of the 60% of your late ASNs, making it the highest priority for improvement.\n\n**I can create a detailed warehouse performance breakdown or route analysis table. What specific data would you like to see?**",sources:[{title:"Auburn Warehouse Analysis",url:"#",description:"Detailed route and timing analysis for Auburn-BFI4"}]}:t.includes("competitive tier")||t.includes("tier")?{content:"The **Competitive Tier** represents the middle 50% of vendor performance. Here's how the benchmark tiers are defined:\n\n\u2022 **Best in Class**: \u226590th percentile\n\u2022 **Strong**: \u226575th percentile  \n\u2022 **Competitive**: 50th percentile (your current tier)\n\u2022 **Needs Improvement**: \u226425th percentile\n\nAt 93.1%, you're in the Competitive Tier. The Strong Tier cutoff is 97.8%, so you need to improve by 4.7 percentage points to move up. This improvement would put you ahead of 75% of all vendors.\n\n**Would you like me to create a benchmark comparison visualization showing your performance against industry tiers?**",sources:[{title:"Vendor Performance Benchmarks",url:"#",description:"Official tier definitions and performance thresholds"}]}:t.includes("show")||t.includes("visualize")||t.includes("create")||t.includes("table")||t.includes("chart")?{content:'I can help you create various data visualizations for your ASN compliance data:\n\n**Available Visualizations:**\n\u2022 Defect breakdown by warehouse or route\n\u2022 Chargeback analysis by defect type\n\u2022 Performance trends over time\n\u2022 Compliance rate comparisons\n\u2022 Financial impact analysis\n\n**To create a custom visualization, you can:**\n1. Use the input field in the Analytics Workspace tab\n2. Describe what data you want to see (e.g., "show defect reasons by warehouse")\n3. I\'ll suggest the best columns and generate the visualization\n\nWhat specific data would you like to visualize?',sources:[{title:"Data Visualization Guide",url:"#",description:"How to create custom analytics visualizations"}]}:t.includes("data")||t.includes("analytics")||t.includes("breakdown")?{content:'I can help you analyze your ASN compliance data in various ways:\n\n**Data Analysis Options:**\n\u2022 **By Geography**: Warehouse and route performance\n\u2022 **By Time**: Trends, patterns, and seasonal analysis\n\u2022 **By Defect Type**: Root cause analysis and impact\n\u2022 **By Financial Impact**: Chargeback costs and penalties\n\u2022 **By Performance**: Compliance rates and benchmarks\n\n**Interactive Features:**\n\u2022 Custom column selection\n\u2022 Real-time data filtering\n\u2022 Drag-and-drop table reordering\n\u2022 Export capabilities\n\n**To get started, try asking for specific data like:**\n\u2022 "Show me defect reasons by warehouse"\n\u2022 "Compare chargeback amounts by route"\n\u2022 "Analyze performance trends over time"\n\nWhat data analysis would be most helpful for you?',sources:[{title:"Analytics Workspace Guide",url:"#",description:"Complete guide to data analysis features"}]}:{content:'I can help you with various aspects of your supply chain performance:\n\n\u2022 **ASN Compliance Analysis**: Understanding your 93.1% rate and improvement opportunities\n\u2022 **Performance Insights**: Detailed breakdown of issues by warehouse and process\n\u2022 **Improvement Recommendations**: Specific actions to reach your 98% target\n\u2022 **Benchmark Comparisons**: How you compare to other vendors\n\u2022 **Process Optimization**: Real-time vs batch processing benefits\n\u2022 **Data Visualizations**: Custom tables and charts for deeper analysis\n\n**Quick Actions:**\n\u2022 Ask about specific warehouses, routes, or defect types\n\u2022 Request data visualizations (e.g., "show defect breakdown by warehouse")\n\u2022 Get improvement recommendations for specific issues\n\u2022 Compare your performance against benchmarks\n\nWhat specific area would you like to explore?',sources:[]}},y=(e,t)=>{"thumbs-down"===t?(m(e),p(!0)):s(t=>t.map(t=>t.id===e?d(d({},t),{},{feedback:{type:"positive",submitted:!0}}):t))};return(0,Kre.jsxs)(eC,{header:(0,Kre.jsx)(Tf,{variant:"h2",children:"Vendor Central Chat"}),children:[(0,Kre.jsxs)(Tp,{size:"l",children:[(0,Kre.jsxs)("div",{role:"region","aria-label":"Chat",style:{height:"calc(100vh - 280px)",overflowY:"auto",padding:"8px",border:"1px solid var(--color-border-divider-default)",borderRadius:"8px"},children:[r.map(e=>{var t,n,i;const r="outgoing"===e.type;return(0,Kre.jsx)(cC,{margin:{bottom:"m"},children:(0,Kre.jsxs)(Tp,{size:"xs",children:[(0,Kre.jsxs)(Tp,{direction:"horizontal",size:"s",alignItems:"center",children:[(0,Kre.jsx)(lue,{color:r?"blue":"green",children:r?"You":"AI Assistant"}),(0,Kre.jsx)(cC,{variant:"small",color:"text-body-secondary",children:e.timestamp.toLocaleTimeString()})]}),(0,Kre.jsxs)(cC,{padding:"s",style:{backgroundColor:r?"var(--color-background-container-content)":"var(--color-background-layout-main)",border:"1px solid var(--color-border-divider-default)",borderRadius:"8px"},children:[r?(0,Kre.jsx)(cC,{variant:"p",style:{whiteSpace:"pre-line"},children:e.content}):(0,Kre.jsx)("div",{style:{fontSize:"14px",lineHeight:"1.5",color:"var(--color-text-body-default)"},children:(0,Kre.jsx)(Jle,{components:{p:e=>{let{children:t}=e;return(0,Kre.jsx)(cC,{variant:"p",margin:{bottom:"s"},children:t})},h1:e=>{let{children:t}=e;return(0,Kre.jsx)(cC,{variant:"h1",margin:{bottom:"s"},children:t})},h2:e=>{let{children:t}=e;return(0,Kre.jsx)(cC,{variant:"h2",margin:{bottom:"s"},children:t})},h3:e=>{let{children:t}=e;return(0,Kre.jsx)(cC,{variant:"h3",margin:{bottom:"s"},children:t})},strong:e=>{let{children:t}=e;return(0,Kre.jsx)(cC,{variant:"strong",children:t})},em:e=>{let{children:t}=e;return(0,Kre.jsx)(cC,{variant:"em",children:t})},ul:e=>{let{children:t}=e;return(0,Kre.jsx)("ul",{style:{marginLeft:"16px",marginBottom:"12px",paddingLeft:"0"},children:t})},ol:e=>{let{children:t}=e;return(0,Kre.jsx)("ol",{style:{marginLeft:"16px",marginBottom:"12px",paddingLeft:"0"},children:t})},li:e=>{let{children:t}=e;return(0,Kre.jsx)("li",{style:{marginBottom:"4px"},children:t})},code:e=>{let{children:t,inline:n}=e;return n?(0,Kre.jsx)("code",{style:{backgroundColor:"var(--color-background-code-block)",padding:"2px 4px",borderRadius:"4px",fontSize:"13px",fontFamily:"monospace"},children:t}):(0,Kre.jsx)("pre",{style:{backgroundColor:"var(--color-background-code-block)",padding:"12px",borderRadius:"8px",fontSize:"13px",fontFamily:"monospace",overflow:"auto",marginBottom:"12px"},children:(0,Kre.jsx)("code",{children:t})})},blockquote:e=>{let{children:t}=e;return(0,Kre.jsx)("div",{style:{borderLeft:"4px solid var(--color-border-divider-default)",paddingLeft:"12px",marginLeft:"0",marginBottom:"12px",fontStyle:"italic"},children:t})}},children:e.content})}),e.showLoading&&e.loadingText&&(0,Kre.jsx)(cC,{margin:{top:"s"},children:(0,Kre.jsxs)(Tp,{direction:"horizontal",size:"s",alignItems:"center",children:[(0,Kre.jsx)(s_,{size:"normal"}),(0,Kre.jsx)(cC,{variant:"p",children:e.loadingText})]})}),e.showCompleted&&e.completedText&&(0,Kre.jsx)(cC,{margin:{top:"s"},children:(0,Kre.jsxs)(Tp,{direction:"horizontal",size:"s",alignItems:"center",children:[(0,Kre.jsx)(cC,{style:{color:"var(--color-text-status-success)",fontSize:"16px"},children:"\u2713"}),(0,Kre.jsx)(cC,{variant:"p",color:"text-status-success",children:e.completedText})]})}),e.showVisualizationLoading&&e.visualizationLoadingText&&(0,Kre.jsx)(cC,{margin:{top:"s"},children:(0,Kre.jsxs)(Tp,{direction:"horizontal",size:"s",alignItems:"center",children:[(0,Kre.jsx)(s_,{size:"normal"}),(0,Kre.jsx)(cC,{variant:"p",children:e.visualizationLoadingText})]})}),e.showColumnSelection&&e.suggestedColumns&&(0,Kre.jsx)(cC,{margin:{top:"s"},children:(0,Kre.jsxs)(Tp,{size:"s",children:[e.suggestedColumns.map(t=>{const n=(e.selectedColumns||e.suggestedColumns.filter(e=>e.selected)).some(e=>e.id===t.id);return(0,Kre.jsx)(hue,{checked:n,onChange:()=>{s(n=>n.map(n=>{if(n.id===e.id){const e=n.selectedColumns||n.suggestedColumns.filter(e=>e.selected),i=e.find(e=>e.id===t.id),o=i?e.filter(e=>e.id!==t.id):[...e,t],r=n.suggestedColumns.map(e=>e.id===t.id?d(d({},e),{},{selected:!i}):e);return d(d({},n),{},{selectedColumns:o,suggestedColumns:r})}return n}))},children:t.label},t.id)}),e.showAddColumnDropdown?(0,Kre.jsx)(cC,{children:(0,Kre.jsx)(Ww,{selectedOption:null,onChange:t=>{let{detail:n}=t;if(n.selectedOption){const t={id:n.selectedOption.value,label:n.selectedOption.label,selected:!0};s(n=>n.map(n=>{if(n.id===e.id){const e=n.selectedColumns||n.suggestedColumns.filter(e=>e.selected);if(!e.find(e=>e.id===t.id)){const i=[...e,t],o=[...n.suggestedColumns,t];return d(d({},n),{},{selectedColumns:i,suggestedColumns:o,showAddColumnDropdown:!1})}return d(d({},n),{},{showAddColumnDropdown:!1})}return n}))}},options:o.filter(t=>!(e.selectedColumns||e.suggestedColumns.filter(e=>e.selected)).some(e=>e.id===t.value)).map(e=>({value:e.value,label:e.label,description:e.description})),placeholder:"Search and select a column...",filteringType:"auto",autoFocus:!0,onBlur:()=>{s(t=>t.map(t=>t.id===e.id?d(d({},t),{},{showAddColumnDropdown:!1}):t))}})}):(0,Kre.jsx)(Lf,{variant:"inline-link",iconName:"add-plus",onClick:()=>{s(t=>t.map(t=>t.id===e.id?d(d({},t),{},{showAddColumnDropdown:!0}):t))},children:"Add column"}),(0,Kre.jsx)(Lf,{variant:"primary",disabled:0===(e.selectedColumns||(null===(l=e.suggestedColumns)||void 0===l?void 0:l.filter(e=>e.selected))||[]).length||e.isGeneratingVisualization,iconName:void e.isGeneratingVisualization,onClick:()=>{var t;const n=e.selectedColumns||(null===(t=e.suggestedColumns)||void 0===t?void 0:t.filter(e=>e.selected))||[];n.length>0&&(s(t=>t.map(t=>t.id===e.id?d(d({},t),{},{isGeneratingVisualization:!0}):t)),setTimeout(()=>{s(t=>t.map(t=>t.id===e.id?d(d({},t),{},{isGeneratingVisualization:!1,showVisualizationSuccess:!0,visualizationSuccessText:"Data visualization generated successfully"}):t)),setTimeout(()=>{window.addVisualizationToMainPage&&window.addVisualizationToMainPage(n)},1e3)},2e3))},children:e.isGeneratingVisualization?(0,Kre.jsxs)(Tp,{direction:"horizontal",size:"xs",alignItems:"center",children:[(0,Kre.jsx)(s_,{size:"normal"}),(0,Kre.jsx)("span",{children:"Generating visualization"})]}):"Generate visualization (".concat((e.selectedColumns||(null===(a=e.suggestedColumns)||void 0===a?void 0:a.filter(e=>e.selected))||[]).length," columns selected)")}),e.showVisualizationSuccess&&e.visualizationSuccessText&&(0,Kre.jsx)(cC,{margin:{top:"s"},children:(0,Kre.jsxs)(Tp,{direction:"horizontal",size:"s",alignItems:"center",children:[(0,Kre.jsx)(cC,{style:{color:"var(--color-text-status-success)",fontSize:"16px"},children:"\u2713"}),(0,Kre.jsx)(cC,{variant:"p",color:"text-status-success",children:e.visualizationSuccessText})]})})]})}),e.sources&&e.sources.length>0&&(0,Kre.jsx)(cC,{margin:{top:"s"},children:(0,Kre.jsx)(pue,{headerText:"Sources",children:(0,Kre.jsx)(Tp,{size:"xs",children:e.sources.map((e,t)=>(0,Kre.jsxs)(cC,{children:[(0,Kre.jsx)(hk,{href:e.url,external:!0,children:e.title}),e.description&&(0,Kre.jsx)(cC,{variant:"small",color:"text-body-secondary",children:e.description})]},t))})})}),!r&&!e.isConfirmation&&(0,Kre.jsxs)(cC,{margin:{top:"s"},children:[(0,Kre.jsxs)(Tp,{direction:"horizontal",size:"xs",children:[(0,Kre.jsx)(Lf,{iconName:"thumbs-up",variant:"icon",ariaLabel:"Helpful",disabled:null===(t=e.feedback)||void 0===t?void 0:t.submitted,onClick:()=>y(e.id,"thumbs-up")}),(0,Kre.jsx)(Lf,{iconName:"thumbs-down",variant:"icon",ariaLabel:"Not helpful",disabled:null===(n=e.feedback)||void 0===n?void 0:n.submitted,onClick:()=>y(e.id,"thumbs-down")}),(0,Kre.jsx)(Lf,{iconName:"copy",variant:"icon",ariaLabel:"Copy response",onClick:()=>navigator.clipboard.writeText(e.content)})]}),(null===(i=e.feedback)||void 0===i?void 0:i.submitted)&&(0,Kre.jsx)(cC,{margin:{top:"xs"},variant:"small",color:"text-status-success",children:"positive"===e.feedback.type?'"Helpful" feedback has been submitted.':'"Not helpful" feedback has been submitted.'})]})]})]})},e.id);var a,l}),u&&(0,Kre.jsx)(cC,{margin:{bottom:"m"},children:(0,Kre.jsxs)(Tp,{size:"xs",children:[(0,Kre.jsxs)(Tp,{direction:"horizontal",size:"s",alignItems:"center",children:[(0,Kre.jsx)(lue,{color:"green",children:"AI Assistant"}),(0,Kre.jsx)(cC,{variant:"small",color:"text-body-secondary",children:(new Date).toLocaleTimeString()})]}),(0,Kre.jsx)(cC,{padding:"s",style:{backgroundColor:"var(--color-background-layout-main)",border:"1px solid var(--color-border-divider-default)",borderRadius:"8px"},children:(0,Kre.jsxs)(Tp,{direction:"horizontal",size:"s",alignItems:"center",children:[(0,Kre.jsx)(s_,{size:"normal"}),(0,Kre.jsx)(cC,{variant:"p",children:"Generating response..."})]})})]})}),(0,Kre.jsx)("div",{ref:w})]}),(0,Kre.jsx)(pue,{headerText:"Suggested questions",defaultExpanded:!1,children:(0,Kre.jsx)(Tp,{size:"xs",children:["Explain my ASN compliance rate of 93.1%","What are the main reasons for late ASNs?","How can I improve my performance to reach 98% target?","Show me insights about Auburn warehouse issues",'What does "Competitive Tier" mean?'].map((e,t)=>(0,Kre.jsx)(Lf,{variant:"link",onClick:()=>C(e),disabled:u,children:e},t))})}),(0,Kre.jsxs)("div",{style:{display:"flex",gap:"8px",alignItems:"flex-start"},children:[(0,Kre.jsx)("div",{style:{flex:1},children:(0,Kre.jsx)(r_,{value:a,onChange:e=>{let{detail:t}=e;return l(t.value)},onKeyDown:e=>{"Enter"===e.key&&!u&&a.trim()&&C(a)},placeholder:"Ask anything",disabled:u})}),(0,Kre.jsx)(Lf,{iconName:"send",variant:"primary",onClick:()=>C(a),disabled:u||!a.trim(),ariaLabel:"Submit message"})]}),(0,Kre.jsx)(cC,{variant:"small",color:"text-body-secondary",children:"Vendor Central Chat uses AI and can make mistakes. Please verify responses for accuracy."})]}),(0,Kre.jsx)(xue,{visible:h,onDismiss:()=>p(!1),header:"Tell us more",closeAriaLabel:"Close feedback modal",footer:(0,Kre.jsx)(cC,{float:"right",children:(0,Kre.jsxs)(Tp,{direction:"horizontal",size:"xs",children:[(0,Kre.jsx)(Lf,{variant:"link",onClick:()=>p(!1),children:"Close"}),(0,Kre.jsx)(Lf,{variant:"primary",onClick:()=>{s(e=>e.map(e=>e.id===g?d(d({},e),{},{feedback:{type:"negative",submitted:!0,details:v}}):e));const e={id:(Date.now()+2).toString(),type:"incoming",content:"Your feedback has been submitted. Thank you for your additional feedback.",timestamp:new Date,sources:[],feedback:null,isConfirmation:!0};s(t=>[...t,e]),p(!1),f({reason:"",notes:""}),m(null)},children:"Submit"})]})}),children:(0,Kre.jsxs)(Tp,{size:"m",children:[(0,Kre.jsx)(Due,{label:"What did you dislike about the response?",children:(0,Kre.jsx)(Aue,{value:v.reason,onChange:e=>{let{detail:t}=e;return f(e=>d(d({},e),{},{reason:t.value}))},items:[{value:"harmful",label:"Harmful"},{value:"incomplete",label:"Incomplete"},{value:"inaccurate",label:"Inaccurate"},{value:"other",label:"Other"}]})}),(0,Kre.jsx)(Due,{label:"Additional notes",description:"Optional",children:(0,Kre.jsx)(Lue,{value:v.notes,onChange:e=>{let{detail:t}=e;return f(e=>d(d({},e),{},{notes:t.value}))},placeholder:"Tell us more about your feedback...",rows:3})})]})})]})},Bue="awsui_header_6xiez_1ns0c_5",Oue="awsui_root_1i0s3_sdppn_145",Gue="awsui_header_1i0s3_sdppn_177",zue="awsui_content_1i0s3_sdppn_181",Vue="awsui_error_1i0s3_sdppn_185",Hue="awsui_footer_1i0s3_sdppn_189",jue="awsui_actions-section_1i0s3_sdppn_193",Wue="awsui_secondary-actions_1i0s3_sdppn_202",Uue="awsui_actions_1i0s3_sdppn_193";function Kue(e){var{children:t,header:n,errorText:o,errorIconAriaLabel:r,actions:s,secondaryActions:a,__internalRootRef:l,__injectAnalyticsComponentMetadata:u,__errorSlotId:c}=e;const d=zt(Et(e,["children","header","errorText","errorIconAriaLabel","actions","secondaryActions","__internalRootRef","__injectAnalyticsComponentMetadata","__errorSlotId"])),h=Mt("form")("errorIconAriaLabel",r),p={component:{name:"awsui.Form",label:{selector:["h1","h2","h3"].map(e=>".".concat(Bue," ").concat(e))}}};return i.createElement("div",Object.assign({},d,{ref:l,className:Gn(Oue,d.className)},u?Qi(p):{}),n&&i.createElement("div",{className:Gn(Gue,Bue)},n),t&&i.createElement("div",{className:zue},t),o&&i.createElement(Ua,{margin:{top:"l"}},i.createElement(YA,{type:"error",statusIconAriaLabel:h},i.createElement("div",{className:Vue,id:c},o))),(s||a)&&i.createElement("div",{className:Hue},i.createElement("div",{className:jue},s&&i.createElement("div",{className:Uue},s),a&&i.createElement("div",{className:Wue},a))),o&&i.createElement(cs,{hidden:!0,tagName:"span",assertive:!0},h,", ",o))}const que=e=>{var{variant:t="full-page",actions:n,errorText:o,__internalRootRef:r}=e,s=Et(e,["variant","actions","errorText","__internalRootRef"]);const a=(0,i.useRef)(null),l=Tt(a,r),{funnelIdentifier:u,funnelInteractionId:c,funnelProps:d,funnelSubmit:h,funnelNextOrSubmitAttempt:p,errorCount:g,submissionAttempt:m,funnelErrorContext:v}=Uo(),f=(()=>{const e=Wo(),t=(0,i.useRef)(e);return t.current=e,t})(),w=Yi("form-error-");return(0,i.useEffect)(()=>{var e,t;if(c&&o){g.current++;const n=Oo(f.current.stepNameSelector);return ro.funnelStepError({funnelInteractionId:c,stepNumber:f.current.stepNumber,stepNameSelector:f.current.stepNameSelector,stepName:n,stepIdentifier:f.current.stepIdentifier,currentDocument:null===(e=a.current)||void 0===e?void 0:e.ownerDocument,totalSubSteps:f.current.subStepCount.current,funnelIdentifier:u,subStepAllSelector:Io(),errorContext:f.current.stepErrorContext,subStepConfiguration:null===(t=f.current.subStepConfiguration.current)||void 0===t?void 0:t.get(f.current.stepNumber),stepErrorSelector:"#"+w}),()=>{g.current--}}},[c,u,o,m,g,v,w,f]),i.createElement(Gr.Provider,{value:{onClick:e=>{let{variant:t}=e;"primary"===t&&(p(),h())}}},i.createElement(Kue,Object.assign({variant:t,actions:n,errorText:o,__errorSlotId:w},s,d,f.current.funnelStepProps,{__internalRootRef:l,__injectAnalyticsComponentMetadata:!0})))};function Yue(e){var{variant:t="full-page"}=e,n=Et(e,["variant"]);const o=Vt(n),r=Dn("Form",{props:{variant:t,flowType:null===o||void 0===o?void 0:o.flowType},metadata:{hasResourceType:Boolean(null===o||void 0===o?void 0:o.resourceType),hasInstanceIdentifier:Boolean(null===o||void 0===o?void 0:o.instanceIdentifier)}},o),s=(0,i.useContext)(Ho)||".".concat(Bue," .").concat(Af["heading-text"]);return i.createElement(Uw,{funnelIdentifier:null===o||void 0===o?void 0:o.instanceIdentifier,funnelFlowType:null===o||void 0===o?void 0:o.flowType,funnelErrorContext:null===o||void 0===o?void 0:o.errorContext,funnelResourceType:null===o||void 0===o?void 0:o.resourceType,funnelType:"single-page",optionalStepNumbers:[],totalFunnelSteps:1,funnelNameSelectors:()=>[s,".".concat(Bue)]},i.createElement(Yw,{stepIdentifier:null===o||void 0===o?void 0:o.instanceIdentifier,stepErrorContext:null===o||void 0===o?void 0:o.errorContext,stepNumber:1},i.createElement(que,Object.assign({variant:t},n,r))))}function Zue(e){let{onChange:t}=e;const[n,o]=(0,i.useState)(null),r=e=>{o(e),t&&t(e)};return(0,Kre.jsxs)(Tp,{size:"s",children:[(0,Kre.jsx)(cC,{variant:"strong",children:"Was this content helpful?"}),(0,Kre.jsxs)(Tp,{direction:"horizontal",size:"s",children:[(0,Kre.jsx)(Lf,{iconName:"thumbs-up",variant:"positive"===n?"primary":"normal",onClick:()=>r("positive"),children:"Yes"}),(0,Kre.jsx)(Lf,{iconName:"thumbs-down",variant:"negative"===n?"primary":"normal",onClick:()=>r("negative"),children:"No"})]})]})}function $ue(){const[e,t]=(0,i.useState)(!1),[n,o]=(0,i.useState)(!1),r=(0,i.useRef)();return(0,Kre.jsxs)(Tp,{size:"s",children:[(0,Kre.jsx)(Zue,{onChange:()=>o(!0)}),(0,Kre.jsxs)(pue,{headerText:"Tell us more",expanded:n,onChange:e=>{let{detail:t}=e;return o(t.expanded)},children:[!e&&(0,Kre.jsx)(Yue,{actions:(0,Kre.jsx)(Lf,{onClick:()=>{(0,an.flushSync)(()=>t(!0)),r.current.focus()},children:"Send"}),children:(0,Kre.jsx)(Due,{label:(0,Kre.jsxs)("span",{children:["Additional notes - ",(0,Kre.jsx)("i",{children:"optional"})]}),constraintText:"Do not disclose any personal, commercially sensitive, or confidential information.",children:(0,Kre.jsx)(Lue,{})})}),e&&(0,Kre.jsx)("div",{ref:r,tabIndex:-1,children:(0,Kre.jsx)(cC,{variant:"span",children:"We appreciate your feedback. This will helps us improve our products and services in the future."})})]})]})}Ln(Yue,"Form");const Xue=e=>{let{variant:t="h2",title:n,description:o,actions:r,onTitleChange:s,onDescriptionChange:a,children:l}=e;const[u,c]=(0,i.useState)(!1),[d,h]=(0,i.useState)(!1),[p,g]=(0,i.useState)(n||""),[m,v]=(0,i.useState)(o||""),f=(0,i.useRef)(null),w=(0,i.useRef)(null);(0,i.useEffect)(()=>{u&&f.current&&f.current.focus()},[u]),(0,i.useEffect)(()=>{d&&w.current&&w.current.focus()},[d]);const C=()=>{c(!0),g(n||"")},b=()=>{h(!0),v(o||"")},y=e=>{"Enter"===e.key?x():"Escape"===e.key&&E()},S=e=>{"Enter"===e.key?D():"Escape"===e.key&&F()},x=()=>{s&&p.trim()!==n&&s(p.trim()),c(!1)},D=()=>{a&&m.trim()!==o&&a(m.trim()),h(!1)},E=()=>{g(n||""),c(!1)},F=()=>{v(o||""),h(!1)},k=()=>u?(0,Kre.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px",width:"100%"},children:[(0,Kre.jsx)("div",{style:{flex:1,minWidth:0},children:(0,Kre.jsx)(r_,{ref:f,value:p,onChange:e=>{let{detail:t}=e;return g(t.value)},onKeyDown:y,placeholder:"Enter title..."})}),(0,Kre.jsx)(Lf,{variant:"primary",size:"small",onClick:x,ariaLabel:"Save title",children:"Save"}),(0,Kre.jsx)(Lf,{size:"small",onClick:E,ariaLabel:"Cancel title edit",children:"Cancel"})]}):(0,Kre.jsx)("span",{onClick:C,style:{cursor:"pointer",padding:"2px 4px",borderRadius:"4px",transition:"background-color 0.2s",display:"inline-block",minWidth:"20px",minHeight:"20px"},onMouseEnter:e=>{e.target.style.backgroundColor="#f2f3f3"},onMouseLeave:e=>{e.target.style.backgroundColor="transparent"},title:"Click to edit title",children:n||"Click to add title"});return d?(0,Kre.jsxs)("div",{children:[(0,Kre.jsx)(Tf,{variant:t,actions:r,children:l||k()}),(0,Kre.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px",width:"100%",marginTop:"8px",padding:"0 16px"},children:[(0,Kre.jsx)("div",{style:{flex:1,minWidth:0},children:(0,Kre.jsx)(r_,{ref:w,value:m,onChange:e=>{let{detail:t}=e;return v(t.value)},onKeyDown:S,placeholder:"Enter description..."})}),(0,Kre.jsx)(Lf,{variant:"primary",size:"small",onClick:D,ariaLabel:"Save description",children:"Save"}),(0,Kre.jsx)(Lf,{size:"small",onClick:F,ariaLabel:"Cancel description edit",children:"Cancel"})]})]}):(0,Kre.jsx)(Tf,{variant:t,description:d?null:o?(0,Kre.jsx)("span",{onClick:b,style:{cursor:"pointer",padding:"2px 4px",borderRadius:"4px",transition:"background-color 0.2s",display:"inline-block",minWidth:"20px",minHeight:"16px"},onMouseEnter:e=>{e.target.style.backgroundColor="#f2f3f3"},onMouseLeave:e=>{e.target.style.backgroundColor="transparent"},title:"Click to edit description",children:o}):(0,Kre.jsx)("span",{onClick:b,style:{cursor:"pointer",padding:"2px 4px",borderRadius:"4px",transition:"background-color 0.2s",display:"inline-block",minWidth:"20px",minHeight:"16px",color:"#5f6b7a",fontStyle:"italic"},onMouseEnter:e=>{e.target.style.backgroundColor="#f2f3f3"},onMouseLeave:e=>{e.target.style.backgroundColor="transparent"},title:"Click to add description",children:"Click to add description"}),actions:r,children:l||k()})};bz.registerModules([_Q,Toe]);const Que=()=>{const e=ve(),t=pe(),[n,o]=(0,i.useState)("overview"),[r,s]=(0,i.useState)({label:"September 2025 snapshot",value:"september-2025"}),[a,l]=(0,i.useState)({type:"relative",amount:30,unit:"day"}),[u,c]=(0,i.useState)(!1),[h,p]=(0,i.useState)("12m"),[g,m]=(0,i.useState)("chargeback"),[v,f]=(0,i.useState)("count"),[w,C]=(0,i.useState)(!0),[b,y]=(0,i.useState)(!0),[S,x]=(0,i.useState)(!0),[D,E]=(0,i.useState)(["deepDive","warehouse","route"]),[F,k]=(0,i.useState)(null),[A,R]=(0,i.useState)(""),[P,T]=(0,i.useState)(!1),[_,M]=(0,i.useState)(!1),[I,L]=(0,i.useState)([]),[N,B]=(0,i.useState)([]),[O,G]=(0,i.useState)(null),[z,V]=(0,i.useState)([]),[H,j]=(0,i.useState)([]),[W,U]=(0,i.useState)({deepDive:{title:"Chargeback amount by defect reason",description:"Detailed breakdown of chargeback amounts by ASN defect reason"},warehouse:{title:"Defect reasons and chargebacks by warehouse",description:"Detailed breakdown of defect reasons and chargebacks by warehouse location"},route:{title:"Defect reasons and chargeback amount by route",description:"Detailed breakdown of defect reasons and chargeback amounts by route"}}),[K,q]=(0,i.useState)(""),[Y,Z]=(0,i.useState)(!1),$=(0,i.useRef)(null),[X,Q]=(0,i.useState)(()=>new URLSearchParams(t.search).get("priority")||"P1"),J=(0,i.useRef)(null),ee=(0,i.useRef)(null),te=(0,i.useRef)(null),ne=(0,i.useRef)(null),ie=e=>{const t=(e=>{const t=e.map(e=>{const t={id:e.id,header:e.label,sortingField:e.id};return e.id.includes("chargeback")||e.id.includes("Amount")?d(d({},t),{},{cell:t=>(0,Kre.jsx)("div",{style:{textAlign:"right"},children:t[e.id]||"N/A"}),width:150}):"percentage"===e.id||"asnCount"===e.id?d(d({},t),{},{cell:t=>(0,Kre.jsx)("div",{style:{textAlign:"right"},children:t[e.id]||"N/A"}),width:100}):"description"===e.id?d(d({},t),{},{cell:t=>t[e.id]||"N/A",width:300}):"defectReason"===e.id?d(d({},t),{},{cell:t=>t[e.id]||"N/A",width:250}):d(d({},t),{},{cell:t=>(0,Kre.jsx)("div",{style:{textAlign:"right"},children:t[e.id]||"N/A"}),width:120})});return{data:[{defectReason:"Late ASN",chargebackAmount:"$3,900",percentage:"60.0%",asnCount:60,description:"ASN submitted after shipment delivery",auburnWA:"$2,340 (36.0%)",harrisburgPA:"$780 (12.0%)",phoenixAZ:"$507 (7.8%)",totalChargeback:"$3,900 (60.0%)",auburnBFI4:"$1,404 (26.0%)",auburnSEA8:"$468 (8.7%)",harrisburgMDW2:"$390 (7.2%)"},{defectReason:"ASN submitted - External ID mismatch",chargebackAmount:"$1,560",percentage:"24.0%",asnCount:24,description:"External ID in ASN does not match PO",auburnWA:"$936 (14.4%)",harrisburgPA:"$312 (4.8%)",phoenixAZ:"$203 (3.1%)",totalChargeback:"$1,560 (24.0%)",auburnBFI4:"$562 (10.4%)",auburnSEA8:"$187 (3.5%)",harrisburgMDW2:"$156 (2.9%)"},{defectReason:"No ASN",chargebackAmount:"$650",percentage:"10.0%",asnCount:9,description:"No ASN submitted for shipment",auburnWA:"$390 (6.0%)",harrisburgPA:"$130 (2.0%)",phoenixAZ:"$85 (1.3%)",totalChargeback:"$650 (10.0%)",auburnBFI4:"$234 (4.3%)",auburnSEA8:"$78 (1.4%)",harrisburgMDW2:"$65 (1.2%)"}],columns:t}})(e),i={id:Date.now(),title:"".concat(e.map(e=>e.label).join(", ")," Analysis"),columns:e,timestamp:new Date,tableData:t.data,tableColumns:t.columns,description:"Custom analysis showing ".concat(e.map(e=>e.label).join(", ").toLowerCase())};j(e=>[...e,i]);const r="generated_".concat(i.id);E(e=>[...e,r]),"analytics"!==n&&o("analytics")};i.useEffect(()=>(window.addVisualizationToMainPage=ie,()=>{delete window.addVisualizationToMainPage}),[]);const oe=(e,t)=>{k(t),e.dataTransfer.effectAllowed="move"},re=e=>{e.preventDefault(),e.dataTransfer.dropEffect="move"},se=(e,t)=>{if(e.preventDefault(),e.stopPropagation(),F&&F!==t){const e=[...D],n=e.indexOf(F),i=e.indexOf(t);e.splice(n,1),e.splice(i,0,F),E(e)}k(null)},ae=()=>{k(null)},le=(e,t)=>{U(n=>d(d({},n),{},{[e]:d(d({},n[e]),{},{title:t})}))},ue=(e,t)=>{U(n=>d(d({},n),{},{[e]:d(d({},n[e]),{},{description:t})}))},ce=async()=>{if(!A.trim())return;T(!0);const e=(e=>{const t=e.toLowerCase(),n={warehouse:["warehouse","location","facility","site","origin","source","auburn","harrisburg","phoenix","nashville","dallas","wa","pa","az","tn","tx","by warehouse","per warehouse"],route:["route","shipping","delivery","transit","destination","fc","fulfillment center","bfi4","sea8","bfi7","mdw2","phl4","phx5","phx7","bwi2","mdt1","by route","per route","shipping route","delivery route"],defect:["defect","error","issue","problem","failure","exception","late asn","external id","mismatch","no asn","missing asn","defect type","defect reason","compliance issue","violation"],financial:["cost","chargeback","money","dollar","financial","amount","expense","penalty","fee","charge","impact","revenue","loss","chargeback amount","cost impact","financial impact"],time:["time","trend","monthly","quarterly","daily","weekly","period","date","timeline","temporal","over time","historical","chronological","pickup time","delivery time","submission time","transit time"],performance:["performance","compliance","rate","percentage","metric","kpi","score","rating","benchmark","target","goal","threshold","compliance rate","on time","performance metric"],comparison:["compare","comparison","versus","vs","against","relative to","benchmark","peer","industry","average","best","worst","top","bottom","rank","ranking"],aggregation:["total","sum","count","average","mean","median","max","min","aggregate","summary","breakdown","distribution","split by"],visualization:["chart","graph","table","report","dashboard","view","display","show","visualize","plot","analyze","breakdown","summary"]},i={},o={warehouse:1.2,route:1.2,defect:1.5,financial:1.3,time:1.1,performance:1.4,comparison:1,aggregation:1,visualization:.8};Object.keys(n).forEach(e=>{i[e]=n[e].reduce((n,i)=>n+(t.match(new RegExp(i,"g"))||[]).length*(o[e]||1),0)});const r=Object.keys(i).sort((e,t)=>i[t]-i[e]),s=r[0],a=i[r[1]]>0?r[1]:null,l={showTrends:/trend|over time|timeline|historical|monthly|quarterly/.test(t),showBreakdown:/breakdown|split|by|per|group/.test(t),showComparison:/compare|versus|vs|against|relative/.test(t),showTop:/top|highest|best|maximum/.test(t),showBottom:/bottom|lowest|worst|minimum/.test(t),showSpecific:/specific|particular|individual|detailed/.test(t)};return{primary:s,secondary:a,scores:i,input:t,dataRequests:l,confidence:i[s]||0}})(A);G(e),c(!0);const t=Date.now(),n={id:t,type:"agent",content:"I can help with that.",timestamp:new Date,showLoading:!0,loadingText:"Gathering ASN compliance data"};V([n]),setTimeout(()=>{console.log("Updating message with ID:",t),V(e=>{console.log("Previous messages:",e);const n=e.map(e=>e.id===t?(console.log("Found matching message, updating with green check"),d(d({},e),{},{showLoading:!1,showCompleted:!0,completedText:"ASN compliance data gathered successfully"})):e);return console.log("Updated messages:",n),n});const n=(e=>{const t={defectReason:{id:"defectReason",label:"Defect Reason",category:"defect"},defectType:{id:"defectType",label:"Defect Type",category:"defect"},description:{id:"description",label:"Description",category:"defect"},chargebackAmount:{id:"chargebackAmount",label:"Chargeback Amount",category:"financial"},totalChargeback:{id:"totalChargeback",label:"Total Chargeback",category:"financial"},costImpact:{id:"costImpact",label:"Cost Impact",category:"financial"},percentage:{id:"percentage",label:"Percentage",category:"performance"},asnCount:{id:"asnCount",label:"ASN Count",category:"performance"},complianceRate:{id:"complianceRate",label:"Compliance Rate",category:"performance"},auburnWA:{id:"auburnWA",label:"Auburn, WA",category:"warehouse"},harrisburgPA:{id:"harrisburgPA",label:"Harrisburg, PA",category:"warehouse"},phoenixAZ:{id:"phoenixAZ",label:"Phoenix, AZ",category:"warehouse"},nashvilleTN:{id:"nashvilleTN",label:"Nashville, TN",category:"warehouse"},dallasTX:{id:"dallasTX",label:"Dallas, TX",category:"warehouse"},auburnBFI4:{id:"auburnBFI4",label:"Auburn-BFI4",category:"route"},auburnSEA8:{id:"auburnSEA8",label:"Auburn-SEA8",category:"route"},auburnBFI7:{id:"auburnBFI7",label:"Auburn-BFI7",category:"route"},harrisburgMDW2:{id:"harrisburgMDW2",label:"Harrisburg-MDW2",category:"route"},harrisburgPHL4:{id:"harrisburgPHL4",label:"Harrisburg-PHL4",category:"route"},phoenixPHX5:{id:"phoenixPHX5",label:"Phoenix-PHX5",category:"route"},phoenixPHX7:{id:"phoenixPHX7",label:"Phoenix-PHX7",category:"route"},shipDate:{id:"shipDate",label:"Ship Date",category:"time"},deliveryDate:{id:"deliveryDate",label:"Delivery Date",category:"time"},asnSubmissionTime:{id:"asnSubmissionTime",label:"ASN Submission Time",category:"time"},transitTime:{id:"transitTime",label:"Transit Time",category:"time"},benchmark:{id:"benchmark",label:"Benchmark",category:"comparison"},target:{id:"target",label:"Target",category:"comparison"},variance:{id:"variance",label:"Variance",category:"comparison"}},n=((e,t,n)=>{let i=[];const o=["defectReason"];switch(e){case"warehouse":i=[...o,"auburnWA","harrisburgPA","phoenixAZ","totalChargeback"],n.showBreakdown&&i.push("nashvilleTN","dallasTX");break;case"route":i=[...o,"auburnBFI4","auburnSEA8","harrisburgMDW2","totalChargeback"],n.showBreakdown&&i.push("auburnBFI7","harrisburgPHL4","phoenixPHX5","phoenixPHX7");break;case"defect":i=[...o,"chargebackAmount","percentage","asnCount"],n.showSpecific&&i.push("description","defectType");break;case"financial":i=[...o,"chargebackAmount","percentage","totalChargeback"],n.showBreakdown&&i.push("costImpact");break;case"performance":i=[...o,"percentage","asnCount","complianceRate"],n.showComparison&&i.push("benchmark","target","variance");break;case"time":i=[...o,"shipDate","asnSubmissionTime","transitTime"],n.showTrends&&i.push("deliveryDate");break;case"comparison":i=[...o,"percentage","benchmark","target","variance"];break;default:i=[...o,"chargebackAmount","percentage"]}if(t&&t!==e)switch(t){case"financial":i.includes("chargebackAmount")||i.push("chargebackAmount"),i.includes("totalChargeback")||i.push("totalChargeback");break;case"warehouse":i.some(e=>e.includes("WA")||e.includes("PA")||e.includes("AZ"))||i.push("auburnWA","harrisburgPA");break;case"performance":i.includes("percentage")||i.push("percentage")}return(n.showTop||n.showBottom)&&(i.includes("percentage")||i.push("percentage")),n.showComparison&&i.push("benchmark","target"),i})(e.primary,e.secondary,e.dataRequests||{}),i=Object.keys(t).map(e=>d(d({},t[e]),{},{selected:n.includes(e)})),o={[e.primary]:1,[e.secondary]:2,defect:3,financial:4,performance:5,warehouse:6,route:7,time:8,comparison:9};return i.sort((e,t)=>e.selected&&!t.selected?-1:!e.selected&&t.selected?1:(o[e.category]||10)-(o[t.category]||10))})(e);L(n),B(n.filter(e=>e.selected)),setTimeout(()=>{const e={id:t+1,type:"agent",content:"These are the columns I plan to fetch to execute your request. Feel free to deselect the fields you'd like me to skip.",timestamp:new Date,showColumnSelection:!0,suggestedColumns:n,selectedColumns:n.filter(e=>e.selected)};V(t=>[...t,e]),T(!1)},500)},2500)},de=[{title:"ASN On Time Compliance Rate",type:"line",data:(e=>{const t=[{x:new Date("2024-09-15"),y:89.2},{x:new Date("2024-10-15"),y:91.5},{x:new Date("2024-11-15"),y:88.7},{x:new Date("2024-12-15"),y:90.3},{x:new Date("2025-01-15"),y:92.1},{x:new Date("2025-02-15"),y:91.8},{x:new Date("2025-03-15"),y:93.4},{x:new Date("2025-04-15"),y:92.9},{x:new Date("2025-05-15"),y:94.2},{x:new Date("2025-06-15"),y:93.7},{x:new Date("2025-07-15"),y:93.1},{x:new Date("2025-08-15"),y:93.5},{x:new Date("2025-09-15"),y:93.1}],n=[{x:new Date("2025-03-15"),y:93.4},{x:new Date("2025-04-15"),y:92.9},{x:new Date("2025-05-15"),y:94.2},{x:new Date("2025-06-15"),y:93.7},{x:new Date("2025-07-15"),y:93.1},{x:new Date("2025-08-15"),y:93.5},{x:new Date("2025-09-15"),y:93.1}],i=[{x:new Date("2023-09-15"),y:85.1},{x:new Date("2023-10-15"),y:86.3},{x:new Date("2023-11-15"),y:84.9},{x:new Date("2023-12-15"),y:87.2},{x:new Date("2024-01-15"),y:88.5},{x:new Date("2024-02-15"),y:87.8},{x:new Date("2024-03-15"),y:89.1},{x:new Date("2024-04-15"),y:88.7},{x:new Date("2024-05-15"),y:90.2},{x:new Date("2024-06-15"),y:89.8},{x:new Date("2024-07-15"),y:91.3},{x:new Date("2024-08-15"),y:90.9},{x:new Date("2024-09-15"),y:89.2},{x:new Date("2024-10-15"),y:91.5},{x:new Date("2024-11-15"),y:88.7},{x:new Date("2024-12-15"),y:90.3},{x:new Date("2025-01-15"),y:92.1},{x:new Date("2025-02-15"),y:91.8},{x:new Date("2025-03-15"),y:93.4},{x:new Date("2025-04-15"),y:92.9},{x:new Date("2025-05-15"),y:94.2},{x:new Date("2025-06-15"),y:93.7},{x:new Date("2025-07-15"),y:93.1},{x:new Date("2025-08-15"),y:93.5},{x:new Date("2025-09-15"),y:93.1}];switch(e){case"6m":return n;case"24m":return i;default:return t}})(h),valueFormatter:e=>"".concat(e.toFixed(1),"%")},{title:"Performance target",type:"threshold",y:98}],he="chargeback"===g?[{title:"Late ASN",value:3900},{title:"External ID mismatch",value:1560},{title:"No ASN",value:650},{title:"Other",value:390}]:[{title:"Late ASN",value:60},{title:"External ID mismatch",value:24},{title:"No ASN",value:9},{title:"Other",value:7}];const ge=[{defectReason:"Late ASN",auburnWA:"$2,340 (36.0%)",harrisburgPA:"$780 (12.0%)",phoenixAZ:"$507 (7.8%)",nashvilleTN:"$195 (3.0%)",dallasTX:"$78 (1.2%)",totalChargeback:"$3,900 (60.0%)"},{defectReason:"ASN submitted - External ID mismatch",auburnWA:"$936 (14.4%)",harrisburgPA:"$312 (4.8%)",phoenixAZ:"$203 (3.1%)",nashvilleTN:"$78 (1.2%)",dallasTX:"$31 (0.5%)",totalChargeback:"$1,560 (24.0%)"},{defectReason:"No ASN",auburnWA:"$390 (6.0%)",harrisburgPA:"$130 (2.0%)",phoenixAZ:"$85 (1.3%)",nashvilleTN:"$32 (0.5%)",dallasTX:"$13 (0.2%)",totalChargeback:"$650 (10.0%)"},{defectReason:"PO-ASIN missing from submitted ASN",auburnWA:"$156 (2.4%)",harrisburgPA:"$52 (0.8%)",phoenixAZ:"$34 (0.5%)",nashvilleTN:"$13 (0.2%)",dallasTX:"$5 (0.1%)",totalChargeback:"$260 (4.0%)"},{defectReason:"ASN drafted but not submitted",auburnWA:"$47 (0.7%)",harrisburgPA:"$16 (0.2%)",phoenixAZ:"$10 (0.2%)",nashvilleTN:"$4 (0.1%)",dallasTX:"$1 (0.0%)",totalChargeback:"$78 (1.2%)"},{defectReason:"ASN submitted - Gateway routing failure",auburnWA:"$23 (0.4%)",harrisburgPA:"$8 (0.1%)",phoenixAZ:"$5 (0.1%)",nashvilleTN:"$2 (0.0%)",dallasTX:"$1 (0.0%)",totalChargeback:"$39 (0.6%)"},{defectReason:"ASN submitted - Transmission error",auburnWA:"$8 (0.1%)",harrisburgPA:"$2 (0.0%)",phoenixAZ:"$1 (0.0%)",nashvilleTN:"$1 (0.0%)",dallasTX:"$1 (0.0%)",totalChargeback:"$13 (0.2%)"}],me=[{id:"defectReason",header:"Defect reason",cell:e=>e.defectReason,width:180,sortingField:"defectReason"},{id:"auburnWA",header:"Auburn, WA",cell:e=>(0,Kre.jsx)("div",{style:{textAlign:"right"},children:e.auburnWA}),width:120,sortingField:"auburnWA"},{id:"harrisburgPA",header:"Harrisburg, PA",cell:e=>(0,Kre.jsx)("div",{style:{textAlign:"right"},children:e.harrisburgPA}),width:130,sortingField:"harrisburgPA"},{id:"phoenixAZ",header:"Phoenix, AZ",cell:e=>(0,Kre.jsx)("div",{style:{textAlign:"right"},children:e.phoenixAZ}),width:120,sortingField:"phoenixAZ"},{id:"nashvilleTN",header:"Nashville, TN",cell:e=>(0,Kre.jsx)("div",{style:{textAlign:"right"},children:e.nashvilleTN}),width:130,sortingField:"nashvilleTN"},{id:"dallasTX",header:"Dallas, TX",cell:e=>(0,Kre.jsx)("div",{style:{textAlign:"right"},children:e.dallasTX}),width:120,sortingField:"dallasTX"},{id:"totalChargeback",header:"Total chargeback",cell:e=>(0,Kre.jsx)("div",{style:{textAlign:"right"},children:e.totalChargeback}),width:140,sortingField:"totalChargeback"}],fe=[{defectReason:"Late ASN",chargebackAmount:"$3,900",percentage:"60.0%",asnCount:60,description:"ASN submitted after shipment delivery"},{defectReason:"ASN submitted - External ID mismatch",chargebackAmount:"$1,560",percentage:"24.0%",asnCount:24,description:"External ID in ASN does not match PO"},{defectReason:"No ASN",chargebackAmount:"$650",percentage:"10.0%",asnCount:9,description:"No ASN submitted for shipment"},{defectReason:"PO-ASIN missing from submitted ASN",chargebackAmount:"$260",percentage:"4.0%",asnCount:5,description:"Required PO-ASIN combinations missing from ASN"},{defectReason:"ASN drafted but not submitted",chargebackAmount:"$78",percentage:"1.2%",asnCount:1,description:"ASN created in system but not transmitted"},{defectReason:"ASN submitted - Gateway routing failure",chargebackAmount:"$39",percentage:"0.6%",asnCount:1,description:"ASN transmission failed due to gateway routing issues"},{defectReason:"ASN submitted - Transmission error",chargebackAmount:"$13",percentage:"0.2%",asnCount:0,description:"ASN transmission failed due to technical errors"}],we=[{id:"defectReason",header:"Defect reason",cell:e=>e.defectReason,width:250,sortingField:"defectReason"},{id:"chargebackAmount",header:"Chargeback amount",cell:e=>(0,Kre.jsx)("div",{style:{textAlign:"right"},children:e.chargebackAmount}),width:150,sortingField:"chargebackAmount"},{id:"percentage",header:"Percentage",cell:e=>(0,Kre.jsx)("div",{style:{textAlign:"right"},children:e.percentage}),width:100,sortingField:"percentage"},{id:"asnCount",header:"PO-ASIN-ASN count",cell:e=>(0,Kre.jsx)("div",{style:{textAlign:"right"},children:e.asnCount}),width:100,sortingField:"asnCount"},{id:"description",header:"Description",cell:e=>e.description,width:300,sortingField:"description"}],Ce=[{defectReason:"Late ASN",auburnBFI4:"$1,404 (26.0%)",auburnSEA8:"$468 (8.7%)",auburnBFI7:"$257 (4.8%)",harrisburgMDW2:"$390 (7.2%)",harrisburgPHL4:"$234 (4.3%)",phoenixPHX5:"$304 (5.6%)",phoenixPHX7:"$203 (3.8%)",totalChargeback:"$3,260 (60.4%)"},{defectReason:"ASN submitted - External ID mismatch",auburnBFI4:"$562 (10.4%)",auburnSEA8:"$187 (3.5%)",auburnBFI7:"$103 (1.9%)",harrisburgMDW2:"$156 (2.9%)",harrisburgPHL4:"$94 (1.7%)",phoenixPHX5:"$122 (2.3%)",phoenixPHX7:"$81 (1.5%)",totalChargeback:"$1,305 (24.2%)"},{defectReason:"No ASN",auburnBFI4:"$234 (4.3%)",auburnSEA8:"$78 (1.4%)",auburnBFI7:"$43 (0.8%)",harrisburgMDW2:"$65 (1.2%)",harrisburgPHL4:"$39 (0.7%)",phoenixPHX5:"$51 (0.9%)",phoenixPHX7:"$34 (0.6%)",totalChargeback:"$544 (10.1%)"},{defectReason:"PO-ASIN missing from submitted ASN",auburnBFI4:"$94 (1.7%)",auburnSEA8:"$31 (0.6%)",auburnBFI7:"$17 (0.3%)",harrisburgMDW2:"$26 (0.5%)",harrisburgPHL4:"$16 (0.3%)",phoenixPHX5:"$20 (0.4%)",phoenixPHX7:"$14 (0.3%)",totalChargeback:"$218 (4.0%)"},{defectReason:"ASN drafted but not submitted",auburnBFI4:"$28 (0.5%)",auburnSEA8:"$9 (0.2%)",auburnBFI7:"$5 (0.1%)",harrisburgMDW2:"$8 (0.1%)",harrisburgPHL4:"$5 (0.1%)",phoenixPHX5:"$6 (0.1%)",phoenixPHX7:"$4 (0.1%)",totalChargeback:"$65 (1.2%)"}],be=[{id:"defectReason",header:"Defect reason",cell:e=>e.defectReason,width:180,sortingField:"defectReason"},{id:"auburnBFI4",header:"Auburn-BFI4",cell:e=>(0,Kre.jsx)("div",{style:{textAlign:"right"},children:e.auburnBFI4}),width:120,sortingField:"auburnBFI4"},{id:"auburnSEA8",header:"Auburn-SEA8",cell:e=>(0,Kre.jsx)("div",{style:{textAlign:"right"},children:e.auburnSEA8}),width:120,sortingField:"auburnSEA8"},{id:"auburnBFI7",header:"Auburn-BFI7",cell:e=>(0,Kre.jsx)("div",{style:{textAlign:"right"},children:e.auburnBFI7}),width:120,sortingField:"auburnBFI7"},{id:"harrisburgMDW2",header:"Harrisburg-MDW2",cell:e=>(0,Kre.jsx)("div",{style:{textAlign:"right"},children:e.harrisburgMDW2}),width:140,sortingField:"harrisburgMDW2"},{id:"harrisburgPHL4",header:"Harrisburg-PHL4",cell:e=>(0,Kre.jsx)("div",{style:{textAlign:"right"},children:e.harrisburgPHL4}),width:140,sortingField:"harrisburgPHL4"},{id:"phoenixPHX5",header:"Phoenix-PHX5",cell:e=>(0,Kre.jsx)("div",{style:{textAlign:"right"},children:e.phoenixPHX5}),width:130,sortingField:"phoenixPHX5"},{id:"phoenixPHX7",header:"Phoenix-PHX7",cell:e=>(0,Kre.jsx)("div",{style:{textAlign:"right"},children:e.phoenixPHX7}),width:130,sortingField:"phoenixPHX7"},{id:"totalChargeback",header:"Total chargeback",cell:e=>(0,Kre.jsx)("div",{style:{textAlign:"right"},children:e.totalChargeback}),width:140,sortingField:"totalChargeback"}];return(0,Kre.jsx)(Ep,{navigationHide:!0,toolsHide:!u,toolsOpen:u,toolsWidth:500,onToolsChange:e=>{let{detail:t}=e;return c(t.open)},tools:u?(0,Kre.jsx)(Nue,{onClose:()=>c(!1),externalMessages:z}):null,content:(0,Kre.jsx)("div",{style:{maxWidth:"1000px",margin:"0 auto"},children:(0,Kre.jsxs)(Tp,{size:"l",children:[(0,Kre.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,Kre.jsx)(Mp,{items:[{text:"Supply Chain Connect",href:"#"},{text:"Analytics",href:"#"},{text:"ASN On Time Compliance",href:"#"}]}),(0,Kre.jsx)(wf,{selectedId:X,onChange:t=>{let{detail:n}=t;"P0"===n.selectedId?e("/p0"):Q(n.selectedId)},options:[{text:"P0",id:"P0"},{text:"P1",id:"P1"}]})]}),(0,Kre.jsx)(Tf,{variant:"h1",actions:(0,Kre.jsx)(Lf,{iconName:"contact",onClick:()=>c(!u),ariaLabel:"Toggle Vendor Central Chat",children:"Ask Vendor Central Chat"}),children:(0,Kre.jsxs)(Tp,{direction:"horizontal",size:"s",alignItems:"center",children:[(0,Kre.jsx)("span",{children:"ASN On Time Compliance"}),(0,Kre.jsx)(Lf,{variant:"inline-link",onClick:()=>{console.log("scrollToFAQ called"),console.log("faqRef.current:",J.current),J.current?(console.log("Scrolling to FAQ..."),J.current.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})):console.log("faqRef.current is null")},children:"View FAQs"})]})}),(0,Kre.jsx)(Vw,{activeTabId:n,onChange:e=>{let{detail:t}=e;return o(t.activeTabId)},tabs:[{id:"overview",label:"Overview",content:(0,Kre.jsxs)(Tp,{size:"l",children:[(0,Kre.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,Kre.jsx)(Ww,{selectedOption:r,onChange:e=>{let{detail:t}=e;return s(t.selectedOption)},options:[{label:"September 2025 snapshot",value:"september-2025"},{label:"August 2025 snapshot",value:"august-2025"},{label:"July 2025 snapshot",value:"july-2025"},{label:"June 2025 snapshot",value:"june-2025"},{label:"May 2025 snapshot",value:"may-2025"},{label:"April 2025 snapshot",value:"april-2025"},{label:"March 2025 snapshot",value:"march-2025"},{label:"February 2025 snapshot",value:"february-2025"},{label:"January 2025 snapshot",value:"january-2025"},{label:"December 2024 snapshot",value:"december-2024"},{label:"November 2024 snapshot",value:"november-2024"},{label:"October 2024 snapshot",value:"october-2024"}],placeholder:"Select snapshot"}),(0,Kre.jsx)(Lf,{children:"Export"})]}),(0,Kre.jsx)(eC,{children:(0,Kre.jsxs)(uC,{columns:4,variant:"text-grid",children:[(0,Kre.jsxs)("div",{children:[(0,Kre.jsx)(cC,{variant:"awsui-key-label",children:"ASN On Time Compliance Rate"}),(0,Kre.jsx)(cC,{variant:"h2",children:"93.1%"})]}),(0,Kre.jsxs)("div",{children:[(0,Kre.jsx)(cC,{variant:"awsui-key-label",children:"Performance target"}),(0,Kre.jsx)(cC,{variant:"h2",children:"98%"})]}),(0,Kre.jsxs)("div",{children:[(0,Kre.jsx)(cC,{variant:"awsui-key-label",children:"Gap to target"}),(0,Kre.jsx)(cC,{variant:"h2",color:"text-status-error",children:"4.9%"})]}),(0,Kre.jsxs)("div",{children:[(0,Kre.jsx)(cC,{variant:"awsui-key-label",children:"Total chargeback amount"}),(0,Kre.jsx)(cC,{variant:"h2",children:"$6,500"})]})]})}),(0,Kre.jsxs)(uC,{columns:2,children:[(0,Kre.jsx)(eC,{header:(0,Kre.jsx)(Tf,{variant:"h2",actions:(0,Kre.jsx)(Ww,{selectedOption:{label:"6m"===h?"Last 6 months":"24m"===h?"Last 24 months":"Last 12 months",value:h},onChange:e=>{let{detail:t}=e;return p(t.selectedOption.value)},options:[{label:"Last 6 months",value:"6m"},{label:"Last 12 months",value:"12m"},{label:"Last 24 months",value:"24m"}]}),children:"Performance Trend"}),fitHeight:!0,children:(0,Kre.jsx)(FF,{series:de,yDomain:[80,100],hideFilter:!0,hideLegend:!0,i18nStrings:{filterLabel:"Filter displayed data",filterPlaceholder:"Filter data",filterSelectedAriaLabel:"selected",legendAriaLabel:"Legend",chartAriaRoleDescription:"line chart",xTickFormatter:e=>new Date(e).toLocaleDateString("en-US",{month:"short",year:"24m"===h?"2-digit":void 0}),yTickFormatter:e=>"".concat(e,"%")},ariaLabel:"ASN On Time Compliance Rate performance trend over time",errorText:"Error loading data.",height:250,loadingText:"Loading chart",recoveryText:"Retry",xScaleType:"time",yTitle:"Compliance Rate (%)",empty:(0,Kre.jsxs)(cC,{textAlign:"center",color:"inherit",children:[(0,Kre.jsx)("b",{children:"No data available"}),(0,Kre.jsx)(cC,{variant:"p",color:"inherit",children:"There is no data available"})]})})}),(0,Kre.jsx)(eC,{header:(0,Kre.jsx)(Tf,{variant:"h2",actions:(0,Kre.jsx)(Ww,{selectedOption:{label:"chargeback"===g?"Chargeback Amount":"Number of ASN-PO-ASIN",value:g},onChange:e=>{let{detail:t}=e;return m(t.selectedOption.value)},options:[{label:"Chargeback Amount",value:"chargeback"},{label:"Number of ASN-PO-ASIN",value:"count"}]}),children:"Top defect reasons"}),fitHeight:!0,children:(0,Kre.jsx)(lk,{data:he,detailPopoverContent:e=>[{key:"Defect reason",value:e.title},{key:"chargeback"===g?"Amount":"Count",value:"chargeback"===g?"$".concat(e.value.toLocaleString()):e.value.toString()}],segmentDescription:(e,t)=>"".concat(e.value," out of ").concat(t," (").concat((e.value/t*100).toFixed(1),"%)"),i18nStrings:{filterLabel:"Filter displayed data",filterPlaceholder:"Filter data",filterSelectedAriaLabel:"selected",detailPopoverDismissAriaLabel:"Dismiss",legendAriaLabel:"Legend",chartAriaRoleDescription:"pie chart",segmentAriaRoleDescription:"segment"},ariaDescription:"Pie chart showing the breakdown of ASN defect reasons",errorText:"Error loading data.",loadingText:"Loading chart",recoveryText:"Retry",hideFilter:!0,hideLegend:!0,innerMetricDescription:"defects",innerMetricValue:"100%",variant:"pie",size:"medium",height:300,empty:(0,Kre.jsxs)(cC,{textAlign:"center",color:"inherit",children:[(0,Kre.jsx)("b",{children:"No data available"}),(0,Kre.jsx)(cC,{variant:"p",color:"inherit",children:"There is no data available"})]})})})]}),(0,Kre.jsx)(eC,{header:(0,Kre.jsx)(Tf,{variant:"h2",children:"Performance insights"}),children:(0,Kre.jsxs)(Tp,{size:"l",children:[(0,Kre.jsx)(cC,{variant:"small",color:"text-body-secondary",style:{marginTop:"0",paddingTop:"0"},children:"This content includes AI-generated output and is provided for guidance only. Vendor is responsible for verifying accuracy and ensuring compliance with all requirements."}),(0,Kre.jsx)(cC,{variant:"p",children:"Over the past 30 days, your ASN On Time Compliance rate has improved by 1.2 percentage points since last month\u2014great progress that shows your supply chain operations are moving in the right direction."}),(0,Kre.jsx)(cC,{variant:"p",children:"You're currently in the competitive tier (middle 50%), with performance at 93.1%. The strong tier cutoff is 97.8%. Closing this ~5 percentage point gap will move you into the strong tier and could reduce your monthly chargebacks by approximately $2,100."}),(0,Kre.jsxs)(cC,{variant:"p",children:[(0,Kre.jsx)("strong",{children:"How you compare"}),": Vendors with similar profiles typically achieve 94.8% compliance. The top performers in your category reach 98.2%, showing there's significant opportunity ahead."]}),(0,Kre.jsx)(cC,{variant:"h3",children:"Your improvement opportunities"}),(0,Kre.jsx)(cC,{variant:"p",children:"We've identified 3 focused areas where you can make meaningful progress:"}),(0,Kre.jsxs)("ol",{children:[(0,Kre.jsxs)("li",{children:[(0,Kre.jsx)(hk,{variant:"primary",onFollow:()=>{ee.current&&ee.current.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})},children:"Clean up external ID mapping"}),(0,Kre.jsx)("br",{}),(0,Kre.jsx)("span",{style:{marginLeft:"1.2em",display:"block",color:"#666",fontSize:"0.9em"},children:"Estimated impact: 180 bps lift, ~$680 monthly chargeback reduction"})]}),(0,Kre.jsxs)("li",{children:[(0,Kre.jsx)(hk,{variant:"primary",onFollow:()=>{te.current&&te.current.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})},children:"Optimize Auburn warehouse timing"}),(0,Kre.jsx)("br",{}),(0,Kre.jsx)("span",{style:{marginLeft:"1.2em",display:"block",color:"#666",fontSize:"0.9em"},children:"Estimated impact: 250 bps lift, ~$1,200 monthly chargeback reduction"})]}),(0,Kre.jsxs)("li",{children:[(0,Kre.jsx)(hk,{variant:"primary",onFollow:()=>{ne.current&&ne.current.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})},children:"Automate small order processing in Harrisburg"}),(0,Kre.jsx)("br",{}),(0,Kre.jsx)("span",{style:{marginLeft:"1.2em",display:"block",color:"#666",fontSize:"0.9em"},children:"Estimated impact: 70 bps lift, ~$220 monthly chargeback reduction"})]})]}),(0,Kre.jsxs)(cC,{variant:"p",children:[(0,Kre.jsx)("strong",{children:"Getting started"}),": We recommend starting with the external ID cleanup since it requires the least time investment and has the potential for quick impact. Once that's complete, you can focus on the Auburn timing optimization for the largest potential improvement."]}),(0,Kre.jsx)("hr",{style:{border:"none",borderTop:"1px solid #e9ebed",margin:"16px 0"}}),(0,Kre.jsx)("div",{ref:ee,children:(0,Kre.jsxs)(Tp,{size:"s",children:[(0,Kre.jsx)(Tf,{variant:"h2",children:"1. Clean up external ID mapping"}),(0,Kre.jsxs)(cC,{variant:"p",children:[(0,Kre.jsx)("strong",{children:"Estimated impact"}),": 180 bps lift, ~$680 monthly chargeback reduction"]}),(0,Kre.jsxs)(Tp,{size:"s",children:[(0,Kre.jsx)(Tf,{variant:"h3",children:"Analysis summary"}),(0,Kre.jsx)(cC,{variant:"p",children:"Analysis of your external ID mismatch defects shows that 80% (24 out of 30 total) are concentrated in just 2 specific items, indicating a systematic issue rather than random errors. Both ASINs B08XYZ123 and B09ABC456 have multiple vendor part numbers in your system, causing your ASN generation to pull incorrect external ID mappings."}),(0,Kre.jsxs)(cC,{children:[(0,Kre.jsx)("strong",{children:"Data patterns identified"}),":",(0,Kre.jsxs)("ul",{children:[(0,Kre.jsx)("li",{children:"ASIN B08XYZ123: 15 mismatches (50% of total external ID issues)"}),(0,Kre.jsx)("li",{children:"ASIN B09ABC456: 9 mismatches (30% of total external ID issues)"}),(0,Kre.jsx)("li",{children:"Pattern occurs across all warehouses, suggesting ERP system issue"}),(0,Kre.jsx)("li",{children:"Mismatches happen consistently during ASN generation, not data entry"})]})]}),(0,Kre.jsxs)(cC,{children:[(0,Kre.jsx)("strong",{children:"Root cause analysis"}),":",(0,Kre.jsxs)("ul",{children:[(0,Kre.jsx)("li",{children:"Both items have legacy external IDs still active in your system"}),(0,Kre.jsx)("li",{children:"ASN generation logic isn't prioritizing the primary external ID"}),(0,Kre.jsx)("li",{children:"Issue appears to be in your ERP system's item master data configuration"})]})]}),(0,Kre.jsxs)(cC,{children:[(0,Kre.jsx)("strong",{children:"What to do"}),":",(0,Kre.jsxs)("ul",{children:[(0,Kre.jsx)("li",{children:"Review and consolidate external IDs for these 2 ASINs"}),(0,Kre.jsx)("li",{children:"Ensure only one active external ID per ASIN in your system"}),(0,Kre.jsx)("li",{children:"Update your ASN generation logic to use the primary external ID"})]})]}),(0,Kre.jsxs)(cC,{children:[(0,Kre.jsx)("strong",{children:"What to monitor"}),":",(0,Kre.jsxs)("ul",{children:[(0,Kre.jsx)("li",{children:"External ID mismatch rate for these specific items"}),(0,Kre.jsx)("li",{children:"Overall external ID mismatch trend to confirm improvement"})]})]})]})]})}),(0,Kre.jsx)("hr",{style:{border:"none",borderTop:"1px solid #e9ebed",margin:"16px 0"}}),(0,Kre.jsx)("div",{ref:te,children:(0,Kre.jsxs)(Tp,{size:"s",children:[(0,Kre.jsx)(Tf,{variant:"h2",children:"2. Optimize Auburn warehouse timing"}),(0,Kre.jsxs)(cC,{variant:"p",children:[(0,Kre.jsx)("strong",{children:"Estimated impact"}),": 250 bps lift, ~$1,200 monthly chargeback reduction"]}),(0,Kre.jsxs)(Tp,{size:"s",children:[(0,Kre.jsx)(Tf,{variant:"h3",children:"Analysis summary"}),(0,Kre.jsx)(cC,{variant:"p",children:"We've identified a critical timing mismatch between your shipment pickup, delivery, and ASN submission pattern on routes originating from Auburn, WA. The Auburn-BFI4 route shows the most significant issues, with late ASN defects consistently occurring due to batch processing delays that cause ASNs to arrive after delivery."}),(0,Kre.jsxs)(cC,{children:[(0,Kre.jsx)("strong",{children:"Route performance breakdown"}),":",(0,Kre.jsxs)("ul",{children:[(0,Kre.jsx)("li",{children:"Auburn-BFI4: 21 late ASNs (60% of Auburn's total)"}),(0,Kre.jsx)("li",{children:"Auburn-SEA8: 7 late ASNs (20% of Auburn's total)"}),(0,Kre.jsx)("li",{children:"Auburn-BFI7: 4 late ASNs (11% of Auburn's total)"}),(0,Kre.jsx)("li",{children:"Distance to BFI4: 8.7 miles, typical drive time: 24 minutes"}),(0,Kre.jsx)("li",{children:"Actual pickup-to-receive time: 35 to 90 minutes (average = 45 minutes)"})]})]}),(0,Kre.jsxs)(cC,{children:[(0,Kre.jsx)("strong",{children:"Current process analysis"}),":",(0,Kre.jsxs)("ul",{children:[(0,Kre.jsx)("li",{children:"EDI 856 transmissions occur in batches every 60 minutes"}),(0,Kre.jsx)("li",{children:"80% of late ASNs are submitted 15 to 60 minutes after pickup"}),(0,Kre.jsx)("li",{children:"Result: ASNs arrive 5 to 25 minutes after delivery at BFI4 (average = 15 minutes)"}),(0,Kre.jsx)("li",{children:"Issue is most pronounced during peak shipping hours (1 PM to 4 PM)"})]})]}),(0,Kre.jsxs)(cC,{children:[(0,Kre.jsx)("strong",{children:"What to do"}),":",(0,Kre.jsxs)("ul",{children:[(0,Kre.jsx)("li",{children:"Consider switching from batch to real-time ASN transmission"}),(0,Kre.jsx)("li",{children:"Work with your IT team to evaluate real-time EDI 856 submissions"}),(0,Kre.jsx)("li",{children:"25% of vendors with similar shipment volumes have successfully made this change"})]})]}),(0,Kre.jsxs)(cC,{children:[(0,Kre.jsx)("strong",{children:"What to monitor"}),":",(0,Kre.jsxs)("ul",{children:[(0,Kre.jsx)("li",{children:"ASN submission timing for Auburn shipments"}),(0,Kre.jsx)("li",{children:"Overall late ASN rate from Auburn warehouse"})]})]})]})]})}),(0,Kre.jsx)("hr",{style:{border:"none",borderTop:"1px solid #e9ebed",margin:"16px 0"}}),(0,Kre.jsx)("div",{ref:ne,children:(0,Kre.jsxs)(Tp,{size:"s",children:[(0,Kre.jsx)(Tf,{variant:"h2",children:"3. Automate small order processing in Harrisburg"}),(0,Kre.jsxs)(cC,{variant:"p",children:[(0,Kre.jsx)("strong",{children:"Estimated impact"}),": 70 bps lift, ~$220 monthly chargeback reduction"]}),(0,Kre.jsxs)(Tp,{size:"s",children:[(0,Kre.jsx)(Tf,{variant:"h3",children:"Analysis summary"}),(0,Kre.jsx)(cC,{variant:"p",children:"While Harrisburg, PA represents only 20% of your total shipment volume, it accounts for a disproportionate 7% of all no ASN defects. Analysis reveals this is primarily an operational issue specific to end-of-week processing of small orders."}),(0,Kre.jsxs)(cC,{children:[(0,Kre.jsx)("strong",{children:"Harrisburg-specific patterns"}),":",(0,Kre.jsxs)("ul",{children:[(0,Kre.jsx)("li",{children:"60% of no ASN defects occur on Friday afternoons (2 PM to 6 PM)"}),(0,Kre.jsx)("li",{children:"Affected shipments are typically small volume orders (less than 10 units)"}),(0,Kre.jsx)("li",{children:"Issue correlates with end-of-week processing rush and staff handoffs"}),(0,Kre.jsx)("li",{children:"Average order size for no ASN defects: 6.2 units vs. 18.4 units overall"})]})]}),(0,Kre.jsxs)(cC,{children:[(0,Kre.jsx)("strong",{children:"Operational analysis"}),":",(0,Kre.jsxs)("ul",{children:[(0,Kre.jsx)("li",{children:"Manual ASN creation process gets overlooked during busy periods"}),(0,Kre.jsx)("li",{children:"Incomplete handoff procedures between day and evening processing teams"}),(0,Kre.jsx)("li",{children:"Small orders may be deprioritized when processing time is limited"}),(0,Kre.jsx)("li",{children:"No systematic check for pending ASN submissions before shift changes"})]})]}),(0,Kre.jsxs)(cC,{children:[(0,Kre.jsx)("strong",{children:"What to do"}),":",(0,Kre.jsxs)("ul",{children:[(0,Kre.jsx)("li",{children:"Consider implementing automated ASN generation for all shipments regardless of size"}),(0,Kre.jsx)("li",{children:"Create an end-of-day ASN completion checklist"}),(0,Kre.jsx)("li",{children:"Add processing handoff procedures that include ASN verification"})]})]}),(0,Kre.jsxs)(cC,{children:[(0,Kre.jsx)("strong",{children:"What to monitor"}),":",(0,Kre.jsxs)("ul",{children:[(0,Kre.jsx)("li",{children:"No ASN defect rate by day of week"}),(0,Kre.jsx)("li",{children:"Harrisburg-specific ASN submission completion rates"})]})]})]})]})}),(0,Kre.jsx)("hr",{style:{border:"none",borderTop:"1px solid #e9ebed",margin:"16px 0"}}),(0,Kre.jsx)($ue,{})]})}),(0,Kre.jsx)("div",{ref:J,children:(0,Kre.jsx)(eC,{header:(0,Kre.jsx)(Tf,{variant:"h2",children:"Frequently asked questions"}),children:(0,Kre.jsx)(Tp,{size:"m",children:[{question:"What is ASN On Time Compliance Rate?",answer:"[Metric definition goes here]"},{question:"Why does ASN On Time Compliance matter?",answer:"[Why it matter definition goes here]"},{question:"What is considered on time?",answer:"[On time definition goes here]"},{question:"How is ASN On Time Compliance Rate calculated?",answer:"[Calculation goes here]"},{question:"What do the defect reasons mean?",answer:"[Defect reason definitions goes here]"},{question:"How are benchmark tiers defined?",answer:"Vendors are benchmarked relative to peers:\nBest in Class (\u226590th percentile)\nStrong (\u226575th percentile)\nCompetitive (50th percentile)\nNeeds Improvement (\u226425th percentile)"}].map((e,t)=>(0,Kre.jsxs)(Tp,{size:"xs",children:[(0,Kre.jsxs)(cC,{variant:"strong",children:["Q: ",e.question]}),(0,Kre.jsxs)(cC,{variant:"p",style:{whiteSpace:"pre-line"},children:["A: ",e.answer]})]},t))})})})]})},{id:"deepdive",label:"Deep dive",content:(0,Kre.jsxs)(Tp,{size:"l",children:[(0,Kre.jsx)("div",{style:{maxWidth:"1000px",margin:"0 auto"},children:(0,Kre.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,Kre.jsx)(i_,{onChange:e=>{let{detail:t}=e;return l(t.value)},value:a,relativeOptions:[{key:"previous-30-days",amount:30,unit:"day",type:"relative"},{key:"previous-60-days",amount:60,unit:"day",type:"relative"},{key:"previous-90-days",amount:90,unit:"day",type:"relative"},{key:"previous-6-months",amount:6,unit:"month",type:"relative"},{key:"previous-12-months",amount:12,unit:"month",type:"relative"}],isValidRange:e=>{if("absolute"===e.type){const[t]=e.startDate.split("T"),[n]=e.endDate.split("T");if(!t||!n)return{valid:!1,errorMessage:"The selected date range is incomplete. Select a start and end date for the date range."};if(new Date(e.startDate)-new Date(e.endDate)>0)return{valid:!1,errorMessage:"The selected date range is invalid. The start date must be before the end date."}}return{valid:!0}},i18nStrings:{todayAriaLabel:"Today",nextMonthAriaLabel:"Next month",previousMonthAriaLabel:"Previous month",customRelativeRangeDurationLabel:"Duration",customRelativeRangeDurationPlaceholder:"Enter duration",customRelativeRangeOptionLabel:"Custom range",customRelativeRangeOptionDescription:"Set a custom range in the past",customRelativeRangeUnitLabel:"Unit of time",formatRelativeRange:e=>{const t=1===e.amount?e.unit:"".concat(e.unit,"s");return"Last ".concat(e.amount," ").concat(t)},formatUnit:(e,t)=>1===t?e:"".concat(e,"s"),dateTimeConstraintText:"Range is 6 to 30 days. For date, use YYYY/MM/DD. For time, use 24-hour format.",relativeModeTitle:"Relative range",absoluteModeTitle:"Absolute range",relativeRangeSelectionHeading:"Choose a range",startDateLabel:"Start date",endDateLabel:"End date",startTimeLabel:"Start time",endTimeLabel:"End time",clearButtonLabel:"Clear and dismiss",cancelButtonLabel:"Cancel",applyButtonLabel:"Apply"},placeholder:"Filter by a date and time range"}),(0,Kre.jsx)(Lf,{children:"Export"})]})}),(0,Kre.jsx)("div",{style:{margin:"0 -500px",padding:"0 500px",maxWidth:"none"},children:(0,Kre.jsx)("div",{style:{maxWidth:"1600px",margin:"0 auto"},children:(0,Kre.jsxs)(Tp,{size:"l",children:[(0,Kre.jsx)(Tf,{variant:"h2",children:"Defect instances"}),(0,Kre.jsx)("div",{style:{marginBottom:"8px"},children:(0,Kre.jsx)(r_,{type:"search",placeholder:"Search across all columns...",value:K,onChange:e=>{var t;let{detail:n}=e;q(n.value),null!==(t=$.current)&&void 0!==t&&t.api&&$.current.api.setGridOption("quickFilterText",n.value)}})}),(0,Kre.jsx)("div",{style:{height:650,width:"100%",maxWidth:"1600px"},children:(0,Kre.jsx)(YJ,{ref:$,theme:_oe,floatingFilter:!0,enableRangeSelection:!0,enableCharts:!0,rowGroupPanelShow:"always",groupDisplayType:"multipleColumns",animateRows:!0,suppressAggFuncInHeader:!0,sideBar:{toolPanels:[{id:"columns",labelDefault:"Columns",labelKey:"columns",iconKey:"columns",toolPanel:"agColumnsToolPanel",toolPanelParams:{suppressRowGroups:!1,suppressValues:!1,suppressPivots:!0,suppressPivotMode:!0,suppressColumnFilter:!1,suppressColumnSelectAll:!1,suppressColumnExpandAll:!1}},{id:"filters",labelDefault:"Filters",labelKey:"filters",iconKey:"filter",toolPanel:"agFiltersToolPanel"}],defaultToolPanel:null,hiddenByDefault:!0},onSideBarVisibleChanged:e=>{Z(e.visible)},columnDefs:[{headerName:"ASN",field:"asn",width:120,sortable:!0,filter:!0,pinned:"left"},{headerName:"ARN",field:"arn",width:120,sortable:!0,filter:!0},{headerName:"BOL",field:"bol",width:120,sortable:!0,filter:!0},{headerName:"PRO",field:"pro",width:120,sortable:!0,filter:!0},{headerName:"PO",field:"po",width:120,sortable:!0,filter:!0},{headerName:"ASIN",field:"asin",width:120,sortable:!0,filter:!0},{headerName:"External ID",field:"externalId",width:140,sortable:!0,filter:!0},{headerName:"Defect type",field:"defectType",width:140,sortable:!0,filter:!0},{headerName:"Origin warehouse",field:"originWarehouse",width:150,sortable:!0,filter:!0},{headerName:"Destination FC",field:"destinationFC",width:130,sortable:!0,filter:!0},{headerName:"Carrier",field:"carrier",width:120,sortable:!0,filter:!0},{headerName:"Ship date",field:"shipDate",width:120,sortable:!0,filter:"agDateColumnFilter"},{headerName:"Expected delivery",field:"expectedDelivery",width:140,sortable:!0,filter:"agDateColumnFilter"},{headerName:"Actual delivery",field:"actualDelivery",width:130,sortable:!0,filter:"agDateColumnFilter"},{headerName:"ASN submission time",field:"asnSubmissionTime",width:160,sortable:!0,filter:"agDateColumnFilter"},{headerName:"Receive time",field:"receiveTime",width:130,sortable:!0,filter:"agDateColumnFilter"},{headerName:"Time variance",field:"timeVariance",width:120,sortable:!0,filter:"agNumberColumnFilter",cellRenderer:e=>{const t=e.value;if(null===t||void 0===t)return"N/A";return'<span style="color: '.concat(t>0?"#d13212":t<0?"#037f0c":"#000000",'">').concat(t>0?"+":"").concat(t," min</span>")}},{headerName:"Pickup time",field:"pickupTime",width:130,sortable:!0,filter:"agDateColumnFilter"},{headerName:"Transit duration",field:"transitDuration",width:130,sortable:!0,filter:"agNumberColumnFilter",cellRenderer:e=>"".concat(e.value," min")},{headerName:"Chargeback amount",field:"chargebackAmount",width:140,sortable:!0,filter:"agNumberColumnFilter",cellRenderer:e=>"$".concat(e.value)},{headerName:"Unit count",field:"unitCount",width:120,sortable:!0,filter:"agNumberColumnFilter"}],rowData:[{asn:"ASN001234",arn:"18954037476",bol:"18954037809",pro:"PRO789123",po:"PO456789",asin:"B08XYZ123",externalId:"VPN-XYZ-001",defectType:"Late ASN",originWarehouse:"Auburn, WA",destinationFC:"BFI4",carrier:"UPS",shipDate:"2025-06-30",expectedDelivery:"2025-07-01",actualDelivery:"2025-07-01",asnSubmissionTime:"2025-06-30 14:00",receiveTime:"2025-07-01 13:45",timeVariance:15,pickupTime:"2025-06-30 13:02",transitDuration:43,chargebackAmount:250,unitCount:24},{asn:"ASN001235",arn:"18954037265",bol:"18954037380",pro:"PRO789124",po:"PO456790",asin:"B09ABC456",externalId:"VPN-ABC-456",defectType:"External ID mismatch",originWarehouse:"Harrisburg, PA",destinationFC:"MDT1",carrier:"FedEx",shipDate:"2025-06-27",expectedDelivery:"2025-06-28",actualDelivery:"2025-06-28",asnSubmissionTime:"2025-06-27 15:00",receiveTime:"2025-06-28 14:55",timeVariance:5,pickupTime:"2025-06-27 14:15",transitDuration:40,chargebackAmount:180,unitCount:12},{asn:"ASN001236",arn:"18954030415",bol:"18954033672",pro:"PRO789125",po:"PO456791",asin:"B07DEF789",externalId:"VPN-DEF-789",defectType:"Late ASN",originWarehouse:"Auburn, WA",destinationFC:"SEA8",carrier:"UPS",shipDate:"2025-06-26",expectedDelivery:"2025-06-27",actualDelivery:"2025-06-27",asnSubmissionTime:"2025-06-26 16:00",receiveTime:"2025-06-27 15:40",timeVariance:20,pickupTime:"2025-06-26 15:05",transitDuration:35,chargebackAmount:300,unitCount:36},{asn:"ASN001237",arn:"18954031745",bol:"18954038035",pro:"PRO789126",po:"PO456792",asin:"B06GHI012",externalId:"VPN-GHI-012",defectType:"No ASN",originWarehouse:"Harrisburg, PA",destinationFC:"PHL4",carrier:"FedEx",shipDate:"2025-06-25",expectedDelivery:"2025-06-26",actualDelivery:"2025-06-26",asnSubmissionTime:null,receiveTime:"2025-06-26 14:48",timeVariance:null,pickupTime:"2025-06-25 14:08",transitDuration:40,chargebackAmount:150,unitCount:8},{asn:"ASN001238",arn:"18954029847",bol:"18954032156",pro:"PRO789127",po:"PO456793",asin:"B08XYZ123",externalId:"VPN-XYZ-001-OLD",defectType:"External ID mismatch",originWarehouse:"Phoenix, AZ",destinationFC:"PHX3",carrier:"UPS",shipDate:"2025-06-24",expectedDelivery:"2025-06-25",actualDelivery:"2025-06-25",asnSubmissionTime:"2025-06-24 15:00",receiveTime:"2025-06-25 14:15",timeVariance:45,pickupTime:"2025-06-24 13:30",transitDuration:45,chargebackAmount:220,unitCount:18},{asn:"ASN001239",arn:"18954028934",bol:"18954031287",pro:"PRO789128",po:"PO456794",asin:"B05JKL345",externalId:"VPN-JKL-345",defectType:"Late ASN",originWarehouse:"Auburn, WA",destinationFC:"BFI7",carrier:"UPS",shipDate:"2025-06-23",expectedDelivery:"2025-06-24",actualDelivery:"2025-06-24",asnSubmissionTime:"2025-06-23 17:00",receiveTime:"2025-06-24 16:25",timeVariance:35,pickupTime:"2025-06-23 15:45",transitDuration:40,chargebackAmount:280,unitCount:30},{asn:"ASN001240",arn:"18954027821",bol:"18954030394",pro:"PRO789129",po:"PO456795",asin:"B09ABC456",externalId:"VPN-ABC-456-V2",defectType:"External ID mismatch",originWarehouse:"Harrisburg, PA",destinationFC:"BWI2",carrier:"FedEx",shipDate:"2025-06-22",expectedDelivery:"2025-06-23",actualDelivery:"2025-06-23",asnSubmissionTime:"2025-06-22 16:00",receiveTime:"2025-06-23 15:05",timeVariance:55,pickupTime:"2025-06-22 14:20",transitDuration:45,chargebackAmount:190,unitCount:15},{asn:"ASN001241",arn:"18954026708",bol:"18954029501",pro:"PRO789130",po:"PO456796",asin:"B04MNO678",externalId:"VPN-MNO-678",defectType:"Late ASN",originWarehouse:"Auburn, WA",destinationFC:"BFI4",carrier:"UPS",shipDate:"2025-06-21",expectedDelivery:"2025-06-22",actualDelivery:"2025-06-22",asnSubmissionTime:"2025-06-21 15:00",receiveTime:"2025-06-22 13:50",timeVariance:70,pickupTime:"2025-06-21 13:15",transitDuration:35,chargebackAmount:320,unitCount:42},{asn:"ASN001242",arn:"18954025615",bol:"18954028618",pro:"PRO789131",po:"PO456797",asin:"B03PQR901",externalId:"VPN-PQR-901",defectType:"No ASN",originWarehouse:"Phoenix, AZ",destinationFC:"PHX6",carrier:"FedEx",shipDate:"2025-06-20",expectedDelivery:"2025-06-21",actualDelivery:"2025-06-21",asnSubmissionTime:null,receiveTime:"2025-06-21 16:55",timeVariance:null,pickupTime:"2025-06-20 16:10",transitDuration:45,chargebackAmount:175,unitCount:6},{asn:"ASN001243",arn:"18954024502",bol:"18954027725",pro:"PRO789132",po:"PO456798",asin:"B08XYZ123",externalId:"SKU-XYZ-001",defectType:"External ID mismatch",originWarehouse:"Auburn, WA",destinationFC:"SEA8",carrier:"UPS",shipDate:"2025-06-19",expectedDelivery:"2025-06-20",actualDelivery:"2025-06-20",asnSubmissionTime:"2025-06-19 16:00",receiveTime:"2025-06-20 15:20",timeVariance:40,pickupTime:"2025-06-19 14:35",transitDuration:45,chargebackAmount:240,unitCount:20},{asn:"ASN001244",arn:"18954023389",bol:"18954026832",pro:"PRO789133",po:"PO456799",asin:"B02STU234",externalId:"VPN-STU-234",defectType:"Late ASN",originWarehouse:"Phoenix, AZ",destinationFC:"PHX3",carrier:"FedEx",shipDate:"2025-06-18",expectedDelivery:"2025-06-19",actualDelivery:"2025-06-19",asnSubmissionTime:"2025-06-18 17:00",receiveTime:"2025-06-19 16:30",timeVariance:30,pickupTime:"2025-06-18 15:50",transitDuration:40,chargebackAmount:200,unitCount:16},{asn:"ASN001245",arn:"18954022276",bol:"18954025949",pro:"PRO789134",po:"PO456800",asin:"B01VWX567",externalId:"VPN-VWX-567",defectType:"No ASN",originWarehouse:"Harrisburg, PA",destinationFC:"MDT1",carrier:"UPS",shipDate:"2025-06-17",expectedDelivery:"2025-06-18",actualDelivery:"2025-06-18",asnSubmissionTime:null,receiveTime:"2025-06-18 15:15",timeVariance:null,pickupTime:"2025-06-17 14:25",transitDuration:50,chargebackAmount:160,unitCount:5},{asn:"ASN001246",arn:"18954021163",bol:"18954025056",pro:"PRO789135",po:"PO456801",asin:"B09ABC456",externalId:"VPN-ABC-456-LEGACY",defectType:"External ID mismatch",originWarehouse:"Auburn, WA",destinationFC:"BFI4",carrier:"UPS",shipDate:"2025-06-16",expectedDelivery:"2025-06-17",actualDelivery:"2025-06-17",asnSubmissionTime:"2025-06-16 16:00",receiveTime:"2025-06-17 15:45",timeVariance:45,pickupTime:"2025-06-16 14:10",transitDuration:35,chargebackAmount:270,unitCount:22},{asn:"ASN001247",arn:"18954020050",bol:"18954024163",pro:"PRO789136",po:"PO456802",asin:"B00YZA890",externalId:"VPN-YZA-890",defectType:"Late ASN",originWarehouse:"Phoenix, AZ",destinationFC:"PHX6",carrier:"FedEx",shipDate:"2025-06-15",expectedDelivery:"2025-06-16",actualDelivery:"2025-06-16",asnSubmissionTime:"2025-06-15 18:00",receiveTime:"2025-06-16 17:10",timeVariance:70,pickupTime:"2025-06-15 16:20",transitDuration:50,chargebackAmount:310,unitCount:28},{asn:"ASN001248",arn:"18954018937",bol:"18954023270",pro:"PRO789137",po:"PO456803",asin:"B08XYZ123",externalId:"PROD-XYZ-123",defectType:"External ID mismatch",originWarehouse:"Harrisburg, PA",destinationFC:"BWI2",carrier:"FedEx",shipDate:"2025-06-14",expectedDelivery:"2025-06-15",actualDelivery:"2025-06-15",asnSubmissionTime:"2025-06-14 17:00",receiveTime:"2025-06-15 16:25",timeVariance:25,pickupTime:"2025-06-14 15:35",transitDuration:50,chargebackAmount:185,unitCount:14}],pagination:!0,paginationPageSize:100,defaultColDef:{resizable:!0,sortable:!0,filter:!0,floatingFilter:!0}})})]})})})]})},{id:"analytics",label:"Analytics workspace",content:(0,Kre.jsxs)(Tp,{size:"l",children:[(0,Kre.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,Kre.jsx)(i_,{onChange:e=>{let{detail:t}=e;return l(t.value)},value:a,relativeOptions:[{key:"previous-30-days",amount:30,unit:"day",type:"relative"},{key:"previous-60-days",amount:60,unit:"day",type:"relative"},{key:"previous-90-days",amount:90,unit:"day",type:"relative"},{key:"previous-6-months",amount:6,unit:"month",type:"relative"},{key:"previous-12-months",amount:12,unit:"month",type:"relative"}],isValidRange:e=>{if("absolute"===e.type){const[t]=e.startDate.split("T"),[n]=e.endDate.split("T");if(!t||!n)return{valid:!1,errorMessage:"The selected date range is incomplete. Select a start and end date for the date range."};if(new Date(e.startDate)-new Date(e.endDate)>0)return{valid:!1,errorMessage:"The selected date range is invalid. The start date must be before the end date."}}return{valid:!0}},i18nStrings:{todayAriaLabel:"Today",nextMonthAriaLabel:"Next month",previousMonthAriaLabel:"Previous month",customRelativeRangeDurationLabel:"Duration",customRelativeRangeDurationPlaceholder:"Enter duration",customRelativeRangeOptionLabel:"Custom range",customRelativeRangeOptionDescription:"Set a custom range in the past",customRelativeRangeUnitLabel:"Unit of time",formatRelativeRange:e=>{const t=1===e.amount?e.unit:"".concat(e.unit,"s");return"Last ".concat(e.amount," ").concat(t)},formatUnit:(e,t)=>1===t?e:"".concat(e,"s"),dateTimeConstraintText:"Range is 6 to 30 days. For date, use YYYY/MM/DD. For time, use 24-hour format.",relativeModeTitle:"Relative range",absoluteModeTitle:"Absolute range",relativeRangeSelectionHeading:"Choose a range",startDateLabel:"Start date",endDateLabel:"End date",startTimeLabel:"Start time",endTimeLabel:"End time",clearButtonLabel:"Clear and dismiss",cancelButtonLabel:"Cancel",applyButtonLabel:"Apply"},placeholder:"Filter by a date and time range"}),(0,Kre.jsx)(Lf,{children:"Export"})]}),(0,Kre.jsxs)("div",{style:{display:"flex",gap:"8px",alignItems:"flex-start"},children:[(0,Kre.jsxs)("div",{style:{position:"relative",flex:1},children:[(0,Kre.jsx)(r_,{value:A,onChange:e=>{let{detail:t}=e;return R(t.value)},onKeyDown:e=>{"Enter"!==e.key||P||ce()},placeholder:"Describe what data visualization you want to see on this page",disabled:P}),P&&(0,Kre.jsx)("div",{style:{position:"absolute",right:"12px",top:"50%",transform:"translateY(-50%)"},children:(0,Kre.jsx)(s_,{size:"normal"})})]}),(0,Kre.jsx)(Lf,{iconName:"send",variant:"primary",onClick:ce,disabled:P||!A.trim(),ariaLabel:"Submit data request"})]}),H.map(e=>(0,Kre.jsx)("div",{draggable:!0,onDragStart:t=>oe(t,"generated_".concat(e.id)),onDragOver:re,onDrop:t=>se(t,"generated_".concat(e.id)),onDragEnd:ae,style:{opacity:F==="generated_".concat(e.id)?.5:1,cursor:"move"},children:(0,Kre.jsx)(eC,{header:(0,Kre.jsx)(Tf,{variant:"h2",description:e.description,actions:(0,Kre.jsx)(Lf,{iconName:"remove",variant:"icon",onClick:()=>{j(t=>t.filter(t=>t.id!==e.id)),E(t=>t.filter(t=>t!=="generated_".concat(e.id)))},ariaLabel:"Delete ".concat(e.title," table")}),children:(0,Kre.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,Kre.jsx)(Lf,{iconName:"drag-indicator",variant:"icon",ariaLabel:"Drag to reorder table"}),e.title]})}),children:(0,Kre.jsx)(lI,{columnDefinitions:e.tableColumns,items:e.tableData,loadingText:"Loading ".concat(e.title.toLowerCase()," data"),sortingDisabled:!0,empty:(0,Kre.jsxs)(cC,{textAlign:"center",color:"inherit",children:[(0,Kre.jsx)("b",{children:"No data available"}),(0,Kre.jsx)(cC,{variant:"p",color:"inherit",children:"No data to display for this visualization."})]})})})},"generated_".concat(e.id))),D.map(e=>e.startsWith("generated_")?null:"deepDive"===e&&w?(0,Kre.jsx)("div",{draggable:!0,onDragStart:e=>oe(e,"deepDive"),onDragOver:re,onDrop:e=>se(e,"deepDive"),onDragEnd:ae,style:{opacity:"deepDive"===F?.5:1,cursor:"move"},children:(0,Kre.jsx)(eC,{header:(0,Kre.jsx)(Xue,{variant:"h2",title:W.deepDive.title,description:W.deepDive.description,onTitleChange:e=>le("deepDive",e),onDescriptionChange:e=>ue("deepDive",e),actions:(0,Kre.jsx)(Lf,{iconName:"remove",variant:"icon",onClick:()=>C(!1),ariaLabel:"Delete chargeback amount by defect reason table"})}),children:(0,Kre.jsx)(lI,{columnDefinitions:we,items:fe,loadingText:"Loading chargeback data",sortingDisabled:!0,empty:(0,Kre.jsxs)(cC,{textAlign:"center",color:"inherit",children:[(0,Kre.jsx)("b",{children:"No chargeback data available"}),(0,Kre.jsx)(cC,{variant:"p",color:"inherit",children:"No chargeback breakdown data to display."})]})})})},"deepDive"):"warehouse"===e&&b?(0,Kre.jsx)("div",{draggable:!0,onDragStart:e=>oe(e,"warehouse"),onDragOver:re,onDrop:e=>se(e,"warehouse"),onDragEnd:ae,style:{opacity:"warehouse"===F?.5:1,cursor:"move"},children:(0,Kre.jsx)(eC,{header:(0,Kre.jsx)(Xue,{variant:"h2",title:W.warehouse.title,description:W.warehouse.description,onTitleChange:e=>le("warehouse",e),onDescriptionChange:e=>ue("warehouse",e),actions:(0,Kre.jsx)(Lf,{iconName:"remove",variant:"icon",onClick:()=>y(!1),ariaLabel:"Delete defect reasons and chargebacks by warehouse table"})}),children:(0,Kre.jsx)(lI,{columnDefinitions:me,items:ge,loadingText:"Loading warehouse defect data",sortingDisabled:!0,empty:(0,Kre.jsxs)(cC,{textAlign:"center",color:"inherit",children:[(0,Kre.jsx)("b",{children:"No warehouse defect data available"}),(0,Kre.jsx)(cC,{variant:"p",color:"inherit",children:"No warehouse defect breakdown data to display."})]})})})},"warehouse"):"route"===e&&S?(0,Kre.jsx)("div",{draggable:!0,onDragStart:e=>oe(e,"route"),onDragOver:re,onDrop:e=>se(e,"route"),onDragEnd:ae,style:{opacity:"route"===F?.5:1,cursor:"move"},children:(0,Kre.jsx)(eC,{header:(0,Kre.jsx)(Xue,{variant:"h2",title:W.route.title,description:W.route.description,onTitleChange:e=>le("route",e),onDescriptionChange:e=>ue("route",e),actions:(0,Kre.jsx)(Lf,{iconName:"remove",variant:"icon",onClick:()=>x(!1),ariaLabel:"Delete defect reasons and chargeback amount by route table"})}),children:(0,Kre.jsx)(lI,{columnDefinitions:be,items:Ce,loadingText:"Loading route defect data",sortingDisabled:!0,empty:(0,Kre.jsxs)(cC,{textAlign:"center",color:"inherit",children:[(0,Kre.jsx)("b",{children:"No route defect data available"}),(0,Kre.jsx)(cC,{variant:"p",color:"inherit",children:"No route defect breakdown data to display."})]})})})},"route"):null)]})}]})]})}),topNavigation:(0,Kre.jsx)(LI,{identity:{href:"#",title:"vendor central"},utilities:[{type:"menu-dropdown",text:"US",iconName:"settings"},{type:"menu-dropdown",text:"Home Products",iconName:"user-profile"}]})})};bz.registerModules([_Q,Toe]);const Jue=()=>{const e=ve(),[t,n]=(0,i.useState)("overview"),[o,r]=(0,i.useState)({label:"September 2025 snapshot",value:"september-2025"}),[s,a]=(0,i.useState)({type:"relative",amount:30,unit:"day"}),[l,u]=(0,i.useState)(!1),[c,d]=(0,i.useState)("12m"),[h,p]=(0,i.useState)("chargeback"),[g,m]=(0,i.useState)("count"),[v,f]=(0,i.useState)(""),[w,C]=(0,i.useState)(!1),[b,y]=(0,i.useState)([]),[S,x]=(0,i.useState)("P0"),[D,E]=(0,i.useState)(""),[F,k]=(0,i.useState)(!1),A=(0,i.useRef)(null),R=(0,i.useRef)(null),P=(0,i.useRef)(null),T=(0,i.useRef)(null),_=(0,i.useRef)(null),M=[{title:"ASN On Time Compliance Rate",type:"line",data:(e=>{const t=[{x:new Date("2024-09-15"),y:89.2},{x:new Date("2024-10-15"),y:91.5},{x:new Date("2024-11-15"),y:88.7},{x:new Date("2024-12-15"),y:90.3},{x:new Date("2025-01-15"),y:92.1},{x:new Date("2025-02-15"),y:91.8},{x:new Date("2025-03-15"),y:93.4},{x:new Date("2025-04-15"),y:92.9},{x:new Date("2025-05-15"),y:94.2},{x:new Date("2025-06-15"),y:93.7},{x:new Date("2025-07-15"),y:93.1},{x:new Date("2025-08-15"),y:93.5},{x:new Date("2025-09-15"),y:93.1}],n=[{x:new Date("2025-03-15"),y:93.4},{x:new Date("2025-04-15"),y:92.9},{x:new Date("2025-05-15"),y:94.2},{x:new Date("2025-06-15"),y:93.7},{x:new Date("2025-07-15"),y:93.1},{x:new Date("2025-08-15"),y:93.5},{x:new Date("2025-09-15"),y:93.1}],i=[{x:new Date("2023-09-15"),y:85.1},{x:new Date("2023-10-15"),y:86.3},{x:new Date("2023-11-15"),y:84.9},{x:new Date("2023-12-15"),y:87.2},{x:new Date("2024-01-15"),y:88.5},{x:new Date("2024-02-15"),y:87.8},{x:new Date("2024-03-15"),y:89.1},{x:new Date("2024-04-15"),y:88.7},{x:new Date("2024-05-15"),y:90.2},{x:new Date("2024-06-15"),y:89.8},{x:new Date("2024-07-15"),y:91.3},{x:new Date("2024-08-15"),y:90.9},{x:new Date("2024-09-15"),y:89.2},{x:new Date("2024-10-15"),y:91.5},{x:new Date("2024-11-15"),y:88.7},{x:new Date("2024-12-15"),y:90.3},{x:new Date("2025-01-15"),y:92.1},{x:new Date("2025-02-15"),y:91.8},{x:new Date("2025-03-15"),y:93.4},{x:new Date("2025-04-15"),y:92.9},{x:new Date("2025-05-15"),y:94.2},{x:new Date("2025-06-15"),y:93.7},{x:new Date("2025-07-15"),y:93.1},{x:new Date("2025-08-15"),y:93.5},{x:new Date("2025-09-15"),y:93.1}];switch(e){case"6m":return n;case"24m":return i;default:return t}})(c),valueFormatter:e=>"".concat(e.toFixed(1),"%")},{title:"Performance target",type:"threshold",y:98}],I="chargeback"===h?[{title:"Late ASN",value:3900},{title:"External ID mismatch",value:1560},{title:"No ASN",value:650},{title:"Other",value:390}]:[{title:"Late ASN",value:60},{title:"External ID mismatch",value:24},{title:"No ASN",value:9},{title:"Other",value:7}];return(0,Kre.jsx)(Ep,{navigationHide:!0,toolsHide:!l,toolsOpen:l,toolsWidth:500,onToolsChange:e=>{let{detail:t}=e;return u(t.open)},tools:l?(0,Kre.jsx)(Nue,{onClose:()=>u(!1),externalMessages:b}):null,content:(0,Kre.jsx)("div",{children:(0,Kre.jsxs)(Tp,{size:"l",children:[(0,Kre.jsx)("div",{style:{maxWidth:"1000px",margin:"0 auto"},children:(0,Kre.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,Kre.jsx)(Mp,{items:[{text:"Supply Chain Connect",href:"#"},{text:"Analytics",href:"#"},{text:"ASN On Time Compliance",href:"#"}]}),(0,Kre.jsx)(wf,{selectedId:S,onChange:t=>{let{detail:n}=t;return"P1"===(i=n.selectedId)&&e("/?priority=P1"),void x(i);var i},options:[{text:"P0",id:"P0"},{text:"P1",id:"P1"}]})]})}),(0,Kre.jsx)("div",{style:{maxWidth:"1000px",margin:"0 auto"},children:(0,Kre.jsx)(Tf,{variant:"h1",actions:(0,Kre.jsx)(Lf,{iconName:"contact",onClick:()=>u(!l),ariaLabel:"Toggle Vendor Central Chat",children:"Ask Vendor Central Chat"}),children:(0,Kre.jsxs)(Tp,{direction:"horizontal",size:"s",alignItems:"center",children:[(0,Kre.jsx)("span",{children:"ASN On Time Compliance"}),(0,Kre.jsx)(Lf,{variant:"inline-link",onClick:()=>{R.current&&R.current.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})},children:"View FAQs"})]})})}),(0,Kre.jsx)("div",{style:{maxWidth:"1000px",margin:"0 auto"},children:(0,Kre.jsx)(Vw,{activeTabId:t,onChange:e=>{let{detail:t}=e;return n(t.activeTabId)},tabs:[{id:"overview",label:"Overview",content:(0,Kre.jsx)("div",{children:(0,Kre.jsxs)(Tp,{size:"l",children:[(0,Kre.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,Kre.jsx)(Ww,{selectedOption:o,onChange:e=>{let{detail:t}=e;return r(t.selectedOption)},options:[{label:"September 2025 snapshot",value:"september-2025"},{label:"August 2025 snapshot",value:"august-2025"},{label:"July 2025 snapshot",value:"july-2025"},{label:"June 2025 snapshot",value:"june-2025"},{label:"May 2025 snapshot",value:"may-2025"},{label:"April 2025 snapshot",value:"april-2025"},{label:"March 2025 snapshot",value:"march-2025"},{label:"February 2025 snapshot",value:"february-2025"},{label:"January 2025 snapshot",value:"january-2025"},{label:"December 2024 snapshot",value:"december-2024"},{label:"November 2024 snapshot",value:"november-2024"},{label:"October 2024 snapshot",value:"october-2024"}],placeholder:"Select snapshot"}),(0,Kre.jsx)(Lf,{children:"Export"})]}),(0,Kre.jsx)(eC,{children:(0,Kre.jsxs)(uC,{columns:4,variant:"text-grid",children:[(0,Kre.jsxs)("div",{children:[(0,Kre.jsx)(cC,{variant:"awsui-key-label",children:"ASN On Time Compliance Rate"}),(0,Kre.jsx)(cC,{variant:"h2",children:"93.1%"})]}),(0,Kre.jsxs)("div",{children:[(0,Kre.jsx)(cC,{variant:"awsui-key-label",children:"Performance target"}),(0,Kre.jsx)(cC,{variant:"h2",children:"98%"})]}),(0,Kre.jsxs)("div",{children:[(0,Kre.jsx)(cC,{variant:"awsui-key-label",children:"Gap to target"}),(0,Kre.jsx)(cC,{variant:"h2",color:"text-status-error",children:"4.9%"})]}),(0,Kre.jsxs)("div",{children:[(0,Kre.jsx)(cC,{variant:"awsui-key-label",children:"Total chargeback amount"}),(0,Kre.jsx)(cC,{variant:"h2",children:"$6,500"})]})]})}),(0,Kre.jsxs)(uC,{columns:2,children:[(0,Kre.jsx)(eC,{header:(0,Kre.jsx)(Tf,{variant:"h2",actions:(0,Kre.jsx)(Ww,{selectedOption:{label:"6m"===c?"Last 6 months":"24m"===c?"Last 24 months":"Last 12 months",value:c},onChange:e=>{let{detail:t}=e;return d(t.selectedOption.value)},options:[{label:"Last 6 months",value:"6m"},{label:"Last 12 months",value:"12m"},{label:"Last 24 months",value:"24m"}]}),children:"Performance Trend"}),fitHeight:!0,children:(0,Kre.jsx)(FF,{series:M,yDomain:[80,100],hideFilter:!0,hideLegend:!0,ariaLabel:"ASN On Time Compliance Rate performance trend over time",height:250,xScaleType:"time",yTitle:"Compliance Rate (%)"})}),(0,Kre.jsx)(eC,{header:(0,Kre.jsx)(Tf,{variant:"h2",actions:(0,Kre.jsx)(Ww,{selectedOption:{label:"chargeback"===h?"Chargeback Amount":"Number of ASN-PO-ASIN",value:h},onChange:e=>{let{detail:t}=e;return p(t.selectedOption.value)},options:[{label:"Chargeback Amount",value:"chargeback"},{label:"Number of ASN-PO-ASIN",value:"count"}]}),children:"Top defect reasons"}),fitHeight:!0,children:(0,Kre.jsx)(lk,{data:I,detailPopoverContent:e=>[{key:"Defect reason",value:e.title},{key:"chargeback"===h?"Amount":"Count",value:"chargeback"===h?"$".concat(e.value.toLocaleString()):e.value.toString()}],segmentDescription:(e,t)=>"".concat(e.value," out of ").concat(t," (").concat((e.value/t*100).toFixed(1),"%)"),i18nStrings:{filterLabel:"Filter displayed data",filterPlaceholder:"Filter data",filterSelectedAriaLabel:"selected",detailPopoverDismissAriaLabel:"Dismiss",legendAriaLabel:"Legend",chartAriaRoleDescription:"pie chart",segmentAriaRoleDescription:"segment"},ariaDescription:"Pie chart showing the breakdown of ASN defect reasons",errorText:"Error loading data.",loadingText:"Loading chart",recoveryText:"Retry",hideFilter:!0,hideLegend:!0,innerMetricDescription:"defects",innerMetricValue:"100%",variant:"pie",size:"medium",height:300,empty:(0,Kre.jsxs)(cC,{textAlign:"center",color:"inherit",children:[(0,Kre.jsx)("b",{children:"No data available"}),(0,Kre.jsx)(cC,{variant:"p",color:"inherit",children:"There is no data available"})]})})})]}),(0,Kre.jsx)(eC,{header:(0,Kre.jsx)(Tf,{variant:"h2",children:"Performance insights"}),children:(0,Kre.jsxs)(Tp,{size:"l",children:[(0,Kre.jsx)(cC,{variant:"small",color:"text-body-secondary",style:{marginTop:"0",paddingTop:"0"},children:"This content includes AI-generated output and is provided for guidance only. Vendor is responsible for verifying accuracy and ensuring compliance with all requirements."}),(0,Kre.jsx)(cC,{variant:"p",children:"Over the past 30 days, your ASN On Time Compliance rate has improved by 1.2 percentage points since last month\u2014great progress that shows your supply chain operations are moving in the right direction."}),(0,Kre.jsx)(cC,{variant:"p",children:"You're currently in the competitive tier (middle 50%), with performance at 93.1%. The strong tier cutoff is 97.8%. Closing this ~5 percentage point gap will move you into the strong tier and could reduce your monthly chargebacks by approximately $2,100."}),(0,Kre.jsxs)(cC,{variant:"p",children:[(0,Kre.jsx)("strong",{children:"How you compare"}),": Vendors with similar profiles typically achieve 94.8% compliance. The top performers in your category reach 98.2%, showing there's significant opportunity ahead."]}),(0,Kre.jsx)(cC,{variant:"h3",children:"Your improvement opportunities"}),(0,Kre.jsx)(cC,{variant:"p",children:"We've identified 3 focused areas where you can make meaningful progress:"}),(0,Kre.jsxs)("ol",{children:[(0,Kre.jsxs)("li",{children:[(0,Kre.jsx)(hk,{variant:"primary",onFollow:()=>{P.current&&P.current.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})},children:"Clean up external ID mapping"}),(0,Kre.jsx)("br",{}),(0,Kre.jsx)("span",{style:{marginLeft:"1.2em",display:"block",color:"#666",fontSize:"0.9em"},children:"Estimated impact: 180 bps lift, ~$680 monthly chargeback reduction"})]}),(0,Kre.jsxs)("li",{children:[(0,Kre.jsx)(hk,{variant:"primary",onFollow:()=>{T.current&&T.current.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})},children:"Optimize Auburn warehouse timing"}),(0,Kre.jsx)("br",{}),(0,Kre.jsx)("span",{style:{marginLeft:"1.2em",display:"block",color:"#666",fontSize:"0.9em"},children:"Estimated impact: 250 bps lift, ~$1,200 monthly chargeback reduction"})]}),(0,Kre.jsxs)("li",{children:[(0,Kre.jsx)(hk,{variant:"primary",onFollow:()=>{_.current&&_.current.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})},children:"Automate small order processing in Harrisburg"}),(0,Kre.jsx)("br",{}),(0,Kre.jsx)("span",{style:{marginLeft:"1.2em",display:"block",color:"#666",fontSize:"0.9em"},children:"Estimated impact: 70 bps lift, ~$220 monthly chargeback reduction"})]})]}),(0,Kre.jsxs)(cC,{variant:"p",children:[(0,Kre.jsx)("strong",{children:"Getting started"}),": We recommend starting with the external ID cleanup since it requires the least time investment and has the potential for quick impact. Once that's complete, you can focus on the Auburn timing optimization for the largest potential improvement."]}),(0,Kre.jsx)("hr",{style:{border:"none",borderTop:"1px solid #e9ebed",margin:"16px 0"}}),(0,Kre.jsx)("div",{ref:P,children:(0,Kre.jsxs)(Tp,{size:"s",children:[(0,Kre.jsx)(Tf,{variant:"h2",children:"1. Clean up external ID mapping"}),(0,Kre.jsxs)(cC,{variant:"p",children:[(0,Kre.jsx)("strong",{children:"Estimated impact"}),": 180 bps lift, ~$680 monthly chargeback reduction"]}),(0,Kre.jsxs)(Tp,{size:"s",children:[(0,Kre.jsx)(Tf,{variant:"h3",children:"Analysis summary"}),(0,Kre.jsx)(cC,{variant:"p",children:"Analysis of your external ID mismatch defects shows that 80% (24 out of 30 total) are concentrated in just 2 specific items, indicating a systematic issue rather than random errors. Both ASINs B08XYZ123 and B09ABC456 have multiple vendor part numbers in your system, causing your ASN generation to pull incorrect external ID mappings."}),(0,Kre.jsxs)(cC,{children:[(0,Kre.jsx)("strong",{children:"Data patterns identified"}),":",(0,Kre.jsxs)("ul",{children:[(0,Kre.jsx)("li",{children:"ASIN B08XYZ123: 15 mismatches (50% of total external ID issues)"}),(0,Kre.jsx)("li",{children:"ASIN B09ABC456: 9 mismatches (30% of total external ID issues)"}),(0,Kre.jsx)("li",{children:"Pattern occurs across all warehouses, suggesting ERP system issue"}),(0,Kre.jsx)("li",{children:"Mismatches happen consistently during ASN generation, not data entry"})]})]}),(0,Kre.jsxs)(cC,{children:[(0,Kre.jsx)("strong",{children:"Root cause analysis"}),":",(0,Kre.jsxs)("ul",{children:[(0,Kre.jsx)("li",{children:"Both items have legacy external IDs still active in your system"}),(0,Kre.jsx)("li",{children:"ASN generation logic isn't prioritizing the primary external ID"}),(0,Kre.jsx)("li",{children:"Issue appears to be in your ERP system's item master data configuration"})]})]}),(0,Kre.jsxs)(cC,{children:[(0,Kre.jsx)("strong",{children:"What to do"}),":",(0,Kre.jsxs)("ul",{children:[(0,Kre.jsx)("li",{children:"Review and consolidate external IDs for these 2 ASINs"}),(0,Kre.jsx)("li",{children:"Ensure only one active external ID per ASIN in your system"}),(0,Kre.jsx)("li",{children:"Update your ASN generation logic to use the primary external ID"})]})]}),(0,Kre.jsxs)(cC,{children:[(0,Kre.jsx)("strong",{children:"What to monitor"}),":",(0,Kre.jsxs)("ul",{children:[(0,Kre.jsx)("li",{children:"External ID mismatch rate for these specific items"}),(0,Kre.jsx)("li",{children:"Overall external ID mismatch trend to confirm improvement"})]})]})]})]})}),(0,Kre.jsx)("hr",{style:{border:"none",borderTop:"1px solid #e9ebed",margin:"16px 0"}}),(0,Kre.jsx)("div",{ref:T,children:(0,Kre.jsxs)(Tp,{size:"s",children:[(0,Kre.jsx)(Tf,{variant:"h2",children:"2. Optimize Auburn warehouse timing"}),(0,Kre.jsxs)(cC,{variant:"p",children:[(0,Kre.jsx)("strong",{children:"Estimated impact"}),": 250 bps lift, ~$1,200 monthly chargeback reduction"]}),(0,Kre.jsxs)(Tp,{size:"s",children:[(0,Kre.jsx)(Tf,{variant:"h3",children:"Analysis summary"}),(0,Kre.jsx)(cC,{variant:"p",children:"We've identified a critical timing mismatch between your shipment pickup, delivery, and ASN submission pattern on routes originating from Auburn, WA. The Auburn-BFI4 route shows the most significant issues, with late ASN defects consistently occurring due to batch processing delays that cause ASNs to arrive after delivery."}),(0,Kre.jsxs)(cC,{children:[(0,Kre.jsx)("strong",{children:"Route performance breakdown"}),":",(0,Kre.jsxs)("ul",{children:[(0,Kre.jsx)("li",{children:"Auburn-BFI4: 21 late ASNs (60% of Auburn's total)"}),(0,Kre.jsx)("li",{children:"Auburn-SEA8: 7 late ASNs (20% of Auburn's total)"}),(0,Kre.jsx)("li",{children:"Auburn-BFI7: 4 late ASNs (11% of Auburn's total)"}),(0,Kre.jsx)("li",{children:"Distance to BFI4: 8.7 miles, typical drive time: 24 minutes"}),(0,Kre.jsx)("li",{children:"Actual pickup-to-receive time: 35 to 90 minutes (average = 45 minutes)"})]})]}),(0,Kre.jsxs)(cC,{children:[(0,Kre.jsx)("strong",{children:"Current process analysis"}),":",(0,Kre.jsxs)("ul",{children:[(0,Kre.jsx)("li",{children:"EDI 856 transmissions occur in batches every 60 minutes"}),(0,Kre.jsx)("li",{children:"80% of late ASNs are submitted 15 to 60 minutes after pickup"}),(0,Kre.jsx)("li",{children:"Result: ASNs arrive 5 to 25 minutes after delivery at BFI4 (average = 15 minutes)"}),(0,Kre.jsx)("li",{children:"Issue is most pronounced during peak shipping hours (1 PM to 4 PM)"})]})]}),(0,Kre.jsxs)(cC,{children:[(0,Kre.jsx)("strong",{children:"What to do"}),":",(0,Kre.jsxs)("ul",{children:[(0,Kre.jsx)("li",{children:"Consider switching from batch to real-time ASN transmission"}),(0,Kre.jsx)("li",{children:"Work with your IT team to evaluate real-time EDI 856 submissions"}),(0,Kre.jsx)("li",{children:"25% of vendors with similar shipment volumes have successfully made this change"})]})]}),(0,Kre.jsxs)(cC,{children:[(0,Kre.jsx)("strong",{children:"What to monitor"}),":",(0,Kre.jsxs)("ul",{children:[(0,Kre.jsx)("li",{children:"ASN submission timing for Auburn shipments"}),(0,Kre.jsx)("li",{children:"Overall late ASN rate from Auburn warehouse"})]})]})]})]})}),(0,Kre.jsx)("hr",{style:{border:"none",borderTop:"1px solid #e9ebed",margin:"16px 0"}}),(0,Kre.jsx)("div",{ref:_,children:(0,Kre.jsxs)(Tp,{size:"s",children:[(0,Kre.jsx)(Tf,{variant:"h2",children:"3. Automate small order processing in Harrisburg"}),(0,Kre.jsxs)(cC,{variant:"p",children:[(0,Kre.jsx)("strong",{children:"Estimated impact"}),": 70 bps lift, ~$220 monthly chargeback reduction"]}),(0,Kre.jsxs)(Tp,{size:"s",children:[(0,Kre.jsx)(Tf,{variant:"h3",children:"Analysis summary"}),(0,Kre.jsx)(cC,{variant:"p",children:"While Harrisburg, PA represents only 20% of your total shipment volume, it accounts for a disproportionate 7% of all no ASN defects. Analysis reveals this is primarily an operational issue specific to end-of-week processing of small orders."}),(0,Kre.jsxs)(cC,{children:[(0,Kre.jsx)("strong",{children:"Harrisburg-specific patterns"}),":",(0,Kre.jsxs)("ul",{children:[(0,Kre.jsx)("li",{children:"60% of no ASN defects occur on Friday afternoons (2 PM to 6 PM)"}),(0,Kre.jsx)("li",{children:"Affected shipments are typically small volume orders (less than 10 units)"}),(0,Kre.jsx)("li",{children:"Issue correlates with end-of-week processing rush and staff handoffs"}),(0,Kre.jsx)("li",{children:"Average order size for no ASN defects: 6.2 units vs. 18.4 units overall"})]})]}),(0,Kre.jsxs)(cC,{children:[(0,Kre.jsx)("strong",{children:"Operational analysis"}),":",(0,Kre.jsxs)("ul",{children:[(0,Kre.jsx)("li",{children:"Manual ASN creation process gets overlooked during busy periods"}),(0,Kre.jsx)("li",{children:"Incomplete handoff procedures between day and evening processing teams"}),(0,Kre.jsx)("li",{children:"Small orders may be deprioritized when processing time is limited"}),(0,Kre.jsx)("li",{children:"No systematic check for pending ASN submissions before shift changes"})]})]}),(0,Kre.jsxs)(cC,{children:[(0,Kre.jsx)("strong",{children:"What to do"}),":",(0,Kre.jsxs)("ul",{children:[(0,Kre.jsx)("li",{children:"Consider implementing automated ASN generation for all shipments regardless of size"}),(0,Kre.jsx)("li",{children:"Create an end-of-day ASN completion checklist"}),(0,Kre.jsx)("li",{children:"Add processing handoff procedures that include ASN verification"})]})]}),(0,Kre.jsxs)(cC,{children:[(0,Kre.jsx)("strong",{children:"What to monitor"}),":",(0,Kre.jsxs)("ul",{children:[(0,Kre.jsx)("li",{children:"No ASN defect rate by day of week"}),(0,Kre.jsx)("li",{children:"Harrisburg-specific ASN submission completion rates"})]})]})]})]})}),(0,Kre.jsx)("hr",{style:{border:"none",borderTop:"1px solid #e9ebed",margin:"16px 0"}}),(0,Kre.jsx)($ue,{})]})}),(0,Kre.jsx)("div",{ref:R,children:(0,Kre.jsx)(eC,{header:(0,Kre.jsx)(Tf,{variant:"h2",children:"Frequently asked questions"}),children:(0,Kre.jsx)(Tp,{size:"m",children:[{question:"What is ASN On Time Compliance Rate?",answer:"[Metric definition goes here]"},{question:"Why does ASN On Time Compliance matter?",answer:"[Why it matter definition goes here]"},{question:"What is considered on time?",answer:"[On time definition goes here]"},{question:"How is ASN On Time Compliance Rate calculated?",answer:"[Calculation goes here]"},{question:"What do the defect reasons mean?",answer:"[Defect reason definitions goes here]"},{question:"How are benchmark tiers defined?",answer:"Vendors are benchmarked relative to peers:\nBest in Class (top 10%)\nStrong (top 25%)\nCompetitive (middle 50%)\nNeeds Improvement (bottom 25%)"}].map((e,t)=>(0,Kre.jsxs)(Tp,{size:"xs",children:[(0,Kre.jsxs)(cC,{variant:"strong",children:["Q: ",e.question]}),(0,Kre.jsxs)(cC,{variant:"p",style:{whiteSpace:"pre-line"},children:["A: ",e.answer]})]},t))})})})]})})},{id:"deepdive",label:"Deep dive",content:(0,Kre.jsx)("div",{children:(0,Kre.jsxs)(Tp,{size:"l",children:[(0,Kre.jsx)("div",{style:{maxWidth:"1000px",margin:"0 auto"},children:(0,Kre.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,Kre.jsx)(i_,{onChange:e=>{let{detail:t}=e;return a(t.value)},value:s,relativeOptions:[{key:"previous-30-days",amount:30,unit:"day",type:"relative"},{key:"previous-60-days",amount:60,unit:"day",type:"relative"},{key:"previous-90-days",amount:90,unit:"day",type:"relative"},{key:"previous-6-months",amount:6,unit:"month",type:"relative"},{key:"previous-12-months",amount:12,unit:"month",type:"relative"}],isValidRange:e=>{if("absolute"===e.type){const[t]=e.startDate.split("T"),[n]=e.endDate.split("T");if(!t||!n)return{valid:!1,errorMessage:"The selected date range is incomplete. Select a start and end date for the date range."};if(new Date(e.startDate)-new Date(e.endDate)>0)return{valid:!1,errorMessage:"The selected date range is invalid. The start date must be before the end date."}}return{valid:!0}},i18nStrings:{todayAriaLabel:"Today",nextMonthAriaLabel:"Next month",previousMonthAriaLabel:"Previous month",customRelativeRangeDurationLabel:"Duration",customRelativeRangeDurationPlaceholder:"Enter duration",customRelativeRangeOptionLabel:"Custom range",customRelativeRangeOptionDescription:"Set a custom range in the past",customRelativeRangeUnitLabel:"Unit of time",formatRelativeRange:e=>{const t=1===e.amount?e.unit:"".concat(e.unit,"s");return"Last ".concat(e.amount," ").concat(t)},formatUnit:(e,t)=>1===t?e:"".concat(e.unit,"s"),dateTimeConstraintText:"Range is 6 to 30 days. For date, use YYYY/MM/DD. For time, use 24-hour format.",relativeModeTitle:"Relative range",absoluteModeTitle:"Absolute range",relativeRangeSelectionHeading:"Choose a range",startDateLabel:"Start date",endDateLabel:"End date",startTimeLabel:"Start time",endTimeLabel:"End time",clearButtonLabel:"Clear and dismiss",cancelButtonLabel:"Cancel",applyButtonLabel:"Apply"},placeholder:"Filter by a date and time range"}),(0,Kre.jsx)(Lf,{children:"Export"})]})}),(0,Kre.jsx)("div",{style:{margin:"0 -500px",padding:"0 500px",maxWidth:"none"},children:(0,Kre.jsx)("div",{style:{maxWidth:"1600px",margin:"0 auto"},children:(0,Kre.jsxs)(Tp,{size:"l",children:[(0,Kre.jsx)(Tf,{variant:"h2",children:"Defect instances"}),(0,Kre.jsx)("div",{style:{marginBottom:"8px"},children:(0,Kre.jsx)(r_,{type:"search",placeholder:"Search across all columns...",value:D,onChange:e=>{var t;let{detail:n}=e;E(n.value),null!==(t=A.current)&&void 0!==t&&t.api&&A.current.api.setGridOption("quickFilterText",n.value)}})}),(0,Kre.jsx)("div",{style:{height:650,width:"100%",maxWidth:"1600px"},children:(0,Kre.jsx)(YJ,{ref:A,theme:_oe,floatingFilter:!0,enableRangeSelection:!0,enableCharts:!0,rowGroupPanelShow:"always",groupDisplayType:"multipleColumns",animateRows:!0,suppressAggFuncInHeader:!0,sideBar:{toolPanels:[{id:"columns",labelDefault:"Columns",labelKey:"columns",iconKey:"columns",toolPanel:"agColumnsToolPanel",toolPanelParams:{suppressRowGroups:!1,suppressValues:!1,suppressPivots:!0,suppressPivotMode:!0,suppressColumnFilter:!1,suppressColumnSelectAll:!1,suppressColumnExpandAll:!1}},{id:"filters",labelDefault:"Filters",labelKey:"filters",iconKey:"filter",toolPanel:"agFiltersToolPanel"}],defaultToolPanel:null,hiddenByDefault:!0},onSideBarVisibleChanged:e=>{k(e.visible)},columnDefs:[{headerName:"ASN",field:"asn",width:120,sortable:!0,filter:!0,pinned:"left"},{headerName:"ARN",field:"arn",width:120,sortable:!0,filter:!0},{headerName:"BOL",field:"bol",width:120,sortable:!0,filter:!0},{headerName:"PRO",field:"pro",width:120,sortable:!0,filter:!0},{headerName:"PO",field:"po",width:120,sortable:!0,filter:!0},{headerName:"ASIN",field:"asin",width:120,sortable:!0,filter:!0},{headerName:"External ID",field:"externalId",width:140,sortable:!0,filter:!0},{headerName:"Defect type",field:"defectType",width:140,sortable:!0,filter:!0},{headerName:"Origin warehouse",field:"originWarehouse",width:150,sortable:!0,filter:!0},{headerName:"Destination FC",field:"destinationFC",width:130,sortable:!0,filter:!0},{headerName:"Carrier",field:"carrier",width:120,sortable:!0,filter:!0},{headerName:"Ship date",field:"shipDate",width:120,sortable:!0,filter:"agDateColumnFilter"},{headerName:"Expected delivery",field:"expectedDelivery",width:140,sortable:!0,filter:"agDateColumnFilter"},{headerName:"Actual delivery",field:"actualDelivery",width:130,sortable:!0,filter:"agDateColumnFilter"},{headerName:"ASN submission time",field:"asnSubmissionTime",width:160,sortable:!0,filter:"agDateColumnFilter"},{headerName:"Receive time",field:"receiveTime",width:130,sortable:!0,filter:"agDateColumnFilter"},{headerName:"Time variance",field:"timeVariance",width:120,sortable:!0,filter:"agNumberColumnFilter",cellRenderer:e=>{const t=e.value;if(null===t||void 0===t)return"N/A";return'<span style="color: '.concat(t>0?"#d13212":t<0?"#037f0c":"#000000",'">').concat(t>0?"+":"").concat(t," min</span>")}},{headerName:"Pickup time",field:"pickupTime",width:130,sortable:!0,filter:"agDateColumnFilter"},{headerName:"Transit duration",field:"transitDuration",width:130,sortable:!0,filter:"agNumberColumnFilter",cellRenderer:e=>"".concat(e.value," min")},{headerName:"Chargeback amount",field:"chargebackAmount",width:140,sortable:!0,filter:"agNumberColumnFilter",cellRenderer:e=>"$".concat(e.value)},{headerName:"Unit count",field:"unitCount",width:120,sortable:!0,filter:"agNumberColumnFilter"}],rowData:[{asn:"ASN001234",arn:"18954037476",bol:"18954037809",pro:"PRO789123",po:"PO456789",asin:"B08XYZ123",externalId:"VPN-XYZ-001",defectType:"Late ASN",originWarehouse:"Auburn, WA",destinationFC:"BFI4",carrier:"UPS",shipDate:"2025-06-30",expectedDelivery:"2025-07-01",actualDelivery:"2025-07-01",asnSubmissionTime:"2025-06-30 14:00",receiveTime:"2025-07-01 13:45",timeVariance:15,pickupTime:"2025-06-30 13:02",transitDuration:43,chargebackAmount:250,unitCount:24},{asn:"ASN001235",arn:"18954037265",bol:"18954037380",pro:"PRO789124",po:"PO456790",asin:"B09ABC456",externalId:"VPN-ABC-456",defectType:"External ID mismatch",originWarehouse:"Harrisburg, PA",destinationFC:"MDT1",carrier:"FedEx",shipDate:"2025-06-27",expectedDelivery:"2025-06-28",actualDelivery:"2025-06-28",asnSubmissionTime:"2025-06-27 15:00",receiveTime:"2025-06-28 14:55",timeVariance:5,pickupTime:"2025-06-27 14:15",transitDuration:40,chargebackAmount:180,unitCount:12},{asn:"ASN001236",arn:"18954030415",bol:"18954033672",pro:"PRO789125",po:"PO456791",asin:"B07DEF789",externalId:"VPN-DEF-789",defectType:"Late ASN",originWarehouse:"Auburn, WA",destinationFC:"SEA8",carrier:"UPS",shipDate:"2025-06-26",expectedDelivery:"2025-06-27",actualDelivery:"2025-06-27",asnSubmissionTime:"2025-06-26 16:00",receiveTime:"2025-06-27 15:40",timeVariance:20,pickupTime:"2025-06-26 15:05",transitDuration:35,chargebackAmount:300,unitCount:36},{asn:"ASN001237",arn:"18954031745",bol:"18954038035",pro:"PRO789126",po:"PO456792",asin:"B06GHI012",externalId:"VPN-GHI-012",defectType:"No ASN",originWarehouse:"Harrisburg, PA",destinationFC:"PHL4",carrier:"FedEx",shipDate:"2025-06-25",expectedDelivery:"2025-06-26",actualDelivery:"2025-06-26",asnSubmissionTime:null,receiveTime:"2025-06-26 14:48",timeVariance:null,pickupTime:"2025-06-25 14:08",transitDuration:40,chargebackAmount:150,unitCount:8},{asn:"ASN001238",arn:"18954029847",bol:"18954032156",pro:"PRO789127",po:"PO456793",asin:"B08XYZ123",externalId:"VPN-XYZ-001-OLD",defectType:"External ID mismatch",originWarehouse:"Phoenix, AZ",destinationFC:"PHX3",carrier:"UPS",shipDate:"2025-06-24",expectedDelivery:"2025-06-25",actualDelivery:"2025-06-25",asnSubmissionTime:"2025-06-24 15:00",receiveTime:"2025-06-25 14:15",timeVariance:45,pickupTime:"2025-06-24 13:30",transitDuration:45,chargebackAmount:220,unitCount:18},{asn:"ASN001239",arn:"18954028934",bol:"18954031287",pro:"PRO789128",po:"PO456794",asin:"B05JKL345",externalId:"VPN-JKL-345",defectType:"Late ASN",originWarehouse:"Auburn, WA",destinationFC:"BFI7",carrier:"UPS",shipDate:"2025-06-23",expectedDelivery:"2025-06-24",actualDelivery:"2025-06-24",asnSubmissionTime:"2025-06-23 17:00",receiveTime:"2025-06-24 16:25",timeVariance:35,pickupTime:"2025-06-23 15:45",transitDuration:40,chargebackAmount:280,unitCount:30},{asn:"ASN001240",arn:"18954027821",bol:"18954030394",pro:"PRO789129",po:"PO456795",asin:"B09ABC456",externalId:"VPN-ABC-456-V2",defectType:"External ID mismatch",originWarehouse:"Harrisburg, PA",destinationFC:"BWI2",carrier:"FedEx",shipDate:"2025-06-22",expectedDelivery:"2025-06-23",actualDelivery:"2025-06-23",asnSubmissionTime:"2025-06-22 16:00",receiveTime:"2025-06-23 15:05",timeVariance:55,pickupTime:"2025-06-22 14:20",transitDuration:45,chargebackAmount:190,unitCount:15},{asn:"ASN001241",arn:"18954026708",bol:"18954029501",pro:"PRO789130",po:"PO456796",asin:"B04MNO678",externalId:"VPN-MNO-678",defectType:"Late ASN",originWarehouse:"Auburn, WA",destinationFC:"BFI4",carrier:"UPS",shipDate:"2025-06-21",expectedDelivery:"2025-06-22",actualDelivery:"2025-06-22",asnSubmissionTime:"2025-06-21 15:00",receiveTime:"2025-06-22 13:50",timeVariance:70,pickupTime:"2025-06-21 13:15",transitDuration:35,chargebackAmount:320,unitCount:42},{asn:"ASN001242",arn:"18954025615",bol:"18954028618",pro:"PRO789131",po:"PO456797",asin:"B03PQR901",externalId:"VPN-PQR-901",defectType:"No ASN",originWarehouse:"Phoenix, AZ",destinationFC:"PHX6",carrier:"FedEx",shipDate:"2025-06-20",expectedDelivery:"2025-06-21",actualDelivery:"2025-06-21",asnSubmissionTime:null,receiveTime:"2025-06-21 16:55",timeVariance:null,pickupTime:"2025-06-20 16:10",transitDuration:45,chargebackAmount:175,unitCount:6},{asn:"ASN001243",arn:"18954024502",bol:"18954027725",pro:"PRO789132",po:"PO456798",asin:"B08XYZ123",externalId:"SKU-XYZ-001",defectType:"External ID mismatch",originWarehouse:"Auburn, WA",destinationFC:"SEA8",carrier:"UPS",shipDate:"2025-06-19",expectedDelivery:"2025-06-20",actualDelivery:"2025-06-20",asnSubmissionTime:"2025-06-19 16:00",receiveTime:"2025-06-20 15:20",timeVariance:40,pickupTime:"2025-06-19 14:35",transitDuration:45,chargebackAmount:240,unitCount:20},{asn:"ASN001244",arn:"18954023389",bol:"18954026832",pro:"PRO789133",po:"PO456799",asin:"B02STU234",externalId:"VPN-STU-234",defectType:"Late ASN",originWarehouse:"Phoenix, AZ",destinationFC:"PHX3",carrier:"FedEx",shipDate:"2025-06-18",expectedDelivery:"2025-06-19",actualDelivery:"2025-06-19",asnSubmissionTime:"2025-06-18 17:00",receiveTime:"2025-06-19 16:30",timeVariance:30,pickupTime:"2025-06-18 15:50",transitDuration:40,chargebackAmount:200,unitCount:16},{asn:"ASN001245",arn:"18954022276",bol:"18954025949",pro:"PRO789134",po:"PO456800",asin:"B01VWX567",externalId:"VPN-VWX-567",defectType:"No ASN",originWarehouse:"Harrisburg, PA",destinationFC:"MDT1",carrier:"UPS",shipDate:"2025-06-17",expectedDelivery:"2025-06-18",actualDelivery:"2025-06-18",asnSubmissionTime:null,receiveTime:"2025-06-18 15:15",timeVariance:null,pickupTime:"2025-06-17 14:25",transitDuration:50,chargebackAmount:160,unitCount:5},{asn:"ASN001246",arn:"18954021163",bol:"18954025056",pro:"PRO789135",po:"PO456801",asin:"B09ABC456",externalId:"VPN-ABC-456-LEGACY",defectType:"External ID mismatch",originWarehouse:"Auburn, WA",destinationFC:"BFI4",carrier:"UPS",shipDate:"2025-06-16",expectedDelivery:"2025-06-17",actualDelivery:"2025-06-17",asnSubmissionTime:"2025-06-16 16:00",receiveTime:"2025-06-17 15:45",timeVariance:45,pickupTime:"2025-06-16 14:10",transitDuration:35,chargebackAmount:270,unitCount:22},{asn:"ASN001247",arn:"18954020050",bol:"18954024163",pro:"PRO789136",po:"PO456802",asin:"B00YZA890",externalId:"VPN-YZA-890",defectType:"Late ASN",originWarehouse:"Phoenix, AZ",destinationFC:"PHX6",carrier:"FedEx",shipDate:"2025-06-15",expectedDelivery:"2025-06-16",actualDelivery:"2025-06-16",asnSubmissionTime:"2025-06-15 18:00",receiveTime:"2025-06-16 17:10",timeVariance:70,pickupTime:"2025-06-15 16:20",transitDuration:50,chargebackAmount:310,unitCount:28},{asn:"ASN001248",arn:"18954018937",bol:"18954023270",pro:"PRO789137",po:"PO456803",asin:"B08XYZ123",externalId:"PROD-XYZ-123",defectType:"External ID mismatch",originWarehouse:"Harrisburg, PA",destinationFC:"BWI2",carrier:"FedEx",shipDate:"2025-06-14",expectedDelivery:"2025-06-15",actualDelivery:"2025-06-15",asnSubmissionTime:"2025-06-14 17:00",receiveTime:"2025-06-15 16:25",timeVariance:25,pickupTime:"2025-06-14 15:35",transitDuration:50,chargebackAmount:185,unitCount:14}],pagination:!0,paginationPageSize:100,defaultColDef:{resizable:!0,sortable:!0,filter:!0,floatingFilter:!0}})})]})})})]})})}]})})]})}),topNavigation:(0,Kre.jsx)(LI,{identity:{href:"#",title:"vendor central"},utilities:[{type:"menu-dropdown",text:"US",iconName:"settings"},{type:"menu-dropdown",text:"Home Products",iconName:"user-profile"}]})})};const ece=function(){return(0,Kre.jsx)("div",{className:"App",children:(0,Kre.jsx)(mt,{children:(0,Kre.jsxs)(Le,{children:[(0,Kre.jsx)(Me,{path:"/p0",element:(0,Kre.jsx)(Jue,{})}),(0,Kre.jsx)(Me,{path:"/",element:(0,Kre.jsx)(Que,{})})]})})})},tce=e=>{e&&e instanceof Function&&n.e(453).then(n.bind(n,453)).then(t=>{let{getCLS:n,getFID:i,getFCP:o,getLCP:r,getTTFB:s}=t;n(e),i(e),o(e),r(e),s(e)})};o.createRoot(document.getElementById("root")).render((0,Kre.jsx)(i.StrictMode,{children:(0,Kre.jsx)(ece,{})})),tce()})()})();
//# sourceMappingURL=main.3c72a91f.js.map